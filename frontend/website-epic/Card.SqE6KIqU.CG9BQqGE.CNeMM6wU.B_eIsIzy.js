import{B as e,n as s,j as a}from"./main.ClcAmrG8.js";import{t as n}from"./daniela-api.service.CZGrpgZ9.D1QXND-V.D1QXND-V.D1QXND-V.js";const r={messages:[],isConnected:!1,isTyping:!1,isSpeaking:!1,volume:0,error:null,config:{variant:"assistant",context:"website",voice:{enabled:!0,provider:"vapi",voiceId:"EXAVITQu4vr4xnSDxMaL",autoStart:!1},personality:{mode:"professional",language:"es",name:"Daniela"},features:{memory:!0,analytics:!0,multiUser:!1,realTime:!0}}};function t(e,s){switch(s.type){case"ADD_MESSAGE":return{...e,messages:[...e.messages,s.payload]};case"SET_TYPING":return{...e,isTyping:s.payload};case"SET_SPEAKING":return{...e,isSpeaking:s.payload.speaking,volume:s.payload.volume||e.volume};case"SET_CONNECTED":return{...e,isConnected:s.payload};case"SET_ERROR":return{...e,error:s.payload};case"CLEAR_MESSAGES":return{...e,messages:[]};case"UPDATE_CONFIG":return{...e,config:{...e.config,...s.payload}};default:return e}}const i=createContext(null),o=({children:e,config:a})=>{const[o,d]=useReducer(t,{...r,config:a?{...r.config,...a}:r.config}),c={state:o,sendMessage:async e=>{const s={id:`user-${Date.now()}`,text:e,sender:"user",timestamp:new Date};d({type:"ADD_MESSAGE",payload:s}),d({type:"SET_TYPING",payload:!0});try{const s=await n.chat(e,"website-user",`session-${Date.now()}`),a={id:`daniela-${Date.now()}`,text:s.response,sender:"daniela",timestamp:new Date,suggestions:["Saber m\xe1s sobre AIGestion","Ver casos de \xe9xito","Contactar con experto"],sentiment:s.sentiment||"neutral",confidence:s.confidence||1};d({type:"ADD_MESSAGE",payload:a})}catch(a){d({type:"SET_ERROR",payload:"Error al enviar mensaje"})}finally{d({type:"SET_TYPING",payload:!1})}},clearMessages:()=>{d({type:"CLEAR_MESSAGES"})},updateConfig:e=>{d({type:"UPDATE_CONFIG",payload:e})},setTyping:e=>{d({type:"SET_TYPING",payload:e})},setSpeaking:(e,s=0)=>{d({type:"SET_SPEAKING",payload:{speaking:e,volume:s}})}};return s.jsx(i.Provider,{value:c,children:e})},d=({config:e,className:a="",children:n})=>{const{state:r}=(()=>{const e=useContext(i);if(!e)throw new Error("useDaniela must be used within DanielaProvider");return e})();return s.jsx("div",{className:`daniela-core ${a}`,children:s.jsx("div",{className:"daniela-container",children:n||s.jsxs("div",{className:"daniela-default",children:[s.jsx("div",{className:"daniela-status",children:s.jsx("span",{className:"status-indicator "+(r.isConnected?"connected":"disconnected"),children:r.isConnected?"\ud83d\udfe2 En l\xednea":"\ud83d\udfe1 Modo demo"})}),s.jsxs("div",{className:"daniela-messages",children:[r.messages.map(e=>s.jsxs("div",{className:`message ${e.sender}`,children:[s.jsxs("strong",{children:["daniela"===e.sender?"\ud83e\udde0 Daniela":"\ud83d\udc64 T\xfa",":"]}),s.jsx("p",{children:e.text}),e.suggestions&&s.jsx("div",{className:"suggestions",children:e.suggestions.map((e,a)=>s.jsx("button",{className:"suggestion-btn",children:e},a))})]},e.id)),r.isTyping&&s.jsxs("div",{className:"message daniela typing",children:[s.jsx("strong",{children:"\ud83e\udde0 Daniela:"}),s.jsx("span",{className:"typing-indicator",children:"Escribiendo..."})]})]})]})})})},c=({config:e,className:a,children:n})=>s.jsx(o,{config:e,children:s.jsx(d,{config:e,className:a,children:n})});function l({className:e,variant:n="default",...r}){return s.jsx("div",{className:a("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}[n],e),...r})}const m=e.forwardRef(({className:e,...n},r)=>s.jsx("div",{ref:r,className:a("rounded-lg border bg-card text-card-foreground shadow-sm",e),...n}));m.displayName="Card";const p=e.forwardRef(({className:e,...n},r)=>s.jsx("div",{ref:r,className:a("flex flex-col space-y-1.5 p-6",e),...n}));p.displayName="CardHeader";const u=e.forwardRef(({className:e,...n},r)=>s.jsx("h3",{ref:r,className:a("text-2xl font-semibold leading-none tracking-tight",e),...n}));u.displayName="CardTitle",e.forwardRef(({className:e,...n},r)=>s.jsx("p",{ref:r,className:a("text-sm text-muted-foreground",e),...n})).displayName="CardDescription";const g=e.forwardRef(({className:e,...n},r)=>s.jsx("div",{ref:r,className:a("p-6 pt-0",e),...n}));g.displayName="CardContent",e.forwardRef(({className:e,...n},r)=>s.jsx("div",{ref:r,className:a("flex items-center p-6 pt-0",e),...n})).displayName="CardFooter";export{c,g,l,m,p,u};
