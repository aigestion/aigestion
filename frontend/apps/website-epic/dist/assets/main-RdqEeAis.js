const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CinematicPresentation-Dh_6Ns4L.js","assets/vendor-3d-BTgeB28l.js","assets/vendor-react-DzSuaLpV.js","assets/audio-service-xmLhGnqr.js","assets/vendor-motion-I6wcTx_q.js","assets/vendor-ui-B7S8ng-c.js","assets/DanielaShowcase-zXgn593g.js","assets/NexusAndroid-BpLD5ZbS.js","assets/useSound-Bw2tcQYX.js","assets/ServicesDeepDive-CSOaA_ne.js","assets/CaseStudies-BwYV6Mbr.js","assets/EnhancedROI-D2KHCv0G.js","assets/PricingSection-DFaXygEz.js","assets/IngeniousPlan-1PJ-Jh60.js","assets/VideoTutorials-B7jkJN0a.js","assets/MetaverseSection-CgyBQ8H7.js","assets/DecentralandOffice-DET_IOqG.js","assets/FAQSection-c3fLGfFH.js","assets/ContactSection-BjKJ7xt9.js","assets/GlitchText-B2uVSyOl.js","assets/vendor-data-BRBMd6Um.js","assets/AnimatedMeshGradient-Bvy1hm4H.js","assets/CommandTerminal-jqbi86e3.js","assets/CommandPalette-CRVpbtFn.js","assets/DanielaOmniWidget-CbTuHaZf.js","assets/useDanielaVoice-DGiZ24v-.js","assets/CyberpunkGrid-BGgXv3Q7.js","assets/NeuralParticles-By7u1U_y.js","assets/Dashboard-Af80kQGB.js","assets/Register-B2LsSEUI.js","assets/VerifyEmail-BusYHReA.js","assets/SelectRole-CITX64V4.js","assets/SelectPlan-CkdzCQ94.js","assets/WorkbenchLayout-BZYLsPOx.js","assets/WeaponDashboard-BeEI_kOV.js","assets/DanielaDemo-Dn2HLanf.js","assets/DanielaDemo-xtF6Yytv.css","assets/VirtualOfficePreview-B0OogYuw.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,s,a)=>((t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a)(t,"symbol"!=typeof s?s+"":s,a);import{j as s,_ as a,c as n}from"./vendor-3d-BTgeB28l.js";import{r,u as i,L as o,N as l,b as c,R as d,c as u,d as h,B as m}from"./vendor-react-DzSuaLpV.js";import{m as x,A as p,u as g,a as f,b,c as y}from"./vendor-motion-I6wcTx_q.js";import{L as v,C as j,X as w,M as N,R as _,a as E,T as k,b as S,I as L,c as A,E as C,d as T,e as P,t as I,f as O,g as D}from"./vendor-ui-B7S8ng-c.js";import{c as z,Q as R,a as V}from"./vendor-data-BRBMd6Um.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const M=r.createContext(void 0),H=({children:e})=>{const[t,a]=r.useState(()=>{const e=localStorage.getItem("nexus-audio-muted");return!!e&&JSON.parse(e)}),[n,i]=r.useState(()=>{const e=localStorage.getItem("nexus-audio-volume");return e?JSON.parse(e):.5});r.useEffect(()=>{localStorage.setItem("nexus-audio-muted",JSON.stringify(t))},[t]),r.useEffect(()=>{localStorage.setItem("nexus-audio-volume",JSON.stringify(n))},[n]);const o=r.useCallback(()=>a(e=>!e),[]),l=r.useCallback(e=>i(e),[]),c=r.useCallback(e=>{},[t]);return s.jsx(M.Provider,{value:{isMuted:t,volume:n,toggleMute:o,setGlobalVolume:l,playSfx:c},children:e})},B=()=>{const e=r.useContext(M);if(!e)throw new Error("useSoundContext must be used within a SoundProvider");return e},W=class{constructor(e){t(this,"src"),t(this,"preload"),t(this,"volume"),this.src=e.src,this.preload=e.preload,this.volume=e.volume}unload(){}play(){}},G=W,U="/sounds/hover_glass.mp3",q="/sounds/click_activate.mp3",J="/sounds/success_chime.mp3",X="/sounds/menu_open.mp3",Y="/sounds/data_pulse.mp3",$="/sounds/error_buzzer.mp3",F="/sounds/menu_open.mp3",Q=(e,t)=>{const s=r.useRef(null);r.useEffect(()=>{if("undefined"!=typeof window&&t.soundEnabled)try{s.current=new G({src:[e],preload:!0,volume:t.volume})}catch(a){s.current=new W({src:[e],preload:!0,volume:t.volume})}return()=>{if(s.current)try{s.current.unload()}catch(a){}}},[e,t.soundEnabled]),r.useEffect(()=>{if(s.current)try{"function"==typeof s.current.volume?s.current.volume(t.volume):s.current.volume=t.volume}catch(e){}},[t.volume]);return[r.useCallback(()=>{if(t.soundEnabled&&s.current)try{s.current.play()}catch(e){}},[t.soundEnabled])]},K=()=>{const{isMuted:e,volume:t}=B(),[s]=Q(U,{volume:.2*t,soundEnabled:!e}),[a]=Q(q,{volume:.4*t,soundEnabled:!e}),[n]=Q(J,{volume:.3*t,soundEnabled:!e}),[r]=Q(X,{volume:.15*t,soundEnabled:!e}),[i]=Q(Y,{volume:.25*t,soundEnabled:!e}),[o]=Q($,{volume:.4*t,soundEnabled:!e}),[l]=Q(F,{volume:.2*t,soundEnabled:!e});return{playHover:s,playClick:a,playSuccess:n,playWhoosh:r,playPop:i,playError:o,playToggle:l}},Z=({children:e,className:t=""})=>{const a=r.useRef(null),[n,i]=r.useState({x:0,y:0}),{x:o,y:l}=n;return s.jsx(x.div,{ref:a,onMouseMove:e=>{const{clientX:t,clientY:s}=e,{height:n,width:r,left:o,top:l}=a.current?.getBoundingClientRect()||{height:0,width:0,left:0,top:0};i({x:.5*(t-(o+r/2)),y:.5*(s-(l+n/2))})},onMouseLeave:()=>{i({x:0,y:0})},animate:{x:o,y:l},transition:{type:"spring",stiffness:150,damping:15,mass:.1},className:`magnetic-wrap ${t}`,children:e})},ee=()=>{const{isMuted:e,toggleMute:t,playSfx:a}=B();return s.jsx("button",{onClick:()=>{t(),e&&setTimeout(()=>a("success_chime"),100)},className:"p-2 text-white/50 hover:text-nexus-cyan transition-colors",title:e?"Unmute Sound":"Mute Sound",children:e?s.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"})]}):s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})})})},te=()=>{const{playHover:e,playClick:t}=K(),[a,n]=r.useState(!1),[l,c]=r.useState(!1),d=i();r.useEffect(()=>{const e=()=>{n(window.scrollY>20)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);const u=[{label:"Servicios",path:"#services",isHash:!0},{label:"Casos de \xc9xito",path:"#cases",isHash:!0},{label:"Precios",path:"#pricing",isHash:!0},{label:"Soluciones",path:"#plan",isHash:!0},{label:"Tutoriales",path:"#tutoriales",isHash:!0},{label:"Contacto",path:"#contact",isHash:!0},{label:"Panel de Control",path:"/dashboard"}],h=(e,s)=>{if(t(),c(!1),s){const t=document.querySelector(e);t?.scrollIntoView({behavior:"smooth"})}};return s.jsxs(x.nav,{initial:{y:-100},animate:{y:0},transition:{duration:.8,ease:[.16,1,.3,1]},className:"fixed top-0 w-full z-50 transition-all duration-500 "+(a?"bg-nexus-obsidian-deep/95 backdrop-blur-xl border-b border-white/10 py-3":"bg-transparent py-6"),children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex justify-between items-center",children:[s.jsxs(o,{to:"/",onClick:()=>h("/"),onMouseEnter:e,className:"group flex items-center gap-0 relative",children:[s.jsxs("div",{className:"relative z-10 w-10 h-10 mr-3 transition-transform duration-500 group-hover:scale-105",children:[s.jsx("div",{className:"absolute inset-0 bg-nexus-cyan/20 blur-lg rounded-full opacity-50 group-hover:opacity-100 transition-opacity"}),s.jsx("img",{src:"/images/brand/logo.png",alt:"Logo",className:"w-full h-full object-contain filter brightness-110"})]}),s.jsxs("div",{className:"flex flex-col justify-center h-10",children:[s.jsxs("h1",{className:"font-orbitron font-bold text-xl tracking-[0.2em] leading-none text-white transition-all duration-300",children:["AIGESTION",s.jsx("span",{className:"text-nexus-cyan-glow",children:".NET"})]}),s.jsx("span",{className:"text-[9px] font-mono text-nexus-silver/40 tracking-[0.4em] uppercase mt-1",children:"Arquitectura de Inteligencia Soberana"})]})]}),s.jsx("div",{className:"hidden lg:flex items-center gap-8",children:u.map(t=>s.jsxs(o,{to:t.path,onClick:e=>{t.isHash?(e.preventDefault(),h(t.path,!0)):h(t.path)},onMouseEnter:e,className:"relative font-orbitron text-[11px] tracking-[0.2em] uppercase transition-all duration-300 hover:text-white "+(d.pathname===t.path?"text-nexus-cyan-glow":"text-nexus-silver/60"),children:[t.label,s.jsx("span",{className:"absolute -bottom-1 left-0 h-[1px] bg-nexus-cyan-glow transition-all duration-300 "+(d.pathname===t.path?"w-full":"w-0 group-hover:w-full")})]},t.label))}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx(ee,{}),s.jsx(Z,{strength:10,children:s.jsxs(o,{to:"/login",onMouseEnter:()=>{e()},onClick:t,className:"hidden sm:flex group relative items-center gap-3 px-6 py-2.5 overflow-hidden rounded-sm bg-white/5 border border-white/10 hover:border-nexus-cyan/50 transition-all duration-500 shadow-lg shadow-nexus-cyan/5",children:[s.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-nexus-cyan/10 to-nexus-violet/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),s.jsx(v,{size:14,className:"text-nexus-cyan-glow group-hover:text-white transition-colors"}),s.jsx("span",{className:"relative font-orbitron font-medium text-[10px] tracking-[0.2em] uppercase text-white",children:"Acceso Clientes"}),s.jsx(j,{size:14,className:"text-nexus-silver/40 group-hover:text-white group-hover:translate-x-1 transition-all"})]})}),s.jsx("button",{className:"lg:hidden p-2 text-white hover:text-nexus-cyan-glow transition-colors",onClick:()=>c(!l),children:l?s.jsx(w,{size:20}):s.jsx(N,{size:20})})]})]}),s.jsx(p,{children:l&&s.jsx(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"lg:hidden absolute top-full w-full bg-nexus-obsidian-deep/98 backdrop-blur-2xl border-b border-white/10 overflow-hidden",children:s.jsxs("div",{className:"flex flex-col p-8 gap-1",children:[u.map((e,t)=>s.jsx(x.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.05*t},children:s.jsxs(o,{to:e.path,onClick:t=>{e.isHash?(t.preventDefault(),h(e.path,!0)):h(e.path)},className:"flex items-center justify-between py-4 border-b border-white/5 group",children:[s.jsx("span",{className:"font-orbitron font-medium text-[11px] tracking-[0.3em] uppercase text-nexus-silver/60 group-hover:text-white transition-colors",children:e.label}),s.jsx(j,{size:14,className:"text-nexus-cyan/30 group-hover:text-nexus-cyan transition-all"})]})},e.label)),s.jsx(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-8",children:s.jsxs(o,{to:"/login",onClick:()=>h("/login"),className:"w-full py-4 bg-white/5 border border-white/10 flex items-center justify-center gap-3 group hover:bg-white/10 transition-all",children:[s.jsx("span",{className:"font-orbitron font-bold text-[10px] tracking-[0.3em] uppercase text-white",children:"Acceso al Hub"}),s.jsx(_,{className:"w-4 h-4 text-nexus-cyan-glow"})]})})]})})})]})},se=()=>{const{scrollYProgress:e}=g(),t=f(e,{stiffness:100,damping:30,restDelta:.001});return s.jsx(x.div,{className:"fixed top-0 left-0 right-0 h-[2px] bg-gradient-to-r from-nexus-violet via-nexus-cyan to-nexus-violet origin-left z-[100]",style:{scaleX:t}})},ae=()=>{const e=b(-100),t=b(-100),[a,n]=r.useState(!1),[i,o]=r.useState(1),l={damping:25,stiffness:250},c=f(e,l),d=f(t,l);return r.useEffect(()=>{const s=s=>{e.set(s.clientX),t.set(s.clientY)},a=()=>o(.8),r=()=>o(1),i=e=>{const t=e.target;"A"===t.tagName||"BUTTON"===t.tagName||t.closest("button")||t.closest("a")||"button"===t.getAttribute("role")?n(!0):n(!1)};return window.addEventListener("mousemove",s),window.addEventListener("mousedown",a),window.addEventListener("mouseup",r),window.addEventListener("mouseover",i),()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mousedown",a),window.removeEventListener("mouseup",r),window.removeEventListener("mouseover",i)}},[e,t]),s.jsxs(s.Fragment,{children:[s.jsx(x.div,{className:"fixed top-0 left-0 w-3 h-3 bg-nexus-cyan rounded-full pointer-events-none z-9999 mix-blend-difference",style:{x:c,y:d,translateX:"-50%",translateY:"-50%",scale:a?2.5:i}}),s.jsx(x.div,{className:"fixed top-0 left-0 w-8 h-8 border border-nexus-cyan/30 rounded-full pointer-events-none z-9999",style:{x:c,y:d,translateX:"-50%",translateY:"-50%",scale:a?1.5:1,opacity:a?0:.5}}),s.jsx(x.div,{className:"fixed top-0 left-0 w-32 h-32 bg-nexus-cyan/5 blur-3xl rounded-full pointer-events-none z-9998",style:{x:c,y:d,translateX:"-50%",translateY:"-50%"}})]})},ne=()=>{const e=b(0),t=b(0);r.useEffect(()=>{const s=s=>{e.set(s.clientX),t.set(s.clientY)};return window.addEventListener("mousemove",s),()=>window.removeEventListener("mousemove",s)},[e,t]);const a=y`radial-gradient(
    800px circle at ${e}px ${t}px,
    rgba(0, 245, 255, 0.08) 0%,
    rgba(138, 43, 226, 0.05) 30%,
    transparent 70%
  )`;return s.jsxs(x.div,{onMouseMove:s=>{const{clientX:a,clientY:n}=s;e.set(a),t.set(n)},style:{backgroundImage:a},className:"fixed inset-0 z-0 transition-opacity duration-300 pointer-events-none",children:[s.jsx("div",{className:"absolute inset-0 bg-linear-to-b from-nexus-violet/5 via-transparent to-black"}),s.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-black via-transparent to-black"}),s.jsx(x.div,{animate:{x:[0,50,0],y:[0,30,0]},transition:{duration:8,repeat:1/0,repeatType:"mirror"},className:"absolute top-20 -left-40 w-80 h-80 bg-linear-to-r from-nexus-violet/20 to-transparent rounded-full blur-3xl"}),s.jsx(x.div,{animate:{x:[0,-50,0],y:[0,-30,0]},transition:{duration:8,repeat:1/0,repeatType:"mirror",delay:1},className:"absolute bottom-20 -right-40 w-80 h-80 bg-linear-to-l from-black/40 to-transparent rounded-full blur-3xl"})]})},re=({title:e,message:t,type:a="info",onClose:n})=>{const r={info:s.jsx(L,{className:"text-nexus-cyan",size:20}),success:s.jsx(S,{className:"text-green-400",size:20}),warning:s.jsx(k,{className:"text-yellow-400",size:20}),error:s.jsx(E,{className:"text-red-400",size:20})};return s.jsxs(x.div,{initial:{opacity:0,x:100,scale:.9},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:50,scale:.95,filter:"blur(10px)"},className:`pointer-events-auto min-w-[320px] max-w-md premium-glass p-1 border ${{info:"border-nexus-cyan/30",success:"border-green-500/30",warning:"border-yellow-500/30",error:"border-red-500/30"}[a]} rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.5)] overflow-hidden group`,children:[s.jsxs("div",{className:"relative p-4 flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:r[a]}),s.jsxs("div",{className:"flex-grow",children:[s.jsx("h4",{className:"font-orbitron text-xs font-bold text-white tracking-widest uppercase mb-1 drop-shadow-glow",children:e}),s.jsx("p",{className:"text-nexus-silver/70 text-sm leading-relaxed",children:t})]}),s.jsx("button",{onClick:n,className:"flex-shrink-0 text-white/20 hover:text-white transition-colors",children:s.jsx(w,{size:16})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/5 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000 ease-in-out pointer-events-none"})]}),s.jsx(x.div,{initial:{width:"100%"},animate:{width:"0%"},transition:{duration:5,ease:"linear"},className:"h-[2px] bg-gradient-to-r "+("info"===a?"from-nexus-cyan to-nexus-violet":"from-current to-transparent opacity-50")})]})},ie=r.createContext(void 0),oe=({children:e})=>{const[t,a]=r.useState([]),{playPop:n}=K(),i=r.useCallback((e,t,s="info")=>{const r=Math.random().toString(36).substr(2,9);n(),a(a=>[...a,{id:r,title:e,message:t,type:s}]),setTimeout(()=>{a(e=>e.filter(e=>e.id!==r))},5e3)},[n]);return s.jsxs(ie.Provider,{value:{notify:i},children:[e,s.jsx("div",{className:"fixed bottom-8 right-8 z-[9999] flex flex-col gap-4 pointer-events-none",children:s.jsx(p,{children:t.map(e=>s.jsx(re,{title:e.title,message:e.message,type:e.type,onClose:()=>a(t=>t.filter(t=>t.id!==e.id))},e.id))})})]})},le=({onLogin:e,loading:t,error:a})=>{const[n,i]=r.useState({email:"",password:""}),[o,l]=r.useState(!1),[c,d]=r.useState({}),u=e=>{const{name:t,value:s}=e.target;i(e=>({...e,[t]:s})),c[t]&&d(e=>({...e,[t]:void 0}))};return s.jsx("div",{className:"min-h-screen bg-nexus-obsidian flex items-center justify-center px-4",children:s.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(x.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.5,delay:.2},className:"w-20 h-20 mx-auto mb-6 rounded-full bg-linear-to-br from-nexus-cyan to-nexus-violet flex items-center justify-center",children:s.jsx("span",{className:"text-2xl font-bold text-white",children:"DA"})}),s.jsx("h1",{className:"text-3xl font-orbitron font-black text-white mb-2",children:"Bienvenido a Daniela"}),s.jsx("p",{className:"text-nexus-silver/60 text-sm",children:"Tu asistente de IA emocional est\xe1 lista para ayudarte"})]}),s.jsx("div",{className:"p-8 bg-nexus-obsidian/40 backdrop-blur-xl border border-white/10 rounded-lg",children:s.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const e={};return n.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(e.email="Email inv\xe1lido"):e.email="El email es requerido",n.password?n.password.length<6&&(e.password="La contrase\xf1a debe tener al menos 6 caracteres"):e.password="La contrase\xf1a es requerida",d(e),0===Object.keys(e).length})())try{await e(n.email,n.password)}catch(s){}},className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-orbitron text-nexus-cyan",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(A,{className:"absolute left-3 top-3 h-5 w-5 text-nexus-silver/40"}),s.jsx("input",{type:"email",name:"email",value:n.email,onChange:u,placeholder:"tu@email.com",disabled:t,className:"w-full pl-10 pr-4 py-2 bg-nexus-obsidian/60 border border-white/10 rounded-lg text-white placeholder-nexus-silver/40 focus:outline-none focus:border-nexus-cyan disabled:opacity-50"})]}),c.email&&s.jsx("p",{className:"text-red-400 text-sm",children:c.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-orbitron text-nexus-cyan",children:"Contrase\xf1a"}),s.jsxs("div",{className:"relative",children:[s.jsx(v,{className:"absolute left-3 top-3 h-5 w-5 text-nexus-silver/40"}),s.jsx("input",{type:o?"text":"password",name:"password",value:n.password,onChange:u,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",disabled:t,className:"w-full pl-10 pr-10 py-2 bg-nexus-obsidian/60 border border-white/10 rounded-lg text-white placeholder-nexus-silver/40 focus:outline-none focus:border-nexus-cyan disabled:opacity-50"}),s.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-3 text-nexus-silver/40 hover:text-nexus-silver/60 disabled:opacity-50",disabled:t,children:o?s.jsx(C,{className:"h-5 w-5"}):s.jsx(T,{className:"h-5 w-5"})})]}),c.password&&s.jsx("p",{className:"text-red-400 text-sm",children:c.password})]}),a&&s.jsx(x.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-center text-red-400 text-sm",children:[s.jsx(P,{className:"h-4 w-4 mr-2"}),a]})}),s.jsx("button",{type:"submit",disabled:t,className:"w-full py-2 px-4 bg-nexus-violet text-white font-orbitron tracking-widest rounded-lg hover:bg-nexus-violet/80 disabled:opacity-50 transition-colors",children:t?"Iniciando sesi\xf3n...":"Iniciar Sesi\xf3n"}),s.jsxs("div",{className:"space-y-3 text-center",children:[s.jsx("button",{type:"button",className:"text-nexus-cyan hover:text-nexus-cyan/80 text-sm transition-colors disabled:opacity-50",disabled:t,children:"\xbfOlvidaste tu contrase\xf1a?"}),s.jsxs("div",{className:"text-nexus-silver/40 text-sm",children:["\xbfNuevo usuario?"," ",s.jsx("button",{type:"button",className:"text-nexus-violet hover:text-nexus-violet/80 text-sm transition-colors disabled:opacity-50",disabled:t,children:"Reg\xedstrate gratis"})]})]})]})}),s.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.5},className:"mt-8 text-center",children:s.jsxs("p",{className:"text-nexus-silver/40 text-xs",children:["Al iniciar sesi\xf3n, aceptas nuestros"," ",s.jsx("button",{className:"text-nexus-cyan hover:text-nexus-cyan/80 underline",children:"t\xe9rminos y condiciones"})]})})]})})},ce=({onLogin:e,isAuthenticated:t})=>{const[a,n]=r.useState(!1),[i,o]=r.useState("");return t?s.jsx(l,{to:"/dashboard",replace:!0}):s.jsx("div",{className:"min-h-screen bg-nexus-obsidian flex items-center justify-center",children:s.jsx(le,{onLogin:async(t,s)=>{n(!0),o("");try{await e(t,s)}catch(a){o(a instanceof Error?a.message:"Error al iniciar sesi\xf3n")}finally{n(!1)}},loading:a,error:i})})},de=r.lazy(()=>a(()=>import("./CinematicPresentation-Dh_6Ns4L.js"),__vite__mapDeps([0,1,2,3,4,5])).then(e=>({default:e.CinematicPresentation}))),ue=r.lazy(()=>a(()=>import("./DanielaShowcase-zXgn593g.js"),__vite__mapDeps([6,1,2,3,4])).then(e=>({default:e.DanielaShowcase}))),he=r.lazy(()=>a(()=>import("./NexusAndroid-BpLD5ZbS.js"),__vite__mapDeps([7,1,2,8,3,4,5])).then(e=>({default:e.NexusAndroid}))),me=r.lazy(()=>a(()=>import("./ServicesDeepDive-CSOaA_ne.js"),__vite__mapDeps([9,1,2,4,5])).then(e=>({default:e.ServicesDeepDive}))),xe=r.lazy(()=>a(()=>import("./CaseStudies-BwYV6Mbr.js"),__vite__mapDeps([10,1,2,4])).then(e=>({default:e.CaseStudies}))),pe=r.lazy(()=>a(()=>import("./EnhancedROI-D2KHCv0G.js"),__vite__mapDeps([11,1,2,8,3,4])).then(e=>({default:e.EnhancedROI}))),ge=r.lazy(()=>a(()=>import("./PricingSection-DFaXygEz.js"),__vite__mapDeps([12,1,2,4,5])).then(e=>({default:e.PricingSection}))),fe=r.lazy(()=>a(()=>import("./IngeniousPlan-1PJ-Jh60.js"),__vite__mapDeps([13,1,2,4])).then(e=>({default:e.IngeniousPlan}))),be=r.lazy(()=>a(()=>import("./VideoTutorials-B7jkJN0a.js"),__vite__mapDeps([14,1,2,4])).then(e=>({default:e.VideoTutorials}))),ye=r.lazy(()=>a(()=>import("./MetaverseSection-CgyBQ8H7.js"),__vite__mapDeps([15,1,2,4,5])).then(e=>({default:e.MetaverseSection}))),ve=r.lazy(()=>a(()=>import("./DecentralandOffice-DET_IOqG.js"),__vite__mapDeps([16,1,2,5,4])).then(e=>({default:e.DecentralandOffice}))),je=r.lazy(()=>a(()=>import("./FAQSection-c3fLGfFH.js"),__vite__mapDeps([17,1,2,4])).then(e=>({default:e.FAQSection}))),we=r.lazy(()=>a(()=>import("./ContactSection-BjKJ7xt9.js"),__vite__mapDeps([18,1,2,4,19,5,20])).then(e=>({default:e.ContactSection}))),Ne=r.lazy(()=>a(()=>import("./AnimatedMeshGradient-Bvy1hm4H.js"),__vite__mapDeps([21,1,2,4])).then(e=>({default:e.AnimatedMeshGradient}))),_e=r.lazy(()=>a(()=>import("./CommandTerminal-jqbi86e3.js"),__vite__mapDeps([22,1,2,4,5,20])).then(e=>({default:e.CommandTerminal}))),Ee=r.lazy(()=>a(()=>import("./CommandPalette-CRVpbtFn.js"),__vite__mapDeps([23,1,2,8,3,4,5])).then(e=>({default:e.CommandPalette}))),ke=r.lazy(()=>a(()=>import("./DanielaOmniWidget-CbTuHaZf.js"),__vite__mapDeps([24,1,2,25,3,4])).then(e=>({default:e.DanielaOmniWidget}))),Se=r.lazy(()=>a(()=>import("./CyberpunkGrid-BGgXv3Q7.js"),__vite__mapDeps([26,1,2])).then(e=>({default:e.CyberpunkGrid}))),Le=r.lazy(()=>a(()=>import("./NeuralParticles-By7u1U_y.js"),__vite__mapDeps([27,1,2,4])).then(e=>({default:e.NeuralParticles})));r.lazy(()=>a(()=>import("./Dashboard-Af80kQGB.js"),__vite__mapDeps([28,1,2,25,4,5])).then(e=>({default:e.Dashboard})));const Ae=r.lazy(()=>a(()=>import("./Register-B2LsSEUI.js"),__vite__mapDeps([29,1,2,4,5,20])).then(e=>({default:e.Register}))),Ce=r.lazy(()=>a(()=>import("./VerifyEmail-BusYHReA.js"),__vite__mapDeps([30,1,2,4,5,20])).then(e=>({default:e.VerifyEmail})));r.lazy(()=>a(()=>import("./SelectRole-CITX64V4.js"),__vite__mapDeps([31,1,2,4,5,20])).then(e=>({default:e.SelectRole}))),r.lazy(()=>a(()=>import("./SelectPlan-CkdzCQ94.js"),__vite__mapDeps([32,1,2,4,5,20])).then(e=>({default:e.SelectPlan})));const Te=r.lazy(()=>a(()=>import("./WorkbenchLayout-BZYLsPOx.js"),__vite__mapDeps([33,1,2,4,5,28,25])).then(e=>({default:e.WorkbenchLayout}))),Pe=r.lazy(()=>a(()=>import("./WeaponDashboard-BeEI_kOV.js"),__vite__mapDeps([34,1,2,5]))),Ie=r.lazy(()=>a(()=>import("./DanielaDemo-Dn2HLanf.js"),__vite__mapDeps([35,1,2,4,5,36])).then(e=>({default:e.DanielaDemo}))),Oe=r.lazy(()=>a(()=>import("./VirtualOfficePreview-B0OogYuw.js"),__vite__mapDeps([37,1,2,19,4,5,20]))),De=()=>s.jsx("div",{className:"fixed inset-0 bg-black z-10000 flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-6",children:[s.jsx("div",{className:"w-16 h-16 border-t-2 border-nexus-cyan-glow rounded-full animate-spin"}),s.jsx("div",{className:"text-nexus-cyan-glow font-orbitron tracking-[0.8em] text-[10px] animate-pulse",children:"ESTABLECIENDO CONEXI\xd3N SOBERANA..."})]})}),ze=()=>s.jsx("footer",{className:"py-24 bg-black border-t border-white/5 relative z-10",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid md:grid-cols-4 gap-12 text-nexus-silver/40 text-[9px] font-orbitron tracking-widest uppercase",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("img",{src:"/images/brand/logo.png",alt:"Sovereign Nexus",className:"h-8 mb-6 opacity-80"}),s.jsx("p",{className:"max-w-sm mb-8 leading-relaxed",children:"Sistemas avanzados de orquestaci\xf3n neural y soberan\xeda cognitiva."}),s.jsx("div",{className:"text-[8px] opacity-30",children:"\xa9 2026 Sovereign Nexus | Enterprise Infrastructure v2.1"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white mb-6 tracking-[0.4em] font-bold",children:"Soluciones"}),s.jsxs("ul",{className:"space-y-4",children:[s.jsx("li",{className:"hover:text-nexus-cyan-glow cursor-pointer transition-colors",children:"Infraestructura"}),s.jsx("li",{className:"hover:text-nexus-cyan-glow cursor-pointer transition-colors",children:"Automatizaci\xf3n"}),s.jsx("li",{className:"hover:text-nexus-cyan-glow cursor-pointer transition-colors",children:"Seguridad"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white mb-6 tracking-[0.4em] font-bold",children:"Soporte"}),s.jsxs("ul",{className:"space-y-4",children:[s.jsx("li",{className:"hover:text-nexus-cyan-glow cursor-pointer transition-colors",children:"Documentaci\xf3n"}),s.jsx("li",{className:"hover:text-nexus-cyan-glow cursor-pointer transition-colors",children:"Terminal SSH"})]})]})]})}),Re=({loading:e,isAuthenticated:t,currentUser:a,handleLogin:n,handleLogout:o})=>{const{notify:h}=(()=>{const e=r.useContext(ie);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e})(),m=i(),x=c();return r.useEffect(()=>{const e=sessionStorage.getItem("redirect");e&&(sessionStorage.removeItem("redirect"),x(e,{replace:!0}))},[x]),r.useEffect(()=>{e||h("SISTEMA ACTIVADO","Protocolos Antigravity God Mode Online","success")},[e,h]),s.jsxs("div",{className:"bg-black min-h-screen text-white font-sans selection:bg-nexus-cyan/20 selection:text-white relative overflow-x-hidden custom-cursor",children:[s.jsx("div",{className:"grain-overlay"}),s.jsx(ae,{}),s.jsx(ne,{}),s.jsx(se,{}),!t&&s.jsx(te,{}),s.jsx(p,{mode:"wait",children:s.jsx(r.Suspense,{fallback:s.jsx(De,{}),children:s.jsxs(d,{location:m,children:[s.jsx(u,{path:"/login",element:t?s.jsx(l,{to:"/dashboard"}):s.jsx(ce,{onLogin:n,isAuthenticated:t})}),s.jsx(u,{path:"/register",element:t?s.jsx(l,{to:"/dashboard"}):s.jsx(Ae,{})}),s.jsx(u,{path:"/verify-email",element:s.jsx(Ce,{})}),s.jsx(u,{path:"/",element:t?s.jsx(l,{to:"/dashboard"}):s.jsxs("main",{children:[s.jsx(de,{}),s.jsx(ue,{}),s.jsx(he,{}),s.jsx(me,{}),s.jsx(xe,{}),s.jsx(pe,{}),s.jsx(ge,{}),s.jsx(fe,{}),s.jsx(be,{}),s.jsx(ye,{}),s.jsx(ve,{}),s.jsx(je,{}),s.jsx(we,{})]})}),s.jsx(u,{path:"/dashboard/*",element:t?s.jsx(Te,{user:a,onLogout:o}):s.jsx(l,{to:"/login"})}),s.jsx(u,{path:"/weapon",element:s.jsx(Pe,{})}),s.jsx(u,{path:"/daniela/*",element:s.jsx(Ie,{})}),s.jsx(u,{path:"/virtual-office/*",element:s.jsx(Oe,{})}),s.jsx(u,{path:"*",element:s.jsx(l,{to:"/"})})]},m.pathname)})}),s.jsx(ze,{}),s.jsxs(r.Suspense,{fallback:null,children:[s.jsx(_e,{}),s.jsx(Ee,{}),s.jsx(ke,{}),s.jsx(Ne,{}),s.jsx(Se,{}),s.jsx(Le,{})]})]})};const Ve=new class{constructor(){t(this,"logs",[]),t(this,"maxLogs",50),t(this,"endpoint",null),this.endpoint=null,"undefined"!=typeof globalThis&&(globalThis.addEventListener("error",this.handleGlobalError.bind(this)),globalThis.addEventListener("unhandledrejection",this.handleUnhandledRejection.bind(this)))}logError(e,t="error",s){const a={message:e.message,stack:e.stack||void 0,timestamp:Date.now(),url:globalThis.location.href,userAgent:navigator.userAgent,level:t,context:s};this.addToLocalLogs(a),this.endpoint&&this.sendToExternalService(a).catch(e=>{})}logComponentError(e,t,s){const a={message:e.message,stack:e.stack||void 0,componentStack:t,timestamp:Date.now(),url:globalThis.location.href,userAgent:navigator.userAgent,level:"error",context:{...s,type:"react-component-error"}};this.addToLocalLogs(a),this.endpoint&&this.sendToExternalService(a).catch(e=>{})}handleGlobalError(e){this.logError(new Error(e.message),"error",{filename:e.filename,lineno:e.lineno,colno:e.colno})}handleUnhandledRejection(e){const t=e.reason instanceof Error?e.reason:new Error(String(e.reason));this.logError(t,"error",{type:"unhandled-promise-rejection"})}addToLocalLogs(e){this.logs.push(e),this.logs.length>this.maxLogs&&(this.logs=this.logs.slice(-this.maxLogs));try{globalThis.localStorage.setItem("error-logs",JSON.stringify(this.logs.slice(-10)))}catch(t){}}async sendToExternalService(e){if(this.endpoint)try{await fetch(this.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){}}getRecentLogs(e=10){return this.logs.slice(-e)}clearLogs(){this.logs=[];try{globalThis.localStorage.removeItem("error-logs")}catch(e){}}setEndpoint(e){this.endpoint=e}};const Me=r.forwardRef(({className:e,variant:t="primary",size:a="md",loading:n=!1,icon:r,iconPosition:i="left",children:o,disabled:l,...c},d)=>{const u=function(...e){return I(O(e))}("inline-flex items-center justify-center","font-medium rounded-lg","transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed",...{primary:["bg-blue-600 text-white hover:bg-blue-700","focus:ring-blue-500","dark:bg-blue-500 dark:hover:bg-blue-600"],secondary:["bg-gray-600 text-white hover:bg-gray-700","focus:ring-gray-500","dark:bg-gray-700 dark:hover:bg-gray-600"],outline:["border-2 border-white/20 bg-transparent text-white hover:bg-white/10 hover:border-white/40","focus:ring-nexus-cyan"],ghost:["text-white hover:bg-white/10","focus:ring-nexus-cyan"],destructive:["bg-red-600 text-white hover:bg-red-700","focus:ring-red-500","dark:bg-red-500 dark:hover:bg-red-600"]}[t],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg",xl:"px-8 py-4 text-xl"}[a],e),h=()=>n?s.jsx(D,{className:"w-4 h-4 animate-spin"}):r;return s.jsx("button",{ref:d,className:u,disabled:l||n,...c,children:r&&"right"===i?s.jsxs(s.Fragment,{children:[o,h()&&s.jsx("span",{className:"ml-2",children:h()})]}):s.jsxs(s.Fragment,{children:[h()&&s.jsx("span",{className:"mr-2",children:h()}),o]})})});Me.displayName="Button";class He extends r.Component{constructor(e){super(e),t(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})}),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t}),this.props.onError?.(e,t),((e,t,s)=>{Ve.logComponentError(e,t,s)})(e,t.componentStack,{errorBoundary:!0,timestamp:(new Date).toISOString()})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:s.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 text-center",children:[s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})})}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"\xa1Vaya! Algo ha salido mal"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Lo sentimos, ha ocurrido un error inesperado en el sistema. Nuestro equipo ya ha sido notificado."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Me,{onClick:this.handleReset,className:"w-full",children:"Intentar de nuevo"}),s.jsx(Me,{variant:"outline",onClick:()=>window.location.reload(),className:"w-full",children:"Recargar p\xe1gina"})]}),!1]})}):this.props.children}}const Be=r.createContext(void 0),We=({children:e})=>{const[t,a]=r.useState(!0),[n,i]=r.useState(!1),{playSuccess:o}=K();r.useEffect(()=>{t?document.body.classList.add("nexus-god-mode"):document.body.classList.remove("nexus-god-mode")},[t]),r.useEffect(()=>{const e=setTimeout(()=>{o()},1e3);return()=>clearTimeout(e)},[]);const l=()=>i(e=>!e),c=h.useMemo(()=>({godMode:t,setGodMode:a,reduceMotion:n,toggleReduceMotion:l}),[t,n]);return s.jsx(Be.Provider,{value:c,children:e})},Ge=z("https://T8jp4wZKQU1l5WQHSHoM1g_w1mvEbx1.supabase.co","sb_publishable_CqCI6d-vk4X6vlsOL69g_Q_BYH5K4yG");async function Ue(e,t={}){const s=`/api${e}`,a={"Content-Type":"application/json",...t.headers};try{const e=await fetch(s,{...t,headers:a}),n=await e.json();if(!e.ok)throw new Error(n.message||"Error de conexi\xf3n");return n.data||n}catch(n){throw n}}const qe=async e=>Ue("/auth/register",{method:"POST",body:JSON.stringify(e)}),Je=async e=>Ue("/auth/verify-email",{method:"POST",body:JSON.stringify(e)}),Xe=async(e,t)=>Ue("/auth/role",{method:"PUT",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(e)}),Ye=async(e,t)=>Ue("/auth/plan",{method:"PUT",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(e)}),$e=["admin@aigestion.net","nemisanalex@gmail.com"];function Fe(){const[e,t]=r.useState({session:null,user:null,loading:!0,isAuthenticated:!1,isAdmin:!1,isMobileApp:!1}),s=r.useCallback(()=>"localhost"===window.location.hostname||window.location.protocol.includes("capacitor")||"file:"===window.location.protocol||""===window.location.port,[]),a=r.useCallback(e=>{const t=e.user_metadata||{};return{email:e.email,name:t.name||e.email.split("@")[0],subscription:t.subscription||"free",role:t.role||"client",avatar:t.avatar,phone:t.phone,phoneVerified:t.phoneVerified||!1,emailVerified:null!=e.email_confirmed_at,lastLogin:new Date,createdAt:e.created_at?new Date(e.created_at):new Date}},[]),n=r.useCallback(e=>{const t=$e.includes(e.email)||"admin"===e.role,a=s();return!(!t||a)&&(window.location.href="https://admin.aigestion.net",!0)},[s]),i=r.useCallback(async e=>{t(e=>({...e,loading:!0}));try{if(e?.user){const r=a(e.user);if(n(r))return;t({session:e,user:r,loading:!1,isAuthenticated:!0,isAdmin:$e.includes(r.email)||"admin"===r.role,isMobileApp:s()})}else t({session:null,user:null,loading:!1,isAuthenticated:!1,isAdmin:!1,isMobileApp:s()})}catch(r){t(e=>({...e,loading:!1,isAuthenticated:!1,user:null,session:null}))}},[a,n,s]),o=r.useCallback(async(e,s)=>{if(t(e=>({...e,loading:!0})),Ge)try{const{data:t,error:a}=await Ge.auth.signInWithPassword({email:e,password:s});if(a)throw a;t.session?.user&&await i(t.session)}catch(a){throw t(e=>({...e,loading:!1})),a}else setTimeout(()=>{t(t=>({...t,loading:!1,isAuthenticated:!0,user:{email:e,name:e.split("@")[0],subscription:"free",role:"client"},session:{}}))},1e3)},[i]),l=r.useCallback(async()=>{if(t(e=>({...e,loading:!0})),Ge)try{await Ge.auth.signOut(),await i(null)}catch(e){t({session:null,user:null,loading:!1,isAuthenticated:!1,isAdmin:!1,isMobileApp:s()})}else t({session:null,user:null,loading:!1,isAuthenticated:!1,isAdmin:!1,isMobileApp:s()})},[i,s]),c=r.useCallback(async()=>{if(Ge)try{const{data:e,error:t}=await Ge.auth.refreshSession();if(t)throw t;await i(e.session)}catch(e){await i(null)}},[i]),d=r.useCallback(async s=>{if(!e.user||!e.session)throw new Error("No authenticated user");if(Ge){t(e=>({...e,loading:!0}));try{const{error:e}=await Ge.auth.updateUser({data:s});if(e)throw e;await c()}catch(a){throw t(e=>({...e,loading:!1})),a}}},[e.user,e.session,c]),u=r.useCallback(async e=>{if(Ge)try{const{error:t}=await Ge.functions.invoke("send-phone-verification",{body:{phone:e}});if(t)throw new Error("Error al enviar c\xf3digo de verificaci\xf3n")}catch(t){throw t}},[]),h=r.useCallback(async(e,t)=>{if(!Ge){if("123456"===t)return void(await d({phone:e,phoneVerified:!0}));throw new Error("C\xf3digo inv\xe1lido. En modo demo usa: 123456")}try{const{error:s}=await Ge.functions.invoke("verify-phone-code",{body:{phone:e,code:t}});if(s)throw new Error("C\xf3digo de verificaci\xf3n inv\xe1lido");await d({phone:e,phoneVerified:!0})}catch(s){throw s}},[d]),m=r.useCallback(()=>e.user?.phoneVerified||!1,[e.user]),x=r.useCallback(async(e,s,a)=>{t(e=>({...e,loading:!0}));try{const{user:n,token:r}=await qe({name:e,email:s,password:a}),i={id:n._id||n.id,name:n.name,email:n.email,role:n.role,subscription:"free",emailVerified:!1,phoneVerified:!1};t(e=>({...e,loading:!1,user:i,token:r}))}catch(n){throw t(e=>({...e,loading:!1})),n}},[]),p=r.useCallback(async(s,a)=>{try{await Je({userId:s,code:a}),e.user&&e.user.id===s&&t(e=>({...e,user:{...e.user,emailVerified:!0}}))}catch(n){throw n}},[e.user]),g=r.useCallback(async(s,a)=>{try{if(!e.token)throw new Error("No auth token");const{user:n}=await Xe({userId:s,role:a},e.token);e.user&&t(e=>({...e,user:{...e.user,role:a}}))}catch(n){throw n}},[e.token,e.user]),f=r.useCallback(async(s,a)=>{try{if(!e.token)throw new Error("No auth token");const{user:n}=await Ye({userId:s,plan:a},e.token);e.user&&t(e=>({...e,user:{...e.user,subscriptionPlan:a}}))}catch(n){throw n}},[e.token,e.user]);return r.useEffect(()=>{if(!Ge)return void t(e=>({...e,loading:!1}));Ge.auth.getSession().then(({data:{session:e}})=>i(e)).catch(e=>{t(e=>({...e,loading:!1}))});const{data:{subscription:e}}=Ge.auth.onAuthStateChange((e,t)=>{i(t)});return()=>e.unsubscribe()},[i]),{...e,login:o,logout:l,refreshSession:c,updateUser:d,verifyPhone:h,register:x,verifyEmail:p,updateRole:g,updatePlan:f,sendPhoneVerificationCode:u,checkPhoneVerification:m}}function Qe({children:e}){const[t]=r.useState(()=>new R({defaultOptions:{queries:{staleTime:3e5,retry:(e,t)=>{if(t&&"object"==typeof t&&"status"in t){const e=t.status;if(e>=400&&e<500)return!1}return e<3},refetchOnWindowFocus:!1,refetchOnReconnect:!0},mutations:{retry:1}}}));return s.jsx(V,{client:t,children:e})}function Ke(){return s.jsx(He,{children:s.jsx(Qe,{children:s.jsx(m,{children:s.jsx(H,{children:s.jsx(We,{children:s.jsx(oe,{children:s.jsx(Ze,{})})})})})})})}function Ze(){const{loading:e,isAuthenticated:t,user:a,login:n,logout:r}=Fe();return e?s.jsx(De,{}):s.jsx(Re,{loading:e,isAuthenticated:t,currentUser:a,handleLogin:n,handleLogout:r})}const et=r.createContext(void 0),tt=({children:e})=>{const[t,a]=r.useState(!1),[n,i]=r.useState(null),o={isLoading:t,setIsLoading:a,error:n,setError:i};return s.jsx(et.Provider,{value:o,children:e})},st=document.getElementById("root");st&&n.createRoot(st).render(s.jsx(h.StrictMode,{children:s.jsx(tt,{children:s.jsx(Ke,{})})})),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{}).catch(e=>{})});export{Z as M,Fe as a,K as u};
