import{j as e}from"./vendor-3d-DIUC_Kaq.js";import{a as s}from"./api-CHu62EUu.js";import{r as t,d as i}from"./vendor-react-CD_l9Fp9.js";import{d as a}from"./daniela-api.service-CZGrpgZ9.js";import{m as n,A as l}from"./vendor-motion-DwOuuEZQ.js";import{ap as r,ag as o,g as c,X as d,M as x,a5 as m,h as u,B as h,a1 as b,af as p,aq as j,ar as f,as as g}from"./vendor-ui-DkjTv9dx.js";const v=()=>{const[s,i]=t.useState([{role:"ai",text:"Hola, soy Daniela. \xbfEn qu\xe9 puedo ayudarte hoy?"}]),[l,d]=t.useState(""),{isListening:x,transcript:m,isSpeaking:u,toggleListening:h,speak:b}=useDanielaVoice(),p=t.useRef(null);t.useEffect(()=>{m&&d(m)},[m]),t.useEffect(()=>{p.current?.scrollIntoView({behavior:"smooth"})},[s]);const j=async()=>{if(!l.trim())return;const e=l;i(s=>[...s,{role:"user",text:e}]),d("");try{const s=(await a.chat(e,"website-user",`session-${Date.now()}`)).response;i(e=>[...e,{role:"ai",text:s}]),b(s)}catch(s){const e="Disculpa, estoy experimentando una breve interrupci\xf3n en mis sistemas neuronales. \xbfPodr\xedas repetir eso?";i(s=>[...s,{role:"ai",text:e}]),b(e)}};return e.jsxs("div",{className:"flex flex-col h-full bg-white/5 rounded-2xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-white/5 flex justify-between items-center bg-black/20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-nexus-cyan",children:e.jsx("img",{src:"/images/daniela-avatar.jpg",alt:"Daniela",className:"w-full h-full object-cover",onError:e=>e.currentTarget.src="https://ui-avatars.com/api/?name=Daniela+AI&background=00f5ff&color=fff"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-black"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-bold text-sm",children:"Daniela AI"}),e.jsx("p",{className:"text-nexus-cyan text-xs font-mono",children:"ONLINE // V2.4"})]})]}),e.jsx("div",{className:"flex gap-2",children:u&&e.jsxs("div",{className:"flex gap-1 h-3 items-end",children:[e.jsx(n.div,{className:"w-1 bg-nexus-cyan",animate:{height:[4,12,4]},transition:{repeat:1/0,duration:.5}}),e.jsx(n.div,{className:"w-1 bg-nexus-cyan",animate:{height:[6,10,2]},transition:{repeat:1/0,duration:.4}}),e.jsx(n.div,{className:"w-1 bg-nexus-cyan",animate:{height:[2,8,3]},transition:{repeat:1/0,duration:.6}})]})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[s.map((s,t)=>e.jsx(n.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex "+("user"===s.role?"justify-end":"justify-start"),children:e.jsx("div",{className:"max-w-[80%] p-3 rounded-2xl text-sm "+("user"===s.role?"bg-nexus-violet/20 text-white rounded-tr-sm border border-nexus-violet/30":"bg-white/10 text-gray-200 rounded-tl-sm border border-white/5"),children:s.text})},t)),e.jsx("div",{ref:p})]}),e.jsx("div",{className:"p-4 border-t border-white/5 bg-black/20",children:e.jsxs("div",{className:"relative flex items-center gap-2",children:[e.jsx("button",{onClick:h,className:"p-3 rounded-full transition-all "+(x?"bg-red-500/20 text-red-400 animate-pulse border border-red-500/50":"bg-white/5 text-gray-400 hover:text-white hover:bg-white/10"),children:x?e.jsx(r,{size:20}):e.jsx(o,{size:20})}),e.jsx("input",{type:"text",value:l,onChange:e=>d(e.target.value),onKeyDown:e=>"Enter"===e.key&&j(),placeholder:"Escribe un mensaje...",className:"flex-1 bg-white/5 border border-white/10 rounded-full px-4 py-3 text-white text-sm focus:outline-none focus:border-nexus-cyan/50 placeholder-gray-500"}),e.jsx("button",{onClick:j,className:"p-3 bg-nexus-cyan text-black rounded-full hover:bg-cyan-400 transition-colors",children:e.jsx(c,{size:18})})]})})]})},w=({user:a,onLogout:r})=>{const[o,c]=t.useState("daniela"),[w,N]=t.useState(!1),[y,k]=t.useState(null),[A,S]=t.useState("checking");i.useEffect(()=>{const e=async()=>{try{const e=await s.getSystemHealth();k(e),S("connected")}catch(e){S("error")}};e();const t=setInterval(e,3e4);return()=>clearInterval(t)},[]);const{status:C,messages:E,emotionalAnalysis:D,suggestedActions:I,isProcessing:z}=(()=>{const[e,s]=t.useState("idle"),[i,a]=t.useState([]),[n,l]=t.useState(null),[r,o]=t.useState([]),[c,d]=t.useState(!1),[x,m]=t.useState(!1),[u,h]=t.useState(null),b={emotion:"neutral",confidence:.85,sentiment:"positive"},p=[{id:"1",text:"Ver dashboard principal",type:"navigation",priority:"high",context:"main"},{id:"2",text:"Analizar m\xe9tricas",type:"analysis",priority:"medium",context:"analytics"},{id:"3",text:"Contactar soporte",type:"support",priority:"low",context:"help"}];t.useEffect(()=>{s("connecting"),setTimeout(()=>{s("active"),l(b),o(p)},1e3)},[]);const j=t.useCallback(async()=>{c||(d(!0),h(null),setTimeout(()=>{const e={id:Date.now().toString(),role:"user",content:"Hola Daniela, \xbfc\xf3mo est\xe1s?",timestamp:new Date,emotionalAnalysis:b};a(s=>[...s,e]),setTimeout(()=>{const e={id:(Date.now()+1).toString(),role:"assistant",content:"\xa1Hola! Estoy perfectamente, gracias por preguntar. \xbfEn qu\xe9 puedo ayudarte hoy?",timestamp:new Date,emotionalAnalysis:b};a(s=>[...s,e]),d(!1)},1500)},2e3))},[c]),f=t.useCallback(()=>{c&&d(!1)},[c]),g=t.useCallback(async e=>{if(x)return;m(!0),h(null);const s={id:Date.now().toString(),role:"user",content:e,timestamp:new Date,emotionalAnalysis:b};a(e=>[...e,s]),setTimeout(()=>{const e=["Entendido. Estoy procesando tu solicitud.","He analizado tu peti\xf3n. Aqu\xed est\xe1 la respuesta.","Interesante. D\xe9jame generar un reporte para ti.","Perfecto. Ejecutando la acci\xf3n solicitada.","Comprendido. \xbfHay algo m\xe1s en lo que pueda ayudarte?"],s={id:(Date.now()+1).toString(),role:"assistant",content:e[Math.floor(Math.random()*e.length)],timestamp:new Date,emotionalAnalysis:b};a(e=>[...e,s]),m(!1)},1e3)},[x]),v=t.useCallback(()=>{a([]),h(null)},[]);return{status:e,messages:i,emotionalAnalysis:n,suggestedActions:r,isRecording:c,isProcessing:x,error:u,startRecording:j,stopRecording:f,sendTextMessage:g,clearConversation:v}})(a.email),P=[{id:"daniela",label:"Daniela AI",icon:h,color:"from-nexus-cyan to-nexus-violet"},{id:"analytics",label:"Analytics",icon:b,color:"from-green-500 to-emerald-600"},{id:"settings",label:"Configuraci\xf3n",icon:p,color:"from-orange-500 to-red-600"}],T={free:"text-nexus-silver",premium:"text-nexus-violet",enterprise:"text-nexus-gold"};return e.jsxs("div",{className:"min-h-screen bg-nexus-obsidian text-white",children:[e.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>N(!w),className:"p-2 rounded-lg bg-white/5 backdrop-blur-3xl border border-white/10",children:w?e.jsx(d,{className:"w-5 h-5"}):e.jsx(x,{className:"w-5 h-5"})})}),e.jsx(l,{children:e.jsxs(e.Fragment,{children:[w&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>N(!1),className:"lg:hidden fixed inset-0 bg-black/50 z-40"}),e.jsxs(n.aside,{initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",damping:25},className:"fixed lg:relative z-50 w-72 h-screen bg-nexus-obsidian-deep border-r border-white/10 "+(w?"block":"hidden lg:block"),children:[e.jsx("div",{className:"p-6 border-b border-white/10",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-linear-to-br from-nexus-cyan to-nexus-violet flex items-center justify-center",children:e.jsx(m,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:a.name}),e.jsx("p",{className:"text-sm text-nexus-silver",children:a.email}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(u,{className:"w-3 h-3 text-nexus-cyan"}),e.jsx("span",{className:`text-xs font-medium ${T[a.subscription]}`,children:a.subscription.toUpperCase()})]})]})]})}),e.jsx("nav",{className:"p-4",children:e.jsx("div",{className:"space-y-2",children:P.map(s=>{const t=s.icon;return e.jsxs("button",{onClick:()=>{c(s.id),N(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all "+(o===s.id?`bg-linear-to-r ${s.color} text-white shadow-lg`:"text-nexus-silver hover:bg-white/5 hover:text-white"),children:[e.jsx(t,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:s.label})]},s.id)})})}),e.jsx("div",{className:"p-4 border-t border-white/10",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-nexus-silver text-sm",children:"Conversaciones"}),e.jsx("span",{className:"text-white font-semibold",children:E.length})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-nexus-silver text-sm",children:"Estado"}),e.jsx("span",{className:"text-sm font-medium "+(z?"text-yellow-400":"active"===C?"text-green-400":"error"===C?"text-red-400":"text-nexus-silver"),children:z?"Procesando":"active"===C?"Activo":"error"===C?"Error":"Inactivo"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-nexus-silver text-sm",children:"Suscripci\xf3n"}),e.jsx("span",{className:`text-xs font-medium ${T[a.subscription]}`,children:a.subscription})]})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-white/10",children:e.jsxs("button",{onClick:r,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-nexus-silver hover:bg-white/5 hover:text-white transition-all",children:[e.jsx(j,{className:"w-5 h-5"}),e.jsx("span",{children:"Cerrar Sesi\xf3n"})]})})]})]})}),e.jsxs("div",{className:"lg:ml-72 min-h-screen",children:[e.jsx("header",{className:"bg-nexus-obsidian-deep border-b border-white/10 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-orbitron font-bold text-white",children:P.find(e=>e.id===o)?.label}),e.jsxs("p",{className:"text-nexus-silver text-sm mt-1",children:["daniela"===o&&"Tu asistente de IA emocional","analytics"===o&&"M\xe9tricas y an\xe1lisis de uso","settings"===o&&"Configuraci\xf3n de tu cuenta"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full "+(z?"bg-yellow-400 animate-pulse":"active"===C?"bg-green-400":"error"===C?"bg-red-400":"bg-nexus-silver")}),e.jsx("span",{className:"text-sm text-nexus-silver hidden sm:block",children:z?"Procesando...":"active"===C?"Daniela Activa":"error"===C?"Error":"Inactivo"})]}),e.jsxs("div",{className:"flex items-center gap-2 border-l border-white/10 pl-4",children:[e.jsx("div",{className:"w-2 h-2 rounded-full "+("connected"===A?"bg-emerald-400":"error"===A?"bg-red-400":"bg-blue-400 animate-pulse")}),e.jsx("span",{className:"text-sm text-nexus-silver hidden sm:block",children:"connected"===A?"System Online":"error"===A?"Offline":"Syncing..."}),y?.data?.version&&e.jsxs("span",{className:"text-[10px] text-white/20",children:["v",y.data.version]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-linear-to-br from-nexus-cyan to-nexus-violet flex items-center justify-center",children:e.jsx(m,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-white",children:a.name}),e.jsx("p",{className:"text-xs text-nexus-silver",children:a.subscription})]})]})]})]})}),e.jsx("main",{className:"p-6",children:e.jsxs(l,{mode:"wait",children:["daniela"===o&&e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:e.jsx(v,{})},"daniela"),"analytics"===o&&e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white/5 backdrop-blur-3xl border border-white/10 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Conversaciones"}),e.jsx(f,{className:"w-5 h-5 text-nexus-cyan"})]}),e.jsx("div",{className:"text-3xl font-bold text-white",children:E.length}),e.jsx("p",{className:"text-nexus-silver text-sm",children:"Total este mes"})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-3xl border border-white/10 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Estado Emocional"}),e.jsx(g,{className:"w-5 h-5 text-green-400"})]}),e.jsx("div",{className:"text-3xl font-bold text-white",children:D?.emotion?.toUpperCase()||"NEUTRAL"}),e.jsxs("p",{className:"text-nexus-silver text-sm",children:["Confianza:"," ",D?.confidence?`${Math.round(100*D.confidence)}%`:"N/A"]})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-3xl border border-white/10 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Sugerencias"}),e.jsx(h,{className:"w-5 h-5 text-nexus-violet"})]}),e.jsx("div",{className:"text-3xl font-bold text-white",children:I.length}),e.jsx("p",{className:"text-nexus-silver text-sm",children:"Acciones disponibles"})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-3xl border border-white/10 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Suscripci\xf3n"}),e.jsx(u,{className:"w-5 h-5 text-nexus-gold"})]}),e.jsx("div",{className:"text-3xl font-bold text-white uppercase",children:a.subscription}),e.jsx("p",{className:"text-nexus-silver text-sm",children:"Plan actual"})]})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-3xl border border-white/10 rounded-xl p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Actividad Reciente"}),e.jsx("div",{className:"h-64 flex items-center justify-center text-nexus-silver",children:e.jsxs("div",{className:"text-center",children:[e.jsx(b,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Gr\xe1ficos de actividad pr\xf3ximamente"})]})})]})]},"analytics"),"settings"===o&&e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/5 backdrop-blur-3xl border border-white/10 rounded-xl p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Configuraci\xf3n de Cuenta"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-nexus-silver mb-2",children:"Nombre"}),e.jsx("input",{type:"text",defaultValue:a.name,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-nexus-cyan/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-nexus-silver mb-2",children:"Email"}),e.jsx("input",{type:"email",defaultValue:a.email,disabled:!0,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-nexus-silver cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-nexus-silver mb-2",children:"Suscripci\xf3n Actual"}),e.jsx("div",{className:"p-4 bg-white/5 border border-white/10 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white font-medium",children:a.subscription}),e.jsx("button",{className:"px-4 py-2 bg-linear-to-r from-nexus-cyan to-nexus-violet text-white rounded-lg text-sm font-medium hover:from-nexus-cyan/80 hover:to-nexus-violet/80 transition-all",children:"Actualizar"})]})})]})]})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-3xl border border-white/10 rounded-xl p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Preferencias de Daniela"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-nexus-silver mb-2",children:"Voz de Daniela"}),e.jsxs("select",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-nexus-cyan/50",children:[e.jsx("option",{children:"Bella (Default)"}),e.jsx("option",{children:"Adam"}),e.jsx("option",{children:"Domi"}),e.jsx("option",{children:"Elli"}),e.jsx("option",{children:"Emily"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-nexus-silver mb-2",children:"Idioma"}),e.jsxs("select",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-nexus-cyan/50",children:[e.jsx("option",{children:"Espa\xf1ol"}),e.jsx("option",{children:"English"}),e.jsx("option",{children:"Portugu\xeas"})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-nexus-silver mb-2",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-white/10 bg-white/5 text-nexus-cyan"}),"Notificaciones por email"]})})]})]})]},"settings")]})})]})]})};export{w as Dashboard};
