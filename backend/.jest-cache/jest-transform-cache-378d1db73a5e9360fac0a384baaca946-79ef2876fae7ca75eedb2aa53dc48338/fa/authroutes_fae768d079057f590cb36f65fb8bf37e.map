{"file":"C:\\Users\\Alejandro\\AIGestion\\backend\\src\\routes\\auth.routes.ts","mappings":";;AAAA,qCAAiC;AAEjC,oEAYwC;AACxC,mEAAwD;AACxD,2DAAwD;AACxD,+EAA4E;AAE5E,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AACxB,6DAA6D;AAC7D,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,yBAAW,EAAE,IAAA,oCAAY,EAAC,+BAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,0BAAQ,CAAC,CAAC;AACrF,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,yBAAW,EAAE,IAAA,oCAAY,EAAC,+BAAO,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,uBAAK,CAAC,CAAC;AAC5E,MAAM,CAAC,IAAI,CAAC,eAAe,EAAE,yBAAW,EAAE,6BAAW,CAAC,CAAC,CAAC,MAAM;AAC9D,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE,yBAAW,EAAE,2BAAS,CAAC,CAAC;AACnD,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE,yBAAW,EAAE,2BAAS,CAAC,CAAC;AACnD,MAAM,CAAC,IAAI,CAAC,YAAY,EAAE,yBAAW,EAAE,IAAA,oCAAY,EAAC,+BAAO,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,gCAAc,CAAC,CAAC;AAE7F,gCAAgC;AAChC,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,yBAAO,EAAE,gCAAc,CAAC,CAAC,CAAC,MAAM;AACpD,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,yBAAO,EAAE,oCAAkB,CAAC,CAAC,CAAC,MAAM;AAExD,8BAA8B;AAC9B,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE,yBAAW,EAAE,yBAAO,CAAC,CAAC;AAE7C,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,wBAAM,CAAC,CAAC;AAE/B,0CAA0C;AAC1C,MAAM,CAAC,GAAG,CAAC,KAAK,EAAE,yBAAO,EAAE,uBAAK,CAAC,CAAC;AAElC,kBAAe,MAAM,CAAC","names":[],"sources":["C:\\Users\\Alejandro\\AIGestion\\backend\\src\\routes\\auth.routes.ts"],"sourcesContent":["import { Router } from 'express';\n\nimport {\n  getMe,\n  login,\n  register,\n  enable2FA,\n  verify2FA,\n  verifyLogin2FA,\n  refresh,\n  logout,\n  verifyEmail,\n  updateUserRole,\n  updateSubscription,\n} from '../controllers/auth.controller';\nimport { protect } from '../middleware/auth.middleware';\nimport { authLimiter } from '../middleware/rateLimiter';\nimport { schemas, validateBody } from '../middleware/validation.middleware';\n\nconst router = Router();\n// Rutas públicas con rate limiting estricto + validación Zod\nrouter.post('/register', authLimiter, validateBody(schemas.auth.register), register);\nrouter.post('/login', authLimiter, validateBody(schemas.auth.login), login);\nrouter.post('/verify-email', authLimiter, verifyEmail); // New\nrouter.post('/2fa/enable', authLimiter, enable2FA);\nrouter.post('/2fa/verify', authLimiter, verify2FA);\nrouter.post('/login/2fa', authLimiter, validateBody(schemas.auth.verify2FA), verifyLogin2FA);\n\n// Onboarding Routes (Protected)\nrouter.put('/role', protect, updateUserRole); // New\nrouter.put('/plan', protect, updateSubscription); // New\n\n// Refresh Token (uses Cookie)\nrouter.get('/refresh', authLimiter, refresh);\n\nrouter.post('/logout', logout);\n\n// Ruta protegida - Requiere autenticación\nrouter.get('/me', protect, getMe);\n\nexport default router;\n"],"version":3}