828b4b8d00df7bd042bc3e065c9a0941
"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.Persona = void 0;
const mongoose_1 = __importStar(require("mongoose"));
const PersonaSchema = new mongoose_1.Schema({
    ownerId: { type: mongoose_1.Schema.Types.ObjectId, ref: 'User', required: true },
    name: { type: String, required: true, trim: true },
    description: { type: String, required: true },
    systemPrompt: { type: String, required: true },
    voiceSettings: {
        provider: { type: String, required: true },
        voiceId: { type: String, required: true },
        settings: { type: mongoose_1.Schema.Types.Mixed },
    },
    price: { type: Number, default: 0 },
    isPublic: { type: Boolean, default: false },
    tags: [{ type: String }],
}, {
    timestamps: true,
});
// Indexes for search and marketplace filtering
PersonaSchema.index({ name: 'text', description: 'text', tags: 'text' });
PersonaSchema.index({ isPublic: 1, createdAt: -1 });
PersonaSchema.index({ ownerId: 1 });
exports.Persona = mongoose_1.default.model('Persona', PersonaSchema);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxBbGVqYW5kcm9cXEFJR2VzdGlvblxcYmFja2VuZFxcc3JjXFxtb2RlbHNcXFBlcnNvbmEudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEscURBQXNEO0FBb0J0RCxNQUFNLGFBQWEsR0FBVyxJQUFJLGlCQUFNLENBQ3RDO0lBQ0UsT0FBTyxFQUFFLEVBQUUsSUFBSSxFQUFFLGlCQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUU7SUFDckUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7SUFDbEQsV0FBVyxFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFO0lBQzdDLFlBQVksRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRTtJQUM5QyxhQUFhLEVBQUU7UUFDYixRQUFRLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUU7UUFDMUMsT0FBTyxFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFO1FBQ3pDLFFBQVEsRUFBRSxFQUFFLElBQUksRUFBRSxpQkFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUU7S0FDdkM7SUFDRCxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUU7SUFDbkMsUUFBUSxFQUFFLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFO0lBQzNDLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFDO0NBQ3pCLEVBQ0Q7SUFDRSxVQUFVLEVBQUUsSUFBSTtDQUNqQixDQUNGLENBQUM7QUFFRiwrQ0FBK0M7QUFDL0MsYUFBYSxDQUFDLEtBQUssQ0FBQyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsV0FBVyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQztBQUN6RSxhQUFhLENBQUMsS0FBSyxDQUFDLEVBQUUsUUFBUSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3BELGFBQWEsQ0FBQyxLQUFLLENBQUMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUV2QixRQUFBLE9BQU8sR0FBRyxrQkFBUSxDQUFDLEtBQUssQ0FBVyxTQUFTLEVBQUUsYUFBYSxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxBbGVqYW5kcm9cXEFJR2VzdGlvblxcYmFja2VuZFxcc3JjXFxtb2RlbHNcXFBlcnNvbmEudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7IERvY3VtZW50LCBTY2hlbWEgfSBmcm9tICdtb25nb29zZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVBlcnNvbmEgZXh0ZW5kcyBEb2N1bWVudCB7XG4gIGlkOiBzdHJpbmc7XG4gIG93bmVySWQ6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkO1xuICBuYW1lOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHN5c3RlbVByb21wdDogc3RyaW5nO1xuICB2b2ljZVNldHRpbmdzOiB7XG4gICAgcHJvdmlkZXI6IHN0cmluZzsgLy8gZS5nLiwgJ2VsZXZlbmxhYnMnLCAnb3BlbmFpJ1xuICAgIHZvaWNlSWQ6IHN0cmluZztcbiAgICBzZXR0aW5ncz86IFJlY29yZDxzdHJpbmcsIGFueT47IC8vIFByb3ZpZGVyIHNwZWNpZmljIHNldHRpbmdzIChzdGFiaWxpdHksIHNpbWlsYXJpdHlfYm9vc3QsIGV0Yy4pXG4gIH07XG4gIHByaWNlOiBudW1iZXI7IC8vIDAgZm9yIGZyZWVcbiAgaXNQdWJsaWM6IGJvb2xlYW47XG4gIHRhZ3M6IHN0cmluZ1tdO1xuICBjcmVhdGVkQXQ6IERhdGU7XG4gIHVwZGF0ZWRBdDogRGF0ZTtcbn1cblxuY29uc3QgUGVyc29uYVNjaGVtYTogU2NoZW1hID0gbmV3IFNjaGVtYShcbiAge1xuICAgIG93bmVySWQ6IHsgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdVc2VyJywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHRyaW06IHRydWUgfSxcbiAgICBkZXNjcmlwdGlvbjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgc3lzdGVtUHJvbXB0OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICB2b2ljZVNldHRpbmdzOiB7XG4gICAgICBwcm92aWRlcjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICB2b2ljZUlkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIHNldHRpbmdzOiB7IHR5cGU6IFNjaGVtYS5UeXBlcy5NaXhlZCB9LFxuICAgIH0sXG4gICAgcHJpY2U6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXG4gICAgaXNQdWJsaWM6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcbiAgICB0YWdzOiBbeyB0eXBlOiBTdHJpbmcgfV0sXG4gIH0sXG4gIHtcbiAgICB0aW1lc3RhbXBzOiB0cnVlLFxuICB9LFxuKTtcblxuLy8gSW5kZXhlcyBmb3Igc2VhcmNoIGFuZCBtYXJrZXRwbGFjZSBmaWx0ZXJpbmdcblBlcnNvbmFTY2hlbWEuaW5kZXgoeyBuYW1lOiAndGV4dCcsIGRlc2NyaXB0aW9uOiAndGV4dCcsIHRhZ3M6ICd0ZXh0JyB9KTtcblBlcnNvbmFTY2hlbWEuaW5kZXgoeyBpc1B1YmxpYzogMSwgY3JlYXRlZEF0OiAtMSB9KTtcblBlcnNvbmFTY2hlbWEuaW5kZXgoeyBvd25lcklkOiAxIH0pO1xuXG5leHBvcnQgY29uc3QgUGVyc29uYSA9IG1vbmdvb3NlLm1vZGVsPElQZXJzb25hPignUGVyc29uYScsIFBlcnNvbmFTY2hlbWEpO1xuIl0sInZlcnNpb24iOjN9