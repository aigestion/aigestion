{"file":"C:\\Users\\Alejandro\\AIGestion\\backend\\src\\models\\Log.ts","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qDAAsD;AAUtD,MAAM,SAAS,GAAG,IAAI,iBAAM,CAC1B;IACE,KAAK,EAAE;QACL,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,CAAC;QACxC,QAAQ,EAAE,IAAI;KACf;IACD,OAAO,EAAE;QACP,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACf;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,KAAK;KACzB;IACD,MAAM,EAAE;QACN,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE,QAAQ;KAClB;IACD,SAAS,EAAE;QACT,IAAI,EAAE,IAAI;QACV,OAAO,EAAE,IAAI,CAAC,GAAG;KAClB;CACF,EACD;IACE,UAAU,EAAE,IAAI;CACjB,CACF,CAAC;AAEF,4DAA4D;AAC5D,SAAS,CAAC,KAAK,CAAC,EAAE,SAAS,EAAE,CAAC,EAAE,EAAE,EAAE,kBAAkB,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;AAE7E,MAAM,GAAG,GAAG,kBAAQ,CAAC,KAAK,CAAO,KAAK,EAAE,SAAS,CAAC,CAAC;AAEnD,kBAAe,GAAG,CAAC","names":[],"sources":["C:\\Users\\Alejandro\\AIGestion\\backend\\src\\models\\Log.ts"],"sourcesContent":["import mongoose, { Document, Schema } from 'mongoose';\n\nexport interface ILog extends Document {\n  level: 'info' | 'warn' | 'error' | 'debug';\n  message: string;\n  metadata?: any;\n  source: string;\n  timestamp: Date;\n}\n\nconst logSchema = new Schema<ILog>(\n  {\n    level: {\n      type: String,\n      enum: ['info', 'warn', 'error', 'debug'],\n      required: true,\n    },\n    message: {\n      type: String,\n      required: true,\n    },\n    metadata: {\n      type: Schema.Types.Mixed,\n    },\n    source: {\n      type: String,\n      default: 'system',\n    },\n    timestamp: {\n      type: Date,\n      default: Date.now,\n    },\n  },\n  {\n    timestamps: true,\n  },\n);\n\n// TTL index to automatically delete logs older than 30 days\nlogSchema.index({ timestamp: 1 }, { expireAfterSeconds: 30 * 24 * 60 * 60 });\n\nconst Log = mongoose.model<ILog>('Log', logSchema);\n\nexport default Log;\n"],"version":3}