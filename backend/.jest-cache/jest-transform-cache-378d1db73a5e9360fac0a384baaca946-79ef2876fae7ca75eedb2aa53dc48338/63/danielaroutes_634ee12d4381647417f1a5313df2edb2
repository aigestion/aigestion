f0795ace78f4b4502e0417b894944f22
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const inversify_config_1 = require("../config/inversify.config");
const types_1 = require("../types");
const auth_middleware_1 = require("../middleware/auth.middleware");
const router = (0, express_1.Router)();
// Controller resolution moved inside route handlers
/**
 * @route POST /api/v1/daniela/chat
 * @desc Interaction with Daniela AI
 * @access Private
 */
router.post('/chat', auth_middleware_1.protect, (req, res, next) => inversify_config_1.container.get(types_1.TYPES.DanielaController).chat(req, res, next));
router.get('/status', auth_middleware_1.protect, (req, res, next) => inversify_config_1.container.get(types_1.TYPES.DanielaController).getStatus(req, res, next));
router.get('/system-status', auth_middleware_1.protect, (req, res, next) => inversify_config_1.container.get(types_1.TYPES.DanielaController).getSystemStatus(req, res, next));
router.get('/insights', auth_middleware_1.protect, (req, res, next) => inversify_config_1.container.get(types_1.TYPES.DanielaController).getInsights(req, res, next));
exports.default = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxBbGVqYW5kcm9cXEFJR2VzdGlvblxcYmFja2VuZFxcc3JjXFxyb3V0ZXNcXGRhbmllbGEucm91dGVzLnRzIiwibWFwcGluZ3MiOiI7O0FBQUEscUNBQWlDO0FBQ2pDLGlFQUF1RDtBQUV2RCxvQ0FBaUM7QUFDakMsbUVBQXdEO0FBRXhELE1BQU0sTUFBTSxHQUFHLElBQUEsZ0JBQU0sR0FBRSxDQUFDO0FBQ3hCLG9EQUFvRDtBQUVwRDs7OztHQUlHO0FBQ0gsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUseUJBQU8sRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FDL0MsNEJBQVMsQ0FBQyxHQUFHLENBQW9CLGFBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUMvRSxDQUFDO0FBQ0YsTUFBTSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUseUJBQU8sRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FDaEQsNEJBQVMsQ0FBQyxHQUFHLENBQW9CLGFBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUNwRixDQUFDO0FBQ0YsTUFBTSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSx5QkFBTyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUN2RCw0QkFBUyxDQUFDLEdBQUcsQ0FBb0IsYUFBSyxDQUFDLGlCQUFpQixDQUFDLENBQUMsZUFBZSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQzFGLENBQUM7QUFDRixNQUFNLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSx5QkFBTyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUNsRCw0QkFBUyxDQUFDLEdBQUcsQ0FBb0IsYUFBSyxDQUFDLGlCQUFpQixDQUFDLENBQUMsV0FBVyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQ3RGLENBQUM7QUFFRixrQkFBZSxNQUFNLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxBbGVqYW5kcm9cXEFJR2VzdGlvblxcYmFja2VuZFxcc3JjXFxyb3V0ZXNcXGRhbmllbGEucm91dGVzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHsgY29udGFpbmVyIH0gZnJvbSAnLi4vY29uZmlnL2ludmVyc2lmeS5jb25maWcnO1xuaW1wb3J0IHsgRGFuaWVsYUNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9kYW5pZWxhLmNvbnRyb2xsZXInO1xuaW1wb3J0IHsgVFlQRVMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBwcm90ZWN0IH0gZnJvbSAnLi4vbWlkZGxld2FyZS9hdXRoLm1pZGRsZXdhcmUnO1xuXG5jb25zdCByb3V0ZXIgPSBSb3V0ZXIoKTtcbi8vIENvbnRyb2xsZXIgcmVzb2x1dGlvbiBtb3ZlZCBpbnNpZGUgcm91dGUgaGFuZGxlcnNcblxuLyoqXG4gKiBAcm91dGUgUE9TVCAvYXBpL3YxL2RhbmllbGEvY2hhdFxuICogQGRlc2MgSW50ZXJhY3Rpb24gd2l0aCBEYW5pZWxhIEFJXG4gKiBAYWNjZXNzIFByaXZhdGVcbiAqL1xucm91dGVyLnBvc3QoJy9jaGF0JywgcHJvdGVjdCwgKHJlcSwgcmVzLCBuZXh0KSA9PlxuICBjb250YWluZXIuZ2V0PERhbmllbGFDb250cm9sbGVyPihUWVBFUy5EYW5pZWxhQ29udHJvbGxlcikuY2hhdChyZXEsIHJlcywgbmV4dCksXG4pO1xucm91dGVyLmdldCgnL3N0YXR1cycsIHByb3RlY3QsIChyZXEsIHJlcywgbmV4dCkgPT5cbiAgY29udGFpbmVyLmdldDxEYW5pZWxhQ29udHJvbGxlcj4oVFlQRVMuRGFuaWVsYUNvbnRyb2xsZXIpLmdldFN0YXR1cyhyZXEsIHJlcywgbmV4dCksXG4pO1xucm91dGVyLmdldCgnL3N5c3RlbS1zdGF0dXMnLCBwcm90ZWN0LCAocmVxLCByZXMsIG5leHQpID0+XG4gIGNvbnRhaW5lci5nZXQ8RGFuaWVsYUNvbnRyb2xsZXI+KFRZUEVTLkRhbmllbGFDb250cm9sbGVyKS5nZXRTeXN0ZW1TdGF0dXMocmVxLCByZXMsIG5leHQpLFxuKTtcbnJvdXRlci5nZXQoJy9pbnNpZ2h0cycsIHByb3RlY3QsIChyZXEsIHJlcywgbmV4dCkgPT5cbiAgY29udGFpbmVyLmdldDxEYW5pZWxhQ29udHJvbGxlcj4oVFlQRVMuRGFuaWVsYUNvbnRyb2xsZXIpLmdldEluc2lnaHRzKHJlcSwgcmVzLCBuZXh0KSxcbik7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdLCJ2ZXJzaW9uIjozfQ==