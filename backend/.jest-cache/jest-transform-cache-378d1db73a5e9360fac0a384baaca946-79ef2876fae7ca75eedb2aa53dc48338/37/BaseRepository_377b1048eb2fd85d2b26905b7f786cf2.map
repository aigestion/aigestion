{"file":"C:\\Users\\Alejandro\\AIGestion\\backend\\src\\infrastructure\\repository\\BaseRepository.ts","mappings":";AAAA,kDAAkD;;;AAMlD,MAAa,cAAc;IACjB,KAAK,GAAG,IAAI,GAAG,EAAa,CAAC;IAErC,kDAAkD;IAClD,KAAK,CAAC,MAAM,CAAC,QAAoB,EAAE,SAAa;QAC9C,IAAI,IAAO,CAAC;QACZ,IAAI,OAAO,QAAQ,KAAK,QAAQ,IAAI,SAAS,EAAE,CAAC;YAC9C,qCAAqC;YACpC,SAAiB,CAAC,EAAE,GAAG,QAAQ,CAAC;YACjC,IAAI,GAAG,SAAS,CAAC;QACnB,CAAC;aAAM,CAAC;YACN,IAAI,GAAG,QAAa,CAAC;QACvB,CAAC;QACD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;QAC9B,OAAO,IAAI,CAAC;IACd,CAAC;IAED,KAAK,CAAC,OAAO;QACX,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC;IACzC,CAAC;IAED,KAAK,CAAC,QAAQ,CAAC,EAAU;QACvB,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC;IACpC,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,EAAU,EAAE,IAAgB;QACvC,MAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QACpC,IAAI,CAAC,QAAQ,EAAE,CAAC;YACd,OAAO,IAAI,CAAC;QACd,CAAC;QACD,MAAM,OAAO,GAAG,EAAE,GAAG,QAAQ,EAAE,GAAG,IAAI,EAAO,CAAC;QAC9C,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;QAC5B,OAAO,OAAO,CAAC;IACjB,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,EAAU;QACrB,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IAC/B,CAAC;CACF;AAtCD,wCAsCC","names":[],"sources":["C:\\Users\\Alejandro\\AIGestion\\backend\\src\\infrastructure\\repository\\BaseRepository.ts"],"sourcesContent":["// src/infrastructure/repository/BaseRepository.ts\n\nexport interface IEntity {\n  id: string;\n}\n\nexport class BaseRepository<T extends IEntity> {\n  private items = new Map<string, T>();\n\n  // Supports both create(item) and create(id, item)\n  async create(idOrItem: string | T, maybeItem?: T): Promise<T> {\n    let item: T;\n    if (typeof idOrItem === 'string' && maybeItem) {\n      // Ensure the item has the correct id\n      (maybeItem as any).id = idOrItem;\n      item = maybeItem;\n    } else {\n      item = idOrItem as T;\n    }\n    this.items.set(item.id, item);\n    return item;\n  }\n\n  async findAll(): Promise<T[]> {\n    return Array.from(this.items.values());\n  }\n\n  async findById(id: string): Promise<T | null> {\n    return this.items.get(id) ?? null;\n  }\n\n  async update(id: string, data: Partial<T>): Promise<T | null> {\n    const existing = this.items.get(id);\n    if (!existing) {\n      return null;\n    }\n    const updated = { ...existing, ...data } as T;\n    this.items.set(id, updated);\n    return updated;\n  }\n\n  async delete(id: string): Promise<boolean> {\n    return this.items.delete(id);\n  }\n}\n"],"version":3}