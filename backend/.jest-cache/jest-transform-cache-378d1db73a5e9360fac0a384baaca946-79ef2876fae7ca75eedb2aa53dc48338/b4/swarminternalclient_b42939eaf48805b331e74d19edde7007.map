{"file":"C:\\Users\\Alejandro\\AIGestion\\backend\\src\\services\\swarm-internal.client.ts","mappings":";;;;;;;;;;;;;;;AAAA,kDAAyE;AACzE,yCAAuC;AACvC,qDAA2C;AAC3C,4CAAyC;AAEzC;;;GAGG;AAEI,IAAM,mBAAmB,GAAzB,MAAM,mBAAmB;IACtB,MAAM,CAAgB;IAE9B;QACE,IAAI,CAAC,MAAM,GAAG,eAAK,CAAC,MAAM,CAAC;YACzB,OAAO,EAAE,gBAAG,CAAC,aAAa,IAAI,uBAAuB;YACrD,OAAO,EAAE;gBACP,cAAc,EAAE,kBAAkB;gBAClC,WAAW,EAAE,gBAAG,CAAC,iBAAiB;aACnC;YACD,OAAO,EAAE,KAAK,EAAE,oCAAoC;SACrD,CAAC,CAAC;QAEH,sBAAsB;QACtB,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,MAAkC,EAAE,EAAE;YAC1E,IAAI,MAAM,EAAE,CAAC;gBACX,eAAM,CAAC,KAAK,CAAC,oCAAoC,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC;YAClF,CAAC;YACD,OAAO,MAAM,CAAC;QAChB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CACnC,QAAQ,CAAC,EAAE,CAAC,QAAQ,EACpB,KAAK,CAAC,EAAE;YACN,eAAM,CAAC,KAAK,CAAC,gCAAgC,KAAK,CAAC,OAAO,EAAE,EAAE;gBAC5D,GAAG,EAAE,KAAK,CAAC,MAAM,EAAE,GAAG;gBACtB,MAAM,EAAE,KAAK,CAAC,QAAQ,EAAE,MAAM;aAC/B,CAAC,CAAC;YACH,OAAO,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAC/B,CAAC,CACF,CAAC;IACJ,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,SAAS;QACb,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAClD,OAAO,QAAQ,CAAC,IAAI,CAAC;IACvB,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,gBAAgB;QACpB,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAC1D,OAAO,QAAQ,CAAC,IAAI,CAAC;IACvB,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,IAAI,CAAC,IAAY,EAAE,IAAS;QAChC,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACpD,OAAO,QAAQ,CAAC,IAAI,CAAC;IACvB,CAAC;CACF,CAAA;AAxDY,kDAAmB;8BAAnB,mBAAmB;IAD/B,IAAA,sBAAU,GAAE;;GACA,mBAAmB,CAwD/B","names":[],"sources":["C:\\Users\\Alejandro\\AIGestion\\backend\\src\\services\\swarm-internal.client.ts"],"sourcesContent":["import axios, { AxiosInstance, InternalAxiosRequestConfig } from 'axios';\nimport { injectable } from 'inversify';\nimport { env } from '../config/env.schema';\nimport { logger } from '../utils/logger';\n\n/**\n * [GOD MODE] Swarm Internal Client\n * Handles authenticated communication with the Python Swarm IA Engine.\n */\n@injectable()\nexport class SwarmInternalClient {\n  private client: AxiosInstance;\n\n  constructor() {\n    this.client = axios.create({\n      baseURL: env.IA_ENGINE_URL || 'http://localhost:8000',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-API-Key': env.IA_ENGINE_API_KEY,\n      },\n      timeout: 30000, // Autonomous agents might take time\n    });\n\n    // Logging interceptor\n    this.client.interceptors.request.use((config: InternalAxiosRequestConfig) => {\n      if (config) {\n        logger.debug(`[SwarmInternalClient] Request to ${config.baseURL}${config.url}`);\n      }\n      return config;\n    });\n\n    this.client.interceptors.response.use(\n      response => response,\n      error => {\n        logger.error(`[SwarmInternalClient] Error: ${error.message}`, {\n          url: error.config?.url,\n          status: error.response?.status,\n        });\n        return Promise.reject(error);\n      },\n    );\n  }\n\n  /**\n   * Status check\n   */\n  async getStatus(): Promise<any> {\n    const response = await this.client.get('/health');\n    return response.data;\n  }\n\n  /**\n   * Calling Daniela's specialized routes\n   */\n  async getDanielaStatus(): Promise<any> {\n    const response = await this.client.get('/daniela/status');\n    return response.data;\n  }\n\n  /**\n   * Generic Post\n   */\n  async post(path: string, data: any): Promise<any> {\n    const response = await this.client.post(path, data);\n    return response.data;\n  }\n}\n"],"version":3}