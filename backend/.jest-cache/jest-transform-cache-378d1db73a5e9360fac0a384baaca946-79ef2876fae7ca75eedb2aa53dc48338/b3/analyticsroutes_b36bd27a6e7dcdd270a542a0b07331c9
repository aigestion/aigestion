3a737473395bc7a7888ff453357c449c
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const inversify_config_1 = require("../config/inversify.config");
const types_1 = require("../types");
const cache_middleware_1 = require("../middleware/cache.middleware");
const router = (0, express_1.Router)();
const controller = inversify_config_1.container.get(types_1.TYPES.AnalyticsController);
router.get('/overview', (0, cache_middleware_1.cacheMiddleware)(600), (req, res, next) => controller.getAnalyticsOverview(req, res, next));
router.get('/user-activity', (0, cache_middleware_1.cacheMiddleware)(300), (req, res, next) => controller.getUserActivity(req, res, next));
router.get('/system-usage', (0, cache_middleware_1.cacheMiddleware)(120), (req, res, next) => controller.getSystemUsage(req, res, next));
router.get('/error-rates', (0, cache_middleware_1.cacheMiddleware)(60), (req, res, next) => controller.getErrorRates(req, res, next));
router.get('/dashboard-data', (0, cache_middleware_1.cacheMiddleware)(300), (req, res, next) => controller.getDashboardData(req, res, next));
router.get('/export', (req, res, next) => controller.exportReport(req, res, next));
exports.default = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxBbGVqYW5kcm9cXEFJR2VzdGlvblxcYmFja2VuZFxcc3JjXFxyb3V0ZXNcXGFuYWx5dGljcy5yb3V0ZXMudHMiLCJtYXBwaW5ncyI6Ijs7QUFBQSxxQ0FBaUM7QUFDakMsaUVBQXVEO0FBQ3ZELG9DQUFpQztBQUVqQyxxRUFBaUU7QUFFakUsTUFBTSxNQUFNLEdBQUcsSUFBQSxnQkFBTSxHQUFFLENBQUM7QUFDeEIsTUFBTSxVQUFVLEdBQUcsNEJBQVMsQ0FBQyxHQUFHLENBQXNCLGFBQUssQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0FBRWpGLE1BQU0sQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLElBQUEsa0NBQWUsRUFBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FDL0QsVUFBVSxDQUFDLG9CQUFvQixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQ2hELENBQUM7QUFDRixNQUFNLENBQUMsR0FBRyxDQUFDLGdCQUFnQixFQUFFLElBQUEsa0NBQWUsRUFBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FDcEUsVUFBVSxDQUFDLGVBQWUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUMzQyxDQUFDO0FBQ0YsTUFBTSxDQUFDLEdBQUcsQ0FBQyxlQUFlLEVBQUUsSUFBQSxrQ0FBZSxFQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUNuRSxVQUFVLENBQUMsY0FBYyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQzFDLENBQUM7QUFDRixNQUFNLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBRSxJQUFBLGtDQUFlLEVBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLENBQ2pFLFVBQVUsQ0FBQyxhQUFhLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FDekMsQ0FBQztBQUNGLE1BQU0sQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUUsSUFBQSxrQ0FBZSxFQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUNyRSxVQUFVLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FDNUMsQ0FBQztBQUNGLE1BQU0sQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBRW5GLGtCQUFlLE1BQU0sQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJDOlxcVXNlcnNcXEFsZWphbmRyb1xcQUlHZXN0aW9uXFxiYWNrZW5kXFxzcmNcXHJvdXRlc1xcYW5hbHl0aWNzLnJvdXRlcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdleHByZXNzJztcbmltcG9ydCB7IGNvbnRhaW5lciB9IGZyb20gJy4uL2NvbmZpZy9pbnZlcnNpZnkuY29uZmlnJztcbmltcG9ydCB7IFRZUEVTIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgQW5hbHl0aWNzQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL2FuYWx5dGljcy5jb250cm9sbGVyJztcbmltcG9ydCB7IGNhY2hlTWlkZGxld2FyZSB9IGZyb20gJy4uL21pZGRsZXdhcmUvY2FjaGUubWlkZGxld2FyZSc7XG5cbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xuY29uc3QgY29udHJvbGxlciA9IGNvbnRhaW5lci5nZXQ8QW5hbHl0aWNzQ29udHJvbGxlcj4oVFlQRVMuQW5hbHl0aWNzQ29udHJvbGxlcik7XG5cbnJvdXRlci5nZXQoJy9vdmVydmlldycsIGNhY2hlTWlkZGxld2FyZSg2MDApLCAocmVxLCByZXMsIG5leHQpID0+XG4gIGNvbnRyb2xsZXIuZ2V0QW5hbHl0aWNzT3ZlcnZpZXcocmVxLCByZXMsIG5leHQpLFxuKTtcbnJvdXRlci5nZXQoJy91c2VyLWFjdGl2aXR5JywgY2FjaGVNaWRkbGV3YXJlKDMwMCksIChyZXEsIHJlcywgbmV4dCkgPT5cbiAgY29udHJvbGxlci5nZXRVc2VyQWN0aXZpdHkocmVxLCByZXMsIG5leHQpLFxuKTtcbnJvdXRlci5nZXQoJy9zeXN0ZW0tdXNhZ2UnLCBjYWNoZU1pZGRsZXdhcmUoMTIwKSwgKHJlcSwgcmVzLCBuZXh0KSA9PlxuICBjb250cm9sbGVyLmdldFN5c3RlbVVzYWdlKHJlcSwgcmVzLCBuZXh0KSxcbik7XG5yb3V0ZXIuZ2V0KCcvZXJyb3ItcmF0ZXMnLCBjYWNoZU1pZGRsZXdhcmUoNjApLCAocmVxLCByZXMsIG5leHQpID0+XG4gIGNvbnRyb2xsZXIuZ2V0RXJyb3JSYXRlcyhyZXEsIHJlcywgbmV4dCksXG4pO1xucm91dGVyLmdldCgnL2Rhc2hib2FyZC1kYXRhJywgY2FjaGVNaWRkbGV3YXJlKDMwMCksIChyZXEsIHJlcywgbmV4dCkgPT5cbiAgY29udHJvbGxlci5nZXREYXNoYm9hcmREYXRhKHJlcSwgcmVzLCBuZXh0KSxcbik7XG5yb3V0ZXIuZ2V0KCcvZXhwb3J0JywgKHJlcSwgcmVzLCBuZXh0KSA9PiBjb250cm9sbGVyLmV4cG9ydFJlcG9ydChyZXEsIHJlcywgbmV4dCkpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iXSwidmVyc2lvbiI6M30=