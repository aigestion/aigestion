{"file":"C:\\Users\\Alejandro\\AIGestion\\backend\\src\\models\\Notification.ts","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qDAAsD;AAEtD,IAAY,gBAMX;AAND,WAAY,gBAAgB;IAC1B,uDAAmC,CAAA;IACnC,yDAAqC,CAAA;IACrC,2DAAuC,CAAA;IACvC,qDAAiC,CAAA;IACjC,qCAAiB,CAAA;AACnB,CAAC,EANW,gBAAgB,gCAAhB,gBAAgB,QAM3B;AAcD,MAAM,kBAAkB,GAAG,IAAI,iBAAM,CACnC;IACE,MAAM,EAAE;QACN,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACf;IACD,IAAI,EAAE;QACJ,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,MAAM,CAAC,MAAM,CAAC,gBAAgB,CAAC;QACrC,QAAQ,EAAE,IAAI;KACf;IACD,KAAK,EAAE;QACL,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACf;IACD,OAAO,EAAE;QACP,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACf;IACD,IAAI,EAAE;QACJ,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,KAAK;KACzB;IACD,IAAI,EAAE;QACJ,IAAI,EAAE,OAAO;QACb,OAAO,EAAE,KAAK;KACf;CACF,EACD;IACE,UAAU,EAAE,IAAI;CACjB,CACF,CAAC;AAEF,sEAAsE;AACtE,kBAAkB,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;AAEvD,MAAM,YAAY,GAAG,kBAAQ,CAAC,KAAK,CAAgB,cAAc,EAAE,kBAAkB,CAAC,CAAC;AAE9E,oCAAY","names":[],"sources":["C:\\Users\\Alejandro\\AIGestion\\backend\\src\\models\\Notification.ts"],"sourcesContent":["import mongoose, { Document, Schema } from 'mongoose';\n\nexport enum NotificationType {\n  MISSION_STARTED = 'mission:started',\n  MISSION_PROGRESS = 'mission:progress',\n  MISSION_COMPLETED = 'mission:completed',\n  MISSION_FAILED = 'mission:failed',\n  SYSTEM = 'system',\n}\n\nexport interface INotification extends Document {\n  id: string;\n  userId: string;\n  type: NotificationType;\n  title: string;\n  message: string;\n  data?: any;\n  read: boolean;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nconst notificationSchema = new Schema<INotification>(\n  {\n    userId: {\n      type: String,\n      required: true,\n    },\n    type: {\n      type: String,\n      enum: Object.values(NotificationType),\n      required: true,\n    },\n    title: {\n      type: String,\n      required: true,\n    },\n    message: {\n      type: String,\n      required: true,\n    },\n    data: {\n      type: Schema.Types.Mixed,\n    },\n    read: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  {\n    timestamps: true,\n  },\n);\n\n// Add index for fetching unread notifications or recent notifications\nnotificationSchema.index({ userId: 1, createdAt: -1 });\n\nconst Notification = mongoose.model<INotification>('Notification', notificationSchema);\n\nexport { Notification };\n"],"version":3}