d9770e62b49a756db3f2d2b23627ffa0
"use strict";
/**
 * Sprint 1: Task 1.1 - REST API Refactoring Tests
 */
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const supertest_1 = __importDefault(require("supertest"));
const app_1 = require("../app");
const SKIP_DB_TESTS = process.env.NODE_ENV === 'test' && !process.env.RUN_INTEGRATION_TESTS;
(SKIP_DB_TESTS ? describe.skip : describe)('API v1 - REST Refactoring', () => {
    let uniqueEmail;
    beforeAll(async () => {
        uniqueEmail = `api-v1-${Date.now()}@example.com`;
    });
    describe('Standardized Response Format', () => {
        it('should return a user with a standardized response format', async () => {
            const response = await (0, supertest_1.default)(app_1.app)
                .post('/api/v1/users')
                .send({
                email: uniqueEmail,
                name: 'API Test User',
                password: 'Password123!',
            })
                .expect(201);
            expect(response.body.status).toBe(201);
            expect(response.body.data).toHaveProperty('id');
            expect(response.body.data.email).toBe(uniqueEmail);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxBbGVqYW5kcm9cXEFJR2VzdGlvblxcYmFja2VuZFxcc3JjXFxfX3Rlc3RzX19cXGFwaS12MS50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7R0FFRzs7Ozs7QUFFSCwwREFBZ0M7QUFDaEMsZ0NBQTZCO0FBRTdCLE1BQU0sYUFBYSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxLQUFLLE1BQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCLENBQUM7QUFFNUYsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLDJCQUEyQixFQUFFLEdBQUcsRUFBRTtJQUMzRSxJQUFJLFdBQW1CLENBQUM7SUFFeEIsU0FBUyxDQUFDLEtBQUssSUFBSSxFQUFFO1FBQ25CLFdBQVcsR0FBRyxVQUFVLElBQUksQ0FBQyxHQUFHLEVBQUUsY0FBYyxDQUFDO0lBQ25ELENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLDhCQUE4QixFQUFFLEdBQUcsRUFBRTtRQUM1QyxFQUFFLENBQUMsMERBQTBELEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDeEUsTUFBTSxRQUFRLEdBQUcsTUFBTSxJQUFBLG1CQUFPLEVBQUMsU0FBRyxDQUFDO2lCQUNoQyxJQUFJLENBQUMsZUFBZSxDQUFDO2lCQUNyQixJQUFJLENBQUM7Z0JBQ0osS0FBSyxFQUFFLFdBQVc7Z0JBQ2xCLElBQUksRUFBRSxlQUFlO2dCQUNyQixRQUFRLEVBQUUsY0FBYzthQUN6QixDQUFDO2lCQUNELE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUVmLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN2QyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDaEQsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNyRCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxBbGVqYW5kcm9cXEFJR2VzdGlvblxcYmFja2VuZFxcc3JjXFxfX3Rlc3RzX19cXGFwaS12MS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBTcHJpbnQgMTogVGFzayAxLjEgLSBSRVNUIEFQSSBSZWZhY3RvcmluZyBUZXN0c1xyXG4gKi9cclxuXHJcbmltcG9ydCByZXF1ZXN0IGZyb20gJ3N1cGVydGVzdCc7XHJcbmltcG9ydCB7IGFwcCB9IGZyb20gJy4uL2FwcCc7XHJcblxyXG5jb25zdCBTS0lQX0RCX1RFU1RTID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICd0ZXN0JyAmJiAhcHJvY2Vzcy5lbnYuUlVOX0lOVEVHUkFUSU9OX1RFU1RTO1xyXG5cclxuKFNLSVBfREJfVEVTVFMgPyBkZXNjcmliZS5za2lwIDogZGVzY3JpYmUpKCdBUEkgdjEgLSBSRVNUIFJlZmFjdG9yaW5nJywgKCkgPT4ge1xyXG4gIGxldCB1bmlxdWVFbWFpbDogc3RyaW5nO1xyXG5cclxuICBiZWZvcmVBbGwoYXN5bmMgKCkgPT4ge1xyXG4gICAgdW5pcXVlRW1haWwgPSBgYXBpLXYxLSR7RGF0ZS5ub3coKX1AZXhhbXBsZS5jb21gO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnU3RhbmRhcmRpemVkIFJlc3BvbnNlIEZvcm1hdCcsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGEgdXNlciB3aXRoIGEgc3RhbmRhcmRpemVkIHJlc3BvbnNlIGZvcm1hdCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAucG9zdCgnL2FwaS92MS91c2VycycpXHJcbiAgICAgICAgLnNlbmQoe1xyXG4gICAgICAgICAgZW1haWw6IHVuaXF1ZUVtYWlsLFxyXG4gICAgICAgICAgbmFtZTogJ0FQSSBUZXN0IFVzZXInLFxyXG4gICAgICAgICAgcGFzc3dvcmQ6ICdQYXNzd29yZDEyMyEnLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmV4cGVjdCgyMDEpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3RhdHVzKS50b0JlKDIwMSk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEpLnRvSGF2ZVByb3BlcnR5KCdpZCcpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhLmVtYWlsKS50b0JlKHVuaXF1ZUVtYWlsKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sInZlcnNpb24iOjN9