789eaf161006a13e7266d8cda0dccc5e
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AIModelRouter = exports.AIModelTier = void 0;
var AIModelTier;
(function (AIModelTier) {
    AIModelTier["ECONOMY"] = "economy";
    AIModelTier["STANDARD"] = "standard";
    AIModelTier["PREMIUM"] = "premium";
})(AIModelTier || (exports.AIModelTier = AIModelTier = {}));
class AIModelRouter {
    /**
     * Semantically routes a prompt to the most efficient model tier
     */
    static route(prompt) {
        const p = prompt.toLowerCase();
        // Heuristics for PREMIUM (Complex/Creative)
        const complexKeywords = [
            'analiza',
            'arquitectura',
            'optimiza',
            'explica a fondo',
            'reescribe',
            'complejo',
            'debuguea',
            'paso a paso',
        ];
        const isLong = prompt.length > 500;
        const hasComplexKeywords = complexKeywords.some(k => p.includes(k));
        if (isLong || hasComplexKeywords) {
            return AIModelTier.PREMIUM;
        }
        // Heuristics for ECONOMY (Fast/Simple)
        const simpleKeywords = ['hola', 'quien eres', 'dime la hora', 'ping', 'test'];
        const isVeryShort = prompt.length < 50;
        if (isVeryShort || simpleKeywords.some(k => p.includes(k))) {
            return AIModelTier.ECONOMY;
        }
        return AIModelTier.STANDARD;
    }
    /**
     * Gets the recommended model configuration for a given tier
     */
    static getModelConfig(tier) {
        switch (tier) {
            case AIModelTier.PREMIUM:
                // Use Claude 3.5 Sonnet for premium (Smartest)
                return { provider: 'anthropic', modelId: 'claude-3-5-sonnet-20241022' };
            case AIModelTier.ECONOMY:
                // Use Gemini 1.5 Flash for economy (Cheapest)
                return { provider: 'gemini', modelId: 'gemini-1.5-flash-8b' };
            case AIModelTier.STANDARD:
            default:
                // Use Gemini 3.0 Flash for standard (Fastest/Balanced)
                return { provider: 'gemini', modelId: 'gemini-3.0-flash' };
        }
    }
}
exports.AIModelRouter = AIModelRouter;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxBbGVqYW5kcm9cXEFJR2VzdGlvblxcYmFja2VuZFxcc3JjXFx1dGlsc1xcYWlSb3V0ZXIudHMiLCJtYXBwaW5ncyI6Ijs7O0FBRUEsSUFBWSxXQUlYO0FBSkQsV0FBWSxXQUFXO0lBQ3JCLGtDQUFtQixDQUFBO0lBQ25CLG9DQUFxQixDQUFBO0lBQ3JCLGtDQUFtQixDQUFBO0FBQ3JCLENBQUMsRUFKVyxXQUFXLDJCQUFYLFdBQVcsUUFJdEI7QUFPRCxNQUFhLGFBQWE7SUFDeEI7O09BRUc7SUFDSCxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQWM7UUFDekIsTUFBTSxDQUFDLEdBQUcsTUFBTSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBRS9CLDRDQUE0QztRQUM1QyxNQUFNLGVBQWUsR0FBRztZQUN0QixTQUFTO1lBQ1QsY0FBYztZQUNkLFVBQVU7WUFDVixpQkFBaUI7WUFDakIsV0FBVztZQUNYLFVBQVU7WUFDVixVQUFVO1lBQ1YsYUFBYTtTQUNkLENBQUM7UUFFRixNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQztRQUNuQyxNQUFNLGtCQUFrQixHQUFHLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFcEUsSUFBSSxNQUFNLElBQUksa0JBQWtCLEVBQUUsQ0FBQztZQUNqQyxPQUFPLFdBQVcsQ0FBQyxPQUFPLENBQUM7UUFDN0IsQ0FBQztRQUVELHVDQUF1QztRQUN2QyxNQUFNLGNBQWMsR0FBRyxDQUFDLE1BQU0sRUFBRSxZQUFZLEVBQUUsY0FBYyxFQUFFLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztRQUM5RSxNQUFNLFdBQVcsR0FBRyxNQUFNLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztRQUV2QyxJQUFJLFdBQVcsSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDM0QsT0FBTyxXQUFXLENBQUMsT0FBTyxDQUFDO1FBQzdCLENBQUM7UUFFRCxPQUFPLFdBQVcsQ0FBQyxRQUFRLENBQUM7SUFDOUIsQ0FBQztJQUVEOztPQUVHO0lBQ0gsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFpQjtRQUNyQyxRQUFRLElBQUksRUFBRSxDQUFDO1lBQ2IsS0FBSyxXQUFXLENBQUMsT0FBTztnQkFDdEIsK0NBQStDO2dCQUMvQyxPQUFPLEVBQUUsUUFBUSxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsNEJBQTRCLEVBQUUsQ0FBQztZQUMxRSxLQUFLLFdBQVcsQ0FBQyxPQUFPO2dCQUN0Qiw4Q0FBOEM7Z0JBQzlDLE9BQU8sRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxDQUFDO1lBQ2hFLEtBQUssV0FBVyxDQUFDLFFBQVEsQ0FBQztZQUMxQjtnQkFDRSx1REFBdUQ7Z0JBQ3ZELE9BQU8sRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxDQUFDO1FBQy9ELENBQUM7SUFDSCxDQUFDO0NBQ0Y7QUF0REQsc0NBc0RDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcQWxlamFuZHJvXFxBSUdlc3Rpb25cXGJhY2tlbmRcXHNyY1xcdXRpbHNcXGFpUm91dGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4vbG9nZ2VyJztcblxuZXhwb3J0IGVudW0gQUlNb2RlbFRpZXIge1xuICBFQ09OT01ZID0gJ2Vjb25vbXknLFxuICBTVEFOREFSRCA9ICdzdGFuZGFyZCcsXG4gIFBSRU1JVU0gPSAncHJlbWl1bScsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTW9kZWxDb25maWcge1xuICBwcm92aWRlcjogJ2dlbWluaScgfCAnb3BlbmFpJyB8ICdhbnRocm9waWMnO1xuICBtb2RlbElkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBBSU1vZGVsUm91dGVyIHtcbiAgLyoqXG4gICAqIFNlbWFudGljYWxseSByb3V0ZXMgYSBwcm9tcHQgdG8gdGhlIG1vc3QgZWZmaWNpZW50IG1vZGVsIHRpZXJcbiAgICovXG4gIHN0YXRpYyByb3V0ZShwcm9tcHQ6IHN0cmluZyk6IEFJTW9kZWxUaWVyIHtcbiAgICBjb25zdCBwID0gcHJvbXB0LnRvTG93ZXJDYXNlKCk7XG5cbiAgICAvLyBIZXVyaXN0aWNzIGZvciBQUkVNSVVNIChDb21wbGV4L0NyZWF0aXZlKVxuICAgIGNvbnN0IGNvbXBsZXhLZXl3b3JkcyA9IFtcbiAgICAgICdhbmFsaXphJyxcbiAgICAgICdhcnF1aXRlY3R1cmEnLFxuICAgICAgJ29wdGltaXphJyxcbiAgICAgICdleHBsaWNhIGEgZm9uZG8nLFxuICAgICAgJ3JlZXNjcmliZScsXG4gICAgICAnY29tcGxlam8nLFxuICAgICAgJ2RlYnVndWVhJyxcbiAgICAgICdwYXNvIGEgcGFzbycsXG4gICAgXTtcblxuICAgIGNvbnN0IGlzTG9uZyA9IHByb21wdC5sZW5ndGggPiA1MDA7XG4gICAgY29uc3QgaGFzQ29tcGxleEtleXdvcmRzID0gY29tcGxleEtleXdvcmRzLnNvbWUoayA9PiBwLmluY2x1ZGVzKGspKTtcblxuICAgIGlmIChpc0xvbmcgfHwgaGFzQ29tcGxleEtleXdvcmRzKSB7XG4gICAgICByZXR1cm4gQUlNb2RlbFRpZXIuUFJFTUlVTTtcbiAgICB9XG5cbiAgICAvLyBIZXVyaXN0aWNzIGZvciBFQ09OT01ZIChGYXN0L1NpbXBsZSlcbiAgICBjb25zdCBzaW1wbGVLZXl3b3JkcyA9IFsnaG9sYScsICdxdWllbiBlcmVzJywgJ2RpbWUgbGEgaG9yYScsICdwaW5nJywgJ3Rlc3QnXTtcbiAgICBjb25zdCBpc1ZlcnlTaG9ydCA9IHByb21wdC5sZW5ndGggPCA1MDtcblxuICAgIGlmIChpc1ZlcnlTaG9ydCB8fCBzaW1wbGVLZXl3b3Jkcy5zb21lKGsgPT4gcC5pbmNsdWRlcyhrKSkpIHtcbiAgICAgIHJldHVybiBBSU1vZGVsVGllci5FQ09OT01ZO1xuICAgIH1cblxuICAgIHJldHVybiBBSU1vZGVsVGllci5TVEFOREFSRDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSByZWNvbW1lbmRlZCBtb2RlbCBjb25maWd1cmF0aW9uIGZvciBhIGdpdmVuIHRpZXJcbiAgICovXG4gIHN0YXRpYyBnZXRNb2RlbENvbmZpZyh0aWVyOiBBSU1vZGVsVGllcik6IE1vZGVsQ29uZmlnIHtcbiAgICBzd2l0Y2ggKHRpZXIpIHtcbiAgICAgIGNhc2UgQUlNb2RlbFRpZXIuUFJFTUlVTTpcbiAgICAgICAgLy8gVXNlIENsYXVkZSAzLjUgU29ubmV0IGZvciBwcmVtaXVtIChTbWFydGVzdClcbiAgICAgICAgcmV0dXJuIHsgcHJvdmlkZXI6ICdhbnRocm9waWMnLCBtb2RlbElkOiAnY2xhdWRlLTMtNS1zb25uZXQtMjAyNDEwMjInIH07XG4gICAgICBjYXNlIEFJTW9kZWxUaWVyLkVDT05PTVk6XG4gICAgICAgIC8vIFVzZSBHZW1pbmkgMS41IEZsYXNoIGZvciBlY29ub215IChDaGVhcGVzdClcbiAgICAgICAgcmV0dXJuIHsgcHJvdmlkZXI6ICdnZW1pbmknLCBtb2RlbElkOiAnZ2VtaW5pLTEuNS1mbGFzaC04YicgfTtcbiAgICAgIGNhc2UgQUlNb2RlbFRpZXIuU1RBTkRBUkQ6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyBVc2UgR2VtaW5pIDMuMCBGbGFzaCBmb3Igc3RhbmRhcmQgKEZhc3Rlc3QvQmFsYW5jZWQpXG4gICAgICAgIHJldHVybiB7IHByb3ZpZGVyOiAnZ2VtaW5pJywgbW9kZWxJZDogJ2dlbWluaS0zLjAtZmxhc2gnIH07XG4gICAgfVxuICB9XG59XG4iXSwidmVyc2lvbiI6M30=