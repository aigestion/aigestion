{"file":"C:\\Users\\Alejandro\\AIGestion\\backend\\src\\application\\usecases\\UpdateUserRoleUseCase.ts","mappings":";;;;;;;;;;;;;;;AAAA,yCAA+C;AAE/C,uCAAoC;AACpC,+CAA8C;AAGvC,IAAM,qBAAqB,GAA3B,MAAM,qBAAqB;IACkB;IAAlD,YAAkD,cAA+B;QAA/B,mBAAc,GAAd,cAAc,CAAiB;IAAG,CAAC;IAErF,KAAK,CAAC,OAAO,CAAC,MAAc,EAAE,IAA+B;QAC3D,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAExD,IAAI,CAAC,IAAI,EAAE,CAAC;YACV,MAAM,IAAI,iBAAQ,CAAC,uBAAuB,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;QAChE,CAAC;QAED,cAAc;QACd,MAAM,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC;QAEnD,2CAA2C;QAC3C,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAC/D,OAAO,WAAW,CAAC;IACrB,CAAC;CACF,CAAA;AAjBY,sDAAqB;gCAArB,qBAAqB;IADjC,IAAA,sBAAU,GAAE;IAEE,WAAA,IAAA,kBAAM,EAAC,aAAK,CAAC,cAAc,CAAC,CAAA;;GAD9B,qBAAqB,CAiBjC","names":[],"sources":["C:\\Users\\Alejandro\\AIGestion\\backend\\src\\application\\usecases\\UpdateUserRoleUseCase.ts"],"sourcesContent":["import { injectable, inject } from 'inversify';\nimport type { IUserRepository } from '../../infrastructure/repository/UserRepository';\nimport { TYPES } from '../../types';\nimport { AppError } from '../../utils/errors';\n\n@injectable()\nexport class UpdateUserRoleUseCase {\n  constructor(@inject(TYPES.UserRepository) private userRepository: IUserRepository) {}\n\n  async execute(userId: string, role: 'family' | 'professional'): Promise<any> {\n    const user = await this.userRepository.findById(userId);\n\n    if (!user) {\n      throw new AppError('Usuario no encontrado', 404, 'NOT_FOUND');\n    }\n\n    // Update role\n    await this.userRepository.update(userId, { role });\n\n    // Return updated user (excluding password)\n    const updatedUser = await this.userRepository.findById(userId);\n    return updatedUser;\n  }\n}\n"],"version":3}