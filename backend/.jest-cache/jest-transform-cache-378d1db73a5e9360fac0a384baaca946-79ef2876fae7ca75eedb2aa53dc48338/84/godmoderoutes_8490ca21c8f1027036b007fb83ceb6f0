a6eb6305b7bc74b5cb9c50f2d28f9f34
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const inversify_config_1 = require("../config/inversify.config");
const router = (0, express_1.Router)();
// Controller resolution moved inside route handlers to avoid circular dependency
/**
 * @openapi
 * /god-mode/projects:
 *   get:
 *     summary: List all AI projects
 *     tags: [God Mode]
 */
router.get('/projects', (req, res, next) => inversify_config_1.container.get(inversify_config_1.TYPES.GodModeController).listProjects(req, res, next));
router.post('/projects', (req, res, next) => inversify_config_1.container.get(inversify_config_1.TYPES.GodModeController).createProject(req, res, next));
/**
 * @openapi
 * /god-mode/search:
 *   post:
 *     summary: Execute Hybrid Search (Vector + Full Text)
 *     tags: [God Mode]
 */
router.post('/search', (req, res, next) => inversify_config_1.container.get(inversify_config_1.TYPES.GodModeController).hybridSearch(req, res, next));
/**
 * @openapi
 * /god-mode/prompts:
 *   get:
 *     summary: List all available prompt templates
 *     tags: [God Mode]
 */
router.get('/prompts', (req, res, next) => inversify_config_1.container.get(inversify_config_1.TYPES.GodModeController).listPrompts(req, res, next));
/**
 * @openapi
 * /god-mode/prompts/:name:
 *   get:
 *     summary: Get a specific prompt template by name
 *     tags: [God Mode]
 */
router.get('/prompts/:name', (req, res, next) => inversify_config_1.container.get(inversify_config_1.TYPES.GodModeController).getPrompt(req, res, next));
/**
 * @openapi
 * /god-mode/audit:
 *   get:
 *     summary: View recent audit logs
 *     tags: [God Mode]
 */
router.get('/audit', (req, res, next) => inversify_config_1.container.get(inversify_config_1.TYPES.GodModeController).getAuditLogs(req, res, next));
/**
 * @openapi
 * /god-mode/test-notification:
 *   post:
 *     summary: Test sovereign notification channels
 *     tags: [God Mode]
 */
router.post('/test-notification', (req, res, next) => inversify_config_1.container.get(inversify_config_1.TYPES.GodModeController).testNotification(req, res, next));
exports.default = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxBbGVqYW5kcm9cXEFJR2VzdGlvblxcYmFja2VuZFxcc3JjXFxyb3V0ZXNcXGdvZG1vZGUucm91dGVzLnRzIiwibWFwcGluZ3MiOiI7O0FBQUEscUNBQWlDO0FBQ2pDLGlFQUE4RDtBQUc5RCxNQUFNLE1BQU0sR0FBRyxJQUFBLGdCQUFNLEdBQUUsQ0FBQztBQUV4QixpRkFBaUY7QUFFakY7Ozs7OztHQU1HO0FBQ0gsTUFBTSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLENBQ3pDLDRCQUFTLENBQUMsR0FBRyxDQUFvQix3QkFBSyxDQUFDLGlCQUFpQixDQUFDLENBQUMsWUFBWSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQ3ZGLENBQUM7QUFDRixNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FDMUMsNEJBQVMsQ0FBQyxHQUFHLENBQW9CLHdCQUFLLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxhQUFhLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FDeEYsQ0FBQztBQUVGOzs7Ozs7R0FNRztBQUNILE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUN4Qyw0QkFBUyxDQUFDLEdBQUcsQ0FBb0Isd0JBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUN2RixDQUFDO0FBRUY7Ozs7OztHQU1HO0FBQ0gsTUFBTSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLENBQ3hDLDRCQUFTLENBQUMsR0FBRyxDQUFvQix3QkFBSyxDQUFDLGlCQUFpQixDQUFDLENBQUMsV0FBVyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQ3RGLENBQUM7QUFFRjs7Ozs7O0dBTUc7QUFDSCxNQUFNLENBQUMsR0FBRyxDQUFDLGdCQUFnQixFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUM5Qyw0QkFBUyxDQUFDLEdBQUcsQ0FBb0Isd0JBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUNwRixDQUFDO0FBRUY7Ozs7OztHQU1HO0FBQ0gsTUFBTSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLENBQ3RDLDRCQUFTLENBQUMsR0FBRyxDQUFvQix3QkFBSyxDQUFDLGlCQUFpQixDQUFDLENBQUMsWUFBWSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQ3ZGLENBQUM7QUFFRjs7Ozs7O0dBTUc7QUFDSCxNQUFNLENBQUMsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUNuRCw0QkFBUyxDQUFDLEdBQUcsQ0FBb0Isd0JBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQzNGLENBQUM7QUFFRixrQkFBZSxNQUFNLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxBbGVqYW5kcm9cXEFJR2VzdGlvblxcYmFja2VuZFxcc3JjXFxyb3V0ZXNcXGdvZG1vZGUucm91dGVzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHsgY29udGFpbmVyLCBUWVBFUyB9IGZyb20gJy4uL2NvbmZpZy9pbnZlcnNpZnkuY29uZmlnJztcbmltcG9ydCB7IEdvZE1vZGVDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvZ29kbW9kZS5jb250cm9sbGVyJztcblxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XG5cbi8vIENvbnRyb2xsZXIgcmVzb2x1dGlvbiBtb3ZlZCBpbnNpZGUgcm91dGUgaGFuZGxlcnMgdG8gYXZvaWQgY2lyY3VsYXIgZGVwZW5kZW5jeVxuXG4vKipcbiAqIEBvcGVuYXBpXG4gKiAvZ29kLW1vZGUvcHJvamVjdHM6XG4gKiAgIGdldDpcbiAqICAgICBzdW1tYXJ5OiBMaXN0IGFsbCBBSSBwcm9qZWN0c1xuICogICAgIHRhZ3M6IFtHb2QgTW9kZV1cbiAqL1xucm91dGVyLmdldCgnL3Byb2plY3RzJywgKHJlcSwgcmVzLCBuZXh0KSA9PlxuICBjb250YWluZXIuZ2V0PEdvZE1vZGVDb250cm9sbGVyPihUWVBFUy5Hb2RNb2RlQ29udHJvbGxlcikubGlzdFByb2plY3RzKHJlcSwgcmVzLCBuZXh0KSxcbik7XG5yb3V0ZXIucG9zdCgnL3Byb2plY3RzJywgKHJlcSwgcmVzLCBuZXh0KSA9PlxuICBjb250YWluZXIuZ2V0PEdvZE1vZGVDb250cm9sbGVyPihUWVBFUy5Hb2RNb2RlQ29udHJvbGxlcikuY3JlYXRlUHJvamVjdChyZXEsIHJlcywgbmV4dCksXG4pO1xuXG4vKipcbiAqIEBvcGVuYXBpXG4gKiAvZ29kLW1vZGUvc2VhcmNoOlxuICogICBwb3N0OlxuICogICAgIHN1bW1hcnk6IEV4ZWN1dGUgSHlicmlkIFNlYXJjaCAoVmVjdG9yICsgRnVsbCBUZXh0KVxuICogICAgIHRhZ3M6IFtHb2QgTW9kZV1cbiAqL1xucm91dGVyLnBvc3QoJy9zZWFyY2gnLCAocmVxLCByZXMsIG5leHQpID0+XG4gIGNvbnRhaW5lci5nZXQ8R29kTW9kZUNvbnRyb2xsZXI+KFRZUEVTLkdvZE1vZGVDb250cm9sbGVyKS5oeWJyaWRTZWFyY2gocmVxLCByZXMsIG5leHQpLFxuKTtcblxuLyoqXG4gKiBAb3BlbmFwaVxuICogL2dvZC1tb2RlL3Byb21wdHM6XG4gKiAgIGdldDpcbiAqICAgICBzdW1tYXJ5OiBMaXN0IGFsbCBhdmFpbGFibGUgcHJvbXB0IHRlbXBsYXRlc1xuICogICAgIHRhZ3M6IFtHb2QgTW9kZV1cbiAqL1xucm91dGVyLmdldCgnL3Byb21wdHMnLCAocmVxLCByZXMsIG5leHQpID0+XG4gIGNvbnRhaW5lci5nZXQ8R29kTW9kZUNvbnRyb2xsZXI+KFRZUEVTLkdvZE1vZGVDb250cm9sbGVyKS5saXN0UHJvbXB0cyhyZXEsIHJlcywgbmV4dCksXG4pO1xuXG4vKipcbiAqIEBvcGVuYXBpXG4gKiAvZ29kLW1vZGUvcHJvbXB0cy86bmFtZTpcbiAqICAgZ2V0OlxuICogICAgIHN1bW1hcnk6IEdldCBhIHNwZWNpZmljIHByb21wdCB0ZW1wbGF0ZSBieSBuYW1lXG4gKiAgICAgdGFnczogW0dvZCBNb2RlXVxuICovXG5yb3V0ZXIuZ2V0KCcvcHJvbXB0cy86bmFtZScsIChyZXEsIHJlcywgbmV4dCkgPT5cbiAgY29udGFpbmVyLmdldDxHb2RNb2RlQ29udHJvbGxlcj4oVFlQRVMuR29kTW9kZUNvbnRyb2xsZXIpLmdldFByb21wdChyZXEsIHJlcywgbmV4dCksXG4pO1xuXG4vKipcbiAqIEBvcGVuYXBpXG4gKiAvZ29kLW1vZGUvYXVkaXQ6XG4gKiAgIGdldDpcbiAqICAgICBzdW1tYXJ5OiBWaWV3IHJlY2VudCBhdWRpdCBsb2dzXG4gKiAgICAgdGFnczogW0dvZCBNb2RlXVxuICovXG5yb3V0ZXIuZ2V0KCcvYXVkaXQnLCAocmVxLCByZXMsIG5leHQpID0+XG4gIGNvbnRhaW5lci5nZXQ8R29kTW9kZUNvbnRyb2xsZXI+KFRZUEVTLkdvZE1vZGVDb250cm9sbGVyKS5nZXRBdWRpdExvZ3MocmVxLCByZXMsIG5leHQpLFxuKTtcblxuLyoqXG4gKiBAb3BlbmFwaVxuICogL2dvZC1tb2RlL3Rlc3Qtbm90aWZpY2F0aW9uOlxuICogICBwb3N0OlxuICogICAgIHN1bW1hcnk6IFRlc3Qgc292ZXJlaWduIG5vdGlmaWNhdGlvbiBjaGFubmVsc1xuICogICAgIHRhZ3M6IFtHb2QgTW9kZV1cbiAqL1xucm91dGVyLnBvc3QoJy90ZXN0LW5vdGlmaWNhdGlvbicsIChyZXEsIHJlcywgbmV4dCkgPT5cbiAgY29udGFpbmVyLmdldDxHb2RNb2RlQ29udHJvbGxlcj4oVFlQRVMuR29kTW9kZUNvbnRyb2xsZXIpLnRlc3ROb3RpZmljYXRpb24ocmVxLCByZXMsIG5leHQpLFxuKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl0sInZlcnNpb24iOjN9