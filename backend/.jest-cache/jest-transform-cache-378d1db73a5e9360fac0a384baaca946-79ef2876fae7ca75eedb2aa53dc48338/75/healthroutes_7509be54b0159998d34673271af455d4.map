{"file":"C:\\Users\\Alejandro\\AIGestion\\backend\\src\\routes\\health.routes.ts","mappings":";;AAAA,qCAAoD;AACpD,iEAA2D;AAC3D,6CAA0C;AAC1C,iEAA8D;AAG9D,MAAM,YAAY,GAAG,IAAA,gBAAM,GAAE,CAAC;AAE9B;;;;;;;;;GASG;AACH,YAAY,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE;IACpD,MAAM,SAAS,GAAI,GAAW,CAAC,SAAS,IAAI,SAAS,CAAC;IACtD,OAAO,GAAG,CAAC,IAAI,CACb,IAAA,gCAAa,EACX;QACE,MAAM,EAAE,SAAS;QACjB,MAAM,EAAE,OAAO,CAAC,MAAM,EAAE;QACxB,OAAO,EAAE,eAAM,CAAC,OAAO,CAAC,OAAO,IAAI,OAAO;KAC3C,EACD,GAAG,EACH,SAAS,CACV,CACF,CAAC;AACJ,CAAC,CAAC,CAAC;AAEH;;;;;;;;;GASG;AACH,YAAY,CAAC,GAAG,CAAC,WAAW,EAAE,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;IAClE,MAAM,SAAS,GAAI,GAAW,CAAC,SAAS,IAAI,SAAS,CAAC;IACtD,IAAI,CAAC;QACH,MAAM,aAAa,GAAG,4BAAS,CAAC,GAAG,CAAgB,wBAAK,CAAC,qBAAqB,CAAC,CAAC;QAChF,MAAM,MAAM,GAAG,MAAM,aAAa,CAAC,iBAAiB,EAAE,CAAC;QACvD,OAAO,GAAG,CAAC,IAAI,CAAC,IAAA,gCAAa,EAAC,MAAM,EAAE,GAAG,EAAE,SAAmB,CAAC,CAAC,CAAC;IACnE,CAAC;IAAC,OAAO,KAAU,EAAE,CAAC;QACpB,OAAO,CAAC,KAAK,CAAC,+BAA+B,EAAE,KAAK,CAAC,CAAC;QACtD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;YAC1B,OAAO,EAAE,KAAK;YACd,OAAO,EAAE,2CAA2C;YACpD,KAAK,EAAE,KAAK,CAAC,OAAO,IAAI,SAAS;SAClC,CAAC,CAAC;IACL,CAAC;AACH,CAAC,CAAC,CAAC;AAEH,kBAAe,YAAY,CAAC","names":[],"sources":["C:\\Users\\Alejandro\\AIGestion\\backend\\src\\routes\\health.routes.ts"],"sourcesContent":["import { Request, Response, Router } from 'express';\nimport { buildResponse } from '../common/response-builder';\nimport { config } from '../config/config';\nimport { container, TYPES } from '../config/inversify.config';\nimport { HealthService } from '../services/health.service';\n\nconst healthRouter = Router();\n\n/**\n * @openapi\n * /api/v1/health:\n *   get:\n *     summary: Basic health check\n *     tags: [System]\n *     responses:\n *       200:\n *         description: System is up\n */\nhealthRouter.get('/', (req: Request, res: Response) => {\n  const requestId = (req as any).requestId || 'unknown';\n  return res.json(\n    buildResponse(\n      {\n        status: 'healthy',\n        uptime: process.uptime(),\n        version: config.apiDocs.version || '1.0.0',\n      },\n      200,\n      requestId,\n    ),\n  );\n});\n\n/**\n * @openapi\n * /api/v1/health/detailed:\n *   get:\n *     summary: Get detailed system health diagnostics\n *     tags: [System]\n *     responses:\n *       200:\n *         description: System health report\n */\nhealthRouter.get('/detailed', async (req: Request, res: Response) => {\n  const requestId = (req as any).requestId ?? 'unknown';\n  try {\n    const healthService = container.get<HealthService>(TYPES.DetailedHealthService);\n    const report = await healthService.getDetailedHealth();\n    return res.json(buildResponse(report, 200, requestId as string));\n  } catch (error: any) {\n    console.error('Detailed Health Check Failed:', error);\n    return res.status(500).json({\n      success: false,\n      message: 'Failed to generate detailed health report',\n      error: error.message ?? 'Unknown',\n    });\n  }\n});\n\nexport default healthRouter;\n"],"version":3}