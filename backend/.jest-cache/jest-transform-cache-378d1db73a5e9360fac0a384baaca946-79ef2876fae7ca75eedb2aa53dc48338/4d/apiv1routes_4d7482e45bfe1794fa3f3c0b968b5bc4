e37baca196e18e4f4361b98a7b5b1588
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const response_builder_1 = require("../common/response-builder");
// import { buildError, buildResponse, requestIdMiddleware } from '../common/response-builder';
// import { getEmailTracking } from '../controllers/email-tracking.controller';
// import briefingRoutes from './briefing.routes';
const inversify_config_1 = require("../config/inversify.config");
const exit_email_controller_1 = __importDefault(require("../controllers/exit-email.controller"));
const types_1 = require("../types");
const ai_routes_1 = __importDefault(require("./ai.routes"));
const rag_routes_1 = __importDefault(require("./rag.routes"));
const auth_middleware_1 = require("../middleware/auth.middleware");
const analytics_routes_1 = __importDefault(require("./analytics.routes"));
const auth_routes_1 = __importDefault(require("./auth.routes"));
const daniela_routes_1 = __importDefault(require("./daniela.routes"));
const docker_routes_1 = __importDefault(require("./docker.routes"));
const enhanced_voice_routes_1 = __importDefault(require("./enhanced-voice.routes"));
const persona_routes_1 = __importDefault(require("./persona.routes"));
const youtube_routes_1 = require("./youtube.routes");
const godmode_routes_1 = __importDefault(require("./godmode.routes"));
const swarm_routes_1 = __importDefault(require("./swarm.routes"));
const users_routes_1 = __importDefault(require("./users.routes"));
const stripe_routes_1 = __importDefault(require("./stripe.routes"));
// ... (existing imports)
const api_key_middleware_1 = require("../middleware/api-key.middleware");
const idempotency_middleware_1 = require("../middleware/idempotency.middleware");
const rate_limit_middleware_1 = require("../middleware/rate-limit.middleware");
const redis_cache_middleware_1 = require("../middleware/redis-cache.middleware");
const device_posture_routes_1 = __importDefault(require("./device-posture.routes"));
const logs_routes_1 = __importDefault(require("./logs.routes"));
const malware_scanner_routes_1 = __importDefault(require("./malware-scanner.routes"));
const nexus_routes_1 = __importDefault(require("./nexus.routes"));
const security_dashboard_routes_1 = __importDefault(require("./security-dashboard.routes"));
const social_routes_1 = __importDefault(require("./social.routes"));
const system_routes_1 = __importDefault(require("./system.routes"));
const threat_intelligence_routes_1 = __importDefault(require("./threat-intelligence.routes"));
const user_behavior_routes_1 = __importDefault(require("./user-behavior.routes"));
const waf_routes_1 = __importDefault(require("./waf.routes"));
const webauthn_routes_1 = __importDefault(require("./webauthn.routes"));
const sovereign_handshake_routes_1 = __importDefault(require("./sovereign-handshake.routes"));
/**
 * API v1 Router
 * Base estandarizada para todas las rutas versionadas
 */
const apiV1Router = (0, express_1.Router)();
// Aplicar middleware de idempotencia globalmente para proteger todos los POST/PUT/PATCH
apiV1Router.use(idempotency_middleware_1.idempotencyMiddleware);
apiV1Router.use(api_key_middleware_1.apiKeyAuth);
console.log('DEBUG: API V1 router loaded');
// Mount Auth Routes
// Mount Auth Routes
apiV1Router.use('/auth', auth_routes_1.default);
apiV1Router.use('/docker', docker_routes_1.default);
apiV1Router.use('/personas', persona_routes_1.default);
apiV1Router.use('/swarm', swarm_routes_1.default);
apiV1Router.use('/webauthn', webauthn_routes_1.default);
apiV1Router.use('/sovereign', sovereign_handshake_routes_1.default);
/**
 * @openapi
 * /api/v1/system/credentials/verify:
 *   post:
 *     summary: Verify all configured credentials and API keys
 *     tags: [System]
 *     responses:
 *       200:
 *         description: Verification report
 *       500:
 *         description: Internal server error
 */
apiV1Router.post('/system/credentials/verify', async (req, res) => {
    const requestId = req.requestId;
    try {
        const credManager = inversify_config_1.container.get(types_1.TYPES.CredentialManagerService);
        const report = await credManager.verifyAll();
        res.json((0, response_builder_1.buildResponse)(report, 200, requestId));
    }
    catch (err) {
        const requestId = req.requestId;
        res.status(500).json((0, response_builder_1.buildError)('Verification failed', 'VERIFICATION_ERROR', 500, requestId));
    }
});
/**
 * @openapi
 * /api/v1/system/history/{metric}:
 *   get:
 *     summary: Retrieve history for a specific metric
 *     tags: [System]
 *     parameters:
 *       - in: path
 *         name: metric
 *         required: true
 *         schema:
 *           type: string
 *         description: The name of the metric (e.g., cpu, memory)
 *     responses:
 *       200:
 *         description: List of metric snapshots
 *       500:
 *         description: Internal server error
 */
apiV1Router.get('/system/history/:metric', async (req, res) => {
    const requestId = req.requestId;
    try {
        const { metric } = req.params;
        const historyService = inversify_config_1.container.get(types_1.TYPES.HistoryService);
        const history = await historyService.getHistory(metric);
        res.json((0, response_builder_1.buildResponse)(history, 200, requestId));
    }
    catch (err) {
        const requestId = req.requestId;
        res.status(500).json((0, response_builder_1.buildError)('Internal server error', 'INTERNAL_ERROR', 500, requestId));
    }
});
// Standard API Routes
// Users (Prueba poniÃ©ndolo arriba)
apiV1Router.use('/users', users_routes_1.default);
const health_routes_1 = __importDefault(require("./health.routes"));
// ... (existing imports)
// Health checks
apiV1Router.use('/health', health_routes_1.default);
// Other services
/**
 * @openapi
 * /api/v1/stripe:
 *   get:
 *     summary: Stripe related endpoints (placeholder)
 *     tags: [Stripe]
 *     responses:
 *       200:
 *         description: Successful response
 */
apiV1Router.use('/stripe', stripe_routes_1.default);
/**
 * @openapi
 * /api/v1/youtube:
 *   get:
 *     summary: YouTube related endpoints (placeholder)
 *     tags: [YouTube]
 *     responses:
 *       200:
 *         description: Successful response
 */
apiV1Router.use('/youtube', youtube_routes_1.youtubeRouter);
// apiV1Router.use('/gmail', gmailRoutes);
// apiV1Router.use('/bigquery', bigqueryRoutes);
// apiV1Router.use('/cloud-monitoring', cloudMonitoringRoutes);
// apiV1Router.use('/youtube', youtubeRoutes);
// apiV1Router.use('/briefing', briefingRoutes);
// Dashboard Auth routes (refresh token, etc.)
// apiV1Router.post('/auth/refresh', dashboardAuth, (req, res) => {
//   const { user } = req as any;
//   const newToken = jwt.sign({ user: user.user, role: user.role }, env.JWT_SECRET, {
//     expiresIn: '7d',
//   });
//   res.json({ token: newToken });
// });
// Nueva ruta para el tracking de emails
// apiV1Router.get('/email/tracking', getEmailTracking);
const billingController = inversify_config_1.container.get(types_1.TYPES.BillingController);
const usageController = inversify_config_1.container.get(types_1.TYPES.UsageController);
apiV1Router.get('/usage/current', (0, redis_cache_middleware_1.redisCache)(60), (req, res, next) => usageController.getCurrentUsage(req, res, next));
apiV1Router.get('/billing/snapshot', auth_middleware_1.requireAuth, (0, redis_cache_middleware_1.redisCache)(300), (req, res, next) => billingController.getBillingSnapshot(req, res, next));
apiV1Router.post('/billing/checkout', auth_middleware_1.requireAuth, (req, res, next) => billingController.createCheckoutSession(req, res, next));
apiV1Router.post('/billing/portal', auth_middleware_1.requireAuth, (req, res, next) => billingController.createPortalSession(req, res, next));
apiV1Router.use('/analytics', (0, redis_cache_middleware_1.redisCache)(30), analytics_routes_1.default);
// Enhanced Voice Service (Daniela)
/**
 * @openapi
 * /api/v1/enhanced-voice:
 *   get:
 *     summary: Enhanced Voice Service endpoints for Daniela
 *     tags: [EnhancedVoice]
 *     responses:
 *       200:
 *         description: Enhanced Voice Service endpoints
 */
apiV1Router.use('/enhanced-voice', enhanced_voice_routes_1.default);
apiV1Router.use('/daniela', daniela_routes_1.default);
// AI and RAG Routes
/**
 * @openapi
 * /api/v1/ai:
 *   get:
 *     summary: AI related endpoints (placeholder)
 *     tags: [AI]
 *     responses:
 *       200:
 *         description: Successful response
 */
apiV1Router.use('/ai', rate_limit_middleware_1.dynamicRateLimiter, ai_routes_1.default);
apiV1Router.use('/rag', rag_routes_1.default);
/**
 * @openapi
 * /api/v1/exit-templates:
 *   get:
 *     summary: Exit email templates endpoints (placeholder)
 *     tags: [ExitEmail]
 *     responses:
 *       200:
 *         description: Successful response
 */
apiV1Router.use('/exit-templates', exit_email_controller_1.default);
// System Routes (Metrics, CPU, etc.)
apiV1Router.use('/system', system_routes_1.default);
// Social Routes (Facebook, Instagram, etc.)
apiV1Router.use('/social', social_routes_1.default);
// Logs Routes
apiV1Router.use('/logs', logs_routes_1.default);
apiV1Router.use('/security-dashboard', security_dashboard_routes_1.default);
apiV1Router.use('/waf', waf_routes_1.default);
apiV1Router.use('/malware-scanner', malware_scanner_routes_1.default);
apiV1Router.use('/threat-intelligence', threat_intelligence_routes_1.default);
apiV1Router.use('/behavior', user_behavior_routes_1.default);
apiV1Router.use('/device-posture', device_posture_routes_1.default);
apiV1Router.use('/nexus', nexus_routes_1.default);
apiV1Router.use('/god-mode', godmode_routes_1.default);
exports.default = apiV1Router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxBbGVqYW5kcm9cXEFJR2VzdGlvblxcYmFja2VuZFxcc3JjXFxyb3V0ZXNcXGFwaS12MS5yb3V0ZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxxQ0FBaUM7QUFFakMsaUVBQXVFO0FBQ3ZFLCtGQUErRjtBQUUvRiwrRUFBK0U7QUFDL0Usa0RBQWtEO0FBQ2xELGlFQUF1RDtBQUN2RCxpR0FBbUU7QUFHbkUsb0NBQWlDO0FBQ2pDLDREQUFtQztBQUNuQyw4REFBcUM7QUFhckMsbUVBQTREO0FBQzVELDBFQUFpRDtBQUNqRCxnRUFBdUM7QUFDdkMsc0VBQTZDO0FBQzdDLG9FQUEyQztBQUMzQyxvRkFBMEQ7QUFDMUQsc0VBQTZDO0FBQzdDLHFEQUFpRDtBQUlqRCxzRUFBNkM7QUFDN0Msa0VBQXlDO0FBQ3pDLGtFQUF5QztBQUN6QyxvRUFBMkM7QUFFM0MseUJBQXlCO0FBRXpCLHlFQUE4RDtBQUM5RCxpRkFBNkU7QUFDN0UsK0VBQXlFO0FBQ3pFLGlGQUFrRTtBQUNsRSxvRkFBMEQ7QUFDMUQsZ0VBQXVDO0FBQ3ZDLHNGQUE0RDtBQUM1RCxrRUFBeUM7QUFDekMsNEZBQWtFO0FBQ2xFLG9FQUEyQztBQUMzQyxvRUFBMkM7QUFDM0MsOEZBQTZEO0FBQzdELGtGQUFvRDtBQUNwRCw4REFBcUM7QUFDckMsd0VBQStDO0FBQy9DLDhGQUFvRTtBQUVwRTs7O0dBR0c7QUFDSCxNQUFNLFdBQVcsR0FBRyxJQUFBLGdCQUFNLEdBQUUsQ0FBQztBQUU3Qix3RkFBd0Y7QUFDeEYsV0FBVyxDQUFDLEdBQUcsQ0FBQyw4Q0FBcUIsQ0FBQyxDQUFDO0FBQ3ZDLFdBQVcsQ0FBQyxHQUFHLENBQUMsK0JBQVUsQ0FBQyxDQUFDO0FBRTVCLE9BQU8sQ0FBQyxHQUFHLENBQUMsNkJBQTZCLENBQUMsQ0FBQztBQUUzQyxvQkFBb0I7QUFDcEIsb0JBQW9CO0FBQ3BCLFdBQVcsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLHFCQUFVLENBQUMsQ0FBQztBQUNyQyxXQUFXLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSx1QkFBWSxDQUFDLENBQUM7QUFDekMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsd0JBQWEsQ0FBQyxDQUFDO0FBQzVDLFdBQVcsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLHNCQUFXLENBQUMsQ0FBQztBQUN2QyxXQUFXLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSx5QkFBYyxDQUFDLENBQUM7QUFDN0MsV0FBVyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUUsb0NBQXdCLENBQUMsQ0FBQztBQUV4RDs7Ozs7Ozs7Ozs7R0FXRztBQUNILFdBQVcsQ0FBQyxJQUFJLENBQUMsNEJBQTRCLEVBQUUsS0FBSyxFQUFFLEdBQVEsRUFBRSxHQUFRLEVBQUUsRUFBRTtJQUMxRSxNQUFNLFNBQVMsR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDO0lBQ2hDLElBQUksQ0FBQztRQUNILE1BQU0sV0FBVyxHQUFHLDRCQUFTLENBQUMsR0FBRyxDQUEyQixhQUFLLENBQUMsd0JBQXdCLENBQUMsQ0FBQztRQUM1RixNQUFNLE1BQU0sR0FBRyxNQUFNLFdBQVcsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUM3QyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUEsZ0NBQWEsRUFBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUM7SUFDbEQsQ0FBQztJQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFDYixNQUFNLFNBQVMsR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDO1FBQ2hDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUEsNkJBQVUsRUFBQyxxQkFBcUIsRUFBRSxvQkFBb0IsRUFBRSxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUNoRyxDQUFDO0FBQ0gsQ0FBQyxDQUFDLENBQUM7QUFFSDs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBa0JHO0FBQ0gsV0FBVyxDQUFDLEdBQUcsQ0FBQyx5QkFBeUIsRUFBRSxLQUFLLEVBQUUsR0FBUSxFQUFFLEdBQVEsRUFBRSxFQUFFO0lBQ3RFLE1BQU0sU0FBUyxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUM7SUFDaEMsSUFBSSxDQUFDO1FBQ0gsTUFBTSxFQUFFLE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7UUFDOUIsTUFBTSxjQUFjLEdBQUcsNEJBQVMsQ0FBQyxHQUFHLENBQWlCLGFBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUMzRSxNQUFNLE9BQU8sR0FBRyxNQUFNLGNBQWMsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDeEQsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFBLGdDQUFhLEVBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO1FBQ2IsTUFBTSxTQUFTLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQztRQUNoQyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFBLDZCQUFVLEVBQUMsdUJBQXVCLEVBQUUsZ0JBQWdCLEVBQUUsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUM7SUFDOUYsQ0FBQztBQUNILENBQUMsQ0FBQyxDQUFDO0FBRUgsc0JBQXNCO0FBRXRCLG1DQUFtQztBQUNuQyxXQUFXLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxzQkFBVyxDQUFDLENBQUM7QUFFdkMsb0VBQTJDO0FBQzNDLHlCQUF5QjtBQUV6QixnQkFBZ0I7QUFDaEIsV0FBVyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsdUJBQVksQ0FBQyxDQUFDO0FBRXpDLGlCQUFpQjtBQUNqQjs7Ozs7Ozs7O0dBU0c7QUFDSCxXQUFXLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSx1QkFBWSxDQUFDLENBQUM7QUFDekM7Ozs7Ozs7OztHQVNHO0FBQ0gsV0FBVyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsOEJBQWEsQ0FBQyxDQUFDO0FBQzNDLDBDQUEwQztBQUMxQyxnREFBZ0Q7QUFDaEQsK0RBQStEO0FBQy9ELDhDQUE4QztBQUM5QyxnREFBZ0Q7QUFFaEQsOENBQThDO0FBQzlDLG1FQUFtRTtBQUNuRSxpQ0FBaUM7QUFDakMsc0ZBQXNGO0FBQ3RGLHVCQUF1QjtBQUN2QixRQUFRO0FBQ1IsbUNBQW1DO0FBQ25DLE1BQU07QUFFTix3Q0FBd0M7QUFDeEMsd0RBQXdEO0FBRXhELE1BQU0saUJBQWlCLEdBQUcsNEJBQVMsQ0FBQyxHQUFHLENBQW9CLGFBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0FBQ3BGLE1BQU0sZUFBZSxHQUFHLDRCQUFTLENBQUMsR0FBRyxDQUFrQixhQUFLLENBQUMsZUFBZSxDQUFDLENBQUM7QUFFOUUsV0FBVyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSxJQUFBLG1DQUFVLEVBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLENBQ25FLGVBQWUsQ0FBQyxlQUFlLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FDaEQsQ0FBQztBQUNGLFdBQVcsQ0FBQyxHQUFHLENBQUMsbUJBQW1CLEVBQUUsNkJBQVcsRUFBRSxJQUFBLG1DQUFVLEVBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLENBQ3BGLGlCQUFpQixDQUFDLGtCQUFrQixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQ3JELENBQUM7QUFDRixXQUFXLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFFLDZCQUFXLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLENBQ3BFLGlCQUFpQixDQUFDLHFCQUFxQixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQ3hELENBQUM7QUFDRixXQUFXLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLDZCQUFXLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLENBQ2xFLGlCQUFpQixDQUFDLG1CQUFtQixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQ3RELENBQUM7QUFDRixXQUFXLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxJQUFBLG1DQUFVLEVBQUMsRUFBRSxDQUFDLEVBQUUsMEJBQWUsQ0FBQyxDQUFDO0FBRS9ELG1DQUFtQztBQUNuQzs7Ozs7Ozs7O0dBU0c7QUFDSCxXQUFXLENBQUMsR0FBRyxDQUFDLGlCQUFpQixFQUFFLCtCQUFtQixDQUFDLENBQUM7QUFDeEQsV0FBVyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsd0JBQWEsQ0FBQyxDQUFDO0FBRTNDLG9CQUFvQjtBQUVwQjs7Ozs7Ozs7O0dBU0c7QUFDSCxXQUFXLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSwwQ0FBa0IsRUFBRSxtQkFBUSxDQUFDLENBQUM7QUFDckQsV0FBVyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsb0JBQVMsQ0FBQyxDQUFDO0FBQ25DOzs7Ozs7Ozs7R0FTRztBQUNILFdBQVcsQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUUsK0JBQWUsQ0FBQyxDQUFDO0FBRXBELHFDQUFxQztBQUNyQyxXQUFXLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSx1QkFBWSxDQUFDLENBQUM7QUFFekMsNENBQTRDO0FBQzVDLFdBQVcsQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLHVCQUFZLENBQUMsQ0FBQztBQUV6QyxjQUFjO0FBQ2QsV0FBVyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUscUJBQVUsQ0FBQyxDQUFDO0FBQ3JDLFdBQVcsQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQUUsbUNBQXVCLENBQUMsQ0FBQztBQUNoRSxXQUFXLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxvQkFBUyxDQUFDLENBQUM7QUFDbkMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRSxnQ0FBb0IsQ0FBQyxDQUFDO0FBQzFELFdBQVcsQ0FBQyxHQUFHLENBQUMsc0JBQXNCLEVBQUUsb0NBQWlCLENBQUMsQ0FBQztBQUMzRCxXQUFXLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSw4QkFBYyxDQUFDLENBQUM7QUFDN0MsV0FBVyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSwrQkFBbUIsQ0FBQyxDQUFDO0FBQ3hELFdBQVcsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLHNCQUFXLENBQUMsQ0FBQztBQUN2QyxXQUFXLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSx3QkFBYSxDQUFDLENBQUM7QUFFNUMsa0JBQWUsV0FBVyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcQWxlamFuZHJvXFxBSUdlc3Rpb25cXGJhY2tlbmRcXHNyY1xccm91dGVzXFxhcGktdjEucm91dGVzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xuXG5pbXBvcnQgeyBidWlsZEVycm9yLCBidWlsZFJlc3BvbnNlIH0gZnJvbSAnLi4vY29tbW9uL3Jlc3BvbnNlLWJ1aWxkZXInO1xuLy8gaW1wb3J0IHsgYnVpbGRFcnJvciwgYnVpbGRSZXNwb25zZSwgcmVxdWVzdElkTWlkZGxld2FyZSB9IGZyb20gJy4uL2NvbW1vbi9yZXNwb25zZS1idWlsZGVyJztcblxuLy8gaW1wb3J0IHsgZ2V0RW1haWxUcmFja2luZyB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL2VtYWlsLXRyYWNraW5nLmNvbnRyb2xsZXInO1xuLy8gaW1wb3J0IGJyaWVmaW5nUm91dGVzIGZyb20gJy4vYnJpZWZpbmcucm91dGVzJztcbmltcG9ydCB7IGNvbnRhaW5lciB9IGZyb20gJy4uL2NvbmZpZy9pbnZlcnNpZnkuY29uZmlnJztcbmltcG9ydCBleGl0RW1haWxSb3V0ZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvZXhpdC1lbWFpbC5jb250cm9sbGVyJztcbmltcG9ydCB7IENyZWRlbnRpYWxNYW5hZ2VyU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NyZWRlbnRpYWwtbWFuYWdlci5zZXJ2aWNlJztcbmltcG9ydCB7IEhpc3RvcnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvaGlzdG9yeS5zZXJ2aWNlJztcbmltcG9ydCB7IFRZUEVTIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IGFpUm91dGVyIGZyb20gJy4vYWkucm91dGVzJztcbmltcG9ydCByYWdSb3V0ZXMgZnJvbSAnLi9yYWcucm91dGVzJztcbi8vIGltcG9ydCBnbWFpbFJvdXRlcyBmcm9tICcuL2dtYWlsLnJvdXRlcyc7XG4vLyBpbXBvcnQgYmlncXVlcnlSb3V0ZXMgZnJvbSAnLi9iaWdxdWVyeS5yb3V0ZXMnO1xuLy8gaW1wb3J0IGNsb3VkTW9uaXRvcmluZ1JvdXRlcyBmcm9tICcuL2Nsb3VkTW9uaXRvcmluZy5yb3V0ZXMnO1xuLy8gaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuLy8gaW1wb3J0IHsgZW52IH0gZnJvbSAnLi4vY29uZmlnL2Vudi5zY2hlbWEnO1xuLy8gaW1wb3J0IHsgZGFzaGJvYXJkQXV0aCB9IGZyb20gJy4uL21pZGRsZXdhcmUvZGFzaGJvYXJkQXV0aCc7XG5pbXBvcnQge1xuICBjcmVhdGVDaGVja291dFNlc3Npb24sXG4gIGNyZWF0ZVBvcnRhbFNlc3Npb24sXG4gIGdldEJpbGxpbmdTbmFwc2hvdCxcbn0gZnJvbSAnLi4vY29udHJvbGxlcnMvYmlsbGluZy5jb250cm9sbGVyJztcbmltcG9ydCB7IGdldEN1cnJlbnRVc2FnZSB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL3VzYWdlLmNvbnRyb2xsZXInO1xuaW1wb3J0IHsgcmVxdWlyZUF1dGggfSBmcm9tICcuLi9taWRkbGV3YXJlL2F1dGgubWlkZGxld2FyZSc7XG5pbXBvcnQgYW5hbHl0aWNzUm91dGVyIGZyb20gJy4vYW5hbHl0aWNzLnJvdXRlcyc7XG5pbXBvcnQgYXV0aFJvdXRlciBmcm9tICcuL2F1dGgucm91dGVzJztcbmltcG9ydCBkYW5pZWxhUm91dGVyIGZyb20gJy4vZGFuaWVsYS5yb3V0ZXMnO1xuaW1wb3J0IGRvY2tlclJvdXRlciBmcm9tICcuL2RvY2tlci5yb3V0ZXMnO1xuaW1wb3J0IGVuaGFuY2VkVm9pY2VSb3V0ZXIgZnJvbSAnLi9lbmhhbmNlZC12b2ljZS5yb3V0ZXMnO1xuaW1wb3J0IHBlcnNvbmFSb3V0ZXIgZnJvbSAnLi9wZXJzb25hLnJvdXRlcyc7XG5pbXBvcnQgeyB5b3V0dWJlUm91dGVyIH0gZnJvbSAnLi95b3V0dWJlLnJvdXRlcyc7XG5pbXBvcnQgeyBHb2RNb2RlQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL2dvZG1vZGUuY29udHJvbGxlcic7XG5pbXBvcnQgeyBCaWxsaW5nQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL2JpbGxpbmcuY29udHJvbGxlcic7XG5pbXBvcnQgeyBVc2FnZUNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy91c2FnZS5jb250cm9sbGVyJztcbmltcG9ydCBnb2Rtb2RlUm91dGVzIGZyb20gJy4vZ29kbW9kZS5yb3V0ZXMnO1xuaW1wb3J0IHN3YXJtUm91dGVyIGZyb20gJy4vc3dhcm0ucm91dGVzJztcbmltcG9ydCB1c2Vyc1JvdXRlciBmcm9tICcuL3VzZXJzLnJvdXRlcyc7XG5pbXBvcnQgc3RyaXBlUm91dGVyIGZyb20gJy4vc3RyaXBlLnJvdXRlcyc7XG5cbi8vIC4uLiAoZXhpc3RpbmcgaW1wb3J0cylcblxuaW1wb3J0IHsgYXBpS2V5QXV0aCB9IGZyb20gJy4uL21pZGRsZXdhcmUvYXBpLWtleS5taWRkbGV3YXJlJztcbmltcG9ydCB7IGlkZW1wb3RlbmN5TWlkZGxld2FyZSB9IGZyb20gJy4uL21pZGRsZXdhcmUvaWRlbXBvdGVuY3kubWlkZGxld2FyZSc7XG5pbXBvcnQgeyBkeW5hbWljUmF0ZUxpbWl0ZXIgfSBmcm9tICcuLi9taWRkbGV3YXJlL3JhdGUtbGltaXQubWlkZGxld2FyZSc7XG5pbXBvcnQgeyByZWRpc0NhY2hlIH0gZnJvbSAnLi4vbWlkZGxld2FyZS9yZWRpcy1jYWNoZS5taWRkbGV3YXJlJztcbmltcG9ydCBkZXZpY2VQb3N0dXJlUm91dGVyIGZyb20gJy4vZGV2aWNlLXBvc3R1cmUucm91dGVzJztcbmltcG9ydCBsb2dzUm91dGVyIGZyb20gJy4vbG9ncy5yb3V0ZXMnO1xuaW1wb3J0IG1hbHdhcmVTY2FubmVyUm91dGVyIGZyb20gJy4vbWFsd2FyZS1zY2FubmVyLnJvdXRlcyc7XG5pbXBvcnQgbmV4dXNSb3V0ZXIgZnJvbSAnLi9uZXh1cy5yb3V0ZXMnO1xuaW1wb3J0IHNlY3VyaXR5RGFzaGJvYXJkUm91dGVyIGZyb20gJy4vc2VjdXJpdHktZGFzaGJvYXJkLnJvdXRlcyc7XG5pbXBvcnQgc29jaWFsUm91dGVyIGZyb20gJy4vc29jaWFsLnJvdXRlcyc7XG5pbXBvcnQgc3lzdGVtUm91dGVyIGZyb20gJy4vc3lzdGVtLnJvdXRlcyc7XG5pbXBvcnQgdGhyZWF0SW50ZWxSb3V0ZXIgZnJvbSAnLi90aHJlYXQtaW50ZWxsaWdlbmNlLnJvdXRlcyc7XG5pbXBvcnQgYmVoYXZpb3JSb3V0ZXIgZnJvbSAnLi91c2VyLWJlaGF2aW9yLnJvdXRlcyc7XG5pbXBvcnQgd2FmUm91dGVyIGZyb20gJy4vd2FmLnJvdXRlcyc7XG5pbXBvcnQgd2ViYXV0aG5Sb3V0ZXIgZnJvbSAnLi93ZWJhdXRobi5yb3V0ZXMnO1xuaW1wb3J0IHNvdmVyZWlnbkhhbmRzaGFrZVJvdXRlciBmcm9tICcuL3NvdmVyZWlnbi1oYW5kc2hha2Uucm91dGVzJztcblxuLyoqXG4gKiBBUEkgdjEgUm91dGVyXG4gKiBCYXNlIGVzdGFuZGFyaXphZGEgcGFyYSB0b2RhcyBsYXMgcnV0YXMgdmVyc2lvbmFkYXNcbiAqL1xuY29uc3QgYXBpVjFSb3V0ZXIgPSBSb3V0ZXIoKTtcblxuLy8gQXBsaWNhciBtaWRkbGV3YXJlIGRlIGlkZW1wb3RlbmNpYSBnbG9iYWxtZW50ZSBwYXJhIHByb3RlZ2VyIHRvZG9zIGxvcyBQT1NUL1BVVC9QQVRDSFxuYXBpVjFSb3V0ZXIudXNlKGlkZW1wb3RlbmN5TWlkZGxld2FyZSk7XG5hcGlWMVJvdXRlci51c2UoYXBpS2V5QXV0aCk7XG5cbmNvbnNvbGUubG9nKCdERUJVRzogQVBJIFYxIHJvdXRlciBsb2FkZWQnKTtcblxuLy8gTW91bnQgQXV0aCBSb3V0ZXNcbi8vIE1vdW50IEF1dGggUm91dGVzXG5hcGlWMVJvdXRlci51c2UoJy9hdXRoJywgYXV0aFJvdXRlcik7XG5hcGlWMVJvdXRlci51c2UoJy9kb2NrZXInLCBkb2NrZXJSb3V0ZXIpO1xuYXBpVjFSb3V0ZXIudXNlKCcvcGVyc29uYXMnLCBwZXJzb25hUm91dGVyKTtcbmFwaVYxUm91dGVyLnVzZSgnL3N3YXJtJywgc3dhcm1Sb3V0ZXIpO1xuYXBpVjFSb3V0ZXIudXNlKCcvd2ViYXV0aG4nLCB3ZWJhdXRoblJvdXRlcik7XG5hcGlWMVJvdXRlci51c2UoJy9zb3ZlcmVpZ24nLCBzb3ZlcmVpZ25IYW5kc2hha2VSb3V0ZXIpO1xuXG4vKipcbiAqIEBvcGVuYXBpXG4gKiAvYXBpL3YxL3N5c3RlbS9jcmVkZW50aWFscy92ZXJpZnk6XG4gKiAgIHBvc3Q6XG4gKiAgICAgc3VtbWFyeTogVmVyaWZ5IGFsbCBjb25maWd1cmVkIGNyZWRlbnRpYWxzIGFuZCBBUEkga2V5c1xuICogICAgIHRhZ3M6IFtTeXN0ZW1dXG4gKiAgICAgcmVzcG9uc2VzOlxuICogICAgICAgMjAwOlxuICogICAgICAgICBkZXNjcmlwdGlvbjogVmVyaWZpY2F0aW9uIHJlcG9ydFxuICogICAgICAgNTAwOlxuICogICAgICAgICBkZXNjcmlwdGlvbjogSW50ZXJuYWwgc2VydmVyIGVycm9yXG4gKi9cbmFwaVYxUm91dGVyLnBvc3QoJy9zeXN0ZW0vY3JlZGVudGlhbHMvdmVyaWZ5JywgYXN5bmMgKHJlcTogYW55LCByZXM6IGFueSkgPT4ge1xuICBjb25zdCByZXF1ZXN0SWQgPSByZXEucmVxdWVzdElkO1xuICB0cnkge1xuICAgIGNvbnN0IGNyZWRNYW5hZ2VyID0gY29udGFpbmVyLmdldDxDcmVkZW50aWFsTWFuYWdlclNlcnZpY2U+KFRZUEVTLkNyZWRlbnRpYWxNYW5hZ2VyU2VydmljZSk7XG4gICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgY3JlZE1hbmFnZXIudmVyaWZ5QWxsKCk7XG4gICAgcmVzLmpzb24oYnVpbGRSZXNwb25zZShyZXBvcnQsIDIwMCwgcmVxdWVzdElkKSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnN0IHJlcXVlc3RJZCA9IHJlcS5yZXF1ZXN0SWQ7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oYnVpbGRFcnJvcignVmVyaWZpY2F0aW9uIGZhaWxlZCcsICdWRVJJRklDQVRJT05fRVJST1InLCA1MDAsIHJlcXVlc3RJZCkpO1xuICB9XG59KTtcblxuLyoqXG4gKiBAb3BlbmFwaVxuICogL2FwaS92MS9zeXN0ZW0vaGlzdG9yeS97bWV0cmljfTpcbiAqICAgZ2V0OlxuICogICAgIHN1bW1hcnk6IFJldHJpZXZlIGhpc3RvcnkgZm9yIGEgc3BlY2lmaWMgbWV0cmljXG4gKiAgICAgdGFnczogW1N5c3RlbV1cbiAqICAgICBwYXJhbWV0ZXJzOlxuICogICAgICAgLSBpbjogcGF0aFxuICogICAgICAgICBuYW1lOiBtZXRyaWNcbiAqICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAqICAgICAgICAgc2NoZW1hOlxuICogICAgICAgICAgIHR5cGU6IHN0cmluZ1xuICogICAgICAgICBkZXNjcmlwdGlvbjogVGhlIG5hbWUgb2YgdGhlIG1ldHJpYyAoZS5nLiwgY3B1LCBtZW1vcnkpXG4gKiAgICAgcmVzcG9uc2VzOlxuICogICAgICAgMjAwOlxuICogICAgICAgICBkZXNjcmlwdGlvbjogTGlzdCBvZiBtZXRyaWMgc25hcHNob3RzXG4gKiAgICAgICA1MDA6XG4gKiAgICAgICAgIGRlc2NyaXB0aW9uOiBJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcbiAqL1xuYXBpVjFSb3V0ZXIuZ2V0KCcvc3lzdGVtL2hpc3RvcnkvOm1ldHJpYycsIGFzeW5jIChyZXE6IGFueSwgcmVzOiBhbnkpID0+IHtcbiAgY29uc3QgcmVxdWVzdElkID0gcmVxLnJlcXVlc3RJZDtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IG1ldHJpYyB9ID0gcmVxLnBhcmFtcztcbiAgICBjb25zdCBoaXN0b3J5U2VydmljZSA9IGNvbnRhaW5lci5nZXQ8SGlzdG9yeVNlcnZpY2U+KFRZUEVTLkhpc3RvcnlTZXJ2aWNlKTtcbiAgICBjb25zdCBoaXN0b3J5ID0gYXdhaXQgaGlzdG9yeVNlcnZpY2UuZ2V0SGlzdG9yeShtZXRyaWMpO1xuICAgIHJlcy5qc29uKGJ1aWxkUmVzcG9uc2UoaGlzdG9yeSwgMjAwLCByZXF1ZXN0SWQpKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc3QgcmVxdWVzdElkID0gcmVxLnJlcXVlc3RJZDtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbihidWlsZEVycm9yKCdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InLCAnSU5URVJOQUxfRVJST1InLCA1MDAsIHJlcXVlc3RJZCkpO1xuICB9XG59KTtcblxuLy8gU3RhbmRhcmQgQVBJIFJvdXRlc1xuXG4vLyBVc2VycyAoUHJ1ZWJhIHBvbmnDqW5kb2xvIGFycmliYSlcbmFwaVYxUm91dGVyLnVzZSgnL3VzZXJzJywgdXNlcnNSb3V0ZXIpO1xuXG5pbXBvcnQgaGVhbHRoUm91dGVyIGZyb20gJy4vaGVhbHRoLnJvdXRlcyc7XG4vLyAuLi4gKGV4aXN0aW5nIGltcG9ydHMpXG5cbi8vIEhlYWx0aCBjaGVja3NcbmFwaVYxUm91dGVyLnVzZSgnL2hlYWx0aCcsIGhlYWx0aFJvdXRlcik7XG5cbi8vIE90aGVyIHNlcnZpY2VzXG4vKipcbiAqIEBvcGVuYXBpXG4gKiAvYXBpL3YxL3N0cmlwZTpcbiAqICAgZ2V0OlxuICogICAgIHN1bW1hcnk6IFN0cmlwZSByZWxhdGVkIGVuZHBvaW50cyAocGxhY2Vob2xkZXIpXG4gKiAgICAgdGFnczogW1N0cmlwZV1cbiAqICAgICByZXNwb25zZXM6XG4gKiAgICAgICAyMDA6XG4gKiAgICAgICAgIGRlc2NyaXB0aW9uOiBTdWNjZXNzZnVsIHJlc3BvbnNlXG4gKi9cbmFwaVYxUm91dGVyLnVzZSgnL3N0cmlwZScsIHN0cmlwZVJvdXRlcik7XG4vKipcbiAqIEBvcGVuYXBpXG4gKiAvYXBpL3YxL3lvdXR1YmU6XG4gKiAgIGdldDpcbiAqICAgICBzdW1tYXJ5OiBZb3VUdWJlIHJlbGF0ZWQgZW5kcG9pbnRzIChwbGFjZWhvbGRlcilcbiAqICAgICB0YWdzOiBbWW91VHViZV1cbiAqICAgICByZXNwb25zZXM6XG4gKiAgICAgICAyMDA6XG4gKiAgICAgICAgIGRlc2NyaXB0aW9uOiBTdWNjZXNzZnVsIHJlc3BvbnNlXG4gKi9cbmFwaVYxUm91dGVyLnVzZSgnL3lvdXR1YmUnLCB5b3V0dWJlUm91dGVyKTtcbi8vIGFwaVYxUm91dGVyLnVzZSgnL2dtYWlsJywgZ21haWxSb3V0ZXMpO1xuLy8gYXBpVjFSb3V0ZXIudXNlKCcvYmlncXVlcnknLCBiaWdxdWVyeVJvdXRlcyk7XG4vLyBhcGlWMVJvdXRlci51c2UoJy9jbG91ZC1tb25pdG9yaW5nJywgY2xvdWRNb25pdG9yaW5nUm91dGVzKTtcbi8vIGFwaVYxUm91dGVyLnVzZSgnL3lvdXR1YmUnLCB5b3V0dWJlUm91dGVzKTtcbi8vIGFwaVYxUm91dGVyLnVzZSgnL2JyaWVmaW5nJywgYnJpZWZpbmdSb3V0ZXMpO1xuXG4vLyBEYXNoYm9hcmQgQXV0aCByb3V0ZXMgKHJlZnJlc2ggdG9rZW4sIGV0Yy4pXG4vLyBhcGlWMVJvdXRlci5wb3N0KCcvYXV0aC9yZWZyZXNoJywgZGFzaGJvYXJkQXV0aCwgKHJlcSwgcmVzKSA9PiB7XG4vLyAgIGNvbnN0IHsgdXNlciB9ID0gcmVxIGFzIGFueTtcbi8vICAgY29uc3QgbmV3VG9rZW4gPSBqd3Quc2lnbih7IHVzZXI6IHVzZXIudXNlciwgcm9sZTogdXNlci5yb2xlIH0sIGVudi5KV1RfU0VDUkVULCB7XG4vLyAgICAgZXhwaXJlc0luOiAnN2QnLFxuLy8gICB9KTtcbi8vICAgcmVzLmpzb24oeyB0b2tlbjogbmV3VG9rZW4gfSk7XG4vLyB9KTtcblxuLy8gTnVldmEgcnV0YSBwYXJhIGVsIHRyYWNraW5nIGRlIGVtYWlsc1xuLy8gYXBpVjFSb3V0ZXIuZ2V0KCcvZW1haWwvdHJhY2tpbmcnLCBnZXRFbWFpbFRyYWNraW5nKTtcblxuY29uc3QgYmlsbGluZ0NvbnRyb2xsZXIgPSBjb250YWluZXIuZ2V0PEJpbGxpbmdDb250cm9sbGVyPihUWVBFUy5CaWxsaW5nQ29udHJvbGxlcik7XG5jb25zdCB1c2FnZUNvbnRyb2xsZXIgPSBjb250YWluZXIuZ2V0PFVzYWdlQ29udHJvbGxlcj4oVFlQRVMuVXNhZ2VDb250cm9sbGVyKTtcblxuYXBpVjFSb3V0ZXIuZ2V0KCcvdXNhZ2UvY3VycmVudCcsIHJlZGlzQ2FjaGUoNjApLCAocmVxLCByZXMsIG5leHQpID0+XG4gIHVzYWdlQ29udHJvbGxlci5nZXRDdXJyZW50VXNhZ2UocmVxLCByZXMsIG5leHQpLFxuKTtcbmFwaVYxUm91dGVyLmdldCgnL2JpbGxpbmcvc25hcHNob3QnLCByZXF1aXJlQXV0aCwgcmVkaXNDYWNoZSgzMDApLCAocmVxLCByZXMsIG5leHQpID0+XG4gIGJpbGxpbmdDb250cm9sbGVyLmdldEJpbGxpbmdTbmFwc2hvdChyZXEsIHJlcywgbmV4dCksXG4pO1xuYXBpVjFSb3V0ZXIucG9zdCgnL2JpbGxpbmcvY2hlY2tvdXQnLCByZXF1aXJlQXV0aCwgKHJlcSwgcmVzLCBuZXh0KSA9PlxuICBiaWxsaW5nQ29udHJvbGxlci5jcmVhdGVDaGVja291dFNlc3Npb24ocmVxLCByZXMsIG5leHQpLFxuKTtcbmFwaVYxUm91dGVyLnBvc3QoJy9iaWxsaW5nL3BvcnRhbCcsIHJlcXVpcmVBdXRoLCAocmVxLCByZXMsIG5leHQpID0+XG4gIGJpbGxpbmdDb250cm9sbGVyLmNyZWF0ZVBvcnRhbFNlc3Npb24ocmVxLCByZXMsIG5leHQpLFxuKTtcbmFwaVYxUm91dGVyLnVzZSgnL2FuYWx5dGljcycsIHJlZGlzQ2FjaGUoMzApLCBhbmFseXRpY3NSb3V0ZXIpO1xuXG4vLyBFbmhhbmNlZCBWb2ljZSBTZXJ2aWNlIChEYW5pZWxhKVxuLyoqXG4gKiBAb3BlbmFwaVxuICogL2FwaS92MS9lbmhhbmNlZC12b2ljZTpcbiAqICAgZ2V0OlxuICogICAgIHN1bW1hcnk6IEVuaGFuY2VkIFZvaWNlIFNlcnZpY2UgZW5kcG9pbnRzIGZvciBEYW5pZWxhXG4gKiAgICAgdGFnczogW0VuaGFuY2VkVm9pY2VdXG4gKiAgICAgcmVzcG9uc2VzOlxuICogICAgICAgMjAwOlxuICogICAgICAgICBkZXNjcmlwdGlvbjogRW5oYW5jZWQgVm9pY2UgU2VydmljZSBlbmRwb2ludHNcbiAqL1xuYXBpVjFSb3V0ZXIudXNlKCcvZW5oYW5jZWQtdm9pY2UnLCBlbmhhbmNlZFZvaWNlUm91dGVyKTtcbmFwaVYxUm91dGVyLnVzZSgnL2RhbmllbGEnLCBkYW5pZWxhUm91dGVyKTtcblxuLy8gQUkgYW5kIFJBRyBSb3V0ZXNcblxuLyoqXG4gKiBAb3BlbmFwaVxuICogL2FwaS92MS9haTpcbiAqICAgZ2V0OlxuICogICAgIHN1bW1hcnk6IEFJIHJlbGF0ZWQgZW5kcG9pbnRzIChwbGFjZWhvbGRlcilcbiAqICAgICB0YWdzOiBbQUldXG4gKiAgICAgcmVzcG9uc2VzOlxuICogICAgICAgMjAwOlxuICogICAgICAgICBkZXNjcmlwdGlvbjogU3VjY2Vzc2Z1bCByZXNwb25zZVxuICovXG5hcGlWMVJvdXRlci51c2UoJy9haScsIGR5bmFtaWNSYXRlTGltaXRlciwgYWlSb3V0ZXIpO1xuYXBpVjFSb3V0ZXIudXNlKCcvcmFnJywgcmFnUm91dGVzKTtcbi8qKlxuICogQG9wZW5hcGlcbiAqIC9hcGkvdjEvZXhpdC10ZW1wbGF0ZXM6XG4gKiAgIGdldDpcbiAqICAgICBzdW1tYXJ5OiBFeGl0IGVtYWlsIHRlbXBsYXRlcyBlbmRwb2ludHMgKHBsYWNlaG9sZGVyKVxuICogICAgIHRhZ3M6IFtFeGl0RW1haWxdXG4gKiAgICAgcmVzcG9uc2VzOlxuICogICAgICAgMjAwOlxuICogICAgICAgICBkZXNjcmlwdGlvbjogU3VjY2Vzc2Z1bCByZXNwb25zZVxuICovXG5hcGlWMVJvdXRlci51c2UoJy9leGl0LXRlbXBsYXRlcycsIGV4aXRFbWFpbFJvdXRlcik7XG5cbi8vIFN5c3RlbSBSb3V0ZXMgKE1ldHJpY3MsIENQVSwgZXRjLilcbmFwaVYxUm91dGVyLnVzZSgnL3N5c3RlbScsIHN5c3RlbVJvdXRlcik7XG5cbi8vIFNvY2lhbCBSb3V0ZXMgKEZhY2Vib29rLCBJbnN0YWdyYW0sIGV0Yy4pXG5hcGlWMVJvdXRlci51c2UoJy9zb2NpYWwnLCBzb2NpYWxSb3V0ZXIpO1xuXG4vLyBMb2dzIFJvdXRlc1xuYXBpVjFSb3V0ZXIudXNlKCcvbG9ncycsIGxvZ3NSb3V0ZXIpO1xuYXBpVjFSb3V0ZXIudXNlKCcvc2VjdXJpdHktZGFzaGJvYXJkJywgc2VjdXJpdHlEYXNoYm9hcmRSb3V0ZXIpO1xuYXBpVjFSb3V0ZXIudXNlKCcvd2FmJywgd2FmUm91dGVyKTtcbmFwaVYxUm91dGVyLnVzZSgnL21hbHdhcmUtc2Nhbm5lcicsIG1hbHdhcmVTY2FubmVyUm91dGVyKTtcbmFwaVYxUm91dGVyLnVzZSgnL3RocmVhdC1pbnRlbGxpZ2VuY2UnLCB0aHJlYXRJbnRlbFJvdXRlcik7XG5hcGlWMVJvdXRlci51c2UoJy9iZWhhdmlvcicsIGJlaGF2aW9yUm91dGVyKTtcbmFwaVYxUm91dGVyLnVzZSgnL2RldmljZS1wb3N0dXJlJywgZGV2aWNlUG9zdHVyZVJvdXRlcik7XG5hcGlWMVJvdXRlci51c2UoJy9uZXh1cycsIG5leHVzUm91dGVyKTtcbmFwaVYxUm91dGVyLnVzZSgnL2dvZC1tb2RlJywgZ29kbW9kZVJvdXRlcyk7XG5cbmV4cG9ydCBkZWZhdWx0IGFwaVYxUm91dGVyO1xuIl0sInZlcnNpb24iOjN9