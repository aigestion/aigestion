620dffa5669d825cebc1a795e8a0f0d6
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var _a, _b, _c, _d, _e, _f, _g, _h;
Object.defineProperty(exports, "__esModule", { value: true });
exports.SwarmService = void 0;
const inversify_1 = require("inversify");
const JobQueue_1 = require("../infrastructure/jobs/JobQueue");
const job_definitions_1 = require("../infrastructure/jobs/job-definitions");
const MissionRepository_1 = require("../infrastructure/repository/MissionRepository");
const Mission_1 = require("../models/Mission");
const types_1 = require("../types");
const logger_1 = require("../utils/logger");
const ai_service_1 = require("./ai.service");
const defi_strategist_service_1 = require("./defi-strategist.service");
const infra_optimizer_service_1 = require("./infra-optimizer.service");
const knowledge_graph_service_1 = require("./knowledge-graph.service");
const metaverse_service_1 = require("./metaverse.service");
const rag_service_1 = require("./rag.service");
let SwarmService = class SwarmService {
    aiService;
    metaverseService;
    defiService;
    infraService;
    ragService;
    jobQueue;
    missionRepo;
    kgService;
    constructor(aiService, metaverseService, defiService, infraService, ragService, jobQueue, missionRepo, kgService) {
        this.aiService = aiService;
        this.metaverseService = metaverseService;
        this.defiService = defiService;
        this.infraService = infraService;
        this.ragService = ragService;
        this.jobQueue = jobQueue;
        this.missionRepo = missionRepo;
        this.kgService = kgService;
    }
    /**
     * Launches a long-running autonomous mission.
     */
    async createMission(objective, userId) {
        logger_1.logger.info(`[SwarmService] Creating mission for user ${userId}: ${objective}`);
        try {
            // 1. Persist the mission in the database
            const mission = await this.missionRepo.create({
                objective,
                userId,
                status: Mission_1.MissionStatus.PENDING,
            });
            // 2. Enqueue the background job
            await this.jobQueue.addJob(job_definitions_1.JobName.SWARM_MISSION, {
                objective,
                userId,
                missionId: mission.id,
                context: {
                    startedAt: new Date().toISOString(),
                },
            });
            return {
                status: 'success',
                message: 'Mission launched successfully',
                missionId: mission.id,
                objective,
            };
        }
        catch (error) {
            logger_1.logger.error('[SwarmService] Failed to launch mission:', error);
            throw error;
        }
    }
    /**
     * Retrieves the status and results of a mission.
     */
    async getMission(id) {
        const mission = await this.missionRepo.findById(id);
        if (!mission) {
            throw new Error(`Mission not found: ${id}`);
        }
        return mission;
    }
    /**
     * Provides a consolidated "God State" for the Python Swarm.
     * This allows Python agents to know exactly what tools and data are available in Node.js.
     */
    async getGodState() {
        try {
            const metaverse = await this.metaverseService.getStatus();
            const defi = await this.defiService.getYieldAdvice();
            const infra = await this.infraService.getInfraRecommendations();
            return {
                timestamp: new Date().toISOString(),
                version: '1.0.0-godmode',
                system_status: 'Sovereign',
                realms: {
                    metaverse: {
                        coordinates: metaverse.coordinates,
                        status: metaverse.offline ? 'offline' : 'active',
                        events: metaverse.activeEvents,
                    },
                    finance: {
                        health_score: 85, // Meta-score placeholder
                        outlook: defi.marketSentiment,
                        strategy: defi.strategy,
                    },
                    infrastructure: {
                        optimization_level: 'pending',
                        top_recommendation: infra.recommendations[0]?.action || 'None',
                        potential_savings: infra.totalPotentialSavings,
                    },
                },
                available_tools: [
                    'query_document_brain',
                    'analyze_financial_yield',
                    'get_metaverse_office_status',
                    'deploy_infra_optimization',
                ],
            };
        }
        catch (error) {
            logger_1.logger.error('[SwarmService] Failed to compile God State:', error);
            throw error;
        }
    }
    /**
     * Gateway for the Python Swarm to execute Node.js tools.
     */
    async executeTool(toolName, args) {
        logger_1.logger.info(`[SwarmService] Python Swarm requesting tool: ${toolName}`, args);
        try {
            switch (toolName) {
                case 'query_document_brain':
                    const results = await this.ragService.queryKnowledgeBase(args.query);
                    return { status: 'success', data: results };
                case 'analyze_financial_yield':
                    const yieldData = await this.defiService.getYieldAdvice();
                    return { status: 'success', data: yieldData };
                case 'get_metaverse_office_status':
                    const officeStatus = await this.metaverseService.getStatus();
                    return { status: 'success', data: officeStatus };
                case 'deploy_infra_optimization':
                    const infraPlan = await this.infraService.optimize(args.target || 'all');
                    return { status: 'success', data: infraPlan };
                default:
                    logger_1.logger.warn(`[SwarmService] Unknown tool requested: ${toolName}`);
                    return { status: 'error', message: `Unknown tool: ${toolName}` };
            }
        }
        catch (error) {
            logger_1.logger.error(`[SwarmService] Tool execution failed: ${toolName}`, error);
            return {
                status: 'error',
                message: error instanceof Error ? error.message : 'Execution failed',
            };
        }
    }
    /**
     * [GOD MODE] Multi-Agent Orchestration Loop
     * Recursively solves complex missions by spawning sub-agents.
     */
    async executeAutonomousLoop(missionId, depth = 0) {
        if (depth > 5) {
            logger_1.logger.warn(`[Swarm] Max depth reached for mission ${missionId}`);
            return;
        }
        const mission = await this.getMission(missionId);
        logger_1.logger.info(`[Swarm] Agent Active: Analyzing mission "${mission.objective}" (Depth: ${depth})`);
        // 1. Consult Knowledge Graph for context
        const contextNodes = await this.kgService.getRelated(mission.userId, 'focus_on');
        const contextStr = contextNodes.map(n => n.label).join(', ');
        // 2. Plan steps including context
        const prompt = `Objective: ${mission.objective}. Context: ${contextStr}. Return a definition of 3 sub-tasks to achieve this.`;
        const plan = await this.aiService.generateContent(prompt, mission.userId, 'system_architect');
        logger_1.logger.info(`[Swarm] Generated Plan: ${plan}`);
        // 3. Execute or Delegate (Simplified simulation)
        // In a full implementation, this would parse the 'plan' JSON and spawn concrete jobs.
        // For now, we update the KG to reflect progress.
        await this.kgService.addNode({ id: missionId, type: 'mission', label: mission.objective });
        await this.kgService.addEdge({
            source: mission.userId,
            target: missionId,
            relation: 'created',
            weight: 1,
        });
        logger_1.logger.info(`[Swarm] Mission ${missionId} graph nodes updated.`);
    }
};
exports.SwarmService = SwarmService;
exports.SwarmService = SwarmService = __decorate([
    (0, inversify_1.injectable)(),
    __param(0, (0, inversify_1.inject)(types_1.TYPES.AIService)),
    __param(1, (0, inversify_1.inject)(types_1.TYPES.MetaverseService)),
    __param(2, (0, inversify_1.inject)(types_1.TYPES.DeFiStrategistService)),
    __param(3, (0, inversify_1.inject)(types_1.TYPES.InfraOptimizerService)),
    __param(4, (0, inversify_1.inject)(types_1.TYPES.RagService)),
    __param(5, (0, inversify_1.inject)(types_1.TYPES.JobQueue)),
    __param(6, (0, inversify_1.inject)(types_1.TYPES.MissionRepository)),
    __param(7, (0, inversify_1.inject)(types_1.TYPES.KnowledgeGraphService)),
    __metadata("design:paramtypes", [typeof (_a = typeof ai_service_1.AIService !== "undefined" && ai_service_1.AIService) === "function" ? _a : Object, typeof (_b = typeof metaverse_service_1.MetaverseService !== "undefined" && metaverse_service_1.MetaverseService) === "function" ? _b : Object, typeof (_c = typeof defi_strategist_service_1.DeFiStrategistService !== "undefined" && defi_strategist_service_1.DeFiStrategistService) === "function" ? _c : Object, typeof (_d = typeof infra_optimizer_service_1.InfraOptimizerService !== "undefined" && infra_optimizer_service_1.InfraOptimizerService) === "function" ? _d : Object, typeof (_e = typeof rag_service_1.RagService !== "undefined" && rag_service_1.RagService) === "function" ? _e : Object, typeof (_f = typeof JobQueue_1.JobQueue !== "undefined" && JobQueue_1.JobQueue) === "function" ? _f : Object, typeof (_g = typeof MissionRepository_1.IMissionRepository !== "undefined" && MissionRepository_1.IMissionRepository) === "function" ? _g : Object, typeof (_h = typeof knowledge_graph_service_1.KnowledgeGraphService !== "undefined" && knowledge_graph_service_1.KnowledgeGraphService) === "function" ? _h : Object])
], SwarmService);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxBbGVqYW5kcm9cXEFJR2VzdGlvblxcYmFja2VuZFxcc3JjXFxzZXJ2aWNlc1xcc3dhcm0uc2VydmljZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEseUNBQStDO0FBQy9DLDhEQUEyRDtBQUMzRCw0RUFBaUU7QUFDakUsc0ZBQW9GO0FBQ3BGLCtDQUFrRDtBQUNsRCxvQ0FBaUM7QUFDakMsNENBQXlDO0FBQ3pDLDZDQUF5QztBQUN6Qyx1RUFBa0U7QUFDbEUsdUVBQWtFO0FBQ2xFLHVFQUFrRTtBQUNsRSwyREFBdUQ7QUFDdkQsK0NBQTJDO0FBR3BDLElBQU0sWUFBWSxHQUFsQixNQUFNLFlBQVk7SUFFWTtJQUNPO0lBQ0s7SUFDQTtJQUNYO0lBQ0Y7SUFDUztJQUNJO0lBUi9DLFlBQ21DLFNBQW9CLEVBQ2IsZ0JBQWtDLEVBQzdCLFdBQWtDLEVBQ2xDLFlBQW1DLEVBQzlDLFVBQXNCLEVBQ3hCLFFBQWtCLEVBQ1QsV0FBK0IsRUFDM0IsU0FBZ0M7UUFQNUMsY0FBUyxHQUFULFNBQVMsQ0FBVztRQUNiLHFCQUFnQixHQUFoQixnQkFBZ0IsQ0FBa0I7UUFDN0IsZ0JBQVcsR0FBWCxXQUFXLENBQXVCO1FBQ2xDLGlCQUFZLEdBQVosWUFBWSxDQUF1QjtRQUM5QyxlQUFVLEdBQVYsVUFBVSxDQUFZO1FBQ3hCLGFBQVEsR0FBUixRQUFRLENBQVU7UUFDVCxnQkFBVyxHQUFYLFdBQVcsQ0FBb0I7UUFDM0IsY0FBUyxHQUFULFNBQVMsQ0FBdUI7SUFDNUUsQ0FBQztJQUVKOztPQUVHO0lBQ0gsS0FBSyxDQUFDLGFBQWEsQ0FBQyxTQUFpQixFQUFFLE1BQWM7UUFDbkQsZUFBTSxDQUFDLElBQUksQ0FBQyw0Q0FBNEMsTUFBTSxLQUFLLFNBQVMsRUFBRSxDQUFDLENBQUM7UUFFaEYsSUFBSSxDQUFDO1lBQ0gseUNBQXlDO1lBQ3pDLE1BQU0sT0FBTyxHQUFHLE1BQU0sSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUM7Z0JBQzVDLFNBQVM7Z0JBQ1Qs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Q0FBQyxxQkFBcUIsQ0FBQyxDQUFBO3lEQVBRLHNCQUFTLG9CQUFULHNCQUFTLG9EQUNLLG9DQUFnQixvQkFBaEIsb0NBQWdCLG9EQUNoQiwrQ0FBcUIsb0JBQXJCLCtDQUFxQixvREFDcEIsK0NBQXFCLG9CQUFyQiwrQ0FBcUIsb0RBQ2xDLHdCQUFVLG9CQUFWLHdCQUFVLG9EQUNkLG1CQUFRLG9CQUFSLG1CQUFRLG9EQUNJLHNDQUFrQixvQkFBbEIsc0NBQWtCLG9EQUNoQiwrQ0FBcUIsb0JBQXJCLCtDQUFxQjtHQVRwRSxZQUFZLENBZ0x4QiIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJDOlxcVXNlcnNcXEFsZWphbmRyb1xcQUlHZXN0aW9uXFxiYWNrZW5kXFxzcmNcXHNlcnZpY2VzXFxzd2FybS5zZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSB9IGZyb20gJ2ludmVyc2lmeSc7XG5pbXBvcnQgeyBKb2JRdWV1ZSB9IGZyb20gJy4uL2luZnJhc3RydWN0dXJlL2pvYnMvSm9iUXVldWUnO1xuaW1wb3J0IHsgSm9iTmFtZSB9IGZyb20gJy4uL2luZnJhc3RydWN0dXJlL2pvYnMvam9iLWRlZmluaXRpb25zJztcbmltcG9ydCB7IElNaXNzaW9uUmVwb3NpdG9yeSB9IGZyb20gJy4uL2luZnJhc3RydWN0dXJlL3JlcG9zaXRvcnkvTWlzc2lvblJlcG9zaXRvcnknO1xuaW1wb3J0IHsgTWlzc2lvblN0YXR1cyB9IGZyb20gJy4uL21vZGVscy9NaXNzaW9uJztcbmltcG9ydCB7IFRZUEVTIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvbG9nZ2VyJztcbmltcG9ydCB7IEFJU2VydmljZSB9IGZyb20gJy4vYWkuc2VydmljZSc7XG5pbXBvcnQgeyBEZUZpU3RyYXRlZ2lzdFNlcnZpY2UgfSBmcm9tICcuL2RlZmktc3RyYXRlZ2lzdC5zZXJ2aWNlJztcbmltcG9ydCB7IEluZnJhT3B0aW1pemVyU2VydmljZSB9IGZyb20gJy4vaW5mcmEtb3B0aW1pemVyLnNlcnZpY2UnO1xuaW1wb3J0IHsgS25vd2xlZGdlR3JhcGhTZXJ2aWNlIH0gZnJvbSAnLi9rbm93bGVkZ2UtZ3JhcGguc2VydmljZSc7XG5pbXBvcnQgeyBNZXRhdmVyc2VTZXJ2aWNlIH0gZnJvbSAnLi9tZXRhdmVyc2Uuc2VydmljZSc7XG5pbXBvcnQgeyBSYWdTZXJ2aWNlIH0gZnJvbSAnLi9yYWcuc2VydmljZSc7XG5cbkBpbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBTd2FybVNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcihcbiAgICBAaW5qZWN0KFRZUEVTLkFJU2VydmljZSkgcHJpdmF0ZSBhaVNlcnZpY2U6IEFJU2VydmljZSxcbiAgICBAaW5qZWN0KFRZUEVTLk1ldGF2ZXJzZVNlcnZpY2UpIHByaXZhdGUgbWV0YXZlcnNlU2VydmljZTogTWV0YXZlcnNlU2VydmljZSxcbiAgICBAaW5qZWN0KFRZUEVTLkRlRmlTdHJhdGVnaXN0U2VydmljZSkgcHJpdmF0ZSBkZWZpU2VydmljZTogRGVGaVN0cmF0ZWdpc3RTZXJ2aWNlLFxuICAgIEBpbmplY3QoVFlQRVMuSW5mcmFPcHRpbWl6ZXJTZXJ2aWNlKSBwcml2YXRlIGluZnJhU2VydmljZTogSW5mcmFPcHRpbWl6ZXJTZXJ2aWNlLFxuICAgIEBpbmplY3QoVFlQRVMuUmFnU2VydmljZSkgcHJpdmF0ZSByYWdTZXJ2aWNlOiBSYWdTZXJ2aWNlLFxuICAgIEBpbmplY3QoVFlQRVMuSm9iUXVldWUpIHByaXZhdGUgam9iUXVldWU6IEpvYlF1ZXVlLFxuICAgIEBpbmplY3QoVFlQRVMuTWlzc2lvblJlcG9zaXRvcnkpIHByaXZhdGUgbWlzc2lvblJlcG86IElNaXNzaW9uUmVwb3NpdG9yeSxcbiAgICBAaW5qZWN0KFRZUEVTLktub3dsZWRnZUdyYXBoU2VydmljZSkgcHJpdmF0ZSBrZ1NlcnZpY2U6IEtub3dsZWRnZUdyYXBoU2VydmljZSxcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBMYXVuY2hlcyBhIGxvbmctcnVubmluZyBhdXRvbm9tb3VzIG1pc3Npb24uXG4gICAqL1xuICBhc3luYyBjcmVhdGVNaXNzaW9uKG9iamVjdGl2ZTogc3RyaW5nLCB1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgbG9nZ2VyLmluZm8oYFtTd2FybVNlcnZpY2VdIENyZWF0aW5nIG1pc3Npb24gZm9yIHVzZXIgJHt1c2VySWR9OiAke29iamVjdGl2ZX1gKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyAxLiBQZXJzaXN0IHRoZSBtaXNzaW9uIGluIHRoZSBkYXRhYmFzZVxuICAgICAgY29uc3QgbWlzc2lvbiA9IGF3YWl0IHRoaXMubWlzc2lvblJlcG8uY3JlYXRlKHtcbiAgICAgICAgb2JqZWN0aXZlLFxuICAgICAgICB1c2VySWQsXG4gICAgICAgIHN0YXR1czogTWlzc2lvblN0YXR1cy5QRU5ESU5HLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDIuIEVucXVldWUgdGhlIGJhY2tncm91bmQgam9iXG4gICAgICBhd2FpdCB0aGlzLmpvYlF1ZXVlLmFkZEpvYihKb2JOYW1lLlNXQVJNX01JU1NJT04sIHtcbiAgICAgICAgb2JqZWN0aXZlLFxuICAgICAgICB1c2VySWQsXG4gICAgICAgIG1pc3Npb25JZDogbWlzc2lvbi5pZCxcbiAgICAgICAgY29udGV4dDoge1xuICAgICAgICAgIHN0YXJ0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICBtZXNzYWdlOiAnTWlzc2lvbiBsYXVuY2hlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgICBtaXNzaW9uSWQ6IG1pc3Npb24uaWQsXG4gICAgICAgIG9iamVjdGl2ZSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignW1N3YXJtU2VydmljZV0gRmFpbGVkIHRvIGxhdW5jaCBtaXNzaW9uOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIHN0YXR1cyBhbmQgcmVzdWx0cyBvZiBhIG1pc3Npb24uXG4gICAqL1xuICBhc3luYyBnZXRNaXNzaW9uKGlkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIGNvbnN0IG1pc3Npb24gPSBhd2FpdCB0aGlzLm1pc3Npb25SZXBvLmZpbmRCeUlkKGlkKTtcbiAgICBpZiAoIW1pc3Npb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2lvbiBub3QgZm91bmQ6ICR7aWR9YCk7XG4gICAgfVxuICAgIHJldHVybiBtaXNzaW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGVzIGEgY29uc29saWRhdGVkIFwiR29kIFN0YXRlXCIgZm9yIHRoZSBQeXRob24gU3dhcm0uXG4gICAqIFRoaXMgYWxsb3dzIFB5dGhvbiBhZ2VudHMgdG8ga25vdyBleGFjdGx5IHdoYXQgdG9vbHMgYW5kIGRhdGEgYXJlIGF2YWlsYWJsZSBpbiBOb2RlLmpzLlxuICAgKi9cbiAgYXN5bmMgZ2V0R29kU3RhdGUoKTogUHJvbWlzZTxhbnk+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbWV0YXZlcnNlID0gYXdhaXQgdGhpcy5tZXRhdmVyc2VTZXJ2aWNlLmdldFN0YXR1cygpO1xuICAgICAgY29uc3QgZGVmaSA9IGF3YWl0IHRoaXMuZGVmaVNlcnZpY2UuZ2V0WWllbGRBZHZpY2UoKTtcbiAgICAgIGNvbnN0IGluZnJhID0gYXdhaXQgdGhpcy5pbmZyYVNlcnZpY2UuZ2V0SW5mcmFSZWNvbW1lbmRhdGlvbnMoKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHZlcnNpb246ICcxLjAuMC1nb2Rtb2RlJyxcbiAgICAgICAgc3lzdGVtX3N0YXR1czogJ1NvdmVyZWlnbicsXG4gICAgICAgIHJlYWxtczoge1xuICAgICAgICAgIG1ldGF2ZXJzZToge1xuICAgICAgICAgICAgY29vcmRpbmF0ZXM6IG1ldGF2ZXJzZS5jb29yZGluYXRlcyxcbiAgICAgICAgICAgIHN0YXR1czogbWV0YXZlcnNlLm9mZmxpbmUgPyAnb2ZmbGluZScgOiAnYWN0aXZlJyxcbiAgICAgICAgICAgIGV2ZW50czogbWV0YXZlcnNlLmFjdGl2ZUV2ZW50cyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZpbmFuY2U6IHtcbiAgICAgICAgICAgIGhlYWx0aF9zY29yZTogODUsIC8vIE1ldGEtc2NvcmUgcGxhY2Vob2xkZXJcbiAgICAgICAgICAgIG91dGxvb2s6IGRlZmkubWFya2V0U2VudGltZW50LFxuICAgICAgICAgICAgc3RyYXRlZ3k6IGRlZmkuc3RyYXRlZ3ksXG4gICAgICAgICAgfSxcbiAgICAgICAgICBpbmZyYXN0cnVjdHVyZToge1xuICAgICAgICAgICAgb3B0aW1pemF0aW9uX2xldmVsOiAncGVuZGluZycsXG4gICAgICAgICAgICB0b3BfcmVjb21tZW5kYXRpb246IGluZnJhLnJlY29tbWVuZGF0aW9uc1swXT8uYWN0aW9uIHx8ICdOb25lJyxcbiAgICAgICAgICAgIHBvdGVudGlhbF9zYXZpbmdzOiBpbmZyYS50b3RhbFBvdGVudGlhbFNhdmluZ3MsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgYXZhaWxhYmxlX3Rvb2xzOiBbXG4gICAgICAgICAgJ3F1ZXJ5X2RvY3VtZW50X2JyYWluJyxcbiAgICAgICAgICAnYW5hbHl6ZV9maW5hbmNpYWxfeWllbGQnLFxuICAgICAgICAgICdnZXRfbWV0YXZlcnNlX29mZmljZV9zdGF0dXMnLFxuICAgICAgICAgICdkZXBsb3lfaW5mcmFfb3B0aW1pemF0aW9uJyxcbiAgICAgICAgXSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignW1N3YXJtU2VydmljZV0gRmFpbGVkIHRvIGNvbXBpbGUgR29kIFN0YXRlOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHYXRld2F5IGZvciB0aGUgUHl0aG9uIFN3YXJtIHRvIGV4ZWN1dGUgTm9kZS5qcyB0b29scy5cbiAgICovXG4gIGFzeW5jIGV4ZWN1dGVUb29sKHRvb2xOYW1lOiBzdHJpbmcsIGFyZ3M6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgbG9nZ2VyLmluZm8oYFtTd2FybVNlcnZpY2VdIFB5dGhvbiBTd2FybSByZXF1ZXN0aW5nIHRvb2w6ICR7dG9vbE5hbWV9YCwgYXJncyk7XG5cbiAgICB0cnkge1xuICAgICAgc3dpdGNoICh0b29sTmFtZSkge1xuICAgICAgICBjYXNlICdxdWVyeV9kb2N1bWVudF9icmFpbic6XG4gICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHRoaXMucmFnU2VydmljZS5xdWVyeUtub3dsZWRnZUJhc2UoYXJncy5xdWVyeSk7XG4gICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiAnc3VjY2VzcycsIGRhdGE6IHJlc3VsdHMgfTtcblxuICAgICAgICBjYXNlICdhbmFseXplX2ZpbmFuY2lhbF95aWVsZCc6XG4gICAgICAgICAgY29uc3QgeWllbGREYXRhID0gYXdhaXQgdGhpcy5kZWZpU2VydmljZS5nZXRZaWVsZEFkdmljZSgpO1xuICAgICAgICAgIHJldHVybiB7IHN0YXR1czogJ3N1Y2Nlc3MnLCBkYXRhOiB5aWVsZERhdGEgfTtcblxuICAgICAgICBjYXNlICdnZXRfbWV0YXZlcnNlX29mZmljZV9zdGF0dXMnOlxuICAgICAgICAgIGNvbnN0IG9mZmljZVN0YXR1cyA9IGF3YWl0IHRoaXMubWV0YXZlcnNlU2VydmljZS5nZXRTdGF0dXMoKTtcbiAgICAgICAgICByZXR1cm4geyBzdGF0dXM6ICdzdWNjZXNzJywgZGF0YTogb2ZmaWNlU3RhdHVzIH07XG5cbiAgICAgICAgY2FzZSAnZGVwbG95X2luZnJhX29wdGltaXphdGlvbic6XG4gICAgICAgICAgY29uc3QgaW5mcmFQbGFuID0gYXdhaXQgdGhpcy5pbmZyYVNlcnZpY2Uub3B0aW1pemUoYXJncy50YXJnZXQgfHwgJ2FsbCcpO1xuICAgICAgICAgIHJldHVybiB7IHN0YXR1czogJ3N1Y2Nlc3MnLCBkYXRhOiBpbmZyYVBsYW4gfTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxvZ2dlci53YXJuKGBbU3dhcm1TZXJ2aWNlXSBVbmtub3duIHRvb2wgcmVxdWVzdGVkOiAke3Rvb2xOYW1lfWApO1xuICAgICAgICAgIHJldHVybiB7IHN0YXR1czogJ2Vycm9yJywgbWVzc2FnZTogYFVua25vd24gdG9vbDogJHt0b29sTmFtZX1gIH07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcihgW1N3YXJtU2VydmljZV0gVG9vbCBleGVjdXRpb24gZmFpbGVkOiAke3Rvb2xOYW1lfWAsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRXhlY3V0aW9uIGZhaWxlZCcsXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBbR09EIE1PREVdIE11bHRpLUFnZW50IE9yY2hlc3RyYXRpb24gTG9vcFxuICAgKiBSZWN1cnNpdmVseSBzb2x2ZXMgY29tcGxleCBtaXNzaW9ucyBieSBzcGF3bmluZyBzdWItYWdlbnRzLlxuICAgKi9cbiAgYXN5bmMgZXhlY3V0ZUF1dG9ub21vdXNMb29wKG1pc3Npb25JZDogc3RyaW5nLCBkZXB0aDogbnVtYmVyID0gMCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmIChkZXB0aCA+IDUpIHtcbiAgICAgIGxvZ2dlci53YXJuKGBbU3dhcm1dIE1heCBkZXB0aCByZWFjaGVkIGZvciBtaXNzaW9uICR7bWlzc2lvbklkfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG1pc3Npb24gPSBhd2FpdCB0aGlzLmdldE1pc3Npb24obWlzc2lvbklkKTtcbiAgICBsb2dnZXIuaW5mbyhgW1N3YXJtXSBBZ2VudCBBY3RpdmU6IEFuYWx5emluZyBtaXNzaW9uIFwiJHttaXNzaW9uLm9iamVjdGl2ZX1cIiAoRGVwdGg6ICR7ZGVwdGh9KWApO1xuXG4gICAgLy8gMS4gQ29uc3VsdCBLbm93bGVkZ2UgR3JhcGggZm9yIGNvbnRleHRcbiAgICBjb25zdCBjb250ZXh0Tm9kZXMgPSBhd2FpdCB0aGlzLmtnU2VydmljZS5nZXRSZWxhdGVkKG1pc3Npb24udXNlcklkLCAnZm9jdXNfb24nKTtcbiAgICBjb25zdCBjb250ZXh0U3RyID0gY29udGV4dE5vZGVzLm1hcChuID0+IG4ubGFiZWwpLmpvaW4oJywgJyk7XG5cbiAgICAvLyAyLiBQbGFuIHN0ZXBzIGluY2x1ZGluZyBjb250ZXh0XG4gICAgY29uc3QgcHJvbXB0ID0gYE9iamVjdGl2ZTogJHttaXNzaW9uLm9iamVjdGl2ZX0uIENvbnRleHQ6ICR7Y29udGV4dFN0cn0uIFJldHVybiBhIGRlZmluaXRpb24gb2YgMyBzdWItdGFza3MgdG8gYWNoaWV2ZSB0aGlzLmA7XG4gICAgY29uc3QgcGxhbiA9IGF3YWl0IHRoaXMuYWlTZXJ2aWNlLmdlbmVyYXRlQ29udGVudChwcm9tcHQsIG1pc3Npb24udXNlcklkLCAnc3lzdGVtX2FyY2hpdGVjdCcpO1xuXG4gICAgbG9nZ2VyLmluZm8oYFtTd2FybV0gR2VuZXJhdGVkIFBsYW46ICR7cGxhbn1gKTtcblxuICAgIC8vIDMuIEV4ZWN1dGUgb3IgRGVsZWdhdGUgKFNpbXBsaWZpZWQgc2ltdWxhdGlvbilcbiAgICAvLyBJbiBhIGZ1bGwgaW1wbGVtZW50YXRpb24sIHRoaXMgd291bGQgcGFyc2UgdGhlICdwbGFuJyBKU09OIGFuZCBzcGF3biBjb25jcmV0ZSBqb2JzLlxuICAgIC8vIEZvciBub3csIHdlIHVwZGF0ZSB0aGUgS0cgdG8gcmVmbGVjdCBwcm9ncmVzcy5cbiAgICBhd2FpdCB0aGlzLmtnU2VydmljZS5hZGROb2RlKHsgaWQ6IG1pc3Npb25JZCwgdHlwZTogJ21pc3Npb24nLCBsYWJlbDogbWlzc2lvbi5vYmplY3RpdmUgfSk7XG4gICAgYXdhaXQgdGhpcy5rZ1NlcnZpY2UuYWRkRWRnZSh7XG4gICAgICBzb3VyY2U6IG1pc3Npb24udXNlcklkLFxuICAgICAgdGFyZ2V0OiBtaXNzaW9uSWQsXG4gICAgICByZWxhdGlvbjogJ2NyZWF0ZWQnLFxuICAgICAgd2VpZ2h0OiAxLFxuICAgIH0pO1xuXG4gICAgbG9nZ2VyLmluZm8oYFtTd2FybV0gTWlzc2lvbiAke21pc3Npb25JZH0gZ3JhcGggbm9kZXMgdXBkYXRlZC5gKTtcbiAgfVxufVxuIl0sInZlcnNpb24iOjN9