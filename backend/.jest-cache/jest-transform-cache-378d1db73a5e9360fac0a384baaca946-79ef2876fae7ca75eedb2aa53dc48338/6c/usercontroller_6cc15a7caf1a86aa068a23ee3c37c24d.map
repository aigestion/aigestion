{"file":"C:\\Users\\Alejandro\\AIGestion\\backend\\src\\controllers\\user.controller.ts","mappings":"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","names":[],"sources":["C:\\Users\\Alejandro\\AIGestion\\backend\\src\\controllers\\user.controller.ts"],"sourcesContent":["import type { NextFunction, Request, Response } from 'express';\nimport { buildResponse } from '../common/response-builder';\nimport { TYPES, container } from '../config/inversify.config';\nimport { UserService } from '../services/user.service';\nimport { AppError } from '../utils/errors';\n\nexport const createUser = async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const userService = container.get<UserService>(TYPES.UserService);\n    const user = await userService.create(req.body);\n    res.status(201).json(buildResponse(user, 201, (req as any).requestId));\n  } catch (err) {\n    next(err);\n  }\n};\n\nexport const getAllUsers = async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const userService = container.get<UserService>(TYPES.UserService);\n    const { page = 1, limit = 10 } = (req as any).pagination || {};\n    const { data, total } = await userService.findAll(Number(page), Number(limit));\n\n    const response = {\n      data,\n      pagination: {\n        page: Number(page),\n        limit: Number(limit),\n        total,\n      },\n    };\n    res.json(buildResponse(response, 200, (req as any).requestId));\n  } catch (err) {\n    next(err);\n  }\n};\n\nexport const getUserById = async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const userService = container.get<UserService>(TYPES.UserService);\n    const { id } = req.params as any;\n    const user = await userService.findById(id);\n    if (!user) {\n      return next(new AppError('User not found', 404, 'NOT_FOUND'));\n    }\n    res.json(buildResponse(user, 200, (req as any).requestId));\n  } catch (err) {\n    next(err);\n  }\n};\n\nexport const updateUser = async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const userService = container.get<UserService>(TYPES.UserService);\n    const { id } = req.params as any;\n    const user = await userService.update(id, req.body);\n    if (!user) {\n      return next(new AppError('User not found', 404, 'NOT_FOUND'));\n    }\n    res.json(buildResponse(user, 200, (req as any).requestId));\n  } catch (err) {\n    next(err);\n  }\n};\n\nexport const deleteUser = async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const userService = container.get<UserService>(TYPES.UserService);\n    const { id } = req.params as any;\n    const success = await userService.delete(id);\n    if (!success) {\n      return next(new AppError('User not found', 404, 'NOT_FOUND'));\n    }\n    res.json(buildResponse({ message: 'User deleted' }, 200, (req as any).requestId));\n  } catch (err) {\n    next(err);\n  }\n};\n"],"version":3}