{"file":"C:\\Users\\Alejandro\\AIGestion\\backend\\src\\graphql\\schema.ts","mappings":";;;;;;AAAA,iDAAqC;AACrC,qCASiB;AACjB,4CAAoB;AACpB,+BAAiC;AAEjC,yCAAsC;AACtC,+CAA4C;AAC5C,+CAA4C;AAC5C,0CAAoD;AACpD,iEAA8D;AAG9D,MAAM,SAAS,GAAG,IAAA,gBAAS,EAAC,oBAAI,CAAC,CAAC;AAElC;;GAEG;AACU,QAAA,QAAQ,GAAG,IAAI,2BAAiB,CAAC;IAC5C,IAAI,EAAE,MAAM;IACZ,WAAW,EAAE,mCAAmC;IAChD,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;QACb,EAAE,EAAE;YACF,IAAI,EAAE,IAAI,wBAAc,CAAC,mBAAS,CAAC;YACnC,WAAW,EAAE,sBAAsB;SACpC;QACD,KAAK,EAAE;YACL,IAAI,EAAE,IAAI,wBAAc,CAAC,uBAAa,CAAC;YACvC,WAAW,EAAE,mBAAmB;SACjC;QACD,IAAI,EAAE;YACJ,IAAI,EAAE,IAAI,wBAAc,CAAC,uBAAa,CAAC;YACvC,WAAW,EAAE,iBAAiB;SAC/B;QACD,SAAS,EAAE;YACT,IAAI,EAAE,IAAI,wBAAc,CAAC,uBAAa,CAAC;YACvC,WAAW,EAAE,uBAAuB;SACrC;QACD,SAAS,EAAE;YACT,IAAI,EAAE,IAAI,wBAAc,CAAC,uBAAa,CAAC;YACvC,WAAW,EAAE,4BAA4B;SAC1C;QACD,IAAI,EAAE;YACJ,IAAI,EAAE,uBAAa;YACnB,WAAW,EAAE,iBAAiB;SAC/B;KACF,CAAC;CACH,CAAC,CAAC;AAEH;;GAEG;AACU,QAAA,iBAAiB,GAAG,IAAI,2BAAiB,CAAC;IACrD,IAAI,EAAE,eAAe;IACrB,WAAW,EAAE,+BAA+B;IAC5C,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;QACb,IAAI,EAAE,EAAE,IAAI,EAAE,gBAAQ,EAAE;QACxB,KAAK,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QAC9B,YAAY,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QACrC,WAAW,EAAE,EAAE,IAAI,EAAE,sBAAY,EAAE,EAAE,iEAAiE;KACvG,CAAC;CACH,CAAC,CAAC;AAEH;;GAEG;AACU,QAAA,iBAAiB,GAAG,IAAI,2BAAiB,CAAC;IACrD,IAAI,EAAE,eAAe;IACrB,WAAW,EAAE,qCAAqC;IAClD,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;QACb,GAAG,EAAE,EAAE,IAAI,EAAE,sBAAY,EAAE;QAC3B,MAAM,EAAE,EAAE,IAAI,EAAE,sBAAY,EAAE;QAC9B,OAAO,EAAE,EAAE,IAAI,EAAE,sBAAY,EAAE;QAC/B,IAAI,EAAE,EAAE,IAAI,EAAE,sBAAY,EAAE;QAC5B,MAAM,EAAE,EAAE,IAAI,EAAE,sBAAY,EAAE;QAC9B,QAAQ,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QACjC,QAAQ,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QACjC,SAAS,EAAE,EAAE,IAAI,EAAE,sBAAY,EAAE;KAClC,CAAC;CACH,CAAC,CAAC;AAEH;;GAEG;AACU,QAAA,mBAAmB,GAAG,IAAI,2BAAiB,CAAC;IACvD,IAAI,EAAE,iBAAiB;IACvB,WAAW,EAAE,qCAAqC;IAClD,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;QACb,EAAE,EAAE,EAAE,IAAI,EAAE,mBAAS,EAAE;QACvB,KAAK,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QAC9B,KAAK,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QAC9B,KAAK,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QAC9B,MAAM,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QAC/B,KAAK,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;KAC/B,CAAC;CACH,CAAC,CAAC;AAEH;;GAEG;AACU,QAAA,aAAa,GAAG,IAAI,2BAAiB,CAAC;IACjD,IAAI,EAAE,WAAW;IACjB,WAAW,EAAE,iCAAiC;IAC9C,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;QACb,IAAI,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QAC7B,MAAM,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QAC/B,IAAI,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QAC7B,OAAO,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;KACjC,CAAC;CACH,CAAC,CAAC;AAEH;;GAEG;AACU,QAAA,kBAAkB,GAAG,IAAI,2BAAiB,CAAC;IACtD,IAAI,EAAE,gBAAgB;IACtB,WAAW,EAAE,4CAA4C;IACzD,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;QACb,IAAI,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QAC7B,OAAO,EAAE,EAAE,IAAI,EAAE,oBAAU,EAAE;KAC9B,CAAC;CACH,CAAC,CAAC;AAEH;;GAEG;AACU,QAAA,YAAY,GAAG,IAAI,2BAAiB,CAAC;IAChD,IAAI,EAAE,UAAU;IAChB,WAAW,EAAE,4CAA4C;IACzD,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;QACb,YAAY,EAAE,EAAE,IAAI,EAAE,oBAAU,EAAE;QAClC,YAAY,EAAE,EAAE,IAAI,EAAE,IAAI,qBAAW,CAAC,0BAAkB,CAAC,EAAE;KAC5D,CAAC;CACH,CAAC,CAAC;AAEH;;GAEG;AACU,QAAA,WAAW,GAAG,IAAI,2BAAiB,CAAC;IAC/C,IAAI,EAAE,SAAS;IACf,WAAW,EAAE,sCAAsC;IACnD,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;QACb,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,wBAAc,CAAC,mBAAS,CAAC,EAAE;QAC3C,IAAI,EAAE,EAAE,IAAI,EAAE,IAAI,wBAAc,CAAC,uBAAa,CAAC,EAAE;QACjD,IAAI,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QAC7B,WAAW,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QACpC,MAAM,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QAC/B,IAAI,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QAC7B,IAAI,EAAE,EAAE,IAAI,EAAE,IAAI,qBAAW,CAAC,uBAAa,CAAC,EAAE;QAC9C,YAAY,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QACrC,SAAS,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QAClC,SAAS,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;KACnC,CAAC;CACH,CAAC,CAAC;AAEH;;GAEG;AACU,QAAA,WAAW,GAAG,IAAI,2BAAiB,CAAC;IAC/C,IAAI,EAAE,SAAS;IACf,WAAW,EAAE,wCAAwC;IACrD,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;QACb,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,wBAAc,CAAC,mBAAS,CAAC,EAAE;QAC3C,SAAS,EAAE,EAAE,IAAI,EAAE,IAAI,wBAAc,CAAC,uBAAa,CAAC,EAAE;QACtD,MAAM,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QAC/B,MAAM,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QAC/B,IAAI,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QAC7B,MAAM,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QAC/B,KAAK,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QAC9B,SAAS,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QAClC,WAAW,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QACpC,SAAS,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;QAClC,SAAS,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;KACnC,CAAC;CACH,CAAC,CAAC;AAEH;;GAEG;AACU,QAAA,SAAS,GAAG,IAAI,2BAAiB,CAAC;IAC7C,IAAI,EAAE,OAAO;IACb,WAAW,EAAE,0BAA0B;IACvC,MAAM,EAAE;QACN,IAAI,EAAE;YACJ,IAAI,EAAE,gBAAQ;YACd,IAAI,EAAE;gBACJ,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,wBAAc,CAAC,mBAAS,CAAC,EAAE;aAC5C;YACD,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,EAAE;gBACrC,0CAA0C;gBAC1C,OAAO,OAAO,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACtD,CAAC;SACF;QACD,KAAK,EAAE;YACL,IAAI,EAAE,IAAI,wBAAc,CAAC,IAAI,qBAAW,CAAC,gBAAQ,CAAC,CAAC;YACnD,IAAI,EAAE;gBACJ,KAAK,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE,YAAY,EAAE,IAAI,EAAE;gBAClD,MAAM,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE,YAAY,EAAE,GAAG,EAAE;aACnD;YACD,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE;gBAC5B,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;gBACzC,MAAM,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBAC1C,OAAO,WAAI,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YAC/C,CAAC;SACF;QACD,aAAa,EAAE;YACb,IAAI,EAAE,yBAAiB;YACvB,OAAO,EAAE,KAAK,IAAI,EAAE;gBAClB,IAAI,CAAC;oBACH,MAAM,QAAQ,GAAG,gBAAgB,CAAC;oBAClC,MAAM,UAAU,GAAG,MAAM,IAAA,gBAAQ,EAAC,QAAQ,CAAC,CAAC;oBAE5C,IAAI,UAAU,EAAE,CAAC;wBACf,OAAO,UAAU,CAAC;oBACpB,CAAC;oBAED,MAAM,IAAI,GAAG,YAAE,CAAC,IAAI,EAAE,CAAC;oBACvB,MAAM,QAAQ,GAAG,YAAE,CAAC,QAAQ,EAAE,CAAC;oBAC/B,MAAM,OAAO,GAAG,YAAE,CAAC,OAAO,EAAE,CAAC;oBAC7B,MAAM,OAAO,GAAG,QAAQ,GAAG,OAAO,CAAC;oBAEnC,MAAM,QAAQ,GACZ,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;wBACvB,MAAM,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;wBAClE,MAAM,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC;wBAC5B,OAAO,GAAG,GAAG,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,KAAK,CAAC,GAAG,GAAG,CAAC;oBAC9C,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;oBAEtB,MAAM,OAAO,GAAG;wBACd,GAAG,EAAE,UAAU,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;wBACpC,MAAM,EAAE,UAAU,CAAC,CAAC,CAAC,OAAO,GAAG,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;wBAC3D,OAAO,EAAE,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,EAAE,cAAc;wBAC5C,IAAI,EAAE,CAAC,EAAE,cAAc;wBACvB,MAAM,EAAE,YAAE,CAAC,MAAM,EAAE;wBACnB,QAAQ,EAAE,YAAE,CAAC,QAAQ,EAAE;wBACvB,QAAQ,EAAE,YAAE,CAAC,QAAQ,EAAE;wBACvB,SAAS,EAAE,IAAI,CAAC,GAAG,EAAE;qBACtB,CAAC;oBAEF,MAAM,IAAA,gBAAQ,EAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;oBACrD,OAAO,OAAO,CAAC;gBACjB,CAAC;gBAAC,OAAO,KAAK,EAAE,CAAC;oBACf,OAAO,CAAC,KAAK,CAAC,8BAA8B,EAAE,KAAK,CAAC,CAAC;oBACrD,MAAM,IAAI,KAAK,CAAC,gCAAgC,CAAC,CAAC;gBACpD,CAAC;YACH,CAAC;SACF;QACD,UAAU,EAAE;YACV,IAAI,EAAE,IAAI,wBAAc,CAAC,IAAI,qBAAW,CAAC,IAAI,wBAAc,CAAC,2BAAmB,CAAC,CAAC,CAAC;YAClF,OAAO,EAAE,KAAK,IAAI,EAAE;gBAClB,IAAI,CAAC;oBACH,MAAM,QAAQ,GAAG,mBAAmB,CAAC;oBACrC,MAAM,UAAU,GAAG,MAAM,IAAA,gBAAQ,EAAC,QAAQ,CAAC,CAAC;oBAE5C,IAAI,UAAU,EAAE,CAAC;wBACf,OAAO,UAAU,CAAC;oBACpB,CAAC;oBAED,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,SAAS,CAAC,oCAAoC,CAAC,CAAC;oBACzE,MAAM,UAAU,GAAG,MAAM;yBACtB,IAAI,EAAE;yBACN,KAAK,CAAC,IAAI,CAAC;yBACX,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC;yBACpB,GAAG,CAAC,IAAI,CAAC,EAAE;wBACV,IAAI,CAAC;4BACH,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;wBAC1B,CAAC;wBAAC,MAAM,CAAC;4BACP,OAAO,IAAI,CAAC;wBACd,CAAC;oBACH,CAAC,CAAC;yBACD,MAAM,CAAC,OAAO,CAAC,CAAC;oBAEnB,MAAM,IAAA,gBAAQ,EAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC;oBACxD,OAAO,UAAU,CAAC;gBACpB,CAAC;gBAAC,OAAO,KAAK,EAAE,CAAC;oBACf,OAAO,CAAC,KAAK,CAAC,iCAAiC,EAAE,KAAK,CAAC,CAAC;oBACxD,OAAO,EAAE,CAAC;gBACZ,CAAC;YACH,CAAC;SACF;QACD,aAAa,EAAE;YACb,IAAI,EAAE,IAAI,wBAAc,CAAC,IAAI,qBAAW,CAAC,IAAI,wBAAc,CAAC,qBAAa,CAAC,CAAC,CAAC;YAC5E,IAAI,EAAE;gBACJ,KAAK,EAAE,EAAE,IAAI,EAAE,oBAAU,EAAE,YAAY,EAAE,EAAE,EAAE;aAC9C;YACD,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE;gBAC5B,IAAI,CAAC;oBACH,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,SAAS,CAChC,YAAY,IAAI,CAAC,KAAK,kCAAkC,CACzD,CAAC;oBAEF,OAAO,MAAM;yBACV,IAAI,EAAE;yBACN,KAAK,CAAC,IAAI,CAAC;yBACX,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC;yBACpB,GAAG,CAAC,IAAI,CAAC,EAAE;wBACV,MAAM,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;wBACtD,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;oBACzC,CAAC,CAAC,CAAC;gBACP,CAAC;gBAAC,OAAO,KAAU,EAAE,CAAC;oBACpB,OAAO,CAAC,KAAK,CAAC,8BAA8B,EAAE,KAAK,CAAC,CAAC;oBACrD,IAAI,KAAK,CAAC,OAAO,EAAE,QAAQ,CAAC,sBAAsB,CAAC,EAAE,CAAC;wBACpD,OAAO;4BACL;gCACE,IAAI,EAAE,MAAM;gCACZ,MAAM,EAAE,KAAK;gCACb,IAAI,EAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE;gCAC9B,OAAO,EAAE,aAAa;6BACvB;yBACF,CAAC;oBACJ,CAAC;oBACD,OAAO,EAAE,CAAC;gBACZ,CAAC;YACH,CAAC;SACF;QACD,WAAW,EAAE;YACX,IAAI,EAAE,IAAI,wBAAc,CAAC,IAAI,qBAAW,CAAC,IAAI,wBAAc,CAAC,uBAAa,CAAC,CAAC,CAAC;YAC5E,OAAO,EAAE,KAAK,IAAI,EAAE;gBAClB,IAAI,CAAC;oBACH,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,SAAS,CAAC,eAAe,CAAC,CAAC;oBACpD,OAAO,MAAM;yBACV,IAAI,EAAE;yBACN,KAAK,CAAC,IAAI,CAAC;yBACX,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;yBAC9C,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;gBAC9B,CAAC;gBAAC,OAAO,KAAK,EAAE,CAAC;oBACf,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,KAAK,CAAC,CAAC;oBACnD,OAAO,CAAC,MAAM,CAAC,CAAC;gBAClB,CAAC;YACH,CAAC;SACF;QACD,QAAQ,EAAE;YACR,IAAI,EAAE,oBAAY;YAClB,OAAO,EAAE,KAAK,IAAI,EAAE;gBAClB,IAAI,CAAC;oBACH,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,GAAG,MAAM,SAAS,CAAC,2BAA2B,CAAC,CAAC;oBAC7E,MAAM,EAAE,MAAM,EAAE,eAAe,EAAE,GAAG,MAAM,SAAS,CAAC,uBAAuB,CAAC,CAAC;oBAE7E,MAAM,YAAY,GAAG,eAAe;yBACjC,IAAI,EAAE;yBACN,KAAK,CAAC,IAAI,CAAC;yBACX,GAAG,CAAC,IAAI,CAAC,EAAE;wBACV,MAAM,CAAC,OAAO,EAAE,GAAG,SAAS,CAAC,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;wBACzD,OAAO;4BACL,IAAI,EAAE,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC;4BACzB,OAAO,EAAE,QAAQ,CAAC,OAAO,CAAC;yBAC3B,CAAC;oBACJ,CAAC,CAAC,CAAC;oBAEL,OAAO;wBACL,YAAY,EAAE,QAAQ,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;wBAC1C,YAAY;qBACb,CAAC;gBACJ,CAAC;gBAAC,OAAO,KAAK,EAAE,CAAC;oBACf,OAAO,CAAC,KAAK,CAAC,yBAAyB,EAAE,KAAK,CAAC,CAAC;oBAChD,OAAO,EAAE,YAAY,EAAE,CAAC,EAAE,YAAY,EAAE,EAAE,EAAE,CAAC;gBAC/C,CAAC;YACH,CAAC;SACF;QACD,QAAQ,EAAE;YACR,IAAI,EAAE,IAAI,wBAAc,CAAC,IAAI,qBAAW,CAAC,IAAI,wBAAc,CAAC,mBAAW,CAAC,CAAC,CAAC;YAC1E,IAAI,EAAE;gBACJ,MAAM,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;gBAC/B,IAAI,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;gBAC7B,IAAI,EAAE,EAAE,IAAI,EAAE,IAAI,qBAAW,CAAC,uBAAa,CAAC,EAAE;gBAC9C,MAAM,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;gBAC/B,KAAK,EAAE,EAAE,IAAI,EAAE,oBAAU,EAAE,YAAY,EAAE,EAAE,EAAE;gBAC7C,MAAM,EAAE,EAAE,IAAI,EAAE,oBAAU,EAAE,YAAY,EAAE,CAAC,EAAE;aAC9C;YACD,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE;gBAC5B,MAAM,KAAK,GAAQ,EAAE,CAAC;gBACtB,IAAI,IAAI,CAAC,MAAM;oBAAE,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;gBAC5C,IAAI,IAAI,CAAC,IAAI;oBAAE,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;gBACtC,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC;oBAAE,KAAK,CAAC,IAAI,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC;gBACvE,IAAI,IAAI,CAAC,MAAM;oBAAE,KAAK,CAAC,KAAK,GAAG,EAAE,OAAO,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC;gBAExD,OAAO,iBAAO,CAAC,IAAI,CAAC,KAAK,CAAC;qBACvB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,WAAW,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC;qBACzE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;qBACjB,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACvB,CAAC;SACF;QACD,cAAc,EAAE;YACd,IAAI,EAAE,IAAI,wBAAc,CAAC,IAAI,qBAAW,CAAC,IAAI,wBAAc,CAAC,mBAAW,CAAC,CAAC,CAAC;YAC1E,IAAI,EAAE;gBACJ,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,wBAAc,CAAC,uBAAa,CAAC,EAAE;gBAClD,KAAK,EAAE,EAAE,IAAI,EAAE,oBAAU,EAAE,YAAY,EAAE,EAAE,EAAE;aAC9C;YACD,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE;gBAC5B,OAAO,iBAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,KAAK,EAAE,EAAE,CAAC;qBACpD,IAAI,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,WAAW,EAAE,EAAE,CAAC;qBACvC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACvB,CAAC;SACF;QACD,QAAQ,EAAE;YACR,IAAI,EAAE,IAAI,wBAAc,CAAC,IAAI,qBAAW,CAAC,IAAI,wBAAc,CAAC,mBAAW,CAAC,CAAC,CAAC;YAC1E,IAAI,EAAE;gBACJ,MAAM,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;gBAC/B,MAAM,EAAE,EAAE,IAAI,EAAE,uBAAa,EAAE;gBAC/B,KAAK,EAAE,EAAE,IAAI,EAAE,oBAAU,EAAE,YAAY,EAAE,EAAE,EAAE;gBAC7C,MAAM,EAAE,EAAE,IAAI,EAAE,oBAAU,EAAE,YAAY,EAAE,CAAC,EAAE;aAC9C;YACD,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE;gBAC5B,MAAM,KAAK,GAAQ,EAAE,CAAC;gBACtB,IAAI,IAAI,CAAC,MAAM;oBAAE,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;gBAC5C,IAAI,IAAI,CAAC,MAAM;oBAAE,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;gBAC5C,OAAO,iBAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACzF,CAAC;SACF;KACF;CACF,CAAC,CAAC;AAEH;;GAEG;AACU,QAAA,YAAY,GAAG,IAAI,2BAAiB,CAAC;IAChD,IAAI,EAAE,UAAU;IAChB,WAAW,EAAE,wBAAwB;IACrC,MAAM,EAAE;QACN,UAAU,EAAE;YACV,IAAI,EAAE,gBAAQ;YACd,IAAI,EAAE;gBACJ,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,wBAAc,CAAC,uBAAa,CAAC,EAAE;gBAClD,IAAI,EAAE,EAAE,IAAI,EAAE,IAAI,wBAAc,CAAC,uBAAa,CAAC,EAAE;aAClD;YACD,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE;gBAC5B,OAAO,WAAI,CAAC,MAAM,CAAC;oBACjB,KAAK,EAAE,IAAI,CAAC,KAAK;oBACjB,IAAI,EAAE,IAAI,CAAC,IAAI;oBACf,QAAQ,EAAE,eAAe,EAAE,2BAA2B;oBACtD,aAAa,EAAE,CAAC;iBACjB,CAAC,CAAC;YACL,CAAC;SACF;QACD,KAAK,EAAE;YACL,IAAI,EAAE,yBAAiB;YACvB,IAAI,EAAE;gBACJ,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,wBAAc,CAAC,uBAAa,CAAC,EAAE;gBAClD,QAAQ,EAAE,EAAE,IAAI,EAAE,IAAI,wBAAc,CAAC,uBAAa,CAAC,EAAE;aACtD;YACD,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE;gBAC5B,MAAM,WAAW,GAAG,4BAAS,CAAC,GAAG,CAAc,wBAAK,CAAC,WAAW,CAAC,CAAC;gBAClE,MAAM,MAAM,GAAG,MAAM,WAAW,CAAC,KAAK,CAAC;oBACrC,KAAK,EAAE,IAAI,CAAC,KAAK;oBACjB,QAAQ,EAAE,IAAI,CAAC,QAAQ;iBACxB,CAAC,CAAC;gBACH,OAAO;oBACL,IAAI,EAAE,MAAM,CAAC,IAAI;oBACjB,KAAK,EAAE,MAAM,CAAC,KAAK;oBACnB,YAAY,EAAE,MAAM,CAAC,YAAY;oBACjC,WAAW,EAAE,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;iBACxC,CAAC;YACJ,CAAC;SACF;KACF;CACF,CAAC,CAAC;AAEH;;GAEG;AACU,QAAA,MAAM,GAAG,IAAI,uBAAa,CAAC;IACtC,KAAK,EAAE,iBAAS;IAChB,QAAQ,EAAE,oBAAY;CACvB,CAAC,CAAC","names":[],"sources":["C:\\Users\\Alejandro\\AIGestion\\backend\\src\\graphql\\schema.ts"],"sourcesContent":["import { exec } from 'child_process';\nimport {\n  GraphQLFloat,\n  GraphQLID,\n  GraphQLInt,\n  GraphQLList,\n  GraphQLNonNull,\n  GraphQLObjectType,\n  GraphQLSchema,\n  GraphQLString,\n} from 'graphql';\nimport os from 'os';\nimport { promisify } from 'util';\n\nimport { User } from '../models/User';\nimport { Project } from '../models/Project';\nimport { Mission } from '../models/Mission';\nimport { getCache, setCache } from '../utils/redis';\nimport { container, TYPES } from '../config/inversify.config';\nimport { AuthService } from '../services/auth.service';\n\nconst execAsync = promisify(exec);\n\n/**\n * GraphQL User Type\n */\nexport const UserType = new GraphQLObjectType({\n  name: 'User',\n  description: 'Representa un usuario del sistema',\n  fields: () => ({\n    id: {\n      type: new GraphQLNonNull(GraphQLID),\n      description: 'ID único del usuario',\n    },\n    email: {\n      type: new GraphQLNonNull(GraphQLString),\n      description: 'Email del usuario',\n    },\n    name: {\n      type: new GraphQLNonNull(GraphQLString),\n      description: 'Nombre completo',\n    },\n    createdAt: {\n      type: new GraphQLNonNull(GraphQLString),\n      description: 'Timestamp de creación',\n    },\n    updatedAt: {\n      type: new GraphQLNonNull(GraphQLString),\n      description: 'Timestamp de actualización',\n    },\n    role: {\n      type: GraphQLString,\n      description: 'Rol del usuario',\n    },\n  }),\n});\n\n/**\n * GraphQL Login Response Type\n */\nexport const LoginResponseType = new GraphQLObjectType({\n  name: 'LoginResponse',\n  description: 'Respuesta de inicio de sesión',\n  fields: () => ({\n    user: { type: UserType },\n    token: { type: GraphQLString },\n    refreshToken: { type: GraphQLString },\n    mfaRequired: { type: GraphQLFloat }, // Boolean is better but 0/1 works or GraphQLBoolean if available\n  }),\n});\n\n/**\n * GraphQL System Metrics Type\n */\nexport const SystemMetricsType = new GraphQLObjectType({\n  name: 'SystemMetrics',\n  description: 'Métricas de rendimiento del sistema',\n  fields: () => ({\n    cpu: { type: GraphQLFloat },\n    memory: { type: GraphQLFloat },\n    network: { type: GraphQLFloat },\n    disk: { type: GraphQLFloat },\n    uptime: { type: GraphQLFloat },\n    platform: { type: GraphQLString },\n    hostname: { type: GraphQLString },\n    timestamp: { type: GraphQLFloat },\n  }),\n});\n\n/**\n * GraphQL Docker Container Type\n */\nexport const DockerContainerType = new GraphQLObjectType({\n  name: 'DockerContainer',\n  description: 'Información de un contenedor Docker',\n  fields: () => ({\n    ID: { type: GraphQLID },\n    Names: { type: GraphQLString },\n    Image: { type: GraphQLString },\n    State: { type: GraphQLString },\n    Status: { type: GraphQLString },\n    Ports: { type: GraphQLString },\n  }),\n});\n\n/**\n * GraphQL Git Commit Type\n */\nexport const GitCommitType = new GraphQLObjectType({\n  name: 'GitCommit',\n  description: 'Información de un commit de Git',\n  fields: () => ({\n    hash: { type: GraphQLString },\n    author: { type: GraphQLString },\n    date: { type: GraphQLString },\n    message: { type: GraphQLString },\n  }),\n});\n\n/**\n * GraphQL Git Contributor Type\n */\nexport const GitContributorType = new GraphQLObjectType({\n  name: 'GitContributor',\n  description: 'Información de un colaborador del proyecto',\n  fields: () => ({\n    name: { type: GraphQLString },\n    commits: { type: GraphQLInt },\n  }),\n});\n\n/**\n * GraphQL Git Stats Type\n */\nexport const GitStatsType = new GraphQLObjectType({\n  name: 'GitStats',\n  description: 'Estadísticas generales del repositorio Git',\n  fields: () => ({\n    totalCommits: { type: GraphQLInt },\n    contributors: { type: new GraphQLList(GitContributorType) },\n  }),\n});\n\n/**\n * GraphQL Project Type\n */\nexport const ProjectType = new GraphQLObjectType({\n  name: 'Project',\n  description: 'Representa un proyecto en el sistema',\n  fields: () => ({\n    id: { type: new GraphQLNonNull(GraphQLID) },\n    name: { type: new GraphQLNonNull(GraphQLString) },\n    path: { type: GraphQLString },\n    description: { type: GraphQLString },\n    status: { type: GraphQLString },\n    type: { type: GraphQLString },\n    tags: { type: new GraphQLList(GraphQLString) },\n    lastModified: { type: GraphQLString },\n    createdAt: { type: GraphQLString },\n    updatedAt: { type: GraphQLString },\n  }),\n});\n\n/**\n * GraphQL Mission Type\n */\nexport const MissionType = new GraphQLObjectType({\n  name: 'Mission',\n  description: 'Representa una misión o tarea autónoma',\n  fields: () => ({\n    id: { type: new GraphQLNonNull(GraphQLID) },\n    objective: { type: new GraphQLNonNull(GraphQLString) },\n    userId: { type: GraphQLString },\n    status: { type: GraphQLString },\n    plan: { type: GraphQLString },\n    result: { type: GraphQLString },\n    error: { type: GraphQLString },\n    startedAt: { type: GraphQLString },\n    completedAt: { type: GraphQLString },\n    createdAt: { type: GraphQLString },\n    updatedAt: { type: GraphQLString },\n  }),\n});\n\n/**\n * GraphQL Root Query\n */\nexport const RootQuery = new GraphQLObjectType({\n  name: 'Query',\n  description: 'Queries raíz disponibles',\n  fields: {\n    user: {\n      type: UserType,\n      args: {\n        id: { type: new GraphQLNonNull(GraphQLID) },\n      },\n      resolve: async (_obj, args, context) => {\n        // Resolver implementation - conectar a DB\n        return context.dataloaders.userLoader.load(args.id);\n      },\n    },\n    users: {\n      type: new GraphQLNonNull(new GraphQLList(UserType)),\n      args: {\n        limit: { type: GraphQLString, defaultValue: '10' },\n        offset: { type: GraphQLString, defaultValue: '0' },\n      },\n      resolve: async (_obj, args) => {\n        const limit = parseInt(args.limit) || 10;\n        const offset = parseInt(args.offset) || 0;\n        return User.find().skip(offset).limit(limit);\n      },\n    },\n    systemMetrics: {\n      type: SystemMetricsType,\n      resolve: async () => {\n        try {\n          const cacheKey = 'system:metrics';\n          const cachedData = await getCache(cacheKey);\n\n          if (cachedData) {\n            return cachedData;\n          }\n\n          const cpus = os.cpus();\n          const totalMem = os.totalmem();\n          const freeMem = os.freemem();\n          const usedMem = totalMem - freeMem;\n\n          const cpuUsage =\n            cpus.reduce((acc, cpu) => {\n              const total = Object.values(cpu.times).reduce((a, b) => a + b, 0);\n              const idle = cpu.times.idle;\n              return acc + ((total - idle) / total) * 100;\n            }, 0) / cpus.length;\n\n          const metrics = {\n            cpu: parseFloat(cpuUsage.toFixed(2)),\n            memory: parseFloat(((usedMem / totalMem) * 100).toFixed(2)),\n            network: Math.random() * 100, // Placeholder\n            disk: 0, // Placeholder\n            uptime: os.uptime(),\n            platform: os.platform(),\n            hostname: os.hostname(),\n            timestamp: Date.now(),\n          };\n\n          await setCache(cacheKey, JSON.stringify(metrics), 2);\n          return metrics;\n        } catch (error) {\n          console.error('GraphQL SystemMetrics Error:', error);\n          throw new Error('Failed to fetch system metrics');\n        }\n      },\n    },\n    containers: {\n      type: new GraphQLNonNull(new GraphQLList(new GraphQLNonNull(DockerContainerType))),\n      resolve: async () => {\n        try {\n          const cacheKey = 'docker:containers';\n          const cachedData = await getCache(cacheKey);\n\n          if (cachedData) {\n            return cachedData;\n          }\n\n          const { stdout } = await execAsync('docker ps -a --format \"{{json .}}\"');\n          const containers = stdout\n            .trim()\n            .split('\\n')\n            .filter(line => line)\n            .map(line => {\n              try {\n                return JSON.parse(line);\n              } catch {\n                return null;\n              }\n            })\n            .filter(Boolean);\n\n          await setCache(cacheKey, JSON.stringify(containers), 5);\n          return containers;\n        } catch (error) {\n          console.error('GraphQL DockerContainers Error:', error);\n          return [];\n        }\n      },\n    },\n    recentCommits: {\n      type: new GraphQLNonNull(new GraphQLList(new GraphQLNonNull(GitCommitType))),\n      args: {\n        limit: { type: GraphQLInt, defaultValue: 10 },\n      },\n      resolve: async (_obj, args) => {\n        try {\n          const { stdout } = await execAsync(\n            `git log -${args.limit} --pretty=format:\"%H|%an|%ai|%s\"`,\n          );\n\n          return stdout\n            .trim()\n            .split('\\n')\n            .filter(line => line)\n            .map(line => {\n              const [hash, author, date, message] = line.split('|');\n              return { hash, author, date, message };\n            });\n        } catch (error: any) {\n          console.error('GraphQL recentCommits Error:', error);\n          if (error.message?.includes('not a git repository')) {\n            return [\n              {\n                hash: 'demo',\n                author: 'Dev',\n                date: new Date().toISOString(),\n                message: 'Demo commit',\n              },\n            ];\n          }\n          return [];\n        }\n      },\n    },\n    gitBranches: {\n      type: new GraphQLNonNull(new GraphQLList(new GraphQLNonNull(GraphQLString))),\n      resolve: async () => {\n        try {\n          const { stdout } = await execAsync('git branch -a');\n          return stdout\n            .trim()\n            .split('\\n')\n            .map(branch => branch.trim().replace('* ', ''))\n            .filter(branch => branch);\n        } catch (error) {\n          console.error('GraphQL gitBranches Error:', error);\n          return ['main'];\n        }\n      },\n    },\n    gitStats: {\n      type: GitStatsType,\n      resolve: async () => {\n        try {\n          const { stdout: commitCount } = await execAsync('git rev-list --count HEAD');\n          const { stdout: contributorsRaw } = await execAsync('git shortlog -sn HEAD');\n\n          const contributors = contributorsRaw\n            .trim()\n            .split('\\n')\n            .map(line => {\n              const [commits, ...nameParts] = line.trim().split(/\\s+/);\n              return {\n                name: nameParts.join(' '),\n                commits: parseInt(commits),\n              };\n            });\n\n          return {\n            totalCommits: parseInt(commitCount.trim()),\n            contributors,\n          };\n        } catch (error) {\n          console.error('GraphQL gitStats Error:', error);\n          return { totalCommits: 0, contributors: [] };\n        }\n      },\n    },\n    projects: {\n      type: new GraphQLNonNull(new GraphQLList(new GraphQLNonNull(ProjectType))),\n      args: {\n        status: { type: GraphQLString },\n        type: { type: GraphQLString },\n        tags: { type: new GraphQLList(GraphQLString) },\n        search: { type: GraphQLString },\n        limit: { type: GraphQLInt, defaultValue: 20 },\n        offset: { type: GraphQLInt, defaultValue: 0 },\n      },\n      resolve: async (_obj, args) => {\n        const query: any = {};\n        if (args.status) query.status = args.status;\n        if (args.type) query.type = args.type;\n        if (args.tags && args.tags.length > 0) query.tags = { $in: args.tags };\n        if (args.search) query.$text = { $search: args.search };\n\n        return Project.find(query)\n          .sort(args.search ? { score: { $meta: 'textScore' } } : { updatedAt: -1 })\n          .skip(args.offset)\n          .limit(args.limit);\n      },\n    },\n    searchProjects: {\n      type: new GraphQLNonNull(new GraphQLList(new GraphQLNonNull(ProjectType))),\n      args: {\n        query: { type: new GraphQLNonNull(GraphQLString) },\n        limit: { type: GraphQLInt, defaultValue: 10 },\n      },\n      resolve: async (_obj, args) => {\n        return Project.find({ $text: { $search: args.query } })\n          .sort({ score: { $meta: 'textScore' } })\n          .limit(args.limit);\n      },\n    },\n    missions: {\n      type: new GraphQLNonNull(new GraphQLList(new GraphQLNonNull(MissionType))),\n      args: {\n        status: { type: GraphQLString },\n        userId: { type: GraphQLString },\n        limit: { type: GraphQLInt, defaultValue: 20 },\n        offset: { type: GraphQLInt, defaultValue: 0 },\n      },\n      resolve: async (_obj, args) => {\n        const query: any = {};\n        if (args.status) query.status = args.status;\n        if (args.userId) query.userId = args.userId;\n        return Mission.find(query).sort({ createdAt: -1 }).skip(args.offset).limit(args.limit);\n      },\n    },\n  },\n});\n\n/**\n * GraphQL Mutations\n */\nexport const RootMutation = new GraphQLObjectType({\n  name: 'Mutation',\n  description: 'Mutaciones disponibles',\n  fields: {\n    createUser: {\n      type: UserType,\n      args: {\n        email: { type: new GraphQLNonNull(GraphQLString) },\n        name: { type: new GraphQLNonNull(GraphQLString) },\n      },\n      resolve: async (_obj, args) => {\n        return User.create({\n          email: args.email,\n          name: args.name,\n          password: 'AIGestion123!', // Default password for now\n          loginAttempts: 0,\n        });\n      },\n    },\n    login: {\n      type: LoginResponseType,\n      args: {\n        email: { type: new GraphQLNonNull(GraphQLString) },\n        password: { type: new GraphQLNonNull(GraphQLString) },\n      },\n      resolve: async (_obj, args) => {\n        const authService = container.get<AuthService>(TYPES.AuthService);\n        const result = await authService.login({\n          email: args.email,\n          password: args.password,\n        });\n        return {\n          user: result.user,\n          token: result.token,\n          refreshToken: result.refreshToken,\n          mfaRequired: result.mfaRequired ? 1 : 0,\n        };\n      },\n    },\n  },\n});\n\n/**\n * GraphQL Schema\n */\nexport const schema = new GraphQLSchema({\n  query: RootQuery,\n  mutation: RootMutation,\n});\n"],"version":3}