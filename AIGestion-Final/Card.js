import{j as e}from"./ui.js";import{r as a}from"./vendor.js";import{c as s}from"./main.js";const n={messages:[],isConnected:!1,isTyping:!1,isSpeaking:!1,volume:0,error:null,config:{variant:"assistant",context:"website",voice:{enabled:!0,provider:"vapi",voiceId:"EXAVITQu4vr4xnSDxMaL",autoStart:!1},personality:{mode:"professional",language:"es",name:"Daniela"},features:{memory:!0,analytics:!0,multiUser:!1,realTime:!0}}};function r(e,a){switch(a.type){case"ADD_MESSAGE":return{...e,messages:[...e.messages,a.payload]};case"SET_TYPING":return{...e,isTyping:a.payload};case"SET_SPEAKING":return{...e,isSpeaking:a.payload.speaking,volume:a.payload.volume||e.volume};case"SET_CONNECTED":return{...e,isConnected:a.payload};case"SET_ERROR":return{...e,error:a.payload};case"CLEAR_MESSAGES":return{...e,messages:[]};case"UPDATE_CONFIG":return{...e,config:{...e.config,...a.payload}};default:return e}}const t=a.createContext(null),i=({children:s,config:i})=>{const[o,d]=a.useReducer(r,{...n,config:i?{...n.config,...i}:n.config}),c={state:o,sendMessage:async e=>{const a={id:`user-${Date.now()}`,text:e,sender:"user",timestamp:new Date};d({type:"ADD_MESSAGE",payload:a}),d({type:"SET_TYPING",payload:!0});try{await new Promise(e=>setTimeout(e,1500));const a={id:`daniela-${Date.now()}`,text:`Entendido. "${e}" es una excelente pregunta. Como Daniela, tu asistente de IA de AIGestion, estoy aquÃ­ para ayudarte con eso.`,sender:"daniela",timestamp:new Date,suggestions:["Saber mÃ¡s sobre AIGestion","Ver casos de Ã©xito","Contactar con experto"],sentiment:"positive",confidence:.95};d({type:"ADD_MESSAGE",payload:a})}catch(s){d({type:"SET_ERROR",payload:"Error al enviar mensaje"})}finally{d({type:"SET_TYPING",payload:!1})}},clearMessages:()=>{d({type:"CLEAR_MESSAGES"})},updateConfig:e=>{d({type:"UPDATE_CONFIG",payload:e})},setTyping:e=>{d({type:"SET_TYPING",payload:e})},setSpeaking:(e,a=0)=>{d({type:"SET_SPEAKING",payload:{speaking:e,volume:a}})}};return e.jsx(t.Provider,{value:c,children:s})},o=({config:s,className:n="",children:r})=>{const{state:i}=(()=>{const e=a.useContext(t);if(!e)throw new Error("useDaniela must be used within DanielaProvider");return e})();return e.jsx("div",{className:`daniela-core ${n}`,children:e.jsx("div",{className:"daniela-container",children:r||e.jsxs("div",{className:"daniela-default",children:[e.jsx("div",{className:"daniela-status",children:e.jsx("span",{className:"status-indicator "+(i.isConnected?"connected":"disconnected"),children:i.isConnected?"ðŸŸ¢ En lÃ­nea":"ðŸŸ¡ Modo demo"})}),e.jsxs("div",{className:"daniela-messages",children:[i.messages.map(a=>e.jsxs("div",{className:`message ${a.sender}`,children:[e.jsxs("strong",{children:["daniela"===a.sender?"ðŸ§  Daniela":"ðŸ‘¤ TÃº",":"]}),e.jsx("p",{children:a.text}),a.suggestions&&e.jsx("div",{className:"suggestions",children:a.suggestions.map((a,s)=>e.jsx("button",{className:"suggestion-btn",children:a},s))})]},a.id)),i.isTyping&&e.jsxs("div",{className:"message daniela typing",children:[e.jsx("strong",{children:"ðŸ§  Daniela:"}),e.jsx("span",{className:"typing-indicator",children:"Escribiendo..."})]})]})]})})})},d=({config:a,className:s,children:n})=>e.jsx(i,{config:a,children:e.jsx(o,{config:a,className:s,children:n})});function c({className:a,variant:n="default",...r}){return e.jsx("div",{className:s("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}[n],a),...r})}const l=a.forwardRef(({className:a,...n},r)=>e.jsx("div",{ref:r,className:s("rounded-lg border bg-card text-card-foreground shadow-sm",a),...n}));l.displayName="Card";const m=a.forwardRef(({className:a,...n},r)=>e.jsx("div",{ref:r,className:s("flex flex-col space-y-1.5 p-6",a),...n}));m.displayName="CardHeader";const p=a.forwardRef(({className:a,...n},r)=>e.jsx("h3",{ref:r,className:s("text-2xl font-semibold leading-none tracking-tight",a),...n}));p.displayName="CardTitle";a.forwardRef(({className:a,...n},r)=>e.jsx("p",{ref:r,className:s("text-sm text-muted-foreground",a),...n})).displayName="CardDescription";const u=a.forwardRef(({className:a,...n},r)=>e.jsx("div",{ref:r,className:s("p-6 pt-0",a),...n}));u.displayName="CardContent";a.forwardRef(({className:a,...n},r)=>e.jsx("div",{ref:r,className:s("flex items-center p-6 pt-0",a),...n})).displayName="CardFooter";export{c as B,l as C,d as D,m as a,p as b,u as c};
