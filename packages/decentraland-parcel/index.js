'use strict';
var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod2) =>
  function __require() {
    return (
      mod2 || (0, cb[__getOwnPropNames(cb)[0]])((mod2 = { exports: {} }).exports, mod2),
      mod2.exports
    );
  };
var __export = (target, all) => {
  for (var name in all) __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if ((from && typeof from === 'object') || typeof from === 'function') {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, {
          get: () => from[key],
          enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable,
        });
  }
  return to;
};
var __toESM = (mod2, isNodeMode, target) => (
  (target = mod2 != null ? __create(__getProtoOf(mod2)) : {}),
  __copyProps(
    // If the importer is in node compatibility mode or this is not an ESM
    // file that has been converted to a CommonJS file using a Babel-
    // compatible transform (i.e. "__esModule" has not been set), then set
    // "default" to the CommonJS "module.exports" for node compatibility.
    isNodeMode || !mod2 || !mod2.__esModule
      ? __defProp(target, 'default', { value: mod2, enumerable: true })
      : target,
    mod2
  )
);
var __toCommonJS = mod2 => __copyProps(__defProp({}, '__esModule', { value: true }), mod2);

// ../../node_modules/.pnpm/@protobufjs+aspromise@1.1.2/node_modules/@protobufjs/aspromise/index.js
var require_aspromise = __commonJS({
  '../../node_modules/.pnpm/@protobufjs+aspromise@1.1.2/node_modules/@protobufjs/aspromise/index.js'(
    exports2,
    module2
  ) {
    'use strict';
    module2.exports = asPromise;
    function asPromise(fn, ctx) {
      var params = new Array(arguments.length - 1),
        offset = 0,
        index = 2,
        pending = true;
      while (index < arguments.length) params[offset++] = arguments[index++];
      return new Promise(function executor(resolve2, reject) {
        params[offset] = function callback(err) {
          if (pending) {
            pending = false;
            if (err) reject(err);
            else {
              var params2 = new Array(arguments.length - 1),
                offset2 = 0;
              while (offset2 < params2.length) params2[offset2++] = arguments[offset2];
              resolve2.apply(null, params2);
            }
          }
        };
        try {
          fn.apply(ctx || null, params);
        } catch (err) {
          if (pending) {
            pending = false;
            reject(err);
          }
        }
      });
    }
  },
});

// ../../node_modules/.pnpm/@protobufjs+base64@1.1.2/node_modules/@protobufjs/base64/index.js
var require_base64 = __commonJS({
  '../../node_modules/.pnpm/@protobufjs+base64@1.1.2/node_modules/@protobufjs/base64/index.js'(
    exports2
  ) {
    'use strict';
    var base64 = exports2;
    base64.length = function length2(string) {
      var p = string.length;
      if (!p) return 0;
      var n = 0;
      while (--p % 4 > 1 && string.charAt(p) === '=') ++n;
      return Math.ceil(string.length * 3) / 4 - n;
    };
    var b64 = new Array(64);
    var s64 = new Array(123);
    for (i = 0; i < 64; )
      s64[(b64[i] = i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : (i - 59) | 43)] = i++;
    var i;
    base64.encode = function encode(buffer2, start, end) {
      var parts = null,
        chunk = [];
      var i2 = 0,
        j = 0,
        t;
      while (start < end) {
        var b = buffer2[start++];
        switch (j) {
          case 0:
            chunk[i2++] = b64[b >> 2];
            t = (b & 3) << 4;
            j = 1;
            break;
          case 1:
            chunk[i2++] = b64[t | (b >> 4)];
            t = (b & 15) << 2;
            j = 2;
            break;
          case 2:
            chunk[i2++] = b64[t | (b >> 6)];
            chunk[i2++] = b64[b & 63];
            j = 0;
            break;
        }
        if (i2 > 8191) {
          (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));
          i2 = 0;
        }
      }
      if (j) {
        chunk[i2++] = b64[t];
        chunk[i2++] = 61;
        if (j === 1) chunk[i2++] = 61;
      }
      if (parts) {
        if (i2) parts.push(String.fromCharCode.apply(String, chunk.slice(0, i2)));
        return parts.join('');
      }
      return String.fromCharCode.apply(String, chunk.slice(0, i2));
    };
    var invalidEncoding = 'invalid encoding';
    base64.decode = function decode(string, buffer2, offset) {
      var start = offset;
      var j = 0,
        t;
      for (var i2 = 0; i2 < string.length; ) {
        var c = string.charCodeAt(i2++);
        if (c === 61 && j > 1) break;
        if ((c = s64[c]) === void 0) throw Error(invalidEncoding);
        switch (j) {
          case 0:
            t = c;
            j = 1;
            break;
          case 1:
            buffer2[offset++] = (t << 2) | ((c & 48) >> 4);
            t = c;
            j = 2;
            break;
          case 2:
            buffer2[offset++] = ((t & 15) << 4) | ((c & 60) >> 2);
            t = c;
            j = 3;
            break;
          case 3:
            buffer2[offset++] = ((t & 3) << 6) | c;
            j = 0;
            break;
        }
      }
      if (j === 1) throw Error(invalidEncoding);
      return offset - start;
    };
    base64.test = function test(string) {
      return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(string);
    };
  },
});

// ../../node_modules/.pnpm/@protobufjs+eventemitter@1.1.0/node_modules/@protobufjs/eventemitter/index.js
var require_eventemitter = __commonJS({
  '../../node_modules/.pnpm/@protobufjs+eventemitter@1.1.0/node_modules/@protobufjs/eventemitter/index.js'(
    exports2,
    module2
  ) {
    'use strict';
    module2.exports = EventEmitter;
    function EventEmitter() {
      this._listeners = {};
    }
    EventEmitter.prototype.on = function on(evt, fn, ctx) {
      (this._listeners[evt] || (this._listeners[evt] = [])).push({
        fn,
        ctx: ctx || this,
      });
      return this;
    };
    EventEmitter.prototype.off = function off(evt, fn) {
      if (evt === void 0) this._listeners = {};
      else {
        if (fn === void 0) this._listeners[evt] = [];
        else {
          var listeners = this._listeners[evt];
          for (var i = 0; i < listeners.length; )
            if (listeners[i].fn === fn) listeners.splice(i, 1);
            else ++i;
        }
      }
      return this;
    };
    EventEmitter.prototype.emit = function emit(evt) {
      var listeners = this._listeners[evt];
      if (listeners) {
        var args = [],
          i = 1;
        for (; i < arguments.length; ) args.push(arguments[i++]);
        for (i = 0; i < listeners.length; ) listeners[i].fn.apply(listeners[i++].ctx, args);
      }
      return this;
    };
  },
});

// ../../node_modules/.pnpm/@protobufjs+float@1.0.2/node_modules/@protobufjs/float/index.js
var require_float = __commonJS({
  '../../node_modules/.pnpm/@protobufjs+float@1.0.2/node_modules/@protobufjs/float/index.js'(
    exports2,
    module2
  ) {
    'use strict';
    module2.exports = factory(factory);
    function factory(exports3) {
      if (typeof Float32Array !== 'undefined')
        (function () {
          var f32 = new Float32Array([-0]),
            f8b = new Uint8Array(f32.buffer),
            le = f8b[3] === 128;
          function writeFloat_f32_cpy(val, buf, pos) {
            f32[0] = val;
            buf[pos] = f8b[0];
            buf[pos + 1] = f8b[1];
            buf[pos + 2] = f8b[2];
            buf[pos + 3] = f8b[3];
          }
          function writeFloat_f32_rev(val, buf, pos) {
            f32[0] = val;
            buf[pos] = f8b[3];
            buf[pos + 1] = f8b[2];
            buf[pos + 2] = f8b[1];
            buf[pos + 3] = f8b[0];
          }
          exports3.writeFloatLE = le ? writeFloat_f32_cpy : writeFloat_f32_rev;
          exports3.writeFloatBE = le ? writeFloat_f32_rev : writeFloat_f32_cpy;
          function readFloat_f32_cpy(buf, pos) {
            f8b[0] = buf[pos];
            f8b[1] = buf[pos + 1];
            f8b[2] = buf[pos + 2];
            f8b[3] = buf[pos + 3];
            return f32[0];
          }
          function readFloat_f32_rev(buf, pos) {
            f8b[3] = buf[pos];
            f8b[2] = buf[pos + 1];
            f8b[1] = buf[pos + 2];
            f8b[0] = buf[pos + 3];
            return f32[0];
          }
          exports3.readFloatLE = le ? readFloat_f32_cpy : readFloat_f32_rev;
          exports3.readFloatBE = le ? readFloat_f32_rev : readFloat_f32_cpy;
        })();
      else
        (function () {
          function writeFloat_ieee754(writeUint, val, buf, pos) {
            var sign = val < 0 ? 1 : 0;
            if (sign) val = -val;
            if (val === 0)
              writeUint(
                1 / val > 0
                  ? /* positive */
                    0
                  : /* negative 0 */
                    2147483648,
                buf,
                pos
              );
            else if (isNaN(val)) writeUint(2143289344, buf, pos);
            else if (val > 34028234663852886e22)
              writeUint(((sign << 31) | 2139095040) >>> 0, buf, pos);
            else if (val < 11754943508222875e-54)
              writeUint(((sign << 31) | Math.round(val / 1401298464324817e-60)) >>> 0, buf, pos);
            else {
              var exponent = Math.floor(Math.log(val) / Math.LN2),
                mantissa = Math.round(val * Math.pow(2, -exponent) * 8388608) & 8388607;
              writeUint(((sign << 31) | ((exponent + 127) << 23) | mantissa) >>> 0, buf, pos);
            }
          }
          exports3.writeFloatLE = writeFloat_ieee754.bind(null, writeUintLE);
          exports3.writeFloatBE = writeFloat_ieee754.bind(null, writeUintBE);
          function readFloat_ieee754(readUint, buf, pos) {
            var uint = readUint(buf, pos),
              sign = (uint >> 31) * 2 + 1,
              exponent = (uint >>> 23) & 255,
              mantissa = uint & 8388607;
            return exponent === 255
              ? mantissa
                ? NaN
                : sign * Infinity
              : exponent === 0
                ? sign * 1401298464324817e-60 * mantissa
                : sign * Math.pow(2, exponent - 150) * (mantissa + 8388608);
          }
          exports3.readFloatLE = readFloat_ieee754.bind(null, readUintLE);
          exports3.readFloatBE = readFloat_ieee754.bind(null, readUintBE);
        })();
      if (typeof Float64Array !== 'undefined')
        (function () {
          var f64 = new Float64Array([-0]),
            f8b = new Uint8Array(f64.buffer),
            le = f8b[7] === 128;
          function writeDouble_f64_cpy(val, buf, pos) {
            f64[0] = val;
            buf[pos] = f8b[0];
            buf[pos + 1] = f8b[1];
            buf[pos + 2] = f8b[2];
            buf[pos + 3] = f8b[3];
            buf[pos + 4] = f8b[4];
            buf[pos + 5] = f8b[5];
            buf[pos + 6] = f8b[6];
            buf[pos + 7] = f8b[7];
          }
          function writeDouble_f64_rev(val, buf, pos) {
            f64[0] = val;
            buf[pos] = f8b[7];
            buf[pos + 1] = f8b[6];
            buf[pos + 2] = f8b[5];
            buf[pos + 3] = f8b[4];
            buf[pos + 4] = f8b[3];
            buf[pos + 5] = f8b[2];
            buf[pos + 6] = f8b[1];
            buf[pos + 7] = f8b[0];
          }
          exports3.writeDoubleLE = le ? writeDouble_f64_cpy : writeDouble_f64_rev;
          exports3.writeDoubleBE = le ? writeDouble_f64_rev : writeDouble_f64_cpy;
          function readDouble_f64_cpy(buf, pos) {
            f8b[0] = buf[pos];
            f8b[1] = buf[pos + 1];
            f8b[2] = buf[pos + 2];
            f8b[3] = buf[pos + 3];
            f8b[4] = buf[pos + 4];
            f8b[5] = buf[pos + 5];
            f8b[6] = buf[pos + 6];
            f8b[7] = buf[pos + 7];
            return f64[0];
          }
          function readDouble_f64_rev(buf, pos) {
            f8b[7] = buf[pos];
            f8b[6] = buf[pos + 1];
            f8b[5] = buf[pos + 2];
            f8b[4] = buf[pos + 3];
            f8b[3] = buf[pos + 4];
            f8b[2] = buf[pos + 5];
            f8b[1] = buf[pos + 6];
            f8b[0] = buf[pos + 7];
            return f64[0];
          }
          exports3.readDoubleLE = le ? readDouble_f64_cpy : readDouble_f64_rev;
          exports3.readDoubleBE = le ? readDouble_f64_rev : readDouble_f64_cpy;
        })();
      else
        (function () {
          function writeDouble_ieee754(writeUint, off0, off1, val, buf, pos) {
            var sign = val < 0 ? 1 : 0;
            if (sign) val = -val;
            if (val === 0) {
              writeUint(0, buf, pos + off0);
              writeUint(
                1 / val > 0
                  ? /* positive */
                    0
                  : /* negative 0 */
                    2147483648,
                buf,
                pos + off1
              );
            } else if (isNaN(val)) {
              writeUint(0, buf, pos + off0);
              writeUint(2146959360, buf, pos + off1);
            } else if (val > 17976931348623157e292) {
              writeUint(0, buf, pos + off0);
              writeUint(((sign << 31) | 2146435072) >>> 0, buf, pos + off1);
            } else {
              var mantissa;
              if (val < 22250738585072014e-324) {
                mantissa = val / 5e-324;
                writeUint(mantissa >>> 0, buf, pos + off0);
                writeUint(((sign << 31) | (mantissa / 4294967296)) >>> 0, buf, pos + off1);
              } else {
                var exponent = Math.floor(Math.log(val) / Math.LN2);
                if (exponent === 1024) exponent = 1023;
                mantissa = val * Math.pow(2, -exponent);
                writeUint((mantissa * 4503599627370496) >>> 0, buf, pos + off0);
                writeUint(
                  ((sign << 31) | ((exponent + 1023) << 20) | ((mantissa * 1048576) & 1048575)) >>>
                    0,
                  buf,
                  pos + off1
                );
              }
            }
          }
          exports3.writeDoubleLE = writeDouble_ieee754.bind(null, writeUintLE, 0, 4);
          exports3.writeDoubleBE = writeDouble_ieee754.bind(null, writeUintBE, 4, 0);
          function readDouble_ieee754(readUint, off0, off1, buf, pos) {
            var lo = readUint(buf, pos + off0),
              hi = readUint(buf, pos + off1);
            var sign = (hi >> 31) * 2 + 1,
              exponent = (hi >>> 20) & 2047,
              mantissa = 4294967296 * (hi & 1048575) + lo;
            return exponent === 2047
              ? mantissa
                ? NaN
                : sign * Infinity
              : exponent === 0
                ? sign * 5e-324 * mantissa
                : sign * Math.pow(2, exponent - 1075) * (mantissa + 4503599627370496);
          }
          exports3.readDoubleLE = readDouble_ieee754.bind(null, readUintLE, 0, 4);
          exports3.readDoubleBE = readDouble_ieee754.bind(null, readUintBE, 4, 0);
        })();
      return exports3;
    }
    function writeUintLE(val, buf, pos) {
      buf[pos] = val & 255;
      buf[pos + 1] = (val >>> 8) & 255;
      buf[pos + 2] = (val >>> 16) & 255;
      buf[pos + 3] = val >>> 24;
    }
    function writeUintBE(val, buf, pos) {
      buf[pos] = val >>> 24;
      buf[pos + 1] = (val >>> 16) & 255;
      buf[pos + 2] = (val >>> 8) & 255;
      buf[pos + 3] = val & 255;
    }
    function readUintLE(buf, pos) {
      return (buf[pos] | (buf[pos + 1] << 8) | (buf[pos + 2] << 16) | (buf[pos + 3] << 24)) >>> 0;
    }
    function readUintBE(buf, pos) {
      return ((buf[pos] << 24) | (buf[pos + 1] << 16) | (buf[pos + 2] << 8) | buf[pos + 3]) >>> 0;
    }
  },
});

// ../../node_modules/.pnpm/@protobufjs+inquire@1.1.0/node_modules/@protobufjs/inquire/index.js
var require_inquire = __commonJS({
  '../../node_modules/.pnpm/@protobufjs+inquire@1.1.0/node_modules/@protobufjs/inquire/index.js'(
    exports,
    module
  ) {
    'use strict';
    module.exports = inquire;
    function inquire(moduleName) {
      try {
        var mod = eval('quire'.replace(/^/, 're'))(moduleName);
        if (mod && (mod.length || Object.keys(mod).length)) return mod;
      } catch (e) {}
      return null;
    }
  },
});

// ../../node_modules/.pnpm/@protobufjs+utf8@1.1.0/node_modules/@protobufjs/utf8/index.js
var require_utf8 = __commonJS({
  '../../node_modules/.pnpm/@protobufjs+utf8@1.1.0/node_modules/@protobufjs/utf8/index.js'(
    exports2
  ) {
    'use strict';
    var utf83 = exports2;
    utf83.length = function utf8_length(string) {
      var len = 0,
        c = 0;
      for (var i = 0; i < string.length; ++i) {
        c = string.charCodeAt(i);
        if (c < 128) len += 1;
        else if (c < 2048) len += 2;
        else if ((c & 64512) === 55296 && (string.charCodeAt(i + 1) & 64512) === 56320) {
          ++i;
          len += 4;
        } else len += 3;
      }
      return len;
    };
    utf83.read = function utf8_read(buffer2, start, end) {
      var len = end - start;
      if (len < 1) return '';
      var parts = null,
        chunk = [],
        i = 0,
        t;
      while (start < end) {
        t = buffer2[start++];
        if (t < 128) chunk[i++] = t;
        else if (t > 191 && t < 224) chunk[i++] = ((t & 31) << 6) | (buffer2[start++] & 63);
        else if (t > 239 && t < 365) {
          t =
            (((t & 7) << 18) |
              ((buffer2[start++] & 63) << 12) |
              ((buffer2[start++] & 63) << 6) |
              (buffer2[start++] & 63)) -
            65536;
          chunk[i++] = 55296 + (t >> 10);
          chunk[i++] = 56320 + (t & 1023);
        } else
          chunk[i++] = ((t & 15) << 12) | ((buffer2[start++] & 63) << 6) | (buffer2[start++] & 63);
        if (i > 8191) {
          (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));
          i = 0;
        }
      }
      if (parts) {
        if (i) parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));
        return parts.join('');
      }
      return String.fromCharCode.apply(String, chunk.slice(0, i));
    };
    utf83.write = function utf8_write(string, buffer2, offset) {
      var start = offset,
        c1,
        c2;
      for (var i = 0; i < string.length; ++i) {
        c1 = string.charCodeAt(i);
        if (c1 < 128) {
          buffer2[offset++] = c1;
        } else if (c1 < 2048) {
          buffer2[offset++] = (c1 >> 6) | 192;
          buffer2[offset++] = (c1 & 63) | 128;
        } else if ((c1 & 64512) === 55296 && ((c2 = string.charCodeAt(i + 1)) & 64512) === 56320) {
          c1 = 65536 + ((c1 & 1023) << 10) + (c2 & 1023);
          ++i;
          buffer2[offset++] = (c1 >> 18) | 240;
          buffer2[offset++] = ((c1 >> 12) & 63) | 128;
          buffer2[offset++] = ((c1 >> 6) & 63) | 128;
          buffer2[offset++] = (c1 & 63) | 128;
        } else {
          buffer2[offset++] = (c1 >> 12) | 224;
          buffer2[offset++] = ((c1 >> 6) & 63) | 128;
          buffer2[offset++] = (c1 & 63) | 128;
        }
      }
      return offset - start;
    };
  },
});

// ../../node_modules/.pnpm/@protobufjs+pool@1.1.0/node_modules/@protobufjs/pool/index.js
var require_pool = __commonJS({
  '../../node_modules/.pnpm/@protobufjs+pool@1.1.0/node_modules/@protobufjs/pool/index.js'(
    exports2,
    module2
  ) {
    'use strict';
    module2.exports = pool;
    function pool(alloc, slice, size) {
      var SIZE = size || 8192;
      var MAX = SIZE >>> 1;
      var slab = null;
      var offset = SIZE;
      return function pool_alloc(size2) {
        if (size2 < 1 || size2 > MAX) return alloc(size2);
        if (offset + size2 > SIZE) {
          slab = alloc(SIZE);
          offset = 0;
        }
        var buf = slice.call(slab, offset, (offset += size2));
        if (offset & 7) offset = (offset | 7) + 1;
        return buf;
      };
    }
  },
});

// ../../node_modules/.pnpm/protobufjs@7.2.4/node_modules/protobufjs/src/util/longbits.js
var require_longbits = __commonJS({
  '../../node_modules/.pnpm/protobufjs@7.2.4/node_modules/protobufjs/src/util/longbits.js'(
    exports2,
    module2
  ) {
    'use strict';
    module2.exports = LongBits;
    var util = require_minimal();
    function LongBits(lo, hi) {
      this.lo = lo >>> 0;
      this.hi = hi >>> 0;
    }
    var zero = (LongBits.zero = new LongBits(0, 0));
    zero.toNumber = function () {
      return 0;
    };
    zero.zzEncode = zero.zzDecode = function () {
      return this;
    };
    zero.length = function () {
      return 1;
    };
    var zeroHash = (LongBits.zeroHash = '\0\0\0\0\0\0\0\0');
    LongBits.fromNumber = function fromNumber2(value) {
      if (value === 0) return zero;
      var sign = value < 0;
      if (sign) value = -value;
      var lo = value >>> 0,
        hi = ((value - lo) / 4294967296) >>> 0;
      if (sign) {
        hi = ~hi >>> 0;
        lo = ~lo >>> 0;
        if (++lo > 4294967295) {
          lo = 0;
          if (++hi > 4294967295) hi = 0;
        }
      }
      return new LongBits(lo, hi);
    };
    LongBits.from = function from(value) {
      if (typeof value === 'number') return LongBits.fromNumber(value);
      if (util.isString(value)) {
        if (util.Long) value = util.Long.fromString(value);
        else return LongBits.fromNumber(parseInt(value, 10));
      }
      return value.low || value.high ? new LongBits(value.low >>> 0, value.high >>> 0) : zero;
    };
    LongBits.prototype.toNumber = function toNumber2(unsigned) {
      if (!unsigned && this.hi >>> 31) {
        var lo = (~this.lo + 1) >>> 0,
          hi = ~this.hi >>> 0;
        if (!lo) hi = (hi + 1) >>> 0;
        return -(lo + hi * 4294967296);
      }
      return this.lo + this.hi * 4294967296;
    };
    LongBits.prototype.toLong = function toLong(unsigned) {
      return util.Long
        ? new util.Long(this.lo | 0, this.hi | 0, Boolean(unsigned))
        : { low: this.lo | 0, high: this.hi | 0, unsigned: Boolean(unsigned) };
    };
    var charCodeAt = String.prototype.charCodeAt;
    LongBits.fromHash = function fromHash(hash) {
      if (hash === zeroHash) return zero;
      return new LongBits(
        (charCodeAt.call(hash, 0) |
          (charCodeAt.call(hash, 1) << 8) |
          (charCodeAt.call(hash, 2) << 16) |
          (charCodeAt.call(hash, 3) << 24)) >>>
          0,
        (charCodeAt.call(hash, 4) |
          (charCodeAt.call(hash, 5) << 8) |
          (charCodeAt.call(hash, 6) << 16) |
          (charCodeAt.call(hash, 7) << 24)) >>>
          0
      );
    };
    LongBits.prototype.toHash = function toHash() {
      return String.fromCharCode(
        this.lo & 255,
        (this.lo >>> 8) & 255,
        (this.lo >>> 16) & 255,
        this.lo >>> 24,
        this.hi & 255,
        (this.hi >>> 8) & 255,
        (this.hi >>> 16) & 255,
        this.hi >>> 24
      );
    };
    LongBits.prototype.zzEncode = function zzEncode() {
      var mask = this.hi >> 31;
      this.hi = (((this.hi << 1) | (this.lo >>> 31)) ^ mask) >>> 0;
      this.lo = ((this.lo << 1) ^ mask) >>> 0;
      return this;
    };
    LongBits.prototype.zzDecode = function zzDecode() {
      var mask = -(this.lo & 1);
      this.lo = (((this.lo >>> 1) | (this.hi << 31)) ^ mask) >>> 0;
      this.hi = ((this.hi >>> 1) ^ mask) >>> 0;
      return this;
    };
    LongBits.prototype.length = function length2() {
      var part0 = this.lo,
        part1 = ((this.lo >>> 28) | (this.hi << 4)) >>> 0,
        part2 = this.hi >>> 24;
      return part2 === 0
        ? part1 === 0
          ? part0 < 16384
            ? part0 < 128
              ? 1
              : 2
            : part0 < 2097152
              ? 3
              : 4
          : part1 < 16384
            ? part1 < 128
              ? 5
              : 6
            : part1 < 2097152
              ? 7
              : 8
        : part2 < 128
          ? 9
          : 10;
    };
  },
});

// ../../node_modules/.pnpm/protobufjs@7.2.4/node_modules/protobufjs/src/util/minimal.js
var require_minimal = __commonJS({
  '../../node_modules/.pnpm/protobufjs@7.2.4/node_modules/protobufjs/src/util/minimal.js'(
    exports2
  ) {
    'use strict';
    var util = exports2;
    util.asPromise = require_aspromise();
    util.base64 = require_base64();
    util.EventEmitter = require_eventemitter();
    util.float = require_float();
    util.inquire = require_inquire();
    util.utf8 = require_utf8();
    util.pool = require_pool();
    util.LongBits = require_longbits();
    util.isNode = Boolean(
      typeof global !== 'undefined' &&
      global &&
      global.process &&
      global.process.versions &&
      global.process.versions.node
    );
    util.global =
      (util.isNode && global) || false || (typeof self !== 'undefined' && self) || exports2;
    util.emptyArray = Object.freeze
      ? Object.freeze([])
      : /* istanbul ignore next */
        [];
    util.emptyObject = Object.freeze
      ? Object.freeze({})
      : /* istanbul ignore next */
        {};
    util.isInteger =
      Number.isInteger /* istanbul ignore next */ ||
      function isInteger(value) {
        return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;
      };
    util.isString = function isString(value) {
      return typeof value === 'string' || value instanceof String;
    };
    util.isObject = function isObject3(value) {
      return value && typeof value === 'object';
    };
    util.isset =
      /**
       * Checks if a property on a message is considered to be present.
       * @param {Object} obj Plain object or message instance
       * @param {string} prop Property name
       * @returns {boolean} `true` if considered to be present, otherwise `false`
       */
      util.isSet = function isSet3(obj, prop) {
        var value = obj[prop];
        if (value != null && obj.hasOwnProperty(prop))
          return (
            typeof value !== 'object' ||
            (Array.isArray(value) ? value.length : Object.keys(value).length) > 0
          );
        return false;
      };
    util.Buffer = (function () {
      try {
        var Buffer2 = util.inquire('buffer').Buffer;
        return Buffer2.prototype.utf8Write
          ? Buffer2
          : /* istanbul ignore next */
            null;
      } catch (e) {
        return null;
      }
    })();
    util._Buffer_from = null;
    util._Buffer_allocUnsafe = null;
    util.newBuffer = function newBuffer(sizeOrArray) {
      return typeof sizeOrArray === 'number'
        ? util.Buffer
          ? util._Buffer_allocUnsafe(sizeOrArray)
          : new util.Array(sizeOrArray)
        : util.Buffer
          ? util._Buffer_from(sizeOrArray)
          : typeof Uint8Array === 'undefined'
            ? sizeOrArray
            : new Uint8Array(sizeOrArray);
    };
    util.Array = typeof Uint8Array !== 'undefined' ? Uint8Array : Array;
    util.Long =
      /* istanbul ignore next */
      (util.global.dcodeIO /* istanbul ignore next */ &&
        util.global.dcodeIO.Long) /* istanbul ignore next */ ||
      util.global.Long ||
      util.inquire('long');
    util.key2Re = /^true|false|0|1$/;
    util.key32Re = /^-?(?:0|[1-9][0-9]*)$/;
    util.key64Re = /^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;
    util.longToHash = function longToHash(value) {
      return value ? util.LongBits.from(value).toHash() : util.LongBits.zeroHash;
    };
    util.longFromHash = function longFromHash(hash, unsigned) {
      var bits = util.LongBits.fromHash(hash);
      if (util.Long) return util.Long.fromBits(bits.lo, bits.hi, unsigned);
      return bits.toNumber(Boolean(unsigned));
    };
    function merge(dst, src, ifNotSet) {
      for (var keys = Object.keys(src), i = 0; i < keys.length; ++i)
        if (dst[keys[i]] === void 0 || !ifNotSet) dst[keys[i]] = src[keys[i]];
      return dst;
    }
    util.merge = merge;
    util.lcFirst = function lcFirst(str) {
      return str.charAt(0).toLowerCase() + str.substring(1);
    };
    function newError(name) {
      function CustomError(message, properties) {
        if (!(this instanceof CustomError)) return new CustomError(message, properties);
        Object.defineProperty(this, 'message', {
          get: function () {
            return message;
          },
        });
        if (Error.captureStackTrace) Error.captureStackTrace(this, CustomError);
        else Object.defineProperty(this, 'stack', { value: new Error().stack || '' });
        if (properties) merge(this, properties);
      }
      CustomError.prototype = Object.create(Error.prototype, {
        constructor: {
          value: CustomError,
          writable: true,
          enumerable: false,
          configurable: true,
        },
        name: {
          get: function get() {
            return name;
          },
          set: void 0,
          enumerable: false,
          // configurable: false would accurately preserve the behavior of
          // the original, but I'm guessing that was not intentional.
          // For an actual error subclass, this property would
          // be configurable.
          configurable: true,
        },
        toString: {
          value: function value() {
            return this.name + ': ' + this.message;
          },
          writable: true,
          enumerable: false,
          configurable: true,
        },
      });
      return CustomError;
    }
    util.newError = newError;
    util.ProtocolError = newError('ProtocolError');
    util.oneOfGetter = function getOneOf(fieldNames) {
      var fieldMap = {};
      for (var i = 0; i < fieldNames.length; ++i) fieldMap[fieldNames[i]] = 1;
      return function () {
        for (var keys = Object.keys(this), i2 = keys.length - 1; i2 > -1; --i2)
          if (fieldMap[keys[i2]] === 1 && this[keys[i2]] !== void 0 && this[keys[i2]] !== null)
            return keys[i2];
      };
    };
    util.oneOfSetter = function setOneOf(fieldNames) {
      return function (name) {
        for (var i = 0; i < fieldNames.length; ++i)
          if (fieldNames[i] !== name) delete this[fieldNames[i]];
      };
    };
    util.toJSONOptions = {
      longs: String,
      enums: String,
      bytes: String,
      json: true,
    };
    util._configure = function () {
      var Buffer2 = util.Buffer;
      if (!Buffer2) {
        util._Buffer_from = util._Buffer_allocUnsafe = null;
        return;
      }
      util._Buffer_from =
        (Buffer2.from !== Uint8Array.from && Buffer2.from) /* istanbul ignore next */ ||
        function Buffer_from(value, encoding) {
          return new Buffer2(value, encoding);
        };
      util._Buffer_allocUnsafe =
        Buffer2.allocUnsafe /* istanbul ignore next */ ||
        function Buffer_allocUnsafe(size) {
          return new Buffer2(size);
        };
    };
  },
});

// ../../node_modules/.pnpm/protobufjs@7.2.4/node_modules/protobufjs/src/writer.js
var require_writer = __commonJS({
  '../../node_modules/.pnpm/protobufjs@7.2.4/node_modules/protobufjs/src/writer.js'(
    exports2,
    module2
  ) {
    'use strict';
    module2.exports = Writer;
    var util = require_minimal();
    var BufferWriter;
    var LongBits = util.LongBits;
    var base64 = util.base64;
    var utf83 = util.utf8;
    function Op(fn, len, val) {
      this.fn = fn;
      this.len = len;
      this.next = void 0;
      this.val = val;
    }
    function noop() {}
    function State(writer) {
      this.head = writer.head;
      this.tail = writer.tail;
      this.len = writer.len;
      this.next = writer.states;
    }
    function Writer() {
      this.len = 0;
      this.head = new Op(noop, 0, 0);
      this.tail = this.head;
      this.states = null;
    }
    var create = function create2() {
      return util.Buffer
        ? function create_buffer_setup() {
            return (Writer.create = function create_buffer() {
              return new BufferWriter();
            })();
          }
        : function create_array() {
            return new Writer();
          };
    };
    Writer.create = create();
    Writer.alloc = function alloc(size) {
      return new util.Array(size);
    };
    if (util.Array !== Array) Writer.alloc = util.pool(Writer.alloc, util.Array.prototype.subarray);
    Writer.prototype._push = function push(fn, len, val) {
      this.tail = this.tail.next = new Op(fn, len, val);
      this.len += len;
      return this;
    };
    function writeByte(val, buf, pos) {
      buf[pos] = val & 255;
    }
    function writeVarint32(val, buf, pos) {
      while (val > 127) {
        buf[pos++] = (val & 127) | 128;
        val >>>= 7;
      }
      buf[pos] = val;
    }
    function VarintOp(len, val) {
      this.len = len;
      this.next = void 0;
      this.val = val;
    }
    VarintOp.prototype = Object.create(Op.prototype);
    VarintOp.prototype.fn = writeVarint32;
    Writer.prototype.uint32 = function write_uint32(value) {
      this.len += (this.tail = this.tail.next =
        new VarintOp(
          (value = value >>> 0) < 128
            ? 1
            : value < 16384
              ? 2
              : value < 2097152
                ? 3
                : value < 268435456
                  ? 4
                  : 5,
          value
        )).len;
      return this;
    };
    Writer.prototype.int32 = function write_int32(value) {
      return value < 0
        ? this._push(writeVarint64, 10, LongBits.fromNumber(value))
        : this.uint32(value);
    };
    Writer.prototype.sint32 = function write_sint32(value) {
      return this.uint32(((value << 1) ^ (value >> 31)) >>> 0);
    };
    function writeVarint64(val, buf, pos) {
      while (val.hi) {
        buf[pos++] = (val.lo & 127) | 128;
        val.lo = ((val.lo >>> 7) | (val.hi << 25)) >>> 0;
        val.hi >>>= 7;
      }
      while (val.lo > 127) {
        buf[pos++] = (val.lo & 127) | 128;
        val.lo = val.lo >>> 7;
      }
      buf[pos++] = val.lo;
    }
    Writer.prototype.uint64 = function write_uint64(value) {
      var bits = LongBits.from(value);
      return this._push(writeVarint64, bits.length(), bits);
    };
    Writer.prototype.int64 = Writer.prototype.uint64;
    Writer.prototype.sint64 = function write_sint64(value) {
      var bits = LongBits.from(value).zzEncode();
      return this._push(writeVarint64, bits.length(), bits);
    };
    Writer.prototype.bool = function write_bool(value) {
      return this._push(writeByte, 1, value ? 1 : 0);
    };
    function writeFixed32(val, buf, pos) {
      buf[pos] = val & 255;
      buf[pos + 1] = (val >>> 8) & 255;
      buf[pos + 2] = (val >>> 16) & 255;
      buf[pos + 3] = val >>> 24;
    }
    Writer.prototype.fixed32 = function write_fixed32(value) {
      return this._push(writeFixed32, 4, value >>> 0);
    };
    Writer.prototype.sfixed32 = Writer.prototype.fixed32;
    Writer.prototype.fixed64 = function write_fixed64(value) {
      var bits = LongBits.from(value);
      return this._push(writeFixed32, 4, bits.lo)._push(writeFixed32, 4, bits.hi);
    };
    Writer.prototype.sfixed64 = Writer.prototype.fixed64;
    Writer.prototype.float = function write_float(value) {
      return this._push(util.float.writeFloatLE, 4, value);
    };
    Writer.prototype.double = function write_double(value) {
      return this._push(util.float.writeDoubleLE, 8, value);
    };
    var writeBytes = util.Array.prototype.set
      ? function writeBytes_set(val, buf, pos) {
          buf.set(val, pos);
        }
      : function writeBytes_for(val, buf, pos) {
          for (var i = 0; i < val.length; ++i) buf[pos + i] = val[i];
        };
    Writer.prototype.bytes = function write_bytes(value) {
      var len = value.length >>> 0;
      if (!len) return this._push(writeByte, 1, 0);
      if (util.isString(value)) {
        var buf = Writer.alloc((len = base64.length(value)));
        base64.decode(value, buf, 0);
        value = buf;
      }
      return this.uint32(len)._push(writeBytes, len, value);
    };
    Writer.prototype.string = function write_string(value) {
      var len = utf83.length(value);
      return len ? this.uint32(len)._push(utf83.write, len, value) : this._push(writeByte, 1, 0);
    };
    Writer.prototype.fork = function fork() {
      this.states = new State(this);
      this.head = this.tail = new Op(noop, 0, 0);
      this.len = 0;
      return this;
    };
    Writer.prototype.reset = function reset() {
      if (this.states) {
        this.head = this.states.head;
        this.tail = this.states.tail;
        this.len = this.states.len;
        this.states = this.states.next;
      } else {
        this.head = this.tail = new Op(noop, 0, 0);
        this.len = 0;
      }
      return this;
    };
    Writer.prototype.ldelim = function ldelim() {
      var head = this.head,
        tail = this.tail,
        len = this.len;
      this.reset().uint32(len);
      if (len) {
        this.tail.next = head.next;
        this.tail = tail;
        this.len += len;
      }
      return this;
    };
    Writer.prototype.finish = function finish() {
      var head = this.head.next,
        buf = this.constructor.alloc(this.len),
        pos = 0;
      while (head) {
        head.fn(head.val, buf, pos);
        pos += head.len;
        head = head.next;
      }
      return buf;
    };
    Writer._configure = function (BufferWriter_) {
      BufferWriter = BufferWriter_;
      Writer.create = create();
      BufferWriter._configure();
    };
  },
});

// ../../node_modules/.pnpm/protobufjs@7.2.4/node_modules/protobufjs/src/writer_buffer.js
var require_writer_buffer = __commonJS({
  '../../node_modules/.pnpm/protobufjs@7.2.4/node_modules/protobufjs/src/writer_buffer.js'(
    exports2,
    module2
  ) {
    'use strict';
    module2.exports = BufferWriter;
    var Writer = require_writer();
    (BufferWriter.prototype = Object.create(Writer.prototype)).constructor = BufferWriter;
    var util = require_minimal();
    function BufferWriter() {
      Writer.call(this);
    }
    BufferWriter._configure = function () {
      BufferWriter.alloc = util._Buffer_allocUnsafe;
      BufferWriter.writeBytesBuffer =
        util.Buffer &&
        util.Buffer.prototype instanceof Uint8Array &&
        util.Buffer.prototype.set.name === 'set'
          ? function writeBytesBuffer_set(val, buf, pos) {
              buf.set(val, pos);
            }
          : function writeBytesBuffer_copy(val, buf, pos) {
              if (val.copy) val.copy(buf, pos, 0, val.length);
              else for (var i = 0; i < val.length; ) buf[pos++] = val[i++];
            };
    };
    BufferWriter.prototype.bytes = function write_bytes_buffer(value) {
      if (util.isString(value)) value = util._Buffer_from(value, 'base64');
      var len = value.length >>> 0;
      this.uint32(len);
      if (len) this._push(BufferWriter.writeBytesBuffer, len, value);
      return this;
    };
    function writeStringBuffer(val, buf, pos) {
      if (val.length < 40) util.utf8.write(val, buf, pos);
      else if (buf.utf8Write) buf.utf8Write(val, pos);
      else buf.write(val, pos);
    }
    BufferWriter.prototype.string = function write_string_buffer(value) {
      var len = util.Buffer.byteLength(value);
      this.uint32(len);
      if (len) this._push(writeStringBuffer, len, value);
      return this;
    };
    BufferWriter._configure();
  },
});

// ../../node_modules/.pnpm/protobufjs@7.2.4/node_modules/protobufjs/src/reader.js
var require_reader = __commonJS({
  '../../node_modules/.pnpm/protobufjs@7.2.4/node_modules/protobufjs/src/reader.js'(
    exports2,
    module2
  ) {
    'use strict';
    module2.exports = Reader;
    var util = require_minimal();
    var BufferReader;
    var LongBits = util.LongBits;
    var utf83 = util.utf8;
    function indexOutOfRange(reader, writeLength) {
      return RangeError(
        'index out of range: ' + reader.pos + ' + ' + (writeLength || 1) + ' > ' + reader.len
      );
    }
    function Reader(buffer2) {
      this.buf = buffer2;
      this.pos = 0;
      this.len = buffer2.length;
    }
    var create_array =
      typeof Uint8Array !== 'undefined'
        ? function create_typed_array(buffer2) {
            if (buffer2 instanceof Uint8Array || Array.isArray(buffer2)) return new Reader(buffer2);
            throw Error('illegal buffer');
          }
        : function create_array2(buffer2) {
            if (Array.isArray(buffer2)) return new Reader(buffer2);
            throw Error('illegal buffer');
          };
    var create = function create2() {
      return util.Buffer
        ? function create_buffer_setup(buffer2) {
            return (Reader.create = function create_buffer(buffer3) {
              return util.Buffer.isBuffer(buffer3)
                ? new BufferReader(buffer3)
                : create_array(buffer3);
            })(buffer2);
          }
        : create_array;
    };
    Reader.create = create();
    Reader.prototype._slice =
      util.Array.prototype.subarray /* istanbul ignore next */ || util.Array.prototype.slice;
    Reader.prototype.uint32 = (function read_uint32_setup() {
      var value = 4294967295;
      return function read_uint32() {
        value = (this.buf[this.pos] & 127) >>> 0;
        if (this.buf[this.pos++] < 128) return value;
        value = (value | ((this.buf[this.pos] & 127) << 7)) >>> 0;
        if (this.buf[this.pos++] < 128) return value;
        value = (value | ((this.buf[this.pos] & 127) << 14)) >>> 0;
        if (this.buf[this.pos++] < 128) return value;
        value = (value | ((this.buf[this.pos] & 127) << 21)) >>> 0;
        if (this.buf[this.pos++] < 128) return value;
        value = (value | ((this.buf[this.pos] & 15) << 28)) >>> 0;
        if (this.buf[this.pos++] < 128) return value;
        if ((this.pos += 5) > this.len) {
          this.pos = this.len;
          throw indexOutOfRange(this, 10);
        }
        return value;
      };
    })();
    Reader.prototype.int32 = function read_int32() {
      return this.uint32() | 0;
    };
    Reader.prototype.sint32 = function read_sint32() {
      var value = this.uint32();
      return ((value >>> 1) ^ -(value & 1)) | 0;
    };
    function readLongVarint() {
      var bits = new LongBits(0, 0);
      var i = 0;
      if (this.len - this.pos > 4) {
        for (; i < 4; ++i) {
          bits.lo = (bits.lo | ((this.buf[this.pos] & 127) << (i * 7))) >>> 0;
          if (this.buf[this.pos++] < 128) return bits;
        }
        bits.lo = (bits.lo | ((this.buf[this.pos] & 127) << 28)) >>> 0;
        bits.hi = (bits.hi | ((this.buf[this.pos] & 127) >> 4)) >>> 0;
        if (this.buf[this.pos++] < 128) return bits;
        i = 0;
      } else {
        for (; i < 3; ++i) {
          if (this.pos >= this.len) throw indexOutOfRange(this);
          bits.lo = (bits.lo | ((this.buf[this.pos] & 127) << (i * 7))) >>> 0;
          if (this.buf[this.pos++] < 128) return bits;
        }
        bits.lo = (bits.lo | ((this.buf[this.pos++] & 127) << (i * 7))) >>> 0;
        return bits;
      }
      if (this.len - this.pos > 4) {
        for (; i < 5; ++i) {
          bits.hi = (bits.hi | ((this.buf[this.pos] & 127) << (i * 7 + 3))) >>> 0;
          if (this.buf[this.pos++] < 128) return bits;
        }
      } else {
        for (; i < 5; ++i) {
          if (this.pos >= this.len) throw indexOutOfRange(this);
          bits.hi = (bits.hi | ((this.buf[this.pos] & 127) << (i * 7 + 3))) >>> 0;
          if (this.buf[this.pos++] < 128) return bits;
        }
      }
      throw Error('invalid varint encoding');
    }
    Reader.prototype.bool = function read_bool() {
      return this.uint32() !== 0;
    };
    function readFixed32_end(buf, end) {
      return (
        (buf[end - 4] | (buf[end - 3] << 8) | (buf[end - 2] << 16) | (buf[end - 1] << 24)) >>> 0
      );
    }
    Reader.prototype.fixed32 = function read_fixed32() {
      if (this.pos + 4 > this.len) throw indexOutOfRange(this, 4);
      return readFixed32_end(this.buf, (this.pos += 4));
    };
    Reader.prototype.sfixed32 = function read_sfixed32() {
      if (this.pos + 4 > this.len) throw indexOutOfRange(this, 4);
      return readFixed32_end(this.buf, (this.pos += 4)) | 0;
    };
    function readFixed64() {
      if (this.pos + 8 > this.len) throw indexOutOfRange(this, 8);
      return new LongBits(
        readFixed32_end(this.buf, (this.pos += 4)),
        readFixed32_end(this.buf, (this.pos += 4))
      );
    }
    Reader.prototype.float = function read_float() {
      if (this.pos + 4 > this.len) throw indexOutOfRange(this, 4);
      var value = util.float.readFloatLE(this.buf, this.pos);
      this.pos += 4;
      return value;
    };
    Reader.prototype.double = function read_double() {
      if (this.pos + 8 > this.len) throw indexOutOfRange(this, 4);
      var value = util.float.readDoubleLE(this.buf, this.pos);
      this.pos += 8;
      return value;
    };
    Reader.prototype.bytes = function read_bytes() {
      var length2 = this.uint32(),
        start = this.pos,
        end = this.pos + length2;
      if (end > this.len) throw indexOutOfRange(this, length2);
      this.pos += length2;
      if (Array.isArray(this.buf)) return this.buf.slice(start, end);
      return start === end ? new this.buf.constructor(0) : this._slice.call(this.buf, start, end);
    };
    Reader.prototype.string = function read_string() {
      var bytes = this.bytes();
      return utf83.read(bytes, 0, bytes.length);
    };
    Reader.prototype.skip = function skip(length2) {
      if (typeof length2 === 'number') {
        if (this.pos + length2 > this.len) throw indexOutOfRange(this, length2);
        this.pos += length2;
      } else {
        do {
          if (this.pos >= this.len) throw indexOutOfRange(this);
        } while (this.buf[this.pos++] & 128);
      }
      return this;
    };
    Reader.prototype.skipType = function (wireType) {
      switch (wireType) {
        case 0:
          this.skip();
          break;
        case 1:
          this.skip(8);
          break;
        case 2:
          this.skip(this.uint32());
          break;
        case 3:
          while ((wireType = this.uint32() & 7) !== 4) {
            this.skipType(wireType);
          }
          break;
        case 5:
          this.skip(4);
          break;
        default:
          throw Error('invalid wire type ' + wireType + ' at offset ' + this.pos);
      }
      return this;
    };
    Reader._configure = function (BufferReader_) {
      BufferReader = BufferReader_;
      Reader.create = create();
      BufferReader._configure();
      var fn = util.Long
        ? 'toLong'
        : /* istanbul ignore next */
          'toNumber';
      util.merge(Reader.prototype, {
        int64: function read_int64() {
          return readLongVarint.call(this)[fn](false);
        },
        uint64: function read_uint64() {
          return readLongVarint.call(this)[fn](true);
        },
        sint64: function read_sint64() {
          return readLongVarint.call(this).zzDecode()[fn](false);
        },
        fixed64: function read_fixed64() {
          return readFixed64.call(this)[fn](true);
        },
        sfixed64: function read_sfixed64() {
          return readFixed64.call(this)[fn](false);
        },
      });
    };
  },
});

// ../../node_modules/.pnpm/protobufjs@7.2.4/node_modules/protobufjs/src/reader_buffer.js
var require_reader_buffer = __commonJS({
  '../../node_modules/.pnpm/protobufjs@7.2.4/node_modules/protobufjs/src/reader_buffer.js'(
    exports2,
    module2
  ) {
    'use strict';
    module2.exports = BufferReader;
    var Reader = require_reader();
    (BufferReader.prototype = Object.create(Reader.prototype)).constructor = BufferReader;
    var util = require_minimal();
    function BufferReader(buffer2) {
      Reader.call(this, buffer2);
    }
    BufferReader._configure = function () {
      if (util.Buffer) BufferReader.prototype._slice = util.Buffer.prototype.slice;
    };
    BufferReader.prototype.string = function read_string_buffer() {
      var len = this.uint32();
      return this.buf.utf8Slice
        ? this.buf.utf8Slice(this.pos, (this.pos = Math.min(this.pos + len, this.len)))
        : this.buf.toString('utf-8', this.pos, (this.pos = Math.min(this.pos + len, this.len)));
    };
    BufferReader._configure();
  },
});

// ../../node_modules/.pnpm/protobufjs@7.2.4/node_modules/protobufjs/src/rpc/service.js
var require_service = __commonJS({
  '../../node_modules/.pnpm/protobufjs@7.2.4/node_modules/protobufjs/src/rpc/service.js'(
    exports2,
    module2
  ) {
    'use strict';
    module2.exports = Service;
    var util = require_minimal();
    (Service.prototype = Object.create(util.EventEmitter.prototype)).constructor = Service;
    function Service(rpcImpl, requestDelimited, responseDelimited) {
      if (typeof rpcImpl !== 'function') throw TypeError('rpcImpl must be a function');
      util.EventEmitter.call(this);
      this.rpcImpl = rpcImpl;
      this.requestDelimited = Boolean(requestDelimited);
      this.responseDelimited = Boolean(responseDelimited);
    }
    Service.prototype.rpcCall = function rpcCall(
      method,
      requestCtor,
      responseCtor,
      request,
      callback
    ) {
      if (!request) throw TypeError('request must be specified');
      var self2 = this;
      if (!callback)
        return util.asPromise(rpcCall, self2, method, requestCtor, responseCtor, request);
      if (!self2.rpcImpl) {
        setTimeout(function () {
          callback(Error('already ended'));
        }, 0);
        return void 0;
      }
      try {
        return self2.rpcImpl(
          method,
          requestCtor[self2.requestDelimited ? 'encodeDelimited' : 'encode'](request).finish(),
          function rpcCallback(err, response) {
            if (err) {
              self2.emit('error', err, method);
              return callback(err);
            }
            if (response === null) {
              self2.end(
                /* endedByRPC */
                true
              );
              return void 0;
            }
            if (!(response instanceof responseCtor)) {
              try {
                response =
                  responseCtor[self2.responseDelimited ? 'decodeDelimited' : 'decode'](response);
              } catch (err2) {
                self2.emit('error', err2, method);
                return callback(err2);
              }
            }
            self2.emit('data', response, method);
            return callback(null, response);
          }
        );
      } catch (err) {
        self2.emit('error', err, method);
        setTimeout(function () {
          callback(err);
        }, 0);
        return void 0;
      }
    };
    Service.prototype.end = function end(endedByRPC) {
      if (this.rpcImpl) {
        if (!endedByRPC) this.rpcImpl(null, null, null);
        this.rpcImpl = null;
        this.emit('end').off();
      }
      return this;
    };
  },
});

// ../../node_modules/.pnpm/protobufjs@7.2.4/node_modules/protobufjs/src/rpc.js
var require_rpc = __commonJS({
  '../../node_modules/.pnpm/protobufjs@7.2.4/node_modules/protobufjs/src/rpc.js'(exports2) {
    'use strict';
    var rpc = exports2;
    rpc.Service = require_service();
  },
});

// ../../node_modules/.pnpm/protobufjs@7.2.4/node_modules/protobufjs/src/roots.js
var require_roots = __commonJS({
  '../../node_modules/.pnpm/protobufjs@7.2.4/node_modules/protobufjs/src/roots.js'(
    exports2,
    module2
  ) {
    'use strict';
    module2.exports = {};
  },
});

// ../../node_modules/.pnpm/protobufjs@7.2.4/node_modules/protobufjs/src/index-minimal.js
var require_index_minimal = __commonJS({
  '../../node_modules/.pnpm/protobufjs@7.2.4/node_modules/protobufjs/src/index-minimal.js'(
    exports2
  ) {
    'use strict';
    var protobuf = exports2;
    protobuf.build = 'minimal';
    protobuf.Writer = require_writer();
    protobuf.BufferWriter = require_writer_buffer();
    protobuf.Reader = require_reader();
    protobuf.BufferReader = require_reader_buffer();
    protobuf.util = require_minimal();
    protobuf.rpc = require_rpc();
    protobuf.roots = require_roots();
    protobuf.configure = configure;
    function configure() {
      protobuf.util._configure();
      protobuf.Writer._configure(protobuf.BufferWriter);
      protobuf.Reader._configure(protobuf.BufferReader);
    }
    configure();
  },
});

// ../../node_modules/.pnpm/protobufjs@7.2.4/node_modules/protobufjs/minimal.js
var require_minimal2 = __commonJS({
  '../../node_modules/.pnpm/protobufjs@7.2.4/node_modules/protobufjs/minimal.js'(
    exports2,
    module2
  ) {
    'use strict';
    module2.exports = require_index_minimal();
  },
});

// src/index.ts.entry-point.ts
var index_ts_entry_point_exports = {};
__export(index_ts_entry_point_exports, {
  main: () => main,
  onStart: () => onStart,
  onUpdate: () => onUpdate,
  rendererTransport: () => rendererTransport,
});
module.exports = __toCommonJS(index_ts_entry_point_exports);

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/animator.gen.js
var import_minimal = __toESM(require_minimal2());
function createBasePBAnimator() {
  return { states: [] };
}
var PBAnimator;
(function (PBAnimator2) {
  function encode(message, writer = import_minimal.default.Writer.create()) {
    for (const v of message.states) {
      PBAnimationState.encode(v, writer.uint32(10).fork()).ldelim();
    }
    return writer;
  }
  PBAnimator2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal.default.Reader
        ? input
        : import_minimal.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAnimator();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.states.push(PBAnimationState.decode(reader, reader.uint32()));
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAnimator2.decode = decode;
})(PBAnimator || (PBAnimator = {}));
function createBasePBAnimationState() {
  return {
    clip: '',
    playing: void 0,
    weight: void 0,
    speed: void 0,
    loop: void 0,
    shouldReset: void 0,
  };
}
var PBAnimationState;
(function (PBAnimationState2) {
  function encode(message, writer = import_minimal.default.Writer.create()) {
    if (message.clip !== '') {
      writer.uint32(18).string(message.clip);
    }
    if (message.playing !== void 0) {
      writer.uint32(24).bool(message.playing);
    }
    if (message.weight !== void 0) {
      writer.uint32(37).float(message.weight);
    }
    if (message.speed !== void 0) {
      writer.uint32(45).float(message.speed);
    }
    if (message.loop !== void 0) {
      writer.uint32(48).bool(message.loop);
    }
    if (message.shouldReset !== void 0) {
      writer.uint32(56).bool(message.shouldReset);
    }
    return writer;
  }
  PBAnimationState2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal.default.Reader
        ? input
        : import_minimal.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAnimationState();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 2:
          if (tag !== 18) {
            break;
          }
          message.clip = reader.string();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.playing = reader.bool();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.weight = reader.float();
          continue;
        case 5:
          if (tag !== 45) {
            break;
          }
          message.speed = reader.float();
          continue;
        case 6:
          if (tag !== 48) {
            break;
          }
          message.loop = reader.bool();
          continue;
        case 7:
          if (tag !== 56) {
            break;
          }
          message.shouldReset = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAnimationState2.decode = decode;
})(PBAnimationState || (PBAnimationState = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/Animator.gen.js
var AnimatorSchema = {
  COMPONENT_ID: 1042,
  serialize(value, builder) {
    const writer = PBAnimator.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBAnimator.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAnimator.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBAnimator',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/audio_event.gen.js
var import_minimal2 = __toESM(require_minimal2());
function createBasePBAudioEvent() {
  return { state: 0, timestamp: 0 };
}
var PBAudioEvent;
(function (PBAudioEvent2) {
  function encode(message, writer = import_minimal2.default.Writer.create()) {
    if (message.state !== 0) {
      writer.uint32(8).int32(message.state);
    }
    if (message.timestamp !== 0) {
      writer.uint32(16).uint32(message.timestamp);
    }
    return writer;
  }
  PBAudioEvent2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal2.default.Reader
        ? input
        : import_minimal2.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAudioEvent();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.state = reader.int32();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.timestamp = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAudioEvent2.decode = decode;
})(PBAudioEvent || (PBAudioEvent = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/AudioEvent.gen.js
var AudioEventSchema = {
  COMPONENT_ID: 1105,
  serialize(value, builder) {
    const writer = PBAudioEvent.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBAudioEvent.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAudioEvent.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBAudioEvent',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/audio_source.gen.js
var import_minimal3 = __toESM(require_minimal2());
function createBasePBAudioSource() {
  return {
    playing: void 0,
    volume: void 0,
    loop: void 0,
    pitch: void 0,
    audioClipUrl: '',
    currentTime: void 0,
    global: void 0,
  };
}
var PBAudioSource;
(function (PBAudioSource2) {
  function encode(message, writer = import_minimal3.default.Writer.create()) {
    if (message.playing !== void 0) {
      writer.uint32(8).bool(message.playing);
    }
    if (message.volume !== void 0) {
      writer.uint32(21).float(message.volume);
    }
    if (message.loop !== void 0) {
      writer.uint32(24).bool(message.loop);
    }
    if (message.pitch !== void 0) {
      writer.uint32(37).float(message.pitch);
    }
    if (message.audioClipUrl !== '') {
      writer.uint32(42).string(message.audioClipUrl);
    }
    if (message.currentTime !== void 0) {
      writer.uint32(53).float(message.currentTime);
    }
    if (message.global !== void 0) {
      writer.uint32(56).bool(message.global);
    }
    return writer;
  }
  PBAudioSource2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal3.default.Reader
        ? input
        : import_minimal3.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAudioSource();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.playing = reader.bool();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.volume = reader.float();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.loop = reader.bool();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.pitch = reader.float();
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.audioClipUrl = reader.string();
          continue;
        case 6:
          if (tag !== 53) {
            break;
          }
          message.currentTime = reader.float();
          continue;
        case 7:
          if (tag !== 56) {
            break;
          }
          message.global = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAudioSource2.decode = decode;
})(PBAudioSource || (PBAudioSource = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/AudioSource.gen.js
var AudioSourceSchema = {
  COMPONENT_ID: 1020,
  serialize(value, builder) {
    const writer = PBAudioSource.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBAudioSource.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAudioSource.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBAudioSource',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/audio_stream.gen.js
var import_minimal4 = __toESM(require_minimal2());
function createBasePBAudioStream() {
  return {
    playing: void 0,
    volume: void 0,
    url: '',
    spatial: void 0,
    spatialMinDistance: void 0,
    spatialMaxDistance: void 0,
  };
}
var PBAudioStream;
(function (PBAudioStream2) {
  function encode(message, writer = import_minimal4.default.Writer.create()) {
    if (message.playing !== void 0) {
      writer.uint32(8).bool(message.playing);
    }
    if (message.volume !== void 0) {
      writer.uint32(21).float(message.volume);
    }
    if (message.url !== '') {
      writer.uint32(26).string(message.url);
    }
    if (message.spatial !== void 0) {
      writer.uint32(32).bool(message.spatial);
    }
    if (message.spatialMinDistance !== void 0) {
      writer.uint32(45).float(message.spatialMinDistance);
    }
    if (message.spatialMaxDistance !== void 0) {
      writer.uint32(53).float(message.spatialMaxDistance);
    }
    return writer;
  }
  PBAudioStream2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal4.default.Reader
        ? input
        : import_minimal4.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAudioStream();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.playing = reader.bool();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.volume = reader.float();
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.url = reader.string();
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.spatial = reader.bool();
          continue;
        case 5:
          if (tag !== 45) {
            break;
          }
          message.spatialMinDistance = reader.float();
          continue;
        case 6:
          if (tag !== 53) {
            break;
          }
          message.spatialMaxDistance = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAudioStream2.decode = decode;
})(PBAudioStream || (PBAudioStream = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/AudioStream.gen.js
var AudioStreamSchema = {
  COMPONENT_ID: 1021,
  serialize(value, builder) {
    const writer = PBAudioStream.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBAudioStream.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAudioStream.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBAudioStream',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_attach.gen.js
var import_minimal5 = __toESM(require_minimal2());
var AvatarAnchorPointType;
(function (AvatarAnchorPointType2) {
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_POSITION'] = 0)] = 'AAPT_POSITION';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_NAME_TAG'] = 1)] = 'AAPT_NAME_TAG';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_HEAD'] = 4)] = 'AAPT_HEAD';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_NECK'] = 5)] = 'AAPT_NECK';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_SPINE'] = 6)] = 'AAPT_SPINE';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_SPINE1'] = 7)] = 'AAPT_SPINE1';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_SPINE2'] = 8)] = 'AAPT_SPINE2';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_HIP'] = 9)] = 'AAPT_HIP';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_LEFT_SHOULDER'] = 10)] =
    'AAPT_LEFT_SHOULDER';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_LEFT_ARM'] = 11)] = 'AAPT_LEFT_ARM';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_LEFT_FOREARM'] = 12)] = 'AAPT_LEFT_FOREARM';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_LEFT_HAND'] = 2)] = 'AAPT_LEFT_HAND';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_LEFT_HAND_INDEX'] = 13)] =
    'AAPT_LEFT_HAND_INDEX';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_RIGHT_SHOULDER'] = 14)] =
    'AAPT_RIGHT_SHOULDER';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_RIGHT_ARM'] = 15)] = 'AAPT_RIGHT_ARM';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_RIGHT_FOREARM'] = 16)] =
    'AAPT_RIGHT_FOREARM';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_RIGHT_HAND'] = 3)] = 'AAPT_RIGHT_HAND';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_RIGHT_HAND_INDEX'] = 17)] =
    'AAPT_RIGHT_HAND_INDEX';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_LEFT_UP_LEG'] = 18)] = 'AAPT_LEFT_UP_LEG';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_LEFT_LEG'] = 19)] = 'AAPT_LEFT_LEG';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_LEFT_FOOT'] = 20)] = 'AAPT_LEFT_FOOT';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_LEFT_TOE_BASE'] = 21)] =
    'AAPT_LEFT_TOE_BASE';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_RIGHT_UP_LEG'] = 22)] = 'AAPT_RIGHT_UP_LEG';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_RIGHT_LEG'] = 23)] = 'AAPT_RIGHT_LEG';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_RIGHT_FOOT'] = 24)] = 'AAPT_RIGHT_FOOT';
  AvatarAnchorPointType2[(AvatarAnchorPointType2['AAPT_RIGHT_TOE_BASE'] = 25)] =
    'AAPT_RIGHT_TOE_BASE';
})(AvatarAnchorPointType || (AvatarAnchorPointType = {}));
function createBasePBAvatarAttach() {
  return { avatarId: void 0, anchorPointId: 0 };
}
var PBAvatarAttach;
(function (PBAvatarAttach2) {
  function encode(message, writer = import_minimal5.default.Writer.create()) {
    if (message.avatarId !== void 0) {
      writer.uint32(10).string(message.avatarId);
    }
    if (message.anchorPointId !== 0) {
      writer.uint32(16).int32(message.anchorPointId);
    }
    return writer;
  }
  PBAvatarAttach2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal5.default.Reader
        ? input
        : import_minimal5.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAvatarAttach();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.avatarId = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.anchorPointId = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAvatarAttach2.decode = decode;
})(PBAvatarAttach || (PBAvatarAttach = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/AvatarAttach.gen.js
var AvatarAttachSchema = {
  COMPONENT_ID: 1073,
  serialize(value, builder) {
    const writer = PBAvatarAttach.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBAvatarAttach.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAvatarAttach.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBAvatarAttach',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_base.gen.js
var import_minimal7 = __toESM(require_minimal2());

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/common/colors.gen.js
var import_minimal6 = __toESM(require_minimal2());
function createBaseColor3() {
  return { r: 0, g: 0, b: 0 };
}
var Color3;
(function (Color33) {
  function encode(message, writer = import_minimal6.default.Writer.create()) {
    if (message.r !== 0) {
      writer.uint32(13).float(message.r);
    }
    if (message.g !== 0) {
      writer.uint32(21).float(message.g);
    }
    if (message.b !== 0) {
      writer.uint32(29).float(message.b);
    }
    return writer;
  }
  Color33.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal6.default.Reader
        ? input
        : import_minimal6.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseColor3();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.r = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.g = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.b = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Color33.decode = decode;
})(Color3 || (Color3 = {}));
function createBaseColor4() {
  return { r: 0, g: 0, b: 0, a: 0 };
}
var Color4;
(function (Color43) {
  function encode(message, writer = import_minimal6.default.Writer.create()) {
    if (message.r !== 0) {
      writer.uint32(13).float(message.r);
    }
    if (message.g !== 0) {
      writer.uint32(21).float(message.g);
    }
    if (message.b !== 0) {
      writer.uint32(29).float(message.b);
    }
    if (message.a !== 0) {
      writer.uint32(37).float(message.a);
    }
    return writer;
  }
  Color43.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal6.default.Reader
        ? input
        : import_minimal6.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseColor4();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.r = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.g = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.b = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.a = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Color43.decode = decode;
})(Color4 || (Color4 = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_base.gen.js
function createBasePBAvatarBase() {
  return { skinColor: void 0, eyesColor: void 0, hairColor: void 0, bodyShapeUrn: '', name: '' };
}
var PBAvatarBase;
(function (PBAvatarBase2) {
  function encode(message, writer = import_minimal7.default.Writer.create()) {
    if (message.skinColor !== void 0) {
      Color3.encode(message.skinColor, writer.uint32(10).fork()).ldelim();
    }
    if (message.eyesColor !== void 0) {
      Color3.encode(message.eyesColor, writer.uint32(18).fork()).ldelim();
    }
    if (message.hairColor !== void 0) {
      Color3.encode(message.hairColor, writer.uint32(26).fork()).ldelim();
    }
    if (message.bodyShapeUrn !== '') {
      writer.uint32(34).string(message.bodyShapeUrn);
    }
    if (message.name !== '') {
      writer.uint32(42).string(message.name);
    }
    return writer;
  }
  PBAvatarBase2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal7.default.Reader
        ? input
        : import_minimal7.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAvatarBase();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.skinColor = Color3.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.eyesColor = Color3.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.hairColor = Color3.decode(reader, reader.uint32());
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.bodyShapeUrn = reader.string();
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.name = reader.string();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAvatarBase2.decode = decode;
})(PBAvatarBase || (PBAvatarBase = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/AvatarBase.gen.js
var AvatarBaseSchema = {
  COMPONENT_ID: 1087,
  serialize(value, builder) {
    const writer = PBAvatarBase.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBAvatarBase.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAvatarBase.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBAvatarBase',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_emote_command.gen.js
var import_minimal8 = __toESM(require_minimal2());
function createBasePBAvatarEmoteCommand() {
  return { emoteUrn: '', loop: false, timestamp: 0 };
}
var PBAvatarEmoteCommand;
(function (PBAvatarEmoteCommand2) {
  function encode(message, writer = import_minimal8.default.Writer.create()) {
    if (message.emoteUrn !== '') {
      writer.uint32(10).string(message.emoteUrn);
    }
    if (message.loop === true) {
      writer.uint32(16).bool(message.loop);
    }
    if (message.timestamp !== 0) {
      writer.uint32(24).uint32(message.timestamp);
    }
    return writer;
  }
  PBAvatarEmoteCommand2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal8.default.Reader
        ? input
        : import_minimal8.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAvatarEmoteCommand();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.emoteUrn = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.loop = reader.bool();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.timestamp = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAvatarEmoteCommand2.decode = decode;
})(PBAvatarEmoteCommand || (PBAvatarEmoteCommand = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/AvatarEmoteCommand.gen.js
var AvatarEmoteCommandSchema = {
  COMPONENT_ID: 1088,
  serialize(value, builder) {
    const writer = PBAvatarEmoteCommand.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBAvatarEmoteCommand.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAvatarEmoteCommand.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBAvatarEmoteCommand',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_equipped_data.gen.js
var import_minimal9 = __toESM(require_minimal2());
function createBasePBAvatarEquippedData() {
  return { wearableUrns: [], emoteUrns: [] };
}
var PBAvatarEquippedData;
(function (PBAvatarEquippedData2) {
  function encode(message, writer = import_minimal9.default.Writer.create()) {
    for (const v of message.wearableUrns) {
      writer.uint32(10).string(v);
    }
    for (const v of message.emoteUrns) {
      writer.uint32(18).string(v);
    }
    return writer;
  }
  PBAvatarEquippedData2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal9.default.Reader
        ? input
        : import_minimal9.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAvatarEquippedData();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.wearableUrns.push(reader.string());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.emoteUrns.push(reader.string());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAvatarEquippedData2.decode = decode;
})(PBAvatarEquippedData || (PBAvatarEquippedData = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/AvatarEquippedData.gen.js
var AvatarEquippedDataSchema = {
  COMPONENT_ID: 1091,
  serialize(value, builder) {
    const writer = PBAvatarEquippedData.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBAvatarEquippedData.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAvatarEquippedData.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBAvatarEquippedData',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_modifier_area.gen.js
var import_minimal11 = __toESM(require_minimal2());

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/common/vectors.gen.js
var import_minimal10 = __toESM(require_minimal2());
function createBasePosition() {
  return { x: 0, y: 0, z: 0 };
}
var Position;
(function (Position2) {
  function encode(message, writer = import_minimal10.default.Writer.create()) {
    if (message.x !== 0) {
      writer.uint32(13).float(message.x);
    }
    if (message.y !== 0) {
      writer.uint32(21).float(message.y);
    }
    if (message.z !== 0) {
      writer.uint32(29).float(message.z);
    }
    return writer;
  }
  Position2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal10.default.Reader
        ? input
        : import_minimal10.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePosition();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.x = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.y = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.z = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Position2.decode = decode;
})(Position || (Position = {}));
function createBaseVector3() {
  return { x: 0, y: 0, z: 0 };
}
var Vector3;
(function (Vector33) {
  function encode(message, writer = import_minimal10.default.Writer.create()) {
    if (message.x !== 0) {
      writer.uint32(13).float(message.x);
    }
    if (message.y !== 0) {
      writer.uint32(21).float(message.y);
    }
    if (message.z !== 0) {
      writer.uint32(29).float(message.z);
    }
    return writer;
  }
  Vector33.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal10.default.Reader
        ? input
        : import_minimal10.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseVector3();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.x = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.y = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.z = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Vector33.decode = decode;
})(Vector3 || (Vector3 = {}));
function createBaseVector2() {
  return { x: 0, y: 0 };
}
var Vector2;
(function (Vector23) {
  function encode(message, writer = import_minimal10.default.Writer.create()) {
    if (message.x !== 0) {
      writer.uint32(13).float(message.x);
    }
    if (message.y !== 0) {
      writer.uint32(21).float(message.y);
    }
    return writer;
  }
  Vector23.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal10.default.Reader
        ? input
        : import_minimal10.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseVector2();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.x = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.y = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Vector23.decode = decode;
})(Vector2 || (Vector2 = {}));
function createBaseQuaternion() {
  return { x: 0, y: 0, z: 0, w: 0 };
}
var Quaternion;
(function (Quaternion3) {
  function encode(message, writer = import_minimal10.default.Writer.create()) {
    if (message.x !== 0) {
      writer.uint32(13).float(message.x);
    }
    if (message.y !== 0) {
      writer.uint32(21).float(message.y);
    }
    if (message.z !== 0) {
      writer.uint32(29).float(message.z);
    }
    if (message.w !== 0) {
      writer.uint32(37).float(message.w);
    }
    return writer;
  }
  Quaternion3.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal10.default.Reader
        ? input
        : import_minimal10.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseQuaternion();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.x = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.y = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.z = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.w = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Quaternion3.decode = decode;
})(Quaternion || (Quaternion = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_modifier_area.gen.js
var AvatarModifierType;
(function (AvatarModifierType2) {
  AvatarModifierType2[(AvatarModifierType2['AMT_HIDE_AVATARS'] = 0)] = 'AMT_HIDE_AVATARS';
  AvatarModifierType2[(AvatarModifierType2['AMT_DISABLE_PASSPORTS'] = 1)] = 'AMT_DISABLE_PASSPORTS';
})(AvatarModifierType || (AvatarModifierType = {}));
function createBasePBAvatarModifierArea() {
  return { area: void 0, excludeIds: [], modifiers: [] };
}
var PBAvatarModifierArea;
(function (PBAvatarModifierArea2) {
  function encode(message, writer = import_minimal11.default.Writer.create()) {
    if (message.area !== void 0) {
      Vector3.encode(message.area, writer.uint32(10).fork()).ldelim();
    }
    for (const v of message.excludeIds) {
      writer.uint32(18).string(v);
    }
    writer.uint32(26).fork();
    for (const v of message.modifiers) {
      writer.int32(v);
    }
    writer.ldelim();
    return writer;
  }
  PBAvatarModifierArea2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal11.default.Reader
        ? input
        : import_minimal11.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAvatarModifierArea();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.area = Vector3.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.excludeIds.push(reader.string());
          continue;
        case 3:
          if (tag === 24) {
            message.modifiers.push(reader.int32());
            continue;
          }
          if (tag === 26) {
            const end2 = reader.uint32() + reader.pos;
            while (reader.pos < end2) {
              message.modifiers.push(reader.int32());
            }
            continue;
          }
          break;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAvatarModifierArea2.decode = decode;
})(PBAvatarModifierArea || (PBAvatarModifierArea = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/AvatarModifierArea.gen.js
var AvatarModifierAreaSchema = {
  COMPONENT_ID: 1070,
  serialize(value, builder) {
    const writer = PBAvatarModifierArea.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBAvatarModifierArea.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAvatarModifierArea.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBAvatarModifierArea',
  },
};

// ../../node_modules/.pnpm/long@5.3.2/node_modules/long/index.js
var wasm = null;
try {
  wasm = new WebAssembly.Instance(
    new WebAssembly.Module(
      new Uint8Array([
        // \0asm
        0, 97, 115, 109,
        // version 1
        1, 0, 0, 0,
        // section "type"
        1, 13, 2,
        // 0, () => i32
        96, 0, 1, 127,
        // 1, (i32, i32, i32, i32) => i32
        96, 4, 127, 127, 127, 127, 1, 127,
        // section "function"
        3, 7, 6,
        // 0, type 0
        0,
        // 1, type 1
        1,
        // 2, type 1
        1,
        // 3, type 1
        1,
        // 4, type 1
        1,
        // 5, type 1
        1,
        // section "global"
        6, 6, 1,
        // 0, "high", mutable i32
        127, 1, 65, 0, 11,
        // section "export"
        7, 50, 6,
        // 0, "mul"
        3, 109, 117, 108, 0, 1,
        // 1, "div_s"
        5, 100, 105, 118, 95, 115, 0, 2,
        // 2, "div_u"
        5, 100, 105, 118, 95, 117, 0, 3,
        // 3, "rem_s"
        5, 114, 101, 109, 95, 115, 0, 4,
        // 4, "rem_u"
        5, 114, 101, 109, 95, 117, 0, 5,
        // 5, "get_high"
        8, 103, 101, 116, 95, 104, 105, 103, 104, 0, 0,
        // section "code"
        10, 191, 1, 6,
        // 0, "get_high"
        4, 0, 35, 0, 11,
        // 1, "mul"
        36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32,
        134, 132, 126, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11,
        // 2, "div_s"
        36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32,
        134, 132, 127, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11,
        // 3, "div_u"
        36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32,
        134, 132, 128, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11,
        // 4, "rem_s"
        36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32,
        134, 132, 129, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11,
        // 5, "rem_u"
        36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32,
        134, 132, 130, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11,
      ])
    ),
    {}
  ).exports;
} catch {}
function Long(low, high, unsigned) {
  this.low = low | 0;
  this.high = high | 0;
  this.unsigned = !!unsigned;
}
Long.prototype.__isLong__;
Object.defineProperty(Long.prototype, '__isLong__', { value: true });
function isLong(obj) {
  return (obj && obj['__isLong__']) === true;
}
function ctz32(value) {
  var c = Math.clz32(value & -value);
  return value ? 31 - c : c;
}
Long.isLong = isLong;
var INT_CACHE = {};
var UINT_CACHE = {};
function fromInt(value, unsigned) {
  var obj, cachedObj, cache;
  if (unsigned) {
    value >>>= 0;
    if ((cache = 0 <= value && value < 256)) {
      cachedObj = UINT_CACHE[value];
      if (cachedObj) return cachedObj;
    }
    obj = fromBits(value, 0, true);
    if (cache) UINT_CACHE[value] = obj;
    return obj;
  } else {
    value |= 0;
    if ((cache = -128 <= value && value < 128)) {
      cachedObj = INT_CACHE[value];
      if (cachedObj) return cachedObj;
    }
    obj = fromBits(value, value < 0 ? -1 : 0, false);
    if (cache) INT_CACHE[value] = obj;
    return obj;
  }
}
Long.fromInt = fromInt;
function fromNumber(value, unsigned) {
  if (isNaN(value)) return unsigned ? UZERO : ZERO;
  if (unsigned) {
    if (value < 0) return UZERO;
    if (value >= TWO_PWR_64_DBL) return MAX_UNSIGNED_VALUE;
  } else {
    if (value <= -TWO_PWR_63_DBL) return MIN_VALUE;
    if (value + 1 >= TWO_PWR_63_DBL) return MAX_VALUE;
  }
  if (value < 0) return fromNumber(-value, unsigned).neg();
  return fromBits((value % TWO_PWR_32_DBL) | 0, (value / TWO_PWR_32_DBL) | 0, unsigned);
}
Long.fromNumber = fromNumber;
function fromBits(lowBits, highBits, unsigned) {
  return new Long(lowBits, highBits, unsigned);
}
Long.fromBits = fromBits;
var pow_dbl = Math.pow;
function fromString(str, unsigned, radix) {
  if (str.length === 0) throw Error('empty string');
  if (typeof unsigned === 'number') {
    radix = unsigned;
    unsigned = false;
  } else {
    unsigned = !!unsigned;
  }
  if (str === 'NaN' || str === 'Infinity' || str === '+Infinity' || str === '-Infinity')
    return unsigned ? UZERO : ZERO;
  radix = radix || 10;
  if (radix < 2 || 36 < radix) throw RangeError('radix');
  var p;
  if ((p = str.indexOf('-')) > 0) throw Error('interior hyphen');
  else if (p === 0) {
    return fromString(str.substring(1), unsigned, radix).neg();
  }
  var radixToPower = fromNumber(pow_dbl(radix, 8));
  var result = ZERO;
  for (var i = 0; i < str.length; i += 8) {
    var size = Math.min(8, str.length - i),
      value = parseInt(str.substring(i, i + size), radix);
    if (size < 8) {
      var power = fromNumber(pow_dbl(radix, size));
      result = result.mul(power).add(fromNumber(value));
    } else {
      result = result.mul(radixToPower);
      result = result.add(fromNumber(value));
    }
  }
  result.unsigned = unsigned;
  return result;
}
Long.fromString = fromString;
function fromValue(val, unsigned) {
  if (typeof val === 'number') return fromNumber(val, unsigned);
  if (typeof val === 'string') return fromString(val, unsigned);
  return fromBits(val.low, val.high, typeof unsigned === 'boolean' ? unsigned : val.unsigned);
}
Long.fromValue = fromValue;
var TWO_PWR_16_DBL = 1 << 16;
var TWO_PWR_24_DBL = 1 << 24;
var TWO_PWR_32_DBL = TWO_PWR_16_DBL * TWO_PWR_16_DBL;
var TWO_PWR_64_DBL = TWO_PWR_32_DBL * TWO_PWR_32_DBL;
var TWO_PWR_63_DBL = TWO_PWR_64_DBL / 2;
var TWO_PWR_24 = fromInt(TWO_PWR_24_DBL);
var ZERO = fromInt(0);
Long.ZERO = ZERO;
var UZERO = fromInt(0, true);
Long.UZERO = UZERO;
var ONE = fromInt(1);
Long.ONE = ONE;
var UONE = fromInt(1, true);
Long.UONE = UONE;
var NEG_ONE = fromInt(-1);
Long.NEG_ONE = NEG_ONE;
var MAX_VALUE = fromBits(4294967295 | 0, 2147483647 | 0, false);
Long.MAX_VALUE = MAX_VALUE;
var MAX_UNSIGNED_VALUE = fromBits(4294967295 | 0, 4294967295 | 0, true);
Long.MAX_UNSIGNED_VALUE = MAX_UNSIGNED_VALUE;
var MIN_VALUE = fromBits(0, 2147483648 | 0, false);
Long.MIN_VALUE = MIN_VALUE;
var LongPrototype = Long.prototype;
LongPrototype.toInt = function toInt() {
  return this.unsigned ? this.low >>> 0 : this.low;
};
LongPrototype.toNumber = function toNumber() {
  if (this.unsigned) return (this.high >>> 0) * TWO_PWR_32_DBL + (this.low >>> 0);
  return this.high * TWO_PWR_32_DBL + (this.low >>> 0);
};
LongPrototype.toString = function toString(radix) {
  radix = radix || 10;
  if (radix < 2 || 36 < radix) throw RangeError('radix');
  if (this.isZero()) return '0';
  if (this.isNegative()) {
    if (this.eq(MIN_VALUE)) {
      var radixLong = fromNumber(radix),
        div = this.div(radixLong),
        rem1 = div.mul(radixLong).sub(this);
      return div.toString(radix) + rem1.toInt().toString(radix);
    } else return '-' + this.neg().toString(radix);
  }
  var radixToPower = fromNumber(pow_dbl(radix, 6), this.unsigned),
    rem = this;
  var result = '';
  while (true) {
    var remDiv = rem.div(radixToPower),
      intval = rem.sub(remDiv.mul(radixToPower)).toInt() >>> 0,
      digits = intval.toString(radix);
    rem = remDiv;
    if (rem.isZero()) return digits + result;
    else {
      while (digits.length < 6) digits = '0' + digits;
      result = '' + digits + result;
    }
  }
};
LongPrototype.getHighBits = function getHighBits() {
  return this.high;
};
LongPrototype.getHighBitsUnsigned = function getHighBitsUnsigned() {
  return this.high >>> 0;
};
LongPrototype.getLowBits = function getLowBits() {
  return this.low;
};
LongPrototype.getLowBitsUnsigned = function getLowBitsUnsigned() {
  return this.low >>> 0;
};
LongPrototype.getNumBitsAbs = function getNumBitsAbs() {
  if (this.isNegative()) return this.eq(MIN_VALUE) ? 64 : this.neg().getNumBitsAbs();
  var val = this.high != 0 ? this.high : this.low;
  for (var bit = 31; bit > 0; bit--) if ((val & (1 << bit)) != 0) break;
  return this.high != 0 ? bit + 33 : bit + 1;
};
LongPrototype.isSafeInteger = function isSafeInteger() {
  var top11Bits = this.high >> 21;
  if (!top11Bits) return true;
  if (this.unsigned) return false;
  return top11Bits === -1 && !(this.low === 0 && this.high === -2097152);
};
LongPrototype.isZero = function isZero() {
  return this.high === 0 && this.low === 0;
};
LongPrototype.eqz = LongPrototype.isZero;
LongPrototype.isNegative = function isNegative() {
  return !this.unsigned && this.high < 0;
};
LongPrototype.isPositive = function isPositive() {
  return this.unsigned || this.high >= 0;
};
LongPrototype.isOdd = function isOdd() {
  return (this.low & 1) === 1;
};
LongPrototype.isEven = function isEven() {
  return (this.low & 1) === 0;
};
LongPrototype.equals = function equals(other) {
  if (!isLong(other)) other = fromValue(other);
  if (this.unsigned !== other.unsigned && this.high >>> 31 === 1 && other.high >>> 31 === 1)
    return false;
  return this.high === other.high && this.low === other.low;
};
LongPrototype.eq = LongPrototype.equals;
LongPrototype.notEquals = function notEquals(other) {
  return !this.eq(
    /* validates */
    other
  );
};
LongPrototype.neq = LongPrototype.notEquals;
LongPrototype.ne = LongPrototype.notEquals;
LongPrototype.lessThan = function lessThan(other) {
  return (
    this.comp(
      /* validates */
      other
    ) < 0
  );
};
LongPrototype.lt = LongPrototype.lessThan;
LongPrototype.lessThanOrEqual = function lessThanOrEqual(other) {
  return (
    this.comp(
      /* validates */
      other
    ) <= 0
  );
};
LongPrototype.lte = LongPrototype.lessThanOrEqual;
LongPrototype.le = LongPrototype.lessThanOrEqual;
LongPrototype.greaterThan = function greaterThan(other) {
  return (
    this.comp(
      /* validates */
      other
    ) > 0
  );
};
LongPrototype.gt = LongPrototype.greaterThan;
LongPrototype.greaterThanOrEqual = function greaterThanOrEqual(other) {
  return (
    this.comp(
      /* validates */
      other
    ) >= 0
  );
};
LongPrototype.gte = LongPrototype.greaterThanOrEqual;
LongPrototype.ge = LongPrototype.greaterThanOrEqual;
LongPrototype.compare = function compare(other) {
  if (!isLong(other)) other = fromValue(other);
  if (this.eq(other)) return 0;
  var thisNeg = this.isNegative(),
    otherNeg = other.isNegative();
  if (thisNeg && !otherNeg) return -1;
  if (!thisNeg && otherNeg) return 1;
  if (!this.unsigned) return this.sub(other).isNegative() ? -1 : 1;
  return other.high >>> 0 > this.high >>> 0 ||
    (other.high === this.high && other.low >>> 0 > this.low >>> 0)
    ? -1
    : 1;
};
LongPrototype.comp = LongPrototype.compare;
LongPrototype.negate = function negate() {
  if (!this.unsigned && this.eq(MIN_VALUE)) return MIN_VALUE;
  return this.not().add(ONE);
};
LongPrototype.neg = LongPrototype.negate;
LongPrototype.add = function add(addend) {
  if (!isLong(addend)) addend = fromValue(addend);
  var a48 = this.high >>> 16;
  var a32 = this.high & 65535;
  var a16 = this.low >>> 16;
  var a00 = this.low & 65535;
  var b48 = addend.high >>> 16;
  var b32 = addend.high & 65535;
  var b16 = addend.low >>> 16;
  var b00 = addend.low & 65535;
  var c48 = 0,
    c32 = 0,
    c16 = 0,
    c00 = 0;
  c00 += a00 + b00;
  c16 += c00 >>> 16;
  c00 &= 65535;
  c16 += a16 + b16;
  c32 += c16 >>> 16;
  c16 &= 65535;
  c32 += a32 + b32;
  c48 += c32 >>> 16;
  c32 &= 65535;
  c48 += a48 + b48;
  c48 &= 65535;
  return fromBits((c16 << 16) | c00, (c48 << 16) | c32, this.unsigned);
};
LongPrototype.subtract = function subtract(subtrahend) {
  if (!isLong(subtrahend)) subtrahend = fromValue(subtrahend);
  return this.add(subtrahend.neg());
};
LongPrototype.sub = LongPrototype.subtract;
LongPrototype.multiply = function multiply(multiplier) {
  if (this.isZero()) return this;
  if (!isLong(multiplier)) multiplier = fromValue(multiplier);
  if (wasm) {
    var low = wasm['mul'](this.low, this.high, multiplier.low, multiplier.high);
    return fromBits(low, wasm['get_high'](), this.unsigned);
  }
  if (multiplier.isZero()) return this.unsigned ? UZERO : ZERO;
  if (this.eq(MIN_VALUE)) return multiplier.isOdd() ? MIN_VALUE : ZERO;
  if (multiplier.eq(MIN_VALUE)) return this.isOdd() ? MIN_VALUE : ZERO;
  if (this.isNegative()) {
    if (multiplier.isNegative()) return this.neg().mul(multiplier.neg());
    else return this.neg().mul(multiplier).neg();
  } else if (multiplier.isNegative()) return this.mul(multiplier.neg()).neg();
  if (this.lt(TWO_PWR_24) && multiplier.lt(TWO_PWR_24))
    return fromNumber(this.toNumber() * multiplier.toNumber(), this.unsigned);
  var a48 = this.high >>> 16;
  var a32 = this.high & 65535;
  var a16 = this.low >>> 16;
  var a00 = this.low & 65535;
  var b48 = multiplier.high >>> 16;
  var b32 = multiplier.high & 65535;
  var b16 = multiplier.low >>> 16;
  var b00 = multiplier.low & 65535;
  var c48 = 0,
    c32 = 0,
    c16 = 0,
    c00 = 0;
  c00 += a00 * b00;
  c16 += c00 >>> 16;
  c00 &= 65535;
  c16 += a16 * b00;
  c32 += c16 >>> 16;
  c16 &= 65535;
  c16 += a00 * b16;
  c32 += c16 >>> 16;
  c16 &= 65535;
  c32 += a32 * b00;
  c48 += c32 >>> 16;
  c32 &= 65535;
  c32 += a16 * b16;
  c48 += c32 >>> 16;
  c32 &= 65535;
  c32 += a00 * b32;
  c48 += c32 >>> 16;
  c32 &= 65535;
  c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;
  c48 &= 65535;
  return fromBits((c16 << 16) | c00, (c48 << 16) | c32, this.unsigned);
};
LongPrototype.mul = LongPrototype.multiply;
LongPrototype.divide = function divide(divisor) {
  if (!isLong(divisor)) divisor = fromValue(divisor);
  if (divisor.isZero()) throw Error('division by zero');
  if (wasm) {
    if (!this.unsigned && this.high === -2147483648 && divisor.low === -1 && divisor.high === -1) {
      return this;
    }
    var low = (this.unsigned ? wasm['div_u'] : wasm['div_s'])(
      this.low,
      this.high,
      divisor.low,
      divisor.high
    );
    return fromBits(low, wasm['get_high'](), this.unsigned);
  }
  if (this.isZero()) return this.unsigned ? UZERO : ZERO;
  var approx, rem, res;
  if (!this.unsigned) {
    if (this.eq(MIN_VALUE)) {
      if (divisor.eq(ONE) || divisor.eq(NEG_ONE)) return MIN_VALUE;
      else if (divisor.eq(MIN_VALUE)) return ONE;
      else {
        var halfThis = this.shr(1);
        approx = halfThis.div(divisor).shl(1);
        if (approx.eq(ZERO)) {
          return divisor.isNegative() ? ONE : NEG_ONE;
        } else {
          rem = this.sub(divisor.mul(approx));
          res = approx.add(rem.div(divisor));
          return res;
        }
      }
    } else if (divisor.eq(MIN_VALUE)) return this.unsigned ? UZERO : ZERO;
    if (this.isNegative()) {
      if (divisor.isNegative()) return this.neg().div(divisor.neg());
      return this.neg().div(divisor).neg();
    } else if (divisor.isNegative()) return this.div(divisor.neg()).neg();
    res = ZERO;
  } else {
    if (!divisor.unsigned) divisor = divisor.toUnsigned();
    if (divisor.gt(this)) return UZERO;
    if (divisor.gt(this.shru(1))) return UONE;
    res = UZERO;
  }
  rem = this;
  while (rem.gte(divisor)) {
    approx = Math.max(1, Math.floor(rem.toNumber() / divisor.toNumber()));
    var log2 = Math.ceil(Math.log(approx) / Math.LN2),
      delta = log2 <= 48 ? 1 : pow_dbl(2, log2 - 48),
      approxRes = fromNumber(approx),
      approxRem = approxRes.mul(divisor);
    while (approxRem.isNegative() || approxRem.gt(rem)) {
      approx -= delta;
      approxRes = fromNumber(approx, this.unsigned);
      approxRem = approxRes.mul(divisor);
    }
    if (approxRes.isZero()) approxRes = ONE;
    res = res.add(approxRes);
    rem = rem.sub(approxRem);
  }
  return res;
};
LongPrototype.div = LongPrototype.divide;
LongPrototype.modulo = function modulo(divisor) {
  if (!isLong(divisor)) divisor = fromValue(divisor);
  if (wasm) {
    var low = (this.unsigned ? wasm['rem_u'] : wasm['rem_s'])(
      this.low,
      this.high,
      divisor.low,
      divisor.high
    );
    return fromBits(low, wasm['get_high'](), this.unsigned);
  }
  return this.sub(this.div(divisor).mul(divisor));
};
LongPrototype.mod = LongPrototype.modulo;
LongPrototype.rem = LongPrototype.modulo;
LongPrototype.not = function not() {
  return fromBits(~this.low, ~this.high, this.unsigned);
};
LongPrototype.countLeadingZeros = function countLeadingZeros() {
  return this.high ? Math.clz32(this.high) : Math.clz32(this.low) + 32;
};
LongPrototype.clz = LongPrototype.countLeadingZeros;
LongPrototype.countTrailingZeros = function countTrailingZeros() {
  return this.low ? ctz32(this.low) : ctz32(this.high) + 32;
};
LongPrototype.ctz = LongPrototype.countTrailingZeros;
LongPrototype.and = function and(other) {
  if (!isLong(other)) other = fromValue(other);
  return fromBits(this.low & other.low, this.high & other.high, this.unsigned);
};
LongPrototype.or = function or(other) {
  if (!isLong(other)) other = fromValue(other);
  return fromBits(this.low | other.low, this.high | other.high, this.unsigned);
};
LongPrototype.xor = function xor(other) {
  if (!isLong(other)) other = fromValue(other);
  return fromBits(this.low ^ other.low, this.high ^ other.high, this.unsigned);
};
LongPrototype.shiftLeft = function shiftLeft(numBits) {
  if (isLong(numBits)) numBits = numBits.toInt();
  if ((numBits &= 63) === 0) return this;
  else if (numBits < 32)
    return fromBits(
      this.low << numBits,
      (this.high << numBits) | (this.low >>> (32 - numBits)),
      this.unsigned
    );
  else return fromBits(0, this.low << (numBits - 32), this.unsigned);
};
LongPrototype.shl = LongPrototype.shiftLeft;
LongPrototype.shiftRight = function shiftRight(numBits) {
  if (isLong(numBits)) numBits = numBits.toInt();
  if ((numBits &= 63) === 0) return this;
  else if (numBits < 32)
    return fromBits(
      (this.low >>> numBits) | (this.high << (32 - numBits)),
      this.high >> numBits,
      this.unsigned
    );
  else return fromBits(this.high >> (numBits - 32), this.high >= 0 ? 0 : -1, this.unsigned);
};
LongPrototype.shr = LongPrototype.shiftRight;
LongPrototype.shiftRightUnsigned = function shiftRightUnsigned(numBits) {
  if (isLong(numBits)) numBits = numBits.toInt();
  if ((numBits &= 63) === 0) return this;
  if (numBits < 32)
    return fromBits(
      (this.low >>> numBits) | (this.high << (32 - numBits)),
      this.high >>> numBits,
      this.unsigned
    );
  if (numBits === 32) return fromBits(this.high, 0, this.unsigned);
  return fromBits(this.high >>> (numBits - 32), 0, this.unsigned);
};
LongPrototype.shru = LongPrototype.shiftRightUnsigned;
LongPrototype.shr_u = LongPrototype.shiftRightUnsigned;
LongPrototype.rotateLeft = function rotateLeft(numBits) {
  var b;
  if (isLong(numBits)) numBits = numBits.toInt();
  if ((numBits &= 63) === 0) return this;
  if (numBits === 32) return fromBits(this.high, this.low, this.unsigned);
  if (numBits < 32) {
    b = 32 - numBits;
    return fromBits(
      (this.low << numBits) | (this.high >>> b),
      (this.high << numBits) | (this.low >>> b),
      this.unsigned
    );
  }
  numBits -= 32;
  b = 32 - numBits;
  return fromBits(
    (this.high << numBits) | (this.low >>> b),
    (this.low << numBits) | (this.high >>> b),
    this.unsigned
  );
};
LongPrototype.rotl = LongPrototype.rotateLeft;
LongPrototype.rotateRight = function rotateRight(numBits) {
  var b;
  if (isLong(numBits)) numBits = numBits.toInt();
  if ((numBits &= 63) === 0) return this;
  if (numBits === 32) return fromBits(this.high, this.low, this.unsigned);
  if (numBits < 32) {
    b = 32 - numBits;
    return fromBits(
      (this.high << b) | (this.low >>> numBits),
      (this.low << b) | (this.high >>> numBits),
      this.unsigned
    );
  }
  numBits -= 32;
  b = 32 - numBits;
  return fromBits(
    (this.low << b) | (this.high >>> numBits),
    (this.high << b) | (this.low >>> numBits),
    this.unsigned
  );
};
LongPrototype.rotr = LongPrototype.rotateRight;
LongPrototype.toSigned = function toSigned() {
  if (!this.unsigned) return this;
  return fromBits(this.low, this.high, false);
};
LongPrototype.toUnsigned = function toUnsigned() {
  if (this.unsigned) return this;
  return fromBits(this.low, this.high, true);
};
LongPrototype.toBytes = function toBytes(le) {
  return le ? this.toBytesLE() : this.toBytesBE();
};
LongPrototype.toBytesLE = function toBytesLE() {
  var hi = this.high,
    lo = this.low;
  return [
    lo & 255,
    (lo >>> 8) & 255,
    (lo >>> 16) & 255,
    lo >>> 24,
    hi & 255,
    (hi >>> 8) & 255,
    (hi >>> 16) & 255,
    hi >>> 24,
  ];
};
LongPrototype.toBytesBE = function toBytesBE() {
  var hi = this.high,
    lo = this.low;
  return [
    hi >>> 24,
    (hi >>> 16) & 255,
    (hi >>> 8) & 255,
    hi & 255,
    lo >>> 24,
    (lo >>> 16) & 255,
    (lo >>> 8) & 255,
    lo & 255,
  ];
};
Long.fromBytes = function fromBytes(bytes, unsigned, le) {
  return le ? Long.fromBytesLE(bytes, unsigned) : Long.fromBytesBE(bytes, unsigned);
};
Long.fromBytesLE = function fromBytesLE(bytes, unsigned) {
  return new Long(
    bytes[0] | (bytes[1] << 8) | (bytes[2] << 16) | (bytes[3] << 24),
    bytes[4] | (bytes[5] << 8) | (bytes[6] << 16) | (bytes[7] << 24),
    unsigned
  );
};
Long.fromBytesBE = function fromBytesBE(bytes, unsigned) {
  return new Long(
    (bytes[4] << 24) | (bytes[5] << 16) | (bytes[6] << 8) | bytes[7],
    (bytes[0] << 24) | (bytes[1] << 16) | (bytes[2] << 8) | bytes[3],
    unsigned
  );
};
if (typeof BigInt === 'function') {
  Long.fromBigInt = function fromBigInt(value, unsigned) {
    var lowBits = Number(BigInt.asIntN(32, value));
    var highBits = Number(BigInt.asIntN(32, value >> BigInt(32)));
    return fromBits(lowBits, highBits, unsigned);
  };
  Long.fromValue = function fromValueWithBigInt(value, unsigned) {
    if (typeof value === 'bigint') return Long.fromBigInt(value, unsigned);
    return fromValue(value, unsigned);
  };
  LongPrototype.toBigInt = function toBigInt() {
    var lowBigInt = BigInt(this.low >>> 0);
    var highBigInt = BigInt(this.unsigned ? this.high >>> 0 : this.high);
    return (highBigInt << BigInt(32)) | lowBigInt;
  };
}
var long_default = Long;

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_shape.gen.js
var import_minimal12 = __toESM(require_minimal2());
function createBasePBAvatarShape() {
  return {
    id: '',
    name: void 0,
    bodyShape: void 0,
    skinColor: void 0,
    hairColor: void 0,
    eyeColor: void 0,
    expressionTriggerId: void 0,
    expressionTriggerTimestamp: void 0,
    talking: void 0,
    wearables: [],
    emotes: [],
    showOnlyWearables: void 0,
  };
}
var PBAvatarShape;
(function (PBAvatarShape2) {
  function encode(message, writer = import_minimal12.default.Writer.create()) {
    if (message.id !== '') {
      writer.uint32(10).string(message.id);
    }
    if (message.name !== void 0) {
      writer.uint32(18).string(message.name);
    }
    if (message.bodyShape !== void 0) {
      writer.uint32(26).string(message.bodyShape);
    }
    if (message.skinColor !== void 0) {
      Color3.encode(message.skinColor, writer.uint32(34).fork()).ldelim();
    }
    if (message.hairColor !== void 0) {
      Color3.encode(message.hairColor, writer.uint32(42).fork()).ldelim();
    }
    if (message.eyeColor !== void 0) {
      Color3.encode(message.eyeColor, writer.uint32(50).fork()).ldelim();
    }
    if (message.expressionTriggerId !== void 0) {
      writer.uint32(58).string(message.expressionTriggerId);
    }
    if (message.expressionTriggerTimestamp !== void 0) {
      writer.uint32(64).int64(message.expressionTriggerTimestamp);
    }
    if (message.talking !== void 0) {
      writer.uint32(72).bool(message.talking);
    }
    for (const v of message.wearables) {
      writer.uint32(82).string(v);
    }
    for (const v of message.emotes) {
      writer.uint32(90).string(v);
    }
    if (message.showOnlyWearables !== void 0) {
      writer.uint32(96).bool(message.showOnlyWearables);
    }
    return writer;
  }
  PBAvatarShape2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal12.default.Reader
        ? input
        : import_minimal12.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAvatarShape();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.id = reader.string();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.name = reader.string();
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.bodyShape = reader.string();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.skinColor = Color3.decode(reader, reader.uint32());
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.hairColor = Color3.decode(reader, reader.uint32());
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.eyeColor = Color3.decode(reader, reader.uint32());
          continue;
        case 7:
          if (tag !== 58) {
            break;
          }
          message.expressionTriggerId = reader.string();
          continue;
        case 8:
          if (tag !== 64) {
            break;
          }
          message.expressionTriggerTimestamp = longToNumber(reader.int64());
          continue;
        case 9:
          if (tag !== 72) {
            break;
          }
          message.talking = reader.bool();
          continue;
        case 10:
          if (tag !== 82) {
            break;
          }
          message.wearables.push(reader.string());
          continue;
        case 11:
          if (tag !== 90) {
            break;
          }
          message.emotes.push(reader.string());
          continue;
        case 12:
          if (tag !== 96) {
            break;
          }
          message.showOnlyWearables = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAvatarShape2.decode = decode;
})(PBAvatarShape || (PBAvatarShape = {}));
var tsProtoGlobalThis = (() => {
  if (typeof globalThis !== 'undefined') {
    return globalThis;
  }
  if (typeof self !== 'undefined') {
    return self;
  }
  if (false) {
    return void 0;
  }
  if (typeof global !== 'undefined') {
    return global;
  }
  throw 'Unable to locate global object';
})();
function longToNumber(long) {
  if (long.gt(Number.MAX_SAFE_INTEGER)) {
    throw new tsProtoGlobalThis.Error('Value is larger than Number.MAX_SAFE_INTEGER');
  }
  return long.toNumber();
}
if (import_minimal12.default.util.Long !== long_default) {
  import_minimal12.default.util.Long = long_default;
  import_minimal12.default.configure();
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/AvatarShape.gen.js
var AvatarShapeSchema = {
  COMPONENT_ID: 1080,
  serialize(value, builder) {
    const writer = PBAvatarShape.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBAvatarShape.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAvatarShape.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBAvatarShape',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/billboard.gen.js
var import_minimal13 = __toESM(require_minimal2());
var BillboardMode;
(function (BillboardMode2) {
  BillboardMode2[(BillboardMode2['BM_NONE'] = 0)] = 'BM_NONE';
  BillboardMode2[(BillboardMode2['BM_X'] = 1)] = 'BM_X';
  BillboardMode2[(BillboardMode2['BM_Y'] = 2)] = 'BM_Y';
  BillboardMode2[(BillboardMode2['BM_Z'] = 4)] = 'BM_Z';
  BillboardMode2[(BillboardMode2['BM_ALL'] = 7)] = 'BM_ALL';
})(BillboardMode || (BillboardMode = {}));
function createBasePBBillboard() {
  return { billboardMode: void 0 };
}
var PBBillboard;
(function (PBBillboard2) {
  function encode(message, writer = import_minimal13.default.Writer.create()) {
    if (message.billboardMode !== void 0) {
      writer.uint32(8).int32(message.billboardMode);
    }
    return writer;
  }
  PBBillboard2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal13.default.Reader
        ? input
        : import_minimal13.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBBillboard();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.billboardMode = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBBillboard2.decode = decode;
})(PBBillboard || (PBBillboard = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/Billboard.gen.js
var BillboardSchema = {
  COMPONENT_ID: 1090,
  serialize(value, builder) {
    const writer = PBBillboard.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBBillboard.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBBillboard.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBBillboard',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/camera_mode.gen.js
var import_minimal14 = __toESM(require_minimal2());
function createBasePBCameraMode() {
  return { mode: 0 };
}
var PBCameraMode;
(function (PBCameraMode2) {
  function encode(message, writer = import_minimal14.default.Writer.create()) {
    if (message.mode !== 0) {
      writer.uint32(8).int32(message.mode);
    }
    return writer;
  }
  PBCameraMode2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal14.default.Reader
        ? input
        : import_minimal14.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBCameraMode();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.mode = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBCameraMode2.decode = decode;
})(PBCameraMode || (PBCameraMode = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/CameraMode.gen.js
var CameraModeSchema = {
  COMPONENT_ID: 1072,
  serialize(value, builder) {
    const writer = PBCameraMode.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBCameraMode.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBCameraMode.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBCameraMode',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/camera_mode_area.gen.js
var import_minimal15 = __toESM(require_minimal2());
function createBasePBCameraModeArea() {
  return { area: void 0, mode: 0 };
}
var PBCameraModeArea;
(function (PBCameraModeArea2) {
  function encode(message, writer = import_minimal15.default.Writer.create()) {
    if (message.area !== void 0) {
      Vector3.encode(message.area, writer.uint32(10).fork()).ldelim();
    }
    if (message.mode !== 0) {
      writer.uint32(16).int32(message.mode);
    }
    return writer;
  }
  PBCameraModeArea2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal15.default.Reader
        ? input
        : import_minimal15.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBCameraModeArea();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.area = Vector3.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.mode = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBCameraModeArea2.decode = decode;
})(PBCameraModeArea || (PBCameraModeArea = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/CameraModeArea.gen.js
var CameraModeAreaSchema = {
  COMPONENT_ID: 1071,
  serialize(value, builder) {
    const writer = PBCameraModeArea.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBCameraModeArea.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBCameraModeArea.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBCameraModeArea',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/engine_info.gen.js
var import_minimal16 = __toESM(require_minimal2());
function createBasePBEngineInfo() {
  return { frameNumber: 0, totalRuntime: 0, tickNumber: 0 };
}
var PBEngineInfo;
(function (PBEngineInfo2) {
  function encode(message, writer = import_minimal16.default.Writer.create()) {
    if (message.frameNumber !== 0) {
      writer.uint32(8).uint32(message.frameNumber);
    }
    if (message.totalRuntime !== 0) {
      writer.uint32(21).float(message.totalRuntime);
    }
    if (message.tickNumber !== 0) {
      writer.uint32(24).uint32(message.tickNumber);
    }
    return writer;
  }
  PBEngineInfo2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal16.default.Reader
        ? input
        : import_minimal16.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBEngineInfo();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.frameNumber = reader.uint32();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.totalRuntime = reader.float();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.tickNumber = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBEngineInfo2.decode = decode;
})(PBEngineInfo || (PBEngineInfo = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/EngineInfo.gen.js
var EngineInfoSchema = {
  COMPONENT_ID: 1048,
  serialize(value, builder) {
    const writer = PBEngineInfo.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBEngineInfo.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBEngineInfo.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBEngineInfo',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/gltf_container.gen.js
var import_minimal17 = __toESM(require_minimal2());
function createBasePBGltfContainer() {
  return { src: '', visibleMeshesCollisionMask: void 0, invisibleMeshesCollisionMask: void 0 };
}
var PBGltfContainer;
(function (PBGltfContainer2) {
  function encode(message, writer = import_minimal17.default.Writer.create()) {
    if (message.src !== '') {
      writer.uint32(10).string(message.src);
    }
    if (message.visibleMeshesCollisionMask !== void 0) {
      writer.uint32(32).uint32(message.visibleMeshesCollisionMask);
    }
    if (message.invisibleMeshesCollisionMask !== void 0) {
      writer.uint32(40).uint32(message.invisibleMeshesCollisionMask);
    }
    return writer;
  }
  PBGltfContainer2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal17.default.Reader
        ? input
        : import_minimal17.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBGltfContainer();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.src = reader.string();
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.visibleMeshesCollisionMask = reader.uint32();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.invisibleMeshesCollisionMask = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBGltfContainer2.decode = decode;
})(PBGltfContainer || (PBGltfContainer = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/GltfContainer.gen.js
var GltfContainerSchema = {
  COMPONENT_ID: 1041,
  serialize(value, builder) {
    const writer = PBGltfContainer.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBGltfContainer.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBGltfContainer.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBGltfContainer',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/gltf_container_loading_state.gen.js
var import_minimal18 = __toESM(require_minimal2());
function createBasePBGltfContainerLoadingState() {
  return { currentState: 0 };
}
var PBGltfContainerLoadingState;
(function (PBGltfContainerLoadingState2) {
  function encode(message, writer = import_minimal18.default.Writer.create()) {
    if (message.currentState !== 0) {
      writer.uint32(8).int32(message.currentState);
    }
    return writer;
  }
  PBGltfContainerLoadingState2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal18.default.Reader
        ? input
        : import_minimal18.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBGltfContainerLoadingState();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.currentState = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBGltfContainerLoadingState2.decode = decode;
})(PBGltfContainerLoadingState || (PBGltfContainerLoadingState = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/GltfContainerLoadingState.gen.js
var GltfContainerLoadingStateSchema = {
  COMPONENT_ID: 1049,
  serialize(value, builder) {
    const writer = PBGltfContainerLoadingState.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBGltfContainerLoadingState.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBGltfContainerLoadingState.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBGltfContainerLoadingState',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/gltf_node_modifiers.gen.js
var import_minimal21 = __toESM(require_minimal2());

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/material.gen.js
var import_minimal20 = __toESM(require_minimal2());

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/common/texture.gen.js
var import_minimal19 = __toESM(require_minimal2());
var TextureWrapMode;
(function (TextureWrapMode2) {
  TextureWrapMode2[(TextureWrapMode2['TWM_REPEAT'] = 0)] = 'TWM_REPEAT';
  TextureWrapMode2[(TextureWrapMode2['TWM_CLAMP'] = 1)] = 'TWM_CLAMP';
  TextureWrapMode2[(TextureWrapMode2['TWM_MIRROR'] = 2)] = 'TWM_MIRROR';
})(TextureWrapMode || (TextureWrapMode = {}));
var TextureFilterMode;
(function (TextureFilterMode2) {
  TextureFilterMode2[(TextureFilterMode2['TFM_POINT'] = 0)] = 'TFM_POINT';
  TextureFilterMode2[(TextureFilterMode2['TFM_BILINEAR'] = 1)] = 'TFM_BILINEAR';
  TextureFilterMode2[(TextureFilterMode2['TFM_TRILINEAR'] = 2)] = 'TFM_TRILINEAR';
})(TextureFilterMode || (TextureFilterMode = {}));
function createBaseTexture() {
  return { src: '', wrapMode: void 0, filterMode: void 0, offset: void 0, tiling: void 0 };
}
var Texture;
(function (Texture2) {
  function encode(message, writer = import_minimal19.default.Writer.create()) {
    if (message.src !== '') {
      writer.uint32(10).string(message.src);
    }
    if (message.wrapMode !== void 0) {
      writer.uint32(16).int32(message.wrapMode);
    }
    if (message.filterMode !== void 0) {
      writer.uint32(24).int32(message.filterMode);
    }
    if (message.offset !== void 0) {
      Vector2.encode(message.offset, writer.uint32(34).fork()).ldelim();
    }
    if (message.tiling !== void 0) {
      Vector2.encode(message.tiling, writer.uint32(42).fork()).ldelim();
    }
    return writer;
  }
  Texture2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal19.default.Reader
        ? input
        : import_minimal19.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseTexture();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.src = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.wrapMode = reader.int32();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.filterMode = reader.int32();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.offset = Vector2.decode(reader, reader.uint32());
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.tiling = Vector2.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Texture2.decode = decode;
})(Texture || (Texture = {}));
function createBaseAvatarTexture() {
  return { userId: '', wrapMode: void 0, filterMode: void 0 };
}
var AvatarTexture;
(function (AvatarTexture2) {
  function encode(message, writer = import_minimal19.default.Writer.create()) {
    if (message.userId !== '') {
      writer.uint32(10).string(message.userId);
    }
    if (message.wrapMode !== void 0) {
      writer.uint32(16).int32(message.wrapMode);
    }
    if (message.filterMode !== void 0) {
      writer.uint32(24).int32(message.filterMode);
    }
    return writer;
  }
  AvatarTexture2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal19.default.Reader
        ? input
        : import_minimal19.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseAvatarTexture();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.userId = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.wrapMode = reader.int32();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.filterMode = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  AvatarTexture2.decode = decode;
})(AvatarTexture || (AvatarTexture = {}));
function createBaseVideoTexture() {
  return { videoPlayerEntity: 0, wrapMode: void 0, filterMode: void 0 };
}
var VideoTexture;
(function (VideoTexture2) {
  function encode(message, writer = import_minimal19.default.Writer.create()) {
    if (message.videoPlayerEntity !== 0) {
      writer.uint32(8).uint32(message.videoPlayerEntity);
    }
    if (message.wrapMode !== void 0) {
      writer.uint32(16).int32(message.wrapMode);
    }
    if (message.filterMode !== void 0) {
      writer.uint32(24).int32(message.filterMode);
    }
    return writer;
  }
  VideoTexture2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal19.default.Reader
        ? input
        : import_minimal19.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseVideoTexture();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.videoPlayerEntity = reader.uint32();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.wrapMode = reader.int32();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.filterMode = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  VideoTexture2.decode = decode;
})(VideoTexture || (VideoTexture = {}));
function createBaseTextureUnion() {
  return { tex: void 0 };
}
var TextureUnion;
(function (TextureUnion2) {
  function encode(message, writer = import_minimal19.default.Writer.create()) {
    switch (message.tex?.$case) {
      case 'texture':
        Texture.encode(message.tex.texture, writer.uint32(10).fork()).ldelim();
        break;
      case 'avatarTexture':
        AvatarTexture.encode(message.tex.avatarTexture, writer.uint32(18).fork()).ldelim();
        break;
      case 'videoTexture':
        VideoTexture.encode(message.tex.videoTexture, writer.uint32(26).fork()).ldelim();
        break;
    }
    return writer;
  }
  TextureUnion2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal19.default.Reader
        ? input
        : import_minimal19.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseTextureUnion();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.tex = { $case: 'texture', texture: Texture.decode(reader, reader.uint32()) };
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.tex = {
            $case: 'avatarTexture',
            avatarTexture: AvatarTexture.decode(reader, reader.uint32()),
          };
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.tex = {
            $case: 'videoTexture',
            videoTexture: VideoTexture.decode(reader, reader.uint32()),
          };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  TextureUnion2.decode = decode;
})(TextureUnion || (TextureUnion = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/material.gen.js
var MaterialTransparencyMode;
(function (MaterialTransparencyMode2) {
  MaterialTransparencyMode2[(MaterialTransparencyMode2['MTM_OPAQUE'] = 0)] = 'MTM_OPAQUE';
  MaterialTransparencyMode2[(MaterialTransparencyMode2['MTM_ALPHA_TEST'] = 1)] = 'MTM_ALPHA_TEST';
  MaterialTransparencyMode2[(MaterialTransparencyMode2['MTM_ALPHA_BLEND'] = 2)] = 'MTM_ALPHA_BLEND';
  MaterialTransparencyMode2[(MaterialTransparencyMode2['MTM_ALPHA_TEST_AND_ALPHA_BLEND'] = 3)] =
    'MTM_ALPHA_TEST_AND_ALPHA_BLEND';
  MaterialTransparencyMode2[(MaterialTransparencyMode2['MTM_AUTO'] = 4)] = 'MTM_AUTO';
})(MaterialTransparencyMode || (MaterialTransparencyMode = {}));
function createBasePBMaterial() {
  return { material: void 0 };
}
var PBMaterial;
(function (PBMaterial2) {
  function encode(message, writer = import_minimal20.default.Writer.create()) {
    switch (message.material?.$case) {
      case 'unlit':
        PBMaterial_UnlitMaterial.encode(message.material.unlit, writer.uint32(10).fork()).ldelim();
        break;
      case 'pbr':
        PBMaterial_PbrMaterial.encode(message.material.pbr, writer.uint32(18).fork()).ldelim();
        break;
    }
    return writer;
  }
  PBMaterial2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal20.default.Reader
        ? input
        : import_minimal20.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMaterial();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.material = {
            $case: 'unlit',
            unlit: PBMaterial_UnlitMaterial.decode(reader, reader.uint32()),
          };
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.material = {
            $case: 'pbr',
            pbr: PBMaterial_PbrMaterial.decode(reader, reader.uint32()),
          };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMaterial2.decode = decode;
})(PBMaterial || (PBMaterial = {}));
function createBasePBMaterial_UnlitMaterial() {
  return {
    texture: void 0,
    alphaTest: void 0,
    castShadows: void 0,
    diffuseColor: void 0,
    alphaTexture: void 0,
  };
}
var PBMaterial_UnlitMaterial;
(function (PBMaterial_UnlitMaterial2) {
  function encode(message, writer = import_minimal20.default.Writer.create()) {
    if (message.texture !== void 0) {
      TextureUnion.encode(message.texture, writer.uint32(10).fork()).ldelim();
    }
    if (message.alphaTest !== void 0) {
      writer.uint32(21).float(message.alphaTest);
    }
    if (message.castShadows !== void 0) {
      writer.uint32(24).bool(message.castShadows);
    }
    if (message.diffuseColor !== void 0) {
      Color4.encode(message.diffuseColor, writer.uint32(34).fork()).ldelim();
    }
    if (message.alphaTexture !== void 0) {
      TextureUnion.encode(message.alphaTexture, writer.uint32(42).fork()).ldelim();
    }
    return writer;
  }
  PBMaterial_UnlitMaterial2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal20.default.Reader
        ? input
        : import_minimal20.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMaterial_UnlitMaterial();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.texture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.alphaTest = reader.float();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.castShadows = reader.bool();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.diffuseColor = Color4.decode(reader, reader.uint32());
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.alphaTexture = TextureUnion.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMaterial_UnlitMaterial2.decode = decode;
})(PBMaterial_UnlitMaterial || (PBMaterial_UnlitMaterial = {}));
function createBasePBMaterial_PbrMaterial() {
  return {
    texture: void 0,
    alphaTest: void 0,
    castShadows: void 0,
    alphaTexture: void 0,
    emissiveTexture: void 0,
    bumpTexture: void 0,
    albedoColor: void 0,
    emissiveColor: void 0,
    reflectivityColor: void 0,
    transparencyMode: void 0,
    metallic: void 0,
    roughness: void 0,
    specularIntensity: void 0,
    emissiveIntensity: void 0,
    directIntensity: void 0,
  };
}
var PBMaterial_PbrMaterial;
(function (PBMaterial_PbrMaterial2) {
  function encode(message, writer = import_minimal20.default.Writer.create()) {
    if (message.texture !== void 0) {
      TextureUnion.encode(message.texture, writer.uint32(10).fork()).ldelim();
    }
    if (message.alphaTest !== void 0) {
      writer.uint32(21).float(message.alphaTest);
    }
    if (message.castShadows !== void 0) {
      writer.uint32(24).bool(message.castShadows);
    }
    if (message.alphaTexture !== void 0) {
      TextureUnion.encode(message.alphaTexture, writer.uint32(34).fork()).ldelim();
    }
    if (message.emissiveTexture !== void 0) {
      TextureUnion.encode(message.emissiveTexture, writer.uint32(42).fork()).ldelim();
    }
    if (message.bumpTexture !== void 0) {
      TextureUnion.encode(message.bumpTexture, writer.uint32(50).fork()).ldelim();
    }
    if (message.albedoColor !== void 0) {
      Color4.encode(message.albedoColor, writer.uint32(58).fork()).ldelim();
    }
    if (message.emissiveColor !== void 0) {
      Color3.encode(message.emissiveColor, writer.uint32(66).fork()).ldelim();
    }
    if (message.reflectivityColor !== void 0) {
      Color3.encode(message.reflectivityColor, writer.uint32(74).fork()).ldelim();
    }
    if (message.transparencyMode !== void 0) {
      writer.uint32(80).int32(message.transparencyMode);
    }
    if (message.metallic !== void 0) {
      writer.uint32(93).float(message.metallic);
    }
    if (message.roughness !== void 0) {
      writer.uint32(101).float(message.roughness);
    }
    if (message.specularIntensity !== void 0) {
      writer.uint32(117).float(message.specularIntensity);
    }
    if (message.emissiveIntensity !== void 0) {
      writer.uint32(125).float(message.emissiveIntensity);
    }
    if (message.directIntensity !== void 0) {
      writer.uint32(133).float(message.directIntensity);
    }
    return writer;
  }
  PBMaterial_PbrMaterial2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal20.default.Reader
        ? input
        : import_minimal20.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMaterial_PbrMaterial();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.texture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.alphaTest = reader.float();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.castShadows = reader.bool();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.alphaTexture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.emissiveTexture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.bumpTexture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 7:
          if (tag !== 58) {
            break;
          }
          message.albedoColor = Color4.decode(reader, reader.uint32());
          continue;
        case 8:
          if (tag !== 66) {
            break;
          }
          message.emissiveColor = Color3.decode(reader, reader.uint32());
          continue;
        case 9:
          if (tag !== 74) {
            break;
          }
          message.reflectivityColor = Color3.decode(reader, reader.uint32());
          continue;
        case 10:
          if (tag !== 80) {
            break;
          }
          message.transparencyMode = reader.int32();
          continue;
        case 11:
          if (tag !== 93) {
            break;
          }
          message.metallic = reader.float();
          continue;
        case 12:
          if (tag !== 101) {
            break;
          }
          message.roughness = reader.float();
          continue;
        case 14:
          if (tag !== 117) {
            break;
          }
          message.specularIntensity = reader.float();
          continue;
        case 15:
          if (tag !== 125) {
            break;
          }
          message.emissiveIntensity = reader.float();
          continue;
        case 16:
          if (tag !== 133) {
            break;
          }
          message.directIntensity = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMaterial_PbrMaterial2.decode = decode;
})(PBMaterial_PbrMaterial || (PBMaterial_PbrMaterial = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/gltf_node_modifiers.gen.js
function createBasePBGltfNodeModifiers() {
  return { modifiers: [] };
}
var PBGltfNodeModifiers;
(function (PBGltfNodeModifiers2) {
  function encode(message, writer = import_minimal21.default.Writer.create()) {
    for (const v of message.modifiers) {
      PBGltfNodeModifiers_GltfNodeModifier.encode(v, writer.uint32(10).fork()).ldelim();
    }
    return writer;
  }
  PBGltfNodeModifiers2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal21.default.Reader
        ? input
        : import_minimal21.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBGltfNodeModifiers();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.modifiers.push(
            PBGltfNodeModifiers_GltfNodeModifier.decode(reader, reader.uint32())
          );
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBGltfNodeModifiers2.decode = decode;
})(PBGltfNodeModifiers || (PBGltfNodeModifiers = {}));
function createBasePBGltfNodeModifiers_GltfNodeModifier() {
  return { path: '', castShadows: void 0, material: void 0 };
}
var PBGltfNodeModifiers_GltfNodeModifier;
(function (PBGltfNodeModifiers_GltfNodeModifier2) {
  function encode(message, writer = import_minimal21.default.Writer.create()) {
    if (message.path !== '') {
      writer.uint32(10).string(message.path);
    }
    if (message.castShadows !== void 0) {
      writer.uint32(16).bool(message.castShadows);
    }
    if (message.material !== void 0) {
      PBMaterial.encode(message.material, writer.uint32(26).fork()).ldelim();
    }
    return writer;
  }
  PBGltfNodeModifiers_GltfNodeModifier2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal21.default.Reader
        ? input
        : import_minimal21.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBGltfNodeModifiers_GltfNodeModifier();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.path = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.castShadows = reader.bool();
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.material = PBMaterial.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBGltfNodeModifiers_GltfNodeModifier2.decode = decode;
})(PBGltfNodeModifiers_GltfNodeModifier || (PBGltfNodeModifiers_GltfNodeModifier = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/GltfNodeModifiers.gen.js
var GltfNodeModifiersSchema = {
  COMPONENT_ID: 1099,
  serialize(value, builder) {
    const writer = PBGltfNodeModifiers.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBGltfNodeModifiers.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBGltfNodeModifiers.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBGltfNodeModifiers',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/input_modifier.gen.js
var import_minimal22 = __toESM(require_minimal2());
function createBasePBInputModifier() {
  return { mode: void 0 };
}
var PBInputModifier;
(function (PBInputModifier2) {
  function encode(message, writer = import_minimal22.default.Writer.create()) {
    switch (message.mode?.$case) {
      case 'standard':
        PBInputModifier_StandardInput.encode(
          message.mode.standard,
          writer.uint32(10).fork()
        ).ldelim();
        break;
    }
    return writer;
  }
  PBInputModifier2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal22.default.Reader
        ? input
        : import_minimal22.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBInputModifier();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.mode = {
            $case: 'standard',
            standard: PBInputModifier_StandardInput.decode(reader, reader.uint32()),
          };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBInputModifier2.decode = decode;
})(PBInputModifier || (PBInputModifier = {}));
function createBasePBInputModifier_StandardInput() {
  return {
    disableAll: void 0,
    disableWalk: void 0,
    disableJog: void 0,
    disableRun: void 0,
    disableJump: void 0,
    disableEmote: void 0,
  };
}
var PBInputModifier_StandardInput;
(function (PBInputModifier_StandardInput2) {
  function encode(message, writer = import_minimal22.default.Writer.create()) {
    if (message.disableAll !== void 0) {
      writer.uint32(8).bool(message.disableAll);
    }
    if (message.disableWalk !== void 0) {
      writer.uint32(16).bool(message.disableWalk);
    }
    if (message.disableJog !== void 0) {
      writer.uint32(24).bool(message.disableJog);
    }
    if (message.disableRun !== void 0) {
      writer.uint32(32).bool(message.disableRun);
    }
    if (message.disableJump !== void 0) {
      writer.uint32(40).bool(message.disableJump);
    }
    if (message.disableEmote !== void 0) {
      writer.uint32(48).bool(message.disableEmote);
    }
    return writer;
  }
  PBInputModifier_StandardInput2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal22.default.Reader
        ? input
        : import_minimal22.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBInputModifier_StandardInput();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.disableAll = reader.bool();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.disableWalk = reader.bool();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.disableJog = reader.bool();
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.disableRun = reader.bool();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.disableJump = reader.bool();
          continue;
        case 6:
          if (tag !== 48) {
            break;
          }
          message.disableEmote = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBInputModifier_StandardInput2.decode = decode;
})(PBInputModifier_StandardInput || (PBInputModifier_StandardInput = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/InputModifier.gen.js
var InputModifierSchema = {
  COMPONENT_ID: 1078,
  serialize(value, builder) {
    const writer = PBInputModifier.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBInputModifier.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBInputModifier.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBInputModifier',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/light_source.gen.js
var import_minimal23 = __toESM(require_minimal2());
function createBasePBLightSource() {
  return {
    active: void 0,
    color: void 0,
    intensity: void 0,
    range: void 0,
    shadow: void 0,
    shadowMaskTexture: void 0,
    type: void 0,
  };
}
var PBLightSource;
(function (PBLightSource2) {
  function encode(message, writer = import_minimal23.default.Writer.create()) {
    if (message.active !== void 0) {
      writer.uint32(8).bool(message.active);
    }
    if (message.color !== void 0) {
      Color3.encode(message.color, writer.uint32(18).fork()).ldelim();
    }
    if (message.intensity !== void 0) {
      writer.uint32(29).float(message.intensity);
    }
    if (message.range !== void 0) {
      writer.uint32(37).float(message.range);
    }
    if (message.shadow !== void 0) {
      writer.uint32(40).bool(message.shadow);
    }
    if (message.shadowMaskTexture !== void 0) {
      TextureUnion.encode(message.shadowMaskTexture, writer.uint32(50).fork()).ldelim();
    }
    switch (message.type?.$case) {
      case 'point':
        PBLightSource_Point.encode(message.type.point, writer.uint32(58).fork()).ldelim();
        break;
      case 'spot':
        PBLightSource_Spot.encode(message.type.spot, writer.uint32(66).fork()).ldelim();
        break;
    }
    return writer;
  }
  PBLightSource2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal23.default.Reader
        ? input
        : import_minimal23.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBLightSource();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.active = reader.bool();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.color = Color3.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.intensity = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.range = reader.float();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.shadow = reader.bool();
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.shadowMaskTexture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 7:
          if (tag !== 58) {
            break;
          }
          message.type = {
            $case: 'point',
            point: PBLightSource_Point.decode(reader, reader.uint32()),
          };
          continue;
        case 8:
          if (tag !== 66) {
            break;
          }
          message.type = {
            $case: 'spot',
            spot: PBLightSource_Spot.decode(reader, reader.uint32()),
          };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBLightSource2.decode = decode;
})(PBLightSource || (PBLightSource = {}));
function createBasePBLightSource_Point() {
  return {};
}
var PBLightSource_Point;
(function (PBLightSource_Point2) {
  function encode(_, writer = import_minimal23.default.Writer.create()) {
    return writer;
  }
  PBLightSource_Point2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal23.default.Reader
        ? input
        : import_minimal23.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBLightSource_Point();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBLightSource_Point2.decode = decode;
})(PBLightSource_Point || (PBLightSource_Point = {}));
function createBasePBLightSource_Spot() {
  return { innerAngle: void 0, outerAngle: void 0 };
}
var PBLightSource_Spot;
(function (PBLightSource_Spot2) {
  function encode(message, writer = import_minimal23.default.Writer.create()) {
    if (message.innerAngle !== void 0) {
      writer.uint32(77).float(message.innerAngle);
    }
    if (message.outerAngle !== void 0) {
      writer.uint32(85).float(message.outerAngle);
    }
    return writer;
  }
  PBLightSource_Spot2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal23.default.Reader
        ? input
        : import_minimal23.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBLightSource_Spot();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 9:
          if (tag !== 77) {
            break;
          }
          message.innerAngle = reader.float();
          continue;
        case 10:
          if (tag !== 85) {
            break;
          }
          message.outerAngle = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBLightSource_Spot2.decode = decode;
})(PBLightSource_Spot || (PBLightSource_Spot = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/LightSource.gen.js
var LightSourceSchema = {
  COMPONENT_ID: 1079,
  serialize(value, builder) {
    const writer = PBLightSource.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBLightSource.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBLightSource.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBLightSource',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/main_camera.gen.js
var import_minimal24 = __toESM(require_minimal2());
function createBasePBMainCamera() {
  return { virtualCameraEntity: void 0 };
}
var PBMainCamera;
(function (PBMainCamera2) {
  function encode(message, writer = import_minimal24.default.Writer.create()) {
    if (message.virtualCameraEntity !== void 0) {
      writer.uint32(8).uint32(message.virtualCameraEntity);
    }
    return writer;
  }
  PBMainCamera2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal24.default.Reader
        ? input
        : import_minimal24.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMainCamera();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.virtualCameraEntity = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMainCamera2.decode = decode;
})(PBMainCamera || (PBMainCamera = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/MainCamera.gen.js
var MainCameraSchema = {
  COMPONENT_ID: 1075,
  serialize(value, builder) {
    const writer = PBMainCamera.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBMainCamera.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBMainCamera.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBMainCamera',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/Material.gen.js
var MaterialSchema = {
  COMPONENT_ID: 1017,
  serialize(value, builder) {
    const writer = PBMaterial.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBMaterial.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBMaterial.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBMaterial',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/mesh_collider.gen.js
var import_minimal25 = __toESM(require_minimal2());
var ColliderLayer;
(function (ColliderLayer2) {
  ColliderLayer2[(ColliderLayer2['CL_NONE'] = 0)] = 'CL_NONE';
  ColliderLayer2[(ColliderLayer2['CL_POINTER'] = 1)] = 'CL_POINTER';
  ColliderLayer2[(ColliderLayer2['CL_PHYSICS'] = 2)] = 'CL_PHYSICS';
  ColliderLayer2[(ColliderLayer2['CL_PLAYER'] = 4)] = 'CL_PLAYER';
  ColliderLayer2[(ColliderLayer2['CL_RESERVED2'] = 8)] = 'CL_RESERVED2';
  ColliderLayer2[(ColliderLayer2['CL_RESERVED3'] = 16)] = 'CL_RESERVED3';
  ColliderLayer2[(ColliderLayer2['CL_RESERVED4'] = 32)] = 'CL_RESERVED4';
  ColliderLayer2[(ColliderLayer2['CL_RESERVED5'] = 64)] = 'CL_RESERVED5';
  ColliderLayer2[(ColliderLayer2['CL_RESERVED6'] = 128)] = 'CL_RESERVED6';
  ColliderLayer2[(ColliderLayer2['CL_CUSTOM1'] = 256)] = 'CL_CUSTOM1';
  ColliderLayer2[(ColliderLayer2['CL_CUSTOM2'] = 512)] = 'CL_CUSTOM2';
  ColliderLayer2[(ColliderLayer2['CL_CUSTOM3'] = 1024)] = 'CL_CUSTOM3';
  ColliderLayer2[(ColliderLayer2['CL_CUSTOM4'] = 2048)] = 'CL_CUSTOM4';
  ColliderLayer2[(ColliderLayer2['CL_CUSTOM5'] = 4096)] = 'CL_CUSTOM5';
  ColliderLayer2[(ColliderLayer2['CL_CUSTOM6'] = 8192)] = 'CL_CUSTOM6';
  ColliderLayer2[(ColliderLayer2['CL_CUSTOM7'] = 16384)] = 'CL_CUSTOM7';
  ColliderLayer2[(ColliderLayer2['CL_CUSTOM8'] = 32768)] = 'CL_CUSTOM8';
})(ColliderLayer || (ColliderLayer = {}));
function createBasePBMeshCollider() {
  return { collisionMask: void 0, mesh: void 0 };
}
var PBMeshCollider;
(function (PBMeshCollider2) {
  function encode(message, writer = import_minimal25.default.Writer.create()) {
    if (message.collisionMask !== void 0) {
      writer.uint32(8).uint32(message.collisionMask);
    }
    switch (message.mesh?.$case) {
      case 'box':
        PBMeshCollider_BoxMesh.encode(message.mesh.box, writer.uint32(18).fork()).ldelim();
        break;
      case 'sphere':
        PBMeshCollider_SphereMesh.encode(message.mesh.sphere, writer.uint32(26).fork()).ldelim();
        break;
      case 'cylinder':
        PBMeshCollider_CylinderMesh.encode(
          message.mesh.cylinder,
          writer.uint32(34).fork()
        ).ldelim();
        break;
      case 'plane':
        PBMeshCollider_PlaneMesh.encode(message.mesh.plane, writer.uint32(42).fork()).ldelim();
        break;
    }
    return writer;
  }
  PBMeshCollider2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal25.default.Reader
        ? input
        : import_minimal25.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshCollider();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.collisionMask = reader.uint32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.mesh = {
            $case: 'box',
            box: PBMeshCollider_BoxMesh.decode(reader, reader.uint32()),
          };
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.mesh = {
            $case: 'sphere',
            sphere: PBMeshCollider_SphereMesh.decode(reader, reader.uint32()),
          };
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.mesh = {
            $case: 'cylinder',
            cylinder: PBMeshCollider_CylinderMesh.decode(reader, reader.uint32()),
          };
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.mesh = {
            $case: 'plane',
            plane: PBMeshCollider_PlaneMesh.decode(reader, reader.uint32()),
          };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshCollider2.decode = decode;
})(PBMeshCollider || (PBMeshCollider = {}));
function createBasePBMeshCollider_BoxMesh() {
  return {};
}
var PBMeshCollider_BoxMesh;
(function (PBMeshCollider_BoxMesh2) {
  function encode(_, writer = import_minimal25.default.Writer.create()) {
    return writer;
  }
  PBMeshCollider_BoxMesh2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal25.default.Reader
        ? input
        : import_minimal25.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshCollider_BoxMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshCollider_BoxMesh2.decode = decode;
})(PBMeshCollider_BoxMesh || (PBMeshCollider_BoxMesh = {}));
function createBasePBMeshCollider_CylinderMesh() {
  return { radiusTop: void 0, radiusBottom: void 0 };
}
var PBMeshCollider_CylinderMesh;
(function (PBMeshCollider_CylinderMesh2) {
  function encode(message, writer = import_minimal25.default.Writer.create()) {
    if (message.radiusTop !== void 0) {
      writer.uint32(13).float(message.radiusTop);
    }
    if (message.radiusBottom !== void 0) {
      writer.uint32(21).float(message.radiusBottom);
    }
    return writer;
  }
  PBMeshCollider_CylinderMesh2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal25.default.Reader
        ? input
        : import_minimal25.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshCollider_CylinderMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.radiusTop = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.radiusBottom = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshCollider_CylinderMesh2.decode = decode;
})(PBMeshCollider_CylinderMesh || (PBMeshCollider_CylinderMesh = {}));
function createBasePBMeshCollider_PlaneMesh() {
  return {};
}
var PBMeshCollider_PlaneMesh;
(function (PBMeshCollider_PlaneMesh2) {
  function encode(_, writer = import_minimal25.default.Writer.create()) {
    return writer;
  }
  PBMeshCollider_PlaneMesh2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal25.default.Reader
        ? input
        : import_minimal25.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshCollider_PlaneMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshCollider_PlaneMesh2.decode = decode;
})(PBMeshCollider_PlaneMesh || (PBMeshCollider_PlaneMesh = {}));
function createBasePBMeshCollider_SphereMesh() {
  return {};
}
var PBMeshCollider_SphereMesh;
(function (PBMeshCollider_SphereMesh2) {
  function encode(_, writer = import_minimal25.default.Writer.create()) {
    return writer;
  }
  PBMeshCollider_SphereMesh2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal25.default.Reader
        ? input
        : import_minimal25.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshCollider_SphereMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshCollider_SphereMesh2.decode = decode;
})(PBMeshCollider_SphereMesh || (PBMeshCollider_SphereMesh = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/MeshCollider.gen.js
var MeshColliderSchema = {
  COMPONENT_ID: 1019,
  serialize(value, builder) {
    const writer = PBMeshCollider.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBMeshCollider.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBMeshCollider.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBMeshCollider',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/mesh_renderer.gen.js
var import_minimal26 = __toESM(require_minimal2());
function createBasePBMeshRenderer() {
  return { mesh: void 0 };
}
var PBMeshRenderer;
(function (PBMeshRenderer2) {
  function encode(message, writer = import_minimal26.default.Writer.create()) {
    switch (message.mesh?.$case) {
      case 'box':
        PBMeshRenderer_BoxMesh.encode(message.mesh.box, writer.uint32(10).fork()).ldelim();
        break;
      case 'sphere':
        PBMeshRenderer_SphereMesh.encode(message.mesh.sphere, writer.uint32(18).fork()).ldelim();
        break;
      case 'cylinder':
        PBMeshRenderer_CylinderMesh.encode(
          message.mesh.cylinder,
          writer.uint32(26).fork()
        ).ldelim();
        break;
      case 'plane':
        PBMeshRenderer_PlaneMesh.encode(message.mesh.plane, writer.uint32(34).fork()).ldelim();
        break;
    }
    return writer;
  }
  PBMeshRenderer2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal26.default.Reader
        ? input
        : import_minimal26.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshRenderer();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.mesh = {
            $case: 'box',
            box: PBMeshRenderer_BoxMesh.decode(reader, reader.uint32()),
          };
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.mesh = {
            $case: 'sphere',
            sphere: PBMeshRenderer_SphereMesh.decode(reader, reader.uint32()),
          };
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.mesh = {
            $case: 'cylinder',
            cylinder: PBMeshRenderer_CylinderMesh.decode(reader, reader.uint32()),
          };
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.mesh = {
            $case: 'plane',
            plane: PBMeshRenderer_PlaneMesh.decode(reader, reader.uint32()),
          };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshRenderer2.decode = decode;
})(PBMeshRenderer || (PBMeshRenderer = {}));
function createBasePBMeshRenderer_BoxMesh() {
  return { uvs: [] };
}
var PBMeshRenderer_BoxMesh;
(function (PBMeshRenderer_BoxMesh2) {
  function encode(message, writer = import_minimal26.default.Writer.create()) {
    writer.uint32(10).fork();
    for (const v of message.uvs) {
      writer.float(v);
    }
    writer.ldelim();
    return writer;
  }
  PBMeshRenderer_BoxMesh2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal26.default.Reader
        ? input
        : import_minimal26.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshRenderer_BoxMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag === 13) {
            message.uvs.push(reader.float());
            continue;
          }
          if (tag === 10) {
            const end2 = reader.uint32() + reader.pos;
            while (reader.pos < end2) {
              message.uvs.push(reader.float());
            }
            continue;
          }
          break;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshRenderer_BoxMesh2.decode = decode;
})(PBMeshRenderer_BoxMesh || (PBMeshRenderer_BoxMesh = {}));
function createBasePBMeshRenderer_CylinderMesh() {
  return { radiusTop: void 0, radiusBottom: void 0 };
}
var PBMeshRenderer_CylinderMesh;
(function (PBMeshRenderer_CylinderMesh2) {
  function encode(message, writer = import_minimal26.default.Writer.create()) {
    if (message.radiusTop !== void 0) {
      writer.uint32(13).float(message.radiusTop);
    }
    if (message.radiusBottom !== void 0) {
      writer.uint32(21).float(message.radiusBottom);
    }
    return writer;
  }
  PBMeshRenderer_CylinderMesh2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal26.default.Reader
        ? input
        : import_minimal26.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshRenderer_CylinderMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.radiusTop = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.radiusBottom = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshRenderer_CylinderMesh2.decode = decode;
})(PBMeshRenderer_CylinderMesh || (PBMeshRenderer_CylinderMesh = {}));
function createBasePBMeshRenderer_PlaneMesh() {
  return { uvs: [] };
}
var PBMeshRenderer_PlaneMesh;
(function (PBMeshRenderer_PlaneMesh2) {
  function encode(message, writer = import_minimal26.default.Writer.create()) {
    writer.uint32(10).fork();
    for (const v of message.uvs) {
      writer.float(v);
    }
    writer.ldelim();
    return writer;
  }
  PBMeshRenderer_PlaneMesh2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal26.default.Reader
        ? input
        : import_minimal26.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshRenderer_PlaneMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag === 13) {
            message.uvs.push(reader.float());
            continue;
          }
          if (tag === 10) {
            const end2 = reader.uint32() + reader.pos;
            while (reader.pos < end2) {
              message.uvs.push(reader.float());
            }
            continue;
          }
          break;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshRenderer_PlaneMesh2.decode = decode;
})(PBMeshRenderer_PlaneMesh || (PBMeshRenderer_PlaneMesh = {}));
function createBasePBMeshRenderer_SphereMesh() {
  return {};
}
var PBMeshRenderer_SphereMesh;
(function (PBMeshRenderer_SphereMesh2) {
  function encode(_, writer = import_minimal26.default.Writer.create()) {
    return writer;
  }
  PBMeshRenderer_SphereMesh2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal26.default.Reader
        ? input
        : import_minimal26.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshRenderer_SphereMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshRenderer_SphereMesh2.decode = decode;
})(PBMeshRenderer_SphereMesh || (PBMeshRenderer_SphereMesh = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/MeshRenderer.gen.js
var MeshRendererSchema = {
  COMPONENT_ID: 1018,
  serialize(value, builder) {
    const writer = PBMeshRenderer.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBMeshRenderer.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBMeshRenderer.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBMeshRenderer',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/nft_shape.gen.js
var import_minimal27 = __toESM(require_minimal2());
var NftFrameType;
(function (NftFrameType2) {
  NftFrameType2[(NftFrameType2['NFT_CLASSIC'] = 0)] = 'NFT_CLASSIC';
  NftFrameType2[(NftFrameType2['NFT_BAROQUE_ORNAMENT'] = 1)] = 'NFT_BAROQUE_ORNAMENT';
  NftFrameType2[(NftFrameType2['NFT_DIAMOND_ORNAMENT'] = 2)] = 'NFT_DIAMOND_ORNAMENT';
  NftFrameType2[(NftFrameType2['NFT_MINIMAL_WIDE'] = 3)] = 'NFT_MINIMAL_WIDE';
  NftFrameType2[(NftFrameType2['NFT_MINIMAL_GREY'] = 4)] = 'NFT_MINIMAL_GREY';
  NftFrameType2[(NftFrameType2['NFT_BLOCKY'] = 5)] = 'NFT_BLOCKY';
  NftFrameType2[(NftFrameType2['NFT_GOLD_EDGES'] = 6)] = 'NFT_GOLD_EDGES';
  NftFrameType2[(NftFrameType2['NFT_GOLD_CARVED'] = 7)] = 'NFT_GOLD_CARVED';
  NftFrameType2[(NftFrameType2['NFT_GOLD_WIDE'] = 8)] = 'NFT_GOLD_WIDE';
  NftFrameType2[(NftFrameType2['NFT_GOLD_ROUNDED'] = 9)] = 'NFT_GOLD_ROUNDED';
  NftFrameType2[(NftFrameType2['NFT_METAL_MEDIUM'] = 10)] = 'NFT_METAL_MEDIUM';
  NftFrameType2[(NftFrameType2['NFT_METAL_WIDE'] = 11)] = 'NFT_METAL_WIDE';
  NftFrameType2[(NftFrameType2['NFT_METAL_SLIM'] = 12)] = 'NFT_METAL_SLIM';
  NftFrameType2[(NftFrameType2['NFT_METAL_ROUNDED'] = 13)] = 'NFT_METAL_ROUNDED';
  NftFrameType2[(NftFrameType2['NFT_PINS'] = 14)] = 'NFT_PINS';
  NftFrameType2[(NftFrameType2['NFT_MINIMAL_BLACK'] = 15)] = 'NFT_MINIMAL_BLACK';
  NftFrameType2[(NftFrameType2['NFT_MINIMAL_WHITE'] = 16)] = 'NFT_MINIMAL_WHITE';
  NftFrameType2[(NftFrameType2['NFT_TAPE'] = 17)] = 'NFT_TAPE';
  NftFrameType2[(NftFrameType2['NFT_WOOD_SLIM'] = 18)] = 'NFT_WOOD_SLIM';
  NftFrameType2[(NftFrameType2['NFT_WOOD_WIDE'] = 19)] = 'NFT_WOOD_WIDE';
  NftFrameType2[(NftFrameType2['NFT_WOOD_TWIGS'] = 20)] = 'NFT_WOOD_TWIGS';
  NftFrameType2[(NftFrameType2['NFT_CANVAS'] = 21)] = 'NFT_CANVAS';
  NftFrameType2[(NftFrameType2['NFT_NONE'] = 22)] = 'NFT_NONE';
})(NftFrameType || (NftFrameType = {}));
function createBasePBNftShape() {
  return { urn: '', style: void 0, color: void 0 };
}
var PBNftShape;
(function (PBNftShape2) {
  function encode(message, writer = import_minimal27.default.Writer.create()) {
    if (message.urn !== '') {
      writer.uint32(10).string(message.urn);
    }
    if (message.style !== void 0) {
      writer.uint32(16).int32(message.style);
    }
    if (message.color !== void 0) {
      Color3.encode(message.color, writer.uint32(26).fork()).ldelim();
    }
    return writer;
  }
  PBNftShape2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal27.default.Reader
        ? input
        : import_minimal27.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBNftShape();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.urn = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.style = reader.int32();
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.color = Color3.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBNftShape2.decode = decode;
})(PBNftShape || (PBNftShape = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/NftShape.gen.js
var NftShapeSchema = {
  COMPONENT_ID: 1040,
  serialize(value, builder) {
    const writer = PBNftShape.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBNftShape.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBNftShape.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBNftShape',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/player_identity_data.gen.js
var import_minimal28 = __toESM(require_minimal2());
function createBasePBPlayerIdentityData() {
  return { address: '', isGuest: false };
}
var PBPlayerIdentityData;
(function (PBPlayerIdentityData2) {
  function encode(message, writer = import_minimal28.default.Writer.create()) {
    if (message.address !== '') {
      writer.uint32(10).string(message.address);
    }
    if (message.isGuest === true) {
      writer.uint32(24).bool(message.isGuest);
    }
    return writer;
  }
  PBPlayerIdentityData2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal28.default.Reader
        ? input
        : import_minimal28.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBPlayerIdentityData();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.address = reader.string();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.isGuest = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBPlayerIdentityData2.decode = decode;
})(PBPlayerIdentityData || (PBPlayerIdentityData = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/PlayerIdentityData.gen.js
var PlayerIdentityDataSchema = {
  COMPONENT_ID: 1089,
  serialize(value, builder) {
    const writer = PBPlayerIdentityData.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBPlayerIdentityData.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBPlayerIdentityData.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBPlayerIdentityData',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/pointer_events.gen.js
var import_minimal29 = __toESM(require_minimal2());
function createBasePBPointerEvents() {
  return { pointerEvents: [] };
}
var PBPointerEvents;
(function (PBPointerEvents2) {
  function encode(message, writer = import_minimal29.default.Writer.create()) {
    for (const v of message.pointerEvents) {
      PBPointerEvents_Entry.encode(v, writer.uint32(10).fork()).ldelim();
    }
    return writer;
  }
  PBPointerEvents2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal29.default.Reader
        ? input
        : import_minimal29.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBPointerEvents();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.pointerEvents.push(PBPointerEvents_Entry.decode(reader, reader.uint32()));
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBPointerEvents2.decode = decode;
})(PBPointerEvents || (PBPointerEvents = {}));
function createBasePBPointerEvents_Info() {
  return {
    button: void 0,
    hoverText: void 0,
    maxDistance: void 0,
    showFeedback: void 0,
    showHighlight: void 0,
  };
}
var PBPointerEvents_Info;
(function (PBPointerEvents_Info2) {
  function encode(message, writer = import_minimal29.default.Writer.create()) {
    if (message.button !== void 0) {
      writer.uint32(8).int32(message.button);
    }
    if (message.hoverText !== void 0) {
      writer.uint32(18).string(message.hoverText);
    }
    if (message.maxDistance !== void 0) {
      writer.uint32(29).float(message.maxDistance);
    }
    if (message.showFeedback !== void 0) {
      writer.uint32(32).bool(message.showFeedback);
    }
    if (message.showHighlight !== void 0) {
      writer.uint32(40).bool(message.showHighlight);
    }
    return writer;
  }
  PBPointerEvents_Info2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal29.default.Reader
        ? input
        : import_minimal29.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBPointerEvents_Info();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.button = reader.int32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.hoverText = reader.string();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.maxDistance = reader.float();
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.showFeedback = reader.bool();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.showHighlight = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBPointerEvents_Info2.decode = decode;
})(PBPointerEvents_Info || (PBPointerEvents_Info = {}));
function createBasePBPointerEvents_Entry() {
  return { eventType: 0, eventInfo: void 0 };
}
var PBPointerEvents_Entry;
(function (PBPointerEvents_Entry2) {
  function encode(message, writer = import_minimal29.default.Writer.create()) {
    if (message.eventType !== 0) {
      writer.uint32(8).int32(message.eventType);
    }
    if (message.eventInfo !== void 0) {
      PBPointerEvents_Info.encode(message.eventInfo, writer.uint32(18).fork()).ldelim();
    }
    return writer;
  }
  PBPointerEvents_Entry2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal29.default.Reader
        ? input
        : import_minimal29.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBPointerEvents_Entry();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.eventType = reader.int32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.eventInfo = PBPointerEvents_Info.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBPointerEvents_Entry2.decode = decode;
})(PBPointerEvents_Entry || (PBPointerEvents_Entry = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/PointerEvents.gen.js
var PointerEventsSchema = {
  COMPONENT_ID: 1062,
  serialize(value, builder) {
    const writer = PBPointerEvents.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBPointerEvents.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBPointerEvents.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBPointerEvents',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/pointer_events_result.gen.js
var import_minimal31 = __toESM(require_minimal2());

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/raycast_hit.gen.js
var import_minimal30 = __toESM(require_minimal2());
function createBaseRaycastHit() {
  return {
    position: void 0,
    globalOrigin: void 0,
    direction: void 0,
    normalHit: void 0,
    length: 0,
    meshName: void 0,
    entityId: void 0,
  };
}
var RaycastHit;
(function (RaycastHit2) {
  function encode(message, writer = import_minimal30.default.Writer.create()) {
    if (message.position !== void 0) {
      Vector3.encode(message.position, writer.uint32(10).fork()).ldelim();
    }
    if (message.globalOrigin !== void 0) {
      Vector3.encode(message.globalOrigin, writer.uint32(18).fork()).ldelim();
    }
    if (message.direction !== void 0) {
      Vector3.encode(message.direction, writer.uint32(26).fork()).ldelim();
    }
    if (message.normalHit !== void 0) {
      Vector3.encode(message.normalHit, writer.uint32(34).fork()).ldelim();
    }
    if (message.length !== 0) {
      writer.uint32(45).float(message.length);
    }
    if (message.meshName !== void 0) {
      writer.uint32(50).string(message.meshName);
    }
    if (message.entityId !== void 0) {
      writer.uint32(56).uint32(message.entityId);
    }
    return writer;
  }
  RaycastHit2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal30.default.Reader
        ? input
        : import_minimal30.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseRaycastHit();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.position = Vector3.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.globalOrigin = Vector3.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.direction = Vector3.decode(reader, reader.uint32());
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.normalHit = Vector3.decode(reader, reader.uint32());
          continue;
        case 5:
          if (tag !== 45) {
            break;
          }
          message.length = reader.float();
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.meshName = reader.string();
          continue;
        case 7:
          if (tag !== 56) {
            break;
          }
          message.entityId = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  RaycastHit2.decode = decode;
})(RaycastHit || (RaycastHit = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/pointer_events_result.gen.js
function createBasePBPointerEventsResult() {
  return { button: 0, hit: void 0, state: 0, timestamp: 0, analog: void 0, tickNumber: 0 };
}
var PBPointerEventsResult;
(function (PBPointerEventsResult2) {
  function encode(message, writer = import_minimal31.default.Writer.create()) {
    if (message.button !== 0) {
      writer.uint32(8).int32(message.button);
    }
    if (message.hit !== void 0) {
      RaycastHit.encode(message.hit, writer.uint32(18).fork()).ldelim();
    }
    if (message.state !== 0) {
      writer.uint32(32).int32(message.state);
    }
    if (message.timestamp !== 0) {
      writer.uint32(40).uint32(message.timestamp);
    }
    if (message.analog !== void 0) {
      writer.uint32(53).float(message.analog);
    }
    if (message.tickNumber !== 0) {
      writer.uint32(56).uint32(message.tickNumber);
    }
    return writer;
  }
  PBPointerEventsResult2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal31.default.Reader
        ? input
        : import_minimal31.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBPointerEventsResult();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.button = reader.int32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.hit = RaycastHit.decode(reader, reader.uint32());
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.state = reader.int32();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.timestamp = reader.uint32();
          continue;
        case 6:
          if (tag !== 53) {
            break;
          }
          message.analog = reader.float();
          continue;
        case 7:
          if (tag !== 56) {
            break;
          }
          message.tickNumber = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBPointerEventsResult2.decode = decode;
})(PBPointerEventsResult || (PBPointerEventsResult = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/PointerEventsResult.gen.js
var PointerEventsResultSchema = {
  COMPONENT_ID: 1063,
  serialize(value, builder) {
    const writer = PBPointerEventsResult.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBPointerEventsResult.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBPointerEventsResult.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBPointerEventsResult',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/pointer_lock.gen.js
var import_minimal32 = __toESM(require_minimal2());
function createBasePBPointerLock() {
  return { isPointerLocked: false };
}
var PBPointerLock;
(function (PBPointerLock2) {
  function encode(message, writer = import_minimal32.default.Writer.create()) {
    if (message.isPointerLocked === true) {
      writer.uint32(8).bool(message.isPointerLocked);
    }
    return writer;
  }
  PBPointerLock2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal32.default.Reader
        ? input
        : import_minimal32.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBPointerLock();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.isPointerLocked = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBPointerLock2.decode = decode;
})(PBPointerLock || (PBPointerLock = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/PointerLock.gen.js
var PointerLockSchema = {
  COMPONENT_ID: 1074,
  serialize(value, builder) {
    const writer = PBPointerLock.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBPointerLock.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBPointerLock.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBPointerLock',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/primary_pointer_info.gen.js
var import_minimal33 = __toESM(require_minimal2());
var PointerType;
(function (PointerType2) {
  PointerType2[(PointerType2['POT_NONE'] = 0)] = 'POT_NONE';
  PointerType2[(PointerType2['POT_MOUSE'] = 1)] = 'POT_MOUSE';
})(PointerType || (PointerType = {}));
function createBasePBPrimaryPointerInfo() {
  return {
    pointerType: void 0,
    screenCoordinates: void 0,
    screenDelta: void 0,
    worldRayDirection: void 0,
  };
}
var PBPrimaryPointerInfo;
(function (PBPrimaryPointerInfo2) {
  function encode(message, writer = import_minimal33.default.Writer.create()) {
    if (message.pointerType !== void 0) {
      writer.uint32(8).int32(message.pointerType);
    }
    if (message.screenCoordinates !== void 0) {
      Vector2.encode(message.screenCoordinates, writer.uint32(18).fork()).ldelim();
    }
    if (message.screenDelta !== void 0) {
      Vector2.encode(message.screenDelta, writer.uint32(26).fork()).ldelim();
    }
    if (message.worldRayDirection !== void 0) {
      Vector3.encode(message.worldRayDirection, writer.uint32(34).fork()).ldelim();
    }
    return writer;
  }
  PBPrimaryPointerInfo2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal33.default.Reader
        ? input
        : import_minimal33.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBPrimaryPointerInfo();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.pointerType = reader.int32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.screenCoordinates = Vector2.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.screenDelta = Vector2.decode(reader, reader.uint32());
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.worldRayDirection = Vector3.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBPrimaryPointerInfo2.decode = decode;
})(PBPrimaryPointerInfo || (PBPrimaryPointerInfo = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/PrimaryPointerInfo.gen.js
var PrimaryPointerInfoSchema = {
  COMPONENT_ID: 1209,
  serialize(value, builder) {
    const writer = PBPrimaryPointerInfo.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBPrimaryPointerInfo.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBPrimaryPointerInfo.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBPrimaryPointerInfo',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/raycast.gen.js
var import_minimal34 = __toESM(require_minimal2());
var RaycastQueryType;
(function (RaycastQueryType2) {
  RaycastQueryType2[(RaycastQueryType2['RQT_HIT_FIRST'] = 0)] = 'RQT_HIT_FIRST';
  RaycastQueryType2[(RaycastQueryType2['RQT_QUERY_ALL'] = 1)] = 'RQT_QUERY_ALL';
  RaycastQueryType2[(RaycastQueryType2['RQT_NONE'] = 2)] = 'RQT_NONE';
})(RaycastQueryType || (RaycastQueryType = {}));
function createBasePBRaycast() {
  return {
    timestamp: void 0,
    originOffset: void 0,
    direction: void 0,
    maxDistance: 0,
    queryType: 0,
    continuous: void 0,
    collisionMask: void 0,
  };
}
var PBRaycast;
(function (PBRaycast2) {
  function encode(message, writer = import_minimal34.default.Writer.create()) {
    if (message.timestamp !== void 0) {
      writer.uint32(8).uint32(message.timestamp);
    }
    if (message.originOffset !== void 0) {
      Vector3.encode(message.originOffset, writer.uint32(18).fork()).ldelim();
    }
    switch (message.direction?.$case) {
      case 'localDirection':
        Vector3.encode(message.direction.localDirection, writer.uint32(50).fork()).ldelim();
        break;
      case 'globalDirection':
        Vector3.encode(message.direction.globalDirection, writer.uint32(26).fork()).ldelim();
        break;
      case 'globalTarget':
        Vector3.encode(message.direction.globalTarget, writer.uint32(58).fork()).ldelim();
        break;
      case 'targetEntity':
        writer.uint32(80).uint32(message.direction.targetEntity);
        break;
    }
    if (message.maxDistance !== 0) {
      writer.uint32(37).float(message.maxDistance);
    }
    if (message.queryType !== 0) {
      writer.uint32(40).int32(message.queryType);
    }
    if (message.continuous !== void 0) {
      writer.uint32(64).bool(message.continuous);
    }
    if (message.collisionMask !== void 0) {
      writer.uint32(72).uint32(message.collisionMask);
    }
    return writer;
  }
  PBRaycast2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal34.default.Reader
        ? input
        : import_minimal34.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBRaycast();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.timestamp = reader.uint32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.originOffset = Vector3.decode(reader, reader.uint32());
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.direction = {
            $case: 'localDirection',
            localDirection: Vector3.decode(reader, reader.uint32()),
          };
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.direction = {
            $case: 'globalDirection',
            globalDirection: Vector3.decode(reader, reader.uint32()),
          };
          continue;
        case 7:
          if (tag !== 58) {
            break;
          }
          message.direction = {
            $case: 'globalTarget',
            globalTarget: Vector3.decode(reader, reader.uint32()),
          };
          continue;
        case 10:
          if (tag !== 80) {
            break;
          }
          message.direction = { $case: 'targetEntity', targetEntity: reader.uint32() };
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.maxDistance = reader.float();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.queryType = reader.int32();
          continue;
        case 8:
          if (tag !== 64) {
            break;
          }
          message.continuous = reader.bool();
          continue;
        case 9:
          if (tag !== 72) {
            break;
          }
          message.collisionMask = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBRaycast2.decode = decode;
})(PBRaycast || (PBRaycast = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/Raycast.gen.js
var RaycastSchema = {
  COMPONENT_ID: 1067,
  serialize(value, builder) {
    const writer = PBRaycast.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBRaycast.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBRaycast.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBRaycast',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/raycast_result.gen.js
var import_minimal35 = __toESM(require_minimal2());
function createBasePBRaycastResult() {
  return { timestamp: void 0, globalOrigin: void 0, direction: void 0, hits: [], tickNumber: 0 };
}
var PBRaycastResult;
(function (PBRaycastResult2) {
  function encode(message, writer = import_minimal35.default.Writer.create()) {
    if (message.timestamp !== void 0) {
      writer.uint32(8).uint32(message.timestamp);
    }
    if (message.globalOrigin !== void 0) {
      Vector3.encode(message.globalOrigin, writer.uint32(18).fork()).ldelim();
    }
    if (message.direction !== void 0) {
      Vector3.encode(message.direction, writer.uint32(26).fork()).ldelim();
    }
    for (const v of message.hits) {
      RaycastHit.encode(v, writer.uint32(34).fork()).ldelim();
    }
    if (message.tickNumber !== 0) {
      writer.uint32(40).uint32(message.tickNumber);
    }
    return writer;
  }
  PBRaycastResult2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal35.default.Reader
        ? input
        : import_minimal35.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBRaycastResult();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.timestamp = reader.uint32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.globalOrigin = Vector3.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.direction = Vector3.decode(reader, reader.uint32());
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.hits.push(RaycastHit.decode(reader, reader.uint32()));
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.tickNumber = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBRaycastResult2.decode = decode;
})(PBRaycastResult || (PBRaycastResult = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/RaycastResult.gen.js
var RaycastResultSchema = {
  COMPONENT_ID: 1068,
  serialize(value, builder) {
    const writer = PBRaycastResult.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBRaycastResult.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBRaycastResult.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBRaycastResult',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/realm_info.gen.js
var import_minimal36 = __toESM(require_minimal2());
function createBasePBRealmInfo() {
  return {
    baseUrl: '',
    realmName: '',
    networkId: 0,
    commsAdapter: '',
    isPreview: false,
    room: void 0,
    isConnectedSceneRoom: void 0,
  };
}
var PBRealmInfo;
(function (PBRealmInfo2) {
  function encode(message, writer = import_minimal36.default.Writer.create()) {
    if (message.baseUrl !== '') {
      writer.uint32(10).string(message.baseUrl);
    }
    if (message.realmName !== '') {
      writer.uint32(18).string(message.realmName);
    }
    if (message.networkId !== 0) {
      writer.uint32(24).int32(message.networkId);
    }
    if (message.commsAdapter !== '') {
      writer.uint32(34).string(message.commsAdapter);
    }
    if (message.isPreview === true) {
      writer.uint32(40).bool(message.isPreview);
    }
    if (message.room !== void 0) {
      writer.uint32(50).string(message.room);
    }
    if (message.isConnectedSceneRoom !== void 0) {
      writer.uint32(56).bool(message.isConnectedSceneRoom);
    }
    return writer;
  }
  PBRealmInfo2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal36.default.Reader
        ? input
        : import_minimal36.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBRealmInfo();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.baseUrl = reader.string();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.realmName = reader.string();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.networkId = reader.int32();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.commsAdapter = reader.string();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.isPreview = reader.bool();
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.room = reader.string();
          continue;
        case 7:
          if (tag !== 56) {
            break;
          }
          message.isConnectedSceneRoom = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBRealmInfo2.decode = decode;
})(PBRealmInfo || (PBRealmInfo = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/RealmInfo.gen.js
var RealmInfoSchema = {
  COMPONENT_ID: 1106,
  serialize(value, builder) {
    const writer = PBRealmInfo.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBRealmInfo.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBRealmInfo.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBRealmInfo',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/skybox_time.gen.js
var import_minimal37 = __toESM(require_minimal2());
var TransitionMode;
(function (TransitionMode2) {
  TransitionMode2[(TransitionMode2['TM_FORWARD'] = 0)] = 'TM_FORWARD';
  TransitionMode2[(TransitionMode2['TM_BACKWARD'] = 1)] = 'TM_BACKWARD';
})(TransitionMode || (TransitionMode = {}));
function createBasePBSkyboxTime() {
  return { fixedTime: 0, transitionMode: void 0 };
}
var PBSkyboxTime;
(function (PBSkyboxTime2) {
  function encode(message, writer = import_minimal37.default.Writer.create()) {
    if (message.fixedTime !== 0) {
      writer.uint32(8).uint32(message.fixedTime);
    }
    if (message.transitionMode !== void 0) {
      writer.uint32(16).int32(message.transitionMode);
    }
    return writer;
  }
  PBSkyboxTime2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal37.default.Reader
        ? input
        : import_minimal37.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBSkyboxTime();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.fixedTime = reader.uint32();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.transitionMode = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBSkyboxTime2.decode = decode;
})(PBSkyboxTime || (PBSkyboxTime = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/SkyboxTime.gen.js
var SkyboxTimeSchema = {
  COMPONENT_ID: 1210,
  serialize(value, builder) {
    const writer = PBSkyboxTime.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBSkyboxTime.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBSkyboxTime.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBSkyboxTime',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/text_shape.gen.js
var import_minimal38 = __toESM(require_minimal2());
function createBasePBTextShape() {
  return {
    text: '',
    font: void 0,
    fontSize: void 0,
    fontAutoSize: void 0,
    textAlign: void 0,
    width: void 0,
    height: void 0,
    paddingTop: void 0,
    paddingRight: void 0,
    paddingBottom: void 0,
    paddingLeft: void 0,
    lineSpacing: void 0,
    lineCount: void 0,
    textWrapping: void 0,
    shadowBlur: void 0,
    shadowOffsetX: void 0,
    shadowOffsetY: void 0,
    outlineWidth: void 0,
    shadowColor: void 0,
    outlineColor: void 0,
    textColor: void 0,
  };
}
var PBTextShape;
(function (PBTextShape2) {
  function encode(message, writer = import_minimal38.default.Writer.create()) {
    if (message.text !== '') {
      writer.uint32(10).string(message.text);
    }
    if (message.font !== void 0) {
      writer.uint32(16).int32(message.font);
    }
    if (message.fontSize !== void 0) {
      writer.uint32(29).float(message.fontSize);
    }
    if (message.fontAutoSize !== void 0) {
      writer.uint32(32).bool(message.fontAutoSize);
    }
    if (message.textAlign !== void 0) {
      writer.uint32(40).int32(message.textAlign);
    }
    if (message.width !== void 0) {
      writer.uint32(53).float(message.width);
    }
    if (message.height !== void 0) {
      writer.uint32(61).float(message.height);
    }
    if (message.paddingTop !== void 0) {
      writer.uint32(69).float(message.paddingTop);
    }
    if (message.paddingRight !== void 0) {
      writer.uint32(77).float(message.paddingRight);
    }
    if (message.paddingBottom !== void 0) {
      writer.uint32(85).float(message.paddingBottom);
    }
    if (message.paddingLeft !== void 0) {
      writer.uint32(93).float(message.paddingLeft);
    }
    if (message.lineSpacing !== void 0) {
      writer.uint32(101).float(message.lineSpacing);
    }
    if (message.lineCount !== void 0) {
      writer.uint32(104).int32(message.lineCount);
    }
    if (message.textWrapping !== void 0) {
      writer.uint32(112).bool(message.textWrapping);
    }
    if (message.shadowBlur !== void 0) {
      writer.uint32(125).float(message.shadowBlur);
    }
    if (message.shadowOffsetX !== void 0) {
      writer.uint32(133).float(message.shadowOffsetX);
    }
    if (message.shadowOffsetY !== void 0) {
      writer.uint32(141).float(message.shadowOffsetY);
    }
    if (message.outlineWidth !== void 0) {
      writer.uint32(149).float(message.outlineWidth);
    }
    if (message.shadowColor !== void 0) {
      Color3.encode(message.shadowColor, writer.uint32(154).fork()).ldelim();
    }
    if (message.outlineColor !== void 0) {
      Color3.encode(message.outlineColor, writer.uint32(162).fork()).ldelim();
    }
    if (message.textColor !== void 0) {
      Color4.encode(message.textColor, writer.uint32(170).fork()).ldelim();
    }
    return writer;
  }
  PBTextShape2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal38.default.Reader
        ? input
        : import_minimal38.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBTextShape();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.text = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.font = reader.int32();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.fontSize = reader.float();
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.fontAutoSize = reader.bool();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.textAlign = reader.int32();
          continue;
        case 6:
          if (tag !== 53) {
            break;
          }
          message.width = reader.float();
          continue;
        case 7:
          if (tag !== 61) {
            break;
          }
          message.height = reader.float();
          continue;
        case 8:
          if (tag !== 69) {
            break;
          }
          message.paddingTop = reader.float();
          continue;
        case 9:
          if (tag !== 77) {
            break;
          }
          message.paddingRight = reader.float();
          continue;
        case 10:
          if (tag !== 85) {
            break;
          }
          message.paddingBottom = reader.float();
          continue;
        case 11:
          if (tag !== 93) {
            break;
          }
          message.paddingLeft = reader.float();
          continue;
        case 12:
          if (tag !== 101) {
            break;
          }
          message.lineSpacing = reader.float();
          continue;
        case 13:
          if (tag !== 104) {
            break;
          }
          message.lineCount = reader.int32();
          continue;
        case 14:
          if (tag !== 112) {
            break;
          }
          message.textWrapping = reader.bool();
          continue;
        case 15:
          if (tag !== 125) {
            break;
          }
          message.shadowBlur = reader.float();
          continue;
        case 16:
          if (tag !== 133) {
            break;
          }
          message.shadowOffsetX = reader.float();
          continue;
        case 17:
          if (tag !== 141) {
            break;
          }
          message.shadowOffsetY = reader.float();
          continue;
        case 18:
          if (tag !== 149) {
            break;
          }
          message.outlineWidth = reader.float();
          continue;
        case 19:
          if (tag !== 154) {
            break;
          }
          message.shadowColor = Color3.decode(reader, reader.uint32());
          continue;
        case 20:
          if (tag !== 162) {
            break;
          }
          message.outlineColor = Color3.decode(reader, reader.uint32());
          continue;
        case 21:
          if (tag !== 170) {
            break;
          }
          message.textColor = Color4.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBTextShape2.decode = decode;
})(PBTextShape || (PBTextShape = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/TextShape.gen.js
var TextShapeSchema = {
  COMPONENT_ID: 1030,
  serialize(value, builder) {
    const writer = PBTextShape.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBTextShape.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBTextShape.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBTextShape',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/trigger_area.gen.js
var import_minimal39 = __toESM(require_minimal2());
var TriggerAreaMeshType;
(function (TriggerAreaMeshType2) {
  TriggerAreaMeshType2[(TriggerAreaMeshType2['TAMT_BOX'] = 0)] = 'TAMT_BOX';
  TriggerAreaMeshType2[(TriggerAreaMeshType2['TAMT_SPHERE'] = 1)] = 'TAMT_SPHERE';
})(TriggerAreaMeshType || (TriggerAreaMeshType = {}));
function createBasePBTriggerArea() {
  return { mesh: void 0, collisionMask: void 0 };
}
var PBTriggerArea;
(function (PBTriggerArea2) {
  function encode(message, writer = import_minimal39.default.Writer.create()) {
    if (message.mesh !== void 0) {
      writer.uint32(8).int32(message.mesh);
    }
    if (message.collisionMask !== void 0) {
      writer.uint32(16).uint32(message.collisionMask);
    }
    return writer;
  }
  PBTriggerArea2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal39.default.Reader
        ? input
        : import_minimal39.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBTriggerArea();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.mesh = reader.int32();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.collisionMask = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBTriggerArea2.decode = decode;
})(PBTriggerArea || (PBTriggerArea = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/TriggerArea.gen.js
var TriggerAreaSchema = {
  COMPONENT_ID: 1060,
  serialize(value, builder) {
    const writer = PBTriggerArea.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBTriggerArea.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBTriggerArea.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBTriggerArea',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/trigger_area_result.gen.js
var import_minimal40 = __toESM(require_minimal2());
var TriggerAreaEventType;
(function (TriggerAreaEventType2) {
  TriggerAreaEventType2[(TriggerAreaEventType2['TAET_ENTER'] = 0)] = 'TAET_ENTER';
  TriggerAreaEventType2[(TriggerAreaEventType2['TAET_STAY'] = 1)] = 'TAET_STAY';
  TriggerAreaEventType2[(TriggerAreaEventType2['TAET_EXIT'] = 2)] = 'TAET_EXIT';
})(TriggerAreaEventType || (TriggerAreaEventType = {}));
function createBasePBTriggerAreaResult() {
  return {
    triggeredEntity: 0,
    triggeredEntityPosition: void 0,
    triggeredEntityRotation: void 0,
    eventType: 0,
    timestamp: 0,
    trigger: void 0,
  };
}
var PBTriggerAreaResult;
(function (PBTriggerAreaResult2) {
  function encode(message, writer = import_minimal40.default.Writer.create()) {
    if (message.triggeredEntity !== 0) {
      writer.uint32(8).uint32(message.triggeredEntity);
    }
    if (message.triggeredEntityPosition !== void 0) {
      Vector3.encode(message.triggeredEntityPosition, writer.uint32(18).fork()).ldelim();
    }
    if (message.triggeredEntityRotation !== void 0) {
      Quaternion.encode(message.triggeredEntityRotation, writer.uint32(26).fork()).ldelim();
    }
    if (message.eventType !== 0) {
      writer.uint32(32).int32(message.eventType);
    }
    if (message.timestamp !== 0) {
      writer.uint32(40).uint32(message.timestamp);
    }
    if (message.trigger !== void 0) {
      PBTriggerAreaResult_Trigger.encode(message.trigger, writer.uint32(50).fork()).ldelim();
    }
    return writer;
  }
  PBTriggerAreaResult2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal40.default.Reader
        ? input
        : import_minimal40.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBTriggerAreaResult();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.triggeredEntity = reader.uint32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.triggeredEntityPosition = Vector3.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.triggeredEntityRotation = Quaternion.decode(reader, reader.uint32());
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.eventType = reader.int32();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.timestamp = reader.uint32();
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.trigger = PBTriggerAreaResult_Trigger.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBTriggerAreaResult2.decode = decode;
})(PBTriggerAreaResult || (PBTriggerAreaResult = {}));
function createBasePBTriggerAreaResult_Trigger() {
  return { entity: 0, layers: 0, position: void 0, rotation: void 0, scale: void 0 };
}
var PBTriggerAreaResult_Trigger;
(function (PBTriggerAreaResult_Trigger2) {
  function encode(message, writer = import_minimal40.default.Writer.create()) {
    if (message.entity !== 0) {
      writer.uint32(8).uint32(message.entity);
    }
    if (message.layers !== 0) {
      writer.uint32(16).uint32(message.layers);
    }
    if (message.position !== void 0) {
      Vector3.encode(message.position, writer.uint32(26).fork()).ldelim();
    }
    if (message.rotation !== void 0) {
      Quaternion.encode(message.rotation, writer.uint32(34).fork()).ldelim();
    }
    if (message.scale !== void 0) {
      Vector3.encode(message.scale, writer.uint32(42).fork()).ldelim();
    }
    return writer;
  }
  PBTriggerAreaResult_Trigger2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal40.default.Reader
        ? input
        : import_minimal40.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBTriggerAreaResult_Trigger();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.entity = reader.uint32();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.layers = reader.uint32();
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.position = Vector3.decode(reader, reader.uint32());
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.rotation = Quaternion.decode(reader, reader.uint32());
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.scale = Vector3.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBTriggerAreaResult_Trigger2.decode = decode;
})(PBTriggerAreaResult_Trigger || (PBTriggerAreaResult_Trigger = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/TriggerAreaResult.gen.js
var TriggerAreaResultSchema = {
  COMPONENT_ID: 1061,
  serialize(value, builder) {
    const writer = PBTriggerAreaResult.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBTriggerAreaResult.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBTriggerAreaResult.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBTriggerAreaResult',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/tween.gen.js
var import_minimal41 = __toESM(require_minimal2());
var TextureMovementType;
(function (TextureMovementType2) {
  TextureMovementType2[(TextureMovementType2['TMT_OFFSET'] = 0)] = 'TMT_OFFSET';
  TextureMovementType2[(TextureMovementType2['TMT_TILING'] = 1)] = 'TMT_TILING';
})(TextureMovementType || (TextureMovementType = {}));
var EasingFunction;
(function (EasingFunction2) {
  EasingFunction2[(EasingFunction2['EF_LINEAR'] = 0)] = 'EF_LINEAR';
  EasingFunction2[(EasingFunction2['EF_EASEINQUAD'] = 1)] = 'EF_EASEINQUAD';
  EasingFunction2[(EasingFunction2['EF_EASEOUTQUAD'] = 2)] = 'EF_EASEOUTQUAD';
  EasingFunction2[(EasingFunction2['EF_EASEQUAD'] = 3)] = 'EF_EASEQUAD';
  EasingFunction2[(EasingFunction2['EF_EASEINSINE'] = 4)] = 'EF_EASEINSINE';
  EasingFunction2[(EasingFunction2['EF_EASEOUTSINE'] = 5)] = 'EF_EASEOUTSINE';
  EasingFunction2[(EasingFunction2['EF_EASESINE'] = 6)] = 'EF_EASESINE';
  EasingFunction2[(EasingFunction2['EF_EASEINEXPO'] = 7)] = 'EF_EASEINEXPO';
  EasingFunction2[(EasingFunction2['EF_EASEOUTEXPO'] = 8)] = 'EF_EASEOUTEXPO';
  EasingFunction2[(EasingFunction2['EF_EASEEXPO'] = 9)] = 'EF_EASEEXPO';
  EasingFunction2[(EasingFunction2['EF_EASEINELASTIC'] = 10)] = 'EF_EASEINELASTIC';
  EasingFunction2[(EasingFunction2['EF_EASEOUTELASTIC'] = 11)] = 'EF_EASEOUTELASTIC';
  EasingFunction2[(EasingFunction2['EF_EASEELASTIC'] = 12)] = 'EF_EASEELASTIC';
  EasingFunction2[(EasingFunction2['EF_EASEINBOUNCE'] = 13)] = 'EF_EASEINBOUNCE';
  EasingFunction2[(EasingFunction2['EF_EASEOUTBOUNCE'] = 14)] = 'EF_EASEOUTBOUNCE';
  EasingFunction2[(EasingFunction2['EF_EASEBOUNCE'] = 15)] = 'EF_EASEBOUNCE';
  EasingFunction2[(EasingFunction2['EF_EASEINCUBIC'] = 16)] = 'EF_EASEINCUBIC';
  EasingFunction2[(EasingFunction2['EF_EASEOUTCUBIC'] = 17)] = 'EF_EASEOUTCUBIC';
  EasingFunction2[(EasingFunction2['EF_EASECUBIC'] = 18)] = 'EF_EASECUBIC';
  EasingFunction2[(EasingFunction2['EF_EASEINQUART'] = 19)] = 'EF_EASEINQUART';
  EasingFunction2[(EasingFunction2['EF_EASEOUTQUART'] = 20)] = 'EF_EASEOUTQUART';
  EasingFunction2[(EasingFunction2['EF_EASEQUART'] = 21)] = 'EF_EASEQUART';
  EasingFunction2[(EasingFunction2['EF_EASEINQUINT'] = 22)] = 'EF_EASEINQUINT';
  EasingFunction2[(EasingFunction2['EF_EASEOUTQUINT'] = 23)] = 'EF_EASEOUTQUINT';
  EasingFunction2[(EasingFunction2['EF_EASEQUINT'] = 24)] = 'EF_EASEQUINT';
  EasingFunction2[(EasingFunction2['EF_EASEINCIRC'] = 25)] = 'EF_EASEINCIRC';
  EasingFunction2[(EasingFunction2['EF_EASEOUTCIRC'] = 26)] = 'EF_EASEOUTCIRC';
  EasingFunction2[(EasingFunction2['EF_EASECIRC'] = 27)] = 'EF_EASECIRC';
  EasingFunction2[(EasingFunction2['EF_EASEINBACK'] = 28)] = 'EF_EASEINBACK';
  EasingFunction2[(EasingFunction2['EF_EASEOUTBACK'] = 29)] = 'EF_EASEOUTBACK';
  EasingFunction2[(EasingFunction2['EF_EASEBACK'] = 30)] = 'EF_EASEBACK';
})(EasingFunction || (EasingFunction = {}));
function createBasePBTween() {
  return { duration: 0, easingFunction: 0, mode: void 0, playing: void 0, currentTime: void 0 };
}
var PBTween;
(function (PBTween2) {
  function encode(message, writer = import_minimal41.default.Writer.create()) {
    if (message.duration !== 0) {
      writer.uint32(13).float(message.duration);
    }
    if (message.easingFunction !== 0) {
      writer.uint32(16).int32(message.easingFunction);
    }
    switch (message.mode?.$case) {
      case 'move':
        Move.encode(message.mode.move, writer.uint32(26).fork()).ldelim();
        break;
      case 'rotate':
        Rotate.encode(message.mode.rotate, writer.uint32(34).fork()).ldelim();
        break;
      case 'scale':
        Scale.encode(message.mode.scale, writer.uint32(42).fork()).ldelim();
        break;
      case 'textureMove':
        TextureMove.encode(message.mode.textureMove, writer.uint32(66).fork()).ldelim();
        break;
      case 'rotateContinuous':
        RotateContinuous.encode(message.mode.rotateContinuous, writer.uint32(74).fork()).ldelim();
        break;
      case 'moveContinuous':
        MoveContinuous.encode(message.mode.moveContinuous, writer.uint32(82).fork()).ldelim();
        break;
      case 'textureMoveContinuous':
        TextureMoveContinuous.encode(
          message.mode.textureMoveContinuous,
          writer.uint32(90).fork()
        ).ldelim();
        break;
    }
    if (message.playing !== void 0) {
      writer.uint32(48).bool(message.playing);
    }
    if (message.currentTime !== void 0) {
      writer.uint32(61).float(message.currentTime);
    }
    return writer;
  }
  PBTween2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal41.default.Reader
        ? input
        : import_minimal41.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBTween();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.duration = reader.float();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.easingFunction = reader.int32();
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.mode = { $case: 'move', move: Move.decode(reader, reader.uint32()) };
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.mode = { $case: 'rotate', rotate: Rotate.decode(reader, reader.uint32()) };
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.mode = { $case: 'scale', scale: Scale.decode(reader, reader.uint32()) };
          continue;
        case 8:
          if (tag !== 66) {
            break;
          }
          message.mode = {
            $case: 'textureMove',
            textureMove: TextureMove.decode(reader, reader.uint32()),
          };
          continue;
        case 9:
          if (tag !== 74) {
            break;
          }
          message.mode = {
            $case: 'rotateContinuous',
            rotateContinuous: RotateContinuous.decode(reader, reader.uint32()),
          };
          continue;
        case 10:
          if (tag !== 82) {
            break;
          }
          message.mode = {
            $case: 'moveContinuous',
            moveContinuous: MoveContinuous.decode(reader, reader.uint32()),
          };
          continue;
        case 11:
          if (tag !== 90) {
            break;
          }
          message.mode = {
            $case: 'textureMoveContinuous',
            textureMoveContinuous: TextureMoveContinuous.decode(reader, reader.uint32()),
          };
          continue;
        case 6:
          if (tag !== 48) {
            break;
          }
          message.playing = reader.bool();
          continue;
        case 7:
          if (tag !== 61) {
            break;
          }
          message.currentTime = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBTween2.decode = decode;
})(PBTween || (PBTween = {}));
function createBaseMove() {
  return { start: void 0, end: void 0, faceDirection: void 0 };
}
var Move;
(function (Move2) {
  function encode(message, writer = import_minimal41.default.Writer.create()) {
    if (message.start !== void 0) {
      Vector3.encode(message.start, writer.uint32(10).fork()).ldelim();
    }
    if (message.end !== void 0) {
      Vector3.encode(message.end, writer.uint32(18).fork()).ldelim();
    }
    if (message.faceDirection !== void 0) {
      writer.uint32(24).bool(message.faceDirection);
    }
    return writer;
  }
  Move2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal41.default.Reader
        ? input
        : import_minimal41.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseMove();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.start = Vector3.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.end = Vector3.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.faceDirection = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Move2.decode = decode;
})(Move || (Move = {}));
function createBaseRotate() {
  return { start: void 0, end: void 0 };
}
var Rotate;
(function (Rotate2) {
  function encode(message, writer = import_minimal41.default.Writer.create()) {
    if (message.start !== void 0) {
      Quaternion.encode(message.start, writer.uint32(10).fork()).ldelim();
    }
    if (message.end !== void 0) {
      Quaternion.encode(message.end, writer.uint32(18).fork()).ldelim();
    }
    return writer;
  }
  Rotate2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal41.default.Reader
        ? input
        : import_minimal41.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseRotate();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.start = Quaternion.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.end = Quaternion.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Rotate2.decode = decode;
})(Rotate || (Rotate = {}));
function createBaseScale() {
  return { start: void 0, end: void 0 };
}
var Scale;
(function (Scale2) {
  function encode(message, writer = import_minimal41.default.Writer.create()) {
    if (message.start !== void 0) {
      Vector3.encode(message.start, writer.uint32(10).fork()).ldelim();
    }
    if (message.end !== void 0) {
      Vector3.encode(message.end, writer.uint32(18).fork()).ldelim();
    }
    return writer;
  }
  Scale2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal41.default.Reader
        ? input
        : import_minimal41.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseScale();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.start = Vector3.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.end = Vector3.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Scale2.decode = decode;
})(Scale || (Scale = {}));
function createBaseTextureMove() {
  return { start: void 0, end: void 0, movementType: void 0 };
}
var TextureMove;
(function (TextureMove2) {
  function encode(message, writer = import_minimal41.default.Writer.create()) {
    if (message.start !== void 0) {
      Vector2.encode(message.start, writer.uint32(10).fork()).ldelim();
    }
    if (message.end !== void 0) {
      Vector2.encode(message.end, writer.uint32(18).fork()).ldelim();
    }
    if (message.movementType !== void 0) {
      writer.uint32(24).int32(message.movementType);
    }
    return writer;
  }
  TextureMove2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal41.default.Reader
        ? input
        : import_minimal41.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseTextureMove();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.start = Vector2.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.end = Vector2.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.movementType = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  TextureMove2.decode = decode;
})(TextureMove || (TextureMove = {}));
function createBaseRotateContinuous() {
  return { direction: void 0, speed: 0 };
}
var RotateContinuous;
(function (RotateContinuous2) {
  function encode(message, writer = import_minimal41.default.Writer.create()) {
    if (message.direction !== void 0) {
      Quaternion.encode(message.direction, writer.uint32(10).fork()).ldelim();
    }
    if (message.speed !== 0) {
      writer.uint32(21).float(message.speed);
    }
    return writer;
  }
  RotateContinuous2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal41.default.Reader
        ? input
        : import_minimal41.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseRotateContinuous();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.direction = Quaternion.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.speed = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  RotateContinuous2.decode = decode;
})(RotateContinuous || (RotateContinuous = {}));
function createBaseMoveContinuous() {
  return { direction: void 0, speed: 0 };
}
var MoveContinuous;
(function (MoveContinuous2) {
  function encode(message, writer = import_minimal41.default.Writer.create()) {
    if (message.direction !== void 0) {
      Vector3.encode(message.direction, writer.uint32(10).fork()).ldelim();
    }
    if (message.speed !== 0) {
      writer.uint32(21).float(message.speed);
    }
    return writer;
  }
  MoveContinuous2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal41.default.Reader
        ? input
        : import_minimal41.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseMoveContinuous();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.direction = Vector3.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.speed = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  MoveContinuous2.decode = decode;
})(MoveContinuous || (MoveContinuous = {}));
function createBaseTextureMoveContinuous() {
  return { direction: void 0, speed: 0, movementType: void 0 };
}
var TextureMoveContinuous;
(function (TextureMoveContinuous2) {
  function encode(message, writer = import_minimal41.default.Writer.create()) {
    if (message.direction !== void 0) {
      Vector2.encode(message.direction, writer.uint32(10).fork()).ldelim();
    }
    if (message.speed !== 0) {
      writer.uint32(21).float(message.speed);
    }
    if (message.movementType !== void 0) {
      writer.uint32(24).int32(message.movementType);
    }
    return writer;
  }
  TextureMoveContinuous2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal41.default.Reader
        ? input
        : import_minimal41.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseTextureMoveContinuous();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.direction = Vector2.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.speed = reader.float();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.movementType = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  TextureMoveContinuous2.decode = decode;
})(TextureMoveContinuous || (TextureMoveContinuous = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/Tween.gen.js
var TweenSchema = {
  COMPONENT_ID: 1102,
  serialize(value, builder) {
    const writer = PBTween.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBTween.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBTween.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBTween',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/tween_sequence.gen.js
var import_minimal42 = __toESM(require_minimal2());
var TweenLoop;
(function (TweenLoop2) {
  TweenLoop2[(TweenLoop2['TL_RESTART'] = 0)] = 'TL_RESTART';
  TweenLoop2[(TweenLoop2['TL_YOYO'] = 1)] = 'TL_YOYO';
})(TweenLoop || (TweenLoop = {}));
function createBasePBTweenSequence() {
  return { sequence: [], loop: void 0 };
}
var PBTweenSequence;
(function (PBTweenSequence2) {
  function encode(message, writer = import_minimal42.default.Writer.create()) {
    for (const v of message.sequence) {
      PBTween.encode(v, writer.uint32(10).fork()).ldelim();
    }
    if (message.loop !== void 0) {
      writer.uint32(16).int32(message.loop);
    }
    return writer;
  }
  PBTweenSequence2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal42.default.Reader
        ? input
        : import_minimal42.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBTweenSequence();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.sequence.push(PBTween.decode(reader, reader.uint32()));
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.loop = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBTweenSequence2.decode = decode;
})(PBTweenSequence || (PBTweenSequence = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/TweenSequence.gen.js
var TweenSequenceSchema = {
  COMPONENT_ID: 1104,
  serialize(value, builder) {
    const writer = PBTweenSequence.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBTweenSequence.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBTweenSequence.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBTweenSequence',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/tween_state.gen.js
var import_minimal43 = __toESM(require_minimal2());
var TweenStateStatus;
(function (TweenStateStatus2) {
  TweenStateStatus2[(TweenStateStatus2['TS_ACTIVE'] = 0)] = 'TS_ACTIVE';
  TweenStateStatus2[(TweenStateStatus2['TS_COMPLETED'] = 1)] = 'TS_COMPLETED';
  TweenStateStatus2[(TweenStateStatus2['TS_PAUSED'] = 2)] = 'TS_PAUSED';
})(TweenStateStatus || (TweenStateStatus = {}));
function createBasePBTweenState() {
  return { state: 0, currentTime: 0 };
}
var PBTweenState;
(function (PBTweenState2) {
  function encode(message, writer = import_minimal43.default.Writer.create()) {
    if (message.state !== 0) {
      writer.uint32(8).int32(message.state);
    }
    if (message.currentTime !== 0) {
      writer.uint32(21).float(message.currentTime);
    }
    return writer;
  }
  PBTweenState2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal43.default.Reader
        ? input
        : import_minimal43.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBTweenState();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.state = reader.int32();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.currentTime = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBTweenState2.decode = decode;
})(PBTweenState || (PBTweenState = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/TweenState.gen.js
var TweenStateSchema = {
  COMPONENT_ID: 1103,
  serialize(value, builder) {
    const writer = PBTweenState.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBTweenState.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBTweenState.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBTweenState',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_background.gen.js
var import_minimal45 = __toESM(require_minimal2());

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/common/border_rect.gen.js
var import_minimal44 = __toESM(require_minimal2());
function createBaseBorderRect() {
  return { top: 0, left: 0, right: 0, bottom: 0 };
}
var BorderRect;
(function (BorderRect2) {
  function encode(message, writer = import_minimal44.default.Writer.create()) {
    if (message.top !== 0) {
      writer.uint32(13).float(message.top);
    }
    if (message.left !== 0) {
      writer.uint32(21).float(message.left);
    }
    if (message.right !== 0) {
      writer.uint32(29).float(message.right);
    }
    if (message.bottom !== 0) {
      writer.uint32(37).float(message.bottom);
    }
    return writer;
  }
  BorderRect2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal44.default.Reader
        ? input
        : import_minimal44.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseBorderRect();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.top = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.left = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.right = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.bottom = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  BorderRect2.decode = decode;
})(BorderRect || (BorderRect = {}));
function createBaseRect() {
  return { x: 0, y: 0, width: 0, height: 0 };
}
var Rect;
(function (Rect2) {
  function encode(message, writer = import_minimal44.default.Writer.create()) {
    if (message.x !== 0) {
      writer.uint32(13).float(message.x);
    }
    if (message.y !== 0) {
      writer.uint32(21).float(message.y);
    }
    if (message.width !== 0) {
      writer.uint32(29).float(message.width);
    }
    if (message.height !== 0) {
      writer.uint32(37).float(message.height);
    }
    return writer;
  }
  Rect2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal44.default.Reader
        ? input
        : import_minimal44.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseRect();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.x = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.y = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.width = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.height = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Rect2.decode = decode;
})(Rect || (Rect = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_background.gen.js
var BackgroundTextureMode;
(function (BackgroundTextureMode2) {
  BackgroundTextureMode2[(BackgroundTextureMode2['NINE_SLICES'] = 0)] = 'NINE_SLICES';
  BackgroundTextureMode2[(BackgroundTextureMode2['CENTER'] = 1)] = 'CENTER';
  BackgroundTextureMode2[(BackgroundTextureMode2['STRETCH'] = 2)] = 'STRETCH';
})(BackgroundTextureMode || (BackgroundTextureMode = {}));
function createBasePBUiBackground() {
  return { color: void 0, texture: void 0, textureMode: 0, textureSlices: void 0, uvs: [] };
}
var PBUiBackground;
(function (PBUiBackground2) {
  function encode(message, writer = import_minimal45.default.Writer.create()) {
    if (message.color !== void 0) {
      Color4.encode(message.color, writer.uint32(10).fork()).ldelim();
    }
    if (message.texture !== void 0) {
      TextureUnion.encode(message.texture, writer.uint32(18).fork()).ldelim();
    }
    if (message.textureMode !== 0) {
      writer.uint32(24).int32(message.textureMode);
    }
    if (message.textureSlices !== void 0) {
      BorderRect.encode(message.textureSlices, writer.uint32(34).fork()).ldelim();
    }
    writer.uint32(42).fork();
    for (const v of message.uvs) {
      writer.float(v);
    }
    writer.ldelim();
    return writer;
  }
  PBUiBackground2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal45.default.Reader
        ? input
        : import_minimal45.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiBackground();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.color = Color4.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.texture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.textureMode = reader.int32();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.textureSlices = BorderRect.decode(reader, reader.uint32());
          continue;
        case 5:
          if (tag === 45) {
            message.uvs.push(reader.float());
            continue;
          }
          if (tag === 42) {
            const end2 = reader.uint32() + reader.pos;
            while (reader.pos < end2) {
              message.uvs.push(reader.float());
            }
            continue;
          }
          break;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiBackground2.decode = decode;
})(PBUiBackground || (PBUiBackground = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/UiBackground.gen.js
var UiBackgroundSchema = {
  COMPONENT_ID: 1053,
  serialize(value, builder) {
    const writer = PBUiBackground.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBUiBackground.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiBackground.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBUiBackground',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_canvas_information.gen.js
var import_minimal46 = __toESM(require_minimal2());
function createBasePBUiCanvasInformation() {
  return { devicePixelRatio: 0, width: 0, height: 0, interactableArea: void 0 };
}
var PBUiCanvasInformation;
(function (PBUiCanvasInformation2) {
  function encode(message, writer = import_minimal46.default.Writer.create()) {
    if (message.devicePixelRatio !== 0) {
      writer.uint32(13).float(message.devicePixelRatio);
    }
    if (message.width !== 0) {
      writer.uint32(16).int32(message.width);
    }
    if (message.height !== 0) {
      writer.uint32(24).int32(message.height);
    }
    if (message.interactableArea !== void 0) {
      BorderRect.encode(message.interactableArea, writer.uint32(34).fork()).ldelim();
    }
    return writer;
  }
  PBUiCanvasInformation2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal46.default.Reader
        ? input
        : import_minimal46.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiCanvasInformation();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.devicePixelRatio = reader.float();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.width = reader.int32();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.height = reader.int32();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.interactableArea = BorderRect.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiCanvasInformation2.decode = decode;
})(PBUiCanvasInformation || (PBUiCanvasInformation = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/UiCanvasInformation.gen.js
var UiCanvasInformationSchema = {
  COMPONENT_ID: 1054,
  serialize(value, builder) {
    const writer = PBUiCanvasInformation.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBUiCanvasInformation.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiCanvasInformation.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBUiCanvasInformation',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_dropdown.gen.js
var import_minimal47 = __toESM(require_minimal2());
function createBasePBUiDropdown() {
  return {
    acceptEmpty: false,
    emptyLabel: void 0,
    options: [],
    selectedIndex: void 0,
    disabled: false,
    color: void 0,
    textAlign: void 0,
    font: void 0,
    fontSize: void 0,
  };
}
var PBUiDropdown;
(function (PBUiDropdown2) {
  function encode(message, writer = import_minimal47.default.Writer.create()) {
    if (message.acceptEmpty === true) {
      writer.uint32(8).bool(message.acceptEmpty);
    }
    if (message.emptyLabel !== void 0) {
      writer.uint32(18).string(message.emptyLabel);
    }
    for (const v of message.options) {
      writer.uint32(26).string(v);
    }
    if (message.selectedIndex !== void 0) {
      writer.uint32(32).int32(message.selectedIndex);
    }
    if (message.disabled === true) {
      writer.uint32(40).bool(message.disabled);
    }
    if (message.color !== void 0) {
      Color4.encode(message.color, writer.uint32(50).fork()).ldelim();
    }
    if (message.textAlign !== void 0) {
      writer.uint32(80).int32(message.textAlign);
    }
    if (message.font !== void 0) {
      writer.uint32(88).int32(message.font);
    }
    if (message.fontSize !== void 0) {
      writer.uint32(96).int32(message.fontSize);
    }
    return writer;
  }
  PBUiDropdown2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal47.default.Reader
        ? input
        : import_minimal47.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiDropdown();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.acceptEmpty = reader.bool();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.emptyLabel = reader.string();
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.options.push(reader.string());
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.selectedIndex = reader.int32();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.disabled = reader.bool();
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.color = Color4.decode(reader, reader.uint32());
          continue;
        case 10:
          if (tag !== 80) {
            break;
          }
          message.textAlign = reader.int32();
          continue;
        case 11:
          if (tag !== 88) {
            break;
          }
          message.font = reader.int32();
          continue;
        case 12:
          if (tag !== 96) {
            break;
          }
          message.fontSize = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiDropdown2.decode = decode;
})(PBUiDropdown || (PBUiDropdown = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/UiDropdown.gen.js
var UiDropdownSchema = {
  COMPONENT_ID: 1094,
  serialize(value, builder) {
    const writer = PBUiDropdown.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBUiDropdown.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiDropdown.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBUiDropdown',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_dropdown_result.gen.js
var import_minimal48 = __toESM(require_minimal2());
function createBasePBUiDropdownResult() {
  return { value: 0 };
}
var PBUiDropdownResult;
(function (PBUiDropdownResult2) {
  function encode(message, writer = import_minimal48.default.Writer.create()) {
    if (message.value !== 0) {
      writer.uint32(8).int32(message.value);
    }
    return writer;
  }
  PBUiDropdownResult2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal48.default.Reader
        ? input
        : import_minimal48.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiDropdownResult();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.value = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiDropdownResult2.decode = decode;
})(PBUiDropdownResult || (PBUiDropdownResult = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/UiDropdownResult.gen.js
var UiDropdownResultSchema = {
  COMPONENT_ID: 1096,
  serialize(value, builder) {
    const writer = PBUiDropdownResult.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBUiDropdownResult.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiDropdownResult.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBUiDropdownResult',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_input.gen.js
var import_minimal49 = __toESM(require_minimal2());
function createBasePBUiInput() {
  return {
    placeholder: '',
    color: void 0,
    placeholderColor: void 0,
    disabled: false,
    textAlign: void 0,
    font: void 0,
    fontSize: void 0,
    value: void 0,
  };
}
var PBUiInput;
(function (PBUiInput2) {
  function encode(message, writer = import_minimal49.default.Writer.create()) {
    if (message.placeholder !== '') {
      writer.uint32(10).string(message.placeholder);
    }
    if (message.color !== void 0) {
      Color4.encode(message.color, writer.uint32(18).fork()).ldelim();
    }
    if (message.placeholderColor !== void 0) {
      Color4.encode(message.placeholderColor, writer.uint32(26).fork()).ldelim();
    }
    if (message.disabled === true) {
      writer.uint32(32).bool(message.disabled);
    }
    if (message.textAlign !== void 0) {
      writer.uint32(80).int32(message.textAlign);
    }
    if (message.font !== void 0) {
      writer.uint32(88).int32(message.font);
    }
    if (message.fontSize !== void 0) {
      writer.uint32(96).int32(message.fontSize);
    }
    if (message.value !== void 0) {
      writer.uint32(106).string(message.value);
    }
    return writer;
  }
  PBUiInput2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal49.default.Reader
        ? input
        : import_minimal49.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiInput();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.placeholder = reader.string();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.color = Color4.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.placeholderColor = Color4.decode(reader, reader.uint32());
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.disabled = reader.bool();
          continue;
        case 10:
          if (tag !== 80) {
            break;
          }
          message.textAlign = reader.int32();
          continue;
        case 11:
          if (tag !== 88) {
            break;
          }
          message.font = reader.int32();
          continue;
        case 12:
          if (tag !== 96) {
            break;
          }
          message.fontSize = reader.int32();
          continue;
        case 13:
          if (tag !== 106) {
            break;
          }
          message.value = reader.string();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiInput2.decode = decode;
})(PBUiInput || (PBUiInput = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/UiInput.gen.js
var UiInputSchema = {
  COMPONENT_ID: 1093,
  serialize(value, builder) {
    const writer = PBUiInput.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBUiInput.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiInput.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBUiInput',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_input_result.gen.js
var import_minimal50 = __toESM(require_minimal2());
function createBasePBUiInputResult() {
  return { value: '', isSubmit: void 0 };
}
var PBUiInputResult;
(function (PBUiInputResult2) {
  function encode(message, writer = import_minimal50.default.Writer.create()) {
    if (message.value !== '') {
      writer.uint32(10).string(message.value);
    }
    if (message.isSubmit !== void 0) {
      writer.uint32(16).bool(message.isSubmit);
    }
    return writer;
  }
  PBUiInputResult2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal50.default.Reader
        ? input
        : import_minimal50.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiInputResult();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.value = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.isSubmit = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiInputResult2.decode = decode;
})(PBUiInputResult || (PBUiInputResult = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/UiInputResult.gen.js
var UiInputResultSchema = {
  COMPONENT_ID: 1095,
  serialize(value, builder) {
    const writer = PBUiInputResult.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBUiInputResult.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiInputResult.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBUiInputResult',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_text.gen.js
var import_minimal51 = __toESM(require_minimal2());
var TextWrap;
(function (TextWrap2) {
  TextWrap2[(TextWrap2['TW_WRAP'] = 0)] = 'TW_WRAP';
  TextWrap2[(TextWrap2['TW_NO_WRAP'] = 1)] = 'TW_NO_WRAP';
})(TextWrap || (TextWrap = {}));
function createBasePBUiText() {
  return {
    value: '',
    color: void 0,
    textAlign: void 0,
    font: void 0,
    fontSize: void 0,
    textWrap: void 0,
  };
}
var PBUiText;
(function (PBUiText2) {
  function encode(message, writer = import_minimal51.default.Writer.create()) {
    if (message.value !== '') {
      writer.uint32(10).string(message.value);
    }
    if (message.color !== void 0) {
      Color4.encode(message.color, writer.uint32(18).fork()).ldelim();
    }
    if (message.textAlign !== void 0) {
      writer.uint32(24).int32(message.textAlign);
    }
    if (message.font !== void 0) {
      writer.uint32(32).int32(message.font);
    }
    if (message.fontSize !== void 0) {
      writer.uint32(40).int32(message.fontSize);
    }
    if (message.textWrap !== void 0) {
      writer.uint32(48).int32(message.textWrap);
    }
    return writer;
  }
  PBUiText2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal51.default.Reader
        ? input
        : import_minimal51.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiText();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.value = reader.string();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.color = Color4.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.textAlign = reader.int32();
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.font = reader.int32();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.fontSize = reader.int32();
          continue;
        case 6:
          if (tag !== 48) {
            break;
          }
          message.textWrap = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiText2.decode = decode;
})(PBUiText || (PBUiText = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/UiText.gen.js
var UiTextSchema = {
  COMPONENT_ID: 1052,
  serialize(value, builder) {
    const writer = PBUiText.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBUiText.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiText.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBUiText',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_transform.gen.js
var import_minimal52 = __toESM(require_minimal2());
var YGPositionType;
(function (YGPositionType2) {
  YGPositionType2[(YGPositionType2['YGPT_RELATIVE'] = 0)] = 'YGPT_RELATIVE';
  YGPositionType2[(YGPositionType2['YGPT_ABSOLUTE'] = 1)] = 'YGPT_ABSOLUTE';
})(YGPositionType || (YGPositionType = {}));
var YGAlign;
(function (YGAlign2) {
  YGAlign2[(YGAlign2['YGA_AUTO'] = 0)] = 'YGA_AUTO';
  YGAlign2[(YGAlign2['YGA_FLEX_START'] = 1)] = 'YGA_FLEX_START';
  YGAlign2[(YGAlign2['YGA_CENTER'] = 2)] = 'YGA_CENTER';
  YGAlign2[(YGAlign2['YGA_FLEX_END'] = 3)] = 'YGA_FLEX_END';
  YGAlign2[(YGAlign2['YGA_STRETCH'] = 4)] = 'YGA_STRETCH';
  YGAlign2[(YGAlign2['YGA_BASELINE'] = 5)] = 'YGA_BASELINE';
  YGAlign2[(YGAlign2['YGA_SPACE_BETWEEN'] = 6)] = 'YGA_SPACE_BETWEEN';
  YGAlign2[(YGAlign2['YGA_SPACE_AROUND'] = 7)] = 'YGA_SPACE_AROUND';
})(YGAlign || (YGAlign = {}));
var YGUnit;
(function (YGUnit2) {
  YGUnit2[(YGUnit2['YGU_UNDEFINED'] = 0)] = 'YGU_UNDEFINED';
  YGUnit2[(YGUnit2['YGU_POINT'] = 1)] = 'YGU_POINT';
  YGUnit2[(YGUnit2['YGU_PERCENT'] = 2)] = 'YGU_PERCENT';
  YGUnit2[(YGUnit2['YGU_AUTO'] = 3)] = 'YGU_AUTO';
})(YGUnit || (YGUnit = {}));
var YGFlexDirection;
(function (YGFlexDirection2) {
  YGFlexDirection2[(YGFlexDirection2['YGFD_ROW'] = 0)] = 'YGFD_ROW';
  YGFlexDirection2[(YGFlexDirection2['YGFD_COLUMN'] = 1)] = 'YGFD_COLUMN';
  YGFlexDirection2[(YGFlexDirection2['YGFD_COLUMN_REVERSE'] = 2)] = 'YGFD_COLUMN_REVERSE';
  YGFlexDirection2[(YGFlexDirection2['YGFD_ROW_REVERSE'] = 3)] = 'YGFD_ROW_REVERSE';
})(YGFlexDirection || (YGFlexDirection = {}));
var YGWrap;
(function (YGWrap2) {
  YGWrap2[(YGWrap2['YGW_NO_WRAP'] = 0)] = 'YGW_NO_WRAP';
  YGWrap2[(YGWrap2['YGW_WRAP'] = 1)] = 'YGW_WRAP';
  YGWrap2[(YGWrap2['YGW_WRAP_REVERSE'] = 2)] = 'YGW_WRAP_REVERSE';
})(YGWrap || (YGWrap = {}));
var YGJustify;
(function (YGJustify2) {
  YGJustify2[(YGJustify2['YGJ_FLEX_START'] = 0)] = 'YGJ_FLEX_START';
  YGJustify2[(YGJustify2['YGJ_CENTER'] = 1)] = 'YGJ_CENTER';
  YGJustify2[(YGJustify2['YGJ_FLEX_END'] = 2)] = 'YGJ_FLEX_END';
  YGJustify2[(YGJustify2['YGJ_SPACE_BETWEEN'] = 3)] = 'YGJ_SPACE_BETWEEN';
  YGJustify2[(YGJustify2['YGJ_SPACE_AROUND'] = 4)] = 'YGJ_SPACE_AROUND';
  YGJustify2[(YGJustify2['YGJ_SPACE_EVENLY'] = 5)] = 'YGJ_SPACE_EVENLY';
})(YGJustify || (YGJustify = {}));
var YGOverflow;
(function (YGOverflow2) {
  YGOverflow2[(YGOverflow2['YGO_VISIBLE'] = 0)] = 'YGO_VISIBLE';
  YGOverflow2[(YGOverflow2['YGO_HIDDEN'] = 1)] = 'YGO_HIDDEN';
  YGOverflow2[(YGOverflow2['YGO_SCROLL'] = 2)] = 'YGO_SCROLL';
})(YGOverflow || (YGOverflow = {}));
var YGDisplay;
(function (YGDisplay2) {
  YGDisplay2[(YGDisplay2['YGD_FLEX'] = 0)] = 'YGD_FLEX';
  YGDisplay2[(YGDisplay2['YGD_NONE'] = 1)] = 'YGD_NONE';
})(YGDisplay || (YGDisplay = {}));
var YGEdge;
(function (YGEdge2) {
  YGEdge2[(YGEdge2['YGE_LEFT'] = 0)] = 'YGE_LEFT';
  YGEdge2[(YGEdge2['YGE_TOP'] = 1)] = 'YGE_TOP';
  YGEdge2[(YGEdge2['YGE_RIGHT'] = 2)] = 'YGE_RIGHT';
  YGEdge2[(YGEdge2['YGE_BOTTOM'] = 3)] = 'YGE_BOTTOM';
  YGEdge2[(YGEdge2['YGE_START'] = 4)] = 'YGE_START';
  YGEdge2[(YGEdge2['YGE_END'] = 5)] = 'YGE_END';
  YGEdge2[(YGEdge2['YGE_HORIZONTAL'] = 6)] = 'YGE_HORIZONTAL';
  YGEdge2[(YGEdge2['YGE_VERTICAL'] = 7)] = 'YGE_VERTICAL';
  YGEdge2[(YGEdge2['YGE_ALL'] = 8)] = 'YGE_ALL';
})(YGEdge || (YGEdge = {}));
var PointerFilterMode;
(function (PointerFilterMode2) {
  PointerFilterMode2[(PointerFilterMode2['PFM_NONE'] = 0)] = 'PFM_NONE';
  PointerFilterMode2[(PointerFilterMode2['PFM_BLOCK'] = 1)] = 'PFM_BLOCK';
})(PointerFilterMode || (PointerFilterMode = {}));
function createBasePBUiTransform() {
  return {
    parent: 0,
    rightOf: 0,
    alignContent: void 0,
    alignItems: void 0,
    flexWrap: void 0,
    flexShrink: void 0,
    positionType: 0,
    alignSelf: 0,
    flexDirection: 0,
    justifyContent: 0,
    overflow: 0,
    display: 0,
    flexBasisUnit: 0,
    flexBasis: 0,
    flexGrow: 0,
    widthUnit: 0,
    width: 0,
    heightUnit: 0,
    height: 0,
    minWidthUnit: 0,
    minWidth: 0,
    minHeightUnit: 0,
    minHeight: 0,
    maxWidthUnit: 0,
    maxWidth: 0,
    maxHeightUnit: 0,
    maxHeight: 0,
    positionLeftUnit: 0,
    positionLeft: 0,
    positionTopUnit: 0,
    positionTop: 0,
    positionRightUnit: 0,
    positionRight: 0,
    positionBottomUnit: 0,
    positionBottom: 0,
    marginLeftUnit: 0,
    marginLeft: 0,
    marginTopUnit: 0,
    marginTop: 0,
    marginRightUnit: 0,
    marginRight: 0,
    marginBottomUnit: 0,
    marginBottom: 0,
    paddingLeftUnit: 0,
    paddingLeft: 0,
    paddingTopUnit: 0,
    paddingTop: 0,
    paddingRightUnit: 0,
    paddingRight: 0,
    paddingBottomUnit: 0,
    paddingBottom: 0,
    pointerFilter: void 0,
    borderLeftWidthUnit: void 0,
    borderLeftWidth: void 0,
    borderTopWidthUnit: void 0,
    borderTopWidth: void 0,
    borderRightWidthUnit: void 0,
    borderRightWidth: void 0,
    borderBottomWidthUnit: void 0,
    borderBottomWidth: void 0,
    borderTopLeftRadiusUnit: void 0,
    borderTopLeftRadius: void 0,
    borderTopRightRadiusUnit: void 0,
    borderTopRightRadius: void 0,
    borderBottomLeftRadiusUnit: void 0,
    borderBottomLeftRadius: void 0,
    borderBottomRightRadiusUnit: void 0,
    borderBottomRightRadius: void 0,
    borderTopColor: void 0,
    borderBottomColor: void 0,
    borderLeftColor: void 0,
    borderRightColor: void 0,
    opacity: void 0,
    zIndex: void 0,
  };
}
var PBUiTransform;
(function (PBUiTransform2) {
  function encode(message, writer = import_minimal52.default.Writer.create()) {
    if (message.parent !== 0) {
      writer.uint32(8).int32(message.parent);
    }
    if (message.rightOf !== 0) {
      writer.uint32(16).int32(message.rightOf);
    }
    if (message.alignContent !== void 0) {
      writer.uint32(24).int32(message.alignContent);
    }
    if (message.alignItems !== void 0) {
      writer.uint32(32).int32(message.alignItems);
    }
    if (message.flexWrap !== void 0) {
      writer.uint32(40).int32(message.flexWrap);
    }
    if (message.flexShrink !== void 0) {
      writer.uint32(53).float(message.flexShrink);
    }
    if (message.positionType !== 0) {
      writer.uint32(56).int32(message.positionType);
    }
    if (message.alignSelf !== 0) {
      writer.uint32(64).int32(message.alignSelf);
    }
    if (message.flexDirection !== 0) {
      writer.uint32(72).int32(message.flexDirection);
    }
    if (message.justifyContent !== 0) {
      writer.uint32(80).int32(message.justifyContent);
    }
    if (message.overflow !== 0) {
      writer.uint32(88).int32(message.overflow);
    }
    if (message.display !== 0) {
      writer.uint32(96).int32(message.display);
    }
    if (message.flexBasisUnit !== 0) {
      writer.uint32(104).int32(message.flexBasisUnit);
    }
    if (message.flexBasis !== 0) {
      writer.uint32(117).float(message.flexBasis);
    }
    if (message.flexGrow !== 0) {
      writer.uint32(125).float(message.flexGrow);
    }
    if (message.widthUnit !== 0) {
      writer.uint32(128).int32(message.widthUnit);
    }
    if (message.width !== 0) {
      writer.uint32(141).float(message.width);
    }
    if (message.heightUnit !== 0) {
      writer.uint32(144).int32(message.heightUnit);
    }
    if (message.height !== 0) {
      writer.uint32(157).float(message.height);
    }
    if (message.minWidthUnit !== 0) {
      writer.uint32(160).int32(message.minWidthUnit);
    }
    if (message.minWidth !== 0) {
      writer.uint32(173).float(message.minWidth);
    }
    if (message.minHeightUnit !== 0) {
      writer.uint32(176).int32(message.minHeightUnit);
    }
    if (message.minHeight !== 0) {
      writer.uint32(189).float(message.minHeight);
    }
    if (message.maxWidthUnit !== 0) {
      writer.uint32(192).int32(message.maxWidthUnit);
    }
    if (message.maxWidth !== 0) {
      writer.uint32(205).float(message.maxWidth);
    }
    if (message.maxHeightUnit !== 0) {
      writer.uint32(208).int32(message.maxHeightUnit);
    }
    if (message.maxHeight !== 0) {
      writer.uint32(221).float(message.maxHeight);
    }
    if (message.positionLeftUnit !== 0) {
      writer.uint32(224).int32(message.positionLeftUnit);
    }
    if (message.positionLeft !== 0) {
      writer.uint32(237).float(message.positionLeft);
    }
    if (message.positionTopUnit !== 0) {
      writer.uint32(240).int32(message.positionTopUnit);
    }
    if (message.positionTop !== 0) {
      writer.uint32(253).float(message.positionTop);
    }
    if (message.positionRightUnit !== 0) {
      writer.uint32(256).int32(message.positionRightUnit);
    }
    if (message.positionRight !== 0) {
      writer.uint32(269).float(message.positionRight);
    }
    if (message.positionBottomUnit !== 0) {
      writer.uint32(272).int32(message.positionBottomUnit);
    }
    if (message.positionBottom !== 0) {
      writer.uint32(285).float(message.positionBottom);
    }
    if (message.marginLeftUnit !== 0) {
      writer.uint32(288).int32(message.marginLeftUnit);
    }
    if (message.marginLeft !== 0) {
      writer.uint32(301).float(message.marginLeft);
    }
    if (message.marginTopUnit !== 0) {
      writer.uint32(304).int32(message.marginTopUnit);
    }
    if (message.marginTop !== 0) {
      writer.uint32(317).float(message.marginTop);
    }
    if (message.marginRightUnit !== 0) {
      writer.uint32(320).int32(message.marginRightUnit);
    }
    if (message.marginRight !== 0) {
      writer.uint32(333).float(message.marginRight);
    }
    if (message.marginBottomUnit !== 0) {
      writer.uint32(336).int32(message.marginBottomUnit);
    }
    if (message.marginBottom !== 0) {
      writer.uint32(349).float(message.marginBottom);
    }
    if (message.paddingLeftUnit !== 0) {
      writer.uint32(352).int32(message.paddingLeftUnit);
    }
    if (message.paddingLeft !== 0) {
      writer.uint32(365).float(message.paddingLeft);
    }
    if (message.paddingTopUnit !== 0) {
      writer.uint32(368).int32(message.paddingTopUnit);
    }
    if (message.paddingTop !== 0) {
      writer.uint32(381).float(message.paddingTop);
    }
    if (message.paddingRightUnit !== 0) {
      writer.uint32(384).int32(message.paddingRightUnit);
    }
    if (message.paddingRight !== 0) {
      writer.uint32(397).float(message.paddingRight);
    }
    if (message.paddingBottomUnit !== 0) {
      writer.uint32(400).int32(message.paddingBottomUnit);
    }
    if (message.paddingBottom !== 0) {
      writer.uint32(413).float(message.paddingBottom);
    }
    if (message.pointerFilter !== void 0) {
      writer.uint32(416).int32(message.pointerFilter);
    }
    if (message.borderLeftWidthUnit !== void 0) {
      writer.uint32(424).int32(message.borderLeftWidthUnit);
    }
    if (message.borderLeftWidth !== void 0) {
      writer.uint32(437).float(message.borderLeftWidth);
    }
    if (message.borderTopWidthUnit !== void 0) {
      writer.uint32(440).int32(message.borderTopWidthUnit);
    }
    if (message.borderTopWidth !== void 0) {
      writer.uint32(453).float(message.borderTopWidth);
    }
    if (message.borderRightWidthUnit !== void 0) {
      writer.uint32(456).int32(message.borderRightWidthUnit);
    }
    if (message.borderRightWidth !== void 0) {
      writer.uint32(469).float(message.borderRightWidth);
    }
    if (message.borderBottomWidthUnit !== void 0) {
      writer.uint32(472).int32(message.borderBottomWidthUnit);
    }
    if (message.borderBottomWidth !== void 0) {
      writer.uint32(485).float(message.borderBottomWidth);
    }
    if (message.borderTopLeftRadiusUnit !== void 0) {
      writer.uint32(488).int32(message.borderTopLeftRadiusUnit);
    }
    if (message.borderTopLeftRadius !== void 0) {
      writer.uint32(501).float(message.borderTopLeftRadius);
    }
    if (message.borderTopRightRadiusUnit !== void 0) {
      writer.uint32(504).int32(message.borderTopRightRadiusUnit);
    }
    if (message.borderTopRightRadius !== void 0) {
      writer.uint32(517).float(message.borderTopRightRadius);
    }
    if (message.borderBottomLeftRadiusUnit !== void 0) {
      writer.uint32(520).int32(message.borderBottomLeftRadiusUnit);
    }
    if (message.borderBottomLeftRadius !== void 0) {
      writer.uint32(533).float(message.borderBottomLeftRadius);
    }
    if (message.borderBottomRightRadiusUnit !== void 0) {
      writer.uint32(536).int32(message.borderBottomRightRadiusUnit);
    }
    if (message.borderBottomRightRadius !== void 0) {
      writer.uint32(549).float(message.borderBottomRightRadius);
    }
    if (message.borderTopColor !== void 0) {
      Color4.encode(message.borderTopColor, writer.uint32(554).fork()).ldelim();
    }
    if (message.borderBottomColor !== void 0) {
      Color4.encode(message.borderBottomColor, writer.uint32(562).fork()).ldelim();
    }
    if (message.borderLeftColor !== void 0) {
      Color4.encode(message.borderLeftColor, writer.uint32(570).fork()).ldelim();
    }
    if (message.borderRightColor !== void 0) {
      Color4.encode(message.borderRightColor, writer.uint32(578).fork()).ldelim();
    }
    if (message.opacity !== void 0) {
      writer.uint32(589).float(message.opacity);
    }
    if (message.zIndex !== void 0) {
      writer.uint32(616).int32(message.zIndex);
    }
    return writer;
  }
  PBUiTransform2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal52.default.Reader
        ? input
        : import_minimal52.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiTransform();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.parent = reader.int32();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.rightOf = reader.int32();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.alignContent = reader.int32();
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.alignItems = reader.int32();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.flexWrap = reader.int32();
          continue;
        case 6:
          if (tag !== 53) {
            break;
          }
          message.flexShrink = reader.float();
          continue;
        case 7:
          if (tag !== 56) {
            break;
          }
          message.positionType = reader.int32();
          continue;
        case 8:
          if (tag !== 64) {
            break;
          }
          message.alignSelf = reader.int32();
          continue;
        case 9:
          if (tag !== 72) {
            break;
          }
          message.flexDirection = reader.int32();
          continue;
        case 10:
          if (tag !== 80) {
            break;
          }
          message.justifyContent = reader.int32();
          continue;
        case 11:
          if (tag !== 88) {
            break;
          }
          message.overflow = reader.int32();
          continue;
        case 12:
          if (tag !== 96) {
            break;
          }
          message.display = reader.int32();
          continue;
        case 13:
          if (tag !== 104) {
            break;
          }
          message.flexBasisUnit = reader.int32();
          continue;
        case 14:
          if (tag !== 117) {
            break;
          }
          message.flexBasis = reader.float();
          continue;
        case 15:
          if (tag !== 125) {
            break;
          }
          message.flexGrow = reader.float();
          continue;
        case 16:
          if (tag !== 128) {
            break;
          }
          message.widthUnit = reader.int32();
          continue;
        case 17:
          if (tag !== 141) {
            break;
          }
          message.width = reader.float();
          continue;
        case 18:
          if (tag !== 144) {
            break;
          }
          message.heightUnit = reader.int32();
          continue;
        case 19:
          if (tag !== 157) {
            break;
          }
          message.height = reader.float();
          continue;
        case 20:
          if (tag !== 160) {
            break;
          }
          message.minWidthUnit = reader.int32();
          continue;
        case 21:
          if (tag !== 173) {
            break;
          }
          message.minWidth = reader.float();
          continue;
        case 22:
          if (tag !== 176) {
            break;
          }
          message.minHeightUnit = reader.int32();
          continue;
        case 23:
          if (tag !== 189) {
            break;
          }
          message.minHeight = reader.float();
          continue;
        case 24:
          if (tag !== 192) {
            break;
          }
          message.maxWidthUnit = reader.int32();
          continue;
        case 25:
          if (tag !== 205) {
            break;
          }
          message.maxWidth = reader.float();
          continue;
        case 26:
          if (tag !== 208) {
            break;
          }
          message.maxHeightUnit = reader.int32();
          continue;
        case 27:
          if (tag !== 221) {
            break;
          }
          message.maxHeight = reader.float();
          continue;
        case 28:
          if (tag !== 224) {
            break;
          }
          message.positionLeftUnit = reader.int32();
          continue;
        case 29:
          if (tag !== 237) {
            break;
          }
          message.positionLeft = reader.float();
          continue;
        case 30:
          if (tag !== 240) {
            break;
          }
          message.positionTopUnit = reader.int32();
          continue;
        case 31:
          if (tag !== 253) {
            break;
          }
          message.positionTop = reader.float();
          continue;
        case 32:
          if (tag !== 256) {
            break;
          }
          message.positionRightUnit = reader.int32();
          continue;
        case 33:
          if (tag !== 269) {
            break;
          }
          message.positionRight = reader.float();
          continue;
        case 34:
          if (tag !== 272) {
            break;
          }
          message.positionBottomUnit = reader.int32();
          continue;
        case 35:
          if (tag !== 285) {
            break;
          }
          message.positionBottom = reader.float();
          continue;
        case 36:
          if (tag !== 288) {
            break;
          }
          message.marginLeftUnit = reader.int32();
          continue;
        case 37:
          if (tag !== 301) {
            break;
          }
          message.marginLeft = reader.float();
          continue;
        case 38:
          if (tag !== 304) {
            break;
          }
          message.marginTopUnit = reader.int32();
          continue;
        case 39:
          if (tag !== 317) {
            break;
          }
          message.marginTop = reader.float();
          continue;
        case 40:
          if (tag !== 320) {
            break;
          }
          message.marginRightUnit = reader.int32();
          continue;
        case 41:
          if (tag !== 333) {
            break;
          }
          message.marginRight = reader.float();
          continue;
        case 42:
          if (tag !== 336) {
            break;
          }
          message.marginBottomUnit = reader.int32();
          continue;
        case 43:
          if (tag !== 349) {
            break;
          }
          message.marginBottom = reader.float();
          continue;
        case 44:
          if (tag !== 352) {
            break;
          }
          message.paddingLeftUnit = reader.int32();
          continue;
        case 45:
          if (tag !== 365) {
            break;
          }
          message.paddingLeft = reader.float();
          continue;
        case 46:
          if (tag !== 368) {
            break;
          }
          message.paddingTopUnit = reader.int32();
          continue;
        case 47:
          if (tag !== 381) {
            break;
          }
          message.paddingTop = reader.float();
          continue;
        case 48:
          if (tag !== 384) {
            break;
          }
          message.paddingRightUnit = reader.int32();
          continue;
        case 49:
          if (tag !== 397) {
            break;
          }
          message.paddingRight = reader.float();
          continue;
        case 50:
          if (tag !== 400) {
            break;
          }
          message.paddingBottomUnit = reader.int32();
          continue;
        case 51:
          if (tag !== 413) {
            break;
          }
          message.paddingBottom = reader.float();
          continue;
        case 52:
          if (tag !== 416) {
            break;
          }
          message.pointerFilter = reader.int32();
          continue;
        case 53:
          if (tag !== 424) {
            break;
          }
          message.borderLeftWidthUnit = reader.int32();
          continue;
        case 54:
          if (tag !== 437) {
            break;
          }
          message.borderLeftWidth = reader.float();
          continue;
        case 55:
          if (tag !== 440) {
            break;
          }
          message.borderTopWidthUnit = reader.int32();
          continue;
        case 56:
          if (tag !== 453) {
            break;
          }
          message.borderTopWidth = reader.float();
          continue;
        case 57:
          if (tag !== 456) {
            break;
          }
          message.borderRightWidthUnit = reader.int32();
          continue;
        case 58:
          if (tag !== 469) {
            break;
          }
          message.borderRightWidth = reader.float();
          continue;
        case 59:
          if (tag !== 472) {
            break;
          }
          message.borderBottomWidthUnit = reader.int32();
          continue;
        case 60:
          if (tag !== 485) {
            break;
          }
          message.borderBottomWidth = reader.float();
          continue;
        case 61:
          if (tag !== 488) {
            break;
          }
          message.borderTopLeftRadiusUnit = reader.int32();
          continue;
        case 62:
          if (tag !== 501) {
            break;
          }
          message.borderTopLeftRadius = reader.float();
          continue;
        case 63:
          if (tag !== 504) {
            break;
          }
          message.borderTopRightRadiusUnit = reader.int32();
          continue;
        case 64:
          if (tag !== 517) {
            break;
          }
          message.borderTopRightRadius = reader.float();
          continue;
        case 65:
          if (tag !== 520) {
            break;
          }
          message.borderBottomLeftRadiusUnit = reader.int32();
          continue;
        case 66:
          if (tag !== 533) {
            break;
          }
          message.borderBottomLeftRadius = reader.float();
          continue;
        case 67:
          if (tag !== 536) {
            break;
          }
          message.borderBottomRightRadiusUnit = reader.int32();
          continue;
        case 68:
          if (tag !== 549) {
            break;
          }
          message.borderBottomRightRadius = reader.float();
          continue;
        case 69:
          if (tag !== 554) {
            break;
          }
          message.borderTopColor = Color4.decode(reader, reader.uint32());
          continue;
        case 70:
          if (tag !== 562) {
            break;
          }
          message.borderBottomColor = Color4.decode(reader, reader.uint32());
          continue;
        case 71:
          if (tag !== 570) {
            break;
          }
          message.borderLeftColor = Color4.decode(reader, reader.uint32());
          continue;
        case 72:
          if (tag !== 578) {
            break;
          }
          message.borderRightColor = Color4.decode(reader, reader.uint32());
          continue;
        case 73:
          if (tag !== 589) {
            break;
          }
          message.opacity = reader.float();
          continue;
        case 77:
          if (tag !== 616) {
            break;
          }
          message.zIndex = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiTransform2.decode = decode;
})(PBUiTransform || (PBUiTransform = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/UiTransform.gen.js
var UiTransformSchema = {
  COMPONENT_ID: 1050,
  serialize(value, builder) {
    const writer = PBUiTransform.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBUiTransform.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiTransform.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBUiTransform',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/video_event.gen.js
var import_minimal53 = __toESM(require_minimal2());
var VideoState;
(function (VideoState2) {
  VideoState2[(VideoState2['VS_NONE'] = 0)] = 'VS_NONE';
  VideoState2[(VideoState2['VS_ERROR'] = 1)] = 'VS_ERROR';
  VideoState2[(VideoState2['VS_LOADING'] = 2)] = 'VS_LOADING';
  VideoState2[(VideoState2['VS_READY'] = 3)] = 'VS_READY';
  VideoState2[(VideoState2['VS_PLAYING'] = 4)] = 'VS_PLAYING';
  VideoState2[(VideoState2['VS_BUFFERING'] = 5)] = 'VS_BUFFERING';
  VideoState2[(VideoState2['VS_SEEKING'] = 6)] = 'VS_SEEKING';
  VideoState2[(VideoState2['VS_PAUSED'] = 7)] = 'VS_PAUSED';
})(VideoState || (VideoState = {}));
function createBasePBVideoEvent() {
  return { timestamp: 0, tickNumber: 0, currentOffset: 0, videoLength: 0, state: 0 };
}
var PBVideoEvent;
(function (PBVideoEvent2) {
  function encode(message, writer = import_minimal53.default.Writer.create()) {
    if (message.timestamp !== 0) {
      writer.uint32(8).uint32(message.timestamp);
    }
    if (message.tickNumber !== 0) {
      writer.uint32(16).uint32(message.tickNumber);
    }
    if (message.currentOffset !== 0) {
      writer.uint32(29).float(message.currentOffset);
    }
    if (message.videoLength !== 0) {
      writer.uint32(37).float(message.videoLength);
    }
    if (message.state !== 0) {
      writer.uint32(40).int32(message.state);
    }
    return writer;
  }
  PBVideoEvent2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal53.default.Reader
        ? input
        : import_minimal53.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBVideoEvent();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.timestamp = reader.uint32();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.tickNumber = reader.uint32();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.currentOffset = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.videoLength = reader.float();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.state = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBVideoEvent2.decode = decode;
})(PBVideoEvent || (PBVideoEvent = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/VideoEvent.gen.js
var VideoEventSchema = {
  COMPONENT_ID: 1044,
  serialize(value, builder) {
    const writer = PBVideoEvent.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBVideoEvent.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBVideoEvent.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBVideoEvent',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/video_player.gen.js
var import_minimal54 = __toESM(require_minimal2());
function createBasePBVideoPlayer() {
  return {
    src: '',
    playing: void 0,
    position: void 0,
    volume: void 0,
    playbackRate: void 0,
    loop: void 0,
    spatial: void 0,
    spatialMinDistance: void 0,
    spatialMaxDistance: void 0,
  };
}
var PBVideoPlayer;
(function (PBVideoPlayer2) {
  function encode(message, writer = import_minimal54.default.Writer.create()) {
    if (message.src !== '') {
      writer.uint32(10).string(message.src);
    }
    if (message.playing !== void 0) {
      writer.uint32(16).bool(message.playing);
    }
    if (message.position !== void 0) {
      writer.uint32(29).float(message.position);
    }
    if (message.volume !== void 0) {
      writer.uint32(37).float(message.volume);
    }
    if (message.playbackRate !== void 0) {
      writer.uint32(45).float(message.playbackRate);
    }
    if (message.loop !== void 0) {
      writer.uint32(48).bool(message.loop);
    }
    if (message.spatial !== void 0) {
      writer.uint32(56).bool(message.spatial);
    }
    if (message.spatialMinDistance !== void 0) {
      writer.uint32(69).float(message.spatialMinDistance);
    }
    if (message.spatialMaxDistance !== void 0) {
      writer.uint32(77).float(message.spatialMaxDistance);
    }
    return writer;
  }
  PBVideoPlayer2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal54.default.Reader
        ? input
        : import_minimal54.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBVideoPlayer();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.src = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.playing = reader.bool();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.position = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.volume = reader.float();
          continue;
        case 5:
          if (tag !== 45) {
            break;
          }
          message.playbackRate = reader.float();
          continue;
        case 6:
          if (tag !== 48) {
            break;
          }
          message.loop = reader.bool();
          continue;
        case 7:
          if (tag !== 56) {
            break;
          }
          message.spatial = reader.bool();
          continue;
        case 8:
          if (tag !== 69) {
            break;
          }
          message.spatialMinDistance = reader.float();
          continue;
        case 9:
          if (tag !== 77) {
            break;
          }
          message.spatialMaxDistance = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBVideoPlayer2.decode = decode;
})(PBVideoPlayer || (PBVideoPlayer = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/VideoPlayer.gen.js
var VideoPlayerSchema = {
  COMPONENT_ID: 1043,
  serialize(value, builder) {
    const writer = PBVideoPlayer.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBVideoPlayer.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBVideoPlayer.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBVideoPlayer',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/virtual_camera.gen.js
var import_minimal56 = __toESM(require_minimal2());

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/camera_transition.gen.js
var import_minimal55 = __toESM(require_minimal2());
function createBaseCameraTransition() {
  return { transitionMode: void 0 };
}
var CameraTransition;
(function (CameraTransition2) {
  function encode(message, writer = import_minimal55.default.Writer.create()) {
    switch (message.transitionMode?.$case) {
      case 'time':
        writer.uint32(13).float(message.transitionMode.time);
        break;
      case 'speed':
        writer.uint32(21).float(message.transitionMode.speed);
        break;
    }
    return writer;
  }
  CameraTransition2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal55.default.Reader
        ? input
        : import_minimal55.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseCameraTransition();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.transitionMode = { $case: 'time', time: reader.float() };
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.transitionMode = { $case: 'speed', speed: reader.float() };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  CameraTransition2.decode = decode;
})(CameraTransition || (CameraTransition = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/virtual_camera.gen.js
function createBasePBVirtualCamera() {
  return { defaultTransition: void 0, lookAtEntity: void 0 };
}
var PBVirtualCamera;
(function (PBVirtualCamera2) {
  function encode(message, writer = import_minimal56.default.Writer.create()) {
    if (message.defaultTransition !== void 0) {
      CameraTransition.encode(message.defaultTransition, writer.uint32(10).fork()).ldelim();
    }
    if (message.lookAtEntity !== void 0) {
      writer.uint32(16).uint32(message.lookAtEntity);
    }
    return writer;
  }
  PBVirtualCamera2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal56.default.Reader
        ? input
        : import_minimal56.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBVirtualCamera();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.defaultTransition = CameraTransition.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.lookAtEntity = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBVirtualCamera2.decode = decode;
})(PBVirtualCamera || (PBVirtualCamera = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/VirtualCamera.gen.js
var VirtualCameraSchema = {
  COMPONENT_ID: 1076,
  serialize(value, builder) {
    const writer = PBVirtualCamera.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBVirtualCamera.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBVirtualCamera.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBVirtualCamera',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/visibility_component.gen.js
var import_minimal57 = __toESM(require_minimal2());
function createBasePBVisibilityComponent() {
  return { visible: void 0, propagateToChildren: void 0 };
}
var PBVisibilityComponent;
(function (PBVisibilityComponent2) {
  function encode(message, writer = import_minimal57.default.Writer.create()) {
    if (message.visible !== void 0) {
      writer.uint32(8).bool(message.visible);
    }
    if (message.propagateToChildren !== void 0) {
      writer.uint32(16).bool(message.propagateToChildren);
    }
    return writer;
  }
  PBVisibilityComponent2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal57.default.Reader
        ? input
        : import_minimal57.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBVisibilityComponent();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.visible = reader.bool();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.propagateToChildren = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBVisibilityComponent2.decode = decode;
})(PBVisibilityComponent || (PBVisibilityComponent = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/VisibilityComponent.gen.js
var VisibilityComponentSchema = {
  COMPONENT_ID: 1081,
  serialize(value, builder) {
    const writer = PBVisibilityComponent.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBVisibilityComponent.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBVisibilityComponent.decode(new Uint8Array());
  },
  jsonSchema: {
    type: 'object',
    properties: {},
    serializationType: 'protocol-buffer',
    protocolBuffer: 'PBVisibilityComponent',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/index.gen.js
var Animator = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::Animator', AnimatorSchema);
var AudioEvent = engine2 =>
  /* @__PURE__ */ engine2.defineValueSetComponentFromSchema('core::AudioEvent', AudioEventSchema, {
    timestampFunction: t => t.timestamp,
    maxElements: 100,
  });
var AudioSource = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::AudioSource', AudioSourceSchema);
var AudioStream = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::AudioStream', AudioStreamSchema);
var AvatarAttach = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::AvatarAttach', AvatarAttachSchema);
var AvatarBase = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::AvatarBase', AvatarBaseSchema);
var AvatarEmoteCommand = engine2 =>
  /* @__PURE__ */ engine2.defineValueSetComponentFromSchema(
    'core::AvatarEmoteCommand',
    AvatarEmoteCommandSchema,
    {
      timestampFunction: t => t.timestamp,
      maxElements: 100,
    }
  );
var AvatarEquippedData = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema(
    'core::AvatarEquippedData',
    AvatarEquippedDataSchema
  );
var AvatarModifierArea = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema(
    'core::AvatarModifierArea',
    AvatarModifierAreaSchema
  );
var AvatarShape = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::AvatarShape', AvatarShapeSchema);
var Billboard = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::Billboard', BillboardSchema);
var CameraMode = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::CameraMode', CameraModeSchema);
var CameraModeArea = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::CameraModeArea', CameraModeAreaSchema);
var EngineInfo = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::EngineInfo', EngineInfoSchema);
var GltfContainer = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::GltfContainer', GltfContainerSchema);
var GltfContainerLoadingState = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema(
    'core::GltfContainerLoadingState',
    GltfContainerLoadingStateSchema
  );
var GltfNodeModifiers = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema(
    'core::GltfNodeModifiers',
    GltfNodeModifiersSchema
  );
var InputModifier = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::InputModifier', InputModifierSchema);
var LightSource = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::LightSource', LightSourceSchema);
var MainCamera = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::MainCamera', MainCameraSchema);
var Material = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::Material', MaterialSchema);
var MeshCollider = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::MeshCollider', MeshColliderSchema);
var MeshRenderer = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::MeshRenderer', MeshRendererSchema);
var NftShape = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::NftShape', NftShapeSchema);
var PlayerIdentityData = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema(
    'core::PlayerIdentityData',
    PlayerIdentityDataSchema
  );
var PointerEvents = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::PointerEvents', PointerEventsSchema);
var PointerEventsResult = engine2 =>
  /* @__PURE__ */ engine2.defineValueSetComponentFromSchema(
    'core::PointerEventsResult',
    PointerEventsResultSchema,
    {
      timestampFunction: t => t.timestamp,
      maxElements: 100,
    }
  );
var PointerLock = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::PointerLock', PointerLockSchema);
var PrimaryPointerInfo = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema(
    'core::PrimaryPointerInfo',
    PrimaryPointerInfoSchema
  );
var Raycast = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::Raycast', RaycastSchema);
var RaycastResult = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::RaycastResult', RaycastResultSchema);
var RealmInfo = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::RealmInfo', RealmInfoSchema);
var SkyboxTime = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::SkyboxTime', SkyboxTimeSchema);
var TextShape2 = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::TextShape', TextShapeSchema);
var TriggerArea = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::TriggerArea', TriggerAreaSchema);
var TriggerAreaResult = engine2 =>
  /* @__PURE__ */ engine2.defineValueSetComponentFromSchema(
    'core::TriggerAreaResult',
    TriggerAreaResultSchema,
    {
      timestampFunction: t => t.timestamp,
      maxElements: 100,
    }
  );
var Tween = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::Tween', TweenSchema);
var TweenSequence = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::TweenSequence', TweenSequenceSchema);
var TweenState = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::TweenState', TweenStateSchema);
var UiBackground = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::UiBackground', UiBackgroundSchema);
var UiCanvasInformation = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema(
    'core::UiCanvasInformation',
    UiCanvasInformationSchema
  );
var UiDropdown = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::UiDropdown', UiDropdownSchema);
var UiDropdownResult = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema(
    'core::UiDropdownResult',
    UiDropdownResultSchema
  );
var UiInput = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::UiInput', UiInputSchema);
var UiInputResult = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::UiInputResult', UiInputResultSchema);
var UiText = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::UiText', UiTextSchema);
var UiTransform = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::UiTransform', UiTransformSchema);
var VideoEvent = engine2 =>
  /* @__PURE__ */ engine2.defineValueSetComponentFromSchema('core::VideoEvent', VideoEventSchema, {
    timestampFunction: t => t.timestamp,
    maxElements: 100,
  });
var VideoPlayer = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::VideoPlayer', VideoPlayerSchema);
var VirtualCamera = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema('core::VirtualCamera', VirtualCameraSchema);
var VisibilityComponent = engine2 =>
  /* @__PURE__ */ engine2.defineComponentFromSchema(
    'core::VisibilityComponent',
    VisibilityComponentSchema
  );
var componentDefinitionByName = {
  'core::Animator': Animator,
  'core::AudioEvent': AudioEvent,
  'core::AudioSource': AudioSource,
  'core::AudioStream': AudioStream,
  'core::AvatarAttach': AvatarAttach,
  'core::AvatarBase': AvatarBase,
  'core::AvatarEmoteCommand': AvatarEmoteCommand,
  'core::AvatarEquippedData': AvatarEquippedData,
  'core::AvatarModifierArea': AvatarModifierArea,
  'core::AvatarShape': AvatarShape,
  'core::Billboard': Billboard,
  'core::CameraMode': CameraMode,
  'core::CameraModeArea': CameraModeArea,
  'core::EngineInfo': EngineInfo,
  'core::GltfContainer': GltfContainer,
  'core::GltfContainerLoadingState': GltfContainerLoadingState,
  'core::GltfNodeModifiers': GltfNodeModifiers,
  'core::InputModifier': InputModifier,
  'core::LightSource': LightSource,
  'core::MainCamera': MainCamera,
  'core::Material': Material,
  'core::MeshCollider': MeshCollider,
  'core::MeshRenderer': MeshRenderer,
  'core::NftShape': NftShape,
  'core::PlayerIdentityData': PlayerIdentityData,
  'core::PointerEvents': PointerEvents,
  'core::PointerEventsResult': PointerEventsResult,
  'core::PointerLock': PointerLock,
  'core::PrimaryPointerInfo': PrimaryPointerInfo,
  'core::Raycast': Raycast,
  'core::RaycastResult': RaycastResult,
  'core::RealmInfo': RealmInfo,
  'core::SkyboxTime': SkyboxTime,
  'core::TextShape': TextShape2,
  'core::TriggerArea': TriggerArea,
  'core::TriggerAreaResult': TriggerAreaResult,
  'core::Tween': Tween,
  'core::TweenSequence': TweenSequence,
  'core::TweenState': TweenState,
  'core::UiBackground': UiBackground,
  'core::UiCanvasInformation': UiCanvasInformation,
  'core::UiDropdown': UiDropdown,
  'core::UiDropdownResult': UiDropdownResult,
  'core::UiInput': UiInput,
  'core::UiInputResult': UiInputResult,
  'core::UiText': UiText,
  'core::UiTransform': UiTransform,
  'core::VideoEvent': VideoEvent,
  'core::VideoPlayer': VideoPlayer,
  'core::VirtualCamera': VirtualCamera,
  'core::VisibilityComponent': VisibilityComponent,
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/extended/AudioSource.js
function defineAudioSourceComponent(engine2) {
  const theComponent = AudioSource(engine2);
  return {
    ...theComponent,
    playSound(entity, src, resetCursor = true) {
      const audioSource = theComponent.getMutableOrNull(entity);
      if (!audioSource) return false;
      audioSource.audioClipUrl = src;
      audioSource.playing = true;
      audioSource.currentTime = resetCursor ? 0 : audioSource.currentTime;
      return true;
    },
    stopSound(entity, resetCursor = true) {
      const audioSource = theComponent.getMutableOrNull(entity);
      if (!audioSource) return false;
      audioSource.playing = false;
      audioSource.currentTime = resetCursor ? 0 : audioSource.currentTime;
      return true;
    },
  };
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/extended/Material.js
var TextureHelper = {
  Common(texture) {
    return {
      tex: {
        $case: 'texture',
        texture,
      },
    };
  },
  Avatar(avatarTexture) {
    return {
      tex: {
        $case: 'avatarTexture',
        avatarTexture,
      },
    };
  },
  Video(videoTexture) {
    return {
      tex: {
        $case: 'videoTexture',
        videoTexture,
      },
    };
  },
};
function defineMaterialComponent(engine2) {
  const theComponent = Material(engine2);
  return {
    ...theComponent,
    Texture: TextureHelper,
    setBasicMaterial(entity, material) {
      theComponent.createOrReplace(entity, {
        material: {
          $case: 'unlit',
          unlit: material,
        },
      });
    },
    setPbrMaterial(entity, material) {
      theComponent.createOrReplace(entity, {
        material: {
          $case: 'pbr',
          pbr: material,
        },
      });
    },
  };
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/extended/MeshCollider.js
function defineMeshColliderComponent(engine2) {
  const theComponent = MeshCollider(engine2);
  function getCollisionMask(layers) {
    if (Array.isArray(layers)) {
      return layers.map(item => item).reduce((prev, item) => prev | item, 0);
    } else if (layers) {
      return layers;
    }
  }
  return {
    ...theComponent,
    setBox(entity, colliderLayers) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: 'box', box: {} },
        collisionMask: getCollisionMask(colliderLayers),
      });
    },
    setPlane(entity, colliderLayers) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: 'plane', plane: {} },
        collisionMask: getCollisionMask(colliderLayers),
      });
    },
    setCylinder(entity, radiusBottom, radiusTop, colliderLayers) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: 'cylinder', cylinder: { radiusBottom, radiusTop } },
        collisionMask: getCollisionMask(colliderLayers),
      });
    },
    setSphere(entity, colliderLayers) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: 'sphere', sphere: {} },
        collisionMask: getCollisionMask(colliderLayers),
      });
    },
  };
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/extended/MeshRenderer.js
function defineMeshRendererComponent(engine2) {
  const theComponent = MeshRenderer(engine2);
  return {
    ...theComponent,
    setBox(entity, uvs) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: 'box', box: { uvs: uvs || [] } },
      });
    },
    setPlane(entity, uvs) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: 'plane', plane: { uvs: uvs || [] } },
      });
    },
    setCylinder(entity, radiusBottom, radiusTop) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: 'cylinder', cylinder: { radiusBottom, radiusTop } },
      });
    },
    setSphere(entity) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: 'sphere', sphere: {} },
      });
    },
  };
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/extended/Tween.js
var TweenHelper = {
  Move(move) {
    return {
      $case: 'move',
      move,
    };
  },
  MoveContinuous(moveContinuous) {
    return {
      $case: 'moveContinuous',
      moveContinuous,
    };
  },
  Rotate(rotate) {
    return {
      $case: 'rotate',
      rotate,
    };
  },
  RotateContinuous(rotateContinuous) {
    return {
      $case: 'rotateContinuous',
      rotateContinuous,
    };
  },
  Scale(scale) {
    return {
      $case: 'scale',
      scale,
    };
  },
  TextureMove(textureMove) {
    return {
      $case: 'textureMove',
      textureMove,
    };
  },
  TextureMoveContinuous(textureMoveContinuous) {
    return {
      $case: 'textureMoveContinuous',
      textureMoveContinuous,
    };
  },
};
function defineTweenComponent(engine2) {
  const theComponent = Tween(engine2);
  return {
    ...theComponent,
    Mode: TweenHelper,
    setMove(entity, start, end, duration, easingFunction = 0) {
      theComponent.createOrReplace(entity, {
        mode: {
          $case: 'move',
          move: {
            start,
            end,
          },
        },
        duration,
        easingFunction,
        playing: true,
      });
    },
    setScale(entity, start, end, duration, easingFunction = 0) {
      theComponent.createOrReplace(entity, {
        mode: {
          $case: 'scale',
          scale: {
            start,
            end,
          },
        },
        duration,
        easingFunction,
        playing: true,
      });
    },
    setRotate(entity, start, end, duration, easingFunction = 0) {
      theComponent.createOrReplace(entity, {
        mode: {
          $case: 'rotate',
          rotate: {
            start,
            end,
          },
        },
        duration,
        easingFunction,
        playing: true,
      });
    },
    setTextureMove(entity, start, end, duration, movementType = 0, easingFunction = 0) {
      theComponent.createOrReplace(entity, {
        mode: {
          $case: 'textureMove',
          textureMove: {
            start,
            end,
            movementType,
          },
        },
        duration,
        easingFunction,
        playing: true,
      });
    },
    setMoveContinuous(entity, direction, speed, duration = 0) {
      theComponent.createOrReplace(entity, {
        mode: {
          $case: 'moveContinuous',
          moveContinuous: {
            direction,
            speed,
          },
        },
        duration,
        easingFunction: 0,
        playing: true,
      });
    },
    setRotateContinuous(entity, direction, speed, duration = 0) {
      theComponent.createOrReplace(entity, {
        mode: {
          $case: 'rotateContinuous',
          rotateContinuous: {
            direction,
            speed,
          },
        },
        duration,
        easingFunction: 0,
        playing: true,
      });
    },
    setTextureMoveContinuous(entity, direction, speed, movementType = 0, duration = 0) {
      theComponent.createOrReplace(entity, {
        mode: {
          $case: 'textureMoveContinuous',
          textureMoveContinuous: {
            direction,
            speed,
            movementType,
          },
        },
        duration,
        easingFunction: 0,
        playing: true,
      });
    },
  };
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/schemas/Array.js
var IArray = type => {
  return {
    serialize(value, builder) {
      builder.writeUint32(value.length);
      for (const item of value) {
        type.serialize(item, builder);
      }
    },
    deserialize(reader) {
      const newArray = [];
      const length2 = reader.readUint32();
      for (let index = 0; index < length2; index++) {
        newArray.push(type.deserialize(reader));
      }
      return newArray;
    },
    create() {
      return [];
    },
    jsonSchema: {
      type: 'array',
      items: type.jsonSchema,
      serializationType: 'array',
    },
  };
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/schemas/basic/Boolean.js
var Bool = {
  serialize(value, builder) {
    builder.writeInt8(value ? 1 : 0);
  },
  deserialize(reader) {
    return reader.readInt8() === 1;
  },
  create() {
    return false;
  },
  jsonSchema: {
    type: 'boolean',
    serializationType: 'boolean',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/schemas/basic/Integer.js
var Int64 = {
  serialize(value, builder) {
    builder.writeInt64(BigInt(value));
  },
  deserialize(reader) {
    return Number(reader.readInt64());
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: 'integer',
    serializationType: 'int64',
  },
};
var Int32 = {
  serialize(value, builder) {
    builder.writeInt32(value);
  },
  deserialize(reader) {
    return reader.readInt32();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: 'integer',
    serializationType: 'int32',
  },
};
var Int16 = {
  serialize(value, builder) {
    builder.writeInt16(value);
  },
  deserialize(reader) {
    return reader.readInt16();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: 'integer',
    serializationType: 'int16',
  },
};
var Int8 = {
  serialize(value, builder) {
    builder.writeInt8(value);
  },
  deserialize(reader) {
    return reader.readInt8();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: 'integer',
    serializationType: 'int8',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/schemas/basic/String.js
var FlatString = {
  serialize(value, builder) {
    builder.writeUtf8String(value);
  },
  deserialize(reader) {
    return reader.readUtf8String();
  },
  create() {
    return '';
  },
  jsonSchema: {
    type: 'string',
    serializationType: 'utf8-string',
  },
};
var EcsString = FlatString;

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/schemas/basic/Enum.js
function validateMemberValuesAreNumbersAndInRangeInt32(enumValue) {
  const MIN_VALUE2 = -(2 ** 31),
    MAX_VALUE2 = 2 ** 31 - 1;
  let valueCount = 0,
    totalCount = 0;
  for (const key in enumValue) {
    if (typeof enumValue[key] === 'number') {
      if (enumValue[key] > MAX_VALUE2 || enumValue[key] < MIN_VALUE2) {
        throw new Error(
          `Enum member values must be numbers within the range of ${MIN_VALUE2} to ${MAX_VALUE2}.`
        );
      }
      valueCount++;
    }
    totalCount++;
  }
  if (totalCount !== valueCount * 2) {
    throw new Error('All enum member values must be of numeric type.');
  }
}
function validateMemberValuesAreStrings(enumValue) {
  for (const key in enumValue) {
    if (typeof enumValue[key] !== 'string') {
      throw new Error('All enum member values must be of string type.');
    }
  }
}
var IntEnumReflectionType = 'enum-int';
var IntEnum = (enumObject, defaultValue) => {
  validateMemberValuesAreNumbersAndInRangeInt32(enumObject);
  return {
    serialize(value, builder) {
      Int32.serialize(value, builder);
    },
    deserialize(reader) {
      return Int32.deserialize(reader);
    },
    create() {
      return defaultValue;
    },
    jsonSchema: {
      // JSON-schema
      type: 'integer',
      enum: Object.values(enumObject).filter(item => Number.isInteger(item)),
      default: defaultValue,
      // @dcl/ecs Schema Spec
      serializationType: IntEnumReflectionType,
      enumObject,
    },
  };
};
var StringEnumReflectionType = 'enum-string';
var StringEnum = (enumObject, defaultValue) => {
  validateMemberValuesAreStrings(enumObject);
  return {
    serialize(value, builder) {
      FlatString.serialize(value, builder);
    },
    deserialize(reader) {
      return FlatString.deserialize(reader);
    },
    create() {
      return defaultValue;
    },
    jsonSchema: {
      // JSON-schema
      type: 'string',
      enum: Object.values(enumObject),
      default: defaultValue,
      // @dcl/ecs Schema Spec
      serializationType: StringEnumReflectionType,
      enumObject,
    },
  };
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/schemas/basic/Float.js
var Float32 = {
  serialize(value, builder) {
    builder.writeFloat32(value);
  },
  deserialize(reader) {
    return reader.readFloat32();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: 'number',
    serializationType: 'float32',
  },
};
var Float64 = {
  serialize(value, builder) {
    builder.writeFloat64(value);
  },
  deserialize(reader) {
    return reader.readFloat64();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: 'number',
    serializationType: 'float64',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/schemas/custom/Color3.js
var Color3Schema = {
  serialize(value, builder) {
    builder.writeFloat32(value.r);
    builder.writeFloat32(value.g);
    builder.writeFloat32(value.b);
  },
  deserialize(reader) {
    return {
      r: reader.readFloat32(),
      g: reader.readFloat32(),
      b: reader.readFloat32(),
    };
  },
  create() {
    return { r: 0, g: 0, b: 0 };
  },
  jsonSchema: {
    type: 'object',
    properties: {
      r: { type: 'number' },
      g: { type: 'number' },
      b: { type: 'number' },
    },
    serializationType: 'color3',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/schemas/custom/Color4.js
var Color4Schema = {
  serialize(value, builder) {
    builder.writeFloat32(value.r);
    builder.writeFloat32(value.g);
    builder.writeFloat32(value.b);
    builder.writeFloat32(value.a);
  },
  deserialize(reader) {
    return {
      r: reader.readFloat32(),
      g: reader.readFloat32(),
      b: reader.readFloat32(),
      a: reader.readFloat32(),
    };
  },
  create() {
    return { r: 0, g: 0, b: 0, a: 0 };
  },
  jsonSchema: {
    type: 'object',
    properties: {
      r: { type: 'number' },
      g: { type: 'number' },
      b: { type: 'number' },
      a: { type: 'number' },
    },
    serializationType: 'color4',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/schemas/custom/Entity.js
var EntitySchema = {
  serialize(value, builder) {
    builder.writeInt32(value);
  },
  deserialize(reader) {
    return reader.readInt32();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: 'integer',
    serializationType: 'entity',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/schemas/custom/Quaternion.js
var QuaternionSchema = {
  serialize(value, builder) {
    builder.writeFloat32(value.x);
    builder.writeFloat32(value.y);
    builder.writeFloat32(value.z);
    builder.writeFloat32(value.w);
  },
  deserialize(reader) {
    return {
      x: reader.readFloat32(),
      y: reader.readFloat32(),
      z: reader.readFloat32(),
      w: reader.readFloat32(),
    };
  },
  create() {
    return { x: 0, y: 0, z: 0, w: 0 };
  },
  jsonSchema: {
    type: 'object',
    properties: {
      x: { type: 'number' },
      y: { type: 'number' },
      z: { type: 'number' },
      w: { type: 'number' },
    },
    serializationType: 'quaternion',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/schemas/custom/Vector3.js
var Vector3Schema = {
  serialize(value, builder) {
    builder.writeFloat32(value.x);
    builder.writeFloat32(value.y);
    builder.writeFloat32(value.z);
  },
  deserialize(reader) {
    return {
      x: reader.readFloat32(),
      y: reader.readFloat32(),
      z: reader.readFloat32(),
    };
  },
  create() {
    return { x: 0, y: 0, z: 0 };
  },
  jsonSchema: {
    type: 'object',
    properties: {
      x: { type: 'number' },
      y: { type: 'number' },
      z: { type: 'number' },
      w: { type: 'number' },
    },
    serializationType: 'vector3',
  },
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/schemas/Map.js
var IMap = (spec, defaultValue) => {
  const specReflection = Object.keys(spec).reduce((specReflection2, currentKey) => {
    specReflection2[currentKey] = spec[currentKey].jsonSchema;
    return specReflection2;
  }, {});
  return {
    serialize(value, builder) {
      for (const key in spec) {
        spec[key].serialize(value[key], builder);
      }
    },
    deserialize(reader) {
      const newValue = {};
      for (const key in spec) {
        newValue[key] = spec[key].deserialize(reader);
      }
      return newValue;
    },
    create() {
      const newValue = {};
      for (const key in spec) {
        newValue[key] = spec[key].create();
      }
      return { ...newValue, ...defaultValue };
    },
    extend: base => {
      const newValue = {};
      for (const key in spec) {
        newValue[key] = spec[key].create();
      }
      return { ...newValue, ...defaultValue, ...base };
    },
    jsonSchema: {
      type: 'object',
      properties: specReflection,
      serializationType: 'map',
    },
  };
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/schemas/Optional.js
var IOptional = spec => {
  return {
    serialize(value, builder) {
      if (value) {
        builder.writeInt8(1);
        spec.serialize(value, builder);
      } else {
        builder.writeInt8(0);
      }
    },
    deserialize(reader) {
      const exists = reader.readInt8();
      if (exists) {
        return spec.deserialize(reader);
      }
    },
    create() {
      return void 0;
    },
    jsonSchema: {
      type: spec.jsonSchema.type,
      serializationType: 'optional',
      optionalJsonSchema: spec.jsonSchema,
    },
  };
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/schemas/OneOf.js
var IOneOf = specs => {
  const specKeys = Object.keys(specs);
  const keyToIndex = specKeys.reduce((dict, key, index) => {
    dict[key] = index;
    return dict;
  }, {});
  const specReflection = specKeys.reduce((specReflection2, currentKey) => {
    specReflection2[currentKey] = specs[currentKey].jsonSchema;
    return specReflection2;
  }, {});
  return {
    serialize({ $case, value }, builder) {
      const _value = keyToIndex[$case.toString()] + 1;
      builder.writeUint8(_value);
      specs[$case].serialize(value, builder);
    },
    deserialize(reader) {
      const $case = specKeys[reader.readInt8() - 1];
      const value = specs[$case].deserialize(reader);
      return { $case, value };
    },
    create() {
      return {};
    },
    jsonSchema: {
      type: 'object',
      properties: specReflection,
      serializationType: 'one-of',
    },
  };
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/schemas/buildSchema/utils.js
var isSchemaType = (value, types) => types.includes(value.serializationType);
var isOneOfJsonSchema = type => isSchemaType(type, ['one-of']);
var getUnknownSchema = () => ({
  type: { type: 'object', serializationType: 'unknown' },
  value: void 0,
});
var isCompoundType = type => isSchemaType(type, ['array', 'map']);
var getTypeAndValue = (properties, value, key) => {
  const type = properties[key];
  const valueKey = value[key];
  if (isOneOfJsonSchema(type)) {
    const typedMapValue = valueKey;
    if (!typedMapValue.$case) return getUnknownSchema();
    const propType = type.properties[typedMapValue.$case];
    if (isCompoundType(propType)) value[key] = { [typedMapValue.$case]: typedMapValue.value };
    return { type: propType, value: typedMapValue.value };
  }
  return { type, value: valueKey };
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/schemas/buildSchema/index.js
var primitiveSchemas = {
  [Bool.jsonSchema.serializationType]: Bool,
  [EcsString.jsonSchema.serializationType]: EcsString,
  [Float32.jsonSchema.serializationType]: Float32,
  [Float64.jsonSchema.serializationType]: Float64,
  [Int8.jsonSchema.serializationType]: Int8,
  [Int16.jsonSchema.serializationType]: Int16,
  [Int32.jsonSchema.serializationType]: Int32,
  [Int64.jsonSchema.serializationType]: Int64,
  [Vector3Schema.jsonSchema.serializationType]: Vector3Schema,
  [QuaternionSchema.jsonSchema.serializationType]: QuaternionSchema,
  [Color3Schema.jsonSchema.serializationType]: Color3Schema,
  [Color4Schema.jsonSchema.serializationType]: Color4Schema,
  [EntitySchema.jsonSchema.serializationType]: EntitySchema,
};
function jsonSchemaToSchema(jsonSchema) {
  if (primitiveSchemas[jsonSchema.serializationType]) {
    return primitiveSchemas[jsonSchema.serializationType];
  }
  if (jsonSchema.serializationType === 'map') {
    const mapJsonSchema = jsonSchema;
    const spec = {};
    for (const key in mapJsonSchema.properties) {
      spec[key] = jsonSchemaToSchema(mapJsonSchema.properties[key]);
    }
    return IMap(spec);
  }
  if (jsonSchema.serializationType === 'optional') {
    const withItemsJsonSchema = jsonSchema;
    return IOptional(jsonSchemaToSchema(withItemsJsonSchema.optionalJsonSchema));
  }
  if (jsonSchema.serializationType === 'array') {
    const withItemsJsonSchema = jsonSchema;
    return IArray(jsonSchemaToSchema(withItemsJsonSchema.items));
  }
  if (jsonSchema.serializationType === 'enum-int') {
    const enumJsonSchema = jsonSchema;
    return IntEnum(enumJsonSchema.enumObject, enumJsonSchema.default);
  }
  if (jsonSchema.serializationType === 'enum-string') {
    const enumJsonSchema = jsonSchema;
    return StringEnum(enumJsonSchema.enumObject, enumJsonSchema.default);
  }
  if (jsonSchema.serializationType === 'one-of') {
    const oneOfJsonSchema = jsonSchema;
    const spec = {};
    for (const key in oneOfJsonSchema.properties) {
      spec[key] = jsonSchemaToSchema(oneOfJsonSchema.properties[key]);
    }
    return IOneOf(spec);
  }
  throw new Error(`${jsonSchema.serializationType} is not supported as reverse schema generation.`);
}
function mutateValues(jsonSchema, value, mutateFn) {
  if (jsonSchema.serializationType === 'map') {
    const { properties } = jsonSchema;
    const typedValue = value;
    for (const key in properties) {
      const { type, value: mapValue } = getTypeAndValue(properties, typedValue, key);
      if (type.serializationType === 'unknown') continue;
      if (isCompoundType(type)) {
        mutateValues(type, mapValue, mutateFn);
      } else {
        const newValue = mutateFn(mapValue, type);
        if (newValue.changed) {
          typedValue[key] = newValue.value;
        }
      }
    }
  } else if (jsonSchema.serializationType === 'array') {
    const { items } = jsonSchema;
    const arrayValue = value;
    for (let i = 0, n = arrayValue.length; i < n; i++) {
      const { type, value: value2 } = getTypeAndValue({ items }, { items: arrayValue[i] }, 'items');
      if (isCompoundType(type)) {
        mutateValues(type, value2, mutateFn);
      } else {
        const newValue = mutateFn(value2, type);
        if (newValue.changed) {
          arrayValue[i] = newValue.value;
        }
      }
    }
  }
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/schemas/index.js
var Schemas;
(function (Schemas2) {
  Schemas2.Boolean = Bool;
  Schemas2.String = EcsString;
  Schemas2.Float = Float32;
  Schemas2.Double = Float64;
  Schemas2.Byte = Int8;
  Schemas2.Short = Int16;
  Schemas2.Int = Int32;
  Schemas2.Int64 = Int64;
  Schemas2.Number = Float32;
  Schemas2.Vector3 = Vector3Schema;
  Schemas2.Quaternion = QuaternionSchema;
  Schemas2.Color3 = Color3Schema;
  Schemas2.Color4 = Color4Schema;
  Schemas2.Entity = EntitySchema;
  Schemas2.EnumNumber = IntEnum;
  Schemas2.EnumString = StringEnum;
  Schemas2.Array = IArray;
  Schemas2.Map = IMap;
  Schemas2.Optional = IOptional;
  Schemas2.OneOf = IOneOf;
  Schemas2.fromJson = jsonSchemaToSchema;
  Schemas2.mutateNestedValues = mutateValues;
})(Schemas || (Schemas = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/manual/Name.js
function defineNameComponent(engine2) {
  const Name3 = engine2.defineComponent('core-schema::Name', {
    value: Schemas.String,
  });
  return Name3;
}
var Name_default = defineNameComponent;

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/manual/NetworkEntity.js
function defineNetworkEntityComponent(engine2) {
  const EntityNetwork = engine2.defineComponent('core-schema::Network-Entity', {
    networkId: Schemas.Int64,
    entityId: Schemas.Entity,
  });
  return EntityNetwork;
}
var NetworkEntity_default = defineNetworkEntityComponent;

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/manual/NetworkParent.js
function defineNetworkParentComponent(engine2) {
  const EntityNetwork = engine2.defineComponent('core-schema::Network-Parent', {
    networkId: Schemas.Int64,
    entityId: Schemas.Entity,
  });
  return EntityNetwork;
}
var NetworkParent_default = defineNetworkParentComponent;

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/manual/Transform.js
var TRANSFORM_LENGTH = 44;
var TransformSchema = {
  serialize(value, builder) {
    const ptr = builder.incrementWriteOffset(TRANSFORM_LENGTH);
    builder.setFloat32(ptr, value.position.x);
    builder.setFloat32(ptr + 4, value.position.y);
    builder.setFloat32(ptr + 8, value.position.z);
    builder.setFloat32(ptr + 12, value.rotation.x);
    builder.setFloat32(ptr + 16, value.rotation.y);
    builder.setFloat32(ptr + 20, value.rotation.z);
    builder.setFloat32(ptr + 24, value.rotation.w);
    builder.setFloat32(ptr + 28, value.scale.x);
    builder.setFloat32(ptr + 32, value.scale.y);
    builder.setFloat32(ptr + 36, value.scale.z);
    builder.setUint32(ptr + 40, value.parent || 0);
  },
  deserialize(reader) {
    const ptr = reader.incrementReadOffset(TRANSFORM_LENGTH);
    return {
      position: {
        x: reader.getFloat32(ptr),
        y: reader.getFloat32(ptr + 4),
        z: reader.getFloat32(ptr + 8),
      },
      rotation: {
        x: reader.getFloat32(ptr + 12),
        y: reader.getFloat32(ptr + 16),
        z: reader.getFloat32(ptr + 20),
        w: reader.getFloat32(ptr + 24),
      },
      scale: {
        x: reader.getFloat32(ptr + 28),
        y: reader.getFloat32(ptr + 32),
        z: reader.getFloat32(ptr + 36),
      },
      parent: reader.getUint32(ptr + 40),
    };
  },
  create() {
    return {
      position: { x: 0, y: 0, z: 0 },
      scale: { x: 1, y: 1, z: 1 },
      rotation: { x: 0, y: 0, z: 0, w: 1 },
      parent: 0,
    };
  },
  extend(value) {
    return {
      position: { x: 0, y: 0, z: 0 },
      scale: { x: 1, y: 1, z: 1 },
      rotation: { x: 0, y: 0, z: 0, w: 1 },
      parent: 0,
      ...value,
    };
  },
  jsonSchema: {
    type: 'object',
    properties: {
      position: {
        type: 'object',
        properties: {
          x: { type: 'number' },
          y: { type: 'number' },
          z: { type: 'number' },
        },
      },
      scale: {
        type: 'object',
        properties: {
          x: { type: 'number' },
          y: { type: 'number' },
          z: { type: 'number' },
        },
      },
      rotation: {
        type: 'object',
        properties: {
          x: { type: 'number' },
          y: { type: 'number' },
          z: { type: 'number' },
          w: { type: 'number' },
        },
      },
      parent: { type: 'integer' },
    },
    serializationType: 'transform',
  },
};
function defineTransformComponent(engine2) {
  const transformDef = engine2.defineComponentFromSchema('core::Transform', TransformSchema);
  return {
    ...transformDef,
    create(entity, val) {
      return transformDef.create(entity, TransformSchema.extend(val));
    },
    createOrReplace(entity, val) {
      return transformDef.createOrReplace(entity, TransformSchema.extend(val));
    },
  };
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/media_state.gen.js
var MediaState;
(function (MediaState2) {
  MediaState2[(MediaState2['MS_NONE'] = 0)] = 'MS_NONE';
  MediaState2[(MediaState2['MS_ERROR'] = 1)] = 'MS_ERROR';
  MediaState2[(MediaState2['MS_LOADING'] = 2)] = 'MS_LOADING';
  MediaState2[(MediaState2['MS_READY'] = 3)] = 'MS_READY';
  MediaState2[(MediaState2['MS_PLAYING'] = 4)] = 'MS_PLAYING';
  MediaState2[(MediaState2['MS_BUFFERING'] = 5)] = 'MS_BUFFERING';
  MediaState2[(MediaState2['MS_SEEKING'] = 6)] = 'MS_SEEKING';
  MediaState2[(MediaState2['MS_PAUSED'] = 7)] = 'MS_PAUSED';
})(MediaState || (MediaState = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/manual/Tags.js
function defineTagsComponent(engine2) {
  const Tags3 = engine2.defineComponent('core-schema::Tags', {
    tags: Schemas.Array(Schemas.String),
  });
  return {
    ...Tags3,
    add(entity, tagName) {
      const tagsComponent = Tags3.getMutableOrNull(entity);
      if (tagsComponent) {
        tagsComponent.tags.push(tagName);
      } else {
        Tags3.createOrReplace(entity, { tags: [tagName] });
      }
      return true;
    },
    remove(entity, tagName) {
      const tagsComponent = Tags3.getMutableOrNull(entity);
      if (!tagsComponent || !tagsComponent.tags) return false;
      const newTags = tagsComponent.tags.filter(tag => tag !== tagName);
      if (newTags.length === tagsComponent.tags.length) return false;
      tagsComponent.tags = newTags;
      return true;
    },
  };
}
var Tags_default = defineTagsComponent;

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/index.js
var Transform = engine2 => defineTransformComponent(engine2);
var Material2 = engine2 => defineMaterialComponent(engine2);
var AudioSource2 = engine2 => defineAudioSourceComponent(engine2);
var MeshRenderer2 = engine2 => defineMeshRendererComponent(engine2);
var MeshCollider2 = engine2 => defineMeshColliderComponent(engine2);
var Tween2 = engine2 => defineTweenComponent(engine2);
var Name = engine2 => Name_default(engine2);
var Tags = engine2 => Tags_default(engine2);
var NetworkEntity = engine2 => NetworkEntity_default(engine2);
var NetworkParent = engine2 => NetworkParent_default(engine2);

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/component-names.gen.js
var coreComponentMappings = {
  'core::Transform': 1,
  'core::Animator': 1042,
  'core::AudioEvent': 1105,
  'core::AudioSource': 1020,
  'core::AudioStream': 1021,
  'core::AvatarAttach': 1073,
  'core::AvatarBase': 1087,
  'core::AvatarEmoteCommand': 1088,
  'core::AvatarEquippedData': 1091,
  'core::AvatarModifierArea': 1070,
  'core::AvatarShape': 1080,
  'core::Billboard': 1090,
  'core::CameraMode': 1072,
  'core::CameraModeArea': 1071,
  'core::EngineInfo': 1048,
  'core::GltfContainer': 1041,
  'core::GltfContainerLoadingState': 1049,
  'core::GltfNodeModifiers': 1099,
  'core::InputModifier': 1078,
  'core::LightSource': 1079,
  'core::MainCamera': 1075,
  'core::MapPin': 1097,
  'core::Material': 1017,
  'core::MeshCollider': 1019,
  'core::MeshRenderer': 1018,
  'core::NftShape': 1040,
  'core::PlayerIdentityData': 1089,
  'core::PointerEvents': 1062,
  'core::PointerEventsResult': 1063,
  'core::PointerLock': 1074,
  'core::PrimaryPointerInfo': 1209,
  'core::Raycast': 1067,
  'core::RaycastResult': 1068,
  'core::RealmInfo': 1106,
  'core::SkyboxTime': 1210,
  'core::TextShape': 1030,
  'core::TriggerArea': 1060,
  'core::TriggerAreaResult': 1061,
  'core::Tween': 1102,
  'core::TweenSequence': 1104,
  'core::TweenState': 1103,
  'core::UiBackground': 1053,
  'core::UiCanvasInformation': 1054,
  'core::UiDropdown': 1094,
  'core::UiDropdownResult': 1096,
  'core::UiInput': 1093,
  'core::UiInputResult': 1095,
  'core::UiText': 1052,
  'core::UiTransform': 1050,
  'core::VideoEvent': 1044,
  'core::VideoPlayer': 1043,
  'core::VirtualCamera': 1076,
  'core::VisibilityComponent': 1081,
};

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/component-number.js
var utf8 = __toESM(require_utf8());

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/runtime/crc.js
var CRC_TABLE = new Int32Array([
  0, 1996959894, 3993919788, 2567524794, 124634137, 1886057615, 3915621685, 2657392035, 249268274,
  2044508324, 3772115230, 2547177864, 162941995, 2125561021, 3887607047, 2428444049, 498536548,
  1789927666, 4089016648, 2227061214, 450548861, 1843258603, 4107580753, 2211677639, 325883990,
  1684777152, 4251122042, 2321926636, 335633487, 1661365465, 4195302755, 2366115317, 997073096,
  1281953886, 3579855332, 2724688242, 1006888145, 1258607687, 3524101629, 2768942443, 901097722,
  1119000684, 3686517206, 2898065728, 853044451, 1172266101, 3705015759, 2882616665, 651767980,
  1373503546, 3369554304, 3218104598, 565507253, 1454621731, 3485111705, 3099436303, 671266974,
  1594198024, 3322730930, 2970347812, 795835527, 1483230225, 3244367275, 3060149565, 1994146192,
  31158534, 2563907772, 4023717930, 1907459465, 112637215, 2680153253, 3904427059, 2013776290,
  251722036, 2517215374, 3775830040, 2137656763, 141376813, 2439277719, 3865271297, 1802195444,
  476864866, 2238001368, 4066508878, 1812370925, 453092731, 2181625025, 4111451223, 1706088902,
  314042704, 2344532202, 4240017532, 1658658271, 366619977, 2362670323, 4224994405, 1303535960,
  984961486, 2747007092, 3569037538, 1256170817, 1037604311, 2765210733, 3554079995, 1131014506,
  879679996, 2909243462, 3663771856, 1141124467, 855842277, 2852801631, 3708648649, 1342533948,
  654459306, 3188396048, 3373015174, 1466479909, 544179635, 3110523913, 3462522015, 1591671054,
  702138776, 2966460450, 3352799412, 1504918807, 783551873, 3082640443, 3233442989, 3988292384,
  2596254646, 62317068, 1957810842, 3939845945, 2647816111, 81470997, 1943803523, 3814918930,
  2489596804, 225274430, 2053790376, 3826175755, 2466906013, 167816743, 2097651377, 4027552580,
  2265490386, 503444072, 1762050814, 4150417245, 2154129355, 426522225, 1852507879, 4275313526,
  2312317920, 282753626, 1742555852, 4189708143, 2394877945, 397917763, 1622183637, 3604390888,
  2714866558, 953729732, 1340076626, 3518719985, 2797360999, 1068828381, 1219638859, 3624741850,
  2936675148, 906185462, 1090812512, 3747672003, 2825379669, 829329135, 1181335161, 3412177804,
  3160834842, 628085408, 1382605366, 3423369109, 3138078467, 570562233, 1426400815, 3317316542,
  2998733608, 733239954, 1555261956, 3268935591, 3050360625, 752459403, 1541320221, 2607071920,
  3965973030, 1969922972, 40735498, 2617837225, 3943577151, 1913087877, 83908371, 2512341634,
  3803740692, 2075208622, 213261112, 2463272603, 3855990285, 2094854071, 198958881, 2262029012,
  4057260610, 1759359992, 534414190, 2176718541, 4139329115, 1873836001, 414664567, 2282248934,
  4279200368, 1711684554, 285281116, 2405801727, 4167216745, 1634467795, 376229701, 2685067896,
  3608007406, 1308918612, 956543938, 2808555105, 3495958263, 1231636301, 1047427035, 2932959818,
  3654703836, 1088359270, 936918e3, 2847714899, 3736837829, 1202900863, 817233897, 3183342108,
  3401237130, 1404277552, 615818150, 3134207493, 3453421203, 1423857449, 601450431, 3009837614,
  3294710456, 1567103746, 711928724, 3020668471, 3272380065, 1510334235, 755167117,
]);
function _crc32(buf, previous) {
  let crc = ~~previous ^ -1;
  for (let n = 0; n < buf.length; n++) {
    crc = CRC_TABLE[(crc ^ buf[n]) & 255] ^ (crc >>> 8);
  }
  return crc ^ -1;
}
function unsignedCRC32(data, prev = 0) {
  return _crc32(data, prev) >>> 0;
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/component-number.js
var MAX_STATIC_COMPONENT = 1 << 11;
function componentNumberFromName(componentName) {
  if (coreComponentMappings[componentName]) return coreComponentMappings[componentName];
  const bytes = new Uint8Array(128);
  utf8.write(componentName, bytes, 0);
  return ((unsignedCRC32(bytes) + MAX_STATIC_COMPONENT) & 4294967295) >>> 0;
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/runtime/invariant.js
var __DEV__ = true;
function checkNotThenable(t, error) {
  if (__DEV__) {
    if (t && typeof t === 'object' && typeof t.then === 'function') {
      throw new Error(error);
    }
  }
  return t;
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/systems/crdt/gset.js
function createVersionGSet() {
  const lastVersion = /* @__PURE__ */ new Map();
  return {
    /**
     *
     * @param number
     * @param version
     * @returns
     */
    addTo(number, version) {
      if (version < 0) {
        return false;
      }
      const currentValue = lastVersion.get(number);
      if (currentValue !== void 0 && currentValue >= version) {
        return true;
      }
      lastVersion.set(number, version);
      return true;
    },
    /**
     * @returns the set with [number, version] of each value
     */
    has(n, v) {
      const currentValue = lastVersion.get(n);
      if (currentValue !== void 0 && currentValue >= v) {
        return true;
      }
      return false;
    },
    /**
     * Warning: this function returns the reference to the internal map,
     *  if you need to mutate some value, make a copy.
     * For optimization purpose the copy isn't made here.
     *
     * @returns the map of number to version
     */
    getMap() {
      return lastVersion;
    },
  };
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/engine/entity.js
var MAX_U16 = 65535;
var MASK_UPPER_16_ON_32 = 4294901760;
var AMOUNT_VERSION_AVAILABLE = MAX_U16 + 1;
var MAX_ENTITY_NUMBER = MAX_U16;
var RESERVED_STATIC_ENTITIES = 512;
var EntityUtils;
(function (EntityUtils2) {
  function fromEntityId(entityId) {
    return [(entityId & MAX_U16) >>> 0, (((entityId & MASK_UPPER_16_ON_32) >> 16) & MAX_U16) >>> 0];
  }
  EntityUtils2.fromEntityId = fromEntityId;
  function toEntityId(entityNumber, entityVersion) {
    return ((entityNumber & MAX_U16) | ((entityVersion & MAX_U16) << 16)) >>> 0;
  }
  EntityUtils2.toEntityId = toEntityId;
})(EntityUtils || (EntityUtils = {}));
var EntityState;
(function (EntityState2) {
  EntityState2[(EntityState2['Unknown'] = 0)] = 'Unknown';
  EntityState2[(EntityState2['UsedEntity'] = 1)] = 'UsedEntity';
  EntityState2[(EntityState2['Removed'] = 2)] = 'Removed';
  EntityState2[(EntityState2['Reserved'] = 3)] = 'Reserved';
})(EntityState || (EntityState = {}));
function createEntityContainer(opts) {
  const reservedStaticEntities = opts?.reservedStaticEntities ?? RESERVED_STATIC_ENTITIES;
  let entityCounter = reservedStaticEntities;
  const usedEntities = /* @__PURE__ */ new Set();
  let toRemoveEntities = [];
  const removedEntities = createVersionGSet();
  function generateNewEntity() {
    if (entityCounter > MAX_ENTITY_NUMBER - 1) {
      throw new Error(`It fails trying to generate an entity out of range ${MAX_ENTITY_NUMBER}.`);
    }
    const entityNumber = entityCounter++;
    const entityVersion = removedEntities.getMap().has(entityNumber)
      ? removedEntities.getMap().get(entityNumber) + 1
      : 0;
    const entity = EntityUtils.toEntityId(entityNumber, entityVersion);
    if (usedEntities.has(entity)) {
      return generateNewEntity();
    }
    usedEntities.add(entity);
    return entity;
  }
  function generateEntity() {
    const usedSize = usedEntities.size;
    if (usedSize + reservedStaticEntities >= entityCounter) {
      return generateNewEntity();
    }
    for (const [number, version] of removedEntities.getMap()) {
      if (version < MAX_U16) {
        const entity = EntityUtils.toEntityId(number, version + 1);
        if (!usedEntities.has(entity) && !toRemoveEntities.includes(entity)) {
          usedEntities.add(entity);
          return entity;
        }
      }
    }
    return generateNewEntity();
  }
  function removeEntity(entity) {
    if (entity < reservedStaticEntities) return false;
    if (usedEntities.has(entity)) {
      usedEntities.delete(entity);
      toRemoveEntities.push(entity);
    } else {
      updateRemovedEntity(entity);
    }
    return true;
  }
  function releaseRemovedEntities() {
    const arr = toRemoveEntities;
    if (arr.length) {
      toRemoveEntities = [];
      for (const entity of arr) {
        const [n, v] = EntityUtils.fromEntityId(entity);
        removedEntities.addTo(n, v);
      }
    }
    return arr;
  }
  function updateRemovedEntity(entity) {
    const [n, v] = EntityUtils.fromEntityId(entity);
    removedEntities.addTo(n, v);
    for (let i = 0; i <= v; i++) {
      usedEntities.delete(EntityUtils.toEntityId(n, i));
    }
    return true;
  }
  function updateUsedEntity(entity) {
    const [n, v] = EntityUtils.fromEntityId(entity);
    if (removedEntities.has(n, v)) return false;
    if (v > 0) {
      for (let i = 0; i <= v - 1; i++) {
        usedEntities.delete(EntityUtils.toEntityId(n, i));
      }
      removedEntities.addTo(n, v - 1);
    }
    usedEntities.add(entity);
    return true;
  }
  function getEntityState(entity) {
    const [n, v] = EntityUtils.fromEntityId(entity);
    if (n < reservedStaticEntities) {
      return EntityState.Reserved;
    }
    if (usedEntities.has(entity)) {
      return EntityState.UsedEntity;
    }
    const removedVersion = removedEntities.getMap().get(n);
    if (removedVersion !== void 0 && removedVersion >= v) {
      return EntityState.Removed;
    }
    return EntityState.Unknown;
  }
  return {
    generateEntity,
    removeEntity,
    getExistingEntities() {
      return new Set(usedEntities);
    },
    getEntityState,
    releaseRemovedEntities,
    updateRemovedEntity,
    updateUsedEntity,
  };
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/serialization/ByteBuffer/index.js
var utf82 = __toESM(require_utf8());
var __classPrivateFieldGet = function (receiver, state, kind, f) {
  if (kind === 'a' && !f) throw new TypeError('Private accessor was defined without a getter');
  if (typeof state === 'function' ? receiver !== state || !f : !state.has(receiver))
    throw new TypeError('Cannot read private member from an object whose class did not declare it');
  return kind === 'm' ? f : kind === 'a' ? f.call(receiver) : f ? f.value : state.get(receiver);
};
var _ReadWriteByteBuffer_instances;
var _ReadWriteByteBuffer_woAdd;
var _ReadWriteByteBuffer_roAdd;
function getNextSize(currentSize, intendedSize) {
  const minNewSize = Math.max(currentSize, intendedSize) + 1024;
  return Math.ceil(minNewSize / 1024) * 1024;
}
var defaultInitialCapacity = 10240;
var ReadWriteByteBuffer = class {
  /**
   * @param buffer - The initial buffer, provide a buffer if you need to set "initial capacity"
   * @param readingOffset - Set the cursor where begins to read. Default 0
   * @param writingOffset - Set the cursor to not start writing from the begin of it. Defaults to the buffer size
   */
  constructor(buffer2, readingOffset, writingOffset) {
    _ReadWriteByteBuffer_instances.add(this);
    this._buffer = buffer2 || new Uint8Array(defaultInitialCapacity);
    this.view = new DataView(this._buffer.buffer, this._buffer.byteOffset);
    this.woffset = writingOffset ?? (buffer2 ? this._buffer.length : null) ?? 0;
    this.roffset = readingOffset ?? 0;
  }
  buffer() {
    return this._buffer;
  }
  bufferLength() {
    return this._buffer.length;
  }
  resetBuffer() {
    this.roffset = 0;
    this.woffset = 0;
  }
  currentReadOffset() {
    return this.roffset;
  }
  currentWriteOffset() {
    return this.woffset;
  }
  incrementReadOffset(amount) {
    return __classPrivateFieldGet(
      this,
      _ReadWriteByteBuffer_instances,
      'm',
      _ReadWriteByteBuffer_roAdd
    ).call(this, amount);
  }
  remainingBytes() {
    return this.woffset - this.roffset;
  }
  readFloat32() {
    return this.view.getFloat32(
      __classPrivateFieldGet(
        this,
        _ReadWriteByteBuffer_instances,
        'm',
        _ReadWriteByteBuffer_roAdd
      ).call(this, 4),
      true
    );
  }
  readFloat64() {
    return this.view.getFloat64(
      __classPrivateFieldGet(
        this,
        _ReadWriteByteBuffer_instances,
        'm',
        _ReadWriteByteBuffer_roAdd
      ).call(this, 8),
      true
    );
  }
  readInt8() {
    return this.view.getInt8(
      __classPrivateFieldGet(
        this,
        _ReadWriteByteBuffer_instances,
        'm',
        _ReadWriteByteBuffer_roAdd
      ).call(this, 1)
    );
  }
  readInt16() {
    return this.view.getInt16(
      __classPrivateFieldGet(
        this,
        _ReadWriteByteBuffer_instances,
        'm',
        _ReadWriteByteBuffer_roAdd
      ).call(this, 2),
      true
    );
  }
  readInt32() {
    return this.view.getInt32(
      __classPrivateFieldGet(
        this,
        _ReadWriteByteBuffer_instances,
        'm',
        _ReadWriteByteBuffer_roAdd
      ).call(this, 4),
      true
    );
  }
  readInt64() {
    return this.view.getBigInt64(
      __classPrivateFieldGet(
        this,
        _ReadWriteByteBuffer_instances,
        'm',
        _ReadWriteByteBuffer_roAdd
      ).call(this, 8),
      true
    );
  }
  readUint8() {
    return this.view.getUint8(
      __classPrivateFieldGet(
        this,
        _ReadWriteByteBuffer_instances,
        'm',
        _ReadWriteByteBuffer_roAdd
      ).call(this, 1)
    );
  }
  readUint16() {
    return this.view.getUint16(
      __classPrivateFieldGet(
        this,
        _ReadWriteByteBuffer_instances,
        'm',
        _ReadWriteByteBuffer_roAdd
      ).call(this, 2),
      true
    );
  }
  readUint32() {
    return this.view.getUint32(
      __classPrivateFieldGet(
        this,
        _ReadWriteByteBuffer_instances,
        'm',
        _ReadWriteByteBuffer_roAdd
      ).call(this, 4),
      true
    );
  }
  readUint64() {
    return this.view.getBigUint64(
      __classPrivateFieldGet(
        this,
        _ReadWriteByteBuffer_instances,
        'm',
        _ReadWriteByteBuffer_roAdd
      ).call(this, 8),
      true
    );
  }
  readBuffer() {
    const length2 = this.view.getUint32(
      __classPrivateFieldGet(
        this,
        _ReadWriteByteBuffer_instances,
        'm',
        _ReadWriteByteBuffer_roAdd
      ).call(this, 4),
      true
    );
    return this._buffer.subarray(
      __classPrivateFieldGet(
        this,
        _ReadWriteByteBuffer_instances,
        'm',
        _ReadWriteByteBuffer_roAdd
      ).call(this, length2),
      __classPrivateFieldGet(
        this,
        _ReadWriteByteBuffer_instances,
        'm',
        _ReadWriteByteBuffer_roAdd
      ).call(this, 0)
    );
  }
  readUtf8String() {
    const length2 = this.view.getUint32(
      __classPrivateFieldGet(
        this,
        _ReadWriteByteBuffer_instances,
        'm',
        _ReadWriteByteBuffer_roAdd
      ).call(this, 4),
      true
    );
    return utf82.read(
      this._buffer,
      __classPrivateFieldGet(
        this,
        _ReadWriteByteBuffer_instances,
        'm',
        _ReadWriteByteBuffer_roAdd
      ).call(this, length2),
      __classPrivateFieldGet(
        this,
        _ReadWriteByteBuffer_instances,
        'm',
        _ReadWriteByteBuffer_roAdd
      ).call(this, 0)
    );
  }
  incrementWriteOffset(amount) {
    return __classPrivateFieldGet(
      this,
      _ReadWriteByteBuffer_instances,
      'm',
      _ReadWriteByteBuffer_woAdd
    ).call(this, amount);
  }
  toBinary() {
    return this._buffer.subarray(0, this.woffset);
  }
  toCopiedBinary() {
    return new Uint8Array(this.toBinary());
  }
  writeBuffer(value, writeLength = true) {
    if (writeLength) {
      this.writeUint32(value.byteLength);
    }
    const o = __classPrivateFieldGet(
      this,
      _ReadWriteByteBuffer_instances,
      'm',
      _ReadWriteByteBuffer_woAdd
    ).call(this, value.byteLength);
    this._buffer.set(value, o);
  }
  writeUtf8String(value, writeLength = true) {
    const byteLength = utf82.length(value);
    if (writeLength) {
      this.writeUint32(byteLength);
    }
    const o = __classPrivateFieldGet(
      this,
      _ReadWriteByteBuffer_instances,
      'm',
      _ReadWriteByteBuffer_woAdd
    ).call(this, byteLength);
    utf82.write(value, this._buffer, o);
  }
  writeFloat32(value) {
    const o = __classPrivateFieldGet(
      this,
      _ReadWriteByteBuffer_instances,
      'm',
      _ReadWriteByteBuffer_woAdd
    ).call(this, 4);
    this.view.setFloat32(o, value, true);
  }
  writeFloat64(value) {
    const o = __classPrivateFieldGet(
      this,
      _ReadWriteByteBuffer_instances,
      'm',
      _ReadWriteByteBuffer_woAdd
    ).call(this, 8);
    this.view.setFloat64(o, value, true);
  }
  writeInt8(value) {
    const o = __classPrivateFieldGet(
      this,
      _ReadWriteByteBuffer_instances,
      'm',
      _ReadWriteByteBuffer_woAdd
    ).call(this, 1);
    this.view.setInt8(o, value);
  }
  writeInt16(value) {
    const o = __classPrivateFieldGet(
      this,
      _ReadWriteByteBuffer_instances,
      'm',
      _ReadWriteByteBuffer_woAdd
    ).call(this, 2);
    this.view.setInt16(o, value, true);
  }
  writeInt32(value) {
    const o = __classPrivateFieldGet(
      this,
      _ReadWriteByteBuffer_instances,
      'm',
      _ReadWriteByteBuffer_woAdd
    ).call(this, 4);
    this.view.setInt32(o, value, true);
  }
  writeInt64(value) {
    const o = __classPrivateFieldGet(
      this,
      _ReadWriteByteBuffer_instances,
      'm',
      _ReadWriteByteBuffer_woAdd
    ).call(this, 8);
    this.view.setBigInt64(o, value, true);
  }
  writeUint8(value) {
    const o = __classPrivateFieldGet(
      this,
      _ReadWriteByteBuffer_instances,
      'm',
      _ReadWriteByteBuffer_woAdd
    ).call(this, 1);
    this.view.setUint8(o, value);
  }
  writeUint16(value) {
    const o = __classPrivateFieldGet(
      this,
      _ReadWriteByteBuffer_instances,
      'm',
      _ReadWriteByteBuffer_woAdd
    ).call(this, 2);
    this.view.setUint16(o, value, true);
  }
  writeUint32(value) {
    const o = __classPrivateFieldGet(
      this,
      _ReadWriteByteBuffer_instances,
      'm',
      _ReadWriteByteBuffer_woAdd
    ).call(this, 4);
    this.view.setUint32(o, value, true);
  }
  writeUint64(value) {
    const o = __classPrivateFieldGet(
      this,
      _ReadWriteByteBuffer_instances,
      'm',
      _ReadWriteByteBuffer_woAdd
    ).call(this, 8);
    this.view.setBigUint64(o, value, true);
  }
  // DataView Proxy
  getFloat32(offset) {
    return this.view.getFloat32(offset, true);
  }
  getFloat64(offset) {
    return this.view.getFloat64(offset, true);
  }
  getInt8(offset) {
    return this.view.getInt8(offset);
  }
  getInt16(offset) {
    return this.view.getInt16(offset, true);
  }
  getInt32(offset) {
    return this.view.getInt32(offset, true);
  }
  getInt64(offset) {
    return this.view.getBigInt64(offset, true);
  }
  getUint8(offset) {
    return this.view.getUint8(offset);
  }
  getUint16(offset) {
    return this.view.getUint16(offset, true);
  }
  getUint32(offset) {
    return this.view.getUint32(offset, true);
  }
  getUint64(offset) {
    return this.view.getBigUint64(offset, true);
  }
  setFloat32(offset, value) {
    this.view.setFloat32(offset, value, true);
  }
  setFloat64(offset, value) {
    this.view.setFloat64(offset, value, true);
  }
  setInt8(offset, value) {
    this.view.setInt8(offset, value);
  }
  setInt16(offset, value) {
    this.view.setInt16(offset, value, true);
  }
  setInt32(offset, value) {
    this.view.setInt32(offset, value, true);
  }
  setInt64(offset, value) {
    this.view.setBigInt64(offset, value, true);
  }
  setUint8(offset, value) {
    this.view.setUint8(offset, value);
  }
  setUint16(offset, value) {
    this.view.setUint16(offset, value, true);
  }
  setUint32(offset, value) {
    this.view.setUint32(offset, value, true);
  }
  setUint64(offset, value) {
    this.view.setBigUint64(offset, value, true);
  }
};
((_ReadWriteByteBuffer_instances = /* @__PURE__ */ new WeakSet()),
  (_ReadWriteByteBuffer_woAdd = function _ReadWriteByteBuffer_woAdd2(amount) {
    if (this.woffset + amount > this._buffer.byteLength) {
      const newsize = getNextSize(this._buffer.byteLength, this.woffset + amount);
      const newBuffer = new Uint8Array(newsize);
      newBuffer.set(this._buffer);
      const oldOffset = this._buffer.byteOffset;
      this._buffer = newBuffer;
      this.view = new DataView(this._buffer.buffer, oldOffset);
    }
    this.woffset += amount;
    return this.woffset - amount;
  }),
  (_ReadWriteByteBuffer_roAdd = function _ReadWriteByteBuffer_roAdd2(amount) {
    if (this.roffset + amount > this.woffset) {
      throw new Error('Outside of the bounds of writen data.');
    }
    this.roffset += amount;
    return this.roffset - amount;
  }));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/serialization/crdt/types.js
var CrdtMessageType;
(function (CrdtMessageType2) {
  CrdtMessageType2[(CrdtMessageType2['RESERVED'] = 0)] = 'RESERVED';
  CrdtMessageType2[(CrdtMessageType2['PUT_COMPONENT'] = 1)] = 'PUT_COMPONENT';
  CrdtMessageType2[(CrdtMessageType2['DELETE_COMPONENT'] = 2)] = 'DELETE_COMPONENT';
  CrdtMessageType2[(CrdtMessageType2['DELETE_ENTITY'] = 3)] = 'DELETE_ENTITY';
  CrdtMessageType2[(CrdtMessageType2['APPEND_VALUE'] = 4)] = 'APPEND_VALUE';
  CrdtMessageType2[(CrdtMessageType2['PUT_COMPONENT_NETWORK'] = 5)] = 'PUT_COMPONENT_NETWORK';
  CrdtMessageType2[(CrdtMessageType2['DELETE_COMPONENT_NETWORK'] = 6)] = 'DELETE_COMPONENT_NETWORK';
  CrdtMessageType2[(CrdtMessageType2['DELETE_ENTITY_NETWORK'] = 7)] = 'DELETE_ENTITY_NETWORK';
  CrdtMessageType2[(CrdtMessageType2['MAX_MESSAGE_TYPE'] = 8)] = 'MAX_MESSAGE_TYPE';
})(CrdtMessageType || (CrdtMessageType = {}));
var CRDT_MESSAGE_HEADER_LENGTH = 8;
var ProcessMessageResultType;
(function (ProcessMessageResultType2) {
  ProcessMessageResultType2[(ProcessMessageResultType2['StateUpdatedTimestamp'] = 1)] =
    'StateUpdatedTimestamp';
  ProcessMessageResultType2[(ProcessMessageResultType2['StateOutdatedTimestamp'] = 2)] =
    'StateOutdatedTimestamp';
  ProcessMessageResultType2[(ProcessMessageResultType2['NoChanges'] = 3)] = 'NoChanges';
  ProcessMessageResultType2[(ProcessMessageResultType2['StateOutdatedData'] = 4)] =
    'StateOutdatedData';
  ProcessMessageResultType2[(ProcessMessageResultType2['StateUpdatedData'] = 5)] =
    'StateUpdatedData';
  ProcessMessageResultType2[(ProcessMessageResultType2['EntityWasDeleted'] = 6)] =
    'EntityWasDeleted';
  ProcessMessageResultType2[(ProcessMessageResultType2['EntityDeleted'] = 7)] = 'EntityDeleted';
})(ProcessMessageResultType || (ProcessMessageResultType = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/serialization/crdt/crdtMessageProtocol.js
var CrdtMessageProtocol;
(function (CrdtMessageProtocol2) {
  function validate(buf) {
    const rem = buf.remainingBytes();
    if (rem < CRDT_MESSAGE_HEADER_LENGTH) {
      return false;
    }
    const messageLength = buf.getUint32(buf.currentReadOffset());
    if (rem < messageLength) {
      return false;
    }
    return true;
  }
  CrdtMessageProtocol2.validate = validate;
  function readHeader(buf) {
    if (!validate(buf)) {
      return null;
    }
    return {
      length: buf.readUint32(),
      type: buf.readUint32(),
    };
  }
  CrdtMessageProtocol2.readHeader = readHeader;
  function getHeader(buf) {
    if (!validate(buf)) {
      return null;
    }
    const currentOffset = buf.currentReadOffset();
    return {
      length: buf.getUint32(currentOffset),
      type: buf.getUint32(currentOffset + 4),
    };
  }
  CrdtMessageProtocol2.getHeader = getHeader;
  function consumeMessage(buf) {
    const header = getHeader(buf);
    if (!header) {
      return false;
    }
    buf.incrementReadOffset(header.length);
    return true;
  }
  CrdtMessageProtocol2.consumeMessage = consumeMessage;
})(CrdtMessageProtocol || (CrdtMessageProtocol = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/serialization/crdt/deleteComponent.js
var DeleteComponent;
(function (DeleteComponent2) {
  DeleteComponent2.MESSAGE_HEADER_LENGTH = 12;
  function write3(entity, componentId, timestamp, buf) {
    const messageLength = CRDT_MESSAGE_HEADER_LENGTH + DeleteComponent2.MESSAGE_HEADER_LENGTH;
    const startMessageOffset = buf.incrementWriteOffset(messageLength);
    buf.setUint32(startMessageOffset, messageLength);
    buf.setUint32(startMessageOffset + 4, CrdtMessageType.DELETE_COMPONENT);
    buf.setUint32(startMessageOffset + 8, entity);
    buf.setUint32(startMessageOffset + 12, componentId);
    buf.setUint32(startMessageOffset + 16, timestamp);
  }
  DeleteComponent2.write = write3;
  function read2(buf) {
    const header = CrdtMessageProtocol.readHeader(buf);
    if (!header) {
      return null;
    }
    if (header.type !== CrdtMessageType.DELETE_COMPONENT) {
      throw new Error('DeleteComponentOperation tried to read another message type.');
    }
    const msg = {
      ...header,
      entityId: buf.readUint32(),
      componentId: buf.readUint32(),
      timestamp: buf.readUint32(),
    };
    return msg;
  }
  DeleteComponent2.read = read2;
})(DeleteComponent || (DeleteComponent = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/serialization/crdt/appendValue.js
var AppendValueOperation;
(function (AppendValueOperation2) {
  AppendValueOperation2.MESSAGE_HEADER_LENGTH = 16;
  function write3(entity, timestamp, componentId, data, buf) {
    const startMessageOffset = buf.incrementWriteOffset(
      CRDT_MESSAGE_HEADER_LENGTH + AppendValueOperation2.MESSAGE_HEADER_LENGTH
    );
    buf.writeBuffer(data, false);
    const messageLength = buf.currentWriteOffset() - startMessageOffset;
    buf.setUint32(startMessageOffset, messageLength);
    buf.setUint32(startMessageOffset + 4, CrdtMessageType.APPEND_VALUE);
    buf.setUint32(startMessageOffset + 8, entity);
    buf.setUint32(startMessageOffset + 12, componentId);
    buf.setUint32(startMessageOffset + 16, timestamp);
    const newLocal =
      messageLength - AppendValueOperation2.MESSAGE_HEADER_LENGTH - CRDT_MESSAGE_HEADER_LENGTH;
    buf.setUint32(startMessageOffset + 20, newLocal);
  }
  AppendValueOperation2.write = write3;
  function read2(buf) {
    const header = CrdtMessageProtocol.readHeader(buf);
    if (!header) {
      return null;
    }
    if (header.type !== CrdtMessageType.APPEND_VALUE) {
      throw new Error('AppendValueOperation tried to read another message type.');
    }
    return {
      ...header,
      entityId: buf.readUint32(),
      componentId: buf.readUint32(),
      timestamp: buf.readUint32(),
      data: buf.readBuffer(),
    };
  }
  AppendValueOperation2.read = read2;
})(AppendValueOperation || (AppendValueOperation = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/serialization/crdt/deleteEntity.js
var DeleteEntity;
(function (DeleteEntity2) {
  DeleteEntity2.MESSAGE_HEADER_LENGTH = 4;
  function write3(entity, buf) {
    buf.writeUint32(CRDT_MESSAGE_HEADER_LENGTH + 4);
    buf.writeUint32(CrdtMessageType.DELETE_ENTITY);
    buf.writeUint32(entity);
  }
  DeleteEntity2.write = write3;
  function read2(buf) {
    const header = CrdtMessageProtocol.readHeader(buf);
    if (!header) {
      return null;
    }
    if (header.type !== CrdtMessageType.DELETE_ENTITY) {
      throw new Error('DeleteEntity tried to read another message type.');
    }
    return {
      ...header,
      entityId: buf.readUint32(),
    };
  }
  DeleteEntity2.read = read2;
})(DeleteEntity || (DeleteEntity = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/serialization/crdt/putComponent.js
var PutComponentOperation;
(function (PutComponentOperation2) {
  PutComponentOperation2.MESSAGE_HEADER_LENGTH = 16;
  function write3(entity, timestamp, componentId, data, buf) {
    const startMessageOffset = buf.incrementWriteOffset(
      CRDT_MESSAGE_HEADER_LENGTH + PutComponentOperation2.MESSAGE_HEADER_LENGTH
    );
    buf.writeBuffer(data, false);
    const messageLength = buf.currentWriteOffset() - startMessageOffset;
    buf.setUint32(startMessageOffset, messageLength);
    buf.setUint32(startMessageOffset + 4, CrdtMessageType.PUT_COMPONENT);
    buf.setUint32(startMessageOffset + 8, entity);
    buf.setUint32(startMessageOffset + 12, componentId);
    buf.setUint32(startMessageOffset + 16, timestamp);
    const newLocal =
      messageLength - PutComponentOperation2.MESSAGE_HEADER_LENGTH - CRDT_MESSAGE_HEADER_LENGTH;
    buf.setUint32(startMessageOffset + 20, newLocal);
  }
  PutComponentOperation2.write = write3;
  function read2(buf) {
    const header = CrdtMessageProtocol.readHeader(buf);
    if (!header) {
      return null;
    }
    if (header.type !== CrdtMessageType.PUT_COMPONENT) {
      throw new Error('PutComponentOperation tried to read another message type.');
    }
    return {
      ...header,
      entityId: buf.readUint32(),
      componentId: buf.readUint32(),
      timestamp: buf.readUint32(),
      data: buf.readBuffer(),
    };
  }
  PutComponentOperation2.read = read2;
})(PutComponentOperation || (PutComponentOperation = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/serialization/crdt/network/putComponentNetwork.js
var PutNetworkComponentOperation;
(function (PutNetworkComponentOperation2) {
  PutNetworkComponentOperation2.MESSAGE_HEADER_LENGTH = 20;
  function write3(entity, timestamp, componentId, networkId, data, buf) {
    const startMessageOffset = buf.incrementWriteOffset(
      CRDT_MESSAGE_HEADER_LENGTH + PutNetworkComponentOperation2.MESSAGE_HEADER_LENGTH
    );
    buf.writeBuffer(data, false);
    const messageLength = buf.currentWriteOffset() - startMessageOffset;
    buf.setUint32(startMessageOffset, messageLength);
    buf.setUint32(startMessageOffset + 4, CrdtMessageType.PUT_COMPONENT_NETWORK);
    buf.setUint32(startMessageOffset + 8, entity);
    buf.setUint32(startMessageOffset + 12, componentId);
    buf.setUint32(startMessageOffset + 16, timestamp);
    buf.setUint32(startMessageOffset + 20, networkId);
    const dataLength =
      messageLength -
      PutNetworkComponentOperation2.MESSAGE_HEADER_LENGTH -
      CRDT_MESSAGE_HEADER_LENGTH;
    buf.setUint32(startMessageOffset + 24, dataLength);
  }
  PutNetworkComponentOperation2.write = write3;
  function read2(buf) {
    const header = CrdtMessageProtocol.readHeader(buf);
    if (!header) {
      return null;
    }
    if (header.type !== CrdtMessageType.PUT_COMPONENT_NETWORK) {
      throw new Error('PutComponentNetworkOperation tried to read another message type.');
    }
    return {
      ...header,
      entityId: buf.readUint32(),
      componentId: buf.readUint32(),
      timestamp: buf.readUint32(),
      networkId: buf.readUint32(),
      data: buf.readBuffer(),
    };
  }
  PutNetworkComponentOperation2.read = read2;
})(PutNetworkComponentOperation || (PutNetworkComponentOperation = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/serialization/crdt/network/deleteComponentNetwork.js
var DeleteComponentNetwork;
(function (DeleteComponentNetwork2) {
  DeleteComponentNetwork2.MESSAGE_HEADER_LENGTH = 16;
  function write3(entity, componentId, timestamp, networkId, buf) {
    const messageLength =
      CRDT_MESSAGE_HEADER_LENGTH + DeleteComponentNetwork2.MESSAGE_HEADER_LENGTH;
    const startMessageOffset = buf.incrementWriteOffset(messageLength);
    buf.setUint32(startMessageOffset, messageLength);
    buf.setUint32(startMessageOffset + 4, CrdtMessageType.DELETE_COMPONENT_NETWORK);
    buf.setUint32(startMessageOffset + 8, entity);
    buf.setUint32(startMessageOffset + 12, componentId);
    buf.setUint32(startMessageOffset + 16, timestamp);
    buf.setUint32(startMessageOffset + 20, networkId);
  }
  DeleteComponentNetwork2.write = write3;
  function read2(buf) {
    const header = CrdtMessageProtocol.readHeader(buf);
    if (!header) {
      return null;
    }
    if (header.type !== CrdtMessageType.DELETE_COMPONENT_NETWORK) {
      throw new Error('DeleteComponentOperation tried to read another message type.');
    }
    return {
      ...header,
      entityId: buf.readUint32(),
      componentId: buf.readUint32(),
      timestamp: buf.readUint32(),
      networkId: buf.readUint32(),
    };
  }
  DeleteComponentNetwork2.read = read2;
})(DeleteComponentNetwork || (DeleteComponentNetwork = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/serialization/crdt/network/deleteEntityNetwork.js
var DeleteEntityNetwork;
(function (DeleteEntityNetwork2) {
  DeleteEntityNetwork2.MESSAGE_HEADER_LENGTH = 8;
  function write3(entity, networkId, buf) {
    buf.writeUint32(CRDT_MESSAGE_HEADER_LENGTH + 4);
    buf.writeUint32(CrdtMessageType.DELETE_ENTITY_NETWORK);
    buf.writeUint32(entity);
    buf.writeUint32(networkId);
  }
  DeleteEntityNetwork2.write = write3;
  function read2(buf) {
    const header = CrdtMessageProtocol.readHeader(buf);
    if (!header) {
      return null;
    }
    if (header.type !== CrdtMessageType.DELETE_ENTITY_NETWORK) {
      throw new Error('DeleteEntityNetwork tried to read another message type.');
    }
    return {
      ...header,
      entityId: buf.readUint32(),
      networkId: buf.readUint32(),
    };
  }
  DeleteEntityNetwork2.read = read2;
})(DeleteEntityNetwork || (DeleteEntityNetwork = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/serialization/crdt/network/utils.js
function isNetworkMessage(message) {
  return [
    CrdtMessageType.DELETE_COMPONENT_NETWORK,
    CrdtMessageType.DELETE_ENTITY_NETWORK,
    CrdtMessageType.PUT_COMPONENT_NETWORK,
  ].includes(message.type);
}
function networkMessageToLocal(message, localEntityId, buffer2, destinationBuffer) {
  const offset = buffer2.currentWriteOffset();
  if (message.type === CrdtMessageType.PUT_COMPONENT_NETWORK) {
    PutComponentOperation.write(
      localEntityId,
      message.timestamp,
      message.componentId,
      message.data,
      buffer2
    );
  } else if (message.type === CrdtMessageType.DELETE_COMPONENT_NETWORK) {
    DeleteComponent.write(localEntityId, message.componentId, message.timestamp, buffer2);
  } else if (message.type === CrdtMessageType.DELETE_ENTITY_NETWORK) {
    DeleteEntity.write(localEntityId, buffer2);
  }
  destinationBuffer.writeBuffer(
    buffer2.buffer().subarray(offset, buffer2.currentWriteOffset()),
    false
  );
}
function localMessageToNetwork(message, network, buffer2, destinationBuffer) {
  const offset = buffer2.currentWriteOffset();
  if (message.type === CrdtMessageType.PUT_COMPONENT) {
    PutNetworkComponentOperation.write(
      network.entityId,
      message.timestamp,
      message.componentId,
      network.networkId,
      message.data,
      buffer2
    );
  } else if (message.type === CrdtMessageType.DELETE_COMPONENT) {
    DeleteComponentNetwork.write(
      network.entityId,
      message.componentId,
      message.timestamp,
      network.networkId,
      buffer2
    );
  } else if (message.type === CrdtMessageType.DELETE_ENTITY) {
    DeleteEntityNetwork.write(network.entityId, network.networkId, buffer2);
  }
  destinationBuffer.writeBuffer(
    buffer2.buffer().subarray(offset, buffer2.currentWriteOffset()),
    false
  );
}
var buffer = new ReadWriteByteBuffer();
function fixTransformParent(message, transformValue, parent) {
  buffer.resetBuffer();
  let transform = transformValue;
  if (!transform && 'data' in message) {
    transform = TransformSchema.deserialize(new ReadWriteByteBuffer(message.data));
  }
  if (!transform) throw new Error('Invalid parent transform');
  const newTransform = { ...transform, parent };
  TransformSchema.serialize(newTransform, buffer);
  return buffer.toBinary();
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/systems/crdt/index.js
var LIVEKIT_MAX_SIZE = 12;
function crdtSceneSystem(engine2, onProcessEntityComponentChange) {
  const transports = [];
  const NetworkEntity3 = NetworkEntity(engine2);
  const NetworkParent2 = NetworkParent(engine2);
  const Transform3 = Transform(engine2);
  const receivedMessages = [];
  const broadcastMessages = [];
  function parseChunkMessage(transportId) {
    return function parseChunkMessage2(chunkMessage) {
      const buffer2 = new ReadWriteByteBuffer(chunkMessage);
      let header;
      while ((header = CrdtMessageProtocol.getHeader(buffer2))) {
        const offset = buffer2.currentReadOffset();
        let message = void 0;
        if (header.type === CrdtMessageType.DELETE_COMPONENT) {
          message = DeleteComponent.read(buffer2);
        } else if (header.type === CrdtMessageType.DELETE_COMPONENT_NETWORK) {
          message = DeleteComponentNetwork.read(buffer2);
        } else if (header.type === CrdtMessageType.PUT_COMPONENT) {
          message = PutComponentOperation.read(buffer2);
        } else if (header.type === CrdtMessageType.PUT_COMPONENT_NETWORK) {
          message = PutNetworkComponentOperation.read(buffer2);
        } else if (header.type === CrdtMessageType.DELETE_ENTITY) {
          message = DeleteEntity.read(buffer2);
        } else if (header.type === CrdtMessageType.DELETE_ENTITY_NETWORK) {
          message = DeleteEntityNetwork.read(buffer2);
        } else if (header.type === CrdtMessageType.APPEND_VALUE) {
          message = AppendValueOperation.read(buffer2);
        } else {
          buffer2.incrementReadOffset(header.length);
        }
        if (message) {
          receivedMessages.push({
            ...message,
            transportId,
            messageBuffer: buffer2.buffer().subarray(offset, buffer2.currentReadOffset()),
          });
        }
      }
    };
  }
  function getMessages(value) {
    const messagesToProcess = value.splice(0, value.length);
    return messagesToProcess;
  }
  function findNetworkId(msg) {
    const hasNetworkId = 'networkId' in msg;
    if (hasNetworkId) {
      for (const [entityId, network] of engine2.getEntitiesWith(NetworkEntity3)) {
        if (network.networkId === msg.networkId && network.entityId === msg.entityId) {
          return { entityId, network };
        }
      }
    }
    return { entityId: msg.entityId };
  }
  async function receiveMessages() {
    const messagesToProcess = getMessages(receivedMessages);
    const entitiesShouldBeCleaned = [];
    for (const msg of messagesToProcess) {
      let { entityId, network } = findNetworkId(msg);
      if (isNetworkMessage(msg) && !network) {
        entityId = engine2.addEntity();
        network = { entityId: msg.entityId, networkId: msg.networkId };
        NetworkEntity3.createOrReplace(entityId, network);
      }
      if (
        msg.type === CrdtMessageType.DELETE_ENTITY ||
        msg.type === CrdtMessageType.DELETE_ENTITY_NETWORK
      ) {
        entitiesShouldBeCleaned.push(entityId);
        broadcastMessages.push(msg);
      } else {
        const entityState = engine2.entityContainer.getEntityState(entityId);
        if (entityState === EntityState.Removed) continue;
        if (entityState === EntityState.Unknown) {
          engine2.entityContainer.updateUsedEntity(entityId);
        }
        const component = engine2.getComponentOrNull(msg.componentId);
        if (component) {
          if (
            msg.type === CrdtMessageType.PUT_COMPONENT &&
            component.componentId === Transform3.componentId &&
            NetworkEntity3.has(entityId) &&
            NetworkParent2.has(entityId)
          ) {
            msg.data = fixTransformParent(msg);
          }
          const [conflictMessage, value] = component.updateFromCrdt({ ...msg, entityId });
          if (!conflictMessage) {
            broadcastMessages.push(msg);
            onProcessEntityComponentChange &&
              onProcessEntityComponentChange(entityId, msg.type, component, value);
          }
        } else {
          broadcastMessages.push(msg);
        }
      }
    }
    for (const entity of entitiesShouldBeCleaned) {
      for (const definition of engine2.componentsIter()) {
        definition.entityDeleted(entity, true);
      }
      engine2.entityContainer.updateRemovedEntity(entity);
      onProcessEntityComponentChange &&
        onProcessEntityComponentChange(entity, CrdtMessageType.DELETE_ENTITY);
    }
  }
  async function sendMessages(entitiesDeletedThisTick) {
    const crdtMessages = getMessages(broadcastMessages);
    const buffer2 = new ReadWriteByteBuffer();
    for (const component of engine2.componentsIter()) {
      for (const message of component.getCrdtUpdates()) {
        const offset = buffer2.currentWriteOffset();
        if (transports.some(t => t.filter(message))) {
          if (message.type === CrdtMessageType.PUT_COMPONENT) {
            PutComponentOperation.write(
              message.entityId,
              message.timestamp,
              message.componentId,
              message.data,
              buffer2
            );
          } else if (message.type === CrdtMessageType.DELETE_COMPONENT) {
            DeleteComponent.write(
              message.entityId,
              component.componentId,
              message.timestamp,
              buffer2
            );
          } else if (message.type === CrdtMessageType.APPEND_VALUE) {
            AppendValueOperation.write(
              message.entityId,
              message.timestamp,
              message.componentId,
              message.data,
              buffer2
            );
          }
          crdtMessages.push({
            ...message,
            messageBuffer: buffer2.buffer().subarray(offset, buffer2.currentWriteOffset()),
          });
        }
        if (onProcessEntityComponentChange) {
          const rawValue =
            message.type === CrdtMessageType.PUT_COMPONENT ||
            message.type === CrdtMessageType.APPEND_VALUE
              ? component.get(message.entityId)
              : void 0;
          onProcessEntityComponentChange(message.entityId, message.type, component, rawValue);
        }
      }
    }
    for (const entityId of entitiesDeletedThisTick) {
      const offset = buffer2.currentWriteOffset();
      DeleteEntity.write(entityId, buffer2);
      crdtMessages.push({
        type: CrdtMessageType.DELETE_ENTITY,
        entityId,
        messageBuffer: buffer2.buffer().subarray(offset, buffer2.currentWriteOffset()),
      });
      onProcessEntityComponentChange &&
        onProcessEntityComponentChange(entityId, CrdtMessageType.DELETE_ENTITY);
    }
    const transportBuffer = new ReadWriteByteBuffer();
    for (const index in transports) {
      const __NetworkMessagesBuffer = [];
      const transportIndex = Number(index);
      const transport = transports[transportIndex];
      const isRendererTransport = transport.type === 'renderer';
      const isNetworkTransport = transport.type === 'network';
      transportBuffer.resetBuffer();
      const buffer3 = new ReadWriteByteBuffer();
      for (const message2 of crdtMessages) {
        const currentBufferSize = transportBuffer.toBinary().byteLength;
        const messageSize = message2.messageBuffer.byteLength;
        if (isNetworkTransport && (currentBufferSize + messageSize) / 1024 > LIVEKIT_MAX_SIZE) {
          if (currentBufferSize > 0) {
            __NetworkMessagesBuffer.push(transportBuffer.toCopiedBinary());
            transportBuffer.resetBuffer();
          }
          if (messageSize / 1024 > LIVEKIT_MAX_SIZE) {
            console.error(
              `Message too large (${messageSize} bytes), skipping message for entity ${message2.entityId}`
            );
            continue;
          }
        }
        if (message2.transportId === transportIndex) continue;
        if (!transport.filter(message2)) continue;
        const { entityId } = findNetworkId(message2);
        const transformNeedsFix =
          'componentId' in message2 &&
          message2.componentId === Transform3.componentId &&
          Transform3.has(entityId) &&
          NetworkParent2.has(entityId) &&
          NetworkEntity3.has(entityId);
        if (
          isRendererTransport &&
          message2.type === CrdtMessageType.PUT_COMPONENT &&
          transformNeedsFix
        ) {
          const parent = findNetworkId(NetworkParent2.get(entityId));
          const transformData = fixTransformParent(
            message2,
            Transform3.get(entityId),
            parent.entityId
          );
          const offset = buffer3.currentWriteOffset();
          PutComponentOperation.write(
            entityId,
            message2.timestamp,
            message2.componentId,
            transformData,
            buffer3
          );
          transportBuffer.writeBuffer(
            buffer3.buffer().subarray(offset, buffer3.currentWriteOffset()),
            false
          );
          continue;
        }
        if (isRendererTransport && isNetworkMessage(message2)) {
          let transformData = 'data' in message2 ? message2.data : new Uint8Array();
          if (transformNeedsFix) {
            const parent = findNetworkId(NetworkParent2.get(entityId));
            transformData = fixTransformParent(message2, Transform3.get(entityId), parent.entityId);
          }
          networkMessageToLocal(
            { ...message2, data: transformData },
            entityId,
            buffer3,
            transportBuffer
          );
          continue;
        }
        if (isNetworkTransport && !isNetworkMessage(message2)) {
          const networkData = NetworkEntity3.getOrNull(message2.entityId);
          if (networkData) {
            localMessageToNetwork(message2, networkData, buffer3, transportBuffer);
            continue;
          }
        }
        transportBuffer.writeBuffer(message2.messageBuffer, false);
      }
      if (isNetworkTransport && transportBuffer.currentWriteOffset()) {
        __NetworkMessagesBuffer.push(transportBuffer.toBinary());
      }
      const message = isNetworkTransport ? __NetworkMessagesBuffer : transportBuffer.toBinary();
      await transport.send(message);
    }
  }
  function addTransport(transport) {
    const id = transports.push(transport) - 1;
    transport.onmessage = parseChunkMessage(id);
  }
  return {
    sendMessages,
    receiveMessages,
    addTransport,
  };
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/systems/crdt/utils.js
var CrdtUtils;
(function (CrdtUtils2) {
  let SynchronizedEntityType;
  (function (SynchronizedEntityType2) {
    SynchronizedEntityType2[(SynchronizedEntityType2['NETWORKED'] = 0)] = 'NETWORKED';
    SynchronizedEntityType2[(SynchronizedEntityType2['RENDERER'] = 1)] = 'RENDERER';
  })(
    (SynchronizedEntityType =
      CrdtUtils2.SynchronizedEntityType || (CrdtUtils2.SynchronizedEntityType = {}))
  );
})(CrdtUtils || (CrdtUtils = {}));
function dataCompare(a, b) {
  if (a === b) return 0;
  if (a === null && b !== null) return -1;
  if (a !== null && b === null) return 1;
  if (a instanceof Uint8Array && b instanceof Uint8Array) {
    const lengthDifference = a.byteLength - b.byteLength;
    if (lengthDifference !== 0) {
      return lengthDifference > 0 ? 1 : -1;
    }
    let res;
    for (let i = 0, n = a.byteLength; i < n; i++) {
      res = a[i] - b[i];
      if (res !== 0) {
        return res > 0 ? 1 : -1;
      }
    }
    return 0;
  }
  if (typeof a === 'string') {
    const lengthDifference = a.length - b.length;
    if (lengthDifference !== 0) {
      return lengthDifference > 0 ? 1 : -1;
    }
    return a.localeCompare(b);
  }
  return a > b ? 1 : -1;
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/engine/readonly.js
function deepReadonly(val) {
  return Object.freeze({ ...val });
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/engine/lww-element-set-component-definition.js
function incrementTimestamp(entity, timestamps) {
  const newTimestamp = (timestamps.get(entity) || 0) + 1;
  timestamps.set(entity, newTimestamp);
  return newTimestamp;
}
function createDumpLwwFunctionFromCrdt(componentId, timestamps, schema, data) {
  return function dumpCrdtState(buffer2, filterEntity) {
    for (const [entity, timestamp] of timestamps) {
      if (filterEntity) {
        if (!filterEntity(entity)) continue;
      }
      if (data.has(entity)) {
        const it = data.get(entity);
        const buf = new ReadWriteByteBuffer();
        schema.serialize(it, buf);
        PutComponentOperation.write(entity, timestamp, componentId, buf.toBinary(), buffer2);
      } else {
        DeleteComponent.write(entity, componentId, timestamp, buffer2);
      }
    }
  };
}
function createUpdateLwwFromCrdt(componentId, timestamps, schema, data) {
  function crdtRuleForCurrentState(message) {
    const { entityId, timestamp } = message;
    const currentTimestamp = timestamps.get(entityId);
    if (currentTimestamp === void 0 || currentTimestamp < timestamp) {
      return ProcessMessageResultType.StateUpdatedTimestamp;
    }
    if (currentTimestamp > timestamp) {
      return ProcessMessageResultType.StateOutdatedTimestamp;
    }
    if (message.type === CrdtMessageType.DELETE_COMPONENT && !data.has(entityId)) {
      return ProcessMessageResultType.NoChanges;
    }
    let currentDataGreater = 0;
    if (data.has(entityId)) {
      const writeBuffer = new ReadWriteByteBuffer();
      schema.serialize(data.get(entityId), writeBuffer);
      currentDataGreater = dataCompare(writeBuffer.toBinary(), message.data || null);
    } else {
      currentDataGreater = dataCompare(null, message.data);
    }
    if (currentDataGreater === 0) {
      return ProcessMessageResultType.NoChanges;
    } else if (currentDataGreater > 0) {
      return ProcessMessageResultType.StateOutdatedData;
    } else {
      return ProcessMessageResultType.StateUpdatedData;
    }
  }
  return msg => {
    if (
      msg.type !== CrdtMessageType.PUT_COMPONENT &&
      msg.type !== CrdtMessageType.PUT_COMPONENT_NETWORK &&
      msg.type !== CrdtMessageType.DELETE_COMPONENT &&
      msg.type !== CrdtMessageType.DELETE_COMPONENT_NETWORK
    )
      return [null, data.get(msg.entityId)];
    const action = crdtRuleForCurrentState(msg);
    const entity = msg.entityId;
    switch (action) {
      case ProcessMessageResultType.StateUpdatedData:
      case ProcessMessageResultType.StateUpdatedTimestamp: {
        timestamps.set(entity, msg.timestamp);
        if (
          msg.type === CrdtMessageType.PUT_COMPONENT ||
          msg.type === CrdtMessageType.PUT_COMPONENT_NETWORK
        ) {
          const buf = new ReadWriteByteBuffer(msg.data);
          data.set(entity, schema.deserialize(buf));
        } else {
          data.delete(entity);
        }
        return [null, data.get(entity)];
      }
      case ProcessMessageResultType.StateOutdatedTimestamp:
      case ProcessMessageResultType.StateOutdatedData: {
        if (data.has(entity)) {
          const writeBuffer = new ReadWriteByteBuffer();
          schema.serialize(data.get(entity), writeBuffer);
          return [
            {
              type: CrdtMessageType.PUT_COMPONENT,
              componentId,
              data: writeBuffer.toBinary(),
              entityId: entity,
              timestamp: timestamps.get(entity),
            },
            data.get(entity),
          ];
        } else {
          return [
            {
              type: CrdtMessageType.DELETE_COMPONENT,
              componentId,
              entityId: entity,
              timestamp: timestamps.get(entity),
            },
            void 0,
          ];
        }
      }
    }
    return [null, data.get(entity)];
  };
}
function createGetCrdtMessagesForLww(componentId, timestamps, dirtyIterator, schema, data) {
  return function* () {
    for (const entity of dirtyIterator) {
      const newTimestamp = incrementTimestamp(entity, timestamps);
      if (data.has(entity)) {
        const writeBuffer = new ReadWriteByteBuffer();
        schema.serialize(data.get(entity), writeBuffer);
        const msg = {
          type: CrdtMessageType.PUT_COMPONENT,
          componentId,
          entityId: entity,
          data: writeBuffer.toBinary(),
          timestamp: newTimestamp,
        };
        yield msg;
      } else {
        const msg = {
          type: CrdtMessageType.DELETE_COMPONENT,
          componentId,
          entityId: entity,
          timestamp: newTimestamp,
        };
        yield msg;
      }
    }
    dirtyIterator.clear();
  };
}
function createComponentDefinitionFromSchema(componentName, componentId, schema) {
  const data = /* @__PURE__ */ new Map();
  const dirtyIterator = /* @__PURE__ */ new Set();
  const timestamps = /* @__PURE__ */ new Map();
  const onChangeCallbacks = /* @__PURE__ */ new Map();
  return {
    get componentId() {
      return componentId;
    },
    get componentName() {
      return componentName;
    },
    get componentType() {
      return 0;
    },
    schema,
    has(entity) {
      return data.has(entity);
    },
    deleteFrom(entity, markAsDirty = true) {
      const component = data.get(entity);
      if (data.delete(entity) && markAsDirty) {
        dirtyIterator.add(entity);
      }
      return component || null;
    },
    entityDeleted(entity, markAsDirty) {
      if (data.delete(entity) && markAsDirty) {
        dirtyIterator.add(entity);
      }
    },
    getOrNull(entity) {
      const component = data.get(entity);
      return component ? deepReadonly(component) : null;
    },
    get(entity) {
      const component = data.get(entity);
      if (!component) {
        throw new Error(`[getFrom] Component ${componentName} for entity #${entity} not found`);
      }
      return deepReadonly(component);
    },
    create(entity, value) {
      const component = data.get(entity);
      if (component) {
        throw new Error(`[create] Component ${componentName} for ${entity} already exists`);
      }
      const usedValue =
        value === void 0 ? schema.create() : schema.extend ? schema.extend(value) : value;
      data.set(entity, usedValue);
      dirtyIterator.add(entity);
      return usedValue;
    },
    createOrReplace(entity, value) {
      const usedValue =
        value === void 0 ? schema.create() : schema.extend ? schema.extend(value) : value;
      data.set(entity, usedValue);
      dirtyIterator.add(entity);
      return usedValue;
    },
    getMutableOrNull(entity) {
      const component = data.get(entity);
      if (!component) {
        return null;
      }
      dirtyIterator.add(entity);
      return component;
    },
    getOrCreateMutable(entity, value) {
      const component = data.get(entity);
      if (!component) {
        return this.create(entity, value);
      } else {
        dirtyIterator.add(entity);
        return component;
      }
    },
    getMutable(entity) {
      const component = this.getMutableOrNull(entity);
      if (component === null) {
        throw new Error(`[mutable] Component ${componentName} for ${entity} not found`);
      }
      return component;
    },
    *iterator() {
      for (const [entity, component] of data) {
        yield [entity, component];
      }
    },
    *dirtyIterator() {
      for (const entity of dirtyIterator) {
        yield entity;
      }
    },
    getCrdtUpdates: createGetCrdtMessagesForLww(
      componentId,
      timestamps,
      dirtyIterator,
      schema,
      data
    ),
    updateFromCrdt: createUpdateLwwFromCrdt(componentId, timestamps, schema, data),
    dumpCrdtStateToBuffer: createDumpLwwFunctionFromCrdt(componentId, timestamps, schema, data),
    onChange(entity, cb) {
      const cbs = onChangeCallbacks.get(entity) ?? [];
      cbs.push(cb);
      onChangeCallbacks.set(entity, cbs);
    },
    __onChangeCallbacks(entity, value) {
      const cbs = onChangeCallbacks.get(entity);
      if (!cbs) return;
      for (const cb of cbs) {
        cb(value);
      }
    },
  };
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/engine/systems.js
var SYSTEMS_REGULAR_PRIORITY = 1e5;
function SystemContainer() {
  const systems = [];
  function sort() {
    systems.sort((a, b) => b.priority - a.priority);
  }
  function add2(fn, priority, name) {
    const systemName = name ?? fn.name;
    if (systems.find(item => item.fn === fn)) {
      throw new Error(`System ${JSON.stringify(systemName)} already added to the engine`);
    }
    systems.push({
      fn,
      priority,
      name: systemName,
    });
    sort();
  }
  function remove(selector) {
    let index = -1;
    if (typeof selector === 'string') {
      index = systems.findIndex(item => item.name === selector);
    } else {
      index = systems.findIndex(item => item.fn === selector);
    }
    if (index === -1) {
      return false;
    }
    systems.splice(index, 1);
    sort();
    return true;
  }
  return {
    add: add2,
    remove,
    getSystems() {
      return systems;
    },
  };
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/engine/grow-only-value-set-component-definition.js
var emptyReadonlySet = freezeSet(/* @__PURE__ */ new Set());
function frozenError() {
  throw new Error('The set is frozen');
}
function freezeSet(set) {
  set.add = frozenError;
  set.clear = frozenError;
  return set;
}
function sortByTimestamp(a, b) {
  return a.timestamp > b.timestamp ? 1 : -1;
}
function createValueSetComponentDefinitionFromSchema(componentName, componentId, schema, options) {
  const data = /* @__PURE__ */ new Map();
  const dirtyIterator = /* @__PURE__ */ new Set();
  const queuedCommands = [];
  const onChangeCallbacks = /* @__PURE__ */ new Map();
  function shouldSort(row) {
    const len = row.raw.length;
    if (len > 1 && row.raw[len - 1].timestamp <= row.raw[len - 2].timestamp) {
      return true;
    }
    return false;
  }
  function gotUpdated(entity) {
    const row = data.get(entity);
    if (row) {
      if (shouldSort(row)) {
        row.raw.sort(sortByTimestamp);
      }
      while (row.raw.length > options.maxElements) {
        row.raw.shift();
      }
      const frozenSet = freezeSet(new Set(row?.raw.map($ => $.value)));
      row.frozenSet = frozenSet;
      return frozenSet;
    } else {
      return emptyReadonlySet;
    }
  }
  function append(entity, value) {
    let row = data.get(entity);
    if (!row) {
      row = { raw: [], frozenSet: emptyReadonlySet };
      data.set(entity, row);
    }
    const usedValue = schema.extend ? schema.extend(value) : value;
    const timestamp = options.timestampFunction(usedValue);
    if (__DEV__) {
      Object.freeze(usedValue);
    }
    row.raw.push({ value: usedValue, timestamp });
    return { set: gotUpdated(entity), value: usedValue };
  }
  const ret = {
    get componentId() {
      return componentId;
    },
    get componentName() {
      return componentName;
    },
    get componentType() {
      return 1;
    },
    schema,
    has(entity) {
      return data.has(entity);
    },
    entityDeleted(entity) {
      data.delete(entity);
    },
    get(entity) {
      const values = data.get(entity);
      if (values) {
        return values.frozenSet;
      } else {
        return emptyReadonlySet;
      }
    },
    addValue(entity, rawValue) {
      const { set, value } = append(entity, rawValue);
      dirtyIterator.add(entity);
      const buf = new ReadWriteByteBuffer();
      schema.serialize(value, buf);
      queuedCommands.push({
        componentId,
        data: buf.toBinary(),
        entityId: entity,
        timestamp: 0,
        type: CrdtMessageType.APPEND_VALUE,
      });
      return set;
    },
    *iterator() {
      for (const [entity, component] of data) {
        yield [entity, component.frozenSet];
      }
    },
    *dirtyIterator() {
      for (const entity of dirtyIterator) {
        yield entity;
      }
    },
    getCrdtUpdates() {
      dirtyIterator.clear();
      return queuedCommands.splice(0, queuedCommands.length);
    },
    updateFromCrdt(_body) {
      if (_body.type === CrdtMessageType.APPEND_VALUE) {
        const buf = new ReadWriteByteBuffer(_body.data);
        const { value } = append(_body.entityId, schema.deserialize(buf));
        return [null, value];
      }
      return [null, void 0];
    },
    dumpCrdtStateToBuffer: function (buffer2, filterEntity) {
      for (const [entity, { raw }] of data) {
        if (filterEntity && !filterEntity(entity)) continue;
        for (const it of raw) {
          const buf = new ReadWriteByteBuffer();
          schema.serialize(it.value, buf);
          AppendValueOperation.write(entity, 0, componentId, buf.toBinary(), buffer2);
        }
      }
    },
    onChange(entity, cb) {
      const cbs = onChangeCallbacks.get(entity) ?? [];
      cbs.push(cb);
      onChangeCallbacks.set(entity, cbs);
    },
    __onChangeCallbacks(entity, value) {
      const cbs = onChangeCallbacks.get(entity);
      if (!cbs) return;
      for (const cb of cbs) {
        cb(value);
      }
    },
  };
  return ret;
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/runtime/helpers/tree.js
function* genEntityTree(entity, entities) {
  if (!entities.has(entity)) return;
  entities.delete(entity);
  for (const [_entity, value] of entities) {
    if (value.parent === entity) {
      yield* genEntityTree(_entity, entities);
    }
  }
  yield entity;
}
function getComponentEntityTree(engine2, entity, component) {
  const entities = new Map(engine2.getEntitiesWith(component));
  return genEntityTree(entity, entities);
}
function removeNetworkEntityChildrens(engine2, parent) {
  const NetworkParent2 = NetworkParent(engine2);
  const NetworkEntity3 = NetworkEntity(engine2);
  engine2.removeEntity(parent);
  const network = NetworkEntity3.getOrNull(parent);
  if (network) {
    for (const [entity, parent2] of engine2.getEntitiesWith(NetworkParent2)) {
      if (parent2.entityId === network.entityId && parent2.networkId === network.networkId) {
        removeNetworkEntityChildrens(engine2, entity);
      }
    }
  }
  return;
}
function removeEntityWithChildren(engine2, entity) {
  const Transform3 = Transform(engine2);
  const NetworkEntity3 = NetworkEntity(engine2);
  if (NetworkEntity3.has(entity)) {
    return removeNetworkEntityChildrens(engine2, entity);
  }
  for (const ent of getComponentEntityTree(engine2, entity, Transform3)) {
    engine2.removeEntity(ent);
  }
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/engine/input.js
var InputCommands = [
  0, 1, 2, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13,
  /* InputAction.IA_ACTION_6 */
];
var InputStateUpdateSystemPriority = 1 << 20;
function createInputSystem(engine2) {
  const PointerEventsResult3 = PointerEventsResult(engine2);
  const globalState = {
    previousFrameMaxTimestamp: 0,
    currentFrameMaxTimestamp: 0,
    buttonState: /* @__PURE__ */ new Map(),
    thisFrameCommands: [],
  };
  function findLastAction(pointerEventType, inputAction, entity) {
    const ascendingTimestampIterator = PointerEventsResult3.get(entity);
    for (const command of Array.from(ascendingTimestampIterator).reverse()) {
      if (command.button === inputAction && command.state === pointerEventType) {
        return command;
      }
    }
  }
  function* findCommandsByActionDescending(inputAction, entity) {
    const ascendingTimestampIterator = PointerEventsResult3.get(entity);
    for (const command of Array.from(ascendingTimestampIterator).reverse()) {
      if (command.button === inputAction) {
        yield command;
      }
    }
  }
  function buttonStateUpdateSystem() {
    let maxTimestamp = globalState.currentFrameMaxTimestamp;
    globalState.previousFrameMaxTimestamp = maxTimestamp;
    if (globalState.thisFrameCommands.length) {
      globalState.thisFrameCommands = [];
    }
    for (const [, commands] of engine2.getEntitiesWith(PointerEventsResult3)) {
      const arrayCommands = Array.from(commands);
      for (let i = arrayCommands.length - 1; i >= 0; i--) {
        const command = arrayCommands[i];
        if (command.timestamp > maxTimestamp) {
          maxTimestamp = command.timestamp;
        }
        if (command.timestamp > globalState.previousFrameMaxTimestamp) {
          globalState.thisFrameCommands.push(command);
        }
        if (command.state === 0 || command.state === 1) {
          const prevCommand = globalState.buttonState.get(command.button);
          if (!prevCommand || command.timestamp > prevCommand.timestamp) {
            globalState.buttonState.set(command.button, command);
          } else {
            break;
          }
        }
      }
    }
    globalState.currentFrameMaxTimestamp = maxTimestamp;
  }
  engine2.addSystem(
    buttonStateUpdateSystem,
    InputStateUpdateSystemPriority,
    '@dcl/ecs#inputSystem'
  );
  function timestampIsCurrentFrame(timestamp) {
    if (
      timestamp > globalState.previousFrameMaxTimestamp &&
      timestamp <= globalState.currentFrameMaxTimestamp
    ) {
      return true;
    } else {
      return false;
    }
  }
  function getClick(inputAction, entity) {
    if (inputAction !== 3) {
      return findClick(inputAction, entity);
    }
    for (const input of InputCommands) {
      const cmd = findClick(input, entity);
      if (cmd) return cmd;
    }
    return null;
  }
  function findClick(inputAction, entity) {
    let down = null;
    let up = null;
    for (const it of findCommandsByActionDescending(inputAction, entity)) {
      if (!up) {
        if (it.state === 0) {
          up = it;
          continue;
        }
      } else if (!down) {
        if (it.state === 1) {
          down = it;
          break;
        }
      }
    }
    if (!up || !down) return null;
    if (down.timestamp < up.timestamp && timestampIsCurrentFrame(up.timestamp)) {
      return { up, down };
    }
    return null;
  }
  function getInputCommandFromEntity(inputAction, pointerEventType, entity) {
    if (inputAction !== 3) {
      return findInputCommand(inputAction, pointerEventType, entity);
    }
    for (const input of InputCommands) {
      const cmd = findInputCommand(input, pointerEventType, entity);
      if (cmd) return cmd;
    }
    return null;
  }
  function getInputCommand(inputAction, pointerEventType, entity) {
    if (entity) {
      return getInputCommandFromEntity(inputAction, pointerEventType, entity);
    } else {
      for (const command of globalState.thisFrameCommands) {
        if (
          (command.button === inputAction || inputAction === 3) &&
          command.state === pointerEventType
        ) {
          return command;
        }
      }
      return null;
    }
  }
  function findInputCommand(inputAction, pointerEventType, entity) {
    const command = findLastAction(pointerEventType, inputAction, entity);
    if (!command) return null;
    if (timestampIsCurrentFrame(command.timestamp)) {
      return command;
    } else {
      return null;
    }
  }
  function isClicked(inputAction, entity) {
    return getClick(inputAction, entity) !== null;
  }
  function isTriggered(inputAction, pointerEventType, entity) {
    if (entity) {
      const command = findLastAction(pointerEventType, inputAction, entity);
      return (command && timestampIsCurrentFrame(command.timestamp)) || false;
    } else {
      for (const command of globalState.thisFrameCommands) {
        if (
          (command.button === inputAction || inputAction === 3) &&
          command.state === pointerEventType
        ) {
          return true;
        }
      }
      return false;
    }
  }
  function isPressed(inputAction) {
    return globalState.buttonState.get(inputAction)?.state === 1;
  }
  return {
    isPressed,
    getClick,
    getInputCommand,
    isClicked,
    isTriggered,
  };
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/engine/component.js
var ComponentType;
(function (ComponentType2) {
  ComponentType2[(ComponentType2['LastWriteWinElementSet'] = 0)] = 'LastWriteWinElementSet';
  ComponentType2[(ComponentType2['GrowOnlyValueSet'] = 1)] = 'GrowOnlyValueSet';
})(ComponentType || (ComponentType = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/engine/index.js
function preEngine(options) {
  const entityContainer = options?.entityContainer ?? createEntityContainer();
  const componentsDefinition = /* @__PURE__ */ new Map();
  const systems = SystemContainer();
  let sealed = false;
  function addSystem(fn, priority = SYSTEMS_REGULAR_PRIORITY, name) {
    systems.add(fn, priority, name);
  }
  function removeSystem(selector) {
    return systems.remove(selector);
  }
  function addEntity() {
    const entity = entityContainer.generateEntity();
    return entity;
  }
  function removeEntity(entity) {
    for (const [, component] of componentsDefinition) {
      if (component.componentName === 'core-schema::Network-Entity') continue;
      component.entityDeleted(entity, true);
    }
    return entityContainer.removeEntity(entity);
  }
  function removeEntityWithChildren2(entity) {
    return removeEntityWithChildren(
      { removeEntity, defineComponentFromSchema, getEntitiesWith, defineComponent },
      entity
    );
  }
  function registerComponentDefinition(componentName, component) {
    if (sealed)
      throw new Error('Engine is already sealed. No components can be added at this stage');
    const componentId = componentNumberFromName(componentName);
    const prev = componentsDefinition.get(componentId);
    if (prev) {
      throw new Error(`Component number ${componentId} was already registered.`);
    }
    if (component.componentName !== componentName) {
      throw new Error(
        `Component name doesn't match componentDefinition.componentName ${componentName} != ${component.componentName}`
      );
    }
    if (component.componentId !== componentId) {
      throw new Error(
        `Component number doesn't match componentDefinition.componentId ${componentId} != ${component.componentId}`
      );
    }
    componentsDefinition.set(componentId, component);
    return component;
  }
  function defineComponentFromSchema(componentName, schema) {
    const componentId = componentNumberFromName(componentName);
    const prev = componentsDefinition.get(componentId);
    if (prev) {
      return prev;
    }
    if (sealed)
      throw new Error('Engine is already sealed. No components can be added at this stage');
    const newComponent = createComponentDefinitionFromSchema(componentName, componentId, schema);
    componentsDefinition.set(componentId, newComponent);
    return newComponent;
  }
  function defineValueSetComponentFromSchema(componentName, schema, options2) {
    const componentId = componentNumberFromName(componentName);
    const prev = componentsDefinition.get(componentId);
    if (prev) {
      return prev;
    }
    if (sealed)
      throw new Error('Engine is already sealed. No components can be added at this stage');
    const newComponent = createValueSetComponentDefinitionFromSchema(
      componentName,
      componentId,
      schema,
      options2
    );
    componentsDefinition.set(componentId, newComponent);
    return newComponent;
  }
  function defineComponent(componentName, mapSpec, constructorDefault) {
    const componentId = componentNumberFromName(componentName);
    const prev = componentsDefinition.get(componentId);
    if (prev) {
      return prev;
    }
    if (sealed)
      throw new Error('Engine is already sealed. No components can be added at this stage');
    const schemaSpec = Schemas.Map(mapSpec, constructorDefault);
    const def = createComponentDefinitionFromSchema(componentName, componentId, schemaSpec);
    const newComponent = {
      ...def,
      create(entity, val) {
        return def.create(entity, val);
      },
      createOrReplace(entity, val) {
        return def.createOrReplace(entity, val);
      },
    };
    componentsDefinition.set(componentId, newComponent);
    return newComponent;
  }
  function getComponent(componentIdOrName) {
    const componentId =
      typeof componentIdOrName === 'number'
        ? componentIdOrName
        : componentNumberFromName(componentIdOrName);
    const component = componentsDefinition.get(componentId);
    if (!component) {
      throw new Error(
        `Component ${componentIdOrName} not found. You need to declare the components at the beginnig of the engine declaration`
      );
    }
    return component;
  }
  function getComponentOrNull(componentIdOrName) {
    const componentId =
      typeof componentIdOrName === 'number'
        ? componentIdOrName
        : componentNumberFromName(componentIdOrName);
    return componentsDefinition.get(componentId) /* istanbul ignore next */ ?? null;
  }
  function* getEntitiesWith(...components) {
    for (const [entity, ...groupComp] of getComponentDefGroup(...components)) {
      yield [entity, ...groupComp.map(c => c.get(entity))];
    }
  }
  function getEntityOrNullByName(value) {
    const NameComponent = Name({ defineComponent });
    for (const [entity, name] of getEntitiesWith(NameComponent)) {
      if (name.value === value) return entity;
    }
    return null;
  }
  function getEntityByName(value) {
    const entity = getEntityOrNullByName(value);
    return entity;
  }
  function* getEntitiesByTag(tagName) {
    const TagComponent = Tags({ defineComponent });
    for (const [entity, component] of getEntitiesWith(TagComponent)) {
      if (entity !== 0 && component.tags?.some(tag => tag === tagName)) {
        yield entity;
      }
    }
  }
  function* getComponentDefGroup(...args) {
    const [firstComponentDef, ...componentDefinitions] = args;
    for (const [entity] of firstComponentDef.iterator()) {
      let matches = true;
      for (const componentDef of componentDefinitions) {
        if (!componentDef.has(entity)) {
          matches = false;
          break;
        }
      }
      if (matches) {
        yield [entity, ...args];
      }
    }
  }
  function getSystems() {
    return systems.getSystems();
  }
  function componentsIter() {
    return componentsDefinition.values();
  }
  function removeComponentDefinition(componentIdOrName) {
    if (sealed)
      throw new Error('Engine is already sealed. No components can be removed at this stage');
    const componentId =
      typeof componentIdOrName === 'number'
        ? componentIdOrName
        : componentNumberFromName(componentIdOrName);
    componentsDefinition.delete(componentId);
  }
  Transform({ defineComponentFromSchema });
  function seal() {
    if (!sealed) {
      sealed = true;
    }
  }
  return {
    addEntity,
    removeEntity,
    removeEntityWithChildren: removeEntityWithChildren2,
    addSystem,
    getSystems,
    removeSystem,
    defineComponent,
    defineComponentFromSchema,
    defineValueSetComponentFromSchema,
    getEntitiesWith,
    getComponent,
    getComponentOrNull,
    getEntityOrNullByName,
    getEntityByName,
    getEntitiesByTag,
    removeComponentDefinition,
    registerComponentDefinition,
    entityContainer,
    componentsIter,
    seal,
  };
}
function Engine(options) {
  const partialEngine = preEngine(options);
  const onChangeFunction = (entity, operation, component, componentValue) => {
    if (operation === CrdtMessageType.DELETE_ENTITY) {
      for (const component2 of partialEngine.componentsIter()) {
        component2?.__onChangeCallbacks(entity, void 0);
      }
    } else {
      component?.__onChangeCallbacks(entity, componentValue);
    }
    return options?.onChangeFunction(entity, operation, component, componentValue);
  };
  const crdtSystem = crdtSceneSystem(partialEngine, onChangeFunction);
  async function update(dt) {
    await crdtSystem.receiveMessages();
    for (const system of partialEngine.getSystems()) {
      const ret = system.fn(dt);
      checkNotThenable(
        ret,
        `A system (${system.name || 'anonymous'}) returned a thenable. Systems cannot be async functions. Documentation: https://dcl.gg/sdk/sync-systems`
      );
    }
    const deletedEntites = partialEngine.entityContainer.releaseRemovedEntities();
    await crdtSystem.sendMessages(deletedEntites);
  }
  return {
    _id: Date.now(),
    addEntity: partialEngine.addEntity,
    removeEntity: partialEngine.removeEntity,
    removeEntityWithChildren: partialEngine.removeEntityWithChildren,
    addSystem: partialEngine.addSystem,
    removeSystem: partialEngine.removeSystem,
    defineComponent: partialEngine.defineComponent,
    defineComponentFromSchema: partialEngine.defineComponentFromSchema,
    defineValueSetComponentFromSchema: partialEngine.defineValueSetComponentFromSchema,
    registerComponentDefinition: partialEngine.registerComponentDefinition,
    getEntitiesWith: partialEngine.getEntitiesWith,
    getComponent: partialEngine.getComponent,
    getComponentOrNull: partialEngine.getComponentOrNull,
    removeComponentDefinition: partialEngine.removeComponentDefinition,
    componentsIter: partialEngine.componentsIter,
    seal: partialEngine.seal,
    getEntityOrNullByName: partialEngine.getEntityOrNullByName,
    getEntityByName: partialEngine.getEntityByName,
    getEntitiesByTag: partialEngine.getEntitiesByTag,
    update,
    RootEntity: 0,
    PlayerEntity: 1,
    CameraEntity: 2,
    getEntityState: partialEngine.entityContainer.getEntityState,
    addTransport: crdtSystem.addTransport,
    entityContainer: partialEngine.entityContainer,
  };
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/systems/events.js
var getDefaultOpts = (opts = {}) => ({
  button: 3,
  ...opts,
});
function createPointerEventsSystem(engine2, inputSystem2) {
  const PointerEvents2 = PointerEvents(engine2);
  let EventType;
  (function (EventType2) {
    EventType2[(EventType2['Click'] = 0)] = 'Click';
    EventType2[(EventType2['Down'] = 1)] = 'Down';
    EventType2[(EventType2['Up'] = 2)] = 'Up';
    EventType2[(EventType2['HoverEnter'] = 3)] = 'HoverEnter';
    EventType2[(EventType2['HoverLeave'] = 4)] = 'HoverLeave';
  })(EventType || (EventType = {}));
  const eventsMap = /* @__PURE__ */ new Map();
  function getEvent(entity) {
    return eventsMap.get(entity) || eventsMap.set(entity, /* @__PURE__ */ new Map()).get(entity);
  }
  function setPointerEvent(entity, type, opts) {
    const pointerEvent = PointerEvents2.getMutableOrNull(entity) || PointerEvents2.create(entity);
    pointerEvent.pointerEvents.push({
      eventType: type,
      eventInfo: {
        button: opts.button,
        showFeedback: opts.showFeedback,
        showHighlight: opts.showHighlight,
        hoverText: opts.hoverText,
        maxDistance: opts.maxDistance,
      },
    });
  }
  function removePointerEvent(entity, type, button) {
    const pointerEvent = PointerEvents2.getMutableOrNull(entity);
    if (!pointerEvent) return;
    pointerEvent.pointerEvents = pointerEvent.pointerEvents.filter(
      pointer => !(pointer.eventInfo?.button === button && pointer.eventType === type)
    );
  }
  function getPointerEvent(eventType) {
    if (eventType === EventType.Up) {
      return 0;
    } else if (eventType === EventType.HoverLeave) {
      return 3;
    } else if (eventType === EventType.HoverEnter) {
      return 2;
    }
    return 1;
  }
  function removeEvent(entity, type) {
    const event = getEvent(entity);
    const pointerEvent = event.get(type);
    if (pointerEvent?.opts.hoverText) {
      removePointerEvent(entity, getPointerEvent(type), pointerEvent.opts.button);
    }
    event.delete(type);
  }
  engine2.addSystem(function EventSystem() {
    for (const [entity, event] of eventsMap) {
      if (engine2.getEntityState(entity) === EntityState.Removed) {
        eventsMap.delete(entity);
        continue;
      }
      for (const [eventType, { cb, opts }] of event) {
        if (eventType === EventType.Click) {
          const command = inputSystem2.getClick(opts.button, entity);
          if (command)
            checkNotThenable(
              cb(command.up),
              'Click event returned a thenable. Only synchronous functions are allowed'
            );
        }
        if (
          eventType === EventType.Down ||
          eventType === EventType.Up ||
          eventType === EventType.HoverEnter ||
          eventType === EventType.HoverLeave
        ) {
          const command = inputSystem2.getInputCommand(
            opts.button,
            getPointerEvent(eventType),
            entity
          );
          if (command) {
            checkNotThenable(
              cb(command),
              'Event handler returned a thenable. Only synchronous functions are allowed'
            );
          }
        }
      }
    }
  });
  const onPointerDown = (...args) => {
    const [data, cb, maybeOpts] = args;
    if (typeof data === 'number') {
      return onPointerDown({ entity: data, opts: maybeOpts ?? {} }, cb);
    }
    const { entity, opts } = data;
    const options = getDefaultOpts(opts);
    removeEvent(entity, EventType.Down);
    getEvent(entity).set(EventType.Down, { cb, opts: options });
    setPointerEvent(entity, 1, options);
  };
  const onPointerUp = (...args) => {
    const [data, cb, maybeOpts] = args;
    if (typeof data === 'number') {
      return onPointerUp({ entity: data, opts: maybeOpts ?? {} }, cb);
    }
    const { entity, opts } = data;
    const options = getDefaultOpts(opts);
    removeEvent(entity, EventType.Up);
    getEvent(entity).set(EventType.Up, { cb, opts: options });
    setPointerEvent(entity, 0, options);
  };
  const onPointerHoverEnter = (...args) => {
    const [data, cb] = args;
    const { entity, opts } = data;
    const options = getDefaultOpts(opts);
    removeEvent(entity, EventType.HoverEnter);
    getEvent(entity).set(EventType.HoverEnter, { cb, opts: options });
    setPointerEvent(entity, 2, options);
  };
  const onPointerHoverLeave = (...args) => {
    const [data, cb] = args;
    const { entity, opts } = data;
    const options = getDefaultOpts(opts);
    removeEvent(entity, EventType.HoverLeave);
    getEvent(entity).set(EventType.HoverLeave, { cb, opts: options });
    setPointerEvent(entity, 3, options);
  };
  return {
    removeOnClick(entity) {
      removeEvent(entity, EventType.Click);
    },
    removeOnPointerDown(entity) {
      removeEvent(entity, EventType.Down);
    },
    removeOnPointerUp(entity) {
      removeEvent(entity, EventType.Up);
    },
    removeOnPointerHoverEnter(entity) {
      removeEvent(entity, EventType.HoverEnter);
    },
    removeOnPointerHoverLeave(entity) {
      removeEvent(entity, EventType.HoverLeave);
    },
    onClick(value, cb) {
      const { entity } = value;
      const options = getDefaultOpts(value.opts);
      removeEvent(entity, EventType.Click);
      getEvent(entity).set(EventType.Click, { cb, opts: options });
      setPointerEvent(entity, 1, options);
    },
    onPointerDown,
    onPointerUp,
    onPointerHoverEnter,
    onPointerHoverLeave,
  };
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/systems/tween.js
var cacheTween = /* @__PURE__ */ new Map();
function createTweenSystem(engine2) {
  if (cacheTween.has(engine2._id)) {
    return cacheTween.get(engine2._id);
  }
  const Tween3 = Tween2(engine2);
  const TweenState2 = TweenState(engine2);
  const TweenSequence2 = TweenSequence(engine2);
  const cache = /* @__PURE__ */ new Map();
  function isCompleted(entity) {
    const tweenState = TweenState2.getOrNull(entity);
    const tween = Tween3.getOrNull(entity);
    const tweenCache = cache.get(entity);
    if (!tweenState || !tween || !tweenCache) return false;
    if (
      // Renderer notified that the tween is completed
      // Only consider it completed if the tween hasn't changed this frame (to avoid false positives after YOYO/sequence processing)
      ((tweenState.state === 1 && !tweenCache.changed) ||
        (tweenChanged(entity) && !tweenCache.changed)) && // Avoid sending isCompleted multiple times
      !tweenCache.completed
    ) {
      return true;
    }
    return false;
  }
  function tweenChanged(entity) {
    const currentTween = Tween3.getOrNull(entity);
    const prevTween = cache.get(entity)?.tween;
    if ((currentTween && !prevTween) || (!currentTween && prevTween)) {
      return true;
    }
    if (!currentTween || !prevTween) return false;
    const currentBuff = new ReadWriteByteBuffer();
    Tween3.schema.serialize(currentTween, currentBuff);
    const compareResult = dataCompare(currentBuff.toBinary(), prevTween);
    return compareResult !== 0;
  }
  engine2.addSystem(() => {
    for (const [entity, tween] of engine2.getEntitiesWith(Tween3)) {
      if (tweenChanged(entity)) {
        const buffer2 = new ReadWriteByteBuffer();
        Tween3.schema.serialize(tween, buffer2);
        cache.set(entity, {
          tween: buffer2.toBinary(),
          completed: false,
          changed: true,
        });
        continue;
      }
      const tweenCache = cache.get(entity);
      if (tweenCache) {
        tweenCache.changed = false;
        if (isCompleted(entity)) {
          tweenCache.completed = true;
        }
      }
    }
  }, Number.NEGATIVE_INFINITY);
  function initializeTweenSequenceSystem() {
    const restartTweens = [];
    function backwardsTween(tween) {
      if (tween.mode?.$case === 'move' && tween.mode.move) {
        return {
          ...tween,
          mode: { ...tween.mode, move: { start: tween.mode.move.end, end: tween.mode.move.start } },
        };
      }
      if (tween.mode?.$case === 'rotate' && tween.mode.rotate) {
        return {
          ...tween,
          mode: {
            ...tween.mode,
            rotate: { start: tween.mode.rotate.end, end: tween.mode.rotate.start },
          },
        };
      }
      if (tween.mode?.$case === 'scale' && tween.mode.scale) {
        return {
          ...tween,
          mode: {
            ...tween.mode,
            scale: { start: tween.mode.scale.end, end: tween.mode.scale.start },
          },
        };
      }
      if (tween.mode?.$case === 'textureMove' && tween.mode.textureMove) {
        return {
          ...tween,
          mode: {
            ...tween.mode,
            textureMove: { start: tween.mode.textureMove.end, end: tween.mode.textureMove.start },
          },
        };
      }
      throw new Error('Invalid tween');
    }
    engine2.addSystem(() => {
      for (const restart of restartTweens) {
        restart();
      }
      restartTweens.length = 0;
      for (const [entity, tween] of engine2.getEntitiesWith(Tween3)) {
        const tweenCache = cache.get(entity);
        if (!tweenCache) continue;
        if (tweenCache.completed) {
          const tweenSequence = TweenSequence2.getOrNull(entity);
          if (!tweenSequence) continue;
          const { sequence } = tweenSequence;
          if (sequence && sequence.length) {
            const [nextTweenSequence, ...otherTweens] = sequence;
            Tween3.createOrReplace(entity, nextTweenSequence);
            const mutableTweenHelper = TweenSequence2.getMutable(entity);
            mutableTweenHelper.sequence = otherTweens;
            if (tweenSequence.loop === 0) {
              mutableTweenHelper.sequence.push(tween);
            }
            tweenCache.completed = false;
            tweenCache.changed = true;
          } else if (tweenSequence.loop === 1) {
            Tween3.createOrReplace(entity, backwardsTween(tween));
            tweenCache.completed = false;
            tweenCache.changed = true;
          } else if (tweenSequence.loop === 0) {
            Tween3.deleteFrom(entity);
            cache.delete(entity);
            restartTweens.push(() => {
              Tween3.createOrReplace(entity, tween);
            });
          }
        }
      }
    }, Number.NEGATIVE_INFINITY);
  }
  const enableTweenSequenceLogic = globalThis.ENABLE_SDK_TWEEN_SEQUENCE;
  if (enableTweenSequenceLogic !== false) initializeTweenSequenceSystem();
  const tweenSystem2 = {
    // This event is fired only once per tween
    tweenCompleted: isCompleted,
  };
  cacheTween.set(engine2._id, tweenSystem2);
  return tweenSystem2;
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/systems/pointer-event-collider-checker.js
function pointerEventColliderChecker(engine2) {
  const PointerEvents2 = PointerEvents(engine2);
  const MeshCollider3 = MeshCollider2(engine2);
  const GltfContainer2 = GltfContainer(engine2);
  const UiTransform2 = UiTransform(engine2);
  const alreadyShownlog = /* @__PURE__ */ new Set();
  let timer = 0;
  function systemChecker(dt) {
    timer += dt;
    if (timer <= 10) {
      return;
    }
    timer = 0;
    for (const [entity] of engine2.getEntitiesWith(PointerEvents2)) {
      if (alreadyShownlog.has(entity)) continue;
      if (GltfContainer2.has(entity)) continue;
      if (UiTransform2.has(entity)) continue;
      const mesh = MeshCollider3.getOrNull(entity);
      if (mesh) {
        if (mesh.collisionMask === void 0 || mesh.collisionMask & 1) {
          continue;
        }
      }
      alreadyShownlog.add(entity);
      console.log(`\u26A0\uFE0F Missing MeshCollider component on entity ${entity}. Add a MeshCollider to the entity so it can be clickeable by the player.
See https://docs.decentraland.org/creator/development-guide/sdk7/colliders/#pointer-blocking`);
    }
  }
  engine2.removeSystem(systemChecker);
  engine2.addSystem(systemChecker);
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/runtime/initialization/index.js
var engine = /* @__PURE__ */ Engine();
var inputSystem = /* @__PURE__ */ createInputSystem(engine);
var pointerEventsSystem = /* @__PURE__ */ createPointerEventsSystem(engine, inputSystem);
var tweenSystem = createTweenSystem(engine);
pointerEventColliderChecker(engine);

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/global.gen.js
var AvatarBase2 = /* @__PURE__ */ AvatarBase(engine);
var AvatarEmoteCommand2 = /* @__PURE__ */ AvatarEmoteCommand(engine);
var AvatarEquippedData2 = /* @__PURE__ */ AvatarEquippedData(engine);
var PlayerIdentityData2 = /* @__PURE__ */ PlayerIdentityData(engine);
var PointerEventsResult2 = /* @__PURE__ */ PointerEventsResult(engine);
var RealmInfo2 = /* @__PURE__ */ RealmInfo(engine);
var TextShape3 = /* @__PURE__ */ TextShape2(engine);

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/camera_type.gen.js
var CameraType;
(function (CameraType2) {
  CameraType2[(CameraType2['CT_FIRST_PERSON'] = 0)] = 'CT_FIRST_PERSON';
  CameraType2[(CameraType2['CT_THIRD_PERSON'] = 1)] = 'CT_THIRD_PERSON';
  CameraType2[(CameraType2['CT_CINEMATIC'] = 2)] = 'CT_CINEMATIC';
})(CameraType || (CameraType = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/input_action.gen.js
var InputAction;
(function (InputAction2) {
  InputAction2[(InputAction2['IA_POINTER'] = 0)] = 'IA_POINTER';
  InputAction2[(InputAction2['IA_PRIMARY'] = 1)] = 'IA_PRIMARY';
  InputAction2[(InputAction2['IA_SECONDARY'] = 2)] = 'IA_SECONDARY';
  InputAction2[(InputAction2['IA_ANY'] = 3)] = 'IA_ANY';
  InputAction2[(InputAction2['IA_FORWARD'] = 4)] = 'IA_FORWARD';
  InputAction2[(InputAction2['IA_BACKWARD'] = 5)] = 'IA_BACKWARD';
  InputAction2[(InputAction2['IA_RIGHT'] = 6)] = 'IA_RIGHT';
  InputAction2[(InputAction2['IA_LEFT'] = 7)] = 'IA_LEFT';
  InputAction2[(InputAction2['IA_JUMP'] = 8)] = 'IA_JUMP';
  InputAction2[(InputAction2['IA_WALK'] = 9)] = 'IA_WALK';
  InputAction2[(InputAction2['IA_ACTION_3'] = 10)] = 'IA_ACTION_3';
  InputAction2[(InputAction2['IA_ACTION_4'] = 11)] = 'IA_ACTION_4';
  InputAction2[(InputAction2['IA_ACTION_5'] = 12)] = 'IA_ACTION_5';
  InputAction2[(InputAction2['IA_ACTION_6'] = 13)] = 'IA_ACTION_6';
})(InputAction || (InputAction = {}));
var PointerEventType;
(function (PointerEventType2) {
  PointerEventType2[(PointerEventType2['PET_UP'] = 0)] = 'PET_UP';
  PointerEventType2[(PointerEventType2['PET_DOWN'] = 1)] = 'PET_DOWN';
  PointerEventType2[(PointerEventType2['PET_HOVER_ENTER'] = 2)] = 'PET_HOVER_ENTER';
  PointerEventType2[(PointerEventType2['PET_HOVER_LEAVE'] = 3)] = 'PET_HOVER_LEAVE';
})(PointerEventType || (PointerEventType = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/loading_state.gen.js
var LoadingState;
(function (LoadingState2) {
  LoadingState2[(LoadingState2['UNKNOWN'] = 0)] = 'UNKNOWN';
  LoadingState2[(LoadingState2['LOADING'] = 1)] = 'LOADING';
  LoadingState2[(LoadingState2['NOT_FOUND'] = 2)] = 'NOT_FOUND';
  LoadingState2[(LoadingState2['FINISHED_WITH_ERROR'] = 3)] = 'FINISHED_WITH_ERROR';
  LoadingState2[(LoadingState2['FINISHED'] = 4)] = 'FINISHED';
})(LoadingState || (LoadingState = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/texts.gen.js
var TextAlignMode;
(function (TextAlignMode2) {
  TextAlignMode2[(TextAlignMode2['TAM_TOP_LEFT'] = 0)] = 'TAM_TOP_LEFT';
  TextAlignMode2[(TextAlignMode2['TAM_TOP_CENTER'] = 1)] = 'TAM_TOP_CENTER';
  TextAlignMode2[(TextAlignMode2['TAM_TOP_RIGHT'] = 2)] = 'TAM_TOP_RIGHT';
  TextAlignMode2[(TextAlignMode2['TAM_MIDDLE_LEFT'] = 3)] = 'TAM_MIDDLE_LEFT';
  TextAlignMode2[(TextAlignMode2['TAM_MIDDLE_CENTER'] = 4)] = 'TAM_MIDDLE_CENTER';
  TextAlignMode2[(TextAlignMode2['TAM_MIDDLE_RIGHT'] = 5)] = 'TAM_MIDDLE_RIGHT';
  TextAlignMode2[(TextAlignMode2['TAM_BOTTOM_LEFT'] = 6)] = 'TAM_BOTTOM_LEFT';
  TextAlignMode2[(TextAlignMode2['TAM_BOTTOM_CENTER'] = 7)] = 'TAM_BOTTOM_CENTER';
  TextAlignMode2[(TextAlignMode2['TAM_BOTTOM_RIGHT'] = 8)] = 'TAM_BOTTOM_RIGHT';
})(TextAlignMode || (TextAlignMode = {}));
var Font;
(function (Font2) {
  Font2[(Font2['F_SANS_SERIF'] = 0)] = 'F_SANS_SERIF';
  Font2[(Font2['F_SERIF'] = 1)] = 'F_SERIF';
  Font2[(Font2['F_MONOSPACE'] = 2)] = 'F_MONOSPACE';
})(Font || (Font = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/composite/components.js
function getCompositeRootComponent(engine2) {
  const component = engine2.getComponentOrNull('composite::root');
  if (component) {
    return component;
  }
  return engine2.defineComponent('composite::root', {
    src: Schemas.String,
    entities: Schemas.Array(
      Schemas.Map({
        src: Schemas.Entity,
        dest: Schemas.Entity,
      })
    ),
  });
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/composite/path.js
var currentWorkingDir = '/';
function normalizeStringPosix(path, allowAboveRoot = false) {
  let res = '';
  let lastSegmentLength = 0;
  let lastSlash = -1;
  let dots = 0;
  let code;
  for (let i = 0; i <= path.length; ++i) {
    if (i < path.length) code = path.charCodeAt(i);
    else if (code === 47) break;
    else code = 47;
    if (code === 47) {
      if (lastSlash === i - 1 || dots === 1) {
      } else if (lastSlash !== i - 1 && dots === 2) {
        if (
          res.length < 2 ||
          lastSegmentLength !== 2 ||
          res.charCodeAt(res.length - 1) !== 46 ||
          res.charCodeAt(res.length - 2) !== 46
        ) {
          if (res.length > 2) {
            const lastSlashIndex = res.lastIndexOf('/');
            if (lastSlashIndex !== res.length - 1) {
              if (lastSlashIndex === -1) {
                res = '';
                lastSegmentLength = 0;
              } else {
                res = res.slice(0, lastSlashIndex);
                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');
              }
              lastSlash = i;
              dots = 0;
              continue;
            }
          } else if (res.length === 2 || res.length === 1) {
            res = '';
            lastSegmentLength = 0;
            lastSlash = i;
            dots = 0;
            continue;
          }
        }
        if (allowAboveRoot) {
          if (res.length > 0) res += '/..';
          else res = '..';
          lastSegmentLength = 2;
        }
      } else {
        if (res.length > 0) res += '/' + path.slice(lastSlash + 1, i);
        else res = path.slice(lastSlash + 1, i);
        lastSegmentLength = i - lastSlash - 1;
      }
      lastSlash = i;
      dots = 0;
    } else if (code === 46 && dots !== -1) {
      ++dots;
    } else {
      dots = -1;
    }
  }
  return res;
}
function resolve(...args) {
  let resolvedPath = '';
  let resolvedAbsolute = false;
  let cwd;
  for (let i = args.length - 1; i >= -1 && !resolvedAbsolute; i--) {
    let path;
    if (i >= 0) path = args[i];
    else {
      if (cwd === void 0) cwd = currentWorkingDir;
      path = cwd;
    }
    if (path.length === 0) {
      continue;
    }
    resolvedPath = path + '/' + resolvedPath;
    resolvedAbsolute = path.charCodeAt(0) === 47;
  }
  resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);
  if (resolvedAbsolute) {
    if (resolvedPath.length > 0) return '/' + resolvedPath;
    else return '/';
  } else if (resolvedPath.length > 0) {
    return resolvedPath;
  } else {
    return '.';
  }
}
function dirname(path) {
  if (path.length === 0) return '.';
  let code = path.charCodeAt(0);
  const hasRoot = code === 47;
  let end = -1;
  let matchedSlash = true;
  for (let i = path.length - 1; i >= 1; --i) {
    code = path.charCodeAt(i);
    if (code === 47) {
      if (!matchedSlash) {
        end = i;
        break;
      }
    } else {
      matchedSlash = false;
    }
  }
  if (end === -1) return hasRoot ? '/' : '.';
  if (hasRoot && end === 1) return '//';
  return path.slice(0, end);
}
function resolveComposite(path, cwd) {
  const absolutePath = path.startsWith('.') ? resolve(cwd, path) : resolve(path);
  return absolutePath.substring(1);
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/composite/instance.js
var EntityMappingMode;
(function (EntityMappingMode2) {
  EntityMappingMode2[(EntityMappingMode2['EMM_NONE'] = 0)] = 'EMM_NONE';
  EntityMappingMode2[(EntityMappingMode2['EMM_NEXT_AVAILABLE'] = 1)] = 'EMM_NEXT_AVAILABLE';
  EntityMappingMode2[(EntityMappingMode2['EMM_DIRECT_MAPPING'] = 2)] = 'EMM_DIRECT_MAPPING';
})(EntityMappingMode || (EntityMappingMode = {}));
function getComponentValue(componentDefinition, component) {
  if (component.data?.$case === 'json') {
    return component.data.json;
  } else {
    return componentDefinition.schema.deserialize(new ReadWriteByteBuffer(component.data?.binary));
  }
}
function getComponentDefinition(engine2, component) {
  const existingComponentDefinition = engine2.getComponentOrNull(component.name);
  if (!existingComponentDefinition) {
    if (component.name.startsWith('core::')) {
      if (component.name in componentDefinitionByName) {
        return componentDefinitionByName[component.name](engine2);
      } else {
        throw new Error(`The core component ${component.name} was not found.`);
      }
    } else if (component.jsonSchema) {
      return engine2.defineComponentFromSchema(
        component.name,
        Schemas.fromJson(component.jsonSchema)
      );
    } else {
      throw new Error(`${component.name} is not defined and there is no schema to define it.`);
    }
  } else {
    return existingComponentDefinition;
  }
}
function getEntityMapping(engine2, compositeEntity, mappedEntities, { entityMapping }) {
  const existingEntity = mappedEntities.get(compositeEntity);
  if (existingEntity) {
    return existingEntity;
  }
  if (entityMapping?.type === EntityMappingMode.EMM_DIRECT_MAPPING) {
    const entity = entityMapping.getCompositeEntity(compositeEntity);
    mappedEntities.set(compositeEntity, entity);
    return entity;
  }
  const newEntity =
    entityMapping?.type === EntityMappingMode.EMM_NEXT_AVAILABLE
      ? entityMapping.getNextAvailableEntity()
      : engine2.addEntity();
  if (newEntity === null) {
    throw new Error('There is no more entities to allocate');
  }
  mappedEntities.set(compositeEntity, newEntity);
  return newEntity;
}
function instanceComposite(engine2, compositeResource, compositeProvider2, options) {
  const { rootEntity, alreadyRequestedSrc: optionalAlreadyRequestedSrc, entityMapping } = options;
  const alreadyRequestedSrc = optionalAlreadyRequestedSrc || /* @__PURE__ */ new Set();
  const compositeDirectoryPath = dirname(resolve(compositeResource.src));
  const TransformComponentNumber = componentNumberFromName('core::Transform');
  const CompositeRootComponent = getCompositeRootComponent(engine2);
  const mappedEntities = /* @__PURE__ */ new Map();
  const getCompositeEntity = compositeEntity =>
    getEntityMapping(engine2, compositeEntity, mappedEntities, options);
  const compositeRootEntity = rootEntity ?? getCompositeEntity(0);
  if (rootEntity) {
    mappedEntities.set(0, rootEntity);
  }
  const childrenComposite = compositeResource.composite.components.find(
    item => item.name === CompositeRootComponent.componentName
  );
  if (childrenComposite) {
    for (const [childCompositeEntity, compositeRawData] of childrenComposite.data) {
      const childComposite = getComponentValue(CompositeRootComponent, compositeRawData);
      const childCompositePath = resolveComposite(childComposite.src, compositeDirectoryPath);
      const childCompositeResource = compositeProvider2.getCompositeOrNull(childCompositePath);
      const targetEntity = getCompositeEntity(childCompositeEntity);
      if (childCompositeResource) {
        if (
          alreadyRequestedSrc.has(childCompositeResource.src) ||
          childCompositeResource.src === compositeResource.src
        ) {
          throw new Error(
            `Composite ${compositeResource.src} has a recursive instanciation while try to instance ${childCompositeResource.src}. Previous instances: ${alreadyRequestedSrc.toString()}`
          );
        }
        instanceComposite(engine2, childCompositeResource, compositeProvider2, {
          rootEntity: targetEntity,
          alreadyRequestedSrc: new Set(alreadyRequestedSrc).add(childCompositeResource.src),
          entityMapping:
            entityMapping?.type === EntityMappingMode.EMM_NEXT_AVAILABLE ? entityMapping : void 0,
        });
      }
    }
  }
  for (const component of compositeResource.composite.components) {
    if (component.name === CompositeRootComponent.componentName) continue;
    const componentDefinition = getComponentDefinition(engine2, component);
    for (const [entity, compositeComponentValue] of component.data) {
      const componentValueDeserialized = getComponentValue(
        componentDefinition,
        compositeComponentValue
      );
      const targetEntity = getCompositeEntity(entity);
      const componentValue = componentDefinition.create(targetEntity, componentValueDeserialized);
      if (componentDefinition.componentId === TransformComponentNumber) {
        const transform = componentValue;
        if (transform.parent) {
          transform.parent = getCompositeEntity(transform.parent);
        } else {
          transform.parent = getCompositeEntity(0);
        }
      } else {
        Schemas.mutateNestedValues(
          componentDefinition.schema.jsonSchema,
          componentValue,
          (value, valueType) => {
            if (valueType.serializationType === 'entity') {
              return { changed: true, value: getCompositeEntity(value) };
            } else {
              return { changed: false };
            }
          }
        );
      }
    }
  }
  const composite =
    CompositeRootComponent.getMutableOrNull(compositeRootEntity) ||
    CompositeRootComponent.create(compositeRootEntity);
  for (const [entitySource, targetEntity] of mappedEntities) {
    composite.entities.push({
      src: entitySource,
      dest: targetEntity,
    });
  }
  composite.src = compositeResource.src;
  return compositeRootEntity;
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/composite/proto/gen/composite.gen.js
var import_minimal59 = __toESM(require_minimal2());

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/composite/proto/gen/google/protobuf/struct.gen.js
var import_minimal58 = __toESM(require_minimal2());
var NullValue;
(function (NullValue2) {
  NullValue2[(NullValue2['NULL_VALUE'] = 0)] = 'NULL_VALUE';
})(NullValue || (NullValue = {}));
function nullValueFromJSON(object) {
  switch (object) {
    case 0:
    case 'NULL_VALUE':
      return 0;
    default:
      throw new tsProtoGlobalThis2.Error(
        'Unrecognized enum value ' + object + ' for enum NullValue'
      );
  }
}
function nullValueToJSON(object) {
  switch (object) {
    case 0:
      return 'NULL_VALUE';
    default:
      throw new tsProtoGlobalThis2.Error(
        'Unrecognized enum value ' + object + ' for enum NullValue'
      );
  }
}
function createBaseStruct() {
  return { fields: /* @__PURE__ */ new Map() };
}
var Struct;
(function (Struct2) {
  function encode(message, writer = import_minimal58.default.Writer.create()) {
    message.fields.forEach((value, key) => {
      if (value !== void 0) {
        Struct_FieldsEntry.encode({ key, value }, writer.uint32(10).fork()).ldelim();
      }
    });
    return writer;
  }
  Struct2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal58.default.Reader
        ? input
        : import_minimal58.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseStruct();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          const entry1 = Struct_FieldsEntry.decode(reader, reader.uint32());
          if (entry1.value !== void 0) {
            message.fields.set(entry1.key, entry1.value);
          }
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Struct2.decode = decode;
  function fromJSON(object) {
    return {
      fields: isObject(object.fields)
        ? Object.entries(object.fields).reduce((acc, [key, value]) => {
            acc.set(key, value);
            return acc;
          }, /* @__PURE__ */ new Map())
        : /* @__PURE__ */ new Map(),
    };
  }
  Struct2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    obj.fields = {};
    if (message.fields) {
      message.fields.forEach((v, k) => {
        obj.fields[k] = v;
      });
    }
    return obj;
  }
  Struct2.toJSON = toJSON;
  function wrap(object) {
    const struct = createBaseStruct();
    if (object !== void 0) {
      Object.keys(object).forEach(key => {
        struct.fields.set(key, object[key]);
      });
    }
    return struct;
  }
  Struct2.wrap = wrap;
  function unwrap(message) {
    const object = {};
    [...message.fields.keys()].forEach(key => {
      object[key] = message.fields.get(key);
    });
    return object;
  }
  Struct2.unwrap = unwrap;
})(Struct || (Struct = {}));
function createBaseStruct_FieldsEntry() {
  return { key: '', value: void 0 };
}
var Struct_FieldsEntry;
(function (Struct_FieldsEntry2) {
  function encode(message, writer = import_minimal58.default.Writer.create()) {
    if (message.key !== '') {
      writer.uint32(10).string(message.key);
    }
    if (message.value !== void 0) {
      Value.encode(Value.wrap(message.value), writer.uint32(18).fork()).ldelim();
    }
    return writer;
  }
  Struct_FieldsEntry2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal58.default.Reader
        ? input
        : import_minimal58.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseStruct_FieldsEntry();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.key = reader.string();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.value = Value.unwrap(Value.decode(reader, reader.uint32()));
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Struct_FieldsEntry2.decode = decode;
  function fromJSON(object) {
    return {
      key: isSet(object.key) ? String(object.key) : '',
      value: isSet(object?.value) ? object.value : void 0,
    };
  }
  Struct_FieldsEntry2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.key !== void 0 && (obj.key = message.key);
    message.value !== void 0 && (obj.value = message.value);
    return obj;
  }
  Struct_FieldsEntry2.toJSON = toJSON;
})(Struct_FieldsEntry || (Struct_FieldsEntry = {}));
function createBaseValue() {
  return { kind: void 0 };
}
var Value;
(function (Value2) {
  function encode(message, writer = import_minimal58.default.Writer.create()) {
    switch (message.kind?.$case) {
      case 'nullValue':
        writer.uint32(8).int32(message.kind.nullValue);
        break;
      case 'numberValue':
        writer.uint32(17).double(message.kind.numberValue);
        break;
      case 'stringValue':
        writer.uint32(26).string(message.kind.stringValue);
        break;
      case 'boolValue':
        writer.uint32(32).bool(message.kind.boolValue);
        break;
      case 'structValue':
        Struct.encode(Struct.wrap(message.kind.structValue), writer.uint32(42).fork()).ldelim();
        break;
      case 'listValue':
        ListValue.encode(ListValue.wrap(message.kind.listValue), writer.uint32(50).fork()).ldelim();
        break;
    }
    return writer;
  }
  Value2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal58.default.Reader
        ? input
        : import_minimal58.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseValue();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.kind = { $case: 'nullValue', nullValue: reader.int32() };
          continue;
        case 2:
          if (tag !== 17) {
            break;
          }
          message.kind = { $case: 'numberValue', numberValue: reader.double() };
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.kind = { $case: 'stringValue', stringValue: reader.string() };
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.kind = { $case: 'boolValue', boolValue: reader.bool() };
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.kind = {
            $case: 'structValue',
            structValue: Struct.unwrap(Struct.decode(reader, reader.uint32())),
          };
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.kind = {
            $case: 'listValue',
            listValue: ListValue.unwrap(ListValue.decode(reader, reader.uint32())),
          };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Value2.decode = decode;
  function fromJSON(object) {
    return {
      kind: isSet(object.nullValue)
        ? { $case: 'nullValue', nullValue: nullValueFromJSON(object.nullValue) }
        : isSet(object.numberValue)
          ? { $case: 'numberValue', numberValue: Number(object.numberValue) }
          : isSet(object.stringValue)
            ? { $case: 'stringValue', stringValue: String(object.stringValue) }
            : isSet(object.boolValue)
              ? { $case: 'boolValue', boolValue: Boolean(object.boolValue) }
              : isSet(object.structValue)
                ? { $case: 'structValue', structValue: object.structValue }
                : isSet(object.listValue)
                  ? { $case: 'listValue', listValue: [...object.listValue] }
                  : void 0,
    };
  }
  Value2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.kind?.$case === 'nullValue' &&
      (obj.nullValue =
        message.kind?.nullValue !== void 0 ? nullValueToJSON(message.kind?.nullValue) : void 0);
    message.kind?.$case === 'numberValue' && (obj.numberValue = message.kind?.numberValue);
    message.kind?.$case === 'stringValue' && (obj.stringValue = message.kind?.stringValue);
    message.kind?.$case === 'boolValue' && (obj.boolValue = message.kind?.boolValue);
    message.kind?.$case === 'structValue' && (obj.structValue = message.kind?.structValue);
    message.kind?.$case === 'listValue' && (obj.listValue = message.kind?.listValue);
    return obj;
  }
  Value2.toJSON = toJSON;
  function wrap(value) {
    const result = createBaseValue();
    if (value === null) {
      result.kind = {
        $case: 'nullValue',
        nullValue: 0,
        /* NullValue.NULL_VALUE */
      };
    } else if (typeof value === 'boolean') {
      result.kind = { $case: 'boolValue', boolValue: value };
    } else if (typeof value === 'number') {
      result.kind = { $case: 'numberValue', numberValue: value };
    } else if (typeof value === 'string') {
      result.kind = { $case: 'stringValue', stringValue: value };
    } else if (Array.isArray(value)) {
      result.kind = { $case: 'listValue', listValue: value };
    } else if (typeof value === 'object') {
      result.kind = { $case: 'structValue', structValue: value };
    } else if (typeof value !== 'undefined') {
      throw new Error('Unsupported any value type: ' + typeof value);
    }
    return result;
  }
  Value2.wrap = wrap;
  function unwrap(message) {
    if (message.kind?.$case === 'nullValue') {
      return null;
    } else if (message.kind?.$case === 'numberValue') {
      return message.kind?.numberValue;
    } else if (message.kind?.$case === 'stringValue') {
      return message.kind?.stringValue;
    } else if (message.kind?.$case === 'boolValue') {
      return message.kind?.boolValue;
    } else if (message.kind?.$case === 'structValue') {
      return message.kind?.structValue;
    } else if (message.kind?.$case === 'listValue') {
      return message.kind?.listValue;
    } else {
      return void 0;
    }
  }
  Value2.unwrap = unwrap;
})(Value || (Value = {}));
function createBaseListValue() {
  return { values: [] };
}
var ListValue;
(function (ListValue2) {
  function encode(message, writer = import_minimal58.default.Writer.create()) {
    for (const v of message.values) {
      Value.encode(Value.wrap(v), writer.uint32(10).fork()).ldelim();
    }
    return writer;
  }
  ListValue2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal58.default.Reader
        ? input
        : import_minimal58.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseListValue();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.values.push(Value.unwrap(Value.decode(reader, reader.uint32())));
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  ListValue2.decode = decode;
  function fromJSON(object) {
    return { values: Array.isArray(object?.values) ? [...object.values] : [] };
  }
  ListValue2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    if (message.values) {
      obj.values = message.values.map(e => e);
    } else {
      obj.values = [];
    }
    return obj;
  }
  ListValue2.toJSON = toJSON;
  function wrap(array) {
    const result = createBaseListValue();
    result.values = array ?? [];
    return result;
  }
  ListValue2.wrap = wrap;
  function unwrap(message) {
    if (message?.hasOwnProperty('values') && Array.isArray(message.values)) {
      return message.values;
    } else {
      return message;
    }
  }
  ListValue2.unwrap = unwrap;
})(ListValue || (ListValue = {}));
var tsProtoGlobalThis2 = (() => {
  if (typeof globalThis !== 'undefined') {
    return globalThis;
  }
  if (typeof self !== 'undefined') {
    return self;
  }
  if (false) {
    return void 0;
  }
  if (typeof global !== 'undefined') {
    return global;
  }
  throw 'Unable to locate global object';
})();
function isObject(value) {
  return typeof value === 'object' && value !== null;
}
function isSet(value) {
  return value !== null && value !== void 0;
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/composite/proto/gen/composite.gen.js
function createBaseComponentData() {
  return { data: void 0 };
}
var ComponentData;
(function (ComponentData2) {
  function encode(message, writer = import_minimal59.default.Writer.create()) {
    switch (message.data?.$case) {
      case 'json':
        Value.encode(Value.wrap(message.data.json), writer.uint32(10).fork()).ldelim();
        break;
      case 'binary':
        writer.uint32(18).bytes(message.data.binary);
        break;
    }
    return writer;
  }
  ComponentData2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal59.default.Reader
        ? input
        : import_minimal59.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseComponentData();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.data = {
            $case: 'json',
            json: Value.unwrap(Value.decode(reader, reader.uint32())),
          };
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.data = { $case: 'binary', binary: reader.bytes() };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  ComponentData2.decode = decode;
  function fromJSON(object) {
    return {
      data: isSet2(object.json)
        ? { $case: 'json', json: object.json }
        : isSet2(object.binary)
          ? { $case: 'binary', binary: bytesFromBase64(object.binary) }
          : void 0,
    };
  }
  ComponentData2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.data?.$case === 'json' && (obj.json = message.data?.json);
    message.data?.$case === 'binary' &&
      (obj.binary =
        message.data?.binary !== void 0 ? base64FromBytes(message.data?.binary) : void 0);
    return obj;
  }
  ComponentData2.toJSON = toJSON;
})(ComponentData || (ComponentData = {}));
function createBaseCompositeComponent() {
  return { name: '', jsonSchema: void 0, data: /* @__PURE__ */ new Map() };
}
var CompositeComponent;
(function (CompositeComponent2) {
  function encode(message, writer = import_minimal59.default.Writer.create()) {
    if (message.name !== '') {
      writer.uint32(10).string(message.name);
    }
    if (message.jsonSchema !== void 0) {
      Value.encode(Value.wrap(message.jsonSchema), writer.uint32(18).fork()).ldelim();
    }
    message.data.forEach((value, key) => {
      CompositeComponent_DataEntry.encode({ key, value }, writer.uint32(26).fork()).ldelim();
    });
    return writer;
  }
  CompositeComponent2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal59.default.Reader
        ? input
        : import_minimal59.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseCompositeComponent();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.name = reader.string();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.jsonSchema = Value.unwrap(Value.decode(reader, reader.uint32()));
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          const entry3 = CompositeComponent_DataEntry.decode(reader, reader.uint32());
          if (entry3.value !== void 0) {
            message.data.set(entry3.key, entry3.value);
          }
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  CompositeComponent2.decode = decode;
  function fromJSON(object) {
    return {
      name: isSet2(object.name) ? String(object.name) : '',
      jsonSchema: isSet2(object?.jsonSchema) ? object.jsonSchema : void 0,
      data: isObject2(object.data)
        ? Object.entries(object.data).reduce((acc, [key, value]) => {
            acc.set(Number(key), ComponentData.fromJSON(value));
            return acc;
          }, /* @__PURE__ */ new Map())
        : /* @__PURE__ */ new Map(),
    };
  }
  CompositeComponent2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.name !== void 0 && (obj.name = message.name);
    message.jsonSchema !== void 0 && (obj.jsonSchema = message.jsonSchema);
    obj.data = {};
    if (message.data) {
      message.data.forEach((v, k) => {
        obj.data[k] = ComponentData.toJSON(v);
      });
    }
    return obj;
  }
  CompositeComponent2.toJSON = toJSON;
})(CompositeComponent || (CompositeComponent = {}));
function createBaseCompositeComponent_DataEntry() {
  return { key: 0, value: void 0 };
}
var CompositeComponent_DataEntry;
(function (CompositeComponent_DataEntry2) {
  function encode(message, writer = import_minimal59.default.Writer.create()) {
    if (message.key !== 0) {
      writer.uint32(8).int32(message.key);
    }
    if (message.value !== void 0) {
      ComponentData.encode(message.value, writer.uint32(18).fork()).ldelim();
    }
    return writer;
  }
  CompositeComponent_DataEntry2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal59.default.Reader
        ? input
        : import_minimal59.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseCompositeComponent_DataEntry();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.key = reader.int32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.value = ComponentData.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  CompositeComponent_DataEntry2.decode = decode;
  function fromJSON(object) {
    return {
      key: isSet2(object.key) ? Number(object.key) : 0,
      value: isSet2(object.value) ? ComponentData.fromJSON(object.value) : void 0,
    };
  }
  CompositeComponent_DataEntry2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.key !== void 0 && (obj.key = Math.round(message.key));
    message.value !== void 0 &&
      (obj.value = message.value ? ComponentData.toJSON(message.value) : void 0);
    return obj;
  }
  CompositeComponent_DataEntry2.toJSON = toJSON;
})(CompositeComponent_DataEntry || (CompositeComponent_DataEntry = {}));
function createBaseCompositeDefinition() {
  return { version: 0, components: [] };
}
var CompositeDefinition;
(function (CompositeDefinition2) {
  function encode(message, writer = import_minimal59.default.Writer.create()) {
    if (message.version !== 0) {
      writer.uint32(8).int32(message.version);
    }
    for (const v of message.components) {
      CompositeComponent.encode(v, writer.uint32(18).fork()).ldelim();
    }
    return writer;
  }
  CompositeDefinition2.encode = encode;
  function decode(input, length2) {
    const reader =
      input instanceof import_minimal59.default.Reader
        ? input
        : import_minimal59.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseCompositeDefinition();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.version = reader.int32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.components.push(CompositeComponent.decode(reader, reader.uint32()));
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  CompositeDefinition2.decode = decode;
  function fromJSON(object) {
    return {
      version: isSet2(object.version) ? Number(object.version) : 0,
      components: Array.isArray(object?.components)
        ? object.components.map(e => CompositeComponent.fromJSON(e))
        : [],
    };
  }
  CompositeDefinition2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.version !== void 0 && (obj.version = Math.round(message.version));
    if (message.components) {
      obj.components = message.components.map(e => (e ? CompositeComponent.toJSON(e) : void 0));
    } else {
      obj.components = [];
    }
    return obj;
  }
  CompositeDefinition2.toJSON = toJSON;
})(CompositeDefinition || (CompositeDefinition = {}));
var tsProtoGlobalThis3 = (() => {
  if (typeof globalThis !== 'undefined') {
    return globalThis;
  }
  if (typeof self !== 'undefined') {
    return self;
  }
  if (false) {
    return void 0;
  }
  if (typeof global !== 'undefined') {
    return global;
  }
  throw 'Unable to locate global object';
})();
function bytesFromBase64(b64) {
  if (tsProtoGlobalThis3.Buffer) {
    return Uint8Array.from(tsProtoGlobalThis3.Buffer.from(b64, 'base64'));
  } else {
    const bin = tsProtoGlobalThis3.atob(b64);
    const arr = new Uint8Array(bin.length);
    for (let i = 0; i < bin.length; ++i) {
      arr[i] = bin.charCodeAt(i);
    }
    return arr;
  }
}
function base64FromBytes(arr) {
  if (tsProtoGlobalThis3.Buffer) {
    return tsProtoGlobalThis3.Buffer.from(arr).toString('base64');
  } else {
    const bin = [];
    arr.forEach(byte => {
      bin.push(String.fromCharCode(byte));
    });
    return tsProtoGlobalThis3.btoa(bin.join(''));
  }
}
function isObject2(value) {
  return typeof value === 'object' && value !== null;
}
function isSet2(value) {
  return value !== null && value !== void 0;
}

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/composite/index.js
var Composite;
(function (Composite2) {
  function fromJson(object) {
    return CompositeDefinition.fromJSON(object);
  }
  Composite2.fromJson = fromJson;
  function fromBinary(buffer2) {
    return CompositeDefinition.decode(buffer2);
  }
  Composite2.fromBinary = fromBinary;
  function toJson(composite) {
    return CompositeDefinition.toJSON(composite);
  }
  Composite2.toJson = toJson;
  function toBinary(composite) {
    return CompositeDefinition.encode(composite).finish();
  }
  Composite2.toBinary = toBinary;
  function instance(engine2, compositeData, compositeProvider2, options = {}) {
    instanceComposite(engine2, compositeData, compositeProvider2, options);
  }
  Composite2.instance = instance;
  function resolveAndNormalizePath(src, cwd = '/') {
    return resolveComposite(src, cwd);
  }
  Composite2.resolveAndNormalizePath = resolveAndNormalizePath;
})(Composite || (Composite = {}));

// ../../node_modules/.pnpm/@dcl+ecs@7.17.0/node_modules/@dcl/ecs/dist/index.js
var Transform2 = /* @__PURE__ */ Transform(engine);
var AudioSource3 = /* @__PURE__ */ AudioSource2(engine);
var Material3 = /* @__PURE__ */ Material2(engine);
var MeshRenderer3 = /* @__PURE__ */ MeshRenderer2(engine);
var Name2 = Name(engine);
var Tags2 = Tags(engine);

// ../../node_modules/.pnpm/@dcl+ecs-math@2.1.0/node_modules/@dcl/ecs-math/dist/types.js
var ToGammaSpace = 1 / 2.2;
var ToLinearSpace = 2.2;
var Epsilon = 1e-6;
var DEG2RAD = Math.PI / 180;
var RAD2DEG = 360 / (Math.PI * 2);

// ../../node_modules/.pnpm/@dcl+ecs-math@2.1.0/node_modules/@dcl/ecs-math/dist/Scalar.js
var Scalar;
(function (Scalar2) {
  Scalar2.TwoPi = Math.PI * 2;
  function withinEpsilon(a, b, epsilon = 1401298e-51) {
    const num = a - b;
    return -epsilon <= num && num <= epsilon;
  }
  Scalar2.withinEpsilon = withinEpsilon;
  function toHex(i) {
    const str = i.toString(16);
    if (i <= 15) {
      return ('0' + str).toUpperCase();
    }
    return str.toUpperCase();
  }
  Scalar2.toHex = toHex;
  function sign(value) {
    const _value = +value;
    if (_value === 0 || isNaN(_value)) {
      return _value;
    }
    return _value > 0 ? 1 : -1;
  }
  Scalar2.sign = sign;
  function clamp(value, min = 0, max = 1) {
    return Math.min(max, Math.max(min, value));
  }
  Scalar2.clamp = clamp;
  function log2(value) {
    return Math.log(value) * Math.LOG2E;
  }
  Scalar2.log2 = log2;
  function repeat(value, length2) {
    return value - Math.floor(value / length2) * length2;
  }
  Scalar2.repeat = repeat;
  function normalize(value, min, max) {
    return (value - min) / (max - min);
  }
  Scalar2.normalize = normalize;
  function denormalize(normalized, min, max) {
    return normalized * (max - min) + min;
  }
  Scalar2.denormalize = denormalize;
  function deltaAngle(current, target) {
    let num = repeat(target - current, 360);
    if (num > 180) {
      num -= 360;
    }
    return num;
  }
  Scalar2.deltaAngle = deltaAngle;
  function pingPong(tx, length2) {
    const t = repeat(tx, length2 * 2);
    return length2 - Math.abs(t - length2);
  }
  Scalar2.pingPong = pingPong;
  function smoothStep(from, to, tx) {
    let t = clamp(tx);
    t = -2 * t * t * t + 3 * t * t;
    return to * t + from * (1 - t);
  }
  Scalar2.smoothStep = smoothStep;
  function moveTowards(current, target, maxDelta) {
    let result = 0;
    if (Math.abs(target - current) <= maxDelta) {
      result = target;
    } else {
      result = current + sign(target - current) * maxDelta;
    }
    return result;
  }
  Scalar2.moveTowards = moveTowards;
  function moveTowardsAngle(current, target, maxDelta) {
    const num = deltaAngle(current, target);
    let result = 0;
    if (-maxDelta < num && num < maxDelta) {
      result = target;
    } else {
      result = moveTowards(current, current + num, maxDelta);
    }
    return result;
  }
  Scalar2.moveTowardsAngle = moveTowardsAngle;
  function lerp(start, end, amount) {
    return start + (end - start) * amount;
  }
  Scalar2.lerp = lerp;
  function lerpAngle(start, end, amount) {
    let num = repeat(end - start, 360);
    if (num > 180) {
      num -= 360;
    }
    return start + num * clamp(amount);
  }
  Scalar2.lerpAngle = lerpAngle;
  function inverseLerp(a, b, value) {
    let result = 0;
    if (a !== b) {
      result = clamp((value - a) / (b - a));
    } else {
      result = 0;
    }
    return result;
  }
  Scalar2.inverseLerp = inverseLerp;
  function hermite(value1, tangent1, value2, tangent2, amount) {
    const squared = amount * amount;
    const cubed = amount * squared;
    const part1 = 2 * cubed - 3 * squared + 1;
    const part2 = -2 * cubed + 3 * squared;
    const part3 = cubed - 2 * squared + amount;
    const part4 = cubed - squared;
    return value1 * part1 + value2 * part2 + tangent1 * part3 + tangent2 * part4;
  }
  Scalar2.hermite = hermite;
  function randomRange(min, max) {
    if (min === max) {
      return min;
    }
    return Math.random() * (max - min) + min;
  }
  Scalar2.randomRange = randomRange;
  function rangeToPercent(num, min, max) {
    return (num - min) / (max - min);
  }
  Scalar2.rangeToPercent = rangeToPercent;
  function percentToRange(percent, min, max) {
    return (max - min) * percent + min;
  }
  Scalar2.percentToRange = percentToRange;
  function normalizeRadians(angle) {
    return angle - Scalar2.TwoPi * Math.floor((angle + Math.PI) / Scalar2.TwoPi);
  }
  Scalar2.normalizeRadians = normalizeRadians;
})(Scalar || (Scalar = {}));

// ../../node_modules/.pnpm/@dcl+ecs-math@2.1.0/node_modules/@dcl/ecs-math/dist/Vector3.js
var Vector32;
(function (Vector33) {
  function isNonUniform(vector) {
    const absX = Math.abs(vector.x);
    const absY = Math.abs(vector.y);
    if (absX !== absY) {
      return true;
    }
    const absZ = Math.abs(vector.z);
    if (absX !== absZ) {
      return true;
    }
    return false;
  }
  Vector33.isNonUniform = isNonUniform;
  function create(x = 0, y = 0, z = 0) {
    return { x, y, z };
  }
  Vector33.create = create;
  function add2(vector1, vector2) {
    return {
      x: vector1.x + vector2.x,
      y: vector1.y + vector2.y,
      z: vector1.z + vector2.z,
    };
  }
  Vector33.add = add2;
  function addToRef(vectorA, vectorB, result) {
    result.x = vectorA.x + vectorB.x;
    result.y = vectorA.y + vectorB.y;
    result.z = vectorA.z + vectorB.z;
  }
  Vector33.addToRef = addToRef;
  function subtract2(vector1, vector2) {
    return {
      x: vector1.x - vector2.x,
      y: vector1.y - vector2.y,
      z: vector1.z - vector2.z,
    };
  }
  Vector33.subtract = subtract2;
  function subtractToRef(vectorA, vectorB, result) {
    result.x = vectorA.x - vectorB.x;
    result.y = vectorA.y - vectorB.y;
    result.z = vectorA.z - vectorB.z;
  }
  Vector33.subtractToRef = subtractToRef;
  function subtractFromFloatsToRef(vector1, x, y, z, result) {
    result.x = vector1.x - x;
    result.y = vector1.y - y;
    result.z = vector1.z - z;
  }
  Vector33.subtractFromFloatsToRef = subtractFromFloatsToRef;
  function negate2(value) {
    return { x: -value.x, y: -value.y, z: -value.z };
  }
  Vector33.negate = negate2;
  function copyFrom(source, dest) {
    dest.x = source.x;
    dest.y = source.y;
    dest.z = source.z;
  }
  Vector33.copyFrom = copyFrom;
  function copyFromFloats(x, y, z, dest) {
    dest.x = x;
    dest.y = y;
    dest.z = z;
  }
  Vector33.copyFromFloats = copyFromFloats;
  function clone(source) {
    return create(source.x, source.y, source.z);
  }
  Vector33.clone = clone;
  function getClipFactor(vector0, vector1, axis, size) {
    const d0 = dot(vector0, axis) - size;
    const d1 = dot(vector1, axis) - size;
    const s = d0 / (d0 - d1);
    return s;
  }
  Vector33.getClipFactor = getClipFactor;
  function getAngleBetweenVectors(vector0, vector1, normal) {
    const v0 = normalize(vector0);
    const v1 = normalize(vector1);
    const v0v1dot = dot(v0, v1);
    const n = create();
    crossToRef(v0, v1, n);
    if (dot(n, normal) > 0) {
      return Math.acos(v0v1dot);
    }
    return -Math.acos(v0v1dot);
  }
  Vector33.getAngleBetweenVectors = getAngleBetweenVectors;
  function fromArray(array, offset = 0) {
    return create(array[offset], array[offset + 1], array[offset + 2]);
  }
  Vector33.fromArray = fromArray;
  function fromFloatArray(array, offset) {
    return fromArray(array, offset);
  }
  Vector33.fromFloatArray = fromFloatArray;
  function fromArrayToRef(array, offset, result) {
    result.x = array[offset];
    result.y = array[offset + 1];
    result.z = array[offset + 2];
  }
  Vector33.fromArrayToRef = fromArrayToRef;
  function fromFloatArrayToRef(array, offset, result) {
    return fromArrayToRef(array, offset, result);
  }
  Vector33.fromFloatArrayToRef = fromFloatArrayToRef;
  function length2(vector) {
    return Math.sqrt(vector.x * vector.x + vector.y * vector.y + vector.z * vector.z);
  }
  Vector33.length = length2;
  function lengthSquared(vector) {
    return vector.x * vector.x + vector.y * vector.y + vector.z * vector.z;
  }
  Vector33.lengthSquared = lengthSquared;
  function scaleToRef(vector, scale2, result) {
    result.x = vector.x * scale2;
    result.y = vector.y * scale2;
    result.z = vector.z * scale2;
  }
  Vector33.scaleToRef = scaleToRef;
  function scale(vector, scale2) {
    return create(vector.x * scale2, vector.y * scale2, vector.z * scale2);
  }
  Vector33.scale = scale;
  function normalizeFromLength(vector, len) {
    const result = create(0, 0, 0);
    normalizeFromLengthToRef(vector, len, result);
    return result;
  }
  Vector33.normalizeFromLength = normalizeFromLength;
  function normalizeFromLengthToRef(vector, len, result) {
    if (len === 0 || len === 1) {
      copyFrom(vector, result);
      return;
    }
    scaleToRef(vector, 1 / len, result);
  }
  Vector33.normalizeFromLengthToRef = normalizeFromLengthToRef;
  function normalize(vector) {
    return normalizeFromLength(vector, length2(vector));
  }
  Vector33.normalize = normalize;
  function normalizeToRef(vector, result) {
    normalizeFromLengthToRef(vector, length2(vector), result);
  }
  Vector33.normalizeToRef = normalizeToRef;
  function dot(left, right) {
    return left.x * right.x + left.y * right.y + left.z * right.z;
  }
  Vector33.dot = dot;
  function applyMatrix4(vector, matrix) {
    const result = clone(vector);
    applyMatrix4ToRef(vector, matrix, result);
    return result;
  }
  Vector33.applyMatrix4 = applyMatrix4;
  function applyMatrix4ToRef(vector, matrix, result) {
    const { x, y, z } = vector;
    const m = matrix._m;
    const w = 1 / (m[3] * x + m[7] * y + m[11] * z + m[15]);
    result.x = (m[0] * x + m[4] * y + m[8] * z + m[12]) * w;
    result.y = (m[1] * x + m[5] * y + m[9] * z + m[13]) * w;
    result.z = (m[2] * x + m[6] * y + m[10] * z + m[14]) * w;
  }
  Vector33.applyMatrix4ToRef = applyMatrix4ToRef;
  function rotate(vector, q) {
    const result = create();
    rotateToRef(vector, q, result);
    return result;
  }
  Vector33.rotate = rotate;
  function rotateToRef(vector, q, result) {
    const { x, y, z } = vector;
    const { x: qx, y: qy, z: qz, w: qw } = q;
    const ix = qw * x + qy * z - qz * y;
    const iy = qw * y + qz * x - qx * z;
    const iz = qw * z + qx * y - qy * x;
    const iw = -qx * x - qy * y - qz * z;
    result.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;
    result.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;
    result.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;
  }
  Vector33.rotateToRef = rotateToRef;
  function lerp(start, end, amount) {
    const result = create(0, 0, 0);
    lerpToRef(start, end, amount, result);
    return result;
  }
  Vector33.lerp = lerp;
  function lerpToRef(start, end, amount, result) {
    result.x = start.x + (end.x - start.x) * amount;
    result.y = start.y + (end.y - start.y) * amount;
    result.z = start.z + (end.z - start.z) * amount;
  }
  Vector33.lerpToRef = lerpToRef;
  function cross(left, right) {
    const result = Zero();
    crossToRef(left, right, result);
    return result;
  }
  Vector33.cross = cross;
  function crossToRef(left, right, result) {
    result.x = left.y * right.z - left.z * right.y;
    result.y = left.z * right.x - left.x * right.z;
    result.z = left.x * right.y - left.y * right.x;
  }
  Vector33.crossToRef = crossToRef;
  function transformCoordinates(vector, transformation) {
    const result = Zero();
    transformCoordinatesToRef(vector, transformation, result);
    return result;
  }
  Vector33.transformCoordinates = transformCoordinates;
  function transformCoordinatesToRef(vector, transformation, result) {
    return transformCoordinatesFromFloatsToRef(
      vector.x,
      vector.y,
      vector.z,
      transformation,
      result
    );
  }
  Vector33.transformCoordinatesToRef = transformCoordinatesToRef;
  function transformCoordinatesFromFloatsToRef(x, y, z, transformation, result) {
    const m = transformation._m;
    const rx = x * m[0] + y * m[4] + z * m[8] + m[12];
    const ry = x * m[1] + y * m[5] + z * m[9] + m[13];
    const rz = x * m[2] + y * m[6] + z * m[10] + m[14];
    const rw = 1 / (x * m[3] + y * m[7] + z * m[11] + m[15]);
    result.x = rx * rw;
    result.y = ry * rw;
    result.z = rz * rw;
  }
  Vector33.transformCoordinatesFromFloatsToRef = transformCoordinatesFromFloatsToRef;
  function transformNormal(vector, transformation) {
    const result = Zero();
    transformNormalToRef(vector, transformation, result);
    return result;
  }
  Vector33.transformNormal = transformNormal;
  function transformNormalToRef(vector, transformation, result) {
    transformNormalFromFloatsToRef(vector.x, vector.y, vector.z, transformation, result);
  }
  Vector33.transformNormalToRef = transformNormalToRef;
  function transformNormalFromFloatsToRef(x, y, z, transformation, result) {
    const m = transformation._m;
    result.x = x * m[0] + y * m[4] + z * m[8];
    result.y = x * m[1] + y * m[5] + z * m[9];
    result.z = x * m[2] + y * m[6] + z * m[10];
  }
  Vector33.transformNormalFromFloatsToRef = transformNormalFromFloatsToRef;
  function catmullRom(value1, value2, value3, value4, amount) {
    const squared = amount * amount;
    const cubed = amount * squared;
    const x =
      0.5 *
      (2 * value2.x +
        (-value1.x + value3.x) * amount +
        (2 * value1.x - 5 * value2.x + 4 * value3.x - value4.x) * squared +
        (-value1.x + 3 * value2.x - 3 * value3.x + value4.x) * cubed);
    const y =
      0.5 *
      (2 * value2.y +
        (-value1.y + value3.y) * amount +
        (2 * value1.y - 5 * value2.y + 4 * value3.y - value4.y) * squared +
        (-value1.y + 3 * value2.y - 3 * value3.y + value4.y) * cubed);
    const z =
      0.5 *
      (2 * value2.z +
        (-value1.z + value3.z) * amount +
        (2 * value1.z - 5 * value2.z + 4 * value3.z - value4.z) * squared +
        (-value1.z + 3 * value2.z - 3 * value3.z + value4.z) * cubed);
    return create(x, y, z);
  }
  Vector33.catmullRom = catmullRom;
  function clamp(value, min, max) {
    const v = create();
    clampToRef(value, min, max, v);
    return v;
  }
  Vector33.clamp = clamp;
  function clampToRef(value, min, max, result) {
    let x = value.x;
    x = x > max.x ? max.x : x;
    x = x < min.x ? min.x : x;
    let y = value.y;
    y = y > max.y ? max.y : y;
    y = y < min.y ? min.y : y;
    let z = value.z;
    z = z > max.z ? max.z : z;
    z = z < min.z ? min.z : z;
    copyFromFloats(x, y, z, result);
  }
  Vector33.clampToRef = clampToRef;
  function hermite(value1, tangent1, value2, tangent2, amount) {
    const squared = amount * amount;
    const cubed = amount * squared;
    const part1 = 2 * cubed - 3 * squared + 1;
    const part2 = -2 * cubed + 3 * squared;
    const part3 = cubed - 2 * squared + amount;
    const part4 = cubed - squared;
    const x = value1.x * part1 + value2.x * part2 + tangent1.x * part3 + tangent2.x * part4;
    const y = value1.y * part1 + value2.y * part2 + tangent1.y * part3 + tangent2.y * part4;
    const z = value1.z * part1 + value2.z * part2 + tangent1.z * part3 + tangent2.z * part4;
    return create(x, y, z);
  }
  Vector33.hermite = hermite;
  function minimize(left, right) {
    const min = create();
    minimizeInPlaceFromFloatsToRef(right, left.x, left.y, left.z, min);
    return min;
  }
  Vector33.minimize = minimize;
  function maximize(left, right) {
    const max = create();
    maximizeInPlaceFromFloatsToRef(left, right.x, right.y, right.z, max);
    return max;
  }
  Vector33.maximize = maximize;
  function distance(value1, value2) {
    return Math.sqrt(distanceSquared(value1, value2));
  }
  Vector33.distance = distance;
  function distanceSquared(value1, value2) {
    const x = value1.x - value2.x;
    const y = value1.y - value2.y;
    const z = value1.z - value2.z;
    return x * x + y * y + z * z;
  }
  Vector33.distanceSquared = distanceSquared;
  function center(value1, value2) {
    const center2 = add2(value1, value2);
    scaleToRef(center2, 0.5, center2);
    return center2;
  }
  Vector33.center = center;
  function rotationFromAxis(axis1, axis2, axis3) {
    const rotation = Zero();
    rotationFromAxisToRef(axis1, axis2, axis3, rotation);
    return rotation;
  }
  Vector33.rotationFromAxis = rotationFromAxis;
  function rotationFromAxisToRef(axis1, axis2, axis3, result) {
    const quat = Quaternion2.create();
    Quaternion2.fromAxisToRotationQuaternionToRef(axis1, axis2, axis3, quat);
    copyFrom(Quaternion2.toEulerAngles(quat), result);
  }
  Vector33.rotationFromAxisToRef = rotationFromAxisToRef;
  function toString2(vector) {
    return `(${vector.x}, ${vector.y}, ${vector.z})`;
  }
  Vector33.toString = toString2;
  function getHashCode(vector) {
    let hash = vector.x || 0;
    hash = (hash * 397) ^ (vector.y || 0);
    hash = (hash * 397) ^ (vector.z || 0);
    return hash;
  }
  Vector33.getHashCode = getHashCode;
  function equals2(vector1, vector2) {
    return vector1.x === vector2.x && vector1.y === vector2.y && vector1.z === vector2.z;
  }
  Vector33.equals = equals2;
  function equalsWithEpsilon(vector1, vector2, epsilon = Epsilon) {
    return (
      Scalar.withinEpsilon(vector1.x, vector2.x, epsilon) &&
      Scalar.withinEpsilon(vector1.y, vector2.y, epsilon) &&
      Scalar.withinEpsilon(vector1.z, vector2.z, epsilon)
    );
  }
  Vector33.equalsWithEpsilon = equalsWithEpsilon;
  function equalsToFloats(vector, x, y, z) {
    return vector.x === x && vector.y === y && vector.z === z;
  }
  Vector33.equalsToFloats = equalsToFloats;
  function multiply2(vector1, vector2) {
    const result = create();
    multiplyToRef(vector1, vector2, result);
    return result;
  }
  Vector33.multiply = multiply2;
  function multiplyToRef(vector1, vector2, result) {
    result.x = vector1.x * vector2.x;
    result.y = vector1.y * vector2.y;
    result.z = vector1.z * vector2.z;
  }
  Vector33.multiplyToRef = multiplyToRef;
  function multiplyByFloatsToRef(vector1, x, y, z, result) {
    result.x = vector1.x * x;
    result.y = vector1.y * y;
    result.z = vector1.z * z;
  }
  Vector33.multiplyByFloatsToRef = multiplyByFloatsToRef;
  function multiplyByFloats(vector1, x, y, z) {
    const result = create();
    multiplyByFloatsToRef(vector1, x, y, z, result);
    return result;
  }
  Vector33.multiplyByFloats = multiplyByFloats;
  function divide2(vector1, vector2) {
    return {
      x: vector1.x / vector2.x,
      y: vector1.y / vector2.y,
      z: vector1.z / vector2.z,
    };
  }
  Vector33.divide = divide2;
  function divideToRef(vector1, vector2, result) {
    result.x = vector1.x / vector2.x;
    result.y = vector1.y / vector2.y;
    result.z = vector1.z / vector2.z;
  }
  Vector33.divideToRef = divideToRef;
  function maximizeInPlaceFromFloatsToRef(vector1, x, y, z, result) {
    if (x > vector1.x) {
      result.x = x;
    } else {
      result.x = vector1.x;
    }
    if (y > vector1.y) {
      result.y = y;
    } else {
      result.y = vector1.y;
    }
    if (z > vector1.z) {
      result.z = z;
    } else {
      result.z = vector1.z;
    }
  }
  Vector33.maximizeInPlaceFromFloatsToRef = maximizeInPlaceFromFloatsToRef;
  function minimizeInPlaceFromFloatsToRef(vector1, x, y, z, result) {
    if (x < vector1.x) {
      result.x = x;
    } else {
      result.x = vector1.x;
    }
    if (y < vector1.y) {
      result.y = y;
    } else {
      result.y = vector1.y;
    }
    if (z < vector1.z) {
      result.z = z;
    } else {
      result.z = vector1.z;
    }
  }
  Vector33.minimizeInPlaceFromFloatsToRef = minimizeInPlaceFromFloatsToRef;
  function floor(vector1) {
    return create(Math.floor(vector1.x), Math.floor(vector1.y), Math.floor(vector1.z));
  }
  Vector33.floor = floor;
  function fract(vector1) {
    return create(
      vector1.x - Math.floor(vector1.x),
      vector1.y - Math.floor(vector1.y),
      vector1.z - Math.floor(vector1.z)
    );
  }
  Vector33.fract = fract;
  function Zero() {
    return create(0, 0, 0);
  }
  Vector33.Zero = Zero;
  function One() {
    return create(1, 1, 1);
  }
  Vector33.One = One;
  function Up() {
    return create(0, 1, 0);
  }
  Vector33.Up = Up;
  function Down() {
    return create(0, -1, 0);
  }
  Vector33.Down = Down;
  function Forward() {
    return create(0, 0, 1);
  }
  Vector33.Forward = Forward;
  function Backward() {
    return create(0, 0, -1);
  }
  Vector33.Backward = Backward;
  function Right() {
    return create(1, 0, 0);
  }
  Vector33.Right = Right;
  function Left() {
    return create(-1, 0, 0);
  }
  Vector33.Left = Left;
  function Random() {
    return create(Math.random(), Math.random(), Math.random());
  }
  Vector33.Random = Random;
})(Vector32 || (Vector32 = {}));

// ../../node_modules/.pnpm/@dcl+ecs-math@2.1.0/node_modules/@dcl/ecs-math/dist/Plane.js
var Plane;
(function (Plane2) {
  function create(a, b, c, d) {
    return {
      normal: Vector32.create(a, b, c),
      d,
    };
  }
  Plane2.create = create;
  function fromArray(array) {
    return create(array[0], array[1], array[2], array[3]);
  }
  Plane2.fromArray = fromArray;
  function fromPoints(_point1, _point2, _point3) {
    const result = create(0, 0, 0, 0);
    return result;
  }
  Plane2.fromPoints = fromPoints;
  function romPositionAndNormal(origin, normal) {
    const result = create(0, 0, 0, 0);
    result.normal = Vector32.normalize(normal);
    result.d = -(normal.x * origin.x + normal.y * origin.y + normal.z * origin.z);
    return result;
  }
  Plane2.romPositionAndNormal = romPositionAndNormal;
  function signedDistanceToPlaneFromPositionAndNormal(origin, normal, point) {
    const d = -(normal.x * origin.x + normal.y * origin.y + normal.z * origin.z);
    return Vector32.dot(point, normal) + d;
  }
  Plane2.signedDistanceToPlaneFromPositionAndNormal = signedDistanceToPlaneFromPositionAndNormal;
  function asArray(plane) {
    return [plane.normal.x, plane.normal.y, plane.normal.z, plane.d];
  }
  Plane2.asArray = asArray;
  function clone(plane) {
    return create(plane.normal.x, plane.normal.y, plane.normal.z, plane.d);
  }
  Plane2.clone = clone;
  function getHashCode(_plane) {
    return 0;
  }
  Plane2.getHashCode = getHashCode;
  function normalize(plane) {
    const result = create(0, 0, 0, 0);
    const norm = Math.sqrt(
      plane.normal.x * plane.normal.x +
        plane.normal.y * plane.normal.y +
        plane.normal.z * plane.normal.z
    );
    let magnitude = 0;
    if (norm !== 0) {
      magnitude = 1 / norm;
    }
    result.normal.x = plane.normal.x * magnitude;
    result.normal.y = plane.normal.y * magnitude;
    result.normal.z = plane.normal.z * magnitude;
    result.d *= magnitude;
    return plane;
  }
  Plane2.normalize = normalize;
  function transform(plane, transformation) {
    const transposedMatrix = Matrix.create();
    Matrix.transposeToRef(transformation, transposedMatrix);
    const m = transposedMatrix._m;
    const x = plane.normal.x;
    const y = plane.normal.y;
    const z = plane.normal.z;
    const d = plane.d;
    const normalX = x * m[0] + y * m[1] + z * m[2] + d * m[3];
    const normalY = x * m[4] + y * m[5] + z * m[6] + d * m[7];
    const normalZ = x * m[8] + y * m[9] + z * m[10] + d * m[11];
    const finalD = x * m[12] + y * m[13] + z * m[14] + d * m[15];
    return create(normalX, normalY, normalZ, finalD);
  }
  Plane2.transform = transform;
  function dotCoordinate(plane, point) {
    return plane.normal.x * point.x + plane.normal.y * point.y + plane.normal.z * point.z + plane.d;
  }
  Plane2.dotCoordinate = dotCoordinate;
  function copyFromPoints(point1, point2, point3) {
    const x1 = point2.x - point1.x;
    const y1 = point2.y - point1.y;
    const z1 = point2.z - point1.z;
    const x2 = point3.x - point1.x;
    const y2 = point3.y - point1.y;
    const z2 = point3.z - point1.z;
    const yz = y1 * z2 - z1 * y2;
    const xz = z1 * x2 - x1 * z2;
    const xy = x1 * y2 - y1 * x2;
    const pyth = Math.sqrt(yz * yz + xz * xz + xy * xy);
    let invPyth;
    if (pyth !== 0) {
      invPyth = 1 / pyth;
    } else {
      invPyth = 0;
    }
    const normal = Vector32.create(yz * invPyth, xz * invPyth, xy * invPyth);
    return {
      normal,
      d: -(normal.x * point1.x + normal.y * point1.y + normal.z * point1.z),
    };
  }
  Plane2.copyFromPoints = copyFromPoints;
  function isFrontFacingTo(plane, direction, epsilon) {
    const dot = Vector32.dot(plane.normal, direction);
    return dot <= epsilon;
  }
  Plane2.isFrontFacingTo = isFrontFacingTo;
  function signedDistanceTo(plane, point) {
    return Vector32.dot(point, plane.normal) + plane.d;
  }
  Plane2.signedDistanceTo = signedDistanceTo;
})(Plane || (Plane = {}));

// ../../node_modules/.pnpm/@dcl+ecs-math@2.1.0/node_modules/@dcl/ecs-math/dist/Matrix.js
var Matrix;
(function (Matrix2) {
  function m(self2) {
    return self2._m;
  }
  Matrix2.m = m;
  let _updateFlagSeed = 0;
  const _identityReadonly = {};
  function IdentityReadonly() {
    return _identityReadonly;
  }
  Matrix2.IdentityReadonly = IdentityReadonly;
  function create() {
    const newMatrix = {
      updateFlag: 0,
      isIdentity: false,
      isIdentity3x2: true,
      _isIdentityDirty: true,
      _isIdentity3x2Dirty: true,
      _m: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    };
    _updateIdentityStatus(newMatrix, false);
    return newMatrix;
  }
  Matrix2.create = create;
  function fromArray(array, offset = 0) {
    const result = create();
    fromArrayToRef(array, offset, result);
    return result;
  }
  Matrix2.fromArray = fromArray;
  function fromArrayToRef(array, offset, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] = array[index + offset];
    }
    _markAsUpdated(result);
  }
  Matrix2.fromArrayToRef = fromArrayToRef;
  function fromFloatArrayToRefScaled(array, offset, scale2, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] = array[index + offset] * scale2;
    }
    _markAsUpdated(result);
  }
  Matrix2.fromFloatArrayToRefScaled = fromFloatArrayToRefScaled;
  function fromValuesToRef(
    initialM11,
    initialM12,
    initialM13,
    initialM14,
    initialM21,
    initialM22,
    initialM23,
    initialM24,
    initialM31,
    initialM32,
    initialM33,
    initialM34,
    initialM41,
    initialM42,
    initialM43,
    initialM44,
    result
  ) {
    const m2 = result._m;
    m2[0] = initialM11;
    m2[1] = initialM12;
    m2[2] = initialM13;
    m2[3] = initialM14;
    m2[4] = initialM21;
    m2[5] = initialM22;
    m2[6] = initialM23;
    m2[7] = initialM24;
    m2[8] = initialM31;
    m2[9] = initialM32;
    m2[10] = initialM33;
    m2[11] = initialM34;
    m2[12] = initialM41;
    m2[13] = initialM42;
    m2[14] = initialM43;
    m2[15] = initialM44;
    _markAsUpdated(result);
  }
  Matrix2.fromValuesToRef = fromValuesToRef;
  function fromValues(
    initialM11,
    initialM12,
    initialM13,
    initialM14,
    initialM21,
    initialM22,
    initialM23,
    initialM24,
    initialM31,
    initialM32,
    initialM33,
    initialM34,
    initialM41,
    initialM42,
    initialM43,
    initialM44
  ) {
    const result = create();
    const m2 = result._m;
    m2[0] = initialM11;
    m2[1] = initialM12;
    m2[2] = initialM13;
    m2[3] = initialM14;
    m2[4] = initialM21;
    m2[5] = initialM22;
    m2[6] = initialM23;
    m2[7] = initialM24;
    m2[8] = initialM31;
    m2[9] = initialM32;
    m2[10] = initialM33;
    m2[11] = initialM34;
    m2[12] = initialM41;
    m2[13] = initialM42;
    m2[14] = initialM43;
    m2[15] = initialM44;
    _markAsUpdated(result);
    return result;
  }
  Matrix2.fromValues = fromValues;
  function compose(scale2, rotation, translation2) {
    const result = create();
    composeToRef(scale2, rotation, translation2, result);
    return result;
  }
  Matrix2.compose = compose;
  function composeToRef(scale2, rotation, translation2, result) {
    const tmpMatrix = [create(), create(), create()];
    scalingToRef(scale2.x, scale2.y, scale2.z, tmpMatrix[1]);
    fromQuaternionToRef(rotation, tmpMatrix[0]);
    multiplyToRef(tmpMatrix[1], tmpMatrix[0], result);
    setTranslation(result, translation2);
  }
  Matrix2.composeToRef = composeToRef;
  function Identity() {
    const identity = fromValues(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
    _updateIdentityStatus(identity, true);
    return identity;
  }
  Matrix2.Identity = Identity;
  function IdentityToRef(result) {
    fromValuesToRef(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, result);
    _updateIdentityStatus(result, true);
  }
  Matrix2.IdentityToRef = IdentityToRef;
  function Zero() {
    const zero = fromValues(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
    _updateIdentityStatus(zero, false);
    return zero;
  }
  Matrix2.Zero = Zero;
  function RotationX(angle) {
    const result = create();
    rotationXToRef(angle, result);
    return result;
  }
  Matrix2.RotationX = RotationX;
  function rotationXToRef(angle, result) {
    const s = Math.sin(angle);
    const c = Math.cos(angle);
    fromValuesToRef(1, 0, 0, 0, 0, c, s, 0, 0, -s, c, 0, 0, 0, 0, 1, result);
    _updateIdentityStatus(result, c === 1 && s === 0);
  }
  Matrix2.rotationXToRef = rotationXToRef;
  function rotationY(angle) {
    const result = create();
    rotationYToRef(angle, result);
    return result;
  }
  Matrix2.rotationY = rotationY;
  function rotationYToRef(angle, result) {
    const s = Math.sin(angle);
    const c = Math.cos(angle);
    fromValuesToRef(c, 0, -s, 0, 0, 1, 0, 0, s, 0, c, 0, 0, 0, 0, 1, result);
    _updateIdentityStatus(result, c === 1 && s === 0);
  }
  Matrix2.rotationYToRef = rotationYToRef;
  function rotationZ(angle) {
    const result = create();
    rotationZToRef(angle, result);
    return result;
  }
  Matrix2.rotationZ = rotationZ;
  function rotationZToRef(angle, result) {
    const s = Math.sin(angle);
    const c = Math.cos(angle);
    fromValuesToRef(c, s, 0, 0, -s, c, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, result);
    _updateIdentityStatus(result, c === 1 && s === 0);
  }
  Matrix2.rotationZToRef = rotationZToRef;
  function rotationAxis(axis, angle) {
    const result = create();
    rotationAxisToRef(axis, angle, result);
    return result;
  }
  Matrix2.rotationAxis = rotationAxis;
  function rotationAxisToRef(_axis, angle, result) {
    const s = Math.sin(-angle);
    const c = Math.cos(-angle);
    const c1 = 1 - c;
    const axis = Vector32.normalize(_axis);
    const m2 = result._m;
    m2[0] = axis.x * axis.x * c1 + c;
    m2[1] = axis.x * axis.y * c1 - axis.z * s;
    m2[2] = axis.x * axis.z * c1 + axis.y * s;
    m2[3] = 0;
    m2[4] = axis.y * axis.x * c1 + axis.z * s;
    m2[5] = axis.y * axis.y * c1 + c;
    m2[6] = axis.y * axis.z * c1 - axis.x * s;
    m2[7] = 0;
    m2[8] = axis.z * axis.x * c1 - axis.y * s;
    m2[9] = axis.z * axis.y * c1 + axis.x * s;
    m2[10] = axis.z * axis.z * c1 + c;
    m2[11] = 0;
    m2[12] = 0;
    m2[13] = 0;
    m2[14] = 0;
    m2[15] = 1;
    _markAsUpdated(result);
  }
  Matrix2.rotationAxisToRef = rotationAxisToRef;
  function rotationYawPitchRoll(yaw, pitch, roll) {
    const result = create();
    rotationYawPitchRollToRef(yaw, pitch, roll, result);
    return result;
  }
  Matrix2.rotationYawPitchRoll = rotationYawPitchRoll;
  function rotationYawPitchRollToRef(yaw, pitch, roll, result) {
    const quaternionResult = Quaternion2.Zero();
    Quaternion2.fromRotationYawPitchRollToRef(yaw, pitch, roll, quaternionResult);
    fromQuaternionToRef(quaternionResult, result);
  }
  Matrix2.rotationYawPitchRollToRef = rotationYawPitchRollToRef;
  function scaling(x, y, z) {
    const result = create();
    scalingToRef(x, y, z, result);
    return result;
  }
  Matrix2.scaling = scaling;
  function scalingToRef(x, y, z, result) {
    fromValuesToRef(x, 0, 0, 0, 0, y, 0, 0, 0, 0, z, 0, 0, 0, 0, 1, result);
    _updateIdentityStatus(result, x === 1 && y === 1 && z === 1);
  }
  Matrix2.scalingToRef = scalingToRef;
  function translation(x, y, z) {
    const result = create();
    translationToRef(x, y, z, result);
    return result;
  }
  Matrix2.translation = translation;
  function translationToRef(x, y, z, result) {
    fromValuesToRef(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, x, y, z, 1, result);
    _updateIdentityStatus(result, x === 0 && y === 0 && z === 0);
  }
  Matrix2.translationToRef = translationToRef;
  function lerp(startValue, endValue, gradient) {
    const result = create();
    lerpToRef(startValue, endValue, gradient, result);
    return result;
  }
  Matrix2.lerp = lerp;
  function lerpToRef(startValue, endValue, gradient, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] = startValue._m[index] * (1 - gradient) + endValue._m[index] * gradient;
    }
    _markAsUpdated(result);
  }
  Matrix2.lerpToRef = lerpToRef;
  function decomposeLerp(startValue, endValue, gradient) {
    const result = create();
    decomposeLerpToRef(startValue, endValue, gradient, result);
    return result;
  }
  Matrix2.decomposeLerp = decomposeLerp;
  function decomposeLerpToRef(startValue, endValue, gradient, result) {
    const startScale = Vector32.Zero();
    const startRotation = Quaternion2.Zero();
    const startTranslation = Vector32.Zero();
    decompose(startValue, startScale, startRotation, startTranslation);
    const endScale = Vector32.Zero();
    const endRotation = Quaternion2.Zero();
    const endTranslation = Vector32.Zero();
    decompose(endValue, endScale, endRotation, endTranslation);
    const resultScale = Vector32.Zero();
    Vector32.lerpToRef(startScale, endScale, gradient, resultScale);
    const resultRotation = Quaternion2.Zero();
    Quaternion2.slerpToRef(startRotation, endRotation, gradient, resultRotation);
    const resultTranslation = Vector32.Zero();
    Vector32.lerpToRef(startTranslation, endTranslation, gradient, resultTranslation);
    composeToRef(resultScale, resultRotation, resultTranslation, result);
  }
  Matrix2.decomposeLerpToRef = decomposeLerpToRef;
  function LookAtLH(eye, target, up) {
    const result = create();
    lookAtLHToRef(eye, target, up, result);
    return result;
  }
  Matrix2.LookAtLH = LookAtLH;
  function lookAtLHToRef(eye, target, up, result) {
    const xAxis = Vector32.Zero();
    const yAxis = Vector32.Zero();
    const zAxis = Vector32.Zero();
    Vector32.subtractToRef(target, eye, zAxis);
    Vector32.normalizeToRef(zAxis, zAxis);
    Vector32.crossToRef(up, zAxis, xAxis);
    const xSquareLength = Vector32.lengthSquared(xAxis);
    if (xSquareLength === 0) {
      xAxis.x = 1;
    } else {
      Vector32.normalizeFromLengthToRef(xAxis, Math.sqrt(xSquareLength), xAxis);
    }
    Vector32.crossToRef(zAxis, xAxis, yAxis);
    Vector32.normalizeToRef(yAxis, yAxis);
    const ex = -Vector32.dot(xAxis, eye);
    const ey = -Vector32.dot(yAxis, eye);
    const ez = -Vector32.dot(zAxis, eye);
    fromValuesToRef(
      xAxis.x,
      yAxis.x,
      zAxis.x,
      0,
      xAxis.y,
      yAxis.y,
      zAxis.y,
      0,
      xAxis.z,
      yAxis.z,
      zAxis.z,
      0,
      ex,
      ey,
      ez,
      1,
      result
    );
  }
  Matrix2.lookAtLHToRef = lookAtLHToRef;
  function lookAtRH(eye, target, up) {
    const result = create();
    lookAtRHToRef(eye, target, up, result);
    return result;
  }
  Matrix2.lookAtRH = lookAtRH;
  function lookAtRHToRef(eye, target, up, result) {
    const xAxis = Vector32.Zero();
    const yAxis = Vector32.Zero();
    const zAxis = Vector32.Zero();
    Vector32.subtractToRef(eye, target, zAxis);
    Vector32.normalizeToRef(zAxis, zAxis);
    Vector32.crossToRef(up, zAxis, xAxis);
    const xSquareLength = Vector32.lengthSquared(xAxis);
    if (xSquareLength === 0) {
      xAxis.x = 1;
    } else {
      Vector32.normalizeFromLengthToRef(xAxis, Math.sqrt(xSquareLength), xAxis);
    }
    Vector32.crossToRef(zAxis, xAxis, yAxis);
    Vector32.normalizeToRef(yAxis, yAxis);
    const ex = -Vector32.dot(xAxis, eye);
    const ey = -Vector32.dot(yAxis, eye);
    const ez = -Vector32.dot(zAxis, eye);
    fromValuesToRef(
      xAxis.x,
      yAxis.x,
      zAxis.x,
      0,
      xAxis.y,
      yAxis.y,
      zAxis.y,
      0,
      xAxis.z,
      yAxis.z,
      zAxis.z,
      0,
      ex,
      ey,
      ez,
      1,
      result
    );
  }
  Matrix2.lookAtRHToRef = lookAtRHToRef;
  function orthoLH(width, height, znear, zfar) {
    const matrix = create();
    orthoLHToRef(width, height, znear, zfar, matrix);
    return matrix;
  }
  Matrix2.orthoLH = orthoLH;
  function orthoLHToRef(width, height, znear, zfar, result) {
    const n = znear;
    const f = zfar;
    const a = 2 / width;
    const b = 2 / height;
    const c = 2 / (f - n);
    const d = -(f + n) / (f - n);
    fromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 0, 0, 0, d, 1, result);
    _updateIdentityStatus(result, a === 1 && b === 1 && c === 1 && d === 0);
  }
  Matrix2.orthoLHToRef = orthoLHToRef;
  function OrthoOffCenterLH(left, right, bottom, top, znear, zfar) {
    const matrix = create();
    orthoOffCenterLHToRef(left, right, bottom, top, znear, zfar, matrix);
    return matrix;
  }
  Matrix2.OrthoOffCenterLH = OrthoOffCenterLH;
  function orthoOffCenterLHToRef(left, right, bottom, top, znear, zfar, result) {
    const n = znear;
    const f = zfar;
    const a = 2 / (right - left);
    const b = 2 / (top - bottom);
    const c = 2 / (f - n);
    const d = -(f + n) / (f - n);
    const i0 = (left + right) / (left - right);
    const i1 = (top + bottom) / (bottom - top);
    fromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 0, i0, i1, d, 1, result);
    _markAsUpdated(result);
  }
  Matrix2.orthoOffCenterLHToRef = orthoOffCenterLHToRef;
  function orthoOffCenterRH(left, right, bottom, top, znear, zfar) {
    const matrix = create();
    orthoOffCenterRHToRef(left, right, bottom, top, znear, zfar, matrix);
    return matrix;
  }
  Matrix2.orthoOffCenterRH = orthoOffCenterRH;
  function orthoOffCenterRHToRef(left, right, bottom, top, znear, zfar, result) {
    orthoOffCenterLHToRef(left, right, bottom, top, znear, zfar, result);
    result._m[10] *= -1;
  }
  Matrix2.orthoOffCenterRHToRef = orthoOffCenterRHToRef;
  function perspectiveLH(width, height, znear, zfar) {
    const matrix = create();
    const n = znear;
    const f = zfar;
    const a = (2 * n) / width;
    const b = (2 * n) / height;
    const c = (f + n) / (f - n);
    const d = (-2 * f * n) / (f - n);
    fromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 1, 0, 0, d, 0, matrix);
    _updateIdentityStatus(matrix, false);
    return matrix;
  }
  Matrix2.perspectiveLH = perspectiveLH;
  function perspectiveFovLH(fov, aspect, znear, zfar) {
    const matrix = create();
    perspectiveFovLHToRef(fov, aspect, znear, zfar, matrix);
    return matrix;
  }
  Matrix2.perspectiveFovLH = perspectiveFovLH;
  function perspectiveFovLHToRef(fov, aspect, znear, zfar, result, isVerticalFovFixed = true) {
    const n = znear;
    const f = zfar;
    const t = 1 / Math.tan(fov * 0.5);
    const a = isVerticalFovFixed ? t / aspect : t;
    const b = isVerticalFovFixed ? t : t * aspect;
    const c = (f + n) / (f - n);
    const d = (-2 * f * n) / (f - n);
    fromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 1, 0, 0, d, 0, result);
    _updateIdentityStatus(result, false);
  }
  Matrix2.perspectiveFovLHToRef = perspectiveFovLHToRef;
  function PerspectiveFovRH(fov, aspect, znear, zfar) {
    const matrix = create();
    perspectiveFovRHToRef(fov, aspect, znear, zfar, matrix);
    return matrix;
  }
  Matrix2.PerspectiveFovRH = PerspectiveFovRH;
  function perspectiveFovRHToRef(fov, aspect, znear, zfar, result, isVerticalFovFixed = true) {
    const n = znear;
    const f = zfar;
    const t = 1 / Math.tan(fov * 0.5);
    const a = isVerticalFovFixed ? t / aspect : t;
    const b = isVerticalFovFixed ? t : t * aspect;
    const c = -(f + n) / (f - n);
    const d = (-2 * f * n) / (f - n);
    fromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, -1, 0, 0, d, 0, result);
    _updateIdentityStatus(result, false);
  }
  Matrix2.perspectiveFovRHToRef = perspectiveFovRHToRef;
  function perspectiveFovWebVRToRef(fov, znear, zfar, result, rightHanded = false) {
    const rightHandedFactor = rightHanded ? -1 : 1;
    const upTan = Math.tan((fov.upDegrees * Math.PI) / 180);
    const downTan = Math.tan((fov.downDegrees * Math.PI) / 180);
    const leftTan = Math.tan((fov.leftDegrees * Math.PI) / 180);
    const rightTan = Math.tan((fov.rightDegrees * Math.PI) / 180);
    const xScale = 2 / (leftTan + rightTan);
    const yScale = 2 / (upTan + downTan);
    const m2 = result._m;
    m2[0] = xScale;
    m2[1] = m2[2] = m2[3] = m2[4] = 0;
    m2[5] = yScale;
    m2[6] = m2[7] = 0;
    m2[8] = (leftTan - rightTan) * xScale * 0.5;
    m2[9] = -((upTan - downTan) * yScale * 0.5);
    m2[10] = -zfar / (znear - zfar);
    m2[11] = 1 * rightHandedFactor;
    m2[12] = m2[13] = m2[15] = 0;
    m2[14] = -(2 * zfar * znear) / (zfar - znear);
    _markAsUpdated(result);
  }
  Matrix2.perspectiveFovWebVRToRef = perspectiveFovWebVRToRef;
  function GetAsMatrix2x2(matrix) {
    return [matrix._m[0], matrix._m[1], matrix._m[4], matrix._m[5]];
  }
  Matrix2.GetAsMatrix2x2 = GetAsMatrix2x2;
  function GetAsMatrix3x3(matrix) {
    return [
      matrix._m[0],
      matrix._m[1],
      matrix._m[2],
      matrix._m[4],
      matrix._m[5],
      matrix._m[6],
      matrix._m[8],
      matrix._m[9],
      matrix._m[10],
    ];
  }
  Matrix2.GetAsMatrix3x3 = GetAsMatrix3x3;
  function transpose(matrix) {
    const result = create();
    transposeToRef(matrix, result);
    return result;
  }
  Matrix2.transpose = transpose;
  function transposeToRef(matrix, result) {
    const rm = result._m;
    const mm = matrix._m;
    rm[0] = mm[0];
    rm[1] = mm[4];
    rm[2] = mm[8];
    rm[3] = mm[12];
    rm[4] = mm[1];
    rm[5] = mm[5];
    rm[6] = mm[9];
    rm[7] = mm[13];
    rm[8] = mm[2];
    rm[9] = mm[6];
    rm[10] = mm[10];
    rm[11] = mm[14];
    rm[12] = mm[3];
    rm[13] = mm[7];
    rm[14] = mm[11];
    rm[15] = mm[15];
    _updateIdentityStatus(result, matrix.isIdentity, matrix._isIdentityDirty);
  }
  Matrix2.transposeToRef = transposeToRef;
  function reflection(plane) {
    const matrix = create();
    reflectionToRef(plane, matrix);
    return matrix;
  }
  Matrix2.reflection = reflection;
  function reflectionToRef(_plane, result) {
    const plane = Plane.normalize(_plane);
    const x = plane.normal.x;
    const y = plane.normal.y;
    const z = plane.normal.z;
    const temp = -2 * x;
    const temp2 = -2 * y;
    const temp3 = -2 * z;
    fromValuesToRef(
      temp * x + 1,
      temp2 * x,
      temp3 * x,
      0,
      temp * y,
      temp2 * y + 1,
      temp3 * y,
      0,
      temp * z,
      temp2 * z,
      temp3 * z + 1,
      0,
      temp * plane.d,
      temp2 * plane.d,
      temp3 * plane.d,
      1,
      result
    );
  }
  Matrix2.reflectionToRef = reflectionToRef;
  function fromXYZAxesToRef(xaxis, yaxis, zaxis, result) {
    fromValuesToRef(
      xaxis.x,
      xaxis.y,
      xaxis.z,
      0,
      yaxis.x,
      yaxis.y,
      yaxis.z,
      0,
      zaxis.x,
      zaxis.y,
      zaxis.z,
      0,
      0,
      0,
      0,
      1,
      result
    );
  }
  Matrix2.fromXYZAxesToRef = fromXYZAxesToRef;
  function fromQuaternionToRef(quat, result) {
    const xx = quat.x * quat.x;
    const yy = quat.y * quat.y;
    const zz = quat.z * quat.z;
    const xy = quat.x * quat.y;
    const zw = quat.z * quat.w;
    const zx = quat.z * quat.x;
    const yw = quat.y * quat.w;
    const yz = quat.y * quat.z;
    const xw = quat.x * quat.w;
    result._m[0] = 1 - 2 * (yy + zz);
    result._m[1] = 2 * (xy + zw);
    result._m[2] = 2 * (zx - yw);
    result._m[3] = 0;
    result._m[4] = 2 * (xy - zw);
    result._m[5] = 1 - 2 * (zz + xx);
    result._m[6] = 2 * (yz + xw);
    result._m[7] = 0;
    result._m[8] = 2 * (zx + yw);
    result._m[9] = 2 * (yz - xw);
    result._m[10] = 1 - 2 * (yy + xx);
    result._m[11] = 0;
    result._m[12] = 0;
    result._m[13] = 0;
    result._m[14] = 0;
    result._m[15] = 1;
    _markAsUpdated(result);
  }
  Matrix2.fromQuaternionToRef = fromQuaternionToRef;
  function _markAsUpdated(self2) {
    self2.updateFlag = _updateFlagSeed++;
    self2.isIdentity = false;
    self2.isIdentity3x2 = false;
    self2._isIdentityDirty = true;
    self2._isIdentity3x2Dirty = true;
  }
  function isIdentityUpdate(self2) {
    if (self2._isIdentityDirty) {
      self2._isIdentityDirty = false;
      const m2 = self2._m;
      self2.isIdentity =
        m2[0] === 1 &&
        m2[1] === 0 &&
        m2[2] === 0 &&
        m2[3] === 0 &&
        m2[4] === 0 &&
        m2[5] === 1 &&
        m2[6] === 0 &&
        m2[7] === 0 &&
        m2[8] === 0 &&
        m2[9] === 0 &&
        m2[10] === 1 &&
        m2[11] === 0 &&
        m2[12] === 0 &&
        m2[13] === 0 &&
        m2[14] === 0 &&
        m2[15] === 1;
    }
    return self2.isIdentity;
  }
  Matrix2.isIdentityUpdate = isIdentityUpdate;
  function isIdentityAs3x2Update(self2) {
    if (self2._isIdentity3x2Dirty) {
      self2._isIdentity3x2Dirty = false;
      if (self2._m[0] !== 1 || self2._m[5] !== 1 || self2._m[15] !== 1) {
        self2.isIdentity3x2 = false;
      } else if (
        self2._m[1] !== 0 ||
        self2._m[2] !== 0 ||
        self2._m[3] !== 0 ||
        self2._m[4] !== 0 ||
        self2._m[6] !== 0 ||
        self2._m[7] !== 0 ||
        self2._m[8] !== 0 ||
        self2._m[9] !== 0 ||
        self2._m[10] !== 0 ||
        self2._m[11] !== 0 ||
        self2._m[12] !== 0 ||
        self2._m[13] !== 0 ||
        self2._m[14] !== 0
      ) {
        self2.isIdentity3x2 = false;
      } else {
        self2.isIdentity3x2 = true;
      }
    }
    return self2.isIdentity3x2;
  }
  Matrix2.isIdentityAs3x2Update = isIdentityAs3x2Update;
  function determinant(self2) {
    if (self2.isIdentity === true) {
      return 1;
    }
    const m2 = self2._m;
    const m00 = m2[0],
      m01 = m2[1],
      m02 = m2[2],
      m03 = m2[3];
    const m10 = m2[4],
      m11 = m2[5],
      m12 = m2[6],
      m13 = m2[7];
    const m20 = m2[8],
      m21 = m2[9],
      m22 = m2[10],
      m23 = m2[11];
    const m30 = m2[12],
      m31 = m2[13],
      m32 = m2[14],
      m33 = m2[15];
    const det_22_33 = m22 * m33 - m32 * m23;
    const det_21_33 = m21 * m33 - m31 * m23;
    const det_21_32 = m21 * m32 - m31 * m22;
    const det_20_33 = m20 * m33 - m30 * m23;
    const det_20_32 = m20 * m32 - m22 * m30;
    const det_20_31 = m20 * m31 - m30 * m21;
    const cofact_00 = +(m11 * det_22_33 - m12 * det_21_33 + m13 * det_21_32);
    const cofact_01 = -(m10 * det_22_33 - m12 * det_20_33 + m13 * det_20_32);
    const cofact_02 = +(m10 * det_21_33 - m11 * det_20_33 + m13 * det_20_31);
    const cofact_03 = -(m10 * det_21_32 - m11 * det_20_32 + m12 * det_20_31);
    return m00 * cofact_00 + m01 * cofact_01 + m02 * cofact_02 + m03 * cofact_03;
  }
  Matrix2.determinant = determinant;
  function toArray(self2) {
    return self2._m;
  }
  Matrix2.toArray = toArray;
  function asArray(self2) {
    return self2._m;
  }
  Matrix2.asArray = asArray;
  function reset(self2) {
    fromValuesToRef(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, self2);
    _updateIdentityStatus(self2, false);
  }
  Matrix2.reset = reset;
  function add2(self2, other) {
    const result = create();
    addToRef(self2, other, result);
    return result;
  }
  Matrix2.add = add2;
  function addToRef(self2, other, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] = self2._m[index] + other._m[index];
    }
    _markAsUpdated(result);
  }
  Matrix2.addToRef = addToRef;
  function addToSelf(self2, other) {
    for (let index = 0; index < 16; index++) {
      self2._m[index] += other._m[index];
    }
    _markAsUpdated(self2);
  }
  Matrix2.addToSelf = addToSelf;
  function invert(source) {
    const result = create();
    invertToRef(source, result);
    return result;
  }
  Matrix2.invert = invert;
  function invertToRef(source, result) {
    if (source.isIdentity === true) {
      copy(source, result);
      return;
    }
    const m2 = source._m;
    const m00 = m2[0],
      m01 = m2[1],
      m02 = m2[2],
      m03 = m2[3];
    const m10 = m2[4],
      m11 = m2[5],
      m12 = m2[6],
      m13 = m2[7];
    const m20 = m2[8],
      m21 = m2[9],
      m22 = m2[10],
      m23 = m2[11];
    const m30 = m2[12],
      m31 = m2[13],
      m32 = m2[14],
      m33 = m2[15];
    const det_22_33 = m22 * m33 - m32 * m23;
    const det_21_33 = m21 * m33 - m31 * m23;
    const det_21_32 = m21 * m32 - m31 * m22;
    const det_20_33 = m20 * m33 - m30 * m23;
    const det_20_32 = m20 * m32 - m22 * m30;
    const det_20_31 = m20 * m31 - m30 * m21;
    const cofact_00 = +(m11 * det_22_33 - m12 * det_21_33 + m13 * det_21_32);
    const cofact_01 = -(m10 * det_22_33 - m12 * det_20_33 + m13 * det_20_32);
    const cofact_02 = +(m10 * det_21_33 - m11 * det_20_33 + m13 * det_20_31);
    const cofact_03 = -(m10 * det_21_32 - m11 * det_20_32 + m12 * det_20_31);
    const det = m00 * cofact_00 + m01 * cofact_01 + m02 * cofact_02 + m03 * cofact_03;
    if (det === 0) {
      copy(source, result);
      return;
    }
    const detInv = 1 / det;
    const det_12_33 = m12 * m33 - m32 * m13;
    const det_11_33 = m11 * m33 - m31 * m13;
    const det_11_32 = m11 * m32 - m31 * m12;
    const det_10_33 = m10 * m33 - m30 * m13;
    const det_10_32 = m10 * m32 - m30 * m12;
    const det_10_31 = m10 * m31 - m30 * m11;
    const det_12_23 = m12 * m23 - m22 * m13;
    const det_11_23 = m11 * m23 - m21 * m13;
    const det_11_22 = m11 * m22 - m21 * m12;
    const det_10_23 = m10 * m23 - m20 * m13;
    const det_10_22 = m10 * m22 - m20 * m12;
    const det_10_21 = m10 * m21 - m20 * m11;
    const cofact_10 = -(m01 * det_22_33 - m02 * det_21_33 + m03 * det_21_32);
    const cofact_11 = +(m00 * det_22_33 - m02 * det_20_33 + m03 * det_20_32);
    const cofact_12 = -(m00 * det_21_33 - m01 * det_20_33 + m03 * det_20_31);
    const cofact_13 = +(m00 * det_21_32 - m01 * det_20_32 + m02 * det_20_31);
    const cofact_20 = +(m01 * det_12_33 - m02 * det_11_33 + m03 * det_11_32);
    const cofact_21 = -(m00 * det_12_33 - m02 * det_10_33 + m03 * det_10_32);
    const cofact_22 = +(m00 * det_11_33 - m01 * det_10_33 + m03 * det_10_31);
    const cofact_23 = -(m00 * det_11_32 - m01 * det_10_32 + m02 * det_10_31);
    const cofact_30 = -(m01 * det_12_23 - m02 * det_11_23 + m03 * det_11_22);
    const cofact_31 = +(m00 * det_12_23 - m02 * det_10_23 + m03 * det_10_22);
    const cofact_32 = -(m00 * det_11_23 - m01 * det_10_23 + m03 * det_10_21);
    const cofact_33 = +(m00 * det_11_22 - m01 * det_10_22 + m02 * det_10_21);
    fromValuesToRef(
      cofact_00 * detInv,
      cofact_10 * detInv,
      cofact_20 * detInv,
      cofact_30 * detInv,
      cofact_01 * detInv,
      cofact_11 * detInv,
      cofact_21 * detInv,
      cofact_31 * detInv,
      cofact_02 * detInv,
      cofact_12 * detInv,
      cofact_22 * detInv,
      cofact_32 * detInv,
      cofact_03 * detInv,
      cofact_13 * detInv,
      cofact_23 * detInv,
      cofact_33 * detInv,
      result
    );
  }
  Matrix2.invertToRef = invertToRef;
  function addAtIndex(self2, index, value) {
    self2._m[index] += value;
    _markAsUpdated(self2);
  }
  Matrix2.addAtIndex = addAtIndex;
  function multiplyAtIndex(self2, index, value) {
    self2._m[index] *= value;
    _markAsUpdated(self2);
    return self2;
  }
  Matrix2.multiplyAtIndex = multiplyAtIndex;
  function setTranslationFromFloats(self2, x, y, z) {
    self2._m[12] = x;
    self2._m[13] = y;
    self2._m[14] = z;
    _markAsUpdated(self2);
  }
  Matrix2.setTranslationFromFloats = setTranslationFromFloats;
  function setTranslation(self2, vector3) {
    setTranslationFromFloats(self2, vector3.x, vector3.y, vector3.z);
  }
  Matrix2.setTranslation = setTranslation;
  function getTranslation(self2) {
    return Vector32.create(self2._m[12], self2._m[13], self2._m[14]);
  }
  Matrix2.getTranslation = getTranslation;
  function getTranslationToRef(self2, result) {
    result.x = self2._m[12];
    result.y = self2._m[13];
    result.z = self2._m[14];
  }
  Matrix2.getTranslationToRef = getTranslationToRef;
  function removeRotationAndScaling(self2) {
    const m2 = self2._m;
    fromValuesToRef(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, m2[12], m2[13], m2[14], m2[15], self2);
    _updateIdentityStatus(self2, m2[12] === 0 && m2[13] === 0 && m2[14] === 0 && m2[15] === 1);
    return self2;
  }
  Matrix2.removeRotationAndScaling = removeRotationAndScaling;
  function multiply2(self2, other) {
    const result = create();
    multiplyToRef(self2, other, result);
    return result;
  }
  Matrix2.multiply = multiply2;
  function copy(from, dest) {
    copyToArray(from, dest._m);
    _updateIdentityStatus(
      dest,
      from.isIdentity,
      from._isIdentityDirty,
      from.isIdentity3x2,
      from._isIdentity3x2Dirty
    );
  }
  Matrix2.copy = copy;
  function copyToArray(self2, arrayDest, offsetDest = 0) {
    for (let index = 0; index < 16; index++) {
      arrayDest[offsetDest + index] = self2._m[index];
    }
  }
  Matrix2.copyToArray = copyToArray;
  function multiplyToRef(self2, other, result) {
    if (self2.isIdentity) {
      copy(other, result);
      return;
    }
    if (other.isIdentity) {
      copy(self2, result);
      return;
    }
    multiplyToArray(self2, other, result._m, 0);
    _markAsUpdated(result);
  }
  Matrix2.multiplyToRef = multiplyToRef;
  function multiplyToArray(self2, other, result, offset) {
    const m2 = self2._m;
    const otherM = other._m;
    const tm0 = m2[0],
      tm1 = m2[1],
      tm2 = m2[2],
      tm3 = m2[3];
    const tm4 = m2[4],
      tm5 = m2[5],
      tm6 = m2[6],
      tm7 = m2[7];
    const tm8 = m2[8],
      tm9 = m2[9],
      tm10 = m2[10],
      tm11 = m2[11];
    const tm12 = m2[12],
      tm13 = m2[13],
      tm14 = m2[14],
      tm15 = m2[15];
    const om0 = otherM[0],
      om1 = otherM[1],
      om2 = otherM[2],
      om3 = otherM[3];
    const om4 = otherM[4],
      om5 = otherM[5],
      om6 = otherM[6],
      om7 = otherM[7];
    const om8 = otherM[8],
      om9 = otherM[9],
      om10 = otherM[10],
      om11 = otherM[11];
    const om12 = otherM[12],
      om13 = otherM[13],
      om14 = otherM[14],
      om15 = otherM[15];
    result[offset] = tm0 * om0 + tm1 * om4 + tm2 * om8 + tm3 * om12;
    result[offset + 1] = tm0 * om1 + tm1 * om5 + tm2 * om9 + tm3 * om13;
    result[offset + 2] = tm0 * om2 + tm1 * om6 + tm2 * om10 + tm3 * om14;
    result[offset + 3] = tm0 * om3 + tm1 * om7 + tm2 * om11 + tm3 * om15;
    result[offset + 4] = tm4 * om0 + tm5 * om4 + tm6 * om8 + tm7 * om12;
    result[offset + 5] = tm4 * om1 + tm5 * om5 + tm6 * om9 + tm7 * om13;
    result[offset + 6] = tm4 * om2 + tm5 * om6 + tm6 * om10 + tm7 * om14;
    result[offset + 7] = tm4 * om3 + tm5 * om7 + tm6 * om11 + tm7 * om15;
    result[offset + 8] = tm8 * om0 + tm9 * om4 + tm10 * om8 + tm11 * om12;
    result[offset + 9] = tm8 * om1 + tm9 * om5 + tm10 * om9 + tm11 * om13;
    result[offset + 10] = tm8 * om2 + tm9 * om6 + tm10 * om10 + tm11 * om14;
    result[offset + 11] = tm8 * om3 + tm9 * om7 + tm10 * om11 + tm11 * om15;
    result[offset + 12] = tm12 * om0 + tm13 * om4 + tm14 * om8 + tm15 * om12;
    result[offset + 13] = tm12 * om1 + tm13 * om5 + tm14 * om9 + tm15 * om13;
    result[offset + 14] = tm12 * om2 + tm13 * om6 + tm14 * om10 + tm15 * om14;
    result[offset + 15] = tm12 * om3 + tm13 * om7 + tm14 * om11 + tm15 * om15;
  }
  Matrix2.multiplyToArray = multiplyToArray;
  function equals2(self2, value) {
    const other = value;
    if (!other) {
      return false;
    }
    if (self2.isIdentity || other.isIdentity) {
      if (!self2._isIdentityDirty && !other._isIdentityDirty) {
        return self2.isIdentity && other.isIdentity;
      }
    }
    const m2 = self2._m;
    const om = other._m;
    return (
      m2[0] === om[0] &&
      m2[1] === om[1] &&
      m2[2] === om[2] &&
      m2[3] === om[3] &&
      m2[4] === om[4] &&
      m2[5] === om[5] &&
      m2[6] === om[6] &&
      m2[7] === om[7] &&
      m2[8] === om[8] &&
      m2[9] === om[9] &&
      m2[10] === om[10] &&
      m2[11] === om[11] &&
      m2[12] === om[12] &&
      m2[13] === om[13] &&
      m2[14] === om[14] &&
      m2[15] === om[15]
    );
  }
  Matrix2.equals = equals2;
  function clone(self2) {
    const result = create();
    copy(self2, result);
    return result;
  }
  Matrix2.clone = clone;
  function getHashCode(self2) {
    let hash = self2._m[0] || 0;
    for (let i = 1; i < 16; i++) {
      hash = (hash * 397) ^ (self2._m[i] || 0);
    }
    return hash;
  }
  Matrix2.getHashCode = getHashCode;
  function decompose(self2, scale2, rotation, translation2) {
    if (self2.isIdentity) {
      if (translation2) {
        translation2.x = 0;
        translation2.y = 0;
        translation2.z = 0;
      }
      if (scale2) {
        scale2.x = 1;
        scale2.y = 1;
        scale2.z = 1;
      }
      if (rotation) {
        rotation.w = 1;
        rotation.x = 0;
        rotation.y = 0;
        rotation.z = 0;
      }
      return true;
    }
    const m2 = self2._m;
    if (translation2) {
      translation2.x = m2[12];
      translation2.y = m2[13];
      translation2.z = m2[14];
    }
    const usedScale = scale2 || Vector32.Zero();
    usedScale.x = Math.sqrt(m2[0] * m2[0] + m2[1] * m2[1] + m2[2] * m2[2]);
    usedScale.y = Math.sqrt(m2[4] * m2[4] + m2[5] * m2[5] + m2[6] * m2[6]);
    usedScale.z = Math.sqrt(m2[8] * m2[8] + m2[9] * m2[9] + m2[10] * m2[10]);
    if (determinant(self2) <= 0) {
      usedScale.y *= -1;
    }
    if (usedScale.x === 0 || usedScale.y === 0 || usedScale.z === 0) {
      if (rotation) {
        rotation.w = 1;
        rotation.x = 0;
        rotation.y = 0;
        rotation.z = 0;
      }
      return false;
    }
    if (rotation) {
      const sx = 1 / usedScale.x,
        sy = 1 / usedScale.y,
        sz = 1 / usedScale.z;
      const tmpMatrix = create();
      fromValuesToRef(
        m2[0] * sx,
        m2[1] * sx,
        m2[2] * sx,
        0,
        m2[4] * sy,
        m2[5] * sy,
        m2[6] * sy,
        0,
        m2[8] * sz,
        m2[9] * sz,
        m2[10] * sz,
        0,
        0,
        0,
        0,
        1,
        tmpMatrix
      );
      Quaternion2.fromRotationMatrixToRef(tmpMatrix, rotation);
    }
    return true;
  }
  Matrix2.decompose = decompose;
  function setRowFromFloats(self2, index, x, y, z, w) {
    if (index < 0 || index > 3) {
      return;
    }
    const i = index * 4;
    self2._m[i + 0] = x;
    self2._m[i + 1] = y;
    self2._m[i + 2] = z;
    self2._m[i + 3] = w;
    _markAsUpdated(self2);
  }
  Matrix2.setRowFromFloats = setRowFromFloats;
  function scale(self2, scale2) {
    const result = create();
    scaleToRef(self2, scale2, result);
    return result;
  }
  Matrix2.scale = scale;
  function scaleToRef(self2, scale2, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] = self2._m[index] * scale2;
    }
    _markAsUpdated(result);
  }
  Matrix2.scaleToRef = scaleToRef;
  function scaleAndAddToRef(self2, scale2, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] += self2._m[index] * scale2;
    }
    _markAsUpdated(result);
  }
  Matrix2.scaleAndAddToRef = scaleAndAddToRef;
  function normalMatrixToRef(self2, ref) {
    const tmp = create();
    invertToRef(self2, tmp);
    transposeToRef(tmp, ref);
    const m2 = ref._m;
    fromValuesToRef(
      m2[0],
      m2[1],
      m2[2],
      0,
      m2[4],
      m2[5],
      m2[6],
      0,
      m2[8],
      m2[9],
      m2[10],
      0,
      0,
      0,
      0,
      1,
      ref
    );
  }
  Matrix2.normalMatrixToRef = normalMatrixToRef;
  function getRotationMatrix(self2) {
    const result = create();
    getRotationMatrixToRef(self2, result);
    return result;
  }
  Matrix2.getRotationMatrix = getRotationMatrix;
  function getRotationMatrixToRef(self2, result) {
    const scale2 = Vector32.Zero();
    if (!decompose(self2, scale2)) {
      result = Identity();
      return;
    }
    const m2 = self2._m;
    const sx = 1 / scale2.x,
      sy = 1 / scale2.y,
      sz = 1 / scale2.z;
    fromValuesToRef(
      m2[0] * sx,
      m2[1] * sx,
      m2[2] * sx,
      0,
      m2[4] * sy,
      m2[5] * sy,
      m2[6] * sy,
      0,
      m2[8] * sz,
      m2[9] * sz,
      m2[10] * sz,
      0,
      0,
      0,
      0,
      1,
      result
    );
  }
  Matrix2.getRotationMatrixToRef = getRotationMatrixToRef;
  function toggleModelMatrixHandInPlace(self2) {
    self2._m[2] *= -1;
    self2._m[6] *= -1;
    self2._m[8] *= -1;
    self2._m[9] *= -1;
    self2._m[14] *= -1;
    _markAsUpdated(self2);
  }
  Matrix2.toggleModelMatrixHandInPlace = toggleModelMatrixHandInPlace;
  function toggleProjectionMatrixHandInPlace(self2) {
    self2._m[8] *= -1;
    self2._m[9] *= -1;
    self2._m[10] *= -1;
    self2._m[11] *= -1;
    _markAsUpdated(self2);
  }
  Matrix2.toggleProjectionMatrixHandInPlace = toggleProjectionMatrixHandInPlace;
  function _updateIdentityStatus(
    self2,
    isIdentity,
    isIdentityDirty = false,
    isIdentity3x2 = false,
    isIdentity3x2Dirty = true
  ) {
    self2.updateFlag = _updateFlagSeed++;
    self2.isIdentity = isIdentity;
    self2.isIdentity3x2 = isIdentity || isIdentity3x2;
    self2._isIdentityDirty = self2.isIdentity ? false : isIdentityDirty;
    self2._isIdentity3x2Dirty = self2.isIdentity3x2 ? false : isIdentity3x2Dirty;
  }
})(Matrix || (Matrix = {}));

// ../../node_modules/.pnpm/@dcl+ecs-math@2.1.0/node_modules/@dcl/ecs-math/dist/Quaternion.js
var Quaternion2;
(function (Quaternion3) {
  function create(x = 0, y = 0, z = 0, w = 1) {
    return { x, y, z, w };
  }
  Quaternion3.create = create;
  function add2(q1, q2) {
    return { x: q1.x + q2.x, y: q1.y + q2.y, z: q1.z + q2.z, w: q1.w + q2.w };
  }
  Quaternion3.add = add2;
  function fromRotationYawPitchRoll(yaw, pitch, roll) {
    const halfPitch = pitch * 0.5;
    const halfYaw = yaw * 0.5;
    const halfRoll = roll * 0.5;
    const c1 = Math.cos(halfPitch);
    const c2 = Math.cos(halfYaw);
    const c3 = Math.cos(halfRoll);
    const s1 = Math.sin(halfPitch);
    const s2 = Math.sin(halfYaw);
    const s3 = Math.sin(halfRoll);
    return create(
      c2 * s1 * c3 + s2 * c1 * s3,
      s2 * c1 * c3 - c2 * s1 * s3,
      c2 * c1 * s3 - s2 * s1 * c3,
      c2 * c1 * c3 + s2 * s1 * s3
    );
  }
  Quaternion3.fromRotationYawPitchRoll = fromRotationYawPitchRoll;
  function fromEulerDegrees(x, y, z) {
    return fromRotationYawPitchRoll(y * DEG2RAD, x * DEG2RAD, z * DEG2RAD);
  }
  Quaternion3.fromEulerDegrees = fromEulerDegrees;
  function length2(q) {
    return Math.sqrt(lengthSquared(q));
  }
  Quaternion3.length = length2;
  function lengthSquared(q) {
    return q.x * q.x + q.y * q.y + q.z * q.z + q.w * q.w;
  }
  Quaternion3.lengthSquared = lengthSquared;
  function dot(left, right) {
    return left.x * right.x + left.y * right.y + left.z * right.z + left.w * right.w;
  }
  Quaternion3.dot = dot;
  function angle(quat1, quat2) {
    const dotVal = dot(quat1, quat2);
    return Math.acos(Math.min(Math.abs(dotVal), 1)) * 2 * RAD2DEG;
  }
  Quaternion3.angle = angle;
  function rotateTowards(from, to, maxDegreesDelta) {
    const num = angle(from, to);
    if (num === 0) {
      return to;
    }
    const t = Math.min(1, maxDegreesDelta / num);
    return slerp(from, to, t);
  }
  Quaternion3.rotateTowards = rotateTowards;
  function lookRotation(forward, up = { x: 0, y: 1, z: 0 }) {
    const forwardNew = Vector32.normalize(forward);
    const right = Vector32.normalize(Vector32.cross(up, forwardNew));
    const upNew = Vector32.cross(forwardNew, right);
    const m00 = right.x;
    const m01 = right.y;
    const m02 = right.z;
    const m10 = upNew.x;
    const m11 = upNew.y;
    const m12 = upNew.z;
    const m20 = forwardNew.x;
    const m21 = forwardNew.y;
    const m22 = forwardNew.z;
    const num8 = m00 + m11 + m22;
    const quaternion = create();
    if (num8 > 0) {
      let num = Math.sqrt(num8 + 1);
      quaternion.w = num * 0.5;
      num = 0.5 / num;
      quaternion.x = (m12 - m21) * num;
      quaternion.y = (m20 - m02) * num;
      quaternion.z = (m01 - m10) * num;
      return quaternion;
    }
    if (m00 >= m11 && m00 >= m22) {
      const num7 = Math.sqrt(1 + m00 - m11 - m22);
      const num4 = 0.5 / num7;
      quaternion.x = 0.5 * num7;
      quaternion.y = (m01 + m10) * num4;
      quaternion.z = (m02 + m20) * num4;
      quaternion.w = (m12 - m21) * num4;
      return quaternion;
    }
    if (m11 > m22) {
      const num6 = Math.sqrt(1 + m11 - m00 - m22);
      const num3 = 0.5 / num6;
      quaternion.x = (m10 + m01) * num3;
      quaternion.y = 0.5 * num6;
      quaternion.z = (m21 + m12) * num3;
      quaternion.w = (m20 - m02) * num3;
      return quaternion;
    }
    const num5 = Math.sqrt(1 + m22 - m00 - m11);
    const num2 = 0.5 / num5;
    quaternion.x = (m20 + m02) * num2;
    quaternion.y = (m21 + m12) * num2;
    quaternion.z = 0.5 * num5;
    quaternion.w = (m01 - m10) * num2;
    return quaternion;
  }
  Quaternion3.lookRotation = lookRotation;
  function normalize(q) {
    const qLength = 1 / length2(q);
    return create(q.x * qLength, q.y * qLength, q.z * qLength, q.w * qLength);
  }
  Quaternion3.normalize = normalize;
  function fromToRotation(from, to, up = Vector32.Up()) {
    const v0 = Vector32.normalize(from);
    const v1 = Vector32.normalize(to);
    const a = Vector32.cross(v0, v1);
    const w =
      Math.sqrt(Vector32.lengthSquared(v0) * Vector32.lengthSquared(v1)) + Vector32.dot(v0, v1);
    if (Vector32.lengthSquared(a) < 1e-4) {
      return Math.abs(w) < 1e-4 ? normalize(create(up.x, up.y, up.z, 0)) : Identity();
    } else {
      return normalize(create(a.x, a.y, a.z, w));
    }
  }
  Quaternion3.fromToRotation = fromToRotation;
  function Identity() {
    return create(0, 0, 0, 1);
  }
  Quaternion3.Identity = Identity;
  function toEulerAngles(q) {
    const out = Vector32.create();
    const unit = q.x * q.x + q.y * q.y + q.z * q.z + q.w * q.w;
    const test = q.x * q.w - q.y * q.z;
    if (test > 0.4995 * unit) {
      out.x = Math.PI / 2;
      out.y = 2 * Math.atan2(q.y, q.x);
      out.z = 0;
    } else if (test < -0.4995 * unit) {
      out.x = -Math.PI / 2;
      out.y = -2 * Math.atan2(q.y, q.x);
      out.z = 0;
    } else {
      out.x = Math.asin(2 * (q.w * q.x - q.y * q.z));
      out.y = Math.atan2(2 * q.w * q.y + 2 * q.z * q.x, 1 - 2 * (q.x * q.x + q.y * q.y));
      out.z = Math.atan2(2 * q.w * q.z + 2 * q.x * q.y, 1 - 2 * (q.z * q.z + q.x * q.x));
    }
    out.x *= RAD2DEG;
    out.y *= RAD2DEG;
    out.z *= RAD2DEG;
    out.x = Scalar.repeat(out.x, 360);
    out.y = Scalar.repeat(out.y, 360);
    out.z = Scalar.repeat(out.z, 360);
    return out;
  }
  Quaternion3.toEulerAngles = toEulerAngles;
  function fromRotationYawPitchRollToRef(yaw, pitch, roll, result) {
    const halfPitch = pitch * 0.5;
    const halfYaw = yaw * 0.5;
    const halfRoll = roll * 0.5;
    const c1 = Math.cos(halfPitch);
    const c2 = Math.cos(halfYaw);
    const c3 = Math.cos(halfRoll);
    const s1 = Math.sin(halfPitch);
    const s2 = Math.sin(halfYaw);
    const s3 = Math.sin(halfRoll);
    result.x = c2 * s1 * c3 + s2 * c1 * s3;
    result.y = s2 * c1 * c3 - c2 * s1 * s3;
    result.z = c2 * c1 * s3 - s2 * s1 * c3;
    result.w = c2 * c1 * c3 + s2 * s1 * s3;
  }
  Quaternion3.fromRotationYawPitchRollToRef = fromRotationYawPitchRollToRef;
  function fromRotationMatrixToRef(matrix, result) {
    const data = matrix._m;
    const m11 = data[0],
      m12 = data[4],
      m13 = data[8];
    const m21 = data[1],
      m22 = data[5],
      m23 = data[9];
    const m31 = data[2],
      m32 = data[6],
      m33 = data[10];
    const trace = m11 + m22 + m33;
    let s;
    if (trace > 0) {
      s = 0.5 / Math.sqrt(trace + 1);
      result.w = 0.25 / s;
      result.x = (m32 - m23) * s;
      result.y = (m13 - m31) * s;
      result.z = (m21 - m12) * s;
    } else if (m11 > m22 && m11 > m33) {
      s = 2 * Math.sqrt(1 + m11 - m22 - m33);
      result.w = (m32 - m23) / s;
      result.x = 0.25 * s;
      result.y = (m12 + m21) / s;
      result.z = (m13 + m31) / s;
    } else if (m22 > m33) {
      s = 2 * Math.sqrt(1 + m22 - m11 - m33);
      result.w = (m13 - m31) / s;
      result.x = (m12 + m21) / s;
      result.y = 0.25 * s;
      result.z = (m23 + m32) / s;
    } else {
      s = 2 * Math.sqrt(1 + m33 - m11 - m22);
      result.w = (m21 - m12) / s;
      result.x = (m13 + m31) / s;
      result.y = (m23 + m32) / s;
      result.z = 0.25 * s;
    }
  }
  Quaternion3.fromRotationMatrixToRef = fromRotationMatrixToRef;
  function slerp(left, right, amount) {
    const result = Quaternion3.Identity();
    Quaternion3.slerpToRef(left, right, amount, result);
    return result;
  }
  Quaternion3.slerp = slerp;
  function slerpToRef(left, right, amount, result) {
    let num2;
    let num3;
    let num4 = left.x * right.x + left.y * right.y + left.z * right.z + left.w * right.w;
    let flag = false;
    if (num4 < 0) {
      flag = true;
      num4 = -num4;
    }
    if (num4 > 0.999999) {
      num3 = 1 - amount;
      num2 = flag ? -amount : amount;
    } else {
      const num5 = Math.acos(num4);
      const num6 = 1 / Math.sin(num5);
      num3 = Math.sin((1 - amount) * num5) * num6;
      num2 = flag ? -Math.sin(amount * num5) * num6 : Math.sin(amount * num5) * num6;
    }
    result.x = num3 * left.x + num2 * right.x;
    result.y = num3 * left.y + num2 * right.y;
    result.z = num3 * left.z + num2 * right.z;
    result.w = num3 * left.w + num2 * right.w;
  }
  Quaternion3.slerpToRef = slerpToRef;
  function multiply2(self2, q1) {
    const result = create(0, 0, 0, 1);
    multiplyToRef(self2, q1, result);
    return result;
  }
  Quaternion3.multiply = multiply2;
  function multiplyToRef(self2, q1, result) {
    result.x = self2.x * q1.w + self2.y * q1.z - self2.z * q1.y + self2.w * q1.x;
    result.y = -self2.x * q1.z + self2.y * q1.w + self2.z * q1.x + self2.w * q1.y;
    result.z = self2.x * q1.y - self2.y * q1.x + self2.z * q1.w + self2.w * q1.z;
    result.w = -self2.x * q1.x - self2.y * q1.y - self2.z * q1.z + self2.w * q1.w;
  }
  Quaternion3.multiplyToRef = multiplyToRef;
  function fromAngleAxis(degrees, axis) {
    if (Vector32.lengthSquared(axis) === 0) {
      return Quaternion3.Identity();
    }
    const result = Identity();
    let radians = degrees * DEG2RAD;
    radians *= 0.5;
    const a2 = Vector32.normalize(axis);
    Vector32.scaleToRef(a2, Math.sin(radians), a2);
    result.x = a2.x;
    result.y = a2.y;
    result.z = a2.z;
    result.w = Math.cos(radians);
    return normalize(result);
  }
  Quaternion3.fromAngleAxis = fromAngleAxis;
  function fromAxisToRotationQuaternion(axis1, axis2, axis3) {
    const quat = Quaternion3.create(0, 0, 0, 0);
    fromAxisToRotationQuaternionToRef(axis1, axis2, axis3, quat);
    return quat;
  }
  Quaternion3.fromAxisToRotationQuaternion = fromAxisToRotationQuaternion;
  function fromAxisToRotationQuaternionToRef(axis1, axis2, axis3, ref) {
    const rotMat = Matrix.create();
    Matrix.fromXYZAxesToRef(
      Vector32.normalize(axis1),
      Vector32.normalize(axis2),
      Vector32.normalize(axis3),
      rotMat
    );
    Quaternion3.fromRotationMatrixToRef(rotMat, ref);
  }
  Quaternion3.fromAxisToRotationQuaternionToRef = fromAxisToRotationQuaternionToRef;
  function Zero() {
    return create(0, 0, 0, 0);
  }
  Quaternion3.Zero = Zero;
  function fromLookAt(position, target, worldUp = Vector32.Up()) {
    const result = Quaternion3.Identity();
    fromLookAtToRef(position, target, worldUp, result);
    return result;
  }
  Quaternion3.fromLookAt = fromLookAt;
  function fromLookAtToRef(position, target, worldUp = Vector32.Up(), result) {
    const m = Matrix.Identity();
    Matrix.lookAtLHToRef(position, target, worldUp, m);
    Matrix.invertToRef(m, m);
    Quaternion3.fromRotationMatrixToRef(m, result);
  }
  Quaternion3.fromLookAtToRef = fromLookAtToRef;
})(Quaternion2 || (Quaternion2 = {}));

// ../../node_modules/.pnpm/@dcl+ecs-math@2.1.0/node_modules/@dcl/ecs-math/dist/Vector2.js
var Vector22;
(function (Vector23) {
  function create(x = 0, y = 0) {
    return { x, y };
  }
  Vector23.create = create;
  function Zero() {
    return create(0, 0);
  }
  Vector23.Zero = Zero;
  function One() {
    return create(1, 1);
  }
  Vector23.One = One;
})(Vector22 || (Vector22 = {}));

// ../../node_modules/.pnpm/@dcl+ecs-math@2.1.0/node_modules/@dcl/ecs-math/dist/Color4.js
var Color42;
(function (Color43) {
  function create(r = 0, g = 0, b = 0, a = 1) {
    return { r, g, b, a };
  }
  Color43.create = create;
  function fromHexString(hex) {
    if (hex.substring(0, 1) !== '#' || (hex.length !== 7 && hex.length !== 9)) {
      return create(0, 0, 0, 1);
    }
    const r = parseInt(hex.substring(1, 3), 16);
    const g = parseInt(hex.substring(3, 5), 16);
    const b = parseInt(hex.substring(5, 7), 16);
    const aStr = hex.substring(7, 9);
    const a = aStr ? parseInt(aStr, 16) : 255;
    return Color43.fromInts(r, g, b, a);
  }
  Color43.fromHexString = fromHexString;
  function lerp(left, right, amount) {
    const result = create(0, 0, 0, 0);
    Color43.lerpToRef(left, right, amount, result);
    return result;
  }
  Color43.lerp = lerp;
  function lerpToRef(left, right, amount, result) {
    result.r = left.r + (right.r - left.r) * amount;
    result.g = left.g + (right.g - left.g) * amount;
    result.b = left.b + (right.b - left.b) * amount;
    result.a = left.a + (right.a - left.a) * amount;
  }
  Color43.lerpToRef = lerpToRef;
  function Red() {
    return create(1, 0, 0, 1);
  }
  Color43.Red = Red;
  function Green() {
    return create(0, 1, 0, 1);
  }
  Color43.Green = Green;
  function Blue() {
    return create(0, 0, 1, 1);
  }
  Color43.Blue = Blue;
  function Black() {
    return create(0, 0, 0, 1);
  }
  Color43.Black = Black;
  function White() {
    return create(1, 1, 1, 1);
  }
  Color43.White = White;
  function Purple() {
    return create(0.5, 0, 0.5, 1);
  }
  Color43.Purple = Purple;
  function Magenta() {
    return create(1, 0, 1, 1);
  }
  Color43.Magenta = Magenta;
  function Yellow() {
    return create(1, 1, 0, 1);
  }
  Color43.Yellow = Yellow;
  function Gray() {
    return create(0.5, 0.5, 0.5, 1);
  }
  Color43.Gray = Gray;
  function Teal() {
    return create(0, 1, 1, 1);
  }
  Color43.Teal = Teal;
  function Clear() {
    return create(0, 0, 0, 0);
  }
  Color43.Clear = Clear;
  function fromColor3(color3, alpha = 1) {
    return create(color3.r, color3.g, color3.b, alpha);
  }
  Color43.fromColor3 = fromColor3;
  function fromArray(array, offset = 0) {
    return create(array[offset], array[offset + 1], array[offset + 2], array[offset + 3]);
  }
  Color43.fromArray = fromArray;
  function fromInts(r, g, b, a) {
    return create(r / 255, g / 255, b / 255, a / 255);
  }
  Color43.fromInts = fromInts;
  function checkColors4(colors, count) {
    if (colors.length === count * 3) {
      const colors4 = [];
      for (let index = 0; index < colors.length; index += 3) {
        const newIndex = (index / 3) * 4;
        colors4[newIndex] = colors[index];
        colors4[newIndex + 1] = colors[index + 1];
        colors4[newIndex + 2] = colors[index + 2];
        colors4[newIndex + 3] = 1;
      }
      return colors4;
    }
    return colors;
  }
  Color43.checkColors4 = checkColors4;
  function addToRef(a, b, ref) {
    ref.r = a.r + b.r;
    ref.g = a.g + b.g;
    ref.b = a.b + b.b;
    ref.a = a.a + b.a;
  }
  Color43.addToRef = addToRef;
  function toArray(value, array, index = 0) {
    array[index] = value.r;
    array[index + 1] = value.g;
    array[index + 2] = value.b;
    array[index + 3] = value.a;
  }
  Color43.toArray = toArray;
  function add2(value, right) {
    const ret = Clear();
    addToRef(value, right, ret);
    return ret;
  }
  Color43.add = add2;
  function subtract2(value, right) {
    const ret = Clear();
    subtractToRef(value, right, ret);
    return ret;
  }
  Color43.subtract = subtract2;
  function subtractToRef(a, b, result) {
    result.r = a.r - b.r;
    result.g = a.g - b.g;
    result.b = a.b - b.b;
    result.a = a.a - b.a;
  }
  Color43.subtractToRef = subtractToRef;
  function scale(value, scale2) {
    return create(value.r * scale2, value.g * scale2, value.b * scale2, value.a * scale2);
  }
  Color43.scale = scale;
  function scaleToRef(value, scale2, result) {
    result.r = value.r * scale2;
    result.g = value.g * scale2;
    result.b = value.b * scale2;
    result.a = value.a * scale2;
  }
  Color43.scaleToRef = scaleToRef;
  function scaleAndAddToRef(value, scale2, result) {
    result.r += value.r * scale2;
    result.g += value.g * scale2;
    result.b += value.b * scale2;
    result.a += value.a * scale2;
  }
  Color43.scaleAndAddToRef = scaleAndAddToRef;
  function clampToRef(value, min = 0, max = 1, result) {
    result.r = Scalar.clamp(value.r, min, max);
    result.g = Scalar.clamp(value.g, min, max);
    result.b = Scalar.clamp(value.b, min, max);
    result.a = Scalar.clamp(value.a, min, max);
  }
  Color43.clampToRef = clampToRef;
  function multiply2(value, color) {
    return create(value.r * color.r, value.g * color.g, value.b * color.b, value.a * color.a);
  }
  Color43.multiply = multiply2;
  function multiplyToRef(value, color, result) {
    result.r = value.r * color.r;
    result.g = value.g * color.g;
    result.b = value.b * color.b;
    result.a = value.a * color.a;
  }
  Color43.multiplyToRef = multiplyToRef;
  function toString2(value) {
    return '{R: ' + value.r + ' G:' + value.g + ' B:' + value.b + ' A:' + value.a + '}';
  }
  Color43.toString = toString2;
  function getHashCode(value) {
    let hash = value.r || 0;
    hash = (hash * 397) ^ (value.g || 0);
    hash = (hash * 397) ^ (value.b || 0);
    hash = (hash * 397) ^ (value.a || 0);
    return hash;
  }
  Color43.getHashCode = getHashCode;
  function clone(value) {
    return create(value.r, value.g, value.b, value.a);
  }
  Color43.clone = clone;
  function copyFrom(source, dest) {
    dest.r = source.r;
    dest.g = source.g;
    dest.b = source.b;
    dest.a = source.a;
  }
  Color43.copyFrom = copyFrom;
  function copyFromFloats(r, g, b, a, dest) {
    dest.r = r;
    dest.g = g;
    dest.b = b;
    dest.a = a;
  }
  Color43.copyFromFloats = copyFromFloats;
  function set(r, g, b, a, dest) {
    dest.r = r;
    dest.g = g;
    dest.b = b;
    dest.a = a;
  }
  Color43.set = set;
  function toHexString(value) {
    const intR = (value.r * 255) | 0;
    const intG = (value.g * 255) | 0;
    const intB = (value.b * 255) | 0;
    const intA = (value.a * 255) | 0;
    return '#' + Scalar.toHex(intR) + Scalar.toHex(intG) + Scalar.toHex(intB) + Scalar.toHex(intA);
  }
  Color43.toHexString = toHexString;
  function toLinearSpace(value) {
    const convertedColor = create();
    toLinearSpaceToRef(value, convertedColor);
    return convertedColor;
  }
  Color43.toLinearSpace = toLinearSpace;
  function toLinearSpaceToRef(value, ref) {
    ref.r = Math.pow(value.r, ToLinearSpace);
    ref.g = Math.pow(value.g, ToLinearSpace);
    ref.b = Math.pow(value.b, ToLinearSpace);
    ref.a = value.a;
  }
  Color43.toLinearSpaceToRef = toLinearSpaceToRef;
  function toGammaSpace(value) {
    const convertedColor = create();
    toGammaSpaceToRef(value, convertedColor);
    return convertedColor;
  }
  Color43.toGammaSpace = toGammaSpace;
  function toGammaSpaceToRef(value, convertedColor) {
    convertedColor.r = Math.pow(value.r, ToGammaSpace);
    convertedColor.g = Math.pow(value.g, ToGammaSpace);
    convertedColor.b = Math.pow(value.b, ToGammaSpace);
    convertedColor.a = value.a;
  }
  Color43.toGammaSpaceToRef = toGammaSpaceToRef;
})(Color42 || (Color42 = {}));

// ../../node_modules/.pnpm/@dcl+ecs-math@2.1.0/node_modules/@dcl/ecs-math/dist/Color3.js
var Color32;
(function (Color33) {
  function create(r = 0, g = 0, b = 0) {
    return { r, g, b };
  }
  Color33.create = create;
  function fromHexString(hex) {
    if (hex.substring(0, 1) !== '#' || hex.length !== 7) {
      return create(0, 0, 0);
    }
    const r = parseInt(hex.substring(1, 3), 16);
    const g = parseInt(hex.substring(3, 5), 16);
    const b = parseInt(hex.substring(5, 7), 16);
    return fromInts(r, g, b);
  }
  Color33.fromHexString = fromHexString;
  function fromArray(array, offset = 0) {
    return create(array[offset], array[offset + 1], array[offset + 2]);
  }
  Color33.fromArray = fromArray;
  function fromInts(r, g, b) {
    return create(r / 255, g / 255, b / 255);
  }
  Color33.fromInts = fromInts;
  function lerp(start, end, amount) {
    const result = create(0, 0, 0);
    Color33.lerpToRef(start, end, amount, result);
    return result;
  }
  Color33.lerp = lerp;
  function lerpToRef(left, right, amount, result) {
    result.r = left.r + (right.r - left.r) * amount;
    result.g = left.g + (right.g - left.g) * amount;
    result.b = left.b + (right.b - left.b) * amount;
  }
  Color33.lerpToRef = lerpToRef;
  function Red() {
    return create(1, 0, 0);
  }
  Color33.Red = Red;
  function Green() {
    return create(0, 1, 0);
  }
  Color33.Green = Green;
  function Blue() {
    return create(0, 0, 1);
  }
  Color33.Blue = Blue;
  function Black() {
    return create(0, 0, 0);
  }
  Color33.Black = Black;
  function White() {
    return create(1, 1, 1);
  }
  Color33.White = White;
  function Purple() {
    return create(0.5, 0, 0.5);
  }
  Color33.Purple = Purple;
  function Magenta() {
    return create(1, 0, 1);
  }
  Color33.Magenta = Magenta;
  function Yellow() {
    return create(1, 1, 0);
  }
  Color33.Yellow = Yellow;
  function Gray() {
    return create(0.5, 0.5, 0.5);
  }
  Color33.Gray = Gray;
  function Teal() {
    return create(0, 1, 1);
  }
  Color33.Teal = Teal;
  function Random() {
    return create(Math.random(), Math.random(), Math.random());
  }
  Color33.Random = Random;
  function toString2(value) {
    return '{R: ' + value.r + ' G:' + value.g + ' B:' + value.b + '}';
  }
  Color33.toString = toString2;
  function getHashCode(value) {
    let hash = value.r || 0;
    hash = (hash * 397) ^ (value.g || 0);
    hash = (hash * 397) ^ (value.b || 0);
    return hash;
  }
  Color33.getHashCode = getHashCode;
  function toArray(value, array, index = 0) {
    array[index] = value.r;
    array[index + 1] = value.g;
    array[index + 2] = value.b;
  }
  Color33.toArray = toArray;
  function toColor4(value, alpha = 1) {
    return Color42.create(value.r, value.g, value.b, alpha);
  }
  Color33.toColor4 = toColor4;
  function asArray(value) {
    const result = new Array();
    toArray(value, result, 0);
    return result;
  }
  Color33.asArray = asArray;
  function toLuminance(value) {
    return value.r * 0.3 + value.g * 0.59 + value.b * 0.11;
  }
  Color33.toLuminance = toLuminance;
  function multiply2(value, otherColor) {
    return create(value.r * otherColor.r, value.g * otherColor.g, value.b * otherColor.b);
  }
  Color33.multiply = multiply2;
  function multiplyToRef(value, otherColor, result) {
    result.r = value.r * otherColor.r;
    result.g = value.g * otherColor.g;
    result.b = value.b * otherColor.b;
  }
  Color33.multiplyToRef = multiplyToRef;
  function equals2(value, otherColor) {
    return (
      otherColor && value.r === otherColor.r && value.g === otherColor.g && value.b === otherColor.b
    );
  }
  Color33.equals = equals2;
  function equalsFloats(value, r, g, b) {
    return value.r === r && value.g === g && value.b === b;
  }
  Color33.equalsFloats = equalsFloats;
  function scale(value, scale2) {
    return create(value.r * scale2, value.g * scale2, value.b * scale2);
  }
  Color33.scale = scale;
  function scaleToRef(value, scale2, result) {
    result.r = value.r * scale2;
    result.g = value.g * scale2;
    result.b = value.b * scale2;
  }
  Color33.scaleToRef = scaleToRef;
  function scaleAndAddToRef(value, scale2, result) {
    result.r += value.r * scale2;
    result.g += value.g * scale2;
    result.b += value.b * scale2;
  }
  Color33.scaleAndAddToRef = scaleAndAddToRef;
  function clampToRef(value, min = 0, max = 1, result) {
    result.r = Scalar.clamp(value.r, min, max);
    result.g = Scalar.clamp(value.g, min, max);
    result.b = Scalar.clamp(value.b, min, max);
  }
  Color33.clampToRef = clampToRef;
  function clamp(value, min = 0, max = 1) {
    const result = Color33.Black();
    clampToRef(value, min, max, result);
    return result;
  }
  Color33.clamp = clamp;
  function add2(value, otherColor) {
    return create(value.r + otherColor.r, value.g + otherColor.g, value.b + otherColor.b);
  }
  Color33.add = add2;
  function addToRef(value, otherColor, result) {
    result.r = value.r + otherColor.r;
    result.g = value.g + otherColor.g;
    result.b = value.b + otherColor.b;
  }
  Color33.addToRef = addToRef;
  function subtract2(value, otherColor) {
    return create(value.r - otherColor.r, value.g - otherColor.g, value.b - otherColor.b);
  }
  Color33.subtract = subtract2;
  function subtractToRef(value, otherColor, result) {
    result.r = value.r - otherColor.r;
    result.g = value.g - otherColor.g;
    result.b = value.b - otherColor.b;
  }
  Color33.subtractToRef = subtractToRef;
  function clone(value) {
    return create(value.r, value.g, value.b);
  }
  Color33.clone = clone;
  function copyFrom(source, dest) {
    dest.r = source.r;
    dest.g = source.g;
    dest.b = source.b;
  }
  Color33.copyFrom = copyFrom;
  function set(dest, r, g, b) {
    dest.r = r;
    dest.g = g;
    dest.b = b;
  }
  Color33.set = set;
  function toHexString(value) {
    const intR = (value.r * 255) | 0;
    const intG = (value.g * 255) | 0;
    const intB = (value.b * 255) | 0;
    return '#' + Scalar.toHex(intR) + Scalar.toHex(intG) + Scalar.toHex(intB);
  }
  Color33.toHexString = toHexString;
  function toLinearSpace(value) {
    const convertedColor = create();
    toLinearSpaceToRef(value, convertedColor);
    return convertedColor;
  }
  Color33.toLinearSpace = toLinearSpace;
  function toLinearSpaceToRef(value, convertedColor) {
    convertedColor.r = Math.pow(value.r, ToLinearSpace);
    convertedColor.g = Math.pow(value.g, ToLinearSpace);
    convertedColor.b = Math.pow(value.b, ToLinearSpace);
  }
  Color33.toLinearSpaceToRef = toLinearSpaceToRef;
  function toGammaSpace(value) {
    const convertedColor = create();
    toGammaSpaceToRef(value, convertedColor);
    return convertedColor;
  }
  Color33.toGammaSpace = toGammaSpace;
  function toGammaSpaceToRef(value, convertedColor) {
    convertedColor.r = Math.pow(value.r, ToGammaSpace);
    convertedColor.g = Math.pow(value.g, ToGammaSpace);
    convertedColor.b = Math.pow(value.b, ToGammaSpace);
  }
  Color33.toGammaSpaceToRef = toGammaSpaceToRef;
})(Color32 || (Color32 = {}));

// src/utils/timers.ts
var timers = /* @__PURE__ */ new Map();
var timerIdCounter = 0;
engine.addSystem(dt => {
  for (const [id, timer] of timers.entries()) {
    timer.time -= dt;
    if (timer.time <= 0) {
      timer.callback();
      if (timer.loop) {
        timer.time = timer.originalTime;
      } else {
        timers.delete(id);
      }
    }
  }
});
function setTimeout2(callback, ms) {
  const id = ++timerIdCounter;
  timers.set(id, {
    callback,
    time: ms / 1e3,
    loop: false,
    originalTime: ms / 1e3,
  });
  return id;
}
function setInterval2(callback, ms) {
  const id = ++timerIdCounter;
  timers.set(id, {
    callback,
    time: ms / 1e3,
    loop: true,
    originalTime: ms / 1e3,
  });
  return id;
}
function clearInterval(id) {
  if (id !== void 0) {
    timers.delete(id);
  }
}

// src/advanced-lighting.ts
var AdvancedLightingSystem = class {
  constructor() {
    this.lights = /* @__PURE__ */ new Map();
    this.timeOfDay = 0;
    this.shadowCasters = [];
    this.volumetricLights = [];
  }
  // Initialize advanced lighting
  initialize() {
    console.log('\u{1F4A1} Advanced Lighting System Initializing...');
    this.createGlobalIllumination();
    this.createDynamicShadows();
    this.createVolumetricLighting();
    this.createHDRSystem();
    this.startDayNightCycle();
    console.log('\u{1F4A1} Advanced Lighting System Ready!');
  }
  // Create global illumination system
  createGlobalIllumination() {
    const sunLight = engine.addEntity();
    Transform2.create(sunLight, {
      position: Vector32.create(8, 20, 8),
      scale: Vector32.create(2, 2, 2),
    });
    MeshRenderer3.setBox(sunLight);
    Material3.setPbrMaterial(sunLight, {
      albedoColor: Color42.create(1, 0.95, 0.8, 0.8),
      emissiveColor: Color42.create(1, 0.95, 0.8, 1),
      emissiveIntensity: 2,
    });
    this.lights.set('sun', sunLight);
    const ambientLight = engine.addEntity();
    Transform2.create(ambientLight, {
      position: Vector32.create(8, 15, 8),
      scale: Vector32.create(30, 30, 30),
    });
    MeshRenderer3.setSphere(ambientLight);
    Material3.setPbrMaterial(ambientLight, {
      albedoColor: Color42.create(0.4, 0.45, 0.5, 0.1),
      emissiveColor: Color42.create(0.4, 0.45, 0.5, 0.3),
      emissiveIntensity: 0.5,
    });
    this.lights.set('ambient', ambientLight);
  }
  // Create dynamic shadow system
  createDynamicShadows() {
    const shadowCasterPositions = [
      { pos: Vector32.create(8, 0, 8), scale: Vector32.create(16, 0.1, 16) },
      // Floor
      { pos: Vector32.create(8, 3, 15.9), scale: Vector32.create(16, 6, 0.2) },
      // Back wall
      { pos: Vector32.create(2, 3, 0.5), scale: Vector32.create(1.2, 6, 1.2) },
      // Pillar 1
      { pos: Vector32.create(14, 3, 0.5), scale: Vector32.create(1.2, 6, 1.2) },
      // Pillar 2
    ];
    shadowCasterPositions.forEach((config, index) => {
      const shadowCaster = engine.addEntity();
      Transform2.create(shadowCaster, {
        position: config.pos,
        scale: config.scale,
      });
      MeshRenderer3.setBox(shadowCaster);
      Material3.setPbrMaterial(shadowCaster, {
        alphaTest: 0.01,
        castShadows: true,
        receiveShadows: true,
      });
      this.shadowCasters.push(shadowCaster);
    });
  }
  // Create volumetric lighting effects
  createVolumetricLighting() {
    const beamPositions = [
      Vector32.create(2, 6, 2),
      Vector32.create(14, 6, 2),
      Vector32.create(8, 6, 8),
      Vector32.create(2, 6, 14),
      Vector32.create(14, 6, 14),
    ];
    beamPositions.forEach((pos, index) => {
      const volumetricLight = engine.addEntity();
      Transform2.create(volumetricLight, {
        position: pos,
        scale: Vector32.create(0.3, 8, 0.3),
      });
      MeshRenderer3.setBox(volumetricLight);
      Material3.setPbrMaterial(volumetricLight, {
        albedoColor: Color42.create(0.8, 0.9, 1, 0.3),
        emissiveColor: Color42.create(0.6, 0.7, 1, 0.8),
        emissiveIntensity: 5,
        alphaTest: 0.01,
      });
      this.volumetricLights.push(volumetricLight);
    });
  }
  // Create HDR tone mapping system
  createHDRSystem() {
    const exposureZones = [
      { pos: Vector32.create(8, 2, 8), intensity: 1, color: Color32.create(1, 1, 1) },
      // Center
      { pos: Vector32.create(2, 2, 2), intensity: 0.8, color: Color32.create(0.8, 0.9, 1) },
      // Corner 1
      { pos: Vector32.create(14, 2, 2), intensity: 0.8, color: Color32.create(0.8, 0.9, 1) },
      // Corner 2
      { pos: Vector32.create(2, 2, 14), intensity: 0.8, color: Color32.create(0.8, 0.9, 1) },
      // Corner 3
      { pos: Vector32.create(14, 2, 14), intensity: 0.8, color: Color32.create(0.8, 0.9, 1) },
      // Corner 4
    ];
    exposureZones.forEach((zone, index) => {
      const exposureLight = engine.addEntity();
      Transform2.create(exposureLight, {
        position: zone.pos,
        scale: Vector32.create(4, 4, 4),
      });
      MeshRenderer3.setSphere(exposureLight);
      Material3.setPbrMaterial(exposureLight, {
        albedoColor: Color42.create(zone.color.r, zone.color.g, zone.color.b, 0.2),
        emissiveColor: Color42.create(zone.color.r, zone.color.g, zone.color.b, 0.6),
        emissiveIntensity: zone.intensity,
      });
      this.lights.set(`exposure_${index}`, exposureLight);
    });
  }
  // Start day/night cycle
  startDayNightCycle() {
    engine.addSystem(() => {
      this.timeOfDay += 1e-3;
      this.updateDayNightCycle();
      this.updateVolumetricLights();
    });
  }
  // Update day/night cycle lighting
  updateDayNightCycle() {
    const sunLight = this.lights.get('sun');
    const ambientLight = this.lights.get('ambient');
    if (sunLight && ambientLight) {
      const sunAngle = this.timeOfDay * Math.PI * 2;
      const sunHeight = Math.sin(sunAngle);
      const sunIntensity = Math.max(0, sunHeight);
      const sunTransform = Transform2.getMutable(sunLight);
      sunTransform.rotation = Quaternion2.fromEulerDegrees((sunAngle * 180) / Math.PI - 90, 0, 0);
      const sunMaterial = Material3.getMutable(sunLight);
      if (sunMaterial && sunMaterial.$case === 'pbr') {
        sunMaterial.pbr.emissiveIntensity = sunIntensity * 2;
        if (sunIntensity > 0.5) {
          sunMaterial.pbr.albedoColor = Color42.create(1, 0.95, 0.8, 0.8);
          sunMaterial.pbr.emissiveColor = Color42.create(1, 0.95, 0.8, 1);
        } else if (sunIntensity > 0.1) {
          sunMaterial.pbr.albedoColor = Color42.create(1, 0.7, 0.4, 0.8);
          sunMaterial.pbr.emissiveColor = Color42.create(1, 0.7, 0.4, 1);
        } else {
          sunMaterial.pbr.albedoColor = Color42.create(0.2, 0.3, 0.6, 0.8);
          sunMaterial.pbr.emissiveColor = Color42.create(0.2, 0.3, 0.6, 1);
        }
      }
      const ambientMaterial = Material3.getMutable(ambientLight);
      if (ambientMaterial && ambientMaterial.$case === 'pbr') {
        ambientMaterial.pbr.emissiveIntensity = 0.3 + sunIntensity * 0.2;
        if (sunIntensity < 0.1) {
          ambientMaterial.pbr.albedoColor = Color42.create(0.1, 0.15, 0.3, 0.1);
          ambientMaterial.pbr.emissiveColor = Color42.create(0.1, 0.15, 0.3, 0.3);
        } else {
          ambientMaterial.pbr.albedoColor = Color42.create(0.4, 0.45, 0.5, 0.1);
          ambientMaterial.pbr.emissiveColor = Color42.create(0.4, 0.45, 0.5, 0.3);
        }
      }
    }
  }
  // Update volumetric lights with pulsing effect
  updateVolumetricLights() {
    this.volumetricLights.forEach((light, index) => {
      const time = this.timeOfDay * 2 + index * 0.5;
      const pulse = Math.sin(time) * 0.3 + 0.7;
      const material = Material3.getMutable(light);
      if (material && material.$case === 'pbr') {
        material.pbr.emissiveIntensity = pulse * 5;
      }
    });
  }
  // Create dynamic spotlight for events
  createEventSpotlight(position, color = Color32.create(1, 1, 1)) {
    const spotlight = engine.addEntity();
    Transform2.create(spotlight, {
      position: Vector32.create(position.x, position.y + 5, position.z),
      rotation: Quaternion2.fromEulerDegrees(90, 0, 0),
      scale: Vector32.create(2, 8, 2),
    });
    MeshRenderer3.setCylinder(spotlight);
    Material3.setPbrMaterial(spotlight, {
      albedoColor: Color42.create(color.r, color.g, color.b, 0.3),
      emissiveColor: Color42.create(color.r, color.g, color.b, 0.8),
      emissiveIntensity: 3,
    });
    setTimeout(() => {
      engine.removeEntity(spotlight);
    }, 5e3);
    return spotlight;
  }
  // Create emergency lighting
  createEmergencyLighting() {
    const emergencyPositions = [
      Vector32.create(1, 4, 1),
      Vector32.create(15, 4, 1),
      Vector32.create(1, 4, 15),
      Vector32.create(15, 4, 15),
    ];
    emergencyPositions.forEach(pos => {
      const emergencyLight = engine.addEntity();
      Transform2.create(emergencyLight, {
        position: pos,
        scale: Vector32.create(1, 1, 1),
      });
      MeshRenderer3.setBox(emergencyLight);
      Material3.setPbrMaterial(emergencyLight, {
        albedoColor: Color42.create(1, 0.2, 0.2, 0.8),
        emissiveColor: Color42.create(1, 0.2, 0.2, 1),
        emissiveIntensity: 4,
      });
      engine.addSystem(() => {
        const time = Date.now() / 200;
        const pulse = Math.sin(time) > 0 ? 1 : 0.2;
        const material = Material3.getMutable(emergencyLight);
        if (material && material.$case === 'pbr') {
          material.pbr.emissiveIntensity = pulse * 4;
        }
      });
    });
  }
  // Cleanup lighting system
  cleanup() {
    this.lights.forEach(light => {
      engine.removeEntity(light);
    });
    this.shadowCasters.forEach(caster => {
      engine.removeEntity(caster);
    });
    this.volumetricLights.forEach(light => {
      engine.removeEntity(light);
    });
    this.lights.clear();
    this.shadowCasters = [];
    this.volumetricLights = [];
  }
};
var lightingSystem = new AdvancedLightingSystem();

// src/enhanced-sound.ts
var SoundSystem = class {
  constructor() {
    this.audioSources = /* @__PURE__ */ new Map();
    this.masterVolume = 0.5;
  }
  // Initialize sound system
  initialize() {
    console.log('\u{1F50A} Sound System Initializing...');
    this.createAmbientSound();
    this.createInteractionSounds();
    console.log('\u{1F50A} Sound System Ready!');
  }
  // Create ambient background sound
  createAmbientSound() {
    const ambientSource = engine.addEntity();
    AudioSource3.create(ambientSource, {
      playing: true,
      loop: true,
      volume: this.masterVolume * 0.3,
      audioClipUrl: 'sounds/ambient-quantum.mp3',
    });
    this.audioSources.set('ambient', ambientSource);
  }
  // Create interaction sound effects
  createInteractionSounds() {
    const clickSource = engine.addEntity();
    AudioSource3.create(clickSource, {
      playing: false,
      loop: false,
      volume: this.masterVolume * 0.8,
      audioClipUrl: 'sounds/interface-click.mp3',
    });
    this.audioSources.set('click', clickSource);
    const alertSource = engine.addEntity();
    AudioSource3.create(alertSource, {
      playing: false,
      loop: false,
      volume: this.masterVolume * 0.9,
      audioClipUrl: 'sounds/alert-chime.mp3',
    });
    this.audioSources.set('alert', alertSource);
    const powerUpSource = engine.addEntity();
    AudioSource3.create(powerUpSource, {
      playing: false,
      loop: false,
      volume: this.masterVolume * 0.7,
      audioClipUrl: 'sounds/power-up.mp3',
    });
    this.audioSources.set('powerup', powerUpSource);
  }
  // Play specific sound
  playSound(soundName) {
    const source = this.audioSources.get(soundName);
    if (source) {
      const audioSource = AudioSource3.getMutable(source);
      audioSource.playing = true;
      if (!audioSource.loop) {
        setTimeout2(() => {
          audioSource.playing = false;
        }, 1e3);
      }
    }
  }
  // Stop specific sound
  stopSound(soundName) {
    const source = this.audioSources.get(soundName);
    if (source) {
      AudioSource3.getMutable(source).playing = false;
    }
  }
  // Set master volume
  setVolume(volume) {
    this.masterVolume = Math.max(0, Math.min(1, volume));
    this.audioSources.forEach((source, name) => {
      const audioSource = AudioSource3.getMutable(source);
      if (name === 'ambient') {
        audioSource.volume = this.masterVolume * 0.3;
      } else {
        audioSource.volume = this.masterVolume * 0.8;
      }
    });
  }
  // Play interaction sound based on type
  playInteractionSound(type) {
    switch (type) {
      case 'click':
        this.playSound('click');
        break;
      case 'alert':
        this.playSound('alert');
        break;
      case 'powerup':
        this.playSound('powerup');
        break;
      case 'error':
        this.playSound('alert');
        break;
    }
  }
  // Cleanup sound system
  cleanup() {
    this.audioSources.forEach(source => {
      engine.removeEntity(source);
    });
    this.audioSources.clear();
  }
};
var soundSystem = new SoundSystem();

// src/ai-npc-system.ts
var NPCAssistant = class {
  constructor(name, role, position) {
    this.dialogueTree = /* @__PURE__ */ new Map();
    this.memory = /* @__PURE__ */ new Map();
    this.currentDialogue = 'greeting';
    this.isProcessing = false;
    this.emotionalState = 'neutral';
    this.name = name;
    this.role = role;
    this.createNPC(position);
    this.initializeDialogueTree();
    this.startAIProcessing();
  }
  createNPC(position) {
    this.entity = engine.addEntity();
    Transform2.create(this.entity, {
      position,
      scale: Vector32.create(1, 2, 1),
    });
    MeshRenderer3.setBox(this.entity);
    Material3.setPbrMaterial(this.entity, {
      albedoColor: Color42.create(0.3, 0.5, 0.8, 1),
      roughness: 0.2,
      metallic: 0.3,
      emissiveColor: Color42.create(0.1, 0.2, 0.4, 0.3),
      emissiveIntensity: 1,
    });
    const head = engine.addEntity();
    Transform2.create(head, {
      parent: this.entity,
      position: Vector32.create(0, 1.2, 0),
      scale: Vector32.create(0.8, 0.8, 0.8),
    });
    MeshRenderer3.setSphere(head);
    Material3.setPbrMaterial(head, {
      albedoColor: Color42.create(0.9, 0.8, 0.7, 1),
      roughness: 0.1,
      metallic: 0.1,
    });
    const nameTag = engine.addEntity();
    Transform2.create(nameTag, {
      parent: this.entity,
      position: Vector32.create(0, 2.5, 0),
      scale: Vector32.create(0.5, 0.5, 0.5),
    });
    TextShape3.create(nameTag, {
      text: `${this.name}
${this.role}`,
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 3,
      textAlign: 3,
      outlineWidth: 0.1,
      outlineColor: Color42.create(0, 0, 0, 1),
    });
    pointerEventsSystem.onPointerDown(
      {
        entity: this.entity,
        opts: {
          button: InputAction.IA_POINTER,
          hoverText: `\u{1F916} Talk to ${this.name}`,
        },
      },
      () => this.handleInteraction()
    );
  }
  initializeDialogueTree() {
    this.dialogueTree.set('greeting', {
      id: 'greeting',
      text: `Hello! I'm ${this.name}, your ${this.role}. How can I assist you today?`,
      responses: [
        'Tell me about the system status',
        'Help me with a task',
        'What can you do?',
        'Goodbye',
      ],
      emotion: 'happy',
    });
    this.dialogueTree.set('system_status', {
      id: 'system_status',
      text: 'All systems are operating at optimal efficiency. Quantum core is stable, network latency is under 10ms, and security protocols are active.',
      responses: ['Show me detailed metrics', 'Run diagnostics', 'Back to main menu'],
      emotion: 'neutral',
    });
    this.dialogueTree.set('task_help', {
      id: 'task_help',
      text: 'I can help you with various tasks: system monitoring, data analysis, security checks, or collaborative projects. What would you like to work on?',
      responses: ['System monitoring', 'Data analysis', 'Security check', 'Collaboration'],
      emotion: 'excited',
    });
    this.dialogueTree.set('capabilities', {
      id: 'capabilities',
      text: 'I have advanced AI capabilities including natural language processing, predictive analytics, real-time monitoring, and adaptive learning. I can also integrate with external systems and provide intelligent recommendations.',
      responses: ['Show me examples', 'Teach me something', 'Back to main menu'],
      emotion: 'excited',
    });
    this.dialogueTree.set('detailed_metrics', {
      id: 'detailed_metrics',
      text: 'Current metrics: CPU usage at 42%, memory at 68%, network throughput at 1.2GB/s, and quantum coherence at 98.7%. All parameters within acceptable ranges.',
      responses: ['Show historical trends', 'Export report', 'Back to system status'],
      emotion: 'neutral',
    });
    this.dialogueTree.set('farewell', {
      id: 'farewell',
      text: "It was great assisting you! Feel free to return anytime. I'll be here monitoring the systems and learning from our interactions.",
      responses: [],
      emotion: 'happy',
    });
  }
  async handleInteraction() {
    if (this.isProcessing) return;
    this.isProcessing = true;
    soundSystem.playInteractionSound('click');
    const dialogue = this.dialogueTree.get(this.currentDialogue);
    if (!dialogue) {
      this.isProcessing = false;
      return;
    }
    await this.displayDialogueWithTyping(dialogue);
    this.updateEmotionalState(dialogue.emotion);
    this.showResponseOptions(dialogue.responses);
    this.isProcessing = false;
  }
  async displayDialogueWithTyping(dialogue) {
    const dialogueEntity = engine.addEntity();
    Transform2.create(dialogueEntity, {
      position: Vector32.create(8, 4, 8),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape3.create(dialogueEntity, {
      text: '',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 4,
      textAlign: 3,
      outlineWidth: 0.1,
      outlineColor: Color42.create(0, 0, 0, 1),
    });
    const fullText = `${this.name}: ${dialogue.text}`;
    let currentText = '';
    for (let i = 0; i <= fullText.length; i++) {
      currentText = fullText.substring(0, i);
      TextShape3.getMutable(dialogueEntity).text = currentText;
      await new Promise(resolve2 => setTimeout(resolve2, 50));
    }
    setTimeout(() => {
      engine.removeEntity(dialogueEntity);
    }, 5e3);
  }
  showResponseOptions(responses) {
    responses.forEach((response, index) => {
      const responseEntity = engine.addEntity();
      Transform2.create(responseEntity, {
        position: Vector32.create(4 + index * 2, 3, 10),
        scale: Vector32.create(0.2, 0.2, 0.2),
      });
      TextShape3.create(responseEntity, {
        text: `${index + 1}. ${response}`,
        textColor: Color42.create(0.8, 0.8, 1, 1),
        fontSize: 2,
        textAlign: 3,
      });
      pointerEventsSystem.onPointerDown(
        {
          entity: responseEntity,
          opts: {
            button: InputAction.IA_POINTER,
            hoverText: response,
          },
        },
        () => {
          this.handleResponse(index);
          engine.removeEntity(responseEntity);
        }
      );
    });
  }
  handleResponse(responseIndex) {
    const dialogue = this.dialogueTree.get(this.currentDialogue);
    if (!dialogue || responseIndex >= dialogue.responses.length) return;
    const response = dialogue.responses[responseIndex];
    switch (response) {
      case 'Tell me about the system status':
        this.currentDialogue = 'system_status';
        break;
      case 'Help me with a task':
        this.currentDialogue = 'task_help';
        break;
      case 'What can you do?':
        this.currentDialogue = 'capabilities';
        break;
      case 'Show me detailed metrics':
        this.currentDialogue = 'detailed_metrics';
        break;
      case 'Goodbye':
        this.currentDialogue = 'farewell';
        break;
      default:
        this.currentDialogue = 'greeting';
    }
    setTimeout(() => {
      this.handleInteraction();
    }, 1e3);
  }
  updateEmotionalState(emotion) {
    this.emotionalState = emotion;
    const material = Material3.getMutable(this.entity);
    if (material && material.$case === 'pbr') {
      switch (emotion) {
        case 'happy':
          material.pbr.emissiveColor = Color42.create(0.2, 0.8, 0.2, 0.5);
          material.pbr.emissiveIntensity = 2;
          break;
        case 'excited':
          material.pbr.emissiveColor = Color42.create(1, 0.8, 0.2, 0.5);
          material.pbr.emissiveIntensity = 3;
          break;
        case 'concerned':
          material.pbr.emissiveColor = Color42.create(0.8, 0.2, 0.2, 0.5);
          material.pbr.emissiveIntensity = 1.5;
          break;
        default:
          material.pbr.emissiveColor = Color42.create(0.1, 0.2, 0.4, 0.3);
          material.pbr.emissiveIntensity = 1;
      }
    }
  }
  startAIProcessing() {
    engine.addSystem(() => {
      if (Math.random() > 0.98) {
        const material = Material3.getMutable(this.entity);
        if (material && material.$case === 'pbr') {
          material.pbr.emissiveIntensity = 1 + Math.random() * 0.5;
        }
      }
    });
  }
  // Advanced AI methods
  async processNaturalLanguage(input) {
    await new Promise(resolve2 => setTimeout(resolve2, 1e3));
    if (input.toLowerCase().includes('hello') || input.toLowerCase().includes('hi')) {
      return `Hello! I'm ${this.name}. How can I help you today?`;
    } else if (input.toLowerCase().includes('status')) {
      return 'All systems are operational. Would you like detailed metrics?';
    } else if (input.toLowerCase().includes('help')) {
      return 'I can assist with system monitoring, data analysis, and security checks. What do you need?';
    } else {
      return 'I understand you need assistance. Let me help you with that.';
    }
  }
  learnFromInteraction(playerId, topic) {
    if (!this.memory.has(playerId)) {
      this.memory.set(playerId, {
        playerName: playerId,
        lastInteraction: Date.now(),
        topics: [],
        preferences: [],
      });
    }
    const playerMemory = this.memory.get(playerId);
    playerMemory.topics.push(topic);
    playerMemory.lastInteraction = Date.now();
  }
  getPersonalizedResponse(playerId) {
    const playerMemory = this.memory.get(playerId);
    if (!playerMemory) {
      return "Nice to meet you! I'm here to help with any questions or tasks.";
    }
    const timeSinceLastInteraction = Date.now() - playerMemory.lastInteraction;
    if (timeSinceLastInteraction < 6e4) {
      return 'Welcome back! Is there anything else I can help you with?';
    } else {
      return `It's been a while! Last time we discussed ${playerMemory.topics[playerMemory.topics.length - 1]}. How can I assist you today?`;
    }
  }
  cleanup() {
    if (this.entity) {
      engine.removeEntity(this.entity);
    }
  }
};
var NPCManager = class {
  constructor() {
    this.npcs = /* @__PURE__ */ new Map();
  }
  createNPC(name, role, position) {
    const npc = new NPCAssistant(name, role, position);
    this.npcs.set(name, npc);
    return npc;
  }
  getNPC(name) {
    return this.npcs.get(name);
  }
  getAllNPCs() {
    return Array.from(this.npcs.values());
  }
  cleanup() {
    this.npcs.forEach(npc => npc.cleanup());
    this.npcs.clear();
  }
};
var npcManager = new NPCManager();

// src/analytics-dashboard.ts
var AnalyticsDashboardSystem = class {
  // 5 seconds
  constructor() {
    this.analyticsData = /* @__PURE__ */ new Map();
    this.widgets = /* @__PURE__ */ new Map();
    this.reports = /* @__PURE__ */ new Map();
    this.isInitialized = false;
    this.realTimeData = [];
    this.maxRealTimeEvents = 1e3;
    this.dataRetentionDays = 30;
    this.refreshInterval = 5e3;
    this.initializeDataSources();
  }
  // Initialize analytics dashboard system
  initialize() {
    console.log('\u{1F4CA} Analytics Dashboard System Initializing...');
    this.createDashboardUI();
    this.createDefaultWidgets();
    this.createDefaultReports();
    this.startAnalyticsEngine();
    this.generateSampleData();
    this.isInitialized = true;
    console.log('\u{1F4CA} Analytics Dashboard System Ready!');
  }
  // Initialize data sources
  initializeDataSources() {
    console.log('\u{1F4E1} Initializing analytics data sources...');
  }
  // Create dashboard UI
  createDashboardUI() {
    this.dashboardUI = engine.addEntity();
    Transform2.create(this.dashboardUI, {
      position: Vector32.create(8, 4, 2),
      scale: Vector32.create(6, 4, 0.1),
    });
    MeshRenderer3.setBox(this.dashboardUI);
    Material3.setPbrMaterial(this.dashboardUI, {
      albedoColor: Color42.create(0.1, 0.2, 0.4, 0.9),
      emissiveColor: Color42.create(0.2, 0.4, 0.8, 0.5),
      emissiveIntensity: 2,
    });
    const title = engine.addEntity();
    Transform2.create(title, {
      parent: this.dashboardUI,
      position: Vector32.create(0, 1.7, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(title, {
      text: '\u{1F4CA} ANALYTICS DASHBOARD',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 2,
      textAlign: 3,
    });
    this.createWidgetContainers();
    this.createControlPanel();
    this.createStatusBar();
  }
  // Create widget containers
  createWidgetContainers() {
    const mainChart = engine.addEntity();
    Transform2.create(mainChart, {
      parent: this.dashboardUI,
      position: Vector32.create(-1.5, 0.5, 0.1),
      scale: Vector32.create(2.5, 1.5, 0.1),
    });
    MeshRenderer3.setBox(mainChart);
    Material3.setPbrMaterial(mainChart, {
      albedoColor: Color42.create(0.2, 0.2, 0.2, 0.8),
      emissiveColor: Color42.create(0.2, 0.2, 0.2, 0.3),
      emissiveIntensity: 1,
    });
    const kpiArea = engine.addEntity();
    Transform2.create(kpiArea, {
      parent: this.dashboardUI,
      position: Vector32.create(1.5, 0.5, 0.1),
      scale: Vector32.create(2.5, 1.5, 0.1),
    });
    MeshRenderer3.setBox(kpiArea);
    Material3.setPbrMaterial(kpiArea, {
      albedoColor: Color42.create(0.2, 0.2, 0.2, 0.8),
      emissiveColor: Color42.create(0.2, 0.2, 0.2, 0.3),
      emissiveIntensity: 1,
    });
    const realtimeArea = engine.addEntity();
    Transform2.create(realtimeArea, {
      parent: this.dashboardUI,
      position: Vector32.create(0, -0.8, 0.1),
      scale: Vector32.create(5, 0.8, 0.1),
    });
    MeshRenderer3.setBox(realtimeArea);
    Material3.setPbrMaterial(realtimeArea, {
      albedoColor: Color42.create(0.2, 0.2, 0.2, 0.8),
      emissiveColor: Color42.create(0.2, 0.2, 0.2, 0.3),
      emissiveIntensity: 1,
    });
  }
  // Create control panel
  createControlPanel() {
    const controls = [
      { id: 'refresh', icon: '\u{1F504}', name: 'Refresh Data' },
      { id: 'export', icon: '\u{1F4E4}', name: 'Export Report' },
      { id: 'settings', icon: '\u2699\uFE0F', name: 'Settings' },
      { id: 'fullscreen', icon: '\u{1F50D}', name: 'Fullscreen' },
    ];
    let xOffset = -1.5;
    controls.forEach(control => {
      const button = engine.addEntity();
      Transform2.create(button, {
        parent: this.dashboardUI,
        position: Vector32.create(xOffset, -1.5, 0.1),
        scale: Vector32.create(0.3, 0.3, 0.1),
      });
      MeshRenderer3.setBox(button);
      Material3.setPbrMaterial(button, {
        albedoColor: Color42.create(0.3, 0.6, 0.8, 1),
        emissiveColor: Color42.create(0.3, 0.6, 0.8, 0.5),
        emissiveIntensity: 2,
      });
      const buttonText = engine.addEntity();
      Transform2.create(buttonText, {
        parent: button,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape.create(buttonText, {
        text: control.icon,
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 2,
        textAlign: 3,
      });
      pointerEventsSystem.onPointerDown(
        {
          entity: button,
          opts: { button: InputAction.IA_POINTER, hoverText: control.name },
        },
        () => this.handleControl(control.id)
      );
      xOffset += 0.8;
    });
  }
  // Create status bar
  createStatusBar() {
    const statusBar = engine.addEntity();
    Transform2.create(statusBar, {
      parent: this.dashboardUI,
      position: Vector32.create(0, -1.9, 0.1),
      scale: Vector32.create(5.5, 0.2, 0.1),
    });
    MeshRenderer3.setBox(statusBar);
    Material3.setPbrMaterial(statusBar, {
      albedoColor: Color42.create(0.1, 0.1, 0.1, 0.8),
      emissiveColor: Color42.create(0.1, 0.1, 0.1, 0.3),
      emissiveIntensity: 1,
    });
    const statusText = engine.addEntity();
    Transform2.create(statusText, {
      parent: statusBar,
      position: Vector32.create(0, 0, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(statusText, {
      text: '\u{1F4CA} Last Update: Just Now | Events: 0',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 1.2,
      textAlign: 3,
    });
  }
  // Create default widgets
  createDefaultWidgets() {
    const userActivityChart = {
      id: 'widget_user_activity',
      type: 'chart',
      title: 'User Activity',
      position: Vector32.create(-1.5, 0.5, 0.1),
      size: Vector32.create(2.5, 1.5, 0.1),
      dataSource: 'user_behavior',
      refreshInterval: 1e4,
      config: {
        chartType: 'line',
        timeRange: 'day',
        aggregation: 'count',
        colors: [Color32.create(0.2, 0.6, 1), Color32.create(1, 0.6, 0.2)],
        showLegend: true,
        showGrid: true,
      },
      isVisible: true,
    };
    const systemPerformanceGauge = {
      id: 'widget_system_performance',
      type: 'gauge',
      title: 'System Performance',
      position: Vector32.create(1.5, 0.8, 0.1),
      size: Vector32.create(1, 0.6, 0.1),
      dataSource: 'system_performance',
      refreshInterval: 5e3,
      config: {
        timeRange: 'hour',
        aggregation: 'avg',
      },
      isVisible: true,
    };
    const businessMetrics = {
      id: 'widget_business_metrics',
      type: 'metric',
      title: 'Business Metrics',
      position: Vector32.create(1.5, 0.2, 0.1),
      size: Vector32.create(2.5, 0.6, 0.1),
      dataSource: 'business_metrics',
      refreshInterval: 15e3,
      config: {
        timeRange: 'week',
        aggregation: 'sum',
      },
      isVisible: true,
    };
    const realtimeEvents = {
      id: 'widget_realtime_events',
      type: 'realtime',
      title: 'Real-time Events',
      position: Vector32.create(0, -0.8, 0.1),
      size: Vector32.create(5, 0.8, 0.1),
      dataSource: 'realtime',
      refreshInterval: 1e3,
      config: {
        timeRange: 'hour',
      },
      isVisible: true,
    };
    this.widgets.set(userActivityChart.id, userActivityChart);
    this.widgets.set(systemPerformanceGauge.id, systemPerformanceGauge);
    this.widgets.set(businessMetrics.id, businessMetrics);
    this.widgets.set(realtimeEvents.id, realtimeEvents);
    console.log('\u{1F4C8} Default widgets created');
  }
  // Create default reports
  createDefaultReports() {
    const dailyReport = {
      id: 'report_daily_performance',
      name: 'Daily Performance Report',
      description: 'Comprehensive daily performance metrics',
      category: 'system_performance',
      widgets: ['widget_user_activity', 'widget_system_performance'],
      schedule: {
        frequency: 'daily',
        enabled: true,
        nextRun: Date.now() + 864e5,
        // Tomorrow
        timezone: 'UTC',
      },
      recipients: ['admin@aigestion.com'],
      format: 'pdf',
      isTemplate: false,
    };
    const weeklyReport = {
      id: 'report_weekly_business',
      name: 'Weekly Business Report',
      description: 'Weekly business metrics and KPIs',
      category: 'business_metrics',
      widgets: ['widget_business_metrics'],
      schedule: {
        frequency: 'weekly',
        enabled: true,
        nextRun: Date.now() + 6048e5,
        // Next week
        timezone: 'UTC',
      },
      recipients: ['management@aigestion.com'],
      format: 'html',
      isTemplate: false,
    };
    this.reports.set(dailyReport.id, dailyReport);
    this.reports.set(weeklyReport.id, weeklyReport);
    console.log('\u{1F4CB} Default reports created');
  }
  // Start analytics engine
  startAnalyticsEngine() {
    engine.addSystem(() => {
      if (!this.isInitialized) return;
      this.updateRealTimeData();
      this.refreshWidgets();
      this.processReports();
      this.cleanupOldData();
    });
  }
  // Generate sample data
  generateSampleData() {
    const categories = ['user_behavior', 'system_performance', 'business_metrics', 'engagement'];
    categories.forEach(category => {
      const data = {
        id: `data_${category}_${Date.now()}`,
        timestamp: Date.now(),
        category,
        metrics: this.generateMetrics(category),
        dimensions: /* @__PURE__ */ new Map([
          ['platform', 'web'],
          ['version', '1.0.0'],
          ['environment', 'production'],
        ]),
        events: [],
        kpis: this.generateKPIs(category),
      };
      this.analyticsData.set(data.id, data);
    });
    for (let i = 0; i < 50; i++) {
      const event = {
        id: `event_${Date.now()}_${i}`,
        name: this.getRandomEventName(),
        category: this.getRandomEventCategory(),
        timestamp: Date.now() - Math.random() * 36e5,
        // Last hour
        userId: `user_${Math.floor(Math.random() * 100)}`,
        sessionId: `session_${Math.floor(Math.random() * 20)}`,
        properties: /* @__PURE__ */ new Map([
          ['action', this.getRandomAction()],
          ['page', this.getRandomPage()],
          ['duration', Math.floor(Math.random() * 300)],
        ]),
        value: Math.random() * 100,
      };
      this.realTimeData.push(event);
    }
    console.log('\u{1F4CA} Sample analytics data generated');
  }
  // Generate metrics
  generateMetrics(category) {
    const metrics = /* @__PURE__ */ new Map();
    switch (category) {
      case 'user_behavior':
        metrics.set('active_users', Math.floor(Math.random() * 1e3) + 500);
        metrics.set('page_views', Math.floor(Math.random() * 1e4) + 5e3);
        metrics.set('session_duration', Math.random() * 600 + 120);
        metrics.set('bounce_rate', Math.random() * 0.5 + 0.2);
        break;
      case 'system_performance':
        metrics.set('cpu_usage', Math.random() * 80 + 10);
        metrics.set('memory_usage', Math.random() * 70 + 20);
        metrics.set('response_time', Math.random() * 500 + 100);
        metrics.set('error_rate', Math.random() * 5);
        break;
      case 'business_metrics':
        metrics.set('revenue', Math.random() * 1e4 + 5e3);
        metrics.set('conversion_rate', Math.random() * 0.1 + 0.02);
        metrics.set('customer_acquisition', Math.floor(Math.random() * 100) + 50);
        metrics.set('retention_rate', Math.random() * 0.3 + 0.6);
        break;
      case 'engagement':
        metrics.set('interaction_rate', Math.random() * 0.8 + 0.1);
        metrics.set('social_shares', Math.floor(Math.random() * 500) + 100);
        metrics.set('comments', Math.floor(Math.random() * 200) + 50);
        metrics.set('likes', Math.floor(Math.random() * 1e3) + 200);
        break;
    }
    return metrics;
  }
  // Generate KPIs
  generateKPIs(category) {
    const kpis = [];
    switch (category) {
      case 'user_behavior':
        kpis.push({
          id: 'kpi_daily_active_users',
          name: 'Daily Active Users',
          value: Math.floor(Math.random() * 1e3) + 500,
          target: 1500,
          unit: 'users',
          trend: Math.random() > 0.5 ? 'up' : 'down',
          change: (Math.random() - 0.5) * 20,
          status: 'good',
        });
        break;
      case 'system_performance':
        kpis.push({
          id: 'kpi_uptime',
          name: 'System Uptime',
          value: 99.5 + Math.random() * 0.5,
          target: 99.9,
          unit: '%',
          trend: 'stable',
          change: 0.1,
          status: 'good',
        });
        break;
      case 'business_metrics':
        kpis.push({
          id: 'kpi_monthly_revenue',
          name: 'Monthly Revenue',
          value: Math.floor(Math.random() * 5e4) + 1e5,
          target: 2e5,
          unit: '$',
          trend: Math.random() > 0.3 ? 'up' : 'down',
          change: (Math.random() - 0.5) * 15,
          status: Math.random() > 0.2 ? 'good' : 'warning',
        });
        break;
    }
    return kpis;
  }
  // Get random event name
  getRandomEventName() {
    const events = [
      'page_view',
      'button_click',
      'form_submit',
      'video_play',
      'download',
      'login',
      'logout',
      'search',
      'filter',
      'sort',
      'share',
      'comment',
      'purchase',
      'add_to_cart',
      'checkout',
      'sign_up',
      'subscribe',
    ];
    return events[Math.floor(Math.random() * events.length)];
  }
  // Get random event category
  getRandomEventCategory() {
    const categories = ['navigation', 'interaction', 'conversion', 'engagement', 'error'];
    return categories[Math.floor(Math.random() * categories.length)];
  }
  // Get random action
  getRandomAction() {
    const actions = ['click', 'hover', 'scroll', 'swipe', 'tap', 'drag', 'drop'];
    return actions[Math.floor(Math.random() * actions.length)];
  }
  // Get random page
  getRandomPage() {
    const pages = [
      '/dashboard',
      '/profile',
      '/settings',
      '/analytics',
      '/reports',
      '/products',
      '/services',
      '/about',
      '/contact',
      '/help',
    ];
    return pages[Math.floor(Math.random() * pages.length)];
  }
  // Update real-time data
  updateRealTimeData() {
    if (Math.random() < 0.1) {
      const event = {
        id: `event_realtime_${Date.now()}_${Math.random()}`,
        name: this.getRandomEventName(),
        category: this.getRandomEventCategory(),
        timestamp: Date.now(),
        userId: `user_${Math.floor(Math.random() * 100)}`,
        sessionId: `session_${Math.floor(Math.random() * 20)}`,
        properties: /* @__PURE__ */ new Map([
          ['action', this.getRandomAction()],
          ['page', this.getRandomPage()],
        ]),
        value: Math.random() * 100,
      };
      this.realTimeData.push(event);
      if (this.realTimeData.length > this.maxRealTimeEvents) {
        this.realTimeData = this.realTimeData.slice(-this.maxRealTimeEvents);
      }
    }
  }
  // Refresh widgets
  refreshWidgets() {
    this.widgets.forEach((widget, id) => {
      if (Date.now() - widget.refreshInterval < 0) return;
      this.updateWidgetData(widget);
    });
  }
  // Update widget data
  updateWidgetData(widget) {
    switch (widget.type) {
      case 'chart':
        this.updateChartData(widget);
        break;
      case 'gauge':
        this.updateGaugeData(widget);
        break;
      case 'metric':
        this.updateMetricData(widget);
        break;
      case 'realtime':
        this.updateRealtimeData(widget);
        break;
    }
  }
  // Update chart data
  updateChartData(widget) {
    console.log(`\u{1F4C8} Updating chart widget: ${widget.title}`);
  }
  // Update gauge data
  updateGaugeData(widget) {
    console.log(`\u{1F3AF} Updating gauge widget: ${widget.title}`);
  }
  // Update metric data
  updateMetricData(widget) {
    console.log(`\u{1F4CA} Updating metric widget: ${widget.title}`);
  }
  // Update real-time data widget
  updateRealtimeData(widget) {
    console.log(`\u26A1 Updating real-time widget: ${widget.title}`);
  }
  // Process reports
  processReports() {
    const now = Date.now();
    this.reports.forEach((report, id) => {
      if (report.schedule.enabled && now >= report.schedule.nextRun) {
        this.generateReport(report);
        report.schedule.nextRun = this.calculateNextRun(report.schedule);
      }
    });
  }
  // Generate report
  generateReport(report) {
    console.log(`\u{1F4CB} Generating report: ${report.name}`);
    const reportData = {
      reportId: report.id,
      reportName: report.name,
      generatedAt: /* @__PURE__ */ new Date().toISOString(),
      widgets: report.widgets
        .map(widgetId => {
          const widget = this.widgets.get(widgetId);
          return widget
            ? {
                id: widget.id,
                title: widget.title,
                data: this.getWidgetData(widget),
              }
            : null;
        })
        .filter(Boolean),
    };
    report.recipients.forEach(recipient => {
      console.log(`\u{1F4E7} Sending report to: ${recipient}`);
    });
    soundSystem.playInteractionSound('powerup');
  }
  // Get widget data
  getWidgetData(widget) {
    const data = Array.from(this.analyticsData.values())
      .filter(d => d.category === widget.dataSource)
      .map(d => ({
        timestamp: d.timestamp,
        metrics: Object.fromEntries(d.metrics),
        kpis: d.kpis,
      }));
    return data;
  }
  // Calculate next run time
  calculateNextRun(schedule) {
    const now = Date.now();
    let nextRun = now;
    switch (schedule.frequency) {
      case 'hourly':
        nextRun = now + 36e5;
        break;
      case 'daily':
        nextRun = now + 864e5;
        break;
      case 'weekly':
        nextRun = now + 6048e5;
        break;
      case 'monthly':
        nextRun = now + 2592e6;
        break;
    }
    return nextRun;
  }
  // Clean up old data
  cleanupOldData() {
    const cutoffTime = Date.now() - this.dataRetentionDays * 24 * 60 * 60 * 1e3;
    this.analyticsData.forEach((data, id) => {
      if (data.timestamp < cutoffTime) {
        this.analyticsData.delete(id);
      }
    });
    this.realTimeData = this.realTimeData.filter(event => event.timestamp > cutoffTime);
  }
  // Handle control
  handleControl(controlId) {
    switch (controlId) {
      case 'refresh':
        this.refreshAllWidgets();
        break;
      case 'export':
        this.exportData();
        break;
      case 'settings':
        this.openSettings();
        break;
      case 'fullscreen':
        this.toggleFullscreen();
        break;
    }
    soundSystem.playInteractionSound('click');
  }
  // Refresh all widgets
  refreshAllWidgets() {
    console.log('\u{1F504} Refreshing all widgets...');
    this.widgets.forEach(widget => {
      this.updateWidgetData(widget);
    });
    soundSystem.playInteractionSound('powerup');
  }
  // Export data
  exportData() {
    console.log('\u{1F4E4} Exporting analytics data...');
    const exportData = {
      timestamp: /* @__PURE__ */ new Date().toISOString(),
      analyticsData: Array.from(this.analyticsData.values()),
      widgets: Array.from(this.widgets.values()),
      realTimeEvents: this.realTimeData.slice(-100),
      // Last 100 events
    };
    console.log('\u{1F4CA} Data exported successfully');
    soundSystem.playInteractionSound('powerup');
  }
  // Open settings
  openSettings() {
    console.log('\u2699\uFE0F Opening analytics settings...');
    soundSystem.playInteractionSound('click');
  }
  // Toggle fullscreen
  toggleFullscreen() {
    console.log('\u{1F50D} Toggling fullscreen mode...');
    soundSystem.playInteractionSound('click');
  }
  // Track event
  trackEvent(event) {
    this.realTimeData.push(event);
    if (this.realTimeData.length > this.maxRealTimeEvents) {
      this.realTimeData = this.realTimeData.slice(-this.maxRealTimeEvents);
    }
    console.log(`\u{1F4CA} Tracked event: ${event.name}`);
  }
  // Get analytics data
  getAnalyticsData(category) {
    const data = Array.from(this.analyticsData.values());
    return category ? data.filter(d => d.category === category) : data;
  }
  // Get real-time events
  getRealTimeEvents(limit) {
    return limit ? this.realTimeData.slice(-limit) : this.realTimeData;
  }
  // Get widgets
  getWidgets() {
    return Array.from(this.widgets.values());
  }
  // Get reports
  getReports() {
    return Array.from(this.reports.values());
  }
  // Add widget
  addWidget(widget) {
    this.widgets.set(widget.id, widget);
    console.log(`\u{1F4C8} Added widget: ${widget.title}`);
  }
  // Remove widget
  removeWidget(widgetId) {
    this.widgets.delete(widgetId);
    console.log(`\u{1F5D1}\uFE0F Removed widget: ${widgetId}`);
  }
  // Create custom report
  createReport(report) {
    const newReport = {
      ...report,
      id: `report_${Date.now()}_${Math.random()}`,
    };
    this.reports.set(newReport.id, newReport);
    console.log(`\u{1F4CB} Created report: ${newReport.name}`);
    return newReport;
  }
  // Set data retention
  setDataRetentionDays(days) {
    this.dataRetentionDays = Math.max(1, days);
    console.log(`\u{1F4C5} Data retention set to: ${days} days`);
  }
  // Get system statistics
  getSystemStatistics() {
    return {
      totalAnalyticsData: this.analyticsData.size,
      totalWidgets: this.widgets.size,
      totalReports: this.reports.size,
      realTimeEvents: this.realTimeData.length,
      dataRetentionDays: this.dataRetentionDays,
      maxRealTimeEvents: this.maxRealTimeEvents,
      refreshInterval: this.refreshInterval,
    };
  }
  // Cleanup system
  cleanup() {
    this.analyticsData.clear();
    this.widgets.clear();
    this.reports.clear();
    this.realTimeData = [];
    if (this.dashboardUI) {
      engine.removeEntity(this.dashboardUI);
    }
    this.isInitialized = false;
  }
};
var analyticsDashboardSystem = new AnalyticsDashboardSystem();

// src/ar-integration.ts
var ARIntegrationSystem = class {
  constructor() {
    this.devices = /* @__PURE__ */ new Map();
    this.sessions = /* @__PURE__ */ new Map();
    this.overlays = /* @__PURE__ */ new Map();
    this.currentSession = null;
    this.isInitialized = false;
    this.initializeAREngine();
    this.initializeTrackingSystem();
    this.initializeRenderingSystem();
  }
  // Initialize AR system
  initialize() {
    console.log('\u{1F4F1} AR Integration System Initializing...');
    this.setupARDevices();
    this.createARUI();
    this.startAREngine();
    this.setupARInteractions();
    this.isInitialized = true;
    console.log('\u{1F4F1} AR Integration System Ready!');
  }
  // Initialize AR engine
  initializeAREngine() {
    this.arEngine = {
      isSupported: true,
      isInitialized: false,
      session: null,
      initialize: () => {
        console.log('\u{1F527} Initializing AR engine...');
        this.arEngine.isInitialized = true;
      },
      startSession: device => {
        console.log(`\u{1F680} Starting AR session on ${device.name}`);
        return {
          id: `session_${Date.now()}`,
          device,
          isActive: true,
        };
      },
      stopSession: sessionId => {
        console.log(`\u{1F6D1} Stopping AR session: ${sessionId}`);
      },
    };
  }
  // Initialize tracking system
  initializeTrackingSystem() {
    this.trackingSystem = {
      isTracking: false,
      trackingQuality: 'high',
      detectedAnchors: [],
      startTracking: () => {
        console.log('\u{1F3AF} Starting AR tracking...');
        this.trackingSystem.isTracking = true;
      },
      stopTracking: () => {
        console.log('\u{1F6D1} Stopping AR tracking...');
        this.trackingSystem.isTracking = false;
      },
      detectPlanes: () => {
        return [
          {
            id: 'plane_floor',
            type: 'horizontal',
            position: Vector32.create(0, 0, 0),
            size: Vector32.create(10, 0, 10),
          },
          {
            id: 'plane_wall',
            type: 'vertical',
            position: Vector32.create(0, 2, -5),
            size: Vector32.create(10, 4, 0),
          },
        ];
      },
      detectImages: () => {
        return [
          {
            id: 'image_logo',
            position: Vector32.create(2, 1, 0),
            confidence: 0.95,
          },
        ];
      },
    };
  }
  // Initialize rendering system
  initializeRenderingSystem() {
    this.renderingSystem = {
      isRendering: false,
      frameRate: 60,
      resolution: { width: 1920, height: 1080 },
      startRendering: () => {
        console.log('\u{1F3A8} Starting AR rendering...');
        this.renderingSystem.isRendering = true;
      },
      stopRendering: () => {
        console.log('\u{1F6D1} Stopping AR rendering...');
        this.renderingSystem.isRendering = false;
      },
      renderFrame: overlays => {
        overlays.forEach(overlay => {
          if (overlay.isVisible) {
            console.log(`\u{1F3A8} Rendering overlay: ${overlay.type}`);
          }
        });
      },
    };
  }
  // Setup AR devices
  setupARDevices() {
    const smartphone = {
      id: 'device_smartphone',
      name: 'Smartphone AR',
      type: 'smartphone',
      isConnected: false,
      position: Vector32.create(0, 0, 0),
      rotation: Quaternion2.fromEulerDegrees(0, 0, 0),
      camera: {
        fov: 60,
        aspectRatio: 16 / 9,
        nearPlane: 0.1,
        farPlane: 100,
        trackingMode: 'world',
      },
      capabilities: {
        supportsPlaneDetection: true,
        supportsImageTracking: true,
        supportsFaceTracking: false,
        supportsOcclusion: true,
        supportsLightEstimation: true,
        maxAnchors: 20,
      },
    };
    const tablet = {
      id: 'device_tablet',
      name: 'Tablet AR',
      type: 'tablet',
      isConnected: false,
      position: Vector32.create(0, 0, 0),
      rotation: Quaternion2.fromEulerDegrees(0, 0, 0),
      camera: {
        fov: 45,
        aspectRatio: 4 / 3,
        nearPlane: 0.1,
        farPlane: 100,
        trackingMode: 'world',
      },
      capabilities: {
        supportsPlaneDetection: true,
        supportsImageTracking: true,
        supportsFaceTracking: false,
        supportsOcclusion: true,
        supportsLightEstimation: true,
        maxAnchors: 30,
      },
    };
    const arGlasses = {
      id: 'device_ar_glasses',
      name: 'AR Glasses',
      type: 'ar_glasses',
      isConnected: false,
      position: Vector32.create(0, 0, 0),
      rotation: Quaternion2.fromEulerDegrees(0, 0, 0),
      camera: {
        fov: 50,
        aspectRatio: 16 / 9,
        nearPlane: 0.05,
        farPlane: 50,
        trackingMode: 'world',
      },
      capabilities: {
        supportsPlaneDetection: true,
        supportsImageTracking: true,
        supportsFaceTracking: true,
        supportsOcclusion: true,
        supportsLightEstimation: true,
        maxAnchors: 50,
      },
    };
    this.devices.set(smartphone.id, smartphone);
    this.devices.set(tablet.id, tablet);
    this.devices.set(arGlasses.id, arGlasses);
    console.log('\u{1F4F1} AR devices configured');
  }
  // Create AR UI
  createARUI() {
    this.arUI = engine.addEntity();
    Transform2.create(this.arUI, {
      position: Vector32.create(14, 3, 8),
      scale: Vector32.create(3, 4, 0.1),
    });
    MeshRenderer3.setBox(this.arUI);
    Material3.setPbrMaterial(this.arUI, {
      albedoColor: Color42.create(0.1, 0.2, 0.4, 0.9),
      emissiveColor: Color42.create(0.2, 0.4, 0.8, 0.5),
      emissiveIntensity: 2,
    });
    const title = engine.addEntity();
    Transform2.create(title, {
      parent: this.arUI,
      position: Vector32.create(0, 1.7, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(title, {
      text: '\u{1F4F1} AR OVERLAY SYSTEM',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 2,
      textAlign: 3,
    });
    this.createDeviceSelection();
    this.createSessionControls();
    this.createOverlayControls();
    this.createStatusDisplay();
  }
  // Create device selection
  createDeviceSelection() {
    const deviceSection = engine.addEntity();
    Transform2.create(deviceSection, {
      parent: this.arUI,
      position: Vector32.create(0, 1.2, 0.1),
      scale: Vector32.create(0.8, 0.3, 0.1),
    });
    MeshRenderer3.setBox(deviceSection);
    Material3.setPbrMaterial(deviceSection, {
      albedoColor: Color42.create(0.2, 0.2, 0.2, 0.8),
      emissiveColor: Color42.create(0.2, 0.2, 0.2, 0.3),
      emissiveIntensity: 1,
    });
    const deviceText = engine.addEntity();
    Transform2.create(deviceText, {
      parent: deviceSection,
      position: Vector32.create(0, 0, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(deviceText, {
      text: '\u{1F4F1} Select Device',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 1.5,
      textAlign: 3,
    });
    let xOffset = -0.6;
    this.devices.forEach((device, id) => {
      const button = engine.addEntity();
      Transform2.create(button, {
        parent: this.arUI,
        position: Vector32.create(xOffset, 0.8, 0.1),
        scale: Vector32.create(0.2, 0.2, 0.1),
      });
      MeshRenderer3.setBox(button);
      Material3.setPbrMaterial(button, {
        albedoColor: device.isConnected
          ? Color42.create(0.2, 0.8, 0.2, 1)
          : Color42.create(0.8, 0.2, 0.2, 1),
        emissiveColor: device.isConnected
          ? Color42.create(0.2, 0.8, 0.2, 0.5)
          : Color42.create(0.8, 0.2, 0.2, 0.5),
        emissiveIntensity: 2,
      });
      const buttonText = engine.addEntity();
      Transform2.create(buttonText, {
        parent: button,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape.create(buttonText, {
        text:
          device.type === 'smartphone'
            ? '\u{1F4F1}'
            : device.type === 'tablet'
              ? '\u{1F4F1}'
              : '\u{1F97D}',
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 2,
        textAlign: 3,
      });
      pointerEventsSystem.onPointerDown(
        {
          entity: button,
          opts: { button: InputAction.IA_POINTER, hoverText: device.name },
        },
        () => this.connectDevice(id)
      );
      xOffset += 0.6;
    });
  }
  // Create session controls
  createSessionControls() {
    const controls = [
      { id: 'start', icon: '\u25B6\uFE0F', name: 'Start Session' },
      { id: 'stop', icon: '\u23F9\uFE0F', name: 'Stop Session' },
      { id: 'reset', icon: '\u{1F504}', name: 'Reset Tracking' },
    ];
    let xOffset = -0.8;
    controls.forEach(control => {
      const button = engine.addEntity();
      Transform2.create(button, {
        parent: this.arUI,
        position: Vector32.create(xOffset, 0.4, 0.1),
        scale: Vector32.create(0.25, 0.25, 0.1),
      });
      MeshRenderer3.setBox(button);
      Material3.setPbrMaterial(button, {
        albedoColor: Color42.create(0.3, 0.6, 0.8, 1),
        emissiveColor: Color42.create(0.3, 0.6, 0.8, 0.5),
        emissiveIntensity: 2,
      });
      const buttonText = engine.addEntity();
      Transform2.create(buttonText, {
        parent: button,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape.create(buttonText, {
        text: control.icon,
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 2,
        textAlign: 3,
      });
      pointerEventsSystem.onPointerDown(
        {
          entity: button,
          opts: { button: InputAction.IA_POINTER, hoverText: control.name },
        },
        () => this.handleSessionControl(control.id)
      );
      xOffset += 0.8;
    });
  }
  // Create overlay controls
  createOverlayControls() {
    const overlayTypes = [
      { id: 'ui', icon: '\u{1F5BC}\uFE0F', name: 'UI Overlay' },
      { id: '3d', icon: '\u{1F3AE}', name: '3D Model' },
      { id: 'text', icon: '\u{1F4DD}', name: 'Text' },
      { id: 'data', icon: '\u{1F4CA}', name: 'Data' },
    ];
    let xOffset = -0.9;
    overlayTypes.forEach(type => {
      const button = engine.addEntity();
      Transform2.create(button, {
        parent: this.arUI,
        position: Vector32.create(xOffset, 0, 0.1),
        scale: Vector32.create(0.2, 0.2, 0.1),
      });
      MeshRenderer3.setBox(button);
      Material3.setPbrMaterial(button, {
        albedoColor: Color42.create(0.6, 0.3, 0.8, 1),
        emissiveColor: Color42.create(0.6, 0.3, 0.8, 0.5),
        emissiveIntensity: 2,
      });
      const buttonText = engine.addEntity();
      Transform2.create(buttonText, {
        parent: button,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape.create(buttonText, {
        text: type.icon,
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 2,
        textAlign: 3,
      });
      pointerEventsSystem.onPointerDown(
        {
          entity: button,
          opts: { button: InputAction.IA_POINTER, hoverText: type.name },
        },
        () => this.createOverlay(type.id)
      );
      xOffset += 0.6;
    });
  }
  // Create status display
  createStatusDisplay() {
    const statusDisplay = engine.addEntity();
    Transform2.create(statusDisplay, {
      parent: this.arUI,
      position: Vector32.create(0, -0.4, 0.1),
      scale: Vector32.create(0.8, 0.3, 0.1),
    });
    MeshRenderer3.setBox(statusDisplay);
    Material3.setPbrMaterial(statusDisplay, {
      albedoColor: Color42.create(0.1, 0.1, 0.1, 0.8),
      emissiveColor: Color42.create(0.1, 0.1, 0.1, 0.3),
      emissiveIntensity: 1,
    });
    const statusText = engine.addEntity();
    Transform2.create(statusText, {
      parent: statusDisplay,
      position: Vector32.create(0, 0, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(statusText, {
      text: '\u{1F4CA} Status: Ready',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 1.5,
      textAlign: 3,
    });
  }
  // Start AR engine
  startAREngine() {
    this.arEngine.initialize();
    this.trackingSystem.startTracking();
    this.renderingSystem.startRendering();
    engine.addSystem(() => {
      if (!this.isInitialized) return;
      this.updateARSession();
      this.processOverlays();
      this.updateTracking();
    });
  }
  // Setup AR interactions
  setupARInteractions() {}
  // Connect device
  connectDevice(deviceId) {
    const device = this.devices.get(deviceId);
    if (!device) return;
    device.isConnected = true;
    console.log(`\u{1F4F1} Connected to ${device.name}`);
    this.startARSession(device);
    soundSystem.playInteractionSound('powerup');
  }
  // Disconnect device
  disconnectDevice(deviceId) {
    const device = this.devices.get(deviceId);
    if (!device) return;
    device.isConnected = false;
    console.log(`\u{1F4F1} Disconnected from ${device.name}`);
    if (this.currentSession && this.currentSession.device.id === deviceId) {
      this.stopARSession();
    }
    soundSystem.playInteractionSound('click');
  }
  // Start AR session
  startARSession(device) {
    const sessionData = this.arEngine.startSession(device);
    const session = {
      id: sessionData.id,
      device,
      isActive: true,
      anchors: /* @__PURE__ */ new Map(),
      overlays: /* @__PURE__ */ new Map(),
      trackingQuality: 'high',
      planeDetection: true,
      lightEstimation: true,
    };
    this.sessions.set(session.id, session);
    this.currentSession = session;
    console.log(`\u{1F680} AR session started: ${session.id}`);
    this.startAnchorDetection();
  }
  // Stop AR session
  stopARSession() {
    if (!this.currentSession) return;
    this.arEngine.stopSession(this.currentSession.id);
    this.sessions.delete(this.currentSession.id);
    this.currentSession = null;
    console.log('\u{1F6D1} AR session stopped');
  }
  // Start anchor detection
  startAnchorDetection() {
    if (!this.currentSession) return;
    if (this.currentSession.device.capabilities.supportsPlaneDetection) {
      const planes = this.trackingSystem.detectPlanes();
      planes.forEach(plane => {
        const anchor = {
          id: plane.id,
          type: 'plane',
          position: plane.position,
          rotation: Quaternion2.fromEulerDegrees(0, 0, 0),
          confidence: 0.9,
          trackingState: 'tracking',
        };
        this.currentSession.anchors.set(anchor.id, anchor);
      });
    }
    if (this.currentSession.device.capabilities.supportsImageTracking) {
      const images = this.trackingSystem.detectImages();
      images.forEach(image => {
        const anchor = {
          id: image.id,
          type: 'image',
          position: image.position,
          rotation: Quaternion2.fromEulerDegrees(0, 0, 0),
          confidence: image.confidence,
          trackingState: 'tracking',
        };
        this.currentSession.anchors.set(anchor.id, anchor);
      });
    }
  }
  // Handle session control
  handleSessionControl(controlId) {
    switch (controlId) {
      case 'start':
        if (this.currentSession) {
          console.log('\u{1F680} Session already active');
        } else {
          const firstDevice = Array.from(this.devices.values())[0];
          if (firstDevice) {
            this.connectDevice(firstDevice.id);
          }
        }
        break;
      case 'stop':
        this.stopARSession();
        break;
      case 'reset':
        this.resetTracking();
        break;
    }
    soundSystem.playInteractionSound('click');
  }
  // Create overlay
  createOverlay(type) {
    if (!this.currentSession) {
      console.log('\u274C No active AR session');
      return;
    }
    const overlay = {
      id: `overlay_${Date.now()}`,
      type,
      content: this.generateOverlayContent(type),
      position: Vector32.create(
        Math.random() * 4 - 2,
        Math.random() * 2 + 1,
        Math.random() * 2 - 1
      ),
      rotation: Quaternion2.fromEulerDegrees(0, Math.random() * 360, 0),
      scale: Vector32.create(1, 1, 1),
      anchorType: 'world',
      isVisible: true,
      isInteractive: true,
    };
    this.overlays.set(overlay.id, overlay);
    this.currentSession.overlays.set(overlay.id, overlay);
    console.log(`\u{1F3A8} Created ${type} overlay: ${overlay.id}`);
    soundSystem.playInteractionSound('click');
  }
  // Generate overlay content
  generateOverlayContent(type) {
    switch (type) {
      case 'ui':
        return {
          title: 'AR UI Panel',
          elements: ['Button', 'Slider', 'Text'],
          layout: 'vertical',
        };
      case '3d':
        return {
          model: 'cube',
          material: 'metallic',
          animations: ['rotate', 'pulse'],
        };
      case 'text':
        return {
          text: 'Hello AR World!',
          fontSize: 24,
          color: '#FFFFFF',
          font: 'Arial',
        };
      case 'data':
        return {
          chartType: 'bar',
          data: [10, 20, 30, 40, 50],
          labels: ['A', 'B', 'C', 'D', 'E'],
        };
      default:
        return {};
    }
  }
  // Update AR session
  updateARSession() {
    if (!this.currentSession) return;
    const time = Date.now() / 1e3;
    const quality = Math.sin(time * 0.5) > 0 ? 'high' : 'medium';
    this.currentSession.trackingQuality = quality;
    const device = this.currentSession.device;
    device.position = Vector32.create(
      Math.sin(time * 0.3) * 0.5,
      Math.cos(time * 0.2) * 0.2,
      Math.sin(time * 0.4) * 0.3
    );
  }
  // Process overlays
  processOverlays() {
    if (!this.currentSession) return;
    const overlays = Array.from(this.currentSession.overlays.values());
    this.renderingSystem.renderFrame(overlays);
    overlays.forEach(overlay => {
      if (overlay.isVisible) {
        const time = Date.now() / 1e3;
        overlay.position.y += Math.sin(time * 2 + parseInt(overlay.id)) * 1e-3;
      }
    });
  }
  // Update tracking
  updateTracking() {
    if (!this.currentSession) return;
    this.currentSession.anchors.forEach(anchor => {
      if (Math.random() < 0.01) {
        anchor.trackingState = anchor.trackingState === 'tracking' ? 'limited' : 'tracking';
      }
    });
    if (Math.random() < 5e-3) {
      this.startAnchorDetection();
    }
  }
  // Reset tracking
  resetTracking() {
    if (!this.currentSession) return;
    console.log('\u{1F504} Resetting AR tracking...');
    this.currentSession.anchors.clear();
    this.startAnchorDetection();
    soundSystem.playInteractionSound('powerup');
  }
  // Get current session
  getCurrentSession() {
    return this.currentSession;
  }
  // Get all devices
  getDevices() {
    return Array.from(this.devices.values());
  }
  // Get connected devices
  getConnectedDevices() {
    return Array.from(this.devices.values()).filter(device => device.isConnected);
  }
  // Get overlays
  getOverlays() {
    return Array.from(this.overlays.values());
  }
  // Update overlay visibility
  setOverlayVisibility(overlayId, isVisible) {
    const overlay = this.overlays.get(overlayId);
    if (overlay) {
      overlay.isVisible = isVisible;
      console.log(`\u{1F441}\uFE0F Overlay ${overlayId} ${isVisible ? 'shown' : 'hidden'}`);
    }
  }
  // Update overlay position
  updateOverlayPosition(overlayId, position) {
    const overlay = this.overlays.get(overlayId);
    if (overlay) {
      overlay.position = position;
      console.log(`\u{1F4CD} Moved overlay ${overlayId} to position`);
    }
  }
  // Remove overlay
  removeOverlay(overlayId) {
    const overlay = this.overlays.get(overlayId);
    if (overlay) {
      this.overlays.delete(overlayId);
      if (this.currentSession) {
        this.currentSession.overlays.delete(overlayId);
      }
      console.log(`\u{1F5D1}\uFE0F Removed overlay: ${overlayId}`);
    }
  }
  // Cleanup system
  cleanup() {
    this.stopARSession();
    this.devices.clear();
    this.sessions.clear();
    this.overlays.clear();
    if (this.arUI) {
      engine.removeEntity(this.arUI);
    }
    this.trackingSystem.stopTracking();
    this.renderingSystem.stopRendering();
    this.isInitialized = false;
  }
};
var arIntegrationSystem = new ARIntegrationSystem();

// src/avatar-system.ts
var AvatarSystem = class {
  constructor() {
    this.avatarParts = /* @__PURE__ */ new Map();
    this.presets = /* @__PURE__ */ new Map();
    this.isInitialized = false;
    this.currentAvatar = this.createDefaultAvatar();
    this.animationState = {
      currentAnimation: 'idle',
      isPlaying: true,
      speed: 1,
      loop: true,
    };
  }
  // Initialize avatar system
  initialize() {
    console.log('\u{1F464} Avatar System Initializing...');
    this.loadAvatarPresets();
    this.createAvatar();
    this.createCustomizationUI();
    this.setupAvatarAnimations();
    this.isInitialized = true;
    console.log('\u{1F464} Avatar System Ready!');
  }
  // Create default avatar
  createDefaultAvatar() {
    return {
      id: 'default',
      name: 'Default Avatar',
      bodyType: 'humanoid',
      primaryColor: Color32.create(0.3, 0.5, 0.8),
      secondaryColor: Color32.create(0.8, 0.6, 0.2),
      accessories: [],
      animations: ['idle', 'walk', 'wave', 'dance'],
      effects: [],
      scale: Vector32.create(1, 2, 1),
      position: Vector32.create(8, 1, 8),
    };
  }
  // Load avatar presets
  loadAvatarPresets() {
    const presets = [
      {
        id: 'professional',
        name: 'Professional',
        category: 'professional',
        thumbnail: '\u{1F454}',
        customization: {
          id: 'professional',
          name: 'Professional Avatar',
          bodyType: 'humanoid',
          primaryColor: Color32.create(0.2, 0.3, 0.6),
          secondaryColor: Color32.create(0.8, 0.8, 0.8),
          accessories: ['tie', 'briefcase'],
          animations: ['idle', 'walk', 'type', 'present'],
          effects: [],
          scale: Vector32.create(1, 2, 1),
          position: Vector32.create(8, 1, 8),
        },
      },
      {
        id: 'cyberpunk',
        name: 'Cyberpunk',
        category: 'futuristic',
        thumbnail: '\u{1F916}',
        customization: {
          id: 'cyberpunk',
          name: 'Cyberpunk Avatar',
          bodyType: 'cyborg',
          primaryColor: Color32.create(0.8, 0.2, 0.8),
          secondaryColor: Color32.create(0.2, 0.8, 0.8),
          accessories: ['helmet', 'armor', 'glowing-eyes'],
          animations: ['idle', 'walk', 'hack', 'transform'],
          effects: [
            { type: 'glow', intensity: 0.8, color: Color32.create(0.8, 0.2, 0.8), enabled: true },
            {
              type: 'particles',
              intensity: 0.5,
              color: Color32.create(0.2, 0.8, 0.8),
              enabled: true,
            },
          ],
          scale: Vector32.create(1.1, 2.1, 1.1),
          position: Vector32.create(8, 1, 8),
        },
      },
      {
        id: 'energy',
        name: 'Energy Being',
        category: 'futuristic',
        thumbnail: '\u2728',
        customization: {
          id: 'energy',
          name: 'Energy Being',
          bodyType: 'energy',
          primaryColor: Color32.create(0.8, 0.8, 1),
          secondaryColor: Color32.create(1, 0.8, 0.8),
          accessories: ['energy-orbs'],
          animations: ['idle', 'float', 'pulse', 'teleport'],
          effects: [
            { type: 'glow', intensity: 1, color: Color32.create(0.8, 0.8, 1), enabled: true },
            {
              type: 'particles',
              intensity: 0.8,
              color: Color32.create(1, 0.8, 0.8),
              enabled: true,
            },
            { type: 'hologram', intensity: 0.6, color: Color32.create(0.8, 1, 0.8), enabled: true },
          ],
          scale: Vector32.create(0.9, 2.2, 0.9),
          position: Vector32.create(8, 1, 8),
        },
      },
      {
        id: 'artist',
        name: 'Artist',
        category: 'artistic',
        thumbnail: '\u{1F3A8}',
        customization: {
          id: 'artist',
          name: 'Artist Avatar',
          bodyType: 'humanoid',
          primaryColor: Color32.create(0.8, 0.4, 0.2),
          secondaryColor: Color32.create(0.2, 0.8, 0.4),
          accessories: ['beret', 'palette'],
          animations: ['idle', 'walk', 'paint', 'dance'],
          effects: [
            {
              type: 'particles',
              intensity: 0.3,
              color: Color32.create(0.8, 0.4, 0.2),
              enabled: true,
            },
          ],
          scale: Vector32.create(1, 2, 1),
          position: Vector32.create(8, 1, 8),
        },
      },
    ];
    presets.forEach(preset => {
      this.presets.set(preset.id, preset);
    });
  }
  // Create avatar entity
  createAvatar() {
    this.avatarEntity = engine.addEntity();
    Transform2.create(this.avatarEntity, {
      position: this.currentAvatar.position,
      scale: this.currentAvatar.scale,
      rotation: Quaternion2.fromEulerDegrees(0, 0, 0),
    });
    this.createAvatarBody();
    this.createAvatarAccessories();
    this.applyAvatarEffects();
  }
  // Create avatar body based on type
  createAvatarBody() {
    const body = engine.addEntity();
    Transform2.create(body, {
      parent: this.avatarEntity,
      position: Vector32.create(0, 0, 0),
      scale: Vector32.create(0.8, 1.6, 0.4),
    });
    switch (this.currentAvatar.bodyType) {
      case 'humanoid':
        MeshRenderer3.setBox(body);
        Material3.setPbrMaterial(body, {
          albedoColor: Color42.create(
            this.currentAvatar.primaryColor.r,
            this.currentAvatar.primaryColor.g,
            this.currentAvatar.primaryColor.b,
            1
          ),
          roughness: 0.3,
          metallic: 0.1,
        });
        break;
      case 'robot':
        MeshRenderer3.setBox(body);
        Material3.setPbrMaterial(body, {
          albedoColor: Color42.create(
            this.currentAvatar.primaryColor.r,
            this.currentAvatar.primaryColor.g,
            this.currentAvatar.primaryColor.b,
            1
          ),
          roughness: 0.1,
          metallic: 0.9,
          emissiveColor: Color42.create(
            this.currentAvatar.primaryColor.r * 0.3,
            this.currentAvatar.primaryColor.g * 0.3,
            this.currentAvatar.primaryColor.b * 0.3,
            0.5
          ),
          emissiveIntensity: 2,
        });
        break;
      case 'cyborg':
        MeshRenderer3.setBox(body);
        Material3.setPbrMaterial(body, {
          albedoColor: Color42.create(
            this.currentAvatar.primaryColor.r,
            this.currentAvatar.primaryColor.g,
            this.currentAvatar.primaryColor.b,
            1
          ),
          roughness: 0.2,
          metallic: 0.7,
          emissiveColor: Color42.create(
            this.currentAvatar.secondaryColor.r * 0.5,
            this.currentAvatar.secondaryColor.g * 0.5,
            this.currentAvatar.secondaryColor.b * 0.5,
            0.6
          ),
          emissiveIntensity: 3,
        });
        break;
      case 'energy':
        MeshRenderer3.setSphere(body);
        Material3.setPbrMaterial(body, {
          albedoColor: Color42.create(
            this.currentAvatar.primaryColor.r,
            this.currentAvatar.primaryColor.g,
            this.currentAvatar.primaryColor.b,
            0.6
          ),
          roughness: 0,
          metallic: 1,
          emissiveColor: Color42.create(
            this.currentAvatar.primaryColor.r,
            this.currentAvatar.primaryColor.g,
            this.currentAvatar.primaryColor.b,
            1
          ),
          emissiveIntensity: 5,
        });
        break;
    }
    this.avatarParts.set('body', body);
    this.createAvatarHead();
  }
  // Create avatar head
  createAvatarHead() {
    const head = engine.addEntity();
    Transform2.create(head, {
      parent: this.avatarEntity,
      position: Vector32.create(0, 1.2, 0),
      scale: Vector32.create(0.4, 0.4, 0.4),
    });
    if (this.currentAvatar.bodyType === 'energy') {
      MeshRenderer3.setSphere(head);
    } else {
      MeshRenderer3.setBox(head);
    }
    Material3.setPbrMaterial(head, {
      albedoColor: Color42.create(
        this.currentAvatar.secondaryColor.r,
        this.currentAvatar.secondaryColor.g,
        this.currentAvatar.secondaryColor.b,
        1
      ),
      roughness: 0.2,
      metallic: 0.1,
    });
    this.avatarParts.set('head', head);
  }
  // Create avatar accessories
  createAvatarAccessories() {
    this.currentAvatar.accessories.forEach(accessory => {
      this.createAccessory(accessory);
    });
  }
  // Create individual accessory
  createAccessory(accessory) {
    const accessoryEntity = engine.addEntity();
    switch (accessory) {
      case 'tie':
        Transform2.create(accessoryEntity, {
          parent: this.avatarEntity,
          position: Vector32.create(0, 0.2, 0.21),
          scale: Vector32.create(0.1, 0.8, 0.05),
        });
        MeshRenderer3.setBox(accessoryEntity);
        Material3.setPbrMaterial(accessoryEntity, {
          albedoColor: Color42.create(0.8, 0.2, 0.2, 1),
          roughness: 0.1,
          metallic: 0.1,
        });
        break;
      case 'helmet':
        Transform2.create(accessoryEntity, {
          parent: this.avatarEntity,
          position: Vector32.create(0, 1.6, 0),
          scale: Vector32.create(0.5, 0.3, 0.5),
        });
        MeshRenderer3.setBox(accessoryEntity);
        Material3.setPbrMaterial(accessoryEntity, {
          albedoColor: Color42.create(0.3, 0.3, 0.3, 1),
          roughness: 0.1,
          metallic: 0.9,
          emissiveColor: Color42.create(0.2, 0.2, 0.8, 0.5),
          emissiveIntensity: 2,
        });
        break;
      case 'energy-orbs':
        for (let i = 0; i < 3; i++) {
          const orb = engine.addEntity();
          Transform2.create(orb, {
            parent: this.avatarEntity,
            position: Vector32.create(
              Math.cos((i * 120 * Math.PI) / 180) * 0.8,
              1 + Math.sin((i * 120 * Math.PI) / 180) * 0.3,
              Math.sin((i * 120 * Math.PI) / 180) * 0.8
            ),
            scale: Vector32.create(0.1, 0.1, 0.1),
          });
          MeshRenderer3.setSphere(orb);
          Material3.setPbrMaterial(orb, {
            albedoColor: Color42.create(1, 0.8, 0.2, 0.8),
            emissiveColor: Color42.create(1, 0.8, 0.2, 1),
            emissiveIntensity: 4,
          });
          this.avatarParts.set(`orb_${i}`, orb);
        }
        break;
      case 'beret':
        Transform2.create(accessoryEntity, {
          parent: this.avatarEntity,
          position: Vector32.create(0, 1.45, 0),
          scale: Vector32.create(0.5, 0.1, 0.5),
        });
        MeshRenderer3.setBox(accessoryEntity);
        Material3.setPbrMaterial(accessoryEntity, {
          albedoColor: Color42.create(0.8, 0.2, 0.2, 1),
          roughness: 0.3,
          metallic: 0.1,
        });
        break;
    }
    this.avatarParts.set(accessory, accessoryEntity);
  }
  // Apply avatar effects
  applyAvatarEffects() {
    this.currentAvatar.effects.forEach(effect => {
      if (effect.enabled) {
        this.createEffect(effect);
      }
    });
  }
  // Create individual effect
  createEffect(effect) {
    switch (effect.type) {
      case 'glow':
        this.createGlowEffect(effect);
        break;
      case 'particles':
        this.createParticleEffect(effect);
        break;
      case 'hologram':
        this.createHologramEffect(effect);
        break;
    }
  }
  // Create glow effect
  createGlowEffect(effect) {
    const glow = engine.addEntity();
    Transform2.create(glow, {
      parent: this.avatarEntity,
      position: Vector32.create(0, 1, 0),
      scale: Vector32.create(1.5, 2.5, 1.5),
    });
    MeshRenderer3.setSphere(glow);
    Material3.setPbrMaterial(glow, {
      albedoColor: Color42.create(effect.color.r, effect.color.g, effect.color.b, 0.3),
      emissiveColor: Color42.create(effect.color.r, effect.color.g, effect.color.b, 0.8),
      emissiveIntensity: effect.intensity * 3,
    });
    this.avatarParts.set('glow', glow);
  }
  // Create particle effect
  createParticleEffect(effect) {
    for (let i = 0; i < 20; i++) {
      const particle = engine.addEntity();
      Transform2.create(particle, {
        parent: this.avatarEntity,
        position: Vector32.create(
          (Math.random() - 0.5) * 2,
          Math.random() * 2,
          (Math.random() - 0.5) * 2
        ),
        scale: Vector32.create(0.05, 0.05, 0.05),
      });
      MeshRenderer3.setSphere(particle);
      Material3.setPbrMaterial(particle, {
        albedoColor: Color42.create(effect.color.r, effect.color.g, effect.color.b, 0.8),
        emissiveColor: Color42.create(effect.color.r, effect.color.g, effect.color.b, 1),
        emissiveIntensity: effect.intensity * 2,
      });
      this.avatarParts.set(`particle_${i}`, particle);
    }
  }
  // Create hologram effect
  createHologramEffect(effect) {
    const hologram = engine.addEntity();
    Transform2.create(hologram, {
      parent: this.avatarEntity,
      position: Vector32.create(0, 0, 0),
      scale: Vector32.create(1.1, 2.1, 1.1),
    });
    MeshRenderer3.setBox(hologram);
    Material3.setPbrMaterial(hologram, {
      albedoColor: Color42.create(effect.color.r, effect.color.g, effect.color.b, 0.2),
      emissiveColor: Color42.create(effect.color.r, effect.color.g, effect.color.b, 0.6),
      emissiveIntensity: effect.intensity * 2,
    });
    this.avatarParts.set('hologram', hologram);
  }
  // Create customization UI
  createCustomizationUI() {
    const uiPanel = engine.addEntity();
    Transform2.create(uiPanel, {
      position: Vector32.create(14, 3, 8),
      scale: Vector32.create(3, 4, 0.1),
    });
    MeshRenderer3.setBox(uiPanel);
    Material3.setPbrMaterial(uiPanel, {
      albedoColor: Color42.create(0.1, 0.2, 0.4, 0.9),
      emissiveColor: Color42.create(0.2, 0.4, 0.8, 0.5),
      emissiveIntensity: 2,
    });
    const title = engine.addEntity();
    Transform2.create(title, {
      parent: uiPanel,
      position: Vector32.create(0, 1.7, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape3.create(title, {
      text: '\u{1F464} AVATAR CUSTOMIZE',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 2,
      textAlign: 3,
    });
    this.createPresetButtons(uiPanel);
    this.createColorCustomization(uiPanel);
    this.createEffectToggles(uiPanel);
    this.customizationUI = uiPanel;
  }
  // Create preset buttons
  createPresetButtons(parent) {
    let yOffset = 1.2;
    this.presets.forEach((preset, index) => {
      const button = engine.addEntity();
      Transform2.create(button, {
        parent,
        position: Vector32.create(0, yOffset, 0.1),
        scale: Vector32.create(0.4, 0.3, 0.1),
      });
      MeshRenderer3.setBox(button);
      Material3.setPbrMaterial(button, {
        albedoColor: Color42.create(0.2, 0.6, 0.8, 1),
        emissiveColor: Color42.create(0.2, 0.6, 0.8, 0.5),
        emissiveIntensity: 2,
      });
      const buttonText = engine.addEntity();
      Transform2.create(buttonText, {
        parent: button,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape3.create(buttonText, {
        text: `${preset.thumbnail} ${preset.name}`,
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 2,
        textAlign: 3,
      });
      pointerEventsSystem.onPointerDown(
        {
          entity: button,
          opts: { button: InputAction.IA_POINTER, hoverText: `Select ${preset.name}` },
        },
        () => this.applyPreset(preset.id)
      );
      yOffset -= 0.4;
    });
  }
  // Create color customization
  createColorCustomization(parent) {
    const colorPanel = engine.addEntity();
    Transform2.create(colorPanel, {
      parent,
      position: Vector32.create(0, -0.5, 0.1),
      scale: Vector32.create(0.8, 0.3, 0.1),
    });
    MeshRenderer3.setBox(colorPanel);
    Material3.setPbrMaterial(colorPanel, {
      albedoColor: Color42.create(0.3, 0.3, 0.3, 0.8),
      emissiveColor: Color42.create(0.2, 0.2, 0.2, 0.3),
      emissiveIntensity: 1,
    });
    const colorText = engine.addEntity();
    Transform2.create(colorText, {
      parent: colorPanel,
      position: Vector32.create(0, 0, 0.1),
      scale: Vector32.create(0.5, 0.5, 0.5),
    });
    TextShape3.create(colorText, {
      text: '\u{1F3A8} COLORS',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 1.5,
      textAlign: 3,
    });
  }
  // Create effect toggles
  createEffectToggles(parent) {
    const effectPanel = engine.addEntity();
    Transform2.create(effectPanel, {
      parent,
      position: Vector32.create(0, -1.2, 0.1),
      scale: Vector32.create(0.8, 0.3, 0.1),
    });
    MeshRenderer3.setBox(effectPanel);
    Material3.setPbrMaterial(effectPanel, {
      albedoColor: Color42.create(0.3, 0.3, 0.3, 0.8),
      emissiveColor: Color42.create(0.2, 0.2, 0.2, 0.3),
      emissiveIntensity: 1,
    });
    const effectText = engine.addEntity();
    Transform2.create(effectText, {
      parent: effectPanel,
      position: Vector32.create(0, 0, 0.1),
      scale: Vector32.create(0.5, 0.5, 0.5),
    });
    TextShape3.create(effectText, {
      text: '\u2728 EFFECTS',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 1.5,
      textAlign: 3,
    });
  }
  // Setup avatar animations
  setupAvatarAnimations() {
    engine.addSystem(() => {
      if (!this.isInitialized) return;
      this.updateAnimations();
      this.updateEffects();
    });
  }
  // Update animations
  updateAnimations() {
    if (!this.animationState.isPlaying) return;
    const time = Date.now() / 1e3;
    const body = this.avatarParts.get('body');
    if (body) {
      switch (this.animationState.currentAnimation) {
        case 'idle':
          const idleBob = Math.sin(time * 2) * 0.02;
          const transform = Transform2.getMutable(body);
          transform.position.y = idleBob;
          break;
        case 'walk':
          const walkBob = Math.abs(Math.sin(time * 4)) * 0.05;
          const walkTransform = Transform2.getMutable(body);
          walkTransform.position.y = walkBob;
          walkTransform.rotation = Quaternion2.fromEulerDegrees(Math.sin(time * 4) * 5, 0, 0);
          break;
        case 'dance':
          const danceTransform = Transform2.getMutable(body);
          danceTransform.rotation = Quaternion2.fromEulerDegrees(
            Math.sin(time * 3) * 10,
            Math.cos(time * 2) * 15,
            Math.sin(time * 4) * 5
          );
          break;
        case 'float':
          const floatTransform = Transform2.getMutable(body);
          floatTransform.position.y = Math.sin(time * 1.5) * 0.1;
          break;
      }
    }
  }
  // Update effects
  updateEffects() {
    this.avatarParts.forEach((part, key) => {
      if (key.startsWith('particle_')) {
        const time = Date.now() / 1e3;
        const transform = Transform2.getMutable(part);
        transform.position.y += Math.sin(time + parseInt(key.split('_')[1])) * 0.01;
      }
      if (key.startsWith('orb_')) {
        const time = Date.now() / 1e3;
        const index = parseInt(key.split('_')[1]);
        const radius = 0.8 + Math.sin(time * 2 + (index * 120 * Math.PI) / 180) * 0.2;
        const transform = Transform2.getMutable(part);
        transform.position.x = Math.cos(time + (index * 120 * Math.PI) / 180) * radius;
        transform.position.z = Math.sin(time + (index * 120 * Math.PI) / 180) * radius;
      }
    });
  }
  // Apply preset
  applyPreset(presetId) {
    const preset = this.presets.get(presetId);
    if (!preset) return;
    console.log(`\u{1F464} Applying preset: ${preset.name}`);
    soundSystem.playInteractionSound('powerup');
    this.clearCurrentAvatar();
    this.currentAvatar = { ...preset.customization };
    this.createAvatar();
  }
  // Clear current avatar
  clearCurrentAvatar() {
    this.avatarParts.forEach(part => {
      engine.removeEntity(part);
    });
    this.avatarParts.clear();
  }
  // Play animation
  playAnimation(animationName) {
    if (this.currentAvatar.animations.includes(animationName)) {
      this.animationState.currentAnimation = animationName;
      this.animationState.isPlaying = true;
      console.log(`\u{1F3AC} Playing animation: ${animationName}`);
    }
  }
  // Stop animation
  stopAnimation() {
    this.animationState.isPlaying = false;
  }
  // Get current avatar customization
  getCurrentAvatar() {
    return { ...this.currentAvatar };
  }
  // Get available presets
  getAvailablePresets() {
    return Array.from(this.presets.values());
  }
  // Customize avatar colors
  customizeColors(primaryColor, secondaryColor) {
    this.currentAvatar.primaryColor = primaryColor;
    this.currentAvatar.secondaryColor = secondaryColor;
    const body = this.avatarParts.get('body');
    if (body) {
      const material = Material3.getMutable(body);
      if (material && material.$case === 'pbr') {
        material.pbr.albedoColor = Color42.create(
          primaryColor.r,
          primaryColor.g,
          primaryColor.b,
          1
        );
      }
    }
    const head = this.avatarParts.get('head');
    if (head) {
      const material = Material3.getMutable(head);
      if (material && material.$case === 'pbr') {
        material.pbr.albedoColor = Color42.create(
          secondaryColor.r,
          secondaryColor.g,
          secondaryColor.b,
          1
        );
      }
    }
  }
  // Add accessory
  addAccessory(accessory) {
    if (!this.currentAvatar.accessories.includes(accessory)) {
      this.currentAvatar.accessories.push(accessory);
      this.createAccessory(accessory);
      soundSystem.playInteractionSound('click');
    }
  }
  // Remove accessory
  removeAccessory(accessory) {
    const index = this.currentAvatar.accessories.indexOf(accessory);
    if (index > -1) {
      this.currentAvatar.accessories.splice(index, 1);
      const part = this.avatarParts.get(accessory);
      if (part) {
        engine.removeEntity(part);
        this.avatarParts.delete(accessory);
      }
      soundSystem.playInteractionSound('click');
    }
  }
  // Toggle effect
  toggleEffect(effectType) {
    const effect = this.currentAvatar.effects.find(e => e.type === effectType);
    if (effect) {
      effect.enabled = !effect.enabled;
      if (effect.enabled) {
        this.createEffect(effect);
      } else {
        this.avatarParts.forEach((part, key) => {
          if (key.startsWith(effectType)) {
            engine.removeEntity(part);
            this.avatarParts.delete(key);
          }
        });
      }
      soundSystem.playInteractionSound('click');
    }
  }
  // Cleanup system
  cleanup() {
    this.clearCurrentAvatar();
    if (this.avatarEntity) {
      engine.removeEntity(this.avatarEntity);
    }
    if (this.customizationUI) {
      engine.removeEntity(this.customizationUI);
    }
    this.presets.clear();
    this.isInitialized = false;
  }
};
var avatarSystem = new AvatarSystem();

// src/blockchain-integration.ts
var BlockchainIntegrationSystem = class {
  constructor() {
    this.wallets = /* @__PURE__ */ new Map();
    this.assets = /* @__PURE__ */ new Map();
    this.transactions = /* @__PURE__ */ new Map();
    this.contracts = /* @__PURE__ */ new Map();
    this.isInitialized = false;
    this.currentWallet = null;
    this.supportedChains = ['ethereum', 'polygon', 'arbitrum', 'optimism'];
    this.gasPrices = /* @__PURE__ */ new Map();
    this.initializeGasPrices();
  }
  // Initialize blockchain system
  initialize() {
    console.log('\u26D3\uFE0F Blockchain Integration System Initializing...');
    this.setupSmartContracts();
    this.createBlockchainUI();
    this.createDefaultWallet();
    this.initializeBlockchainConnection();
    this.startBlockchainEngine();
    this.isInitialized = true;
    console.log('\u26D3\uFE0F Blockchain Integration System Ready!');
  }
  // Initialize gas prices
  initializeGasPrices() {
    this.gasPrices.set('ethereum', 20);
    this.gasPrices.set('polygon', 30);
    this.gasPrices.set('arbitrum', 0.1);
    this.gasPrices.set('optimism', 0.1);
  }
  // Setup smart contracts
  setupSmartContracts() {
    this.contracts.set('asset_registry', {
      id: 'asset_registry',
      name: 'Asset Registry',
      address: '0x1234567890123456789012345678901234567890',
      abi: [],
      functions: /* @__PURE__ */ new Map([
        [
          'mintAsset',
          {
            name: 'mintAsset',
            inputs: [
              { name: 'to', type: 'address' },
              { name: 'uri', type: 'string' },
            ],
            outputs: [{ name: 'tokenId', type: 'uint256' }],
            isPayable: false,
            isView: false,
          },
        ],
        [
          'transferAsset',
          {
            name: 'transferAsset',
            inputs: [
              { name: 'from', type: 'address' },
              { name: 'to', type: 'address' },
              { name: 'tokenId', type: 'uint256' },
            ],
            outputs: [],
            isPayable: false,
            isView: false,
          },
        ],
      ]),
      isActive: true,
    });
    this.contracts.set('certificate', {
      id: 'certificate',
      name: 'Certificate Registry',
      address: '0x2345678901234567890123456789012345678901',
      abi: [],
      functions: /* @__PURE__ */ new Map([
        [
          'issueCertificate',
          {
            name: 'issueCertificate',
            inputs: [
              { name: 'recipient', type: 'address' },
              { name: 'metadata', type: 'string' },
            ],
            outputs: [{ name: 'certificateId', type: 'uint256' }],
            isPayable: false,
            isView: false,
          },
        ],
        [
          'verifyCertificate',
          {
            name: 'verifyCertificate',
            inputs: [{ name: 'certificateId', type: 'uint256' }],
            outputs: [{ name: 'isValid', type: 'bool' }],
            isPayable: false,
            isView: true,
          },
        ],
      ]),
      isActive: true,
    });
    this.contracts.set('badge', {
      id: 'badge',
      name: 'Achievement Badges',
      address: '0x3456789012345678901234567890123456789012',
      abi: [],
      functions: /* @__PURE__ */ new Map([
        [
          'awardBadge',
          {
            name: 'awardBadge',
            inputs: [
              { name: 'user', type: 'address' },
              { name: 'badgeType', type: 'uint256' },
            ],
            outputs: [],
            isPayable: false,
            isView: false,
          },
        ],
        [
          'getUserBadges',
          {
            name: 'getUserBadges',
            inputs: [{ name: 'user', type: 'address' }],
            outputs: [{ name: 'badgeIds', type: 'uint256[]' }],
            isPayable: false,
            isView: true,
          },
        ],
      ]),
      isActive: true,
    });
  }
  // Create blockchain UI
  createBlockchainUI() {
    this.blockchainUI = engine.addEntity();
    Transform2.create(this.blockchainUI, {
      position: Vector32.create(2, 3, 8),
      scale: Vector32.create(3, 4, 0.1),
    });
    MeshRenderer3.setBox(this.blockchainUI);
    Material3.setPbrMaterial(this.blockchainUI, {
      albedoColor: Color42.create(0.1, 0.2, 0.4, 0.9),
      emissiveColor: Color42.create(0.2, 0.4, 0.8, 0.5),
      emissiveIntensity: 2,
    });
    const title = engine.addEntity();
    Transform2.create(title, {
      parent: this.blockchainUI,
      position: Vector32.create(0, 1.7, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(title, {
      text: '\u26D3\uFE0F BLOCKCHAIN ASSETS',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 2,
      textAlign: 3,
    });
    this.createWalletSection();
    this.createAssetsSection();
    this.createTransactionsSection();
    this.createBlockchainControls();
  }
  // Create wallet section
  createWalletSection() {
    const walletSection = engine.addEntity();
    Transform2.create(walletSection, {
      parent: this.blockchainUI,
      position: Vector32.create(0, 1.2, 0.1),
      scale: Vector32.create(0.8, 0.3, 0.1),
    });
    MeshRenderer3.setBox(walletSection);
    Material3.setPbrMaterial(walletSection, {
      albedoColor: Color42.create(0.2, 0.2, 0.2, 0.8),
      emissiveColor: Color42.create(0.2, 0.2, 0.2, 0.3),
      emissiveIntensity: 1,
    });
    const walletText = engine.addEntity();
    Transform2.create(walletText, {
      parent: walletSection,
      position: Vector32.create(0, 0, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(walletText, {
      text: '\u{1F45B} WALLET: Not Connected',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 1.5,
      textAlign: 3,
    });
  }
  // Create assets section
  createAssetsSection() {
    const assetsSection = engine.addEntity();
    Transform2.create(assetsSection, {
      parent: this.blockchainUI,
      position: Vector32.create(0, 0.5, 0.1),
      scale: Vector32.create(0.8, 0.4, 0.1),
    });
    MeshRenderer3.setBox(assetsSection);
    Material3.setPbrMaterial(assetsSection, {
      albedoColor: Color42.create(0.1, 0.1, 0.1, 0.8),
      emissiveColor: Color42.create(0.1, 0.1, 0.1, 0.3),
      emissiveIntensity: 1,
    });
    const assetsText = engine.addEntity();
    Transform2.create(assetsText, {
      parent: assetsSection,
      position: Vector32.create(0, 0.1, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(assetsText, {
      text: '\u{1F3A8} ASSETS: 0',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 1.5,
      textAlign: 3,
    });
  }
  // Create transactions section
  createTransactionsSection() {
    const transactionsSection = engine.addEntity();
    Transform2.create(transactionsSection, {
      parent: this.blockchainUI,
      position: Vector32.create(0, -0.2, 0.1),
      scale: Vector32.create(0.8, 0.3, 0.1),
    });
    MeshRenderer3.setBox(transactionsSection);
    Material3.setPbrMaterial(transactionsSection, {
      albedoColor: Color42.create(0.1, 0.1, 0.1, 0.8),
      emissiveColor: Color42.create(0.1, 0.1, 0.1, 0.3),
      emissiveIntensity: 1,
    });
    const transactionsText = engine.addEntity();
    Transform2.create(transactionsText, {
      parent: transactionsSection,
      position: Vector32.create(0, 0, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(transactionsText, {
      text: '\u{1F4CA} TRANSACTIONS: 0',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 1.5,
      textAlign: 3,
    });
  }
  // Create blockchain controls
  createBlockchainControls() {
    const controls = [
      { id: 'connect', icon: '\u{1F517}', name: 'Connect Wallet' },
      { id: 'mint', icon: '\u{1F3A8}', name: 'Mint Asset' },
      { id: 'transfer', icon: '\u{1F4B8}', name: 'Transfer' },
      { id: 'verify', icon: '\u2705', name: 'Verify' },
    ];
    let xOffset = -0.9;
    controls.forEach(control => {
      const button = engine.addEntity();
      Transform2.create(button, {
        parent: this.blockchainUI,
        position: Vector32.create(xOffset, -0.7, 0.1),
        scale: Vector32.create(0.3, 0.3, 0.1),
      });
      MeshRenderer3.setBox(button);
      Material3.setPbrMaterial(button, {
        albedoColor: Color42.create(0.3, 0.6, 0.8, 1),
        emissiveColor: Color42.create(0.3, 0.6, 0.8, 0.5),
        emissiveIntensity: 2,
      });
      const buttonText = engine.addEntity();
      Transform2.create(buttonText, {
        parent: button,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape.create(buttonText, {
        text: control.icon,
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 2,
        textAlign: 3,
      });
      pointerEventsSystem.onPointerDown(
        {
          entity: button,
          opts: { button: InputAction.IA_POINTER, hoverText: control.name },
        },
        () => this.handleBlockchainControl(control.id)
      );
      xOffset += 0.6;
    });
  }
  // Create default wallet
  createDefaultWallet() {
    const wallet = {
      id: 'wallet_default',
      address: '0xabcdef1234567890abcdef1234567890abcdef12',
      chain: 'ethereum',
      balance: /* @__PURE__ */ new Map([
        ['ETH', 2.5],
        ['USDC', 1e3],
        ['AIG', 500],
      ]),
      assets: [],
      isConnected: false,
      permissions: ['read', 'write', 'admin'],
    };
    this.wallets.set(wallet.id, wallet);
    console.log('\u{1F45B} Default wallet created');
  }
  // Initialize blockchain connection
  initializeBlockchainConnection() {
    console.log('\u{1F517} Initializing blockchain connections...');
    this.supportedChains.forEach(chain => {
      console.log(`\u{1F4E1} Connected to ${chain}`);
    });
  }
  // Start blockchain engine
  startBlockchainEngine() {
    engine.addSystem(() => {
      if (!this.isInitialized) return;
      this.updateBlockchainUI();
      this.simulateBlockchainActivity();
      this.updateGasPrices();
    });
  }
  // Handle blockchain control
  handleBlockchainControl(controlId) {
    switch (controlId) {
      case 'connect':
        this.connectWallet();
        break;
      case 'mint':
        this.mintAsset();
        break;
      case 'transfer':
        this.transferAsset();
        break;
      case 'verify':
        this.verifyAsset();
        break;
    }
    soundSystem.playInteractionSound('click');
  }
  // Connect wallet
  connectWallet() {
    if (this.currentWallet && this.currentWallet.isConnected) {
      console.log('\u{1F45B} Wallet already connected');
      return;
    }
    const wallet = this.wallets.get('wallet_default');
    if (!wallet) return;
    wallet.isConnected = true;
    this.currentWallet = wallet;
    console.log('\u{1F517} Wallet connected successfully');
    console.log(`\u{1F4CD} Address: ${wallet.address}`);
    console.log(`\u26D3\uFE0F Chain: ${wallet.chain}`);
    soundSystem.playInteractionSound('powerup');
  }
  // Disconnect wallet
  disconnectWallet() {
    if (!this.currentWallet) return;
    this.currentWallet.isConnected = false;
    console.log('\u{1F50C} Wallet disconnected');
    soundSystem.playInteractionSound('click');
  }
  // Mint asset
  mintAsset() {
    if (!this.currentWallet || !this.currentWallet.isConnected) {
      console.log('\u274C Please connect wallet first');
      return;
    }
    const asset = {
      id: `asset_${Date.now()}`,
      name: `AIG Asset #${this.assets.size + 1}`,
      type: 'nft',
      blockchain: this.currentWallet.chain,
      contractAddress: this.contracts.get('asset_registry')?.address || '',
      tokenId: (this.assets.size + 1).toString(),
      owner: this.currentWallet.address,
      metadata: {
        description: 'AIGestion Virtual Office Asset',
        image: 'ipfs://QmHash...',
        attributes: /* @__PURE__ */ new Map([
          ['created_by', 'AIGestion'],
          ['office_space', 'virtual'],
          ['utility', 'productivity'],
        ]),
        rarity: 'rare',
        category: 'office',
        creator: 'AIGestion',
        royalties: 2.5,
      },
      value: 0.1,
      currency: 'ETH',
      isVerified: true,
      createdAt: Date.now(),
      lastTransferred: Date.now(),
    };
    this.assets.set(asset.id, asset);
    this.currentWallet.assets.push(asset);
    const transaction = {
      id: `tx_${Date.now()}`,
      type: 'mint',
      from: '0x0000000000000000000000000000000000000000',
      to: this.currentWallet.address,
      asset,
      amount: 1,
      gasFee: this.gasPrices.get(this.currentWallet.chain) || 20,
      status: 'confirmed',
      timestamp: Date.now(),
      blockNumber: 12345678,
    };
    this.transactions.set(transaction.id, transaction);
    console.log(`\u{1F3A8} Minted new asset: ${asset.name}`);
    console.log(`\u{1F194} Token ID: ${asset.tokenId}`);
    console.log(`\u{1F4B0} Value: ${asset.value} ${asset.currency}`);
    soundSystem.playInteractionSound('powerup');
  }
  // Transfer asset
  transferAsset() {
    if (!this.currentWallet || !this.currentWallet.isConnected) {
      console.log('\u274C Please connect wallet first');
      return;
    }
    if (this.currentWallet.assets.length === 0) {
      console.log('\u274C No assets to transfer');
      return;
    }
    const asset = this.currentWallet.assets[0];
    const recipient = '0x1234567890123456789012345678901234567890';
    const transaction = {
      id: `tx_${Date.now()}`,
      type: 'transfer',
      from: this.currentWallet.address,
      to: recipient,
      asset,
      amount: 1,
      gasFee: this.gasPrices.get(this.currentWallet.chain) || 20,
      status: 'pending',
      timestamp: Date.now(),
    };
    this.transactions.set(transaction.id, transaction);
    asset.owner = recipient;
    asset.lastTransferred = Date.now();
    const index = this.currentWallet.assets.indexOf(asset);
    if (index > -1) {
      this.currentWallet.assets.splice(index, 1);
    }
    console.log(`\u{1F4B8} Transferred ${asset.name} to ${recipient}`);
    setTimeout(() => {
      transaction.status = 'confirmed';
      transaction.blockNumber = 12345679;
      console.log(`\u2705 Transaction confirmed: ${transaction.id}`);
    }, 3e3);
    soundSystem.playInteractionSound('click');
  }
  // Verify asset
  verifyAsset() {
    if (this.assets.size === 0) {
      console.log('\u274C No assets to verify');
      return;
    }
    const asset = Array.from(this.assets.values())[0];
    console.log(`\u{1F50D} Verifying asset: ${asset.name}`);
    console.log(`\u{1F194} Token ID: ${asset.tokenId}`);
    console.log(`\u26D3\uFE0F Blockchain: ${asset.blockchain}`);
    console.log(`\u2705 Verification: ${asset.isVerified ? 'VALID' : 'INVALID'}`);
    console.log(`\u{1F464} Owner: ${asset.owner}`);
    console.log(`\u{1F4C5} Created: ${new Date(asset.createdAt).toLocaleString()}`);
    soundSystem.playInteractionSound('powerup');
  }
  // Issue certificate
  issueCertificate(recipient, metadata) {
    const certificate = {
      id: `cert_${Date.now()}`,
      name: `Certificate #${this.assets.size + 1}`,
      type: 'certificate',
      blockchain: this.currentWallet?.chain || 'ethereum',
      contractAddress: this.contracts.get('certificate')?.address || '',
      tokenId: (this.assets.size + 1).toString(),
      owner: recipient,
      metadata: {
        description: 'AIGestion Achievement Certificate',
        image: 'ipfs://QmCertHash...',
        attributes: /* @__PURE__ */ new Map([
          ['type', 'achievement'],
          ['issuer', 'AIGestion'],
          ['metadata', metadata],
        ]),
        rarity: 'uncommon',
        category: 'certificate',
        creator: 'AIGestion',
        royalties: 0,
      },
      value: 0,
      currency: 'ETH',
      isVerified: true,
      createdAt: Date.now(),
      lastTransferred: Date.now(),
    };
    this.assets.set(certificate.id, certificate);
    const transaction = {
      id: `tx_${Date.now()}`,
      type: 'mint',
      from: '0x0000000000000000000000000000000000000000',
      to: recipient,
      asset: certificate,
      amount: 1,
      gasFee: this.gasPrices.get(this.currentWallet?.chain || 'ethereum') || 20,
      status: 'confirmed',
      timestamp: Date.now(),
      blockNumber: 12345680,
    };
    this.transactions.set(transaction.id, transaction);
    console.log(`\u{1F4DC} Issued certificate to ${recipient}`);
    soundSystem.playInteractionSound('powerup');
  }
  // Award badge
  awardBadge(user, badgeType) {
    const badge = {
      id: `badge_${Date.now()}`,
      name: `${badgeType} Badge`,
      type: 'badge',
      blockchain: this.currentWallet?.chain || 'ethereum',
      contractAddress: this.contracts.get('badge')?.address || '',
      tokenId: (this.assets.size + 1).toString(),
      owner: user,
      metadata: {
        description: `${badgeType} Achievement Badge`,
        image: 'ipfs://QmBadgeHash...',
        attributes: /* @__PURE__ */ new Map([
          ['type', badgeType],
          ['issuer', 'AIGestion'],
          ['achievement_level', 'gold'],
        ]),
        rarity: 'rare',
        category: 'badge',
        creator: 'AIGestion',
        royalties: 0,
      },
      value: 0,
      currency: 'ETH',
      isVerified: true,
      createdAt: Date.now(),
      lastTransferred: Date.now(),
    };
    this.assets.set(badge.id, badge);
    const transaction = {
      id: `tx_${Date.now()}`,
      type: 'mint',
      from: '0x0000000000000000000000000000000000000000',
      to: user,
      asset: badge,
      amount: 1,
      gasFee: this.gasPrices.get(this.currentWallet?.chain || 'ethereum') || 20,
      status: 'confirmed',
      timestamp: Date.now(),
      blockNumber: 12345681,
    };
    this.transactions.set(transaction.id, transaction);
    console.log(`\u{1F3C6} Awarded ${badgeType} badge to ${user}`);
    soundSystem.playInteractionSound('powerup');
  }
  // Update blockchain UI
  updateBlockchainUI() {}
  // Simulate blockchain activity
  simulateBlockchainActivity() {
    if (Math.random() < 0.01) {
      this.simulateIncomingTransaction();
    }
  }
  // Simulate incoming transaction
  simulateIncomingTransaction() {
    if (!this.currentWallet || !this.currentWallet.isConnected) return;
    const assetTypes = ['nft', 'badge', 'certificate'];
    const randomType = assetTypes[Math.floor(Math.random() * assetTypes.length)];
    const asset = {
      id: `asset_${Date.now()}`,
      name: `Received ${randomType}`,
      type: randomType,
      blockchain: this.currentWallet.chain,
      contractAddress: this.contracts.get('asset_registry')?.address || '',
      tokenId: Math.floor(Math.random() * 1e4).toString(),
      owner: this.currentWallet.address,
      metadata: {
        description: 'Received asset',
        image: 'ipfs://QmReceivedHash...',
        attributes: /* @__PURE__ */ new Map([
          ['received', 'true'],
          ['sender', '0xSenderAddress'],
        ]),
        rarity: 'common',
        category: randomType,
        creator: 'Unknown',
        royalties: 0,
      },
      value: Math.random() * 0.5,
      currency: 'ETH',
      isVerified: true,
      createdAt: Date.now(),
      lastTransferred: Date.now(),
    };
    this.assets.set(asset.id, asset);
    this.currentWallet.assets.push(asset);
    const transaction = {
      id: `tx_${Date.now()}`,
      type: 'transfer',
      from: '0xSenderAddress',
      to: this.currentWallet.address,
      asset,
      amount: 1,
      gasFee: this.gasPrices.get(this.currentWallet.chain) || 20,
      status: 'confirmed',
      timestamp: Date.now(),
      blockNumber: 12345682,
    };
    this.transactions.set(transaction.id, transaction);
    console.log(`\u{1F4E5} Received new asset: ${asset.name}`);
  }
  // Update gas prices
  updateGasPrices() {
    this.gasPrices.forEach((price, chain) => {
      const fluctuation = (Math.random() - 0.5) * 0.1;
      const newPrice = Math.max(0.01, price + fluctuation);
      this.gasPrices.set(chain, newPrice);
    });
  }
  // Get current wallet
  getCurrentWallet() {
    return this.currentWallet;
  }
  // Get all assets
  getAssets() {
    return Array.from(this.assets.values());
  }
  // Get transactions
  getTransactions() {
    return Array.from(this.transactions.values());
  }
  // Get gas price
  getGasPrice(chain) {
    return this.gasPrices.get(chain) || 20;
  }
  // Get supported chains
  getSupportedChains() {
    return [...this.supportedChains];
  }
  // Switch chain
  switchChain(chain) {
    if (!this.supportedChains.includes(chain)) {
      console.log(`\u274C Chain ${chain} not supported`);
      return;
    }
    if (this.currentWallet) {
      this.currentWallet.chain = chain;
      console.log(`\u26D3\uFE0F Switched to ${chain}`);
      soundSystem.playInteractionSound('click');
    }
  }
  // Get contract
  getContract(contractId) {
    return this.contracts.get(contractId);
  }
  // Call contract function
  async callContract(contractId, functionName, parameters) {
    const contract = this.contracts.get(contractId);
    if (!contract) {
      throw new Error(`Contract ${contractId} not found`);
    }
    const func = contract.functions.get(functionName);
    if (!func) {
      throw new Error(`Function ${functionName} not found in contract ${contractId}`);
    }
    console.log(`\u{1F4DE} Calling ${contractId}.${functionName} with parameters:`, parameters);
    return new Promise(resolve2 => {
      setTimeout(() => {
        console.log(`\u2705 Contract call completed`);
        resolve2({ success: true, result: 'mock_result' });
      }, 1e3);
    });
  }
  // Cleanup system
  cleanup() {
    this.wallets.clear();
    this.assets.clear();
    this.transactions.clear();
    this.contracts.clear();
    if (this.blockchainUI) {
      engine.removeEntity(this.blockchainUI);
    }
    this.currentWallet = null;
    this.isInitialized = false;
  }
};
var blockchainSystem = new BlockchainIntegrationSystem();

// src/collaboration-whiteboard.ts
var CollaborationWhiteboardSystem = class {
  constructor() {
    this.sessions = /* @__PURE__ */ new Map();
    this.currentSession = null;
    this.users = /* @__PURE__ */ new Map();
    this.drawingTools = /* @__PURE__ */ new Map();
    this.drawingEntities = /* @__PURE__ */ new Map();
    this.isInitialized = false;
    this.isDrawing = false;
    this.currentDrawing = null;
    this.drawingHistory = [];
    this.currentUser = {
      id: 'user_main',
      name: 'Main User',
      color: Color32.create(0.2, 0.6, 1),
      cursor: Vector32.create(0, 0, 0),
      isDrawing: false,
      currentTool: this.createDefaultTool(),
    };
  }
  // Initialize whiteboard system
  initialize() {
    console.log('\u{1F3A8} Collaboration Whiteboard System Initializing...');
    this.setupDrawingTools();
    this.createWhiteboard();
    this.createToolbar();
    this.startDrawingEngine();
    this.createDefaultSession();
    this.isInitialized = true;
    console.log('\u{1F3A8} Collaboration Whiteboard System Ready!');
  }
  // Setup drawing tools
  setupDrawingTools() {
    this.drawingTools.set('pen', {
      type: 'pen',
      color: Color32.create(0, 0, 0),
      strokeWidth: 2,
      isActive: true,
    });
    this.drawingTools.set('eraser', {
      type: 'eraser',
      color: Color32.create(1, 1, 1),
      strokeWidth: 10,
      isActive: false,
    });
    this.drawingTools.set('text', {
      type: 'text',
      color: Color32.create(0, 0, 0),
      strokeWidth: 1,
      isActive: false,
    });
    this.drawingTools.set('shape', {
      type: 'shape',
      color: Color32.create(0.2, 0.6, 1),
      strokeWidth: 2,
      isActive: false,
    });
    this.drawingTools.set('selection', {
      type: 'selection',
      color: Color32.create(0.8, 0.8, 0.8),
      strokeWidth: 1,
      isActive: false,
    });
  }
  // Create default tool
  createDefaultTool() {
    return {
      type: 'pen',
      color: Color32.create(0, 0, 0),
      strokeWidth: 2,
      isActive: true,
    };
  }
  // Create whiteboard surface
  createWhiteboard() {
    this.whiteboardEntity = engine.addEntity();
    Transform2.create(this.whiteboardEntity, {
      position: Vector32.create(8, 3, 2),
      scale: Vector32.create(6, 4, 0.1),
    });
    MeshRenderer3.setBox(this.whiteboardEntity);
    Material3.setPbrMaterial(this.whiteboardEntity, {
      albedoColor: Color42.create(1, 1, 1, 1),
      roughness: 0.1,
      metallic: 0,
    });
    this.createWhiteboardBorder();
    this.setupWhiteboardInteraction();
  }
  // Create whiteboard border
  createWhiteboardBorder() {
    const border = engine.addEntity();
    Transform2.create(border, {
      parent: this.whiteboardEntity,
      position: Vector32.create(0, 0, -0.05),
      scale: Vector32.create(6.1, 4.1, 0.05),
    });
    MeshRenderer3.setBox(border);
    Material3.setPbrMaterial(border, {
      albedoColor: Color42.create(0.2, 0.2, 0.2, 1),
      roughness: 0.3,
      metallic: 0.8,
    });
  }
  // Setup whiteboard interaction
  setupWhiteboardInteraction() {
    pointerEventsSystem.onPointerDown(
      {
        entity: this.whiteboardEntity,
        opts: { button: InputAction.IA_POINTER, hoverText: 'Start Drawing' },
      },
      e => this.startDrawing(e)
    );
    pointerEventsSystem.onPointerUp(
      {
        entity: this.whiteboardEntity,
        opts: { button: InputAction.IA_POINTER },
      },
      () => this.stopDrawing()
    );
    pointerEventsSystem.onPointerMove(
      {
        entity: this.whiteboardEntity,
        opts: { button: InputAction.IA_POINTER },
      },
      e => this.continueDrawing(e)
    );
  }
  // Create toolbar
  createToolbar() {
    this.toolbarEntity = engine.addEntity();
    Transform2.create(this.toolbarEntity, {
      position: Vector32.create(8, 5, 2),
      scale: Vector32.create(4, 0.8, 0.1),
    });
    MeshRenderer3.setBox(this.toolbarEntity);
    Material3.setPbrMaterial(this.toolbarEntity, {
      albedoColor: Color42.create(0.1, 0.2, 0.4, 0.9),
      emissiveColor: Color42.create(0.2, 0.4, 0.8, 0.5),
      emissiveIntensity: 2,
    });
    this.createToolButtons();
    this.createColorPalette();
    this.createSessionControls();
  }
  // Create tool buttons
  createToolButtons() {
    const tools = [
      { id: 'pen', icon: '\u270F\uFE0F', name: 'Pen' },
      { id: 'eraser', icon: '\u{1F9F9}', name: 'Eraser' },
      { id: 'text', icon: '\u{1F4DD}', name: 'Text' },
      { id: 'shape', icon: '\u2B55', name: 'Shape' },
      { id: 'selection', icon: '\u{1F446}', name: 'Select' },
    ];
    let xOffset = -1.5;
    tools.forEach(tool => {
      const button = engine.addEntity();
      Transform2.create(button, {
        parent: this.toolbarEntity,
        position: Vector32.create(xOffset, 0, 0.1),
        scale: Vector32.create(0.3, 0.3, 0.1),
      });
      MeshRenderer3.setBox(button);
      Material3.setPbrMaterial(button, {
        albedoColor: Color42.create(0.3, 0.6, 0.8, 1),
        emissiveColor: Color42.create(0.3, 0.6, 0.8, 0.5),
        emissiveIntensity: 2,
      });
      const buttonText = engine.addEntity();
      Transform2.create(buttonText, {
        parent: button,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape.create(buttonText, {
        text: tool.icon,
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 2,
        textAlign: 3,
      });
      pointerEventsSystem.onPointerDown(
        {
          entity: button,
          opts: { button: InputAction.IA_POINTER, hoverText: tool.name },
        },
        () => this.selectTool(tool.id)
      );
      xOffset += 0.8;
    });
  }
  // Create color palette
  createColorPalette() {
    const colors = [
      Color32.create(0, 0, 0),
      // Black
      Color32.create(1, 0, 0),
      // Red
      Color32.create(0, 1, 0),
      // Green
      Color32.create(0, 0, 1),
      // Blue
      Color32.create(1, 1, 0),
      // Yellow
      Color32.create(1, 0, 1),
      // Magenta
      Color32.create(0, 1, 1),
      // Cyan
      Color32.create(0.5, 0.5, 0.5),
      // Gray
    ];
    let xOffset = -1.5;
    colors.forEach((color, index) => {
      const colorButton = engine.addEntity();
      Transform2.create(colorButton, {
        parent: this.toolbarEntity,
        position: Vector32.create(xOffset, -0.3, 0.1),
        scale: Vector32.create(0.15, 0.15, 0.1),
      });
      MeshRenderer3.setBox(colorButton);
      Material3.setPbrMaterial(colorButton, {
        albedoColor: Color42.create(color.r, color.g, color.b, 1),
        roughness: 0.2,
        metallic: 0.1,
      });
      pointerEventsSystem.onPointerDown(
        {
          entity: colorButton,
          opts: { button: InputAction.IA_POINTER, hoverText: `Select Color ${index + 1}` },
        },
        () => this.selectColor(color)
      );
      xOffset += 0.4;
    });
  }
  // Create session controls
  createSessionControls() {
    const controls = [
      { id: 'new', icon: '\u{1F195}', name: 'New Session' },
      { id: 'save', icon: '\u{1F4BE}', name: 'Save' },
      { id: 'share', icon: '\u{1F517}', name: 'Share' },
      { id: 'clear', icon: '\u{1F5D1}\uFE0F', name: 'Clear' },
    ];
    let xOffset = 1.5;
    controls.forEach(control => {
      const button = engine.addEntity();
      Transform2.create(button, {
        parent: this.toolbarEntity,
        position: Vector32.create(xOffset, 0, 0.1),
        scale: Vector32.create(0.3, 0.3, 0.1),
      });
      MeshRenderer3.setBox(button);
      Material3.setPbrMaterial(button, {
        albedoColor: Color42.create(0.8, 0.4, 0.2, 1),
        emissiveColor: Color42.create(0.8, 0.4, 0.2, 0.5),
        emissiveIntensity: 2,
      });
      const buttonText = engine.addEntity();
      Transform2.create(buttonText, {
        parent: button,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape.create(buttonText, {
        text: control.icon,
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 2,
        textAlign: 3,
      });
      pointerEventsSystem.onPointerDown(
        {
          entity: button,
          opts: { button: InputAction.IA_POINTER, hoverText: control.name },
        },
        () => this.handleSessionControl(control.id)
      );
      xOffset += 0.8;
    });
  }
  // Start drawing engine
  startDrawingEngine() {
    engine.addSystem(() => {
      if (!this.isInitialized) return;
      this.updateDrawingEntities();
      this.syncWithRemoteUsers();
    });
  }
  // Create default session
  createDefaultSession() {
    const session = {
      id: 'session_default',
      name: 'Default Whiteboard',
      participants: [this.currentUser.id],
      drawings: [],
      isActive: true,
      createdAt: Date.now(),
      lastModified: Date.now(),
    };
    this.sessions.set(session.id, session);
    this.currentSession = session;
    this.users.set(this.currentUser.id, this.currentUser);
    console.log('\u{1F3A8} Default whiteboard session created');
  }
  // Start drawing
  startDrawing(event) {
    if (!this.currentSession) return;
    const point = this.getDrawingPoint(event);
    if (!point) return;
    this.isDrawing = true;
    this.currentUser.isDrawing = true;
    const drawing = {
      id: `drawing_${Date.now()}`,
      userId: this.currentUser.id,
      type: this.currentUser.currentTool.type === 'eraser' ? 'freehand' : 'line',
      points: [point],
      color: this.currentUser.currentTool.color,
      strokeWidth: this.currentUser.currentTool.strokeWidth,
      timestamp: Date.now(),
      isShared: true,
    };
    this.currentDrawing = drawing;
    this.drawingHistory.push(drawing);
    soundSystem.playInteractionSound('click');
  }
  // Continue drawing
  continueDrawing(event) {
    if (!this.isDrawing || !this.currentDrawing) return;
    const point = this.getDrawingPoint(event);
    if (!point) return;
    this.currentDrawing.points.push(point);
    this.renderDrawing(this.currentDrawing);
  }
  // Stop drawing
  stopDrawing() {
    if (!this.isDrawing || !this.currentDrawing) return;
    this.isDrawing = false;
    this.currentUser.isDrawing = false;
    if (this.currentDrawing.points.length > 1) {
      this.currentSession.drawings.push(this.currentDrawing);
      this.currentSession.lastModified = Date.now();
      this.shareDrawing(this.currentDrawing);
    }
    this.currentDrawing = null;
    soundSystem.playInteractionSound('click');
  }
  // Get drawing point from event
  getDrawingPoint(event) {
    if (!event.hit || !this.whiteboardEntity) return null;
    const localPoint = Vector32.create(
      event.hit.hitPoint.x - Transform2.get(this.whiteboardEntity).position.x,
      event.hit.hitPoint.y - Transform2.get(this.whiteboardEntity).position.y,
      0.05
    );
    return localPoint;
  }
  // Render drawing
  renderDrawing(drawing) {
    if (!this.drawingEntities.has(drawing.id)) {
      this.drawingEntities.set(drawing.id, []);
    }
    const entities = this.drawingEntities.get(drawing.id);
    entities.forEach(entity => engine.removeEntity(entity));
    entities.length = 0;
    switch (drawing.type) {
      case 'line':
      case 'freehand':
        this.renderFreehandDrawing(drawing, entities);
        break;
      case 'circle':
        this.renderCircleDrawing(drawing, entities);
        break;
      case 'rectangle':
        this.renderRectangleDrawing(drawing, entities);
        break;
      case 'arrow':
        this.renderArrowDrawing(drawing, entities);
        break;
    }
  }
  // Render freehand drawing
  renderFreehandDrawing(drawing, entities) {
    for (let i = 0; i < drawing.points.length - 1; i++) {
      const start = drawing.points[i];
      const end = drawing.points[i + 1];
      const line = engine.addEntity();
      Transform2.create(line, {
        parent: this.whiteboardEntity,
        position: Vector32.create((start.x + end.x) / 2, (start.y + end.y) / 2, 0.05),
        scale: Vector32.create(Vector32.distance(start, end), drawing.strokeWidth * 0.01, 0.01),
        rotation: Quaternion2.fromEulerDegrees(
          0,
          0,
          (Math.atan2(end.y - start.y, end.x - start.x) * 180) / Math.PI
        ),
      });
      MeshRenderer3.setBox(line);
      Material3.setPbrMaterial(line, {
        albedoColor: Color42.create(drawing.color.r, drawing.color.g, drawing.color.b, 1),
        roughness: 0.1,
        metallic: 0,
      });
      entities.push(line);
    }
  }
  // Render circle drawing
  renderCircleDrawing(drawing, entities) {
    if (drawing.points.length < 2) return;
    const center = drawing.points[0];
    const radius = Vector32.distance(center, drawing.points[1]);
    const circle = engine.addEntity();
    Transform2.create(circle, {
      parent: this.whiteboardEntity,
      position: Vector32.create(center.x, center.y, 0.05),
      scale: Vector32.create(radius * 2, radius * 2, 0.01),
    });
    MeshRenderer3.setBox(circle);
    Material3.setPbrMaterial(circle, {
      albedoColor: Color42.create(drawing.color.r, drawing.color.g, drawing.color.b, 1),
      roughness: 0.1,
      metallic: 0,
    });
    entities.push(circle);
  }
  // Render rectangle drawing
  renderRectangleDrawing(drawing, entities) {
    if (drawing.points.length < 2) return;
    const start = drawing.points[0];
    const end = drawing.points[1];
    const rectangle = engine.addEntity();
    Transform2.create(rectangle, {
      parent: this.whiteboardEntity,
      position: Vector32.create((start.x + end.x) / 2, (start.y + end.y) / 2, 0.05),
      scale: Vector32.create(Math.abs(end.x - start.x), Math.abs(end.y - start.y), 0.01),
    });
    MeshRenderer3.setBox(rectangle);
    Material3.setPbrMaterial(rectangle, {
      albedoColor: Color42.create(drawing.color.r, drawing.color.g, drawing.color.b, 1),
      roughness: 0.1,
      metallic: 0,
    });
    entities.push(rectangle);
  }
  // Render arrow drawing
  renderArrowDrawing(drawing, entities) {
    if (drawing.points.length < 2) return;
    const start = drawing.points[0];
    const end = drawing.points[1];
    this.renderFreehandDrawing(drawing, entities);
    const arrowHead = engine.addEntity();
    const angle = Math.atan2(end.y - start.y, end.x - start.x);
    Transform2.create(arrowHead, {
      parent: this.whiteboardEntity,
      position: Vector32.create(end.x, end.y, 0.05),
      scale: Vector32.create(0.1, 0.1, 0.01),
      rotation: Quaternion2.fromEulerDegrees(0, 0, (angle * 180) / Math.PI),
    });
    MeshRenderer3.setBox(arrowHead);
    Material3.setPbrMaterial(arrowHead, {
      albedoColor: Color42.create(drawing.color.r, drawing.color.g, drawing.color.b, 1),
      roughness: 0.1,
      metallic: 0,
    });
    entities.push(arrowHead);
  }
  // Update drawing entities
  updateDrawingEntities() {
    this.updateCursorPosition();
    this.updateDrawingAnimations();
  }
  // Update cursor position
  updateCursorPosition() {
    const time = Date.now() / 1e3;
    this.currentUser.cursor = Vector32.create(
      Math.sin(time * 0.5) * 2,
      Math.cos(time * 0.3) * 1.5,
      0.05
    );
  }
  // Update drawing animations
  updateDrawingAnimations() {
    this.drawingEntities.forEach((entities, drawingId) => {
      entities.forEach((entity, index) => {
        const time = Date.now() / 1e3;
        const transform = Transform2.getMutable(entity);
        const scale = transform.scale;
        const pulse = 1 + Math.sin(time * 2 + index * 0.1) * 0.02;
        transform.scale = Vector32.create(scale.x * pulse, scale.y * pulse, scale.z);
      });
    });
  }
  // Sync with remote users
  syncWithRemoteUsers() {
    if (Math.random() < 0.01) {
      this.simulateRemoteUserDrawing();
    }
  }
  // Simulate remote user drawing
  simulateRemoteUserDrawing() {
    const remoteUser = {
      id: 'user_remote',
      name: 'Remote User',
      color: Color32.create(1, 0.5, 0),
      cursor: Vector32.create(Math.random() * 4 - 2, Math.random() * 2 - 1, 0.05),
      isDrawing: true,
      currentTool: this.createDefaultTool(),
    };
    const drawing = {
      id: `drawing_remote_${Date.now()}`,
      userId: remoteUser.id,
      type: 'freehand',
      points: [
        remoteUser.cursor,
        Vector32.create(
          remoteUser.cursor.x + Math.random() * 0.5,
          remoteUser.cursor.y + Math.random() * 0.5,
          0.05
        ),
      ],
      color: remoteUser.color,
      strokeWidth: 2,
      timestamp: Date.now(),
      isShared: true,
    };
    if (this.currentSession) {
      this.currentSession.drawings.push(drawing);
      this.renderDrawing(drawing);
    }
  }
  // Select tool
  selectTool(toolId) {
    const tool = this.drawingTools.get(toolId);
    if (!tool) return;
    this.drawingTools.forEach(t => (t.isActive = false));
    tool.isActive = true;
    this.currentUser.currentTool = tool;
    console.log(`\u{1F3A8} Selected tool: ${toolId}`);
    soundSystem.playInteractionSound('click');
  }
  // Select color
  selectColor(color) {
    this.currentUser.currentTool.color = color;
    console.log(`\u{1F3A8} Selected color: RGB(${color.r}, ${color.g}, ${color.b})`);
    soundSystem.playInteractionSound('click');
  }
  // Handle session control
  handleSessionControl(controlId) {
    switch (controlId) {
      case 'new':
        this.createNewSession();
        break;
      case 'save':
        this.saveSession();
        break;
      case 'share':
        this.shareSession();
        break;
      case 'clear':
        this.clearWhiteboard();
        break;
    }
    soundSystem.playInteractionSound('click');
  }
  // Create new session
  createNewSession() {
    const session = {
      id: `session_${Date.now()}`,
      name: `Whiteboard ${this.sessions.size + 1}`,
      participants: [this.currentUser.id],
      drawings: [],
      isActive: true,
      createdAt: Date.now(),
      lastModified: Date.now(),
    };
    this.sessions.set(session.id, session);
    this.currentSession = session;
    this.clearWhiteboard();
    console.log(`\u{1F3A8} Created new session: ${session.name}`);
  }
  // Save session
  saveSession() {
    if (!this.currentSession) return;
    console.log(`\u{1F4BE} Saving session: ${this.currentSession.name}`);
    console.log(`\u{1F4CA} Drawings: ${this.currentSession.drawings.length}`);
    console.log(`\u{1F465} Participants: ${this.currentSession.participants.length}`);
    soundSystem.playInteractionSound('powerup');
  }
  // Share session
  shareSession() {
    if (!this.currentSession) return;
    console.log(`\u{1F517} Sharing session: ${this.currentSession.name}`);
    console.log(`\u{1F517} Share link: https://aigestion.dev/whiteboard/${this.currentSession.id}`);
    soundSystem.playInteractionSound('powerup');
  }
  // Clear whiteboard
  clearWhiteboard() {
    if (!this.currentSession) return;
    this.drawingEntities.forEach(entities => {
      entities.forEach(entity => engine.removeEntity(entity));
    });
    this.drawingEntities.clear();
    this.currentSession.drawings = [];
    this.currentSession.lastModified = Date.now();
    console.log('\u{1F5D1}\uFE0F Whiteboard cleared');
    soundSystem.playInteractionSound('click');
  }
  // Share drawing with other users
  shareDrawing(drawing) {
    console.log(`\u{1F4E4} Sharing drawing: ${drawing.id}`);
  }
  // Join session
  joinSession(sessionId) {
    const session = this.sessions.get(sessionId);
    if (!session) return;
    this.currentSession = session;
    session.participants.push(this.currentUser.id);
    session.lastModified = Date.now();
    session.drawings.forEach(drawing => this.renderDrawing(drawing));
    console.log(`\u{1F3A8} Joined session: ${session.name}`);
  }
  // Leave session
  leaveSession() {
    if (!this.currentSession) return;
    const index = this.currentSession.participants.indexOf(this.currentUser.id);
    if (index > -1) {
      this.currentSession.participants.splice(index, 1);
    }
    console.log(`\u{1F3A8} Left session: ${this.currentSession.name}`);
    this.currentSession = null;
  }
  // Get current session
  getCurrentSession() {
    return this.currentSession;
  }
  // Get all sessions
  getSessions() {
    return Array.from(this.sessions.values());
  }
  // Get drawing history
  getDrawingHistory() {
    return [...this.drawingHistory];
  }
  // Add user to session
  addUserToSession(userId, userName) {
    const user = {
      id: userId,
      name: userName,
      color: Color32.create(Math.random(), Math.random(), Math.random()),
      cursor: Vector32.create(0, 0, 0),
      isDrawing: false,
      currentTool: this.createDefaultTool(),
    };
    this.users.set(userId, user);
    if (this.currentSession) {
      this.currentSession.participants.push(userId);
      this.currentSession.lastModified = Date.now();
    }
    console.log(`\u{1F464} User ${userName} joined the session`);
  }
  // Remove user from session
  removeUserFromSession(userId) {
    const user = this.users.get(userId);
    if (!user) return;
    this.users.delete(userId);
    if (this.currentSession) {
      const index = this.currentSession.participants.indexOf(userId);
      if (index > -1) {
        this.currentSession.participants.splice(index, 1);
        this.currentSession.lastModified = Date.now();
      }
    }
    console.log(`\u{1F464} User ${user.name} left the session`);
  }
  // Cleanup system
  cleanup() {
    this.drawingEntities.forEach(entities => {
      entities.forEach(entity => engine.removeEntity(entity));
    });
    this.drawingEntities.clear();
    this.sessions.clear();
    this.users.clear();
    this.drawingTools.clear();
    this.drawingHistory = [];
    if (this.whiteboardEntity) {
      engine.removeEntity(this.whiteboardEntity);
    }
    if (this.toolbarEntity) {
      engine.removeEntity(this.toolbarEntity);
    }
    this.isInitialized = false;
  }
};
var whiteboardSystem = new CollaborationWhiteboardSystem();

// src/content-management.ts
var ContentManagementSystem = class {
  constructor() {
    this.content = /* @__PURE__ */ new Map();
    this.collections = /* @__PURE__ */ new Map();
    this.templates = /* @__PURE__ */ new Map();
    this.isInitialized = false;
    this.currentCollection = null;
    this.searchIndex = /* @__PURE__ */ new Map();
    this.initializeAnalyticsEngine();
    this.initializeVersionControl();
  }
  // Initialize content management system
  initialize() {
    console.log('\u{1F4DA} Dynamic Content Management System Initializing...');
    this.setupContentTemplates();
    this.createContentUI();
    this.createDefaultCollections();
    this.initializeSearchIndex();
    this.startContentEngine();
    this.isInitialized = true;
    console.log('\u{1F4DA} Dynamic Content Management System Ready!');
  }
  // Initialize analytics engine
  initializeAnalyticsEngine() {
    this.analyticsEngine = {
      track: (event, data) => {
        console.log(`\u{1F4CA} Analytics: ${event}`, data);
      },
      getMetrics: contentId => {
        return {
          views: Math.floor(Math.random() * 1e3),
          downloads: Math.floor(Math.random() * 100),
          shares: Math.floor(Math.random() * 50),
          averageRating: (Math.random() * 2 + 3).toFixed(1),
          timeSpent: Math.floor(Math.random() * 300),
        };
      },
    };
  }
  // Initialize version control
  initializeVersionControl() {
    this.versionControl = {
      createVersion: (contentId, changes) => {
        console.log(`\u{1F4DD} Creating version for content: ${contentId}`);
        return {
          id: `v_${Date.now()}`,
          contentId,
          changes,
          timestamp: Date.now(),
          author: 'system',
        };
      },
      getVersionHistory: contentId => {
        return [
          {
            id: 'v_1',
            contentId,
            changes: 'Initial version',
            timestamp: Date.now() - 864e5,
            author: 'creator',
          },
        ];
      },
    };
  }
  // Setup content templates
  setupContentTemplates() {
    const documentTemplate = {
      id: 'template_document',
      name: 'Document',
      type: 'document',
      structure: {
        sections: ['title', 'content', 'attachments'],
        layout: 'standard',
      },
      fields: [
        {
          id: 'title',
          name: 'Title',
          type: 'text',
          required: true,
          validation: [
            { type: 'required', value: true, message: 'Title is required' },
            { type: 'minLength', value: 3, message: 'Title must be at least 3 characters' },
          ],
        },
        {
          id: 'content',
          name: 'Content',
          type: 'text',
          required: true,
          validation: [{ type: 'required', value: true, message: 'Content is required' }],
        },
        {
          id: 'category',
          name: 'Category',
          type: 'select',
          required: true,
          options: ['Report', 'Proposal', 'Manual', 'Guide', 'Other'],
        },
      ],
      isDefault: true,
    };
    const presentationTemplate = {
      id: 'template_presentation',
      name: 'Presentation',
      type: 'presentation',
      structure: {
        slides: ['title', 'content', 'media'],
        layout: 'slides',
      },
      fields: [
        {
          id: 'title',
          name: 'Title',
          type: 'text',
          required: true,
        },
        {
          id: 'slides',
          name: 'Slides',
          type: 'multiselect',
          required: true,
          options: ['Title Slide', 'Content Slide', 'Image Slide', 'Chart Slide'],
        },
      ],
      isDefault: false,
    };
    const datasetTemplate = {
      id: 'template_dataset',
      name: 'Dataset',
      type: 'dataset',
      structure: {
        schema: ['columns', 'types', 'constraints'],
        format: 'structured',
      },
      fields: [
        {
          id: 'name',
          name: 'Dataset Name',
          type: 'text',
          required: true,
        },
        {
          id: 'format',
          name: 'Format',
          type: 'select',
          required: true,
          options: ['CSV', 'JSON', 'XML', 'Parquet'],
        },
        {
          id: 'size',
          name: 'Size (MB)',
          type: 'number',
          required: true,
        },
      ],
      isDefault: false,
    };
    this.templates.set(documentTemplate.id, documentTemplate);
    this.templates.set(presentationTemplate.id, presentationTemplate);
    this.templates.set(datasetTemplate.id, datasetTemplate);
    console.log('\u{1F4CB} Content templates configured');
  }
  // Create content UI
  createContentUI() {
    this.contentUI = engine.addEntity();
    Transform2.create(this.contentUI, {
      position: Vector32.create(8, 3, 14),
      scale: Vector32.create(4, 4, 0.1),
    });
    MeshRenderer3.setBox(this.contentUI);
    Material3.setPbrMaterial(this.contentUI, {
      albedoColor: Color42.create(0.1, 0.2, 0.4, 0.9),
      emissiveColor: Color42.create(0.2, 0.4, 0.8, 0.5),
      emissiveIntensity: 2,
    });
    const title = engine.addEntity();
    Transform2.create(title, {
      parent: this.contentUI,
      position: Vector32.create(0, 1.7, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(title, {
      text: '\u{1F4DA} CONTENT MANAGEMENT',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 2,
      textAlign: 3,
    });
    this.createContentBrowser();
    this.createContentEditor();
    this.createCollectionManager();
    this.createAnalyticsPanel();
  }
  // Create content browser
  createContentBrowser() {
    const browser = engine.addEntity();
    Transform2.create(browser, {
      parent: this.contentUI,
      position: Vector32.create(0, 1, 0.1),
      scale: Vector32.create(0.9, 0.4, 0.1),
    });
    MeshRenderer3.setBox(browser);
    Material3.setPbrMaterial(browser, {
      albedoColor: Color42.create(0.2, 0.2, 0.2, 0.8),
      emissiveColor: Color42.create(0.2, 0.2, 0.2, 0.3),
      emissiveIntensity: 1,
    });
    const browserText = engine.addEntity();
    Transform2.create(browserText, {
      parent: browser,
      position: Vector32.create(0, 0.1, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(browserText, {
      text: '\u{1F4C2} Content Browser',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 1.5,
      textAlign: 3,
    });
    this.createBrowserControls();
  }
  // Create browser controls
  createBrowserControls() {
    const controls = [
      { id: 'search', icon: '\u{1F50D}', name: 'Search' },
      { id: 'filter', icon: '\u{1F53D}', name: 'Filter' },
      { id: 'sort', icon: '\u2195\uFE0F', name: 'Sort' },
      { id: 'new', icon: '\u2795', name: 'New Content' },
    ];
    let xOffset = -0.6;
    controls.forEach(control => {
      const button = engine.addEntity();
      Transform2.create(button, {
        parent: this.contentUI,
        position: Vector32.create(xOffset, 0.6, 0.1),
        scale: Vector32.create(0.2, 0.2, 0.1),
      });
      MeshRenderer3.setBox(button);
      Material3.setPbrMaterial(button, {
        albedoColor: Color42.create(0.3, 0.6, 0.8, 1),
        emissiveColor: Color42.create(0.3, 0.6, 0.8, 0.5),
        emissiveIntensity: 2,
      });
      const buttonText = engine.addEntity();
      Transform2.create(buttonText, {
        parent: button,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape.create(buttonText, {
        text: control.icon,
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 2,
        textAlign: 3,
      });
      pointerEventsSystem.onPointerDown(
        {
          entity: button,
          opts: { button: InputAction.IA_POINTER, hoverText: control.name },
        },
        () => this.handleBrowserControl(control.id)
      );
      xOffset += 0.4;
    });
  }
  // Create content editor
  createContentEditor() {
    const editor = engine.addEntity();
    Transform2.create(editor, {
      parent: this.contentUI,
      position: Vector32.create(0, 0.1, 0.1),
      scale: Vector32.create(0.9, 0.4, 0.1),
    });
    MeshRenderer3.setBox(editor);
    Material3.setPbrMaterial(editor, {
      albedoColor: Color42.create(0.1, 0.1, 0.1, 0.8),
      emissiveColor: Color42.create(0.1, 0.1, 0.1, 0.3),
      emissiveIntensity: 1,
    });
    const editorText = engine.addEntity();
    Transform2.create(editorText, {
      parent: editor,
      position: Vector32.create(0, 0.1, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(editorText, {
      text: '\u270F\uFE0F Content Editor',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 1.5,
      textAlign: 3,
    });
  }
  // Create collection manager
  createCollectionManager() {
    const manager = engine.addEntity();
    Transform2.create(manager, {
      parent: this.contentUI,
      position: Vector32.create(0, -0.4, 0.1),
      scale: Vector32.create(0.9, 0.3, 0.1),
    });
    MeshRenderer3.setBox(manager);
    Material3.setPbrMaterial(manager, {
      albedoColor: Color42.create(0.2, 0.2, 0.2, 0.8),
      emissiveColor: Color42.create(0.2, 0.2, 0.2, 0.3),
      emissiveIntensity: 1,
    });
    const managerText = engine.addEntity();
    Transform2.create(managerText, {
      parent: manager,
      position: Vector32.create(0, 0, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(managerText, {
      text: '\u{1F4C1} Collections',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 1.5,
      textAlign: 3,
    });
  }
  // Create analytics panel
  createAnalyticsPanel() {
    const analytics = engine.addEntity();
    Transform2.create(analytics, {
      parent: this.contentUI,
      position: Vector32.create(0, -0.9, 0.1),
      scale: Vector32.create(0.9, 0.3, 0.1),
    });
    MeshRenderer3.setBox(analytics);
    Material3.setPbrMaterial(analytics, {
      albedoColor: Color42.create(0.1, 0.1, 0.1, 0.8),
      emissiveColor: Color42.create(0.1, 0.1, 0.1, 0.3),
      emissiveIntensity: 1,
    });
    const analyticsText = engine.addEntity();
    Transform2.create(analyticsText, {
      parent: analytics,
      position: Vector32.create(0, 0, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(analyticsText, {
      text: '\u{1F4CA} Analytics',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 1.5,
      textAlign: 3,
    });
  }
  // Create default collections
  createDefaultCollections() {
    const documentsCollection = {
      id: 'collection_documents',
      name: 'Documents',
      description: 'All documents and text files',
      items: [],
      layout: 'grid',
      filters: [{ field: 'type', operator: 'equals', value: 'document' }],
      sortBy: 'date',
      sortOrder: 'desc',
      isPublic: true,
    };
    const mediaCollection = {
      id: 'collection_media',
      name: 'Media',
      description: 'Images, videos, and audio files',
      items: [],
      layout: 'masonry',
      filters: [{ field: 'type', operator: 'contains', value: 'image' }],
      sortBy: 'title',
      sortOrder: 'asc',
      isPublic: true,
    };
    const presentationsCollection = {
      id: 'collection_presentations',
      name: 'Presentations',
      description: 'Slides and presentations',
      items: [],
      layout: 'carousel',
      filters: [{ field: 'type', operator: 'equals', value: 'presentation' }],
      sortBy: 'date',
      sortOrder: 'desc',
      isPublic: false,
    };
    this.collections.set(documentsCollection.id, documentsCollection);
    this.collections.set(mediaCollection.id, mediaCollection);
    this.collections.set(presentationsCollection.id, presentationsCollection);
    this.currentCollection = documentsCollection;
    console.log('\u{1F4C1} Default collections created');
  }
  // Initialize search index
  initializeSearchIndex() {
    console.log('\u{1F50D} Initializing search index...');
    this.createSampleContent();
  }
  // Create sample content
  createSampleContent() {
    const sampleContent = [
      {
        id: 'content_1',
        title: 'Q4 Financial Report',
        type: 'document',
        category: 'Report',
        tags: ['finance', 'quarterly', '2024'],
        metadata: {
          author: 'Finance Team',
          description: 'Quarterly financial report for Q4 2024',
          size: 2048e3,
          format: 'PDF',
          language: 'en',
          accessibility: {
            hasCaptions: false,
            hasAudioDescription: false,
            hasTranscript: true,
            hasAltText: true,
            language: 'en',
          },
        },
        content: { url: '/files/q4_report.pdf' },
        permissions: {
          canView: ['all'],
          canEdit: ['finance_team'],
          canDelete: ['finance_manager'],
          canShare: true,
          isPublic: false,
        },
        createdAt: Date.now() - 864e5,
        updatedAt: Date.now() - 36e5,
        version: 2,
        status: 'published',
      },
      {
        id: 'content_2',
        title: 'Product Launch Presentation',
        type: 'presentation',
        category: 'Marketing',
        tags: ['product', 'launch', 'marketing'],
        metadata: {
          author: 'Marketing Team',
          description: 'New product launch presentation',
          size: 512e4,
          format: 'PPTX',
          duration: 1800,
          language: 'en',
          accessibility: {
            hasCaptions: true,
            hasAudioDescription: false,
            hasTranscript: true,
            hasAltText: true,
            language: 'en',
          },
        },
        content: { url: '/files/product_launch.pptx' },
        permissions: {
          canView: ['all'],
          canEdit: ['marketing_team'],
          canDelete: ['marketing_manager'],
          canShare: true,
          isPublic: true,
        },
        createdAt: Date.now() - 1728e5,
        updatedAt: Date.now() - 72e5,
        version: 3,
        status: 'published',
      },
      {
        id: 'content_3',
        title: 'Customer Analytics Dataset',
        type: 'dataset',
        category: 'Analytics',
        tags: ['customer', 'analytics', 'data'],
        metadata: {
          author: 'Data Team',
          description: 'Customer behavior analytics dataset',
          size: 1024e4,
          format: 'CSV',
          language: 'en',
          accessibility: {
            hasCaptions: false,
            hasAudioDescription: false,
            hasTranscript: false,
            hasAltText: true,
            language: 'en',
          },
        },
        content: { url: '/data/customer_analytics.csv' },
        permissions: {
          canView: ['data_team', 'analysts'],
          canEdit: ['data_team'],
          canDelete: ['data_manager'],
          canShare: false,
          isPublic: false,
        },
        createdAt: Date.now() - 2592e5,
        updatedAt: Date.now() - 864e5,
        version: 1,
        status: 'published',
      },
    ];
    sampleContent.forEach(item => {
      this.content.set(item.id, item);
      this.updateSearchIndex(item);
    });
    console.log('\u{1F4C4} Sample content created');
  }
  // Update search index
  updateSearchIndex(item) {
    const searchableText = [
      item.title,
      item.description,
      item.category,
      ...item.tags,
      item.metadata.author,
    ]
      .join(' ')
      .toLowerCase();
    this.searchIndex.set(item.id, searchableText.split(' '));
  }
  // Start content engine
  startContentEngine() {
    engine.addSystem(() => {
      if (!this.isInitialized) return;
      this.updateContentMetrics();
      this.processContentUpdates();
      this.optimizeSearchIndex();
    });
  }
  // Handle browser control
  handleBrowserControl(controlId) {
    switch (controlId) {
      case 'search':
        this.openSearchDialog();
        break;
      case 'filter':
        this.openFilterDialog();
        break;
      case 'sort':
        this.toggleSortOrder();
        break;
      case 'new':
        this.openContentCreator();
        break;
    }
    soundSystem.playInteractionSound('click');
  }
  // Open search dialog
  openSearchDialog() {
    console.log('\u{1F50D} Opening search dialog...');
  }
  // Open filter dialog
  openFilterDialog() {
    console.log('\u{1F53D} Opening filter dialog...');
  }
  // Toggle sort order
  toggleSortOrder() {
    if (!this.currentCollection) return;
    this.currentCollection.sortOrder = this.currentCollection.sortOrder === 'asc' ? 'desc' : 'asc';
    console.log(`\u{1F504} Sort order: ${this.currentCollection.sortOrder}`);
  }
  // Open content creator
  openContentCreator() {
    console.log('\u2795 Opening content creator...');
  }
  // Create content
  createContent(templateId, data) {
    const template = this.templates.get(templateId);
    if (!template) {
      throw new Error(`Template ${templateId} not found`);
    }
    const content = {
      id: `content_${Date.now()}`,
      title: data.title || 'Untitled',
      type: template.type,
      category: data.category || 'General',
      tags: data.tags || [],
      metadata: {
        author: data.author || 'Unknown',
        description: data.description || '',
        size: 0,
        format: template.type,
        language: data.language || 'en',
        accessibility: {
          hasCaptions: false,
          hasAudioDescription: false,
          hasTranscript: false,
          hasAltText: false,
          language: data.language || 'en',
        },
      },
      content: data.content || {},
      permissions: {
        canView: data.canView || ['all'],
        canEdit: data.canEdit || [data.author || 'Unknown'],
        canDelete: data.canDelete || [data.author || 'Unknown'],
        canShare: data.canShare !== void 0 ? data.canShare : true,
        isPublic: data.isPublic !== void 0 ? data.isPublic : false,
      },
      createdAt: Date.now(),
      updatedAt: Date.now(),
      version: 1,
      status: 'draft',
    };
    this.content.set(content.id, content);
    this.updateSearchIndex(content);
    this.analyticsEngine.track('content_created', {
      contentId: content.id,
      type: content.type,
      author: content.metadata.author,
    });
    console.log(`\u{1F4DD} Created content: ${content.title}`);
    return content;
  }
  // Update content
  updateContent(contentId, updates) {
    const content = this.content.get(contentId);
    if (!content) return null;
    const version = this.versionControl.createVersion(contentId, updates);
    Object.assign(content, updates);
    content.updatedAt = Date.now();
    content.version += 1;
    this.updateSearchIndex(content);
    this.analyticsEngine.track('content_updated', {
      contentId,
      version: content.version,
    });
    console.log(`\u270F\uFE0F Updated content: ${content.title}`);
    return content;
  }
  // Delete content
  deleteContent(contentId) {
    const content = this.content.get(contentId);
    if (!content) return false;
    content.status = 'deleted';
    this.searchIndex.delete(contentId);
    this.analyticsEngine.track('content_deleted', {
      contentId,
      type: content.type,
    });
    console.log(`\u{1F5D1}\uFE0F Deleted content: ${content.title}`);
    return true;
  }
  // Search content
  searchContent(query) {
    const terms = query.toLowerCase().split(' ');
    const results = [];
    this.content.forEach((content, id) => {
      if (content.status === 'deleted') return;
      const indexTerms = this.searchIndex.get(id) || [];
      const score = this.calculateSearchScore(terms, indexTerms);
      if (score > 0) {
        results.push(content);
      }
    });
    return results.sort((a, b) => {
      const scoreA = this.calculateSearchScore(terms, this.searchIndex.get(a.id) || []);
      const scoreB = this.calculateSearchScore(terms, this.searchIndex.get(b.id) || []);
      return scoreB - scoreA;
    });
  }
  // Calculate search score
  calculateSearchScore(queryTerms, indexTerms) {
    let score = 0;
    queryTerms.forEach(term => {
      if (indexTerms.includes(term)) {
        score += 1;
      }
    });
    return score;
  }
  // Get content by collection
  getContentByCollection(collectionId) {
    const collection = this.collections.get(collectionId);
    if (!collection) return [];
    let results = Array.from(this.content.values()).filter(content => {
      if (content.status === 'deleted') return false;
      return collection.filters.every(filter => {
        const fieldValue = this.getFieldValue(content, filter.field);
        return this.applyFilter(fieldValue, filter.operator, filter.value);
      });
    });
    results.sort((a, b) => {
      const aValue = this.getFieldValue(a, collection.sortBy);
      const bValue = this.getFieldValue(b, collection.sortBy);
      if (collection.sortOrder === 'asc') {
        return aValue > bValue ? 1 : -1;
      } else {
        return aValue < bValue ? 1 : -1;
      }
    });
    return results;
  }
  // Get field value
  getFieldValue(content, field) {
    switch (field) {
      case 'title':
        return content.title;
      case 'date':
        return content.createdAt;
      case 'author':
        return content.metadata.author;
      case 'type':
        return content.type;
      case 'popularity':
        return this.analyticsEngine.getMetrics(content.id).views;
      default:
        return '';
    }
  }
  // Apply filter
  applyFilter(value, operator, filterValue) {
    switch (operator) {
      case 'equals':
        return value === filterValue;
      case 'contains':
        return String(value).toLowerCase().includes(String(filterValue).toLowerCase());
      case 'greater':
        return value > filterValue;
      case 'less':
        return value < filterValue;
      case 'between':
        return value >= filterValue[0] && value <= filterValue[1];
      default:
        return false;
    }
  }
  // Update content metrics
  updateContentMetrics() {
    this.content.forEach((content, id) => {
      const metrics = this.analyticsEngine.getMetrics(id);
    });
  }
  // Process content updates
  processContentUpdates() {}
  // Optimize search index
  optimizeSearchIndex() {}
  // Get content
  getContent(contentId) {
    return this.content.get(contentId);
  }
  // Get all content
  getAllContent() {
    return Array.from(this.content.values()).filter(content => content.status !== 'deleted');
  }
  // Get collections
  getCollections() {
    return Array.from(this.collections.values());
  }
  // Get templates
  getTemplates() {
    return Array.from(this.templates.values());
  }
  // Get content metrics
  getContentMetrics(contentId) {
    return this.analyticsEngine.getMetrics(contentId);
  }
  // Cleanup system
  cleanup() {
    this.content.clear();
    this.collections.clear();
    this.templates.clear();
    this.searchIndex.clear();
    if (this.contentUI) {
      engine.removeEntity(this.contentUI);
    }
    this.isInitialized = false;
  }
};
var contentManagementSystem = new ContentManagementSystem();

// src/cross-platform-sync.ts
var CrossPlatformSyncSystem = class {
  constructor() {
    this.sessions = /* @__PURE__ */ new Map();
    this.currentSession = null;
    this.networks = /* @__PURE__ */ new Map();
    this.isInitialized = false;
    this.syncQueue = [];
    this.maxQueueSize = 1e3;
    this.syncInterval = 100;
    // 100ms
    this.lastSyncTime = 0;
    this.initializeNetworks();
    this.setupConflictResolver();
  }
  // Initialize cross-platform sync system
  initialize() {
    console.log('\u{1F504} Cross-Platform Sync System Initializing...');
    this.createSyncUI();
    this.startSyncEngine();
    this.createDefaultSession();
    this.isInitialized = true;
    console.log('\u{1F504} Cross-Platform Sync System Ready!');
  }
  // Initialize networks
  initializeNetworks() {
    this.networks.set('websocket', {
      id: 'network_websocket',
      type: 'websocket',
      isConnected: false,
      latency: 50,
      bandwidth: 1e3,
      reliability: 0.95,
    });
    this.networks.set('webrtc', {
      id: 'network_webrtc',
      type: 'webrtc',
      isConnected: false,
      latency: 20,
      bandwidth: 5e3,
      reliability: 0.98,
    });
    this.networks.set('http', {
      id: 'network_http',
      type: 'http',
      isConnected: true,
      latency: 200,
      bandwidth: 2e3,
      reliability: 0.99,
    });
    console.log('\u{1F310} Sync networks initialized');
  }
  // Setup conflict resolver
  setupConflictResolver() {
    this.conflictResolver = {
      resolve: (conflict, strategy) => {
        console.log(`\u{1F527} Resolving conflict ${conflict.id} with strategy: ${strategy}`);
        switch (strategy) {
          case 'last_write_wins':
            return conflict.changes[conflict.changes.length - 1];
          case 'first_write_wins':
            return conflict.changes[0];
          case 'merge':
            return this.mergeChanges(conflict.changes);
          case 'manual':
            return null;
          case 'voting':
            return this.resolveByVoting(conflict.changes);
          default:
            return conflict.changes[conflict.changes.length - 1];
        }
      },
      merge: changes => {
        const merged = { ...changes[0].data };
        for (let i = 1; i < changes.length; i++) {
          Object.assign(merged, changes[i].data);
        }
        return merged;
      },
      resolveByVoting: changes => {
        const votes = /* @__PURE__ */ new Map();
        changes.forEach(change => {
          votes.set(change.author, Math.random());
        });
        let maxVotes = 0;
        let winner = changes[0];
        votes.forEach((votes2, author) => {
          if (votes2 > maxVotes) {
            maxVotes = votes2;
            winner = changes.find(c => c.author === author) || changes[0];
          }
        });
        return winner;
      },
    };
  }
  // Create sync UI
  createSyncUI() {
    this.syncUI = engine.addEntity();
    Transform2.create(this.syncUI, {
      position: Vector32.create(2, 3, 8),
      scale: Vector32.create(3, 4, 0.1),
    });
    MeshRenderer3.setBox(this.syncUI);
    Material3.setPbrMaterial(this.syncUI, {
      albedoColor: Color42.create(0.1, 0.2, 0.4, 0.9),
      emissiveColor: Color42.create(0.2, 0.4, 0.8, 0.5),
      emissiveIntensity: 2,
    });
    const title = engine.addEntity();
    Transform2.create(title, {
      parent: this.syncUI,
      position: Vector32.create(0, 1.7, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(title, {
      text: '\u{1F504} CROSS-PLATFORM SYNC',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 2,
      textAlign: 3,
    });
    this.createSessionControls();
    this.createPlatformIndicators();
    this.createSyncStatus();
    this.createConflictDisplay();
  }
  // Create session controls
  createSessionControls() {
    const controls = [
      { id: 'create_session', icon: '\u2795', name: 'Create Session' },
      { id: 'join_session', icon: '\u{1F517}', name: 'Join Session' },
      { id: 'sync_now', icon: '\u{1F504}', name: 'Sync Now' },
      { id: 'leave_session', icon: '\u{1F6AA}', name: 'Leave Session' },
    ];
    let xOffset = -0.9;
    controls.forEach(control => {
      const button = engine.addEntity();
      Transform2.create(button, {
        parent: this.syncUI,
        position: Vector32.create(xOffset, 1.2, 0.1),
        scale: Vector32.create(0.3, 0.3, 0.1),
      });
      MeshRenderer3.setBox(button);
      Material3.setPbrMaterial(button, {
        albedoColor: Color42.create(0.3, 0.6, 0.8, 1),
        emissiveColor: Color42.create(0.3, 0.6, 0.8, 0.5),
        emissiveIntensity: 2,
      });
      const buttonText = engine.addEntity();
      Transform2.create(buttonText, {
        parent: button,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape.create(buttonText, {
        text: control.icon,
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 2,
        textAlign: 3,
      });
      pointerEventsSystem.onPointerDown(
        {
          entity: button,
          opts: { button: InputAction.IA_POINTER, hoverText: control.name },
        },
        () => this.handleSessionControl(control.id)
      );
      xOffset += 0.6;
    });
  }
  // Create platform indicators
  createPlatformIndicators() {
    const platforms = ['web', 'mobile', 'desktop', 'vr', 'ar', 'console'];
    let xOffset = -1.2;
    platforms.forEach(platform => {
      const indicator = engine.addEntity();
      Transform2.create(indicator, {
        parent: this.syncUI,
        position: Vector32.create(xOffset, 0.6, 0.1),
        scale: Vector32.create(0.2, 0.2, 0.1),
      });
      MeshRenderer3.setBox(indicator);
      Material3.setPbrMaterial(indicator, {
        albedoColor: this.getPlatformColor(platform),
        emissiveColor: this.getPlatformColor(platform),
        emissiveIntensity: 0.5,
      });
      const platformText = engine.addEntity();
      Transform2.create(platformText, {
        parent: indicator,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape.create(platformText, {
        text: this.getPlatformIcon(platform),
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 2,
        textAlign: 3,
      });
      pointerEventsSystem.onPointerDown(
        {
          entity: indicator,
          opts: { button: InputAction.IA_POINTER, hoverText: platform },
        },
        () => this.connectPlatform(platform)
      );
      xOffset += 0.4;
    });
  }
  // Create sync status
  createSyncStatus() {
    const statusDisplay = engine.addEntity();
    Transform2.create(statusDisplay, {
      parent: this.syncUI,
      position: Vector32.create(0, 0, 0.1),
      scale: Vector32.create(0.8, 0.3, 0.1),
    });
    MeshRenderer3.setBox(statusDisplay);
    Material3.setPbrMaterial(statusDisplay, {
      albedoColor: Color42.create(0.1, 0.1, 0.1, 0.8),
      emissiveColor: Color42.create(0.1, 0.1, 0.1, 0.3),
      emissiveIntensity: 1,
    });
    const statusText = engine.addEntity();
    Transform2.create(statusText, {
      parent: statusDisplay,
      position: Vector32.create(0, 0, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(statusText, {
      text: '\u{1F4CA} Status: Ready',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 1.5,
      textAlign: 3,
    });
  }
  // Create conflict display
  createConflictDisplay() {
    const conflictDisplay = engine.addEntity();
    Transform2.create(conflictDisplay, {
      parent: this.syncUI,
      position: Vector32.create(0, -0.6, 0.1),
      scale: Vector32.create(0.8, 0.3, 0.1),
    });
    MeshRenderer3.setBox(conflictDisplay);
    Material3.setPbrMaterial(conflictDisplay, {
      albedoColor: Color42.create(0.1, 0.1, 0.1, 0.8),
      emissiveColor: Color42.create(0.1, 0.1, 0.1, 0.3),
      emissiveIntensity: 1,
    });
    const conflictText = engine.addEntity();
    Transform2.create(conflictText, {
      parent: conflictDisplay,
      position: Vector32.create(0, 0, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(conflictText, {
      text: '\u26A0\uFE0F Conflicts: 0',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 1.5,
      textAlign: 3,
    });
  }
  // Get platform color
  getPlatformColor(platform) {
    switch (platform) {
      case 'web':
        return Color42.create(0.2, 0.6, 1, 1);
      case 'mobile':
        return Color42.create(0.8, 0.4, 0.2, 1);
      case 'desktop':
        return Color42.create(0.2, 0.8, 0.4, 1);
      case 'vr':
        return Color42.create(0.8, 0.2, 0.8, 1);
      case 'ar':
        return Color42.create(0.2, 0.8, 0.8, 1);
      case 'console':
        return Color42.create(0.8, 0.8, 0.2, 1);
      default:
        return Color42.create(0.5, 0.5, 0.5, 1);
    }
  }
  // Get platform icon
  getPlatformIcon(platform) {
    switch (platform) {
      case 'web':
        return '\u{1F310}';
      case 'mobile':
        return '\u{1F4F1}';
      case 'desktop':
        return '\u{1F5A5}\uFE0F';
      case 'vr':
        return '\u{1F97D}';
      case 'ar':
        return '\u{1F4F7}';
      case 'console':
        return '\u{1F3AE}';
      default:
        return '\u2753';
    }
  }
  // Start sync engine
  startSyncEngine() {
    engine.addSystem(() => {
      if (!this.isInitialized) return;
      this.processSyncQueue();
      this.checkConnections();
      this.detectConflicts();
      this.updateSyncStatus();
    });
  }
  // Create default session
  createDefaultSession() {
    const session = {
      id: 'session_default',
      name: 'Default Sync Session',
      platform: 'web',
      status: 'active',
      participants: [
        {
          id: 'user_main',
          name: 'Main User',
          platform: 'web',
          role: 'host',
          permissions: {
            canRead: true,
            canWrite: true,
            canDelete: true,
            canInvite: true,
            canKick: true,
            canChangeSettings: true,
          },
          status: 'online',
          lastSeen: Date.now(),
        },
      ],
      lastSync: Date.now(),
      syncInterval: 100,
      dataSync: {
        entities: /* @__PURE__ */ new Map(),
        settings: /* @__PURE__ */ new Map(),
        events: [],
        conflicts: [],
        version: 1,
      },
      conflictResolution: {
        strategy: 'last_write_wins',
        autoResolve: true,
        timeout: 5e3,
      },
    };
    this.sessions.set(session.id, session);
    this.currentSession = session;
    console.log('\u{1F504} Default sync session created');
  }
  // Handle session control
  handleSessionControl(controlId) {
    switch (controlId) {
      case 'create_session':
        this.createSession();
        break;
      case 'join_session':
        this.joinSession();
        break;
      case 'sync_now':
        this.forceSync();
        break;
      case 'leave_session':
        this.leaveSession();
        break;
    }
    soundSystem.playInteractionSound('click');
  }
  // Create session
  createSession() {
    const sessionId = `session_${Date.now()}`;
    const session = {
      id: sessionId,
      name: `Sync Session ${this.sessions.size + 1}`,
      platform: 'web',
      status: 'active',
      participants: [
        {
          id: 'user_main',
          name: 'Main User',
          platform: 'web',
          role: 'host',
          permissions: {
            canRead: true,
            canWrite: true,
            canDelete: true,
            canInvite: true,
            canKick: true,
            canChangeSettings: true,
          },
          status: 'online',
          lastSeen: Date.now(),
        },
      ],
      lastSync: Date.now(),
      syncInterval: 100,
      dataSync: {
        entities: /* @__PURE__ */ new Map(),
        settings: /* @__PURE__ */ new Map(),
        events: [],
        conflicts: [],
        version: 1,
      },
      conflictResolution: {
        strategy: 'last_write_wins',
        autoResolve: true,
        timeout: 5e3,
      },
    };
    this.sessions.set(sessionId, session);
    this.currentSession = session;
    console.log(`\u2795 Created session: ${session.name}`);
    soundSystem.playInteractionSound('powerup');
  }
  // Join session
  joinSession() {
    console.log('\u{1F517} Joining session...');
    soundSystem.playInteractionSound('click');
  }
  // Force sync
  forceSync() {
    if (!this.currentSession) return;
    console.log('\u{1F504} Forcing sync...');
    this.currentSession.status = 'syncing';
    setTimeout(() => {
      this.currentSession.status = 'active';
      this.currentSession.lastSync = Date.now();
      console.log('\u2705 Sync completed');
    }, 1e3);
    soundSystem.playInteractionSound('powerup');
  }
  // Leave session
  leaveSession() {
    if (!this.currentSession) return;
    console.log(`\u{1F6AA} Leaving session: ${this.currentSession.name}`);
    this.currentSession = null;
    soundSystem.playInteractionSound('click');
  }
  // Connect platform
  connectPlatform(platform) {
    const network = this.networks.get(platform === 'web' ? 'websocket' : 'webrtc');
    if (!network) return;
    network.isConnected = true;
    console.log(`\u{1F517} Connected to ${platform} platform`);
    soundSystem.playInteractionSound('powerup');
  }
  // Disconnect platform
  disconnectPlatform(platform) {
    const network = this.networks.get(platform === 'web' ? 'websocket' : 'webrtc');
    if (!network) return;
    network.isConnected = false;
    console.log(`\u{1F50C} Disconnected from ${platform} platform`);
    soundSystem.playInteractionSound('click');
  }
  // Process sync queue
  processSyncQueue() {
    if (this.syncQueue.length === 0) return;
    const now = Date.now();
    if (now - this.lastSyncTime < this.syncInterval) return;
    const eventsToProcess = this.syncQueue.splice(0, 10);
    eventsToProcess.forEach(event => {
      this.processSyncEvent(event);
    });
    this.lastSyncTime = now;
  }
  // Process sync event
  processSyncEvent(event) {
    if (!this.currentSession) return;
    console.log(`\u{1F4E4} Processing sync event: ${event.type} for ${event.target}`);
    this.currentSession.dataSync.events.push(event);
    if (this.currentSession.dataSync.events.length > 1e3) {
      this.currentSession.dataSync.events = this.currentSession.dataSync.events.slice(-500);
    }
    switch (event.type) {
      case 'create':
        this.handleCreateEvent(event);
        break;
      case 'update':
        this.handleUpdateEvent(event);
        break;
      case 'delete':
        this.handleDeleteEvent(event);
        break;
      case 'move':
        this.handleMoveEvent(event);
        break;
      case 'interact':
        this.handleInteractEvent(event);
        break;
    }
  }
  // Handle create event
  handleCreateEvent(event) {
    const entity = {
      id: event.target,
      type: 'custom',
      data: event.data,
      timestamp: event.timestamp,
      author: event.author,
      version: 1,
      conflicts: [],
    };
    if (this.currentSession) {
      this.currentSession.dataSync.entities.set(event.target, entity);
    }
  }
  // Handle update event
  handleUpdateEvent(event) {
    if (!this.currentSession) return;
    const entity = this.currentSession.dataSync.entities.get(event.target);
    if (entity) {
      if (entity.author !== event.author && entity.timestamp > event.timestamp - 1e3) {
        this.createConflict(entity, event);
      } else {
        entity.data = event.data;
        entity.timestamp = event.timestamp;
        entity.author = event.author;
        entity.version++;
      }
    }
  }
  // Handle delete event
  handleDeleteEvent(event) {
    if (this.currentSession) {
      this.currentSession.dataSync.entities.delete(event.target);
    }
  }
  // Handle move event
  handleMoveEvent(event) {
    if (!this.currentSession) return;
    const entity = this.currentSession.dataSync.entities.get(event.target);
    if (entity && entity.type === 'position') {
      entity.data = event.data;
      entity.timestamp = event.timestamp;
    }
  }
  // Handle interact event
  handleInteractEvent(event) {
    console.log` Interaction event: ${event.target} by ${event.author}`;
  }
  // Create conflict
  createConflict(entity, event) {
    const conflict = {
      id: `conflict_${Date.now()}_${Math.random()}`,
      type: 'data',
      entity: entity.id,
      changes: [
        {
          author: entity.author,
          platform: this.currentSession.platform,
          data: entity.data,
          timestamp: entity.timestamp,
        },
        {
          author: event.author,
          platform: event.platform,
          data: event.data,
          timestamp: event.timestamp,
        },
      ],
      timestamp: Date.now(),
      status: 'pending',
    };
    if (this.currentSession) {
      this.currentSession.dataSync.conflicts.push(conflict);
      if (this.currentSession.conflictResolution.autoResolve) {
        this.resolveConflict(conflict);
      }
    }
  }
  // Resolve conflict
  resolveConflict(conflict) {
    if (!this.currentSession) return;
    const resolution = this.conflictResolver.resolve(
      conflict,
      this.currentSession.conflictResolution.strategy
    );
    if (resolution) {
      const entity = this.currentSession.dataSync.entities.get(conflict.entity);
      if (entity) {
        entity.data = resolution.data;
        entity.author = resolution.author;
        entity.timestamp = resolution.timestamp;
        entity.version++;
      }
      conflict.status = 'resolved';
      console.log(`\u2705 Resolved conflict ${conflict.id}`);
    } else {
      conflict.status = 'ignored';
      console.log(`\u26A0\uFE0F Ignored conflict ${conflict.id}`);
    }
  }
  // Check connections
  checkConnections() {
    this.networks.forEach((network, id) => {
      if (Math.random() < 0.01) {
        network.latency = 20 + Math.random() * 100;
        network.bandwidth = 1e3 + Math.random() * 4e3;
        network.reliability = 0.9 + Math.random() * 0.09;
      }
    });
  }
  // Detect conflicts
  detectConflicts() {
    if (!this.currentSession) return;
    const now = Date.now();
    this.currentSession.dataSync.conflicts = this.currentSession.dataSync.conflicts.filter(
      conflict => {
        return now - conflict.timestamp < 3e4;
      }
    );
  }
  // Update sync status
  updateSyncStatus() {
    if (!this.currentSession) return;
    const totalEntities = this.currentSession.dataSync.entities.size;
    const pendingConflicts = this.currentSession.dataSync.conflicts.filter(
      c => c.status === 'pending'
    ).length;
    const queueSize = this.syncQueue.length;
    console.log(
      `\u{1F4CA} Sync Status: ${this.currentSession.status} | Entities: ${totalEntities} | Conflicts: ${pendingConflicts} | Queue: ${queueSize}`
    );
  }
  // Queue sync event
  queueSyncEvent(event) {
    if (this.syncQueue.length >= this.maxQueueSize) {
      this.syncQueue.shift();
    }
    this.syncQueue.push(event);
  }
  // Get current session
  getCurrentSession() {
    return this.currentSession;
  }
  // Get all sessions
  getSessions() {
    return Array.from(this.sessions.values());
  }
  // Get network status
  getNetworkStatus() {
    return new Map(this.networks);
  }
  // Get sync statistics
  getSyncStatistics() {
    if (!this.currentSession) return null;
    return {
      sessionId: this.currentSession.id,
      status: this.currentSession.status,
      participants: this.currentSession.participants.length,
      entities: this.currentSession.dataSync.entities.size,
      events: this.currentSession.dataSync.events.length,
      conflicts: this.currentSession.dataSync.conflicts.length,
      lastSync: this.currentSession.lastSync,
      queueSize: this.syncQueue.length,
    };
  }
  // Set conflict resolution strategy
  setConflictResolutionStrategy(strategy) {
    if (this.currentSession) {
      this.currentSession.conflictResolution.strategy = strategy;
      console.log(`\u{1F527} Conflict resolution strategy set to: ${strategy}`);
    }
  }
  // Enable/disable auto-resolve
  setAutoResolve(enabled) {
    if (this.currentSession) {
      this.currentSession.conflictResolution.autoResolve = enabled;
      console.log(`\u{1F916} Auto-resolve ${enabled ? 'enabled' : 'disabled'}`);
    }
  }
  // Cleanup system
  cleanup() {
    this.sessions.clear();
    this.networks.clear();
    this.syncQueue = [];
    if (this.syncUI) {
      engine.removeEntity(this.syncUI);
    }
    this.isInitialized = false;
  }
};
var crossPlatformSyncSystem = new CrossPlatformSyncSystem();

// src/emotion-detection.ts
var EmotionDetectionSystem = class {
  constructor() {
    this.emotionProfiles = /* @__PURE__ */ new Map();
    this.currentEmotions = /* @__PURE__ */ new Map();
    this.adaptiveResponses = /* @__PURE__ */ new Map();
    this.isInitialized = false;
    this.detectionSensitivity = 0.7;
    this.adaptationThreshold = 0.8;
    this.emotionHistory = [];
    this.maxHistoryLength = 100;
    this.setupAdaptiveResponses();
  }
  // Initialize emotion detection system
  initialize() {
    console.log('\u{1F60A} Emotion Detection System Initializing...');
    this.createEmotionUI();
    this.createDefaultProfiles();
    this.startEmotionEngine();
    this.initializeSensors();
    this.isInitialized = true;
    console.log('\u{1F60A} Emotion Detection System Ready!');
  }
  // Setup adaptive responses
  setupAdaptiveResponses() {
    this.adaptiveResponses.set('joy_bright', {
      id: 'joy_bright',
      emotionTrigger: 'joy',
      responseType: 'environmental',
      action: {
        type: 'adjust_lighting',
        parameters: /* @__PURE__ */ new Map([
          ['brightness', 1.2],
          ['color', 'warm'],
          ['duration', 5e3],
        ]),
        duration: 5e3,
        intensity: 0.8,
      },
      priority: 1,
      conditions: [{ parameter: 'intensity', operator: 'greater', value: 0.6 }],
    });
    this.adaptiveResponses.set('joy_music', {
      id: 'joy_music',
      emotionTrigger: 'joy',
      responseType: 'audio',
      action: {
        type: 'play_music',
        parameters: /* @__PURE__ */ new Map([
          ['genre', 'upbeat'],
          ['volume', 0.6],
          ['duration', 3e3],
        ]),
        duration: 3e3,
        intensity: 0.7,
      },
      priority: 2,
      conditions: [],
    });
    this.adaptiveResponses.set('stress_calm', {
      id: 'stress_calm',
      emotionTrigger: 'stress',
      responseType: 'environmental',
      action: {
        type: 'adjust_lighting',
        parameters: /* @__PURE__ */ new Map([
          ['brightness', 0.7],
          ['color', 'cool'],
          ['duration', 1e4],
        ]),
        duration: 1e4,
        intensity: 0.9,
      },
      priority: 1,
      conditions: [{ parameter: 'intensity', operator: 'greater', value: 0.5 }],
    });
    this.adaptiveResponses.set('stress_breathing', {
      id: 'stress_breathing',
      emotionTrigger: 'stress',
      responseType: 'visual',
      action: {
        type: 'breathing_guide',
        parameters: /* @__PURE__ */ new Map([
          ['rate', 0.2],
          ['duration', 5e3],
        ]),
        duration: 5e3,
        intensity: 0.8,
      },
      priority: 2,
      conditions: [],
    });
    this.adaptiveResponses.set('focus_minimize', {
      id: 'focus_minimize',
      emotionTrigger: 'focus',
      responseType: 'environmental',
      action: {
        type: 'minimize_distractions',
        parameters: /* @__PURE__ */ new Map([
          ['ui_opacity', 0.3],
          ['notifications', false],
          ['duration', 15e3],
        ]),
        duration: 15e3,
        intensity: 0.9,
      },
      priority: 1,
      conditions: [{ parameter: 'intensity', operator: 'greater', value: 0.7 }],
    });
    this.adaptiveResponses.set('sadness_comfort', {
      id: 'sadness_comfort',
      emotionTrigger: 'sadness',
      responseType: 'audio',
      action: {
        type: 'play_music',
        parameters: /* @__PURE__ */ new Map([
          ['genre', 'comforting'],
          ['volume', 0.4],
          ['duration', 8e3],
        ]),
        duration: 8e3,
        intensity: 0.6,
      },
      priority: 1,
      conditions: [],
    });
    this.adaptiveResponses.set('anger_cool', {
      id: 'anger_cool',
      emotionTrigger: 'anger',
      responseType: 'environmental',
      action: {
        type: 'adjust_temperature',
        parameters: /* @__PURE__ */ new Map([
          ['temperature', 20],
          ['duration', 1e4],
        ]),
        duration: 1e4,
        intensity: 0.8,
      },
      priority: 1,
      conditions: [{ parameter: 'intensity', operator: 'greater', value: 0.6 }],
    });
    console.log('\u{1F3AD} Adaptive responses configured');
  }
  // Create emotion UI
  createEmotionUI() {
    this.emotionUI = engine.addEntity();
    Transform2.create(this.emotionUI, {
      position: Vector32.create(8, 4, 14),
      scale: Vector32.create(3, 3, 0.1),
    });
    MeshRenderer3.setBox(this.emotionUI);
    Material3.setPbrMaterial(this.emotionUI, {
      albedoColor: Color42.create(0.1, 0.2, 0.4, 0.9),
      emissiveColor: Color42.create(0.2, 0.4, 0.8, 0.5),
      emissiveIntensity: 2,
    });
    const title = engine.addEntity();
    Transform2.create(title, {
      parent: this.emotionUI,
      position: Vector32.create(0, 1.2, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(title, {
      text: '\u{1F60A} EMOTION DETECTION',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 2,
      textAlign: 3,
    });
    this.createEmotionIndicators();
    this.createResponseControls();
    this.createProfileDisplay();
  }
  // Create emotion indicators
  createEmotionIndicators() {
    const emotions = ['joy', 'stress', 'focus', 'sadness', 'anger', 'calm'];
    let xOffset = -1.2;
    emotions.forEach(emotion => {
      const indicator = engine.addEntity();
      Transform2.create(indicator, {
        parent: this.emotionUI,
        position: Vector32.create(xOffset, 0.6, 0.1),
        scale: Vector32.create(0.2, 0.2, 0.1),
      });
      MeshRenderer3.setBox(indicator);
      Material3.setPbrMaterial(indicator, {
        albedoColor: this.getEmotionColor(emotion),
        emissiveColor: this.getEmotionColor(emotion),
        emissiveIntensity: 0.5,
      });
      const emotionText = engine.addEntity();
      Transform2.create(emotionText, {
        parent: indicator,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape.create(emotionText, {
        text: this.getEmotionIcon(emotion),
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 2,
        textAlign: 3,
      });
      pointerEventsSystem.onPointerDown(
        {
          entity: indicator,
          opts: { button: InputAction.IA_POINTER, hoverText: `Simulate ${emotion}` },
        },
        () => this.simulateEmotion(emotion)
      );
      xOffset += 0.4;
    });
  }
  // Create response controls
  createResponseControls() {
    const controls = [
      { id: 'enable_adaptation', icon: '\u{1F504}', name: 'Enable Adaptation' },
      { id: 'disable_adaptation', icon: '\u23F8\uFE0F', name: 'Disable Adaptation' },
      { id: 'calibrate', icon: '\u2699\uFE0F', name: 'Calibrate' },
    ];
    let xOffset = -0.8;
    controls.forEach(control => {
      const button = engine.addEntity();
      Transform2.create(button, {
        parent: this.emotionUI,
        position: Vector32.create(xOffset, 0.2, 0.1),
        scale: Vector32.create(0.3, 0.3, 0.1),
      });
      MeshRenderer3.setBox(button);
      Material3.setPbrMaterial(button, {
        albedoColor: Color42.create(0.3, 0.6, 0.8, 1),
        emissiveColor: Color42.create(0.3, 0.6, 0.8, 0.5),
        emissiveIntensity: 2,
      });
      const buttonText = engine.addEntity();
      Transform2.create(buttonText, {
        parent: button,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape.create(buttonText, {
        text: control.icon,
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 2,
        textAlign: 3,
      });
      pointerEventsSystem.onPointerDown(
        {
          entity: button,
          opts: { button: InputAction.IA_POINTER, hoverText: control.name },
        },
        () => this.handleResponseControl(control.id)
      );
      xOffset += 0.8;
    });
  }
  // Create profile display
  createProfileDisplay() {
    const profileDisplay = engine.addEntity();
    Transform2.create(profileDisplay, {
      parent: this.emotionUI,
      position: Vector32.create(0, -0.4, 0.1),
      scale: Vector32.create(0.8, 0.3, 0.1),
    });
    MeshRenderer3.setBox(profileDisplay);
    Material3.setPbrMaterial(profileDisplay, {
      albedoColor: Color42.create(0.1, 0.1, 0.1, 0.8),
      emissiveColor: Color42.create(0.1, 0.1, 0.1, 0.3),
      emissiveIntensity: 1,
    });
    const profileText = engine.addEntity();
    Transform2.create(profileText, {
      parent: profileDisplay,
      position: Vector32.create(0, 0, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(profileText, {
      text: '\u{1F464} Profile: Active',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 1.5,
      textAlign: 3,
    });
  }
  // Get emotion color
  getEmotionColor(emotion) {
    switch (emotion) {
      case 'joy':
        return Color42.create(1, 0.8, 0.2, 1);
      case 'stress':
        return Color42.create(0.8, 0.2, 0.2, 1);
      case 'focus':
        return Color42.create(0.2, 0.8, 0.8, 1);
      case 'sadness':
        return Color42.create(0.2, 0.4, 0.8, 1);
      case 'anger':
        return Color42.create(0.8, 0.2, 0.2, 1);
      case 'calm':
        return Color42.create(0.2, 0.8, 0.4, 1);
      default:
        return Color42.create(0.5, 0.5, 0.5, 1);
    }
  }
  // Get emotion icon
  getEmotionIcon(emotion) {
    switch (emotion) {
      case 'joy':
        return '\u{1F60A}';
      case 'stress':
        return '\u{1F630}';
      case 'focus':
        return '\u{1F3AF}';
      case 'sadness':
        return '\u{1F622}';
      case 'anger':
        return '\u{1F620}';
      case 'calm':
        return '\u{1F60C}';
      default:
        return '\u{1F610}';
    }
  }
  // Create default profiles
  createDefaultProfiles() {
    const defaultProfile = {
      userId: 'user_default',
      baselineEmotions: /* @__PURE__ */ new Map([
        ['joy', 0.3],
        ['stress', 0.2],
        ['focus', 0.4],
        ['sadness', 0.1],
        ['anger', 0.1],
        ['calm', 0.5],
        ['neutral', 0.6],
      ]),
      personalityTraits: [
        { trait: 'openness', value: 0.7 },
        { trait: 'conscientiousness', value: 0.8 },
        { trait: 'extraversion', value: 0.6 },
        { trait: 'agreeableness', value: 0.7 },
        { trait: 'neuroticism', value: 0.3 },
      ],
      preferences: {
        lightingPreference: 'adaptive',
        musicPreference: ['ambient', 'classical'],
        colorPreference: [Color32.create(0.2, 0.4, 0.8), Color32.create(0.8, 0.6, 0.2)],
        interactionStyle: 'subtle',
        privacyLevel: 'medium',
      },
      history: [],
      adaptationLevel: 0.5,
    };
    this.emotionProfiles.set(defaultProfile.userId, defaultProfile);
    console.log('\u{1F464} Default emotion profile created');
  }
  // Start emotion engine
  startEmotionEngine() {
    engine.addSystem(() => {
      if (!this.isInitialized) return;
      this.detectEmotions();
      this.processAdaptiveResponses();
      this.updateEmotionHistory();
    });
  }
  // Initialize sensors
  initializeSensors() {
    console.log('\u{1F4E1} Initializing emotion sensors...');
  }
  // Detect emotions
  detectEmotions() {
    if (Math.random() < 0.02) {
      const emotions = ['joy', 'stress', 'focus', 'calm', 'sadness', 'anger'];
      const randomEmotion = emotions[Math.floor(Math.random() * emotions.length)];
      this.detectEmotion('user_default', randomEmotion, Math.random() * 0.5 + 0.5);
    }
  }
  // Detect emotion
  detectEmotion(userId, emotion, intensity) {
    const profile = this.emotionProfiles.get(userId);
    if (!profile) return;
    const emotionData = {
      id: `emotion_${Date.now()}_${Math.random()}`,
      userId,
      timestamp: Date.now(),
      primaryEmotion: emotion,
      confidence: Math.random() * 0.3 + 0.7,
      intensity,
      triggers: this.identifyTriggers(emotion),
      context: {
        activity: 'working',
        location: 'office',
        participants: ['user'],
        environment: 'virtual_office',
        timeOfDay: /* @__PURE__ */ new Date().getHours() < 12 ? 'morning' : 'afternoon',
      },
      physiological: {
        heartRate: 60 + Math.random() * 40,
        voiceTone: Math.random(),
        facialExpression: Math.random(),
        bodyLanguage: Math.random(),
        responseTime: Math.random() * 1e3 + 200,
      },
    };
    this.currentEmotions.set(userId, emotionData);
    this.emotionHistory.push(emotionData);
    if (this.emotionHistory.length > this.maxHistoryLength) {
      this.emotionHistory.shift();
    }
    profile.history.push(emotionData);
    this.adaptProfile(userId, emotionData);
    console.log(`\u{1F60A} Detected emotion: ${emotion} (intensity: ${intensity.toFixed(2)})`);
  }
  // Identify triggers
  identifyTriggers(emotion) {
    const triggers = [];
    switch (emotion) {
      case 'joy':
        triggers.push('achievement', 'social_interaction', 'success');
        break;
      case 'stress':
        triggers.push('deadline', 'complexity', 'interruption');
        break;
      case 'focus':
        triggers.push('task_engagement', 'goal_orientation');
        break;
      case 'sadness':
        triggers.push('setback', 'isolation', 'failure');
        break;
      case 'anger':
        triggers.push('frustration', 'obstacle', 'conflict');
        break;
      case 'calm':
        triggers.push('meditation', 'completion', 'satisfaction');
        break;
    }
    return triggers;
  }
  // Adapt profile
  adaptProfile(userId, emotionData) {
    const profile = this.emotionProfiles.get(userId);
    if (!profile) return;
    const currentBaseline = profile.baselineEmotions.get(emotionData.primaryEmotion) || 0;
    const newBaseline = currentBaseline * 0.9 + emotionData.intensity * 0.1;
    profile.baselineEmotions.set(emotionData.primaryEmotion, newBaseline);
    profile.adaptationLevel = Math.min(1, profile.adaptationLevel + 0.01);
    console.log(
      `\u{1F4C8} Adapted profile for ${userId} (adaptation level: ${profile.adaptationLevel.toFixed(2)})`
    );
  }
  // Process adaptive responses
  processAdaptiveResponses() {
    this.currentEmotions.forEach((emotionData, userId) => {
      const profile = this.emotionProfiles.get(userId);
      if (!profile) return;
      if (emotionData.intensity > this.adaptationThreshold) {
        this.triggerAdaptiveResponse(emotionData, profile);
      }
    });
  }
  // Trigger adaptive response
  triggerAdaptiveResponse(emotionData, profile) {
    const responseKey = `${emotionData.primaryEmotion}_${this.getBestResponseType(emotionData, profile)}`;
    const response = this.adaptiveResponses.get(responseKey);
    if (response) {
      const conditionsMet = response.conditions.every(condition => {
        const value = emotionData.intensity;
        switch (condition.operator) {
          case 'greater':
            return value > condition.value;
          case 'less':
            return value < condition.value;
          case 'equals':
            return value === condition.value;
          case 'between':
            return value >= condition.value[0] && value <= condition.value[1];
          default:
            return false;
        }
      });
      if (conditionsMet) {
        this.executeAdaptiveResponse(response, emotionData);
      }
    }
  }
  // Get best response type
  getBestResponseType(emotionData, profile) {
    switch (profile.preferences.interactionStyle) {
      case 'direct':
        return 'environmental';
      case 'subtle':
        return 'audio';
      case 'minimal':
        return 'visual';
      default:
        return 'environmental';
    }
  }
  // Execute adaptive response
  executeAdaptiveResponse(response, emotionData) {
    console.log(`\u{1F3AD} Executing adaptive response: ${response.action.type}`);
    switch (response.action.type) {
      case 'adjust_lighting':
        this.adjustLighting(response.action.parameters);
        break;
      case 'play_music':
        this.playMusic(response.action.parameters);
        break;
      case 'breathing_guide':
        this.showBreathingGuide(response.action.parameters);
        break;
      case 'minimize_distractions':
        this.minimizeDistractions(response.action.parameters);
        break;
      case 'adjust_temperature':
        this.adjustTemperature(response.action.parameters);
        break;
    }
    soundSystem.playInteractionSound('powerup');
  }
  // Adjust lighting
  adjustLighting(parameters) {
    const brightness = parameters.get('brightness');
    const color = parameters.get('color');
    const duration = parameters.get('duration');
    console.log(
      `\u{1F4A1} Adjusting lighting: brightness=${brightness}, color=${color}, duration=${duration}ms`
    );
  }
  // Play music
  playMusic(parameters) {
    const genre = parameters.get('genre');
    const volume = parameters.get('volume');
    const duration = parameters.get('duration');
    console.log(
      `\u{1F3B5} Playing music: genre=${genre}, volume=${volume}, duration=${duration}ms`
    );
  }
  // Show breathing guide
  showBreathingGuide(parameters) {
    const rate = parameters.get('rate');
    const duration = parameters.get('duration');
    console.log(`\u{1FAC1} Showing breathing guide: rate=${rate}, duration=${duration}ms`);
  }
  // Minimize distractions
  minimizeDistractions(parameters) {
    const uiOpacity = parameters.get('ui_opacity');
    const notifications = parameters.get('notifications');
    const duration = parameters.get('duration');
    console.log(
      `\u{1F507} Minimizing distractions: ui_opacity=${uiOpacity}, notifications=${notifications}`
    );
  }
  // Adjust temperature
  adjustTemperature(parameters) {
    const temperature = parameters.get('temperature');
    const duration = parameters.get('duration');
    console.log(`\u{1F321}\uFE0F Adjusting temperature: ${temperature}\xB0C for ${duration}ms`);
  }
  // Update emotion history
  updateEmotionHistory() {
    const now = Date.now();
    this.currentEmotions.forEach((emotion, userId) => {
      if (now - emotion.timestamp > 3e4) {
        this.currentEmotions.delete(userId);
      }
    });
  }
  // Handle response control
  handleResponseControl(controlId) {
    switch (controlId) {
      case 'enable_adaptation':
        this.adaptationThreshold = 0.5;
        console.log('\u{1F504} Emotion adaptation enabled');
        break;
      case 'disable_adaptation':
        this.adaptationThreshold = 1;
        console.log('\u23F8\uFE0F Emotion adaptation disabled');
        break;
      case 'calibrate':
        this.calibrateSystem();
        break;
    }
    soundSystem.playInteractionSound('click');
  }
  // Simulate emotion
  simulateEmotion(emotion) {
    const intensity = Math.random() * 0.5 + 0.5;
    this.detectEmotion('user_default', emotion, intensity);
    soundSystem.playInteractionSound('click');
  }
  // Calibrate system
  calibrateSystem() {
    console.log('\u2699\uFE0F Calibrating emotion detection system...');
    this.adaptationThreshold = 0.8;
    this.currentEmotions.clear();
    this.detectionSensitivity = 0.7;
    console.log('\u2705 Calibration complete');
    soundSystem.playInteractionSound('powerup');
  }
  // Get current emotion
  getCurrentEmotion(userId) {
    return this.currentEmotions.get(userId);
  }
  // Get emotion profile
  getEmotionProfile(userId) {
    return this.emotionProfiles.get(userId);
  }
  // Get emotion history
  getEmotionHistory() {
    return [...this.emotionHistory];
  }
  // Set detection sensitivity
  setDetectionSensitivity(sensitivity) {
    this.detectionSensitivity = Math.max(0, Math.min(1, sensitivity));
    console.log(`\u{1F4E1} Detection sensitivity set to: ${this.detectionSensitivity}`);
  }
  // Set adaptation threshold
  setAdaptationThreshold(threshold) {
    this.adaptationThreshold = Math.max(0, Math.min(1, threshold));
    console.log(`\u{1F3AD} Adaptation threshold set to: ${this.adaptationThreshold}`);
  }
  // Create custom profile
  createProfile(userId, preferences) {
    const profile = {
      userId,
      baselineEmotions: /* @__PURE__ */ new Map([
        ['joy', 0.3],
        ['stress', 0.2],
        ['focus', 0.4],
        ['sadness', 0.1],
        ['anger', 0.1],
        ['calm', 0.5],
        ['neutral', 0.6],
      ]),
      personalityTraits: [
        { trait: 'openness', value: 0.5 },
        { trait: 'conscientiousness', value: 0.5 },
        { trait: 'extraversion', value: 0.5 },
        { trait: 'agreeableness', value: 0.5 },
        { trait: 'neuroticism', value: 0.5 },
      ],
      preferences: {
        lightingPreference: 'adaptive',
        musicPreference: ['ambient'],
        colorPreference: [Color32.create(0.5, 0.5, 0.5)],
        interactionStyle: 'subtle',
        privacyLevel: 'medium',
        ...preferences,
      },
      history: [],
      adaptationLevel: 0.3,
    };
    this.emotionProfiles.set(userId, profile);
    console.log(`\u{1F464} Created emotion profile for ${userId}`);
    return profile;
  }
  // Cleanup system
  cleanup() {
    this.emotionProfiles.clear();
    this.currentEmotions.clear();
    this.adaptiveResponses.clear();
    this.emotionHistory = [];
    if (this.emotionUI) {
      engine.removeEntity(this.emotionUI);
    }
    this.isInitialized = false;
  }
};
var emotionDetectionSystem = new EmotionDetectionSystem();

// src/enhanced-architecture.ts
var AnimationSystem = class {
  constructor() {
    this.animations = /* @__PURE__ */ new Map();
  }
  addAnimation(entity, data) {
    this.animations.set(entity, data);
  }
  update(deltaTime) {
    this.animations.forEach((data, entity) => {
      data.time += deltaTime;
      const transform = Transform2.getMutable(entity);
      if (data.type === 'pulse') {
        const scale = 1 + Math.sin(data.time * data.speed) * data.intensity;
        transform.scale = Vector32.create(scale, scale, scale);
      } else if (data.type === 'rotate') {
        transform.rotation = Quaternion2.fromEulerDegrees(0, data.time * data.speed * 10, 0);
      } else if (data.type === 'float') {
        transform.position.y = data.baseY + Math.sin(data.time * data.speed) * data.intensity;
      }
    });
  }
};
var animationSystem = new AnimationSystem();
function createEnhancedArchitecture() {
  const holographicFloor = engine.addEntity();
  Material3.setPbrMaterial(holographicFloor, {
    albedoColor: Color42.create(0.1, 0.3, 0.6, 0.8),
    roughness: 0.1,
    metallic: 0.9,
    emissiveColor: Color42.create(0, 0.2, 0.4, 0.5),
    emissiveIntensity: 2,
  });
  const quantumGlass = engine.addEntity();
  Material3.setPbrMaterial(quantumGlass, {
    albedoColor: Color42.create(0.3, 0.6, 1, 0.15),
    roughness: 0,
    metallic: 0.2,
    alphaTest: 0.05,
    emissiveColor: Color42.create(0.2, 0.4, 0.8, 0.3),
    emissiveIntensity: 1,
  });
  const floor = engine.addEntity();
  Transform2.create(floor, {
    position: Vector32.create(8, 0.01, 8),
    scale: Vector32.create(16, 0.1, 16),
  });
  MeshRenderer3.setBox(floor);
  Material3.setPbrMaterial(floor, {
    albedoColor: Color42.create(0.05, 0.1, 0.2, 0.9),
    roughness: 0.1,
    metallic: 0.8,
    emissiveColor: Color42.create(0, 0.3, 0.6, 0.4),
    emissiveIntensity: 3,
  });
  const ceiling = engine.addEntity();
  Transform2.create(ceiling, {
    position: Vector32.create(8, 6, 8),
    scale: Vector32.create(16, 0.1, 16),
  });
  MeshRenderer3.setBox(ceiling);
  Material3.setPbrMaterial(ceiling, {
    albedoColor: Color42.create(0.1, 0.05, 0.15, 1),
    roughness: 0.2,
    metallic: 0.7,
    emissiveColor: Color42.create(0.4, 0.2, 0.8, 0.3),
    emissiveIntensity: 2,
  });
  const backWall = engine.addEntity();
  Transform2.create(backWall, {
    position: Vector32.create(8, 3, 15.9),
    scale: Vector32.create(16, 6, 0.2),
  });
  MeshRenderer3.setBox(backWall);
  Material3.setPbrMaterial(backWall, {
    albedoColor: Color42.create(0.15, 0.1, 0.2, 1),
    roughness: 0.3,
    metallic: 0.6,
    emissiveColor: Color42.create(0.3, 0.1, 0.5, 0.2),
    emissiveIntensity: 1,
  });
  const leftGlass = engine.addEntity();
  Transform2.create(leftGlass, {
    position: Vector32.create(0.1, 3, 8),
    scale: Vector32.create(0.2, 6, 16),
  });
  MeshRenderer3.setBox(leftGlass);
  Material3.setPbrMaterial(leftGlass, {
    albedoColor: Color42.create(0.5, 0.7, 1, 0.2),
    roughness: 0,
    metallic: 0.3,
    emissiveColor: Color42.create(0.3, 0.5, 1, 0.4),
    emissiveIntensity: 2,
  });
  const rightGlass = engine.addEntity();
  Transform2.create(rightGlass, {
    position: Vector32.create(15.9, 3, 8),
    scale: Vector32.create(0.2, 6, 16),
  });
  MeshRenderer3.setBox(rightGlass);
  Material3.setPbrMaterial(rightGlass, {
    albedoColor: Color42.create(0.5, 0.7, 1, 0.2),
    roughness: 0,
    metallic: 0.3,
    emissiveColor: Color42.create(0.3, 0.5, 1, 0.4),
    emissiveIntensity: 2,
  });
  const pillar1 = engine.addEntity();
  Transform2.create(pillar1, {
    position: Vector32.create(2, 3, 0.5),
    scale: Vector32.create(1.2, 6, 1.2),
  });
  MeshRenderer3.setBox(pillar1);
  Material3.setPbrMaterial(pillar1, {
    albedoColor: Color42.create(0.2, 0.4, 0.8, 1),
    roughness: 0.2,
    metallic: 0.8,
    emissiveColor: Color42.create(0.2, 0.3, 0.7, 0.5),
    emissiveIntensity: 3,
  });
  const pillar2 = engine.addEntity();
  Transform2.create(pillar2, {
    position: Vector32.create(14, 3, 0.5),
    scale: Vector32.create(1.2, 6, 1.2),
  });
  MeshRenderer3.setBox(pillar2);
  Material3.setPbrMaterial(pillar2, {
    albedoColor: Color42.create(0.2, 0.4, 0.8, 1),
    roughness: 0.2,
    metallic: 0.8,
    emissiveColor: Color42.create(0.2, 0.3, 0.7, 0.5),
    emissiveIntensity: 3,
  });
  const neonStrip1 = engine.addEntity();
  Transform2.create(neonStrip1, {
    position: Vector32.create(8, 5.9, 8),
    scale: Vector32.create(14, 0.05, 14),
  });
  MeshRenderer3.setBox(neonStrip1);
  Material3.setPbrMaterial(neonStrip1, {
    albedoColor: Color42.create(0, 0, 0, 1),
    emissiveColor: Color42.create(0.8, 0.3, 1, 1),
    emissiveIntensity: 8,
  });
  const neonStrip2 = engine.addEntity();
  Transform2.create(neonStrip2, {
    position: Vector32.create(8, 5.7, 8),
    scale: Vector32.create(13, 0.05, 13),
  });
  MeshRenderer3.setBox(neonStrip2);
  Material3.setPbrMaterial(neonStrip2, {
    albedoColor: Color42.create(0, 0, 0, 1),
    emissiveColor: Color42.create(0.3, 0.8, 1, 1),
    emissiveIntensity: 6,
  });
  for (let i = 0; i < 5; i++) {
    const dataStream = engine.addEntity();
    Transform2.create(dataStream, {
      position: Vector32.create(3 + i * 2.5, 3, 2),
      scale: Vector32.create(0.1, 4, 0.1),
    });
    MeshRenderer3.setBox(dataStream);
    Material3.setPbrMaterial(dataStream, {
      albedoColor: Color42.create(0, 1, 0.8, 0.6),
      roughness: 0,
      metallic: 0.5,
      emissiveColor: Color42.create(0, 1, 0.8, 1),
      emissiveIntensity: 4,
    });
  }
  const quantumPlatform = engine.addEntity();
  Transform2.create(quantumPlatform, {
    position: Vector32.create(8, 0.5, 8),
    scale: Vector32.create(4, 0.2, 4),
  });
  MeshRenderer3.setBox(quantumPlatform);
  Material3.setPbrMaterial(quantumPlatform, {
    albedoColor: Color42.create(0.2, 0.1, 0.4, 0.8),
    roughness: 0.1,
    metallic: 0.9,
    emissiveColor: Color42.create(0.6, 0.3, 1, 0.6),
    emissiveIntensity: 5,
  });
  for (let i = 0; i < 3; i++) {
    const displayPanel = engine.addEntity();
    Transform2.create(displayPanel, {
      position: Vector32.create(4 + i * 4, 4, 12),
      scale: Vector32.create(2, 1.5, 0.1),
    });
    MeshRenderer3.setBox(displayPanel);
    Material3.setPbrMaterial(displayPanel, {
      albedoColor: Color42.create(0, 0, 0, 0.9),
      roughness: 0.1,
      metallic: 0.8,
      emissiveColor: Color42.create(0.2, 0.8, 1, 0.4),
      emissiveIntensity: 3,
    });
  }
  const energyCore = engine.addEntity();
  Transform2.create(energyCore, {
    position: Vector32.create(8, 2, 8),
    scale: Vector32.create(1, 1, 1),
  });
  MeshRenderer3.setBox(energyCore);
  Material3.setPbrMaterial(energyCore, {
    albedoColor: Color42.create(1, 1, 1, 0.8),
    roughness: 0,
    metallic: 1,
    emissiveColor: Color42.create(1, 0.8, 0.2, 1),
    emissiveIntensity: 10,
  });
  createArtGallery();
  animationSystem.addAnimation(energyCore, {
    type: 'float',
    speed: 0.8,
    intensity: 0.3,
    time: 0,
    baseY: 2,
  });
  engine.addSystem(() => {
    animationSystem.update(0.016);
  });
}
function createArtGallery() {
  console.log('\u{1F3A8} Creating Art Gallery...');
}

// src/enhanced-interactables.ts
var systemStatusEntity;
var alertSystemEntity;
function createEnhancedInteractables() {
  const mainDashboard = engine.addEntity();
  Transform2.create(mainDashboard, {
    position: Vector32.create(8, 3, 15.5),
    scale: Vector32.create(8, 4, 0.2),
  });
  MeshRenderer3.setBox(mainDashboard);
  Material3.setPbrMaterial(mainDashboard, {
    albedoColor: Color42.create(0, 0, 0, 0.95),
    roughness: 0.1,
    metallic: 0.9,
    emissiveColor: Color42.create(0.1, 0.3, 0.6, 0.3),
    emissiveIntensity: 2,
  });
  const titleText = engine.addEntity();
  Transform2.create(titleText, {
    parent: mainDashboard,
    position: Vector32.create(0, 0.4, -0.8),
    scale: Vector32.create(0.125, 0.25, 1),
  });
  TextShape3.create(titleText, {
    text: '\u26A1 AIGESTION NEXUS HQ \u26A1',
    textColor: Color42.create(0.8, 0.5, 1, 1),
    fontSize: 6,
    textAlign: 3,
    outlineWidth: 0.1,
    outlineColor: Color42.create(0.5, 0.2, 0.8, 1),
  });
  systemStatusEntity = engine.addEntity();
  Transform2.create(systemStatusEntity, {
    parent: mainDashboard,
    position: Vector32.create(0, -0.1, -0.8),
    scale: Vector32.create(0.125, 0.25, 1),
  });
  TextShape3.create(systemStatusEntity, {
    text: '\u{1F525} SYSTEMS ONLINE \u{1F525}\n\u26A1 Quantum Core: ACTIVE\n\u{1F310} Network: OPTIMAL\n\u{1F6E1}\uFE0F Security: ENHANCED',
    textColor: Color42.create(0, 1, 0.8, 1),
    fontSize: 3,
    textAlign: 3,
  });
  alertSystemEntity = engine.addEntity();
  Transform2.create(alertSystemEntity, {
    parent: mainDashboard,
    position: Vector32.create(0, -0.5, -0.8),
    scale: Vector32.create(0.125, 0.25, 1),
  });
  TextShape3.create(alertSystemEntity, {
    text: '\u{1F4E1} Real-time Monitoring Active...',
    textColor: Color42.create(1, 1, 0, 1),
    fontSize: 2.5,
    textAlign: 3,
  });
  const quantumPanel = engine.addEntity();
  Transform2.create(quantumPanel, {
    position: Vector32.create(2, 1.5, 10),
    scale: Vector32.create(2, 2, 0.3),
  });
  MeshRenderer3.setBox(quantumPanel);
  Material3.setPbrMaterial(quantumPanel, {
    albedoColor: Color42.create(0.2, 0.1, 0.4, 0.9),
    roughness: 0.2,
    metallic: 0.8,
    emissiveColor: Color42.create(0.6, 0.3, 1, 0.5),
    emissiveIntensity: 3,
  });
  const quantumLabel = engine.addEntity();
  Transform2.create(quantumLabel, {
    parent: quantumPanel,
    position: Vector32.create(0, 0.3, -0.6),
    scale: Vector32.create(0.5, 0.5, 1),
  });
  TextShape3.create(quantumLabel, {
    text: 'QUANTUM\nCORE',
    textColor: Color42.create(0.8, 0.5, 1, 1),
    fontSize: 4,
    textAlign: 3,
  });
  const networkPanel = engine.addEntity();
  Transform2.create(networkPanel, {
    position: Vector32.create(14, 1.5, 10),
    scale: Vector32.create(2, 2, 0.3),
  });
  MeshRenderer3.setBox(networkPanel);
  Material3.setPbrMaterial(networkPanel, {
    albedoColor: Color42.create(0.1, 0.3, 0.6, 0.9),
    roughness: 0.2,
    metallic: 0.8,
    emissiveColor: Color42.create(0.2, 0.6, 1, 0.5),
    emissiveIntensity: 3,
  });
  const networkLabel = engine.addEntity();
  Transform2.create(networkLabel, {
    parent: networkPanel,
    position: Vector32.create(0, 0.3, -0.6),
    scale: Vector32.create(0.5, 0.5, 1),
  });
  TextShape3.create(networkLabel, {
    text: 'NETWORK\nHUB',
    textColor: Color42.create(0.5, 0.8, 1, 1),
    fontSize: 4,
    textAlign: 3,
  });
  const masterControl = engine.addEntity();
  Transform2.create(masterControl, {
    position: Vector32.create(8, 2, 8),
    scale: Vector32.create(1.5, 1.5, 1.5),
  });
  MeshRenderer3.setBox(masterControl);
  Material3.setPbrMaterial(masterControl, {
    albedoColor: Color42.create(1, 0.8, 0.2, 0.8),
    roughness: 0.1,
    metallic: 0.9,
    emissiveColor: Color42.create(1, 0.8, 0.2, 1),
    emissiveIntensity: 8,
  });
  pointerEventsSystem.onPointerDown(
    {
      entity: masterControl,
      opts: { button: InputAction.IA_POINTER, hoverText: '\u{1F3AE} MASTER CONTROL SYSTEM' },
    },
    () => {
      console.log('\u{1F3AE} Master Control Activated - Quantum Systems Online');
      soundSystem.playInteractionSound('powerup');
      updateSystemStatus('QUANTUM_MODE', true);
    }
  );
  pointerEventsSystem.onPointerDown(
    {
      entity: quantumPanel,
      opts: { button: InputAction.IA_POINTER, hoverText: '\u26A1 Activate Quantum Core' },
    },
    () => {
      console.log('\u26A1 Quantum Core Activation Sequence');
      soundSystem.playInteractionSound('powerup');
      updateSystemStatus('QUANTUM_CORE', true);
    }
  );
  pointerEventsSystem.onPointerDown(
    {
      entity: networkPanel,
      opts: { button: InputAction.IA_POINTER, hoverText: '\u{1F310} Network Diagnostics' },
    },
    () => {
      console.log('\u{1F310} Network Diagnostics Running');
      soundSystem.playInteractionSound('click');
      updateSystemStatus('NETWORK_SCAN', true);
    }
  );
  for (let i = 0; i < 5; i++) {
    const dataOrb = engine.addEntity();
    Transform2.create(dataOrb, {
      position: Vector32.create(3 + i * 1.5, 3.5, 5 + i * 0.5),
      scale: Vector32.create(0.5, 0.5, 0.5),
    });
    MeshRenderer3.setBox(dataOrb);
    Material3.setPbrMaterial(dataOrb, {
      albedoColor: Color42.create(0, 1, 0.8, 0.7),
      roughness: 0,
      metallic: 0.8,
      emissiveColor: Color42.create(0, 1, 0.8, 1),
      emissiveIntensity: 5,
    });
    pointerEventsSystem.onPointerDown(
      {
        entity: dataOrb,
        opts: { button: InputAction.IA_POINTER, hoverText: `\u{1F4CA} Data Node ${i + 1}` },
      },
      () => {
        console.log(`\u{1F4CA} Accessing Data Node ${i + 1}`);
        updateSystemStatus(`DATA_NODE_${i + 1}`, true);
      }
    );
  }
  const securityTerminal = engine.addEntity();
  Transform2.create(securityTerminal, {
    position: Vector32.create(8, 1, 2),
    scale: Vector32.create(3, 2, 0.5),
  });
  MeshRenderer3.setBox(securityTerminal);
  Material3.setPbrMaterial(securityTerminal, {
    albedoColor: Color42.create(0.1, 0.2, 0.3, 0.9),
    roughness: 0.3,
    metallic: 0.7,
    emissiveColor: Color42.create(0.2, 0.4, 0.6, 0.4),
    emissiveIntensity: 2,
  });
  const securityLabel = engine.addEntity();
  Transform2.create(securityLabel, {
    parent: securityTerminal,
    position: Vector32.create(0, 0.2, -0.6),
    scale: Vector32.create(0.33, 0.5, 1),
  });
  TextShape3.create(securityLabel, {
    text: '\u{1F6E1}\uFE0F SECURITY\nTERMINAL',
    textColor: Color42.create(0.5, 0.8, 1, 1),
    fontSize: 3,
    textAlign: 3,
  });
  pointerEventsSystem.onPointerDown(
    {
      entity: securityTerminal,
      opts: {
        button: InputAction.IA_POINTER,
        hoverText: '\u{1F6E1}\uFE0F Access Security Systems',
      },
    },
    () => {
      console.log('\u{1F6E1}\uFE0F Security Systems Accessed');
      updateSystemStatus('SECURITY_BREACH', false);
    }
  );
  for (let i = 0; i < 3; i++) {
    const energyCrystal = engine.addEntity();
    Transform2.create(energyCrystal, {
      position: Vector32.create(4 + i * 4, 1, 14),
      scale: Vector32.create(0.8, 1.2, 0.8),
    });
    MeshRenderer3.setBox(energyCrystal);
    Material3.setPbrMaterial(energyCrystal, {
      albedoColor: Color42.create(0.8, 0.2, 1, 0.8),
      roughness: 0.1,
      metallic: 0.9,
      emissiveColor: Color42.create(0.8, 0.2, 1, 1),
      emissiveIntensity: 6,
    });
    pointerEventsSystem.onPointerDown(
      {
        entity: energyCrystal,
        opts: { button: InputAction.IA_POINTER, hoverText: `\u{1F48E} Energy Crystal ${i + 1}` },
      },
      () => {
        console.log(`\u{1F48E} Energy Crystal ${i + 1} Activated`);
        updateSystemStatus(`ENERGY_BOOST_${i + 1}`, true);
      }
    );
  }
}
function updateSystemStatus(system, active) {
  if (!systemStatusEntity) return;
  const status = active ? '\u2705 ACTIVE' : '\u26A0\uFE0F INACTIVE';
  const color = active ? Color42.create(0, 1, 0.5, 1) : Color42.create(1, 0.5, 0, 1);
  TextShape3.getMutable(systemStatusEntity).text = `\u{1F525} SYSTEMS ONLINE \u{1F525}
\u26A1 Quantum Core: ${status}
\u{1F310} Network: OPTIMAL
\u{1F6E1}\uFE0F Security: ENHANCED
\u{1F4E1} Last Action: ${system}`;
  TextShape3.getMutable(systemStatusEntity).textColor = color;
}
function updateAlert(message, alertType = 'INFO') {
  if (!alertSystemEntity) return;
  const colors = {
    INFO: Color42.create(0, 1, 1, 1),
    WARNING: Color42.create(1, 1, 0, 1),
    CRITICAL: Color42.create(1, 0, 0, 1),
  };
  const icons = {
    INFO: '\u{1F4E1}',
    WARNING: '\u26A0\uFE0F',
    CRITICAL: '\u{1F6A8}',
  };
  TextShape3.getMutable(alertSystemEntity).text = `${icons[alertType]} ${message}`;
  TextShape3.getMutable(alertSystemEntity).textColor = colors[alertType];
}

// src/enhanced-network.ts
async function fetchEnhancedSystemStats() {
  return new Promise(resolve2 => {
    setTimeout2(() => {
      const cpuLoad = Math.floor(Math.random() * 40) + 30;
      const systemHealth = cpuLoad > 60 ? 'CRITICAL' : cpuLoad > 45 ? 'WARNING' : 'OPTIMAL';
      resolve2({
        activeUsers: Math.floor(Math.random() * 800) + 1500,
        systemHealth,
        cpuLoad,
        quantumCoreStatus:
          Math.random() > 0.95 ? 'OVERLOAD' : Math.random() > 0.1 ? 'ONLINE' : 'OFFLINE',
        networkLatency: Math.floor(Math.random() * 50) + 10,
        securityLevel:
          Math.random() > 0.98 ? 'COMPROMISED' : Math.random() > 0.3 ? 'ENHANCED' : 'STANDARD',
        energyReserves: Math.floor(Math.random() * 60) + 40,
        dataStreamActive: Math.random() > 0.2,
        lastUpdate: /* @__PURE__ */ new Date().toLocaleTimeString(),
      });
    }, 300);
  });
}
async function fetchAlertMessages() {
  return new Promise(resolve2 => {
    setTimeout2(() => {
      const alerts = [
        {
          id: 'ALERT_001',
          message: 'Quantum core synchronization complete',
          type: 'INFO',
          timestamp: /* @__PURE__ */ new Date().toLocaleTimeString(),
          priority: 1,
        },
        {
          id: 'ALERT_002',
          message: 'Network latency optimization in progress',
          type: 'INFO',
          timestamp: /* @__PURE__ */ new Date().toLocaleTimeString(),
          priority: 2,
        },
      ];
      if (Math.random() > 0.8) {
        alerts.push({
          id: 'ALERT_003',
          message: 'Unusual activity detected in security perimeter',
          type: 'WARNING',
          timestamp: /* @__PURE__ */ new Date().toLocaleTimeString(),
          priority: 5,
        });
      }
      resolve2(alerts);
    }, 150);
  });
}
async function runSystemDiagnostics() {
  return new Promise(resolve2 => {
    setTimeout2(() => {
      const components = {
        quantumCore: Math.random() > 0.9 ? 'FAIL' : Math.random() > 0.3 ? 'OK' : 'WARNING',
        network: Math.random() > 0.95 ? 'FAIL' : Math.random() > 0.2 ? 'OK' : 'WARNING',
        security: Math.random() > 0.98 ? 'FAIL' : Math.random() > 0.1 ? 'OK' : 'WARNING',
        energy: Math.random() > 0.85 ? 'FAIL' : Math.random() > 0.4 ? 'OK' : 'WARNING',
      };
      const failCount = Object.values(components).filter(status => status === 'FAIL').length;
      const warningCount = Object.values(components).filter(status => status === 'WARNING').length;
      let overall = 'HEALTHY';
      if (failCount > 0) overall = 'CRITICAL';
      else if (warningCount > 1) overall = 'WARNING';
      resolve2({ overall, components });
    }, 1200);
  });
}

// src/gesture-recognition.ts
var GestureRecognitionSystem = class {
  constructor() {
    this.gestures = /* @__PURE__ */ new Map();
    this.gestureActions = /* @__PURE__ */ new Map();
    this.gestureTrails = /* @__PURE__ */ new Map();
    this.isInitialized = false;
    this.gestureHistory = [];
    this.maxHistoryLength = 10;
    this.handTracking = {
      isActive: false,
      leftHand: null,
      rightHand: null,
      lastUpdate: Date.now(),
    };
  }
  // Initialize gesture recognition system
  initialize() {
    console.log('\u{1F44B} Gesture Recognition System Initializing...');
    this.setupGestureActions();
    this.createGestureUI();
    this.startHandTracking();
    this.startGestureRecognition();
    this.isInitialized = true;
    console.log('\u{1F44B} Gesture Recognition System Ready!');
  }
  // Setup gesture actions
  setupGestureActions() {
    this.addGestureAction('swipe_left', 'navigate', { direction: 'left' }, true);
    this.addGestureAction('swipe_right', 'navigate', { direction: 'right' }, true);
    this.addGestureAction('swipe_up', 'navigate', { direction: 'up' }, true);
    this.addGestureAction('swipe_down', 'navigate', { direction: 'down' }, true);
    this.addGestureAction('push', 'push_object', { force: 1 }, true);
    this.addGestureAction('pull', 'pull_object', { force: 1 }, true);
    this.addGestureAction('point', 'select_target', { mode: 'single' }, true);
    this.addGestureAction('pinch', 'zoom', { scale: 1 }, true);
    this.addGestureAction('spread', 'zoom', { scale: 2 }, true);
    this.addGestureAction('wave', 'toggle_menu', {}, true);
    this.addGestureAction('thumbs_up', 'confirm', {}, true);
    this.addGestureAction('thumbs_down', 'cancel', {}, true);
    this.addGestureAction('circle', 'rotate', { angle: 360 }, true);
    this.addGestureAction('double_swipe', 'switch_scene', {}, true);
    this.addGestureAction('hold', 'open_settings', {}, true);
  }
  // Add gesture action
  addGestureAction(gestureType, action, parameters, enabled) {
    const gestureAction = {
      gestureType,
      action,
      parameters,
      enabled,
    };
    this.gestureActions.set(`${gestureType}_${action}`, gestureAction);
  }
  // Create gesture UI
  createGestureUI() {
    this.gestureUI = engine.addEntity();
    Transform2.create(this.gestureUI, {
      position: Vector32.create(8, 5, 8),
      scale: Vector32.create(3, 1, 0.1),
    });
    MeshRenderer3.setBox(this.gestureUI);
    Material3.setPbrMaterial(this.gestureUI, {
      albedoColor: Color42.create(0.1, 0.2, 0.4, 0.9),
      emissiveColor: Color42.create(0.2, 0.4, 0.8, 0.5),
      emissiveIntensity: 2,
    });
    const title = engine.addEntity();
    Transform2.create(title, {
      parent: this.gestureUI,
      position: Vector32.create(0, 0.3, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(title, {
      text: '\u{1F44B} GESTURE CONTROL ACTIVE',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 2,
      textAlign: 3,
    });
    this.createGestureIndicators();
  }
  // Create gesture indicators
  createGestureIndicators() {
    const indicatorPositions = [
      { x: -1, y: -0.2, gesture: '\u{1F446}' },
      { x: -0.5, y: -0.2, gesture: '\u{1F91A}' },
      { x: 0, y: -0.2, gesture: '\u{1F44C}' },
      { x: 0.5, y: -0.2, gesture: '\u{1F44B}' },
      { x: 1, y: -0.2, gesture: '\u{1F44D}' },
    ];
    indicatorPositions.forEach(pos => {
      const indicator = engine.addEntity();
      Transform2.create(indicator, {
        parent: this.gestureUI,
        position: Vector32.create(pos.x, pos.y, 0.1),
        scale: Vector32.create(0.2, 0.2, 0.1),
      });
      MeshRenderer3.setBox(indicator);
      Material3.setPbrMaterial(indicator, {
        albedoColor: Color42.create(0.2, 0.8, 0.2, 1),
        emissiveColor: Color42.create(0.2, 0.8, 0.2, 0.5),
        emissiveIntensity: 1,
      });
      const gestureText = engine.addEntity();
      Transform2.create(gestureText, {
        parent: indicator,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape.create(gestureText, {
        text: pos.gesture,
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 2,
        textAlign: 3,
      });
    });
  }
  // Start hand tracking simulation
  startHandTracking() {
    this.handTracking.isActive = true;
    engine.addSystem(() => {
      if (!this.isInitialized || !this.handTracking.isActive) return;
      this.updateHandTracking();
    });
  }
  // Update hand tracking
  updateHandTracking() {
    const time = Date.now() / 1e3;
    this.handTracking.rightHand = {
      position: Vector32.create(
        8 + Math.sin(time * 0.5) * 2,
        2 + Math.cos(time * 0.3) * 0.5,
        8 + Math.cos(time * 0.4) * 2
      ),
      rotation: Quaternion2.fromEulerDegrees(
        Math.sin(time * 0.2) * 20,
        Math.cos(time * 0.3) * 30,
        Math.sin(time * 0.4) * 10
      ),
      fingers: this.simulateFingers(time),
      confidence: 0.9,
    };
    this.handTracking.leftHand = {
      position: Vector32.create(
        8 + Math.cos(time * 0.4) * 1.5,
        2 + Math.sin(time * 0.5) * 0.3,
        8 + Math.sin(time * 0.3) * 1.5
      ),
      rotation: Quaternion2.fromEulerDegrees(
        Math.cos(time * 0.3) * 15,
        Math.sin(time * 0.4) * 25,
        Math.cos(time * 0.2) * 8
      ),
      fingers: this.simulateFingers(time + Math.PI),
      confidence: 0.85,
    };
    this.handTracking.lastUpdate = Date.now();
  }
  // Simulate finger data
  simulateFingers(time) {
    return [
      {
        id: 'thumb',
        position: Vector32.create(0.1, 0.1, 0.05),
        isExtended: Math.sin(time * 2) > 0,
        confidence: 0.9,
      },
      {
        id: 'index',
        position: Vector32.create(0.15, 0.15, 0.1),
        isExtended: Math.sin(time * 3) > -0.5,
        confidence: 0.95,
      },
      {
        id: 'middle',
        position: Vector32.create(0.1, 0.2, 0.08),
        isExtended: Math.sin(time * 2.5) > -0.3,
        confidence: 0.9,
      },
      {
        id: 'ring',
        position: Vector32.create(0.05, 0.18, 0.06),
        isExtended: Math.sin(time * 2.2) > -0.2,
        confidence: 0.85,
      },
      {
        id: 'pinky',
        position: Vector32.create(0, 0.15, 0.04),
        isExtended: Math.sin(time * 2.8) > -0.1,
        confidence: 0.8,
      },
    ];
  }
  // Start gesture recognition
  startGestureRecognition() {
    engine.addSystem(() => {
      if (!this.isInitialized) return;
      this.detectGestures();
      this.updateGestureTrails();
    });
  }
  // Detect gestures
  detectGestures() {
    if (!this.handTracking.rightHand) return;
    const hand = this.handTracking.rightHand;
    const currentTime = Date.now();
    this.detectSwipeGesture(hand, currentTime);
    this.detectCircleGesture(hand, currentTime);
    this.detectPinchGesture(hand, currentTime);
    this.detectWaveGesture(hand, currentTime);
    this.detectPointGesture(hand, currentTime);
    this.detectThumbsGesture(hand, currentTime);
  }
  // Detect swipe gesture
  detectSwipeGesture(hand, currentTime) {
    const gestureId = 'swipe';
    let existingGesture = this.gestures.get(gestureId);
    if (!existingGesture) {
      existingGesture = {
        id: gestureId,
        name: 'Swipe',
        type: 'swipe',
        confidence: 0,
        isActive: false,
        startPoint: hand.position,
        endPoint: hand.position,
        duration: 0,
        path: [hand.position],
      };
      this.gestures.set(gestureId, existingGesture);
    }
    existingGesture.path.push(hand.position);
    existingGesture.endPoint = hand.position;
    existingGesture.duration = currentTime - (existingGesture.duration || currentTime);
    const distance = Vector32.distance(existingGesture.startPoint, existingGesture.endPoint);
    if (distance > 1 && existingGesture.duration > 500) {
      existingGesture.isActive = true;
      existingGesture.confidence = Math.min(1, distance / 2);
      this.onGestureDetected(existingGesture);
      this.gestures.delete(gestureId);
    }
  }
  // Detect circle gesture
  detectCircleGesture(hand, currentTime) {
    const gestureId = 'circle';
    let existingGesture = this.gestures.get(gestureId);
    if (!existingGesture) {
      existingGesture = {
        id: gestureId,
        name: 'Circle',
        type: 'circle',
        confidence: 0,
        isActive: false,
        startPoint: hand.position,
        endPoint: hand.position,
        duration: 0,
        path: [hand.position],
      };
      this.gestures.set(gestureId, existingGesture);
    }
    existingGesture.path.push(hand.position);
    existingGesture.duration = currentTime - (existingGesture.duration || currentTime);
    if (existingGesture.path.length > 20) {
      const isCircle = this.isCircularPath(existingGesture.path);
      if (isCircle) {
        existingGesture.isActive = true;
        existingGesture.confidence = 0.8;
        this.onGestureDetected(existingGesture);
        this.gestures.delete(gestureId);
      }
    }
  }
  // Detect pinch gesture
  detectPinchGesture(hand, currentTime) {
    const thumbExtended = hand.fingers.find(f => f.id === 'thumb')?.isExtended;
    const indexExtended = hand.fingers.find(f => f.id === 'index')?.isExtended;
    if (thumbExtended && indexExtended) {
      const thumb = hand.fingers.find(f => f.id === 'thumb');
      const index = hand.fingers.find(f => f.id === 'index');
      if (thumb && index) {
        const distance = Vector32.distance(thumb.position, index.position);
        if (distance < 0.05) {
          const gesture = {
            id: 'pinch',
            name: 'Pinch',
            type: 'pinch',
            confidence: 0.9,
            isActive: true,
            startPoint: hand.position,
            endPoint: hand.position,
            duration: 0,
            path: [hand.position],
          };
          this.onGestureDetected(gesture);
        }
      }
    }
  }
  // Detect wave gesture
  detectWaveGesture(hand, currentTime) {
    const gestureId = 'wave';
    let existingGesture = this.gestures.get(gestureId);
    if (!existingGesture) {
      existingGesture = {
        id: gestureId,
        name: 'Wave',
        type: 'wave',
        confidence: 0,
        isActive: false,
        startPoint: hand.position,
        endPoint: hand.position,
        duration: 0,
        path: [hand.position],
      };
      this.gestures.set(gestureId, existingGesture);
    }
    existingGesture.path.push(hand.position);
    existingGesture.duration = currentTime - (existingGesture.duration || currentTime);
    if (existingGesture.path.length > 10) {
      const isWaving = this.isWavingMotion(existingGesture.path);
      if (isWaving) {
        existingGesture.isActive = true;
        existingGesture.confidence = 0.7;
        this.onGestureDetected(existingGesture);
        this.gestures.delete(gestureId);
      }
    }
  }
  // Detect point gesture
  detectPointGesture(hand, currentTime) {
    const indexExtended = hand.fingers.find(f => f.id === 'index')?.isExtended;
    const otherFingersExtended = hand.fingers.filter(f => f.id !== 'index').some(f => f.isExtended);
    if (indexExtended && !otherFingersExtended) {
      const gesture = {
        id: 'point',
        name: 'Point',
        type: 'point',
        confidence: 0.85,
        isActive: true,
        startPoint: hand.position,
        endPoint: hand.position,
        duration: 0,
        path: [hand.position],
      };
      this.onGestureDetected(gesture);
    }
  }
  // Detect thumbs up/down gesture
  detectThumbsGesture(hand, currentTime) {
    const thumbExtended = hand.fingers.find(f => f.id === 'thumb')?.isExtended;
    const otherFingersExtended = hand.fingers.filter(f => f.id !== 'thumb').some(f => f.isExtended);
    if (thumbExtended && !otherFingersExtended) {
      const gesture = {
        id: 'thumbs_up',
        name: 'Thumbs Up',
        type: 'thumbs_up',
        confidence: 0.9,
        isActive: true,
        startPoint: hand.position,
        endPoint: hand.position,
        duration: 0,
        path: [hand.position],
      };
      this.onGestureDetected(gesture);
    }
  }
  // Check if path is circular
  isCircularPath(path) {
    if (path.length < 10) return false;
    const center = Vector32.lerp(path[0], path[path.length - 1], 0.5);
    const radius = Vector32.distance(path[0], center);
    let isCircular = true;
    for (let i = 1; i < path.length; i++) {
      const distance = Vector32.distance(path[i], center);
      if (Math.abs(distance - radius) > radius * 0.3) {
        isCircular = false;
        break;
      }
    }
    return isCircular;
  }
  // Check for waving motion
  isWavingMotion(path) {
    if (path.length < 10) return false;
    let directionChanges = 0;
    let lastDirection = 0;
    for (let i = 1; i < path.length; i++) {
      const direction = path[i].x - path[i - 1].x;
      if (Math.sign(direction) !== Math.sign(lastDirection) && lastDirection !== 0) {
        directionChanges++;
      }
      lastDirection = direction;
    }
    return directionChanges >= 3;
  }
  // Handle detected gesture
  onGestureDetected(gesture) {
    console.log(
      `\u{1F44B} Gesture detected: ${gesture.name} (confidence: ${gesture.confidence.toFixed(2)})`
    );
    this.gestureHistory.push(gesture);
    if (this.gestureHistory.length > this.maxHistoryLength) {
      this.gestureHistory.shift();
    }
    this.gestureActions.forEach((action, key) => {
      if (action.enabled && key.startsWith(gesture.type)) {
        this.executeGestureAction(action);
      }
    });
    soundSystem.playInteractionSound('click');
    this.createGestureFeedback(gesture);
  }
  // Execute gesture action
  executeGestureAction(action) {
    console.log(`\u{1F3AF} Executing action: ${action.action} with parameters:`, action.parameters);
    switch (action.action) {
      case 'navigate':
        console.log(`\u{1F9ED} Navigating ${action.parameters.direction}`);
        break;
      case 'push_object':
        console.log(`\u{1F4AA} Pushing object with force: ${action.parameters.force}`);
        break;
      case 'pull_object':
        console.log(`\u{1F3AF} Pulling object with force: ${action.parameters.force}`);
        break;
      case 'select_target':
        console.log(`\u{1F446} Selecting target in ${action.parameters.mode} mode`);
        break;
      case 'zoom':
        console.log(`\u{1F50D} Zooming to scale: ${action.parameters.scale}`);
        break;
      case 'toggle_menu':
        console.log(`\u{1F4CB} Toggling menu`);
        break;
      case 'confirm':
        console.log(`\u2705 Confirming action`);
        break;
      case 'cancel':
        console.log(`\u274C Canceling action`);
        break;
      case 'rotate':
        console.log(`\u{1F504} Rotating by ${action.parameters.angle} degrees`);
        break;
      case 'switch_scene':
        console.log(`\u{1F3AC} Switching scene`);
        break;
      case 'open_settings':
        console.log(`\u2699\uFE0F Opening settings`);
        break;
    }
  }
  // Create gesture feedback
  createGestureFeedback(gesture) {
    const feedback = engine.addEntity();
    Transform2.create(feedback, {
      position: gesture.endPoint,
      scale: Vector32.create(0.2, 0.2, 0.2),
    });
    MeshRenderer3.setSphere(feedback);
    Material3.setPbrMaterial(feedback, {
      albedoColor: Color42.create(0.2, 0.8, 1, 0.8),
      emissiveColor: Color42.create(0.2, 0.8, 1, 1),
      emissiveIntensity: 3,
    });
    this.animateGestureFeedback(feedback);
  }
  // Animate gesture feedback
  animateGestureFeedback(feedback) {
    let scale = 0.2;
    let opacity = 1;
    const animate = () => {
      scale += 0.02;
      opacity -= 0.02;
      const transform = Transform2.getMutable(feedback);
      transform.scale = Vector32.create(scale, scale, scale);
      const material = Material3.getMutable(feedback);
      if (material && material.$case === 'pbr') {
        material.pbr.albedoColor = Color42.create(0.2, 0.8, 1, opacity);
      }
      if (opacity > 0) {
        setTimeout(animate, 16);
      } else {
        engine.removeEntity(feedback);
      }
    };
    animate();
  }
  // Update gesture trails
  updateGestureTrails() {
    if (!this.handTracking.rightHand) return;
    const hand = this.handTracking.rightHand;
    const trailId = 'right_hand';
    if (!this.gestureTrails.has(trailId)) {
      this.gestureTrails.set(trailId, []);
    }
    const trail = this.gestureTrails.get(trailId);
    const trailPoint = engine.addEntity();
    Transform2.create(trailPoint, {
      position: hand.position,
      scale: Vector32.create(0.05, 0.05, 0.05),
    });
    MeshRenderer3.setSphere(trailPoint);
    Material3.setPbrMaterial(trailPoint, {
      albedoColor: Color42.create(0.5, 0.8, 1, 0.6),
      emissiveColor: Color42.create(0.5, 0.8, 1, 0.8),
      emissiveIntensity: 2,
    });
    trail.push(trailPoint);
    if (trail.length > 20) {
      const oldPoint = trail.shift();
      engine.removeEntity(oldPoint);
    }
    trail.forEach((point, index) => {
      const opacity = (index / trail.length) * 0.6;
      const material = Material3.getMutable(point);
      if (material && material.$case === 'pbr') {
        material.pbr.albedoColor = Color42.create(0.5, 0.8, 1, opacity);
      }
    });
  }
  // Enable/disable gesture recognition
  setGestureRecognition(enabled) {
    this.handTracking.isActive = enabled;
    console.log(`\u{1F44B} Gesture recognition ${enabled ? 'enabled' : 'disabled'}`);
  }
  // Get gesture history
  getGestureHistory() {
    return [...this.gestureHistory];
  }
  // Get current hand tracking data
  getHandTracking() {
    return { ...this.handTracking };
  }
  // Enable/disable gesture action
  setGestureAction(gestureType, action, enabled) {
    const key = `${gestureType}_${action}`;
    const gestureAction = this.gestureActions.get(key);
    if (gestureAction) {
      gestureAction.enabled = enabled;
      console.log(`\u{1F44B} Gesture action ${key} ${enabled ? 'enabled' : 'disabled'}`);
    }
  }
  // Cleanup system
  cleanup() {
    this.gestureTrails.forEach(trail => {
      trail.forEach(point => engine.removeEntity(point));
    });
    this.gestureTrails.clear();
    this.gestures.clear();
    this.gestureHistory = [];
    if (this.gestureUI) {
      engine.removeEntity(this.gestureUI);
    }
    this.gestureActions.clear();
    this.isInitialized = false;
  }
};
var gestureSystem = new GestureRecognitionSystem();

// src/haptic-feedback.ts
var HapticFeedbackSystem = class {
  constructor() {
    this.devices = /* @__PURE__ */ new Map();
    this.patterns = /* @__PURE__ */ new Map();
    this.zones = /* @__PURE__ */ new Map();
    this.isInitialized = false;
    this.activeEvents = /* @__PURE__ */ new Map();
    this.globalIntensity = 0.8;
    this.isSystemEnabled = true;
    this.initializeHapticEngine();
  }
  // Initialize haptic feedback system
  initialize() {
    console.log('\u{1F3AF} Haptic Feedback System Initializing...');
    this.setupHapticDevices();
    this.createHapticPatterns();
    this.createHapticZones();
    this.createHapticUI();
    this.startHapticEngine();
    this.isInitialized = true;
    console.log('\u{1F3AF} Haptic Feedback System Ready!');
  }
  // Initialize haptic engine
  initializeHapticEngine() {
    this.hapticEngine = {
      playPattern: (device, pattern, intensity) => {
        console.log(`\u{1F4F3} Playing pattern ${pattern.name} on ${device.name}`);
        const effectiveIntensity = Math.min(
          intensity * device.intensity * this.globalIntensity,
          device.capabilities.maxIntensity
        );
        return {
          success: true,
          duration: pattern.duration,
          intensity: effectiveIntensity,
        };
      },
      stopPattern: (device, patternId) => {
        console.log(`\u{1F6D1} Stopping pattern ${patternId} on ${device.name}`);
        return { success: true };
      },
      playWaveform: (device, waveform, intensity) => {
        console.log(`\u{1F30A} Playing waveform on ${device.name}`);
        return { success: true };
      },
      setIntensity: (device, intensity) => {
        device.intensity = Math.max(0, Math.min(1, intensity));
        return { success: true };
      },
    };
  }
  // Setup haptic devices
  setupHapticDevices() {
    const vrController = {
      id: 'device_vr_controller',
      name: 'VR Controller',
      type: 'controller',
      isConnected: true,
      capabilities: {
        supportsVibration: true,
        supportsForceFeedback: true,
        supportsTemperature: false,
        supportsTexture: true,
        maxIntensity: 1,
        responseTime: 10,
        channels: 2,
      },
      intensity: 0.8,
      batteryLevel: 0.85,
    };
    const hapticGlove = {
      id: 'device_haptic_glove',
      name: 'Haptic Glove',
      type: 'glove',
      isConnected: true,
      capabilities: {
        supportsVibration: true,
        supportsForceFeedback: true,
        supportsTemperature: true,
        supportsTexture: true,
        maxIntensity: 0.9,
        responseTime: 15,
        channels: 5,
      },
      intensity: 0.7,
      batteryLevel: 0.6,
    };
    const hapticVest = {
      id: 'device_haptic_vest',
      name: 'Haptic Vest',
      type: 'vest',
      isConnected: false,
      capabilities: {
        supportsVibration: true,
        supportsForceFeedback: false,
        supportsTemperature: true,
        supportsTexture: false,
        maxIntensity: 1,
        responseTime: 25,
        channels: 8,
      },
      intensity: 0.6,
      batteryLevel: 0.4,
    };
    const hapticChair = {
      id: 'device_haptic_chair',
      name: 'Haptic Chair',
      type: 'chair',
      isConnected: true,
      capabilities: {
        supportsVibration: true,
        supportsForceFeedback: true,
        supportsTemperature: true,
        supportsTexture: false,
        maxIntensity: 0.8,
        responseTime: 30,
        channels: 4,
      },
      intensity: 0.5,
      batteryLevel: 0.9,
    };
    const touchscreen = {
      id: 'device_touchscreen',
      name: 'Touchscreen',
      type: 'touchscreen',
      isConnected: true,
      capabilities: {
        supportsVibration: true,
        supportsForceFeedback: false,
        supportsTemperature: false,
        supportsTexture: true,
        maxIntensity: 0.7,
        responseTime: 5,
        channels: 1,
      },
      intensity: 0.6,
      batteryLevel: 1,
    };
    this.devices.set(vrController.id, vrController);
    this.devices.set(hapticGlove.id, hapticGlove);
    this.devices.set(hapticVest.id, hapticVest);
    this.devices.set(hapticChair.id, hapticChair);
    this.devices.set(touchscreen.id, touchscreen);
    console.log('\u{1F4F1} Haptic devices configured');
  }
  // Create haptic patterns
  createHapticPatterns() {
    const clickPattern = {
      id: 'pattern_click',
      name: 'Click',
      type: 'click',
      duration: 100,
      intensity: 0.6,
      waveforms: [
        {
          channel: 0,
          frequency: 200,
          amplitude: 0.8,
          duration: 50,
          waveform: 'sine',
          phase: 0,
        },
      ],
      loops: false,
      fadeIn: 0,
      fadeOut: 20,
    };
    const impactPattern = {
      id: 'pattern_impact',
      name: 'Impact',
      type: 'impact',
      duration: 200,
      intensity: 0.9,
      waveforms: [
        {
          channel: 0,
          frequency: 100,
          amplitude: 1,
          duration: 100,
          waveform: 'square',
          phase: 0,
        },
        {
          channel: 1,
          frequency: 50,
          amplitude: 0.6,
          duration: 150,
          waveform: 'sine',
          phase: 0,
        },
      ],
      loops: false,
      fadeIn: 0,
      fadeOut: 50,
    };
    const pulsePattern = {
      id: 'pattern_pulse',
      name: 'Pulse',
      type: 'pulse',
      duration: 500,
      intensity: 0.7,
      waveforms: [
        {
          channel: 0,
          frequency: 80,
          amplitude: 0.8,
          duration: 250,
          waveform: 'sine',
          phase: 0,
        },
      ],
      loops: true,
      fadeIn: 50,
      fadeOut: 50,
    };
    const texturePattern = {
      id: 'pattern_texture',
      name: 'Texture',
      type: 'texture',
      duration: 1e3,
      intensity: 0.4,
      waveforms: [
        {
          channel: 0,
          frequency: 150,
          amplitude: 0.5,
          duration: 100,
          waveform: 'noise',
          phase: 0,
        },
        {
          channel: 1,
          frequency: 200,
          amplitude: 0.3,
          duration: 100,
          waveform: 'noise',
          phase: Math.PI,
        },
      ],
      loops: true,
      fadeIn: 100,
      fadeOut: 100,
    };
    const ambientPattern = {
      id: 'pattern_ambient',
      name: 'Ambient',
      type: 'ambient',
      duration: 0,
      intensity: 0.2,
      waveforms: [
        {
          channel: 0,
          frequency: 30,
          amplitude: 0.3,
          duration: 1e3,
          waveform: 'sine',
          phase: 0,
        },
      ],
      loops: true,
      fadeIn: 500,
      fadeOut: 500,
    };
    this.patterns.set(clickPattern.id, clickPattern);
    this.patterns.set(impactPattern.id, impactPattern);
    this.patterns.set(pulsePattern.id, pulsePattern);
    this.patterns.set(texturePattern.id, texturePattern);
    this.patterns.set(ambientPattern.id, ambientPattern);
    console.log('\u{1F3B5} Haptic patterns created');
  }
  // Create haptic zones
  createHapticZones() {
    const desktopZone = {
      id: 'zone_desktop',
      name: 'Desktop',
      position: Vector32.create(8, 1, 8),
      size: Vector32.create(3, 1, 3),
      sensitivity: 0.8,
      devices: ['device_haptic_chair'],
      isActive: true,
      effects: [
        {
          type: 'vibration',
          intensity: 0.3,
          duration: 200,
          pattern: 'pattern_ambient',
        },
      ],
    };
    const interactionZone = {
      id: 'zone_interaction',
      name: 'Interaction Area',
      position: Vector32.create(8, 2, 8),
      size: Vector32.create(2, 2, 2),
      sensitivity: 1,
      devices: ['device_vr_controller', 'device_haptic_glove'],
      isActive: true,
      effects: [],
    };
    const floorZone = {
      id: 'zone_floor',
      name: 'Floor',
      position: Vector32.create(8, 0, 8),
      size: Vector32.create(10, 0.1, 10),
      sensitivity: 0.5,
      devices: ['device_haptic_vest'],
      isActive: false,
      effects: [],
    };
    this.zones.set(desktopZone.id, desktopZone);
    this.zones.set(interactionZone.id, interactionZone);
    this.zones.set(floorZone.id, floorZone);
    console.log('\u{1F5FA}\uFE0F Haptic zones created');
  }
  // Create haptic UI
  createHapticUI() {
    this.hapticUI = engine.addEntity();
    Transform2.create(this.hapticUI, {
      position: Vector32.create(14, 3, 2),
      scale: Vector32.create(3, 4, 0.1),
    });
    MeshRenderer3.setBox(this.hapticUI);
    Material3.setPbrMaterial(this.hapticUI, {
      albedoColor: Color42.create(0.1, 0.2, 0.4, 0.9),
      emissiveColor: Color42.create(0.2, 0.4, 0.8, 0.5),
      emissiveIntensity: 2,
    });
    const title = engine.addEntity();
    Transform2.create(title, {
      parent: this.hapticUI,
      position: Vector32.create(0, 1.7, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(title, {
      text: '\u{1F3AF} HAPTIC FEEDBACK',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 2,
      textAlign: 3,
    });
    this.createDeviceIndicators();
    this.createPatternControls();
    this.createIntensityControls();
    this.createZoneControls();
  }
  // Create device indicators
  createDeviceIndicators() {
    const devices = Array.from(this.devices.values());
    let xOffset = -1.2;
    devices.forEach(device => {
      const indicator = engine.addEntity();
      Transform2.create(indicator, {
        parent: this.hapticUI,
        position: Vector32.create(xOffset, 1.2, 0.1),
        scale: Vector32.create(0.2, 0.2, 0.1),
      });
      MeshRenderer3.setBox(indicator);
      Material3.setPbrMaterial(indicator, {
        albedoColor: device.isConnected
          ? Color42.create(0.2, 0.8, 0.2, 1)
          : Color42.create(0.8, 0.2, 0.2, 1),
        emissiveColor: device.isConnected
          ? Color42.create(0.2, 0.8, 0.2, 0.5)
          : Color42.create(0.8, 0.2, 0.2, 0.5),
        emissiveIntensity: device.isConnected ? 2 : 0.5,
      });
      const deviceText = engine.addEntity();
      Transform2.create(deviceText, {
        parent: indicator,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape.create(deviceText, {
        text: this.getDeviceIcon(device.type),
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 2,
        textAlign: 3,
      });
      pointerEventsSystem.onPointerDown(
        {
          entity: indicator,
          opts: { button: InputAction.IA_POINTER, hoverText: device.name },
        },
        () => this.toggleDevice(device.id)
      );
      xOffset += 0.4;
    });
  }
  // Create pattern controls
  createPatternControls() {
    const patterns = ['click', 'impact', 'pulse', 'texture', 'ambient'];
    let xOffset = -1;
    patterns.forEach(pattern => {
      const button = engine.addEntity();
      Transform2.create(button, {
        parent: this.hapticUI,
        position: Vector32.create(xOffset, 0.6, 0.1),
        scale: Vector32.create(0.2, 0.2, 0.1),
      });
      MeshRenderer3.setBox(button);
      Material3.setPbrMaterial(button, {
        albedoColor: Color42.create(0.3, 0.6, 0.8, 1),
        emissiveColor: Color42.create(0.3, 0.6, 0.8, 0.5),
        emissiveIntensity: 2,
      });
      const buttonText = engine.addEntity();
      Transform2.create(buttonText, {
        parent: button,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape.create(buttonText, {
        text: this.getPatternIcon(pattern),
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 2,
        textAlign: 3,
      });
      pointerEventsSystem.onPointerDown(
        {
          entity: button,
          opts: { button: InputAction.IA_POINTER, hoverText: `Play ${pattern}` },
        },
        () => this.playPattern(pattern)
      );
      xOffset += 0.4;
    });
  }
  // Create intensity controls
  createIntensityControls() {
    const intensitySlider = engine.addEntity();
    Transform2.create(intensitySlider, {
      parent: this.hapticUI,
      position: Vector32.create(0, 0, 0.1),
      scale: Vector32.create(2, 0.2, 0.1),
    });
    MeshRenderer3.setBox(intensitySlider);
    Material3.setPbrMaterial(intensitySlider, {
      albedoColor: Color42.create(0.2, 0.2, 0.2, 0.8),
      emissiveColor: Color42.create(0.2, 0.2, 0.2, 0.3),
      emissiveIntensity: 1,
    });
    const intensityText = engine.addEntity();
    Transform2.create(intensityText, {
      parent: intensitySlider,
      position: Vector32.create(0, 0, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(intensityText, {
      text: `\u{1F50A} Intensity: ${(this.globalIntensity * 100).toFixed(0)}%`,
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 1.5,
      textAlign: 3,
    });
    pointerEventsSystem.onPointerDown(
      {
        entity: intensitySlider,
        opts: { button: InputAction.IA_POINTER, hoverText: 'Adjust Intensity' },
      },
      () => this.adjustIntensity()
    );
  }
  // Create zone controls
  createZoneControls() {
    const zones = Array.from(this.zones.values());
    let xOffset = -0.8;
    zones.forEach(zone => {
      const button = engine.addEntity();
      Transform2.create(button, {
        parent: this.hapticUI,
        position: Vector32.create(xOffset, -0.4, 0.1),
        scale: Vector32.create(0.2, 0.2, 0.1),
      });
      MeshRenderer3.setBox(button);
      Material3.setPbrMaterial(button, {
        albedoColor: zone.isActive
          ? Color42.create(0.2, 0.8, 0.2, 1)
          : Color42.create(0.8, 0.2, 0.2, 1),
        emissiveColor: zone.isActive
          ? Color42.create(0.2, 0.8, 0.2, 0.5)
          : Color42.create(0.8, 0.2, 0.2, 0.5),
        emissiveIntensity: zone.isActive ? 2 : 0.5,
      });
      const zoneText = engine.addEntity();
      Transform2.create(zoneText, {
        parent: button,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape.create(zoneText, {
        text: zone.name,
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 1.2,
        textAlign: 3,
      });
      pointerEventsSystem.onPointerDown(
        {
          entity: button,
          opts: { button: InputAction.IA_POINTER, hoverText: `Toggle ${zone.name}` },
        },
        () => this.toggleZone(zone.id)
      );
      xOffset += 0.6;
    });
  }
  // Get device icon
  getDeviceIcon(type) {
    switch (type) {
      case 'controller':
        return '\u{1F3AE}';
      case 'glove':
        return '\u{1F9E4}';
      case 'vest':
        return '\u{1F9BA}';
      case 'chair':
        return '\u{1FA91}';
      case 'touchscreen':
        return '\u{1F4F1}';
      default:
        return '\u{1F4F1}';
    }
  }
  // Get pattern icon
  getPatternIcon(pattern) {
    switch (pattern) {
      case 'click':
        return '\u{1F446}';
      case 'impact':
        return '\u{1F4A5}';
      case 'pulse':
        return '\u{1F497}';
      case 'texture':
        return '\u{1F30A}';
      case 'ambient':
        return '\u{1F30A}';
      default:
        return '\u{1F4F3}';
    }
  }
  // Start haptic engine
  startHapticEngine() {
    engine.addSystem(() => {
      if (!this.isInitialized) return;
      this.processHapticEvents();
      this.updateDeviceStatus();
      this.updateZoneEffects();
    });
  }
  // Process haptic events
  processHapticEvents() {
    this.activeEvents.forEach((event, id) => {
      if (event.processed) return;
      const zone = this.findZone(event.position);
      if (!zone || !zone.isActive) return;
      const devices = this.findDevicesForZone(zone);
      if (devices.length === 0) return;
      this.applyHapticFeedback(event, zone, devices);
      event.processed = true;
    });
    this.activeEvents.forEach((event, id) => {
      if (event.processed && Date.now() - event.timestamp > 5e3) {
        this.activeEvents.delete(id);
      }
    });
  }
  // Find zone for position
  findZone(position) {
    for (const zone of this.zones.values()) {
      const distance = Vector32.distance(position, zone.position);
      if (distance <= Math.max(zone.size.x, zone.size.y, zone.size.z) / 2) {
        return zone;
      }
    }
    return null;
  }
  // Find devices for zone
  findDevicesForZone(zone) {
    return Array.from(this.devices.values()).filter(
      device => device.isConnected && zone.devices.includes(device.id)
    );
  }
  // Apply haptic feedback
  applyHapticFeedback(event, zone, devices) {
    const intensity = event.intensity * zone.sensitivity * this.globalIntensity;
    devices.forEach(device => {
      if (event.pattern) {
        const pattern = this.patterns.get(event.pattern);
        if (pattern) {
          this.hapticEngine.playPattern(device, pattern, intensity);
        }
      } else {
        const defaultPattern = this.getDefaultPattern(event.type);
        if (defaultPattern) {
          this.hapticEngine.playPattern(device, defaultPattern, intensity);
        }
      }
    });
  }
  // Get default pattern
  getDefaultPattern(eventType) {
    switch (eventType) {
      case 'touch':
      case 'interaction':
        return this.patterns.get('pattern_click');
      case 'collision':
        return this.patterns.get('pattern_impact');
      case 'feedback':
        return this.patterns.get('pattern_pulse');
      case 'alert':
        return this.patterns.get('pattern_pulse');
      case 'ambient':
        return this.patterns.get('pattern_ambient');
      default:
        return null;
    }
  }
  // Update device status
  updateDeviceStatus() {
    this.devices.forEach((device, id) => {
      if (Math.random() < 1e-3) {
        device.batteryLevel = Math.max(0, device.batteryLevel - 0.01);
        if (device.batteryLevel < 0.1) {
          device.isConnected = false;
          console.log(`\u{1F50B} Device ${device.name} battery low`);
        }
      }
    });
  }
  // Update zone effects
  updateZoneEffects() {
    this.zones.forEach(zone => {
      if (zone.isActive && zone.effects.length > 0) {
        zone.effects.forEach(effect => {
          if (effect.type === 'vibration' && effect.pattern) {
            const devices = this.findDevicesForZone(zone);
            devices.forEach(device => {
              const pattern = this.patterns.get(effect.pattern);
              if (pattern) {
                this.hapticEngine.playPattern(device, pattern, effect.intensity);
              }
            });
          }
        });
      }
    });
  }
  // Trigger haptic event
  triggerHapticEvent(event) {
    if (!this.isSystemEnabled) return;
    event.id = `event_${Date.now()}_${Math.random()}`;
    event.timestamp = Date.now();
    event.processed = false;
    this.activeEvents.set(event.id, event);
    console.log(`\u{1F3AF} Triggered haptic event: ${event.type}`);
  }
  // Play pattern
  playPattern(patternId, intensity) {
    const pattern = this.patterns.get(patternId);
    if (!pattern) return;
    const effectiveIntensity = intensity || pattern.intensity;
    this.devices.forEach(device => {
      if (device.isConnected) {
        this.hapticEngine.playPattern(device, pattern, effectiveIntensity);
      }
    });
    console.log(`\u{1F3B5} Playing pattern: ${pattern.name}`);
    soundSystem.playInteractionSound('click');
  }
  // Stop pattern
  stopPattern(patternId) {
    this.devices.forEach(device => {
      if (device.isConnected) {
        this.hapticEngine.stopPattern(device, patternId);
      }
    });
    console.log(`\u{1F6D1} Stopped pattern: ${patternId}`);
  }
  // Toggle device
  toggleDevice(deviceId) {
    const device = this.devices.get(deviceId);
    if (!device) return;
    device.isConnected = !device.isConnected;
    console.log(
      `${device.isConnected ? '\u{1F517}' : '\u{1F50C}'} Device ${device.name} ${device.isConnected ? 'connected' : 'disconnected'}`
    );
    soundSystem.playInteractionSound('click');
  }
  // Toggle zone
  toggleZone(zoneId) {
    const zone = this.zones.get(zoneId);
    if (!zone) return;
    zone.isActive = !zone.isActive;
    console.log(
      `${zone.isActive ? '\u2705' : '\u274C'} Zone ${zone.name} ${zone.isActive ? 'activated' : 'deactivated'}`
    );
    soundSystem.playInteractionSound('click');
  }
  // Adjust intensity
  adjustIntensity() {
    const levels = [0.2, 0.4, 0.6, 0.8, 1];
    const currentIndex = levels.indexOf(this.globalIntensity);
    const nextIndex = (currentIndex + 1) % levels.length;
    this.globalIntensity = levels[nextIndex];
    console.log(`\u{1F50A} Global intensity set to: ${(this.globalIntensity * 100).toFixed(0)}%`);
    soundSystem.playInteractionSound('click');
  }
  // Set global intensity
  setGlobalIntensity(intensity) {
    this.globalIntensity = Math.max(0, Math.min(1, intensity));
    console.log(`\u{1F50A} Global intensity set to: ${(this.globalIntensity * 100).toFixed(0)}%`);
  }
  // Enable/disable system
  setSystemEnabled(enabled) {
    this.isSystemEnabled = enabled;
    console.log(`\u{1F3AF} Haptic system ${enabled ? 'enabled' : 'disabled'}`);
    if (!enabled) {
      this.devices.forEach(device => {
        if (device.isConnected) {
          this.patterns.forEach(pattern => {
            this.hapticEngine.stopPattern(device, pattern.id);
          });
        }
      });
    }
  }
  // Get connected devices
  getConnectedDevices() {
    return Array.from(this.devices.values()).filter(device => device.isConnected);
  }
  // Get all devices
  getAllDevices() {
    return Array.from(this.devices.values());
  }
  // Get active zones
  getActiveZones() {
    return Array.from(this.zones.values()).filter(zone => zone.isActive);
  }
  // Get available patterns
  getAvailablePatterns() {
    return Array.from(this.patterns.values());
  }
  // Create custom pattern
  createCustomPattern(pattern) {
    const newPattern = {
      ...pattern,
      id: `pattern_custom_${Date.now()}_${Math.random()}`,
    };
    this.patterns.set(newPattern.id, newPattern);
    console.log(`\u{1F3B5} Created custom pattern: ${newPattern.name}`);
    return newPattern;
  }
  // Create custom zone
  createCustomZone(zone) {
    const newZone = {
      ...zone,
      id: `zone_custom_${Date.now()}_${Math.random()}`,
    };
    this.zones.set(newZone.id, newZone);
    console.log(`\u{1F5FA}\uFE0F Created custom zone: ${newZone.name}`);
    return newZone;
  }
  // Get system statistics
  getSystemStatistics() {
    return {
      totalDevices: this.devices.size,
      connectedDevices: this.getConnectedDevices().length,
      totalPatterns: this.patterns.size,
      totalZones: this.zones.size,
      activeZones: this.getActiveZones().length,
      activeEvents: this.activeEvents.size,
      globalIntensity: this.globalIntensity,
      systemEnabled: this.isSystemEnabled,
    };
  }
  // Cleanup system
  cleanup() {
    this.devices.clear();
    this.patterns.clear();
    this.zones.clear();
    this.activeEvents.clear();
    if (this.hapticUI) {
      engine.removeEntity(this.hapticUI);
    }
    this.isInitialized = false;
  }
};
var hapticFeedbackSystem = new HapticFeedbackSystem();

// src/holographic-data-walls.ts
var HolographicDataWall = class {
  constructor(position, scale) {
    this.charts = /* @__PURE__ */ new Map();
    this.visualElements = [];
    this.animationTime = 0;
    this.isActive = true;
    this.createWall(position, scale);
    this.startAnimation();
  }
  createWall(position, scale) {
    this.entity = engine.addEntity();
    Transform2.create(this.entity, {
      position,
      scale,
    });
    MeshRenderer3.setBox(this.entity);
    Material3.setPbrMaterial(this.entity, {
      albedoColor: Color42.create(0.05, 0.05, 0.1, 0.9),
      roughness: 0.1,
      metallic: 0.8,
      emissiveColor: Color42.create(0.1, 0.1, 0.3, 0.5),
      emissiveIntensity: 2,
    });
    this.createGridOverlay();
    this.createTitle();
  }
  createGridOverlay() {
    const gridSize = 10;
    const gridSpacing = 1.6;
    for (let x = 0; x < gridSize; x++) {
      for (let y = 0; y < gridSize; y++) {
        const gridCell = engine.addEntity();
        Transform2.create(gridCell, {
          parent: this.entity,
          position: Vector32.create(-7.5 + x * gridSpacing, -3.5 + y * gridSpacing, 0.1),
          scale: Vector32.create(1.5, 1.5, 0.05),
        });
        MeshRenderer3.setBox(gridCell);
        Material3.setPbrMaterial(gridCell, {
          albedoColor: Color42.create(0.2, 0.3, 0.5, 0.3),
          emissiveColor: Color42.create(0.1, 0.2, 0.4, 0.5),
          emissiveIntensity: 1,
        });
        this.visualElements.push(gridCell);
      }
    }
  }
  createTitle() {
    const titleEntity = engine.addEntity();
    Transform2.create(titleEntity, {
      parent: this.entity,
      position: Vector32.create(0, 4.5, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape3.create(titleEntity, {
      text: '\u{1F4CA} HOLOGRAPHIC DATA VISUALIZATION',
      textColor: Color42.create(0.5, 0.8, 1, 1),
      fontSize: 4,
      textAlign: 3,
      outlineWidth: 0.1,
      outlineColor: Color42.create(0, 0, 0, 1),
    });
    this.visualElements.push(titleEntity);
  }
  // Add a new chart to the wall
  addChart(id, config) {
    this.charts.set(id, config);
    this.renderChart(id);
    if (config.updateInterval > 0) {
      setInterval(() => {
        this.updateChart(id);
      }, config.updateInterval);
    }
  }
  renderChart(chartId) {
    const chart = this.charts.get(chartId);
    if (!chart) return;
    switch (chart.type) {
      case 'bar':
        this.renderBarChart(chartId, chart);
        break;
      case 'line':
        this.renderLineChart(chartId, chart);
        break;
      case 'pie':
        this.renderPieChart(chartId, chart);
        break;
      case 'scatter':
        this.renderScatterChart(chartId, chart);
        break;
      case 'heatmap':
        this.renderHeatmap(chartId, chart);
        break;
    }
  }
  renderBarChart(chartId, config) {
    const barWidth = 1.2;
    const maxHeight = 3;
    const spacing = 1.5;
    const startX = -6;
    config.data.forEach((point, index) => {
      const bar = engine.addEntity();
      const height = (point.value / 100) * maxHeight;
      Transform2.create(bar, {
        parent: this.entity,
        position: Vector32.create(startX + index * spacing, -2 + height / 2, 0.2),
        scale: Vector32.create(barWidth, height, 0.3),
      });
      MeshRenderer3.setBox(bar);
      Material3.setPbrMaterial(bar, {
        albedoColor: Color42.create(point.color.r, point.color.g, point.color.b, 0.8),
        emissiveColor: Color42.create(point.color.r, point.color.g, point.color.b, 0.6),
        emissiveIntensity: 2,
      });
      const label = engine.addEntity();
      Transform2.create(label, {
        parent: this.entity,
        position: Vector32.create(startX + index * spacing, -3.5, 0.3),
        scale: Vector32.create(0.2, 0.2, 0.2),
      });
      TextShape3.create(label, {
        text: point.label,
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 2,
        textAlign: 3,
      });
      this.visualElements.push(bar, label);
    });
  }
  renderLineChart(chartId, config) {
    const points = [];
    const spacing = 1.2;
    const startX = -6;
    config.data.forEach((point, index) => {
      const x = startX + index * spacing;
      const y = -2 + (point.value / 100) * 3;
      points.push(Vector32.create(x, y, 0.2));
      const dataPoint = engine.addEntity();
      Transform2.create(dataPoint, {
        parent: this.entity,
        position: Vector32.create(x, y, 0.2),
        scale: Vector32.create(0.2, 0.2, 0.2),
      });
      MeshRenderer3.setSphere(dataPoint);
      Material3.setPbrMaterial(dataPoint, {
        albedoColor: Color42.create(point.color.r, point.color.g, point.color.b, 1),
        emissiveColor: Color42.create(point.color.r, point.color.g, point.color.b, 0.8),
        emissiveIntensity: 3,
      });
      this.visualElements.push(dataPoint);
    });
    for (let i = 0; i < points.length - 1; i++) {
      const line = engine.addEntity();
      const start = points[i];
      const end = points[i + 1];
      const distance = Vector32.distance(start, end);
      const midpoint = Vector32.lerp(start, end, 0.5);
      Transform2.create(line, {
        parent: this.entity,
        position: Vector32.create(midpoint.x, midpoint.y, 0.15),
        scale: Vector32.create(0.05, distance, 0.1),
      });
      MeshRenderer3.setBox(line);
      Material3.setPbrMaterial(line, {
        albedoColor: Color42.create(0.5, 0.8, 1, 0.8),
        emissiveColor: Color42.create(0.5, 0.8, 1, 0.6),
        emissiveIntensity: 2,
      });
      this.visualElements.push(line);
    }
  }
  renderPieChart(chartId, config) {
    const total = config.data.reduce((sum, point) => sum + point.value, 0);
    let currentAngle = 0;
    config.data.forEach((point, index) => {
      const percentage = point.value / total;
      const angle = percentage * 360;
      const slice = engine.addEntity();
      Transform2.create(slice, {
        parent: this.entity,
        position: Vector32.create(
          Math.cos((currentAngle * Math.PI) / 180) * 2,
          Math.sin((currentAngle * Math.PI) / 180) * 2,
          0.2
        ),
        scale: Vector32.create(1.5, 1.5, 0.3),
      });
      MeshRenderer3.setBox(slice);
      Material3.setPbrMaterial(slice, {
        albedoColor: Color42.create(point.color.r, point.color.g, point.color.b, 0.8),
        emissiveColor: Color42.create(point.color.r, point.color.g, point.color.b, 0.6),
        emissiveIntensity: 2,
      });
      this.visualElements.push(slice);
      currentAngle += angle;
    });
  }
  renderScatterChart(chartId, config) {
    config.data.forEach((point, index) => {
      const scatterPoint = engine.addEntity();
      Transform2.create(scatterPoint, {
        parent: this.entity,
        position: Vector32.create(
          -6 + (index / config.data.length) * 12,
          -2 + (point.value / 100) * 3,
          0.2
        ),
        scale: Vector32.create(0.3, 0.3, 0.3),
      });
      MeshRenderer3.setSphere(scatterPoint);
      Material3.setPbrMaterial(scatterPoint, {
        albedoColor: Color42.create(point.color.r, point.color.g, point.color.b, 0.9),
        emissiveColor: Color42.create(point.color.r, point.color.g, point.color.b, 0.7),
        emissiveIntensity: 3,
      });
      this.visualElements.push(scatterPoint);
    });
  }
  renderHeatmap(chartId, config) {
    const gridSize = 8;
    const cellSize = 1.5;
    for (let x = 0; x < gridSize; x++) {
      for (let y = 0; y < gridSize; y++) {
        const dataIndex = (x * gridSize + y) % config.data.length;
        const point = config.data[dataIndex];
        const heatCell = engine.addEntity();
        Transform2.create(heatCell, {
          parent: this.entity,
          position: Vector32.create(-6 + x * cellSize, -2 + y * cellSize, 0.2),
          scale: Vector32.create(cellSize * 0.8, cellSize * 0.8, 0.2),
        });
        MeshRenderer3.setBox(heatCell);
        const intensity = point.value / 100;
        Material3.setPbrMaterial(heatCell, {
          albedoColor: Color42.create(
            point.color.r * intensity,
            point.color.g * intensity,
            point.color.b * intensity,
            0.8
          ),
          emissiveColor: Color42.create(
            point.color.r * intensity,
            point.color.g * intensity,
            point.color.b * intensity,
            0.6
          ),
          emissiveIntensity: intensity * 3,
        });
        this.visualElements.push(heatCell);
      }
    }
  }
  updateChart(chartId) {
    const chart = this.charts.get(chartId);
    if (!chart) return;
    const newPoint = {
      label: `T${Date.now() % 1e3}`,
      value: Math.random() * 100,
      color: Color32.create(Math.random(), Math.random(), Math.random()),
      timestamp: Date.now(),
    };
    chart.data.push(newPoint);
    if (chart.data.length > chart.maxDataPoints) {
      chart.data.shift();
    }
    this.clearChart(chartId);
    this.renderChart(chartId);
  }
  clearChart(chartId) {
    const elementsToRemove = this.visualElements.splice(20);
    elementsToRemove.forEach(element => {
      engine.removeEntity(element);
    });
  }
  startAnimation() {
    engine.addSystem(() => {
      if (!this.isActive) return;
      this.animationTime += 0.016;
      this.visualElements.forEach((element, index) => {
        if (index % 3 === 0) {
          const material = Material3.getMutable(element);
          if (material && material.$case === 'pbr') {
            const pulse = Math.sin(this.animationTime * 2 + index * 0.1) * 0.3 + 0.7;
            material.pbr.emissiveIntensity = pulse * 2;
          }
        }
      });
    });
  }
  // Real-time data streaming
  startDataStream(chartId, dataSource) {
    setInterval(() => {
      const chart = this.charts.get(chartId);
      if (chart) {
        const newDataPoint = dataSource();
        chart.data.push(newDataPoint);
        if (chart.data.length > chart.maxDataPoints) {
          chart.data.shift();
        }
        this.clearChart(chartId);
        this.renderChart(chartId);
      }
    }, 1e3);
  }
  // Interactive features
  setInteractive(enabled) {
    this.isActive = enabled;
  }
  // Cleanup
  cleanup() {
    this.visualElements.forEach(element => {
      engine.removeEntity(element);
    });
    this.visualElements = [];
    this.charts.clear();
  }
};
var DataVisualizationManager = class {
  constructor() {
    this.walls = /* @__PURE__ */ new Map();
  }
  createWall(id, position, scale) {
    const wall = new HolographicDataWall(position, scale);
    this.walls.set(id, wall);
    return wall;
  }
  getWall(id) {
    return this.walls.get(id);
  }
  // Pre-configured data sources
  static createSystemStatusData() {
    return [
      { label: 'CPU', value: 65, color: Color32.create(0.2, 0.8, 0.2), timestamp: Date.now() },
      { label: 'Memory', value: 78, color: Color32.create(0.8, 0.6, 0.2), timestamp: Date.now() },
      { label: 'Network', value: 45, color: Color32.create(0.2, 0.6, 0.8), timestamp: Date.now() },
      { label: 'Storage', value: 32, color: Color32.create(0.8, 0.2, 0.6), timestamp: Date.now() },
      { label: 'Quantum', value: 89, color: Color32.create(0.6, 0.2, 0.8), timestamp: Date.now() },
    ];
  }
  static createRealtimeDataSource() {
    let counter = 0;
    return () => ({
      label: `Data${counter++}`,
      value: Math.random() * 100,
      color: Color32.create(Math.random(), Math.random(), Math.random()),
      timestamp: Date.now(),
    });
  }
  cleanup() {
    this.walls.forEach(wall => wall.cleanup());
    this.walls.clear();
  }
};
var dataVizManager = new DataVisualizationManager();

// src/multiplayer-system.ts
var MultiplayerSystem = class {
  constructor() {
    this.remotePlayers = /* @__PURE__ */ new Map();
    this.activeSession = null;
    this.sharedObjects = /* @__PURE__ */ new Map();
    this.voiceChannels = /* @__PURE__ */ new Map();
    this.isInitialized = false;
    this.connectionStatus = 'disconnected';
    this.localPlayer = {
      id: this.generatePlayerId(),
      name: 'Player',
      position: Vector32.create(8, 1, 8),
      rotation: Quaternion2.fromEulerDegrees(0, 0, 0),
      avatar: null,
      isActive: true,
      lastUpdate: Date.now(),
      color: Color32.create(Math.random(), Math.random(), Math.random()),
    };
  }
  // Initialize multiplayer system
  async initialize() {
    console.log('\u{1F310} Multiplayer System Initializing...');
    this.createLocalPlayer();
    this.setupVoiceChat();
    this.createCollaborationTools();
    this.startNetworkSync();
    await this.connectToServer();
    this.isInitialized = true;
    console.log('\u{1F310} Multiplayer System Ready!');
  }
  // Create local player avatar
  createLocalPlayer() {
    const avatar = engine.addEntity();
    Transform2.create(avatar, {
      position: this.localPlayer.position,
      scale: Vector32.create(1, 2, 1),
    });
    MeshRenderer3.setBox(avatar);
    Material3.setPbrMaterial(avatar, {
      albedoColor: Color42.create(
        this.localPlayer.color.r,
        this.localPlayer.color.g,
        this.localPlayer.color.b,
        1
      ),
      roughness: 0.2,
      metallic: 0.3,
      emissiveColor: Color42.create(
        this.localPlayer.color.r * 0.3,
        this.localPlayer.color.g * 0.3,
        this.localPlayer.color.b * 0.3,
        0.5
      ),
      emissiveIntensity: 1,
    });
    const nameTag = engine.addEntity();
    Transform2.create(nameTag, {
      parent: avatar,
      position: Vector32.create(0, 2.5, 0),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape3.create(nameTag, {
      text: this.localPlayer.name,
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 3,
      textAlign: 3,
    });
    this.localPlayer.avatar = avatar;
  }
  // Setup voice chat system
  setupVoiceChat() {
    const mainChannel = {
      id: 'main',
      name: 'Main Channel',
      participants: [this.localPlayer.id],
      isSpatial: true,
      maxParticipants: 10,
    };
    this.voiceChannels.set('main', mainChannel);
    this.createVoiceChannelUI();
  }
  // Create voice channel UI
  createVoiceChannelUI() {
    const voicePanel = engine.addEntity();
    Transform2.create(voicePanel, {
      position: Vector32.create(1, 3, 8),
      scale: Vector32.create(1.5, 2, 0.1),
    });
    MeshRenderer3.setBox(voicePanel);
    Material3.setPbrMaterial(voicePanel, {
      albedoColor: Color42.create(0.1, 0.2, 0.4, 0.9),
      emissiveColor: Color42.create(0.2, 0.4, 0.8, 0.5),
      emissiveIntensity: 2,
    });
    const voiceTitle = engine.addEntity();
    Transform2.create(voiceTitle, {
      parent: voicePanel,
      position: Vector32.create(0, 0.7, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape3.create(voiceTitle, {
      text: '\u{1F3A4} VOICE CHAT',
      textColor: Color42.create(0.8, 0.8, 1, 1),
      fontSize: 2,
      textAlign: 3,
    });
    const muteButton = engine.addEntity();
    Transform2.create(muteButton, {
      parent: voicePanel,
      position: Vector32.create(0, -0.2, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.1),
    });
    MeshRenderer3.setBox(muteButton);
    Material3.setPbrMaterial(muteButton, {
      albedoColor: Color42.create(0.2, 0.8, 0.2, 1),
      emissiveColor: Color42.create(0.2, 0.8, 0.2, 0.8),
      emissiveIntensity: 2,
    });
    const muteText = engine.addEntity();
    Transform2.create(muteText, {
      parent: muteButton,
      position: Vector32.create(0, 0, 0.1),
      scale: Vector32.create(0.5, 0.5, 0.5),
    });
    TextShape3.create(muteText, {
      text: '\u{1F50A}',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 3,
      textAlign: 3,
    });
    pointerEventsSystem.onPointerDown(
      {
        entity: muteButton,
        opts: { button: InputAction.IA_POINTER, hoverText: 'Toggle Mute' },
      },
      () => this.toggleMute()
    );
  }
  // Create collaboration tools
  createCollaborationTools() {
    this.createSharedWhiteboard();
    this.createDocumentSharing();
    this.createCollaborationPanel();
  }
  // Create shared whiteboard
  createSharedWhiteboard() {
    const whiteboard = engine.addEntity();
    Transform2.create(whiteboard, {
      position: Vector32.create(8, 3, 12),
      scale: Vector32.create(6, 4, 0.2),
    });
    MeshRenderer3.setBox(whiteboard);
    Material3.setPbrMaterial(whiteboard, {
      albedoColor: Color42.create(1, 1, 1, 1),
      roughness: 0.1,
      metallic: 0.1,
    });
    const sharedObject = {
      id: 'main-whiteboard',
      type: 'whiteboard',
      position: Vector32.create(8, 3, 12),
      content: { drawings: [], text: [] },
      ownerId: this.localPlayer.id,
      collaborators: [],
      isLocked: false,
    };
    this.sharedObjects.set('main-whiteboard', sharedObject);
  }
  // Create document sharing system
  createDocumentSharing() {
    const docSharePanel = engine.addEntity();
    Transform2.create(docSharePanel, {
      position: Vector32.create(14, 3, 8),
      scale: Vector32.create(2, 3, 0.1),
    });
    MeshRenderer3.setBox(docSharePanel);
    Material3.setPbrMaterial(docSharePanel, {
      albedoColor: Color42.create(0.1, 0.3, 0.6, 0.9),
      emissiveColor: Color42.create(0.2, 0.4, 0.8, 0.5),
      emissiveIntensity: 2,
    });
    const docTitle = engine.addEntity();
    Transform2.create(docTitle, {
      parent: docSharePanel,
      position: Vector32.create(0, 1.2, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape3.create(docTitle, {
      text: '\u{1F4C4} DOCUMENTS',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 2,
      textAlign: 3,
    });
  }
  // Create collaboration panel
  createCollaborationPanel() {
    const collabPanel = engine.addEntity();
    Transform2.create(collabPanel, {
      position: Vector32.create(2, 3, 8),
      scale: Vector32.create(2, 3, 0.1),
    });
    MeshRenderer3.setBox(collabPanel);
    Material3.setPbrMaterial(collabPanel, {
      albedoColor: Color42.create(0.2, 0.1, 0.4, 0.9),
      emissiveColor: Color42.create(0.4, 0.2, 0.8, 0.5),
      emissiveIntensity: 2,
    });
    const collabTitle = engine.addEntity();
    Transform2.create(collabTitle, {
      parent: collabPanel,
      position: Vector32.create(0, 1.2, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape3.create(collabTitle, {
      text: '\u{1F91D} COLLABORATE',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 2,
      textAlign: 3,
    });
    const startSessionBtn = engine.addEntity();
    Transform2.create(startSessionBtn, {
      parent: collabPanel,
      position: Vector32.create(0, 0.3, 0.1),
      scale: Vector32.create(0.4, 0.2, 0.1),
    });
    MeshRenderer3.setBox(startSessionBtn);
    Material3.setPbrMaterial(startSessionBtn, {
      albedoColor: Color42.create(0.2, 0.8, 0.2, 1),
      emissiveColor: Color42.create(0.2, 0.8, 0.2, 0.8),
      emissiveIntensity: 2,
    });
    const sessionText = engine.addEntity();
    Transform2.create(sessionText, {
      parent: startSessionBtn,
      position: Vector32.create(0, 0, 0.1),
      scale: Vector32.create(0.5, 0.5, 0.5),
    });
    TextShape3.create(sessionText, {
      text: 'START',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 2,
      textAlign: 3,
    });
    pointerEventsSystem.onPointerDown(
      {
        entity: startSessionBtn,
        opts: { button: InputAction.IA_POINTER, hoverText: 'Start Collaboration Session' },
      },
      () => this.startCollaborationSession()
    );
  }
  // Start network synchronization
  startNetworkSync() {
    engine.addSystem(() => {
      if (!this.isInitialized) return;
      this.syncPlayerPositions();
      this.syncSharedObjects();
      this.updateVoiceChat();
    });
  }
  // Connect to server
  async connectToServer() {
    this.connectionStatus = 'connecting';
    console.log('\u{1F50C} Connecting to multiplayer server...');
    await new Promise(resolve2 => setTimeout2(resolve2, 2e3));
    this.connectionStatus = 'connected';
    console.log('\u2705 Connected to multiplayer server');
    setTimeout2(() => {
      this.simulatePlayerJoin('Alice', Color32.create(1, 0.5, 0.5));
    }, 3e3);
    setTimeout2(() => {
      this.simulatePlayerJoin('Bob', Color32.create(0.5, 1, 0.5));
    }, 5e3);
  }
  // Simulate player joining
  simulatePlayerJoin(name, color) {
    const player = {
      id: this.generatePlayerId(),
      name,
      position: Vector32.create(Math.random() * 14 + 1, 1, Math.random() * 14 + 1),
      rotation: Quaternion2.fromEulerDegrees(0, 0, 0),
      avatar: null,
      isActive: true,
      lastUpdate: Date.now(),
      color,
    };
    this.createRemotePlayer(player);
    this.remotePlayers.set(player.id, player);
    console.log(`\u{1F44B} ${name} joined the session`);
    soundSystem.playInteractionSound('click');
  }
  // Create remote player avatar
  createRemotePlayer(player) {
    const avatar = engine.addEntity();
    Transform2.create(avatar, {
      position: player.position,
      scale: Vector32.create(1, 2, 1),
    });
    MeshRenderer3.setBox(avatar);
    Material3.setPbrMaterial(avatar, {
      albedoColor: Color42.create(player.color.r, player.color.g, player.color.b, 1),
      roughness: 0.2,
      metallic: 0.3,
      emissiveColor: Color42.create(
        player.color.r * 0.3,
        player.color.g * 0.3,
        player.color.b * 0.3,
        0.5
      ),
      emissiveIntensity: 1,
    });
    const nameTag = engine.addEntity();
    Transform2.create(nameTag, {
      parent: avatar,
      position: Vector32.create(0, 2.5, 0),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape3.create(nameTag, {
      text: player.name,
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 3,
      textAlign: 3,
    });
    player.avatar = avatar;
  }
  // Sync player positions
  syncPlayerPositions() {
    if (this.localPlayer.avatar) {
      const transform = Transform2.getMutable(this.localPlayer.avatar);
      this.localPlayer.position = transform.position;
      this.localPlayer.lastUpdate = Date.now();
    }
    this.remotePlayers.forEach(player => {
      if (player.avatar && player.isActive) {
        if (Math.random() > 0.98) {
          const newPos = Vector32.create(
            player.position.x + (Math.random() - 0.5) * 0.5,
            player.position.y,
            player.position.z + (Math.random() - 0.5) * 0.5
          );
          const transform = Transform2.getMutable(player.avatar);
          transform.position = newPos;
          player.position = newPos;
          player.lastUpdate = Date.now();
        }
      }
    });
  }
  // Sync shared objects
  syncSharedObjects() {
    const whiteboard = this.sharedObjects.get('main-whiteboard');
    if (whiteboard && Math.random() > 0.99) {
      console.log('\u{1F3A8} Remote whiteboard update received');
    }
  }
  // Update voice chat
  updateVoiceChat() {
    const mainChannel = this.voiceChannels.get('main');
    if (mainChannel) {
      this.remotePlayers.forEach(player => {
        if (!mainChannel.participants.includes(player.id)) {
          mainChannel.participants.push(player.id);
        }
      });
    }
  }
  // Start collaboration session
  startCollaborationSession() {
    const session = {
      id: this.generateSessionId(),
      name: `Session ${Date.now()}`,
      hostId: this.localPlayer.id,
      participants: [this.localPlayer.id],
      startTime: Date.now(),
      isActive: true,
      sharedObjects: /* @__PURE__ */ new Map(),
    };
    this.activeSession = session;
    console.log(`\u{1F91D} Started collaboration session: ${session.name}`);
    soundSystem.playInteractionSound('powerup');
  }
  // Toggle mute
  toggleMute() {
    console.log('\u{1F507} Toggle mute');
    soundSystem.playInteractionSound('click');
  }
  // Share object with collaborators
  shareObject(objectId, collaborators) {
    const obj = this.sharedObjects.get(objectId);
    if (obj) {
      obj.collaborators = collaborators;
      console.log(`\u{1F4E4} Shared object ${objectId} with ${collaborators.length} collaborators`);
    }
  }
  // Join voice channel
  joinVoiceChannel(channelId) {
    const channel = this.voiceChannels.get(channelId);
    if (channel && channel.participants.length < channel.maxParticipants) {
      channel.participants.push(this.localPlayer.id);
      console.log(`\u{1F3A4} Joined voice channel: ${channel.name}`);
    }
  }
  // Leave voice channel
  leaveVoiceChannel(channelId) {
    const channel = this.voiceChannels.get(channelId);
    if (channel) {
      channel.participants = channel.participants.filter(id => id !== this.localPlayer.id);
      console.log(`\u{1F507} Left voice channel: ${channel.name}`);
    }
  }
  // Send message to chat
  sendChatMessage(message) {
    console.log(`\u{1F4AC} ${this.localPlayer.name}: ${message}`);
  }
  // Get all connected players
  getConnectedPlayers() {
    const players2 = [this.localPlayer];
    this.remotePlayers.forEach(player => {
      if (player.isActive) {
        players2.push(player);
      }
    });
    return players2;
  }
  // Get active session
  getActiveSession() {
    return this.activeSession;
  }
  // Utility functions
  generatePlayerId() {
    return 'player_' + Math.random().toString(36).substr(2, 9);
  }
  generateSessionId() {
    return 'session_' + Math.random().toString(36).substr(2, 9);
  }
  // Cleanup system
  cleanup() {
    if (this.localPlayer.avatar) {
      engine.removeEntity(this.localPlayer.avatar);
    }
    this.remotePlayers.forEach(player => {
      if (player.avatar) {
        engine.removeEntity(player.avatar);
      }
    });
    this.remotePlayers.clear();
    this.sharedObjects.forEach(obj => {});
    this.sharedObjects.clear();
    this.voiceChannels.clear();
    this.activeSession = null;
    this.isInitialized = false;
    this.connectionStatus = 'disconnected';
  }
};
var multiplayerSystem = new MultiplayerSystem();

// src/physics-interaction.ts
var PhysicsInteractionSystem = class {
  constructor() {
    this.objects = /* @__PURE__ */ new Map();
    this.materials = /* @__PURE__ */ new Map();
    this.forceFields = /* @__PURE__ */ new Map();
    this.constraints = /* @__PURE__ */ new Map();
    this.collisions = /* @__PURE__ */ new Map();
    this.isInitialized = false;
    this.gravity = Vector32.create(0, -9.81, 0);
    this.timeStep = 1 / 60;
    this.maxSubSteps = 4;
    this.collisionMatrix = [];
    this.initializeCollisionMatrix();
  }
  // Initialize physics system
  initialize() {
    console.log('\u269B\uFE0F Physics Interaction System Initializing...');
    this.setupPhysicsMaterials();
    this.createPhysicsUI();
    this.createPhysicsObjects();
    this.startPhysicsEngine();
    this.isInitialized = true;
    console.log('\u269B\uFE0F Physics Interaction System Ready!');
  }
  // Initialize collision matrix
  initializeCollisionMatrix() {
    for (let i = 0; i < 8; i++) {
      this.collisionMatrix[i] = [];
      for (let j = 0; j < 8; j++) {
        this.collisionMatrix[i][j] = true;
      }
    }
  }
  // Setup physics materials
  setupPhysicsMaterials() {
    const metal = {
      id: 'material_metal',
      name: 'Metal',
      density: 7850,
      restitution: 0.3,
      friction: 0.7,
      durability: 100,
      soundProfile: {
        impactSound: 'metal_impact',
        frictionSound: 'metal_scrape',
        breakSound: 'metal_break',
        volume: 0.8,
        pitch: 1,
      },
    };
    const wood = {
      id: 'material_wood',
      name: 'Wood',
      density: 700,
      restitution: 0.4,
      friction: 0.6,
      durability: 50,
      soundProfile: {
        impactSound: 'wood_impact',
        frictionSound: 'wood_scrape',
        breakSound: 'wood_break',
        volume: 0.6,
        pitch: 0.9,
      },
    };
    const glass = {
      id: 'material_glass',
      name: 'Glass',
      density: 2500,
      restitution: 0.1,
      friction: 0.3,
      durability: 20,
      soundProfile: {
        impactSound: 'glass_impact',
        frictionSound: 'glass_scrape',
        breakSound: 'glass_break',
        volume: 0.9,
        pitch: 1.2,
      },
    };
    const rubber = {
      id: 'material_rubber',
      name: 'Rubber',
      density: 1500,
      restitution: 0.8,
      friction: 0.9,
      durability: 80,
      soundProfile: {
        impactSound: 'rubber_impact',
        frictionSound: 'rubber_scrape',
        breakSound: 'rubber_break',
        volume: 0.5,
        pitch: 0.8,
      },
    };
    this.materials.set(metal.id, metal);
    this.materials.set(wood.id, wood);
    this.materials.set(glass.id, glass);
    this.materials.set(rubber.id, rubber);
    console.log('\u{1F527} Physics materials configured');
  }
  // Create physics UI
  createPhysicsUI() {
    this.physicsUI = engine.addEntity();
    Transform2.create(this.physicsUI, {
      position: Vector32.create(2, 3, 8),
      scale: Vector32.create(3, 4, 0.1),
    });
    MeshRenderer3.setBox(this.physicsUI);
    Material3.setPbrMaterial(this.physicsUI, {
      albedoColor: Color42.create(0.1, 0.2, 0.4, 0.9),
      emissiveColor: Color42.create(0.2, 0.4, 0.8, 0.5),
      emissiveIntensity: 2,
    });
    const title = engine.addEntity();
    Transform2.create(title, {
      parent: this.physicsUI,
      position: Vector32.create(0, 1.7, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(title, {
      text: '\u269B\uFE0F PHYSICS INTERACTION',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 2,
      textAlign: 3,
    });
    this.createObjectControls();
    this.createForceFieldControls();
    this.createConstraintControls();
    this.createPhysicsStats();
  }
  // Create object controls
  createObjectControls() {
    const controls = [
      { id: 'spawn_ball', icon: '\u26AA', name: 'Spawn Ball' },
      { id: 'spawn_box', icon: '\u2B1C', name: 'Spawn Box' },
      { id: 'spawn_cylinder', icon: '\u{1F964}', name: 'Spawn Cylinder' },
      { id: 'clear_all', icon: '\u{1F5D1}\uFE0F', name: 'Clear All' },
    ];
    let xOffset = -0.9;
    controls.forEach(control => {
      const button = engine.addEntity();
      Transform2.create(button, {
        parent: this.physicsUI,
        position: Vector32.create(xOffset, 1.2, 0.1),
        scale: Vector32.create(0.3, 0.3, 0.1),
      });
      MeshRenderer3.setBox(button);
      Material3.setPbrMaterial(button, {
        albedoColor: Color42.create(0.3, 0.6, 0.8, 1),
        emissiveColor: Color42.create(0.3, 0.6, 0.8, 0.5),
        emissiveIntensity: 2,
      });
      const buttonText = engine.addEntity();
      Transform2.create(buttonText, {
        parent: button,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape.create(buttonText, {
        text: control.icon,
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 2,
        textAlign: 3,
      });
      pointerEventsSystem.onPointerDown(
        {
          entity: button,
          opts: { button: InputAction.IA_POINTER, hoverText: control.name },
        },
        () => this.handleObjectControl(control.id)
      );
      xOffset += 0.6;
    });
  }
  // Create force field controls
  createForceFieldControls() {
    const controls = [
      { id: 'gravity_field', icon: '\u{1F30D}', name: 'Gravity Field' },
      { id: 'magnetic_field', icon: '\u{1F9F2}', name: 'Magnetic Field' },
      { id: 'wind_field', icon: '\u{1F4A8}', name: 'Wind Field' },
      { id: 'explosion', icon: '\u{1F4A5}', name: 'Explosion' },
    ];
    let xOffset = -0.9;
    controls.forEach(control => {
      const button = engine.addEntity();
      Transform2.create(button, {
        parent: this.physicsUI,
        position: Vector32.create(xOffset, 0.6, 0.1),
        scale: Vector32.create(0.3, 0.3, 0.1),
      });
      MeshRenderer3.setBox(button);
      Material3.setPbrMaterial(button, {
        albedoColor: Color42.create(0.8, 0.3, 0.3, 1),
        emissiveColor: Color42.create(0.8, 0.3, 0.3, 0.5),
        emissiveIntensity: 2,
      });
      const buttonText = engine.addEntity();
      Transform2.create(buttonText, {
        parent: button,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape.create(buttonText, {
        text: control.icon,
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 2,
        textAlign: 3,
      });
      pointerEventsSystem.onPointerDown(
        {
          entity: button,
          opts: { button: InputAction.IA_POINTER, hoverText: control.name },
        },
        () => this.handleForceFieldControl(control.id)
      );
      xOffset += 0.6;
    });
  }
  // Create constraint controls
  createConstraintControls() {
    const controls = [
      { id: 'spring_constraint', icon: '\u{1F300}', name: 'Spring' },
      { id: 'hinge_constraint', icon: '\u{1F6AA}', name: 'Hinge' },
      { id: 'fixed_constraint', icon: '\u{1F512}', name: 'Fixed' },
    ];
    let xOffset = -0.6;
    controls.forEach(control => {
      const button = engine.addEntity();
      Transform2.create(button, {
        parent: this.physicsUI,
        position: Vector32.create(xOffset, 0, 0.1),
        scale: Vector32.create(0.3, 0.3, 0.1),
      });
      MeshRenderer3.setBox(button);
      Material3.setPbrMaterial(button, {
        albedoColor: Color42.create(0.3, 0.8, 0.3, 1),
        emissiveColor: Color42.create(0.3, 0.8, 0.3, 0.5),
        emissiveIntensity: 2,
      });
      const buttonText = engine.addEntity();
      Transform2.create(buttonText, {
        parent: button,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape.create(buttonText, {
        text: control.icon,
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 2,
        textAlign: 3,
      });
      pointerEventsSystem.onPointerDown(
        {
          entity: button,
          opts: { button: InputAction.IA_POINTER, hoverText: control.name },
        },
        () => this.handleConstraintControl(control.id)
      );
      xOffset += 0.6;
    });
  }
  // Create physics stats
  createPhysicsStats() {
    const statsDisplay = engine.addEntity();
    Transform2.create(statsDisplay, {
      parent: this.physicsUI,
      position: Vector32.create(0, -0.6, 0.1),
      scale: Vector32.create(0.8, 0.3, 0.1),
    });
    MeshRenderer3.setBox(statsDisplay);
    Material3.setPbrMaterial(statsDisplay, {
      albedoColor: Color42.create(0.1, 0.1, 0.1, 0.8),
      emissiveColor: Color42.create(0.1, 0.1, 0.1, 0.3),
      emissiveIntensity: 1,
    });
    const statsText = engine.addEntity();
    Transform2.create(statsText, {
      parent: statsDisplay,
      position: Vector32.create(0, 0, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(statsText, {
      text: '\u{1F4CA} Objects: 0 | Collisions: 0',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 1.5,
      textAlign: 3,
    });
  }
  // Create physics objects
  createPhysicsObjects() {
    this.createGroundPlane();
    this.createInitialObjects();
  }
  // Create ground plane
  createGroundPlane() {
    const ground = {
      id: 'ground_plane',
      type: 'static',
      mass: 0,
      velocity: Vector32.create(0, 0, 0),
      acceleration: Vector32.create(0, 0, 0),
      angularVelocity: Vector32.create(0, 0, 0),
      angularAcceleration: Vector32.create(0, 0, 0),
      position: Vector32.create(8, 0, 8),
      rotation: Quaternion2.fromEulerDegrees(0, 0, 0),
      scale: Vector32.create(20, 0.1, 20),
      restitution: 0.5,
      friction: 0.8,
      damping: 0.1,
      gravityScale: 0,
      isGrounded: true,
      isColliding: false,
      collisionLayer: 0,
      collisionMask: 255,
    };
    this.objects.set(ground.id, ground);
    this.createPhysicsEntity(ground, 'material_metal');
  }
  // Create initial objects
  createInitialObjects() {
    for (let i = 0; i < 3; i++) {
      this.spawnPhysicsObject('ball', Vector32.create(6 + i * 2, 3 + i, 6 + i));
    }
  }
  // Create physics entity
  createPhysicsObject(obj, materialId) {
    const entity = engine.addEntity();
    Transform2.create(entity, {
      position: obj.position,
      scale: obj.scale,
      rotation: obj.rotation,
    });
    const material = this.materials.get(materialId);
    if (!material) return;
    if (obj.id.includes('ball')) {
      MeshRenderer3.setSphere(entity);
    } else if (obj.id.includes('box')) {
      MeshRenderer3.setBox(entity);
    } else if (obj.id.includes('cylinder')) {
      MeshRenderer3.setCylinder(entity, 1, 1, 1, 1, 1);
    } else {
      MeshRenderer3.setBox(entity);
    }
    const color = this.getMaterialColor(materialId);
    Material3.setPbrMaterial(entity, {
      albedoColor: color,
      roughness: 1 - material.friction,
      metallic: material.restitution,
      emissiveColor: Color42.create(0, 0, 0, 0),
      emissiveIntensity: 0,
    });
    pointerEventsSystem.onPointerDown(
      {
        entity,
        opts: { button: InputAction.IA_POINTER, hoverText: 'Interact' },
      },
      () => this.interactWithObject(obj.id)
    );
    return entity;
  }
  // Get material color
  getMaterialColor(materialId) {
    switch (materialId) {
      case 'material_metal':
        return Color42.create(0.7, 0.7, 0.8, 1);
      case 'material_wood':
        return Color42.create(0.6, 0.4, 0.2, 1);
      case 'material_glass':
        return Color42.create(0.8, 0.9, 1, 0.7);
      case 'material_rubber':
        return Color42.create(0.2, 0.2, 0.2, 1);
      default:
        return Color42.create(0.5, 0.5, 0.5, 1);
    }
  }
  // Start physics engine
  startPhysicsEngine() {
    engine.addSystem(() => {
      if (!this.isInitialized) return;
      this.simulatePhysics();
      this.detectCollisions();
      this.applyForceFields();
      this.updateConstraints();
      this.updatePhysicsStats();
    });
  }
  // Simulate physics
  simulatePhysics() {
    const dt = this.timeStep;
    this.objects.forEach((obj, id) => {
      if (obj.type === 'static') return;
      const gravity = Vector32.scale(this.gravity, obj.gravityScale);
      obj.acceleration = Vector32.add(obj.acceleration, gravity);
      obj.velocity = Vector32.add(obj.velocity, Vector32.scale(obj.acceleration, dt));
      obj.velocity = Vector32.scale(obj.velocity, 1 - obj.damping * dt);
      obj.angularVelocity = Vector32.scale(obj.angularVelocity, 1 - obj.damping * dt);
      obj.position = Vector32.add(obj.position, Vector32.scale(obj.velocity, dt));
      const angularDelta = Vector32.scale(obj.angularVelocity, dt);
      obj.rotation = Quaternion2.multiply(
        obj.rotation,
        Quaternion2.fromEulerDegrees(angularDelta.x, angularDelta.y, angularDelta.z)
      );
      obj.acceleration = Vector32.create(0, 0, 0);
      obj.angularAcceleration = Vector32.create(0, 0, 0);
      this.checkGroundCollision(obj);
      this.updateEntityTransform(id);
    });
  }
  // Check ground collision
  checkGroundCollision(obj) {
    if (obj.position.y <= obj.scale.y / 2) {
      obj.position.y = obj.scale.y / 2;
      if (obj.velocity.y < 0) {
        obj.velocity.y = -obj.velocity.y * obj.restitution;
        obj.velocity.x *= 1 - obj.friction * 0.1;
        obj.velocity.z *= 1 - obj.friction * 0.1;
        if (Math.abs(obj.velocity.y) > 0.5) {
          soundSystem.playInteractionSound('impact');
        }
      }
      obj.isGrounded = true;
    } else {
      obj.isGrounded = false;
    }
  }
  // Update entity transform
  updateEntityTransform(objectId) {
    const obj = this.objects.get(objectId);
    if (!obj) return;
  }
  // Detect collisions
  detectCollisions() {
    const objectArray = Array.from(this.objects.values());
    for (let i = 0; i < objectArray.length; i++) {
      for (let j = i + 1; j < objectArray.length; j++) {
        const objA = objectArray[i];
        const objB = objectArray[j];
        if (this.shouldCollide(objA, objB)) {
          const collision = this.checkCollision(objA, objB);
          if (collision) {
            this.resolveCollision(collision);
          }
        }
      }
    }
  }
  // Check if objects should collide
  shouldCollide(objA, objB) {
    return (
      (objA.collisionMask & (1 << objB.collisionLayer)) !== 0 &&
      (objB.collisionMask & (1 << objA.collisionLayer)) !== 0
    );
  }
  // Check collision between two objects
  checkCollision(objA, objB) {
    const distance = Vector32.distance(objA.position, objB.position);
    const minDistance = (objA.scale.x + objB.scale.x) / 2;
    if (distance < minDistance) {
      const collision = {
        id: `collision_${Date.now()}_${Math.random()}`,
        objectA: objA.id,
        objectB: objB.id,
        contactPoint: Vector32.lerp(objA.position, objB.position, 0.5),
        contactNormal: Vector32.normalize(Vector32.subtract(objB.position, objA.position)),
        impulse: minDistance - distance,
        timestamp: Date.now(),
      };
      return collision;
    }
    return null;
  }
  // Resolve collision
  resolveCollision(collision) {
    const objA = this.objects.get(collision.objectA);
    const objB = this.objects.get(collision.objectB);
    if (!objA || !objB) return;
    const separation = Vector32.scale(collision.contactNormal, collision.impulse / 2);
    if (objA.type !== 'static') {
      objA.position = Vector32.subtract(objA.position, separation);
    }
    if (objB.type !== 'static') {
      objB.position = Vector32.add(objB.position, separation);
    }
    const relativeVelocity = Vector32.subtract(objB.velocity, objA.velocity);
    const velocityAlongNormal = Vector32.dot(relativeVelocity, collision.contactNormal);
    if (velocityAlongNormal > 0) return;
    const restitution = Math.min(objA.restitution, objB.restitution);
    const impulseScalar = -(1 + restitution) * velocityAlongNormal;
    const impulse = Vector32.scale(collision.contactNormal, impulseScalar);
    if (objA.type !== 'static') {
      objA.velocity = Vector32.subtract(objA.velocity, impulse);
    }
    if (objB.type !== 'static') {
      objB.velocity = Vector32.add(objB.velocity, impulse);
    }
    this.collisions.set(collision.id, collision);
    soundSystem.playInteractionSound('collision');
  }
  // Apply force fields
  applyForceFields() {
    this.forceFields.forEach((field, id) => {
      if (!field.isActive) return;
      this.objects.forEach((obj, objectId) => {
        if (field.affectedObjects.includes(objectId)) {
          this.applyForceField(obj, field);
        }
      });
    });
  }
  // Apply force field to object
  applyForceField(obj, field) {
    const distance = Vector32.distance(obj.position, field.position);
    if (distance <= field.radius) {
      const force = Vector32.scale(field.direction, field.strength);
      const falloff = 1 - distance / field.radius;
      const finalForce = Vector32.scale(force, falloff);
      obj.acceleration = Vector32.add(obj.acceleration, finalForce);
    }
  }
  // Update constraints
  updateConstraints() {
    this.constraints.forEach((constraint, id) => {
      this.applyConstraint(constraint);
    });
  }
  // Apply constraint
  applyConstraint(constraint) {
    const objA = this.objects.get(constraint.objectA);
    const objB = constraint.objectB ? this.objects.get(constraint.objectB) : null;
    if (!objA) return;
    switch (constraint.type) {
      case 'spring':
        if (objB) {
          this.applySpringConstraint(objA, objB, constraint);
        }
        break;
      case 'hinge':
        if (objB) {
          this.applyHingeConstraint(objA, objB, constraint);
        }
        break;
      case 'fixed':
        if (objB) {
          this.applyFixedConstraint(objA, objB, constraint);
        }
        break;
    }
  }
  // Apply spring constraint
  applySpringConstraint(objA, objB, constraint) {
    const distance = Vector32.distance(objA.position, objB.position);
    const restLength = constraint.minDistance || 2;
    const displacement = distance - restLength;
    if (Math.abs(displacement) > 0.01) {
      const direction = Vector32.normalize(Vector32.subtract(objB.position, objA.position));
      const force = Vector32.scale(direction, displacement * constraint.strength);
      objA.acceleration = Vector32.add(objA.acceleration, force);
      objB.acceleration = Vector32.subtract(objB.acceleration, force);
    }
  }
  // Apply hinge constraint
  applyHingeConstraint(objA, objB, constraint) {
    const targetPos = Vector32.add(objB.position, constraint.positionB);
    const direction = Vector32.subtract(targetPos, objA.position);
    objA.position = Vector32.add(targetPos, Vector32.scale(direction, -0.5));
    objB.position = Vector32.add(targetPos, Vector32.scale(direction, 0.5));
  }
  // Apply fixed constraint
  applyFixedConstraint(objA, objB, constraint) {
    const targetPos = Vector32.add(objB.position, constraint.positionB);
    objA.position = targetPos;
    objA.velocity = Vector32.create(0, 0, 0);
  }
  // Update physics stats
  updatePhysicsStats() {
    const objectCount = this.objects.size;
    const collisionCount = this.collisions.size;
    console.log(`\u{1F4CA} Objects: ${objectCount} | Collisions: ${collisionCount}`);
  }
  // Handle object control
  handleObjectControl(controlId) {
    switch (controlId) {
      case 'spawn_ball':
        this.spawnPhysicsObject('ball', Vector32.create(8, 5, 8));
        break;
      case 'spawn_box':
        this.spawnPhysicsObject('box', Vector32.create(8, 5, 8));
        break;
      case 'spawn_cylinder':
        this.spawnPhysicsObject('cylinder', Vector32.create(8, 5, 8));
        break;
      case 'clear_all':
        this.clearAllObjects();
        break;
    }
    soundSystem.playInteractionSound('click');
  }
  // Handle force field control
  handleForceFieldControl(controlId) {
    switch (controlId) {
      case 'gravity_field':
        this.createForceField('gravity');
        break;
      case 'magnetic_field':
        this.createForceField('magnetic');
        break;
      case 'wind_field':
        this.createForceField('wind');
        break;
      case 'explosion':
        this.createExplosion();
        break;
    }
    soundSystem.playInteractionSound('powerup');
  }
  // Handle constraint control
  handleConstraintControl(controlId) {
    switch (controlId) {
      case 'spring_constraint':
        this.createSpringConstraint();
        break;
      case 'hinge_constraint':
        this.createHingeConstraint();
        break;
      case 'fixed_constraint':
        this.createFixedConstraint();
        break;
    }
    soundSystem.playInteractionSound('click');
  }
  // Spawn physics object
  spawnPhysicsObject(type, position) {
    const obj = {
      id: `${type}_${Date.now()}_${Math.random()}`,
      type: 'rigid_body',
      mass: 1,
      velocity: Vector32.create((Math.random() - 0.5) * 2, 0, (Math.random() - 0.5) * 2),
      acceleration: Vector32.create(0, 0, 0),
      angularVelocity: Vector32.create(
        (Math.random() - 0.5) * 2,
        (Math.random() - 0.5) * 2,
        (Math.random() - 0.5) * 2
      ),
      angularAcceleration: Vector32.create(0, 0, 0),
      position,
      rotation: Quaternion2.fromEulerDegrees(
        Math.random() * 360,
        Math.random() * 360,
        Math.random() * 360
      ),
      scale: Vector32.create(0.5, 0.5, 0.5),
      restitution: 0.6,
      friction: 0.5,
      damping: 0.1,
      gravityScale: 1,
      isGrounded: false,
      isColliding: false,
      collisionLayer: 1,
      collisionMask: 255,
    };
    this.objects.set(obj.id, obj);
    this.createPhysicsObject(obj, 'material_rubber');
    console.log(`\u{1F3BE} Spawned ${type}: ${obj.id}`);
  }
  // Create force field
  createForceField(type) {
    const field = {
      id: `field_${type}_${Date.now()}`,
      type,
      position: Vector32.create(8, 2, 8),
      radius: 5,
      strength: 10,
      direction: Vector32.create(0, 1, 0),
      isActive: true,
      affectedObjects: Array.from(this.objects.keys()).filter(id => id !== 'ground_plane'),
    };
    this.forceFields.set(field.id, field);
    console.log(`\u26A1 Created ${type} force field: ${field.id}`);
  }
  // Create explosion
  createExplosion() {
    const explosionPos = Vector32.create(8, 2, 8);
    const explosionForce = 20;
    const explosionRadius = 8;
    this.objects.forEach((obj, id) => {
      if (obj.type === 'static') return;
      const distance = Vector32.distance(obj.position, explosionPos);
      if (distance <= explosionRadius) {
        const direction = Vector32.normalize(Vector32.subtract(obj.position, explosionPos));
        const force = Vector32.scale(direction, explosionForce * (1 - distance / explosionRadius));
        obj.velocity = Vector32.add(obj.velocity, force);
      }
    });
    soundSystem.playInteractionSound('explosion');
    console.log('\u{1F4A5} Explosion created!');
  }
  // Create spring constraint
  createSpringConstraint() {
    const objectIds = Array.from(this.objects.keys()).filter(id => id !== 'ground_plane');
    if (objectIds.length < 2) return;
    const constraint = {
      id: `constraint_spring_${Date.now()}`,
      type: 'spring',
      objectA: objectIds[0],
      objectB: objectIds[1],
      positionA: Vector32.create(0, 0, 0),
      positionB: Vector32.create(0, 0, 0),
      minDistance: 2,
      strength: 5,
      damping: 0.5,
    };
    this.constraints.set(constraint.id, constraint);
    console.log(`\u{1F300} Created spring constraint: ${constraint.id}`);
  }
  // Create hinge constraint
  createHingeConstraint() {
    const objectIds = Array.from(this.objects.keys()).filter(id => id !== 'ground_plane');
    if (objectIds.length < 2) return;
    const constraint = {
      id: `constraint_hinge_${Date.now()}`,
      type: 'hinge',
      objectA: objectIds[0],
      objectB: objectIds[1],
      positionA: Vector32.create(0, 0, 0),
      positionB: Vector32.create(1, 0, 0),
      limits: {
        minRotation: Vector32.create(-45, 0, 0),
        maxRotation: Vector32.create(45, 0, 0),
      },
      strength: 10,
      damping: 0.5,
    };
    this.constraints.set(constraint.id, constraint);
    console.log(`\u{1F6AA} Created hinge constraint: ${constraint.id}`);
  }
  // Create fixed constraint
  createFixedConstraint() {
    const objectIds = Array.from(this.objects.keys()).filter(id => id !== 'ground_plane');
    if (objectIds.length < 2) return;
    const constraint = {
      id: `constraint_fixed_${Date.now()}`,
      type: 'fixed',
      objectA: objectIds[0],
      objectB: objectIds[1],
      positionA: Vector32.create(0, 0, 0),
      positionB: Vector32.create(0, 0, 0),
      strength: 100,
      damping: 1,
    };
    this.constraints.set(constraint.id, constraint);
    console.log(`\u{1F512} Created fixed constraint: ${constraint.id}`);
  }
  // Interact with object
  interactWithObject(objectId) {
    const obj = this.objects.get(objectId);
    if (!obj || obj.type === 'static') return;
    const impulse = Vector32.create(
      (Math.random() - 0.5) * 10,
      Math.random() * 10,
      (Math.random() - 0.5) * 10
    );
    obj.velocity = Vector32.add(obj.velocity, impulse);
    soundSystem.playInteractionSound('impact');
    console.log(`\u{1F44A} Applied impulse to ${objectId}`);
  }
  // Clear all objects
  clearAllObjects() {
    this.objects.forEach((obj, id) => {
      if (id !== 'ground_plane') {
        this.objects.delete(id);
      }
    });
    this.forceFields.clear();
    this.constraints.clear();
    this.collisions.clear();
    console.log('\u{1F5D1}\uFE0F Cleared all physics objects');
    soundSystem.playInteractionSound('click');
  }
  // Get physics objects
  getObjects() {
    return Array.from(this.objects.values());
  }
  // Get force fields
  getForceFields() {
    return Array.from(this.forceFields.values());
  }
  // Get constraints
  getConstraints() {
    return Array.from(this.constraints.values());
  }
  // Set gravity
  setGravity(gravity) {
    this.gravity = gravity;
    console.log(`\u{1F30D} Gravity set to: (${gravity.x}, ${gravity.y}, ${gravity.z})`);
  }
  // Cleanup system
  cleanup() {
    this.objects.clear();
    this.materials.clear();
    this.forceFields.clear();
    this.constraints.clear();
    this.collisions.clear();
    if (this.physicsUI) {
      engine.removeEntity(this.physicsUI);
    }
    this.isInitialized = false;
  }
};
var physicsSystem = new PhysicsInteractionSystem();

// src/procedural-generation.ts
var ProceduralGenerationSystem = class {
  constructor() {
    this.chunks = /* @__PURE__ */ new Map();
    this.isInitialized = false;
    this.chunkSize = 32;
    this.renderDistance = 2;
  }
  initialize() {
    console.log('\u{1F30D} Procedural Generation System Initializing...');
    this.createGenerationUI();
    this.startGenerationEngine();
    this.generateInitialChunks();
    this.isInitialized = true;
    console.log('\u{1F30D} Procedural Generation System Ready!');
  }
  createGenerationUI() {
    this.generationUI = engine.addEntity();
    Transform2.create(this.generationUI, {
      position: Vector32.create(14, 3, 8),
      scale: Vector32.create(3, 2, 0.1),
    });
    MeshRenderer3.setBox(this.generationUI);
    Material3.setPbrMaterial(this.generationUI, {
      albedoColor: Color42.create(0.1, 0.2, 0.4, 0.9),
      emissiveColor: Color42.create(0.2, 0.4, 0.8, 0.5),
      emissiveIntensity: 2,
    });
    const title = engine.addEntity();
    Transform2.create(title, {
      parent: this.generationUI,
      position: Vector32.create(0, 0.7, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(title, {
      text: '\u{1F30D} INFINITE WORLD',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 2,
      textAlign: 3,
    });
    const controls = [
      { id: 'generate', icon: '\u{1F3B2}', name: 'Generate' },
      { id: 'expand', icon: '\u2795', name: 'Expand' },
      { id: 'reset', icon: '\u{1F5D1}\uFE0F', name: 'Reset' },
    ];
    let xOffset = -0.6;
    controls.forEach(control => {
      const button = engine.addEntity();
      Transform2.create(button, {
        parent: this.generationUI,
        position: Vector32.create(xOffset, 0, 0.1),
        scale: Vector32.create(0.3, 0.3, 0.1),
      });
      MeshRenderer3.setBox(button);
      Material3.setPbrMaterial(button, {
        albedoColor: Color42.create(0.3, 0.6, 0.8, 1),
        emissiveColor: Color42.create(0.3, 0.6, 0.8, 0.5),
        emissiveIntensity: 2,
      });
      const buttonText = engine.addEntity();
      Transform2.create(buttonText, {
        parent: button,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape.create(buttonText, {
        text: control.icon,
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 2,
        textAlign: 3,
      });
      pointerEventsSystem.onPointerDown(
        { entity: button, opts: { button: InputAction.IA_POINTER, hoverText: control.name } },
        () => this.handleControl(control.id)
      );
      xOffset += 0.6;
    });
  }
  handleControl(controlId) {
    switch (controlId) {
      case 'generate':
        this.generateNewChunk();
        break;
      case 'expand':
        this.expandWorld();
        break;
      case 'reset':
        this.resetWorld();
        break;
    }
    soundSystem.playInteractionSound('click');
  }
  startGenerationEngine() {
    engine.addSystem(() => {
      if (!this.isInitialized) return;
      this.updateChunks();
    });
  }
  generateInitialChunks() {
    for (let x = -1; x <= 1; x++) {
      for (let z = -1; z <= 1; z++) {
        this.generateChunk(x, z);
      }
    }
  }
  generateChunk(x, z) {
    const chunkId = `chunk_${x}_${z}`;
    const biomes = ['office', 'tech', 'nature', 'abstract'];
    const biome = biomes[Math.floor(Math.random() * biomes.length)];
    const chunk = {
      id: chunkId,
      position: Vector32.create(x * this.chunkSize, 0, z * this.chunkSize),
      biome,
      structures: [],
      entities: [],
      isLoaded: false,
    };
    this.chunks.set(chunkId, chunk);
    this.generateChunkContent(chunk);
    console.log(`\u{1F30D} Generated chunk ${chunkId} (${biome})`);
    return chunk;
  }
  generateChunkContent(chunk) {
    const structureCount = Math.floor(Math.random() * 3) + 1;
    for (let i = 0; i < structureCount; i++) {
      const structure = {
        id: `struct_${chunk.id}_${i}`,
        type: chunk.biome === 'office' ? 'building' : 'decoration',
        position: Vector32.create(
          chunk.position.x + Math.random() * this.chunkSize,
          2,
          chunk.position.z + Math.random() * this.chunkSize
        ),
      };
      chunk.structures.push(structure);
    }
    const entityCount = Math.floor(Math.random() * 5) + 2;
    for (let i = 0; i < entityCount; i++) {
      const entity = {
        id: `entity_${chunk.id}_${i}`,
        type: chunk.biome === 'nature' ? 'plant' : 'object',
        position: Vector32.create(
          chunk.position.x + Math.random() * this.chunkSize,
          1,
          chunk.position.z + Math.random() * this.chunkSize
        ),
      };
      chunk.entities.push(entity);
    }
  }
  updateChunks() {
    this.chunks.forEach(chunk => {
      if (!chunk.isLoaded) {
        this.loadChunk(chunk);
      }
    });
  }
  loadChunk(chunk) {
    const terrain = engine.addEntity();
    Transform2.create(terrain, {
      position: chunk.position,
      scale: Vector32.create(this.chunkSize, 0.1, this.chunkSize),
    });
    MeshRenderer3.setBox(terrain);
    const biomeColor = this.getBiomeColor(chunk.biome);
    Material3.setPbrMaterial(terrain, {
      albedoColor: biomeColor,
      roughness: 0.8,
      metallic: 0.1,
    });
    chunk.structures.forEach(structure => {
      const structEntity = engine.addEntity();
      Transform2.create(structEntity, {
        position: structure.position,
        scale: Vector32.create(2, 4, 2),
      });
      MeshRenderer3.setBox(structEntity);
      Material3.setPbrMaterial(structEntity, {
        albedoColor: Color42.create(0.7, 0.7, 0.7, 1),
        roughness: 0.3,
        metallic: 0.5,
      });
    });
    chunk.entities.forEach(entity => {
      const entityEntity = engine.addEntity();
      Transform2.create(entityEntity, {
        position: entity.position,
        scale: Vector32.create(0.5, 1, 0.5),
      });
      MeshRenderer3.setSphere(entityEntity);
      Material3.setPbrMaterial(entityEntity, {
        albedoColor: Color42.create(0.2, 0.8, 0.2, 1),
        roughness: 0.5,
        metallic: 0.1,
      });
    });
    chunk.isLoaded = true;
  }
  getBiomeColor(biome) {
    switch (biome) {
      case 'office':
        return Color42.create(0.6, 0.6, 0.7, 1);
      case 'tech':
        return Color42.create(0.2, 0.4, 0.8, 1);
      case 'nature':
        return Color42.create(0.2, 0.8, 0.2, 1);
      case 'abstract':
        return Color42.create(0.8, 0.2, 0.8, 1);
      default:
        return Color42.create(0.5, 0.5, 0.5, 1);
    }
  }
  generateNewChunk() {
    const x = Math.floor(Math.random() * 10) - 5;
    const z = Math.floor(Math.random() * 10) - 5;
    this.generateChunk(x, z);
    soundSystem.playInteractionSound('powerup');
  }
  expandWorld() {
    for (let i = 0; i < 4; i++) {
      const x = Math.floor(Math.random() * 20) - 10;
      const z = Math.floor(Math.random() * 20) - 10;
      this.generateChunk(x, z);
    }
    soundSystem.playInteractionSound('powerup');
  }
  resetWorld() {
    this.chunks.forEach(chunk => {
      chunk.isLoaded = false;
    });
    this.chunks.clear();
    this.generateInitialChunks();
    soundSystem.playInteractionSound('click');
  }
  getChunks() {
    return Array.from(this.chunks.values());
  }
  cleanup() {
    this.chunks.clear();
    if (this.generationUI) {
      engine.removeEntity(this.generationUI);
    }
    this.isInitialized = false;
  }
};
var proceduralSystem = new ProceduralGenerationSystem();

// src/responsive-ui-system.ts
var ResponsiveUISystem = class {
  constructor() {
    this.components = /* @__PURE__ */ new Map();
    this.touchPoints = /* @__PURE__ */ new Map();
    this.activeGestures = /* @__PURE__ */ new Map();
    this.gestureThresholds = {
      tap: { maxDuration: 300, maxDistance: 0.1 },
      longPress: { minDuration: 500, maxDistance: 0.1 },
      swipe: { minVelocity: 0.5, minDistance: 0.5 },
      pinch: { minScale: 0.8, maxScale: 1.2 },
      rotate: { minAngle: 15 },
    };
    this.isInitialized = false;
  }
  // Initialize the UI system
  initialize() {
    console.log('\u{1F4F1} Responsive UI System Initializing...');
    this.createMainUI();
    this.setupGestureRecognition();
    this.startAnimationLoop();
    this.isInitialized = true;
    console.log('\u{1F4F1} Responsive UI System Ready!');
  }
  // Create main UI interface
  createMainUI() {
    this.createFloatingPanel();
    this.createGestureTutorial();
    this.createResponsiveButtons();
    this.createTouchFeedback();
  }
  // Create floating control panel
  createFloatingPanel() {
    const panel = engine.addEntity();
    Transform2.create(panel, {
      position: Vector32.create(8, 3, 2),
      scale: Vector32.create(4, 2, 0.1),
    });
    MeshRenderer3.setBox(panel);
    Material3.setPbrMaterial(panel, {
      albedoColor: Color42.create(0.1, 0.1, 0.2, 0.9),
      roughness: 0.2,
      metallic: 0.8,
      emissiveColor: Color42.create(0.2, 0.3, 0.6, 0.5),
      emissiveIntensity: 2,
    });
    const title = engine.addEntity();
    Transform2.create(title, {
      parent: panel,
      position: Vector32.create(0, 0.7, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape3.create(title, {
      text: '\u{1F3AE} CONTROL PANEL',
      textColor: Color42.create(0.8, 0.8, 1, 1),
      fontSize: 3,
      textAlign: 3,
    });
    this.addComponent('mainPanel', {
      id: 'mainPanel',
      entity: panel,
      type: 'panel',
      position: Vector32.create(8, 3, 2),
      size: Vector32.create(4, 2, 0.1),
      visible: true,
      interactive: true,
      gestureHandlers: /* @__PURE__ */ new Map([
        ['drag', this.handlePanelDrag.bind(this)],
        ['pinch', this.handlePanelPinch.bind(this)],
        ['doubleTap', this.handlePanelDoubleTap.bind(this)],
      ]),
    });
  }
  // Create gesture tutorial
  createGestureTutorial() {
    const tutorial = engine.addEntity();
    Transform2.create(tutorial, {
      position: Vector32.create(14, 4, 2),
      scale: Vector32.create(2, 3, 0.1),
    });
    MeshRenderer3.setBox(tutorial);
    Material3.setPbrMaterial(tutorial, {
      albedoColor: Color42.create(0.2, 0.1, 0.3, 0.8),
      emissiveColor: Color42.create(0.4, 0.2, 0.6, 0.4),
      emissiveIntensity: 1,
    });
    const tutorialText = engine.addEntity();
    Transform2.create(tutorialText, {
      parent: tutorial,
      position: Vector32.create(0, 0, 0.1),
      scale: Vector32.create(0.2, 0.2, 0.2),
    });
    TextShape3.create(tutorialText, {
      text: '\u{1F446} TAP\n\u{1F91A} SWIPE\n\u{1F90F} PINCH\n\u{1F504} ROTATE\n\u23F0 LONG PRESS',
      textColor: Color42.create(1, 1, 0.8, 1),
      fontSize: 2,
      textAlign: 3,
    });
    this.addComponent('gestureTutorial', {
      id: 'gestureTutorial',
      entity: tutorial,
      type: 'panel',
      position: Vector32.create(14, 4, 2),
      size: Vector32.create(2, 3, 0.1),
      visible: true,
      interactive: true,
      gestureHandlers: /* @__PURE__ */ new Map([['tap', this.handleTutorialTap.bind(this)]]),
    });
  }
  // Create responsive buttons
  createResponsiveButtons() {
    const buttonConfigs = [
      {
        id: 'btnLights',
        label: '\u{1F4A1}',
        pos: Vector32.create(2, 1.5, 2),
        color: Color42.create(1, 0.8, 0.2, 1),
      },
      {
        id: 'btnSound',
        label: '\u{1F50A}',
        pos: Vector32.create(3, 1.5, 2),
        color: Color42.create(0.2, 0.8, 1, 1),
      },
      {
        id: 'btnData',
        label: '\u{1F4CA}',
        pos: Vector32.create(4, 1.5, 2),
        color: Color42.create(0.8, 0.2, 1, 1),
      },
      {
        id: 'btnNPC',
        label: '\u{1F916}',
        pos: Vector32.create(5, 1.5, 2),
        color: Color42.create(0.2, 1, 0.8, 1),
      },
    ];
    buttonConfigs.forEach(config => {
      const button = engine.addEntity();
      Transform2.create(button, {
        position: config.pos,
        scale: Vector32.create(0.4, 0.4, 0.1),
      });
      MeshRenderer3.setBox(button);
      Material3.setPbrMaterial(button, {
        albedoColor: config.color,
        roughness: 0.1,
        metallic: 0.9,
        emissiveColor: config.color,
        emissiveIntensity: 2,
      });
      const buttonText = engine.addEntity();
      Transform2.create(buttonText, {
        parent: button,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape3.create(buttonText, {
        text: config.label,
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 4,
        textAlign: 3,
      });
      this.addComponent(config.id, {
        id: config.id,
        entity: button,
        type: 'button',
        position: config.pos,
        size: Vector32.create(0.4, 0.4, 0.1),
        visible: true,
        interactive: true,
        gestureHandlers: /* @__PURE__ */ new Map([
          ['tap', () => this.handleButtonTap(config.id)],
          ['longPress', () => this.handleButtonLongPress(config.id)],
          ['swipe', direction => this.handleButtonSwipe(config.id, direction)],
        ]),
      });
    });
  }
  // Create touch feedback system
  createTouchFeedback() {
    const rippleEffect = engine.addEntity();
    Transform2.create(rippleEffect, {
      position: Vector32.create(0, -10, 0),
      // Hidden initially
      scale: Vector32.create(0.1, 0.1, 0.1),
    });
    MeshRenderer3.setSphere(rippleEffect);
    Material3.setPbrMaterial(rippleEffect, {
      albedoColor: Color42.create(0.5, 0.8, 1, 0.6),
      emissiveColor: Color42.create(0.5, 0.8, 1, 0.8),
      emissiveIntensity: 3,
    });
    this.addComponent('touchFeedback', {
      id: 'touchFeedback',
      entity: rippleEffect,
      type: 'panel',
      position: Vector32.create(0, -10, 0),
      size: Vector32.create(0.1, 0.1, 0.1),
      visible: false,
      interactive: false,
      gestureHandlers: /* @__PURE__ */ new Map(),
    });
  }
  // Setup gesture recognition system
  setupGestureRecognition() {
    pointerEventsSystem.onPointerDown(
      { entity: engine.RootEntity, opts: { button: InputAction.IA_POINTER } },
      e => this.handleTouchStart(e)
    );
    pointerEventsSystem.onPointerUp(
      { entity: engine.RootEntity, opts: { button: InputAction.IA_POINTER } },
      e => this.handleTouchEnd(e)
    );
    engine.addSystem(() => {
      this.updateHoverStates();
    });
  }
  // Handle touch start
  handleTouchStart(event) {
    const touchPoint = {
      id: Date.now(),
      position: Vector32.create(event.hit.hitPoint.x, event.hit.hitPoint.y, event.hit.hitPoint.z),
      timestamp: Date.now(),
      pressure: 1,
    };
    this.touchPoints.set(touchPoint.id, touchPoint);
    this.startGestureDetection(touchPoint);
    this.showTouchFeedback(touchPoint.position);
  }
  // Handle touch end
  handleTouchEnd(event) {
    const touchPoint = Array.from(this.touchPoints.values()).pop();
    if (!touchPoint) return;
    const endPosition = Vector32.create(
      event.hit.hitPoint.x,
      event.hit.hitPoint.y,
      event.hit.hitPoint.z
    );
    const duration = Date.now() - touchPoint.timestamp;
    const distance = Vector32.distance(touchPoint.position, endPosition);
    this.detectAndTriggerGesture(touchPoint, endPosition, duration, distance);
    this.touchPoints.delete(touchPoint.id);
    this.hideTouchFeedback();
  }
  // Start gesture detection
  startGestureDetection(touchPoint) {
    setTimeout2(() => {
      if (this.touchPoints.has(touchPoint.id)) {
        this.triggerGesture(
          'longPress',
          touchPoint.position,
          touchPoint.position,
          Date.now() - touchPoint.timestamp,
          0
        );
      }
    }, this.gestureThresholds.longPress.minDuration);
  }
  // Detect and trigger gestures
  detectAndTriggerGesture(startPoint, endPosition, duration, distance) {
    if (
      duration <= this.gestureThresholds.tap.maxDuration &&
      distance <= this.gestureThresholds.tap.maxDistance
    ) {
      this.triggerGesture('tap', startPoint.position, endPosition, duration, distance);
      return;
    }
    const velocity = (distance / duration) * 1e3;
    if (
      velocity >= this.gestureThresholds.swipe.minVelocity &&
      distance >= this.gestureThresholds.swipe.minDistance
    ) {
      const direction = Vector32.subtract(endPosition, startPoint.position).normalize();
      this.triggerGesture('swipe', startPoint.position, endPosition, duration, distance, direction);
      return;
    }
    if (
      duration >= this.gestureThresholds.longPress.minDuration &&
      distance <= this.gestureThresholds.longPress.maxDistance
    ) {
      this.triggerGesture('longPress', startPoint.position, endPosition, duration, distance);
    }
  }
  // Trigger gesture on components
  triggerGesture(type, startPos, endPos, duration, distance, direction) {
    this.components.forEach(component => {
      if (!component.interactive || !component.visible) return;
      if (this.isPointInComponent(endPos, component)) {
        const handler = component.gestureHandlers.get(type);
        if (handler) {
          soundSystem.playInteractionSound('click');
          if (direction) {
            handler(direction);
          } else {
            handler();
          }
        }
      }
    });
  }
  // Check if point is within component bounds
  isPointInComponent(point, component) {
    const halfSize = Vector32.scale(component.size, 0.5);
    const minBounds = Vector32.subtract(component.position, halfSize);
    const maxBounds = Vector32.add(component.position, halfSize);
    return (
      point.x >= minBounds.x &&
      point.x <= maxBounds.x &&
      point.y >= minBounds.y &&
      point.y <= maxBounds.y &&
      point.z >= minBounds.z &&
      point.z <= maxBounds.z
    );
  }
  // Show touch feedback
  showTouchFeedback(position) {
    const feedback = this.components.get('touchFeedback');
    if (feedback) {
      const transform = Transform2.getMutable(feedback.entity);
      transform.position = position;
      transform.scale = Vector32.create(0.1, 0.1, 0.1);
      this.animateRipple(feedback.entity);
    }
  }
  // Hide touch feedback
  hideTouchFeedback() {
    const feedback = this.components.get('touchFeedback');
    if (feedback) {
      const transform = Transform2.getMutable(feedback.entity);
      transform.position = Vector32.create(0, -10, 0);
    }
  }
  // Animate ripple effect
  animateRipple(entity) {
    let scale = 0.1;
    let opacity = 1;
    const animate = () => {
      scale += 0.02;
      opacity -= 0.02;
      const transform = Transform2.getMutable(entity);
      transform.scale = Vector32.create(scale, scale, scale);
      const material = Material3.getMutable(entity);
      if (material && material.$case === 'pbr') {
        material.pbr.albedoColor = Color42.create(0.5, 0.8, 1, opacity);
      }
      if (opacity > 0) {
        setTimeout2(animate, 16);
      }
    };
    animate();
  }
  // Gesture handlers
  handlePanelDrag() {
    console.log('\u{1F3AE} Panel dragged');
  }
  handlePanelPinch() {
    console.log('\u{1F3AE} Panel pinched');
  }
  handlePanelDoubleTap() {
    console.log('\u{1F3AE} Panel double-tapped');
  }
  handleTutorialTap() {
    console.log('\u{1F4DA} Tutorial tapped');
  }
  handleButtonTap(buttonId) {
    console.log(`\u{1F518} Button ${buttonId} tapped`);
    switch (buttonId) {
      case 'btnLights':
        this.toggleLights();
        break;
      case 'btnSound':
        this.toggleSound();
        break;
      case 'btnData':
        this.toggleDataVisualization();
        break;
      case 'btnNPC':
        this.toggleNPCs();
        break;
    }
  }
  handleButtonLongPress(buttonId) {
    console.log(`\u23F0 Button ${buttonId} long-pressed`);
  }
  handleButtonSwipe(buttonId, direction) {
    console.log(`\u{1F446} Button ${buttonId} swiped ${direction}`);
  }
  // Control functions
  toggleLights() {
    console.log('\u{1F4A1} Lights toggled');
  }
  toggleSound() {
    console.log('\u{1F50A} Sound toggled');
  }
  toggleDataVisualization() {
    console.log('\u{1F4CA} Data visualization toggled');
  }
  toggleNPCs() {
    console.log('\u{1F916} NPCs toggled');
  }
  // Update hover states
  updateHoverStates() {
    this.components.forEach(component => {
      if (!component.interactive || !component.visible) return;
      const material = Material3.getMutable(component.entity);
      if (material && material.$case === 'pbr') {
        const time = Date.now() / 1e3;
        const pulse = Math.sin(time * 3) * 0.1 + 0.9;
        material.pbr.emissiveIntensity = pulse * 2;
      }
    });
  }
  // Start animation loop
  startAnimationLoop() {
    engine.addSystem(() => {
      if (!this.isInitialized) return;
      this.updateUIAnimations();
    });
  }
  // Update UI animations
  updateUIAnimations() {
    this.components.forEach(component => {
      if (!component.visible) return;
      if (component.interactive) {
        const time = Date.now() / 1e3;
        const transform = Transform2.getMutable(component.entity);
        const floatOffset = Math.sin(time + component.position.x) * 0.02;
        transform.position.y = component.position.y + floatOffset;
      }
    });
  }
  // Add component to system
  addComponent(id, component) {
    this.components.set(id, component);
  }
  // Get component by ID
  getComponent(id) {
    return this.components.get(id);
  }
  // Show/hide component
  setComponentVisibility(id, visible) {
    const component = this.components.get(id);
    if (component) {
      component.visible = visible;
      const transform = Transform2.getMutable(component.entity);
      if (visible) {
        transform.scale = component.size;
      } else {
        transform.scale = Vector32.create(0, 0, 0);
      }
    }
  }
  // Cleanup system
  cleanup() {
    this.components.forEach(component => {
      engine.removeEntity(component.entity);
    });
    this.components.clear();
    this.touchPoints.clear();
    this.activeGestures.clear();
    this.isInitialized = false;
  }
};
var uiSystem = new ResponsiveUISystem();

// src/smart-room-system.ts
var SmartRoomSystem = class {
  constructor() {
    this.devices = /* @__PURE__ */ new Map();
    this.automationRules = /* @__PURE__ */ new Map();
    this.smartScenes = /* @__PURE__ */ new Map();
    this.isInitialized = false;
    this.currentScene = 'default';
    this.energyUsage = 0;
  }
  // Initialize smart room system
  initialize() {
    console.log('\u{1F3E0} Smart Room System Initializing...');
    this.createIoTDevices();
    this.createAutomationRules();
    this.createSmartScenes();
    this.createControlPanel();
    this.startAutomationEngine();
    this.isInitialized = true;
    console.log('\u{1F3E0} Smart Room System Ready!');
  }
  // Create IoT devices
  createIoTDevices() {
    this.createDevice('light_main', 'Main Light', 'light', Vector32.create(8, 4, 8));
    this.createDevice('light_desk', 'Desk Light', 'light', Vector32.create(4, 2.5, 4));
    this.createDevice('light_meeting', 'Meeting Room Light', 'light', Vector32.create(12, 2.5, 12));
    this.createDevice('temp_main', 'Thermostat', 'temperature', Vector32.create(8, 3, 2));
    this.createDevice('security_main', 'Security System', 'security', Vector32.create(1, 2, 8));
    this.createDevice('camera_entrance', 'Entrance Camera', 'security', Vector32.create(8, 3, 15));
    this.createDevice(
      'entertainment_display',
      'Smart Display',
      'entertainment',
      Vector32.create(8, 3, 0.5)
    );
    this.createDevice(
      'entertainment_audio',
      'Audio System',
      'entertainment',
      Vector32.create(14, 2, 8)
    );
    this.createDevice(
      'productivity_focus',
      'Focus Mode',
      'productivity',
      Vector32.create(4, 3, 12)
    );
    this.createDevice(
      'productivity_timer',
      'Work Timer',
      'productivity',
      Vector32.create(12, 3, 4)
    );
    this.createDevice('energy_monitor', 'Energy Monitor', 'energy', Vector32.create(2, 3, 2));
    this.createDevice('energy_solar', 'Solar Panels', 'energy', Vector32.create(14, 5, 14));
  }
  // Create individual device
  createDevice(id, name, type, position) {
    const device = engine.addEntity();
    Transform2.create(device, {
      position,
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    let deviceColor;
    let deviceIcon;
    switch (type) {
      case 'light':
        deviceColor = Color42.create(1, 0.8, 0.2, 1);
        deviceIcon = '\u{1F4A1}';
        MeshRenderer3.setSphere(device);
        break;
      case 'temperature':
        deviceColor = Color42.create(0.2, 0.8, 1, 1);
        deviceIcon = '\u{1F321}\uFE0F';
        MeshRenderer3.setBox(device);
        break;
      case 'security':
        deviceColor = Color42.create(0.8, 0.2, 0.2, 1);
        deviceIcon = '\u{1F6E1}\uFE0F';
        MeshRenderer3.setBox(device);
        break;
      case 'entertainment':
        deviceColor = Color42.create(0.8, 0.2, 0.8, 1);
        deviceIcon = '\u{1F3AE}';
        MeshRenderer3.setBox(device);
        break;
      case 'productivity':
        deviceColor = Color42.create(0.2, 0.8, 0.2, 1);
        deviceIcon = '\u26A1';
        MeshRenderer3.setBox(device);
        break;
      case 'energy':
        deviceColor = Color42.create(1, 0.6, 0.2, 1);
        deviceIcon = '\u26A1';
        MeshRenderer3.setBox(device);
        break;
      default:
        deviceColor = Color42.create(0.5, 0.5, 0.5, 1);
        deviceIcon = '\u{1F4F1}';
        MeshRenderer3.setBox(device);
    }
    Material3.setPbrMaterial(device, {
      albedoColor: deviceColor,
      roughness: 0.2,
      metallic: 0.8,
      emissiveColor: Color42.create(
        deviceColor.r * 0.5,
        deviceColor.g * 0.5,
        deviceColor.b * 0.5,
        0.5
      ),
      emissiveIntensity: 1,
    });
    const label = engine.addEntity();
    Transform2.create(label, {
      parent: device,
      position: Vector32.create(0, 0.3, 0),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape3.create(label, {
      text: deviceIcon,
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 2,
      textAlign: 3,
    });
    const statusIndicator = engine.addEntity();
    Transform2.create(statusIndicator, {
      parent: device,
      position: Vector32.create(0, -0.2, 0),
      scale: Vector32.create(0.1, 0.1, 0.1),
    });
    MeshRenderer3.setSphere(statusIndicator);
    Material3.setPbrMaterial(statusIndicator, {
      albedoColor: Color42.create(0, 1, 0, 1),
      emissiveColor: Color42.create(0, 1, 0, 1),
      emissiveIntensity: 2,
    });
    const iotDevice = {
      id,
      name,
      type,
      status: 'online',
      value: type === 'light' ? false : type === 'temperature' ? 22 : 0,
      position,
      automationRules: [],
      lastUpdate: Date.now(),
    };
    this.devices.set(id, iotDevice);
    pointerEventsSystem.onPointerDown(
      {
        entity: device,
        opts: { button: InputAction.IA_POINTER, hoverText: `Control ${name}` },
      },
      () => this.handleDeviceInteraction(id)
    );
  }
  // Create automation rules
  createAutomationRules() {
    this.createAutomationRule(
      'morning_routine',
      'Morning Routine',
      {
        type: 'time',
        conditions: [{ deviceId: 'temp_main', property: 'hour', operator: 'equals', value: 8 }],
      },
      [
        { type: 'setDevice', target: 'light_main', parameters: { value: true } },
        { type: 'setDevice', target: 'temp_main', parameters: { value: 22 } },
        {
          type: 'setDevice',
          target: 'entertainment_audio',
          parameters: { value: 'morning_playlist' },
        },
      ]
    );
    this.createAutomationRule(
      'energy_saving',
      'Energy Saving',
      {
        type: 'device',
        conditions: [
          { deviceId: 'energy_monitor', property: 'usage', operator: 'greater', value: 80 },
        ],
      },
      [
        { type: 'setDevice', target: 'light_main', parameters: { value: false } },
        { type: 'setDevice', target: 'light_desk', parameters: { value: false } },
        { type: 'notify', target: 'user', parameters: { message: 'High energy usage detected' } },
      ]
    );
    this.createAutomationRule(
      'security_night',
      'Night Security',
      {
        type: 'time',
        conditions: [{ deviceId: 'temp_main', property: 'hour', operator: 'greater', value: 22 }],
      },
      [
        { type: 'setDevice', target: 'security_main', parameters: { value: 'armed' } },
        { type: 'setDevice', target: 'camera_entrance', parameters: { value: 'recording' } },
      ]
    );
    this.createAutomationRule(
      'focus_mode',
      'Focus Mode',
      {
        type: 'device',
        conditions: [
          { deviceId: 'productivity_focus', property: 'active', operator: 'equals', value: true },
        ],
      },
      [
        { type: 'setDevice', target: 'entertainment_audio', parameters: { value: false } },
        { type: 'setDevice', target: 'light_desk', parameters: { value: true, brightness: 0.8 } },
        { type: 'notify', target: 'user', parameters: { message: 'Focus mode activated' } },
      ]
    );
  }
  // Create automation rule
  createAutomationRule(id, name, trigger, actions) {
    const rule = {
      id,
      name,
      trigger,
      actions,
      enabled: true,
      priority: 1,
    };
    this.automationRules.set(id, rule);
  }
  // Create smart scenes
  createSmartScenes() {
    this.createSmartScene(
      'work_mode',
      'Work Mode',
      'Optimized for productivity',
      ['light_main', 'light_desk', 'productivity_timer'],
      /* @__PURE__ */ new Map([
        ['light_main', { value: true, brightness: 0.9 }],
        ['light_desk', { value: true, brightness: 0.8 }],
        ['temp_main', { value: 21 }],
        ['productivity_timer', { value: true, duration: 25 }],
      ]),
      '\u{1F4BC}'
    );
    this.createSmartScene(
      'meeting_mode',
      'Meeting Mode',
      'Optimized for collaboration',
      ['light_main', 'light_meeting', 'entertainment_display'],
      /* @__PURE__ */ new Map([
        ['light_main', { value: true, brightness: 0.7 }],
        ['light_meeting', { value: true, brightness: 0.8 }],
        ['entertainment_display', { value: 'presentation_mode' }],
        ['temp_main', { value: 22 }],
      ]),
      '\u{1F91D}'
    );
    this.createSmartScene(
      'relax_mode',
      'Relax Mode',
      'Optimized for comfort',
      ['entertainment_audio', 'light_main'],
      /* @__PURE__ */ new Map([
        ['light_main', { value: true, brightness: 0.3, color: 'warm' }],
        ['entertainment_audio', { value: 'relax_playlist' }],
        ['temp_main', { value: 23 }],
      ]),
      '\u{1F319}'
    );
    this.createSmartScene(
      'energy_saver',
      'Energy Saver',
      'Minimize energy consumption',
      ['light_main', 'light_desk', 'entertainment_display'],
      /* @__PURE__ */ new Map([
        ['light_main', { value: false }],
        ['light_desk', { value: false }],
        ['entertainment_display', { value: false }],
        ['temp_main', { value: 20 }],
      ]),
      '\u{1F331}'
    );
  }
  // Create smart scene
  createSmartScene(id, name, description, devices, settings, icon) {
    const scene = {
      id,
      name,
      description,
      devices,
      settings,
      icon,
    };
    this.smartScenes.set(id, scene);
  }
  // Create control panel
  createControlPanel() {
    this.controlPanel = engine.addEntity();
    Transform2.create(this.controlPanel, {
      position: Vector32.create(8, 3, 14),
      scale: Vector32.create(4, 3, 0.1),
    });
    MeshRenderer3.setBox(this.controlPanel);
    Material3.setPbrMaterial(this.controlPanel, {
      albedoColor: Color42.create(0.1, 0.2, 0.4, 0.9),
      emissiveColor: Color42.create(0.2, 0.4, 0.8, 0.5),
      emissiveIntensity: 2,
    });
    const title = engine.addEntity();
    Transform2.create(title, {
      parent: this.controlPanel,
      position: Vector32.create(0, 1.2, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape3.create(title, {
      text: '\u{1F3E0} SMART ROOM CONTROL',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 2,
      textAlign: 3,
    });
    this.createSceneButtons();
    this.createDeviceStatusDisplay();
    this.createEnergyMonitor();
  }
  // Create scene buttons
  createSceneButtons() {
    let xOffset = -1.2;
    this.smartScenes.forEach((scene, id) => {
      const button = engine.addEntity();
      Transform2.create(button, {
        parent: this.controlPanel,
        position: Vector32.create(xOffset, 0.5, 0.1),
        scale: Vector32.create(0.5, 0.3, 0.1),
      });
      MeshRenderer3.setBox(button);
      Material3.setPbrMaterial(button, {
        albedoColor: Color42.create(0.2, 0.6, 0.8, 1),
        emissiveColor: Color42.create(0.2, 0.6, 0.8, 0.5),
        emissiveIntensity: 2,
      });
      const buttonText = engine.addEntity();
      Transform2.create(buttonText, {
        parent: button,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape3.create(buttonText, {
        text: `${scene.icon} ${scene.name}`,
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 1.5,
        textAlign: 3,
      });
      pointerEventsSystem.onPointerDown(
        {
          entity: button,
          opts: { button: InputAction.IA_POINTER, hoverText: `Activate ${scene.name}` },
        },
        () => this.activateScene(id)
      );
      xOffset += 0.8;
    });
  }
  // Create device status display
  createDeviceStatusDisplay() {
    const statusDisplay = engine.addEntity();
    Transform2.create(statusDisplay, {
      parent: this.controlPanel,
      position: Vector32.create(0, -0.3, 0.1),
      scale: Vector32.create(0.8, 0.3, 0.1),
    });
    MeshRenderer3.setBox(statusDisplay);
    Material3.setPbrMaterial(statusDisplay, {
      albedoColor: Color42.create(0.1, 0.1, 0.1, 0.8),
      emissiveColor: Color42.create(0.1, 0.1, 0.1, 0.3),
      emissiveIntensity: 1,
    });
    this.updateDeviceStatusDisplay();
  }
  // Create energy monitor
  createEnergyMonitor() {
    const energyDisplay = engine.addEntity();
    Transform2.create(energyDisplay, {
      parent: this.controlPanel,
      position: Vector32.create(0, -0.8, 0.1),
      scale: Vector32.create(0.8, 0.2, 0.1),
    });
    MeshRenderer3.setBox(energyDisplay);
    Material3.setPbrMaterial(energyDisplay, {
      albedoColor: Color42.create(0.1, 0.1, 0.1, 0.8),
      emissiveColor: Color42.create(0.1, 0.1, 0.1, 0.3),
      emissiveIntensity: 1,
    });
    this.updateEnergyDisplay();
  }
  // Start automation engine
  startAutomationEngine() {
    engine.addSystem(() => {
      if (!this.isInitialized) return;
      this.updateDeviceValues();
      this.checkAutomationRules();
      this.updateDisplays();
    });
  }
  // Update device values
  updateDeviceValues() {
    this.devices.forEach(device => {
      switch (device.type) {
        case 'temperature':
          device.value = 20 + Math.sin(Date.now() / 1e4) * 3;
          break;
        case 'energy':
          device.value = Math.random() * 100;
          break;
        case 'security':
          device.value = Math.random() > 0.95 ? 'alert' : 'normal';
          break;
      }
      device.lastUpdate = Date.now();
    });
    this.energyUsage = Array.from(this.devices.values())
      .filter(d => d.type === 'energy')
      .reduce((sum, d) => sum + d.value, 0);
  }
  // Check automation rules
  checkAutomationRules() {
    this.automationRules.forEach(rule => {
      if (!rule.enabled) return;
      if (this.evaluateTrigger(rule.trigger)) {
        this.executeActions(rule.actions);
      }
    });
  }
  // Evaluate trigger conditions
  evaluateTrigger(trigger) {
    const hour = /* @__PURE__ */ new Date().getHours();
    switch (trigger.type) {
      case 'time':
        return trigger.conditions.some(condition => {
          if (condition.property === 'hour') {
            switch (condition.operator) {
              case 'equals':
                return hour === condition.value;
              case 'greater':
                return hour > condition.value;
              case 'less':
                return hour < condition.value;
              default:
                return false;
            }
          }
          return false;
        });
      case 'device':
        return trigger.conditions.every(condition => {
          const device = this.devices.get(condition.deviceId);
          if (!device) return false;
          switch (condition.operator) {
            case 'equals':
              return device.value === condition.value;
            case 'greater':
              return device.value > condition.value;
            case 'less':
              return device.value < condition.value;
            default:
              return false;
          }
        });
      default:
        return false;
    }
  }
  // Execute automation actions
  executeActions(actions) {
    actions.forEach(action => {
      switch (action.type) {
        case 'setDevice':
          this.setDeviceValue(action.target, action.parameters);
          break;
        case 'notify':
          console.log(`\u{1F514} Notification: ${action.parameters.message}`);
          soundSystem.playInteractionSound('alert');
          break;
        case 'scene':
          this.activateScene(action.target);
          break;
      }
    });
  }
  // Set device value
  setDeviceValue(deviceId, parameters) {
    const device = this.devices.get(deviceId);
    if (device) {
      device.value = parameters.value || parameters;
      device.lastUpdate = Date.now();
      console.log(`\u{1F527} Set ${device.name} to: ${device.value}`);
    }
  }
  // Handle device interaction
  handleDeviceInteraction(deviceId) {
    const device = this.devices.get(deviceId);
    if (!device) return;
    console.log(`\u{1F527} Interacting with ${device.name}`);
    soundSystem.playInteractionSound('click');
    if (typeof device.value === 'boolean') {
      device.value = !device.value;
    } else if (device.type === 'light') {
      device.value = !device.value;
    }
    this.updateDeviceVisual(deviceId);
  }
  // Update device visual
  updateDeviceVisual(deviceId) {
    const device = this.devices.get(deviceId);
    if (!device) return;
    const deviceEntity = Array.from(engine.entities).find(e => {
      const transform = Transform2.get(e);
      return transform && Vector32.distance(transform.position, device.position) < 0.1;
    });
    if (deviceEntity) {
      const material = Material3.getMutable(deviceEntity);
      if (material && material.$case === 'pbr') {
        if (device.value === true) {
          material.pbr.emissiveIntensity = 3;
        } else {
          material.pbr.emissiveIntensity = 1;
        }
      }
    }
  }
  // Activate scene
  activateScene(sceneId) {
    const scene = this.smartScenes.get(sceneId);
    if (!scene) return;
    console.log(`\u{1F3AC} Activating scene: ${scene.name}`);
    soundSystem.playInteractionSound('powerup');
    this.currentScene = sceneId;
    scene.settings.forEach((settings, deviceId) => {
      this.setDeviceValue(deviceId, settings);
    });
  }
  // Update displays
  updateDisplays() {
    this.updateDeviceStatusDisplay();
    this.updateEnergyDisplay();
  }
  // Update device status display
  updateDeviceStatusDisplay() {
    const onlineDevices = Array.from(this.devices.values()).filter(
      d => d.status === 'online'
    ).length;
    const totalDevices = this.devices.size;
    console.log(`\u{1F4CA} Device Status: ${onlineDevices}/${totalDevices} online`);
  }
  // Update energy display
  updateEnergyDisplay() {
    console.log(`\u26A1 Energy Usage: ${this.energyUsage.toFixed(1)}%`);
  }
  // Get current scene
  getCurrentScene() {
    return this.currentScene;
  }
  // Get all devices
  getDevices() {
    return Array.from(this.devices.values());
  }
  // Get device by ID
  getDevice(deviceId) {
    return this.devices.get(deviceId);
  }
  // Add new device
  addDevice(device) {
    this.devices.set(device.id, device);
    console.log(`\u{1F4F1} Added device: ${device.name}`);
  }
  // Remove device
  removeDevice(deviceId) {
    const device = this.devices.get(deviceId);
    if (device) {
      this.devices.delete(deviceId);
      console.log(`\u{1F5D1}\uFE0F Removed device: ${device.name}`);
    }
  }
  // Get energy usage
  getEnergyUsage() {
    return this.energyUsage;
  }
  // Cleanup system
  cleanup() {
    this.devices.clear();
    this.automationRules.clear();
    this.smartScenes.clear();
    if (this.controlPanel) {
      engine.removeEntity(this.controlPanel);
    }
    this.isInitialized = false;
  }
};
var smartRoomSystem = new SmartRoomSystem();

// src/voice-command-system.ts
var VoiceCommandSystem = class {
  constructor() {
    this.commands = /* @__PURE__ */ new Map();
    this.intents = /* @__PURE__ */ new Map();
    this.commandHistory = [];
    this.isInitialized = false;
    this.isListening = false;
    this.currentTranscript = '';
    this.voiceAssistant = {
      id: 'assistant_nexus',
      name: 'Nexus',
      personality: 'professional',
      voice: 'female',
      language: 'en-US',
      isActive: true,
      processingState: 'idle',
    };
  }
  // Initialize voice command system
  initialize() {
    console.log('\u{1F3A4} Voice Command System Initializing...');
    this.setupIntents();
    this.createVoiceUI();
    this.initializeSpeechRecognition();
    this.initializeAIProcessor();
    this.initializeVoiceSynthesis();
    this.startVoiceEngine();
    this.isInitialized = true;
    console.log('\u{1F3A4} Voice Command System Ready!');
  }
  // Setup voice intents
  setupIntents() {
    this.intents.set('toggle_lights', {
      name: 'toggle_lights',
      parameters: /* @__PURE__ */ new Map([
        ['location', 'string'],
        ['action', 'string'],
      ]),
      action: 'control_lighting',
    });
    this.intents.set('adjust_temperature', {
      name: 'adjust_temperature',
      parameters: /* @__PURE__ */ new Map([
        ['temperature', 'number'],
        ['unit', 'string'],
      ]),
      action: 'control_climate',
    });
    this.intents.set('start_meeting', {
      name: 'start_meeting',
      parameters: /* @__PURE__ */ new Map([
        ['participants', 'array'],
        ['topic', 'string'],
      ]),
      action: 'initiate_meeting',
    });
    this.intents.set('navigate_to', {
      name: 'navigate_to',
      parameters: /* @__PURE__ */ new Map([
        ['destination', 'string'],
        ['mode', 'string'],
      ]),
      action: 'navigate',
    });
    this.intents.set('show_dashboard', {
      name: 'show_dashboard',
      parameters: /* @__PURE__ */ new Map([
        ['type', 'string'],
        ['data', 'string'],
      ]),
      action: 'display_dashboard',
    });
    this.intents.set('send_message', {
      name: 'send_message',
      parameters: /* @__PURE__ */ new Map([
        ['recipient', 'string'],
        ['message', 'string'],
      ]),
      action: 'communicate',
    });
    this.intents.set('schedule_event', {
      name: 'schedule_event',
      parameters: /* @__PURE__ */ new Map([
        ['title', 'string'],
        ['time', 'string'],
        ['duration', 'string'],
      ]),
      action: 'create_calendar_event',
    });
    this.intents.set('get_status', {
      name: 'get_status',
      parameters: /* @__PURE__ */ new Map([
        ['system', 'string'],
        ['metric', 'string'],
      ]),
      action: 'query_status',
    });
    this.intents.set('analyze_data', {
      name: 'analyze_data',
      parameters: /* @__PURE__ */ new Map([
        ['dataset', 'string'],
        ['analysis_type', 'string'],
      ]),
      action: 'perform_analysis',
    });
    this.intents.set('lock_system', {
      name: 'lock_system',
      parameters: /* @__PURE__ */ new Map([
        ['level', 'string'],
        ['duration', 'string'],
      ]),
      action: 'secure_system',
    });
    this.intents.set('emergency_stop', {
      name: 'emergency_stop',
      parameters: /* @__PURE__ */ new Map([
        ['system', 'string'],
        ['reason', 'string'],
      ]),
      action: 'emergency_shutdown',
    });
  }
  // Create voice UI
  createVoiceUI() {
    this.voiceUI = engine.addEntity();
    Transform2.create(this.voiceUI, {
      position: Vector32.create(8, 4, 14),
      scale: Vector32.create(3, 2, 0.1),
    });
    MeshRenderer3.setBox(this.voiceUI);
    Material3.setPbrMaterial(this.voiceUI, {
      albedoColor: Color42.create(0.1, 0.2, 0.4, 0.9),
      emissiveColor: Color42.create(0.2, 0.4, 0.8, 0.5),
      emissiveIntensity: 2,
    });
    const title = engine.addEntity();
    Transform2.create(title, {
      parent: this.voiceUI,
      position: Vector32.create(0, 0.7, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(title, {
      text: '\u{1F3A4} VOICE ASSISTANT',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 2,
      textAlign: 3,
    });
    this.createStatusIndicator();
    this.createTranscriptDisplay();
    this.createVoiceControls();
  }
  // Create status indicator
  createStatusIndicator() {
    const statusIndicator = engine.addEntity();
    Transform2.create(statusIndicator, {
      parent: this.voiceUI,
      position: Vector32.create(0, 0.3, 0.1),
      scale: Vector32.create(0.2, 0.2, 0.1),
    });
    MeshRenderer3.setBox(statusIndicator);
    Material3.setPbrMaterial(statusIndicator, {
      albedoColor: Color42.create(0.2, 0.8, 0.2, 1),
      emissiveColor: Color42.create(0.2, 0.8, 0.2, 0.8),
      emissiveIntensity: 2,
    });
    this.animateStatusIndicator(statusIndicator);
  }
  // Animate status indicator
  animateStatusIndicator(indicator) {
    engine.addSystem(() => {
      if (!this.isInitialized) return;
      const time = Date.now() / 1e3;
      const material = Material3.getMutable(indicator);
      if (material && material.$case === 'pbr') {
        switch (this.voiceAssistant.processingState) {
          case 'idle':
            material.pbr.albedoColor = Color42.create(0.2, 0.8, 0.2, 1);
            material.pbr.emissiveIntensity = 1;
            break;
          case 'listening':
            const pulse = Math.sin(time * 3) * 0.5 + 0.5;
            material.pbr.albedoColor = Color42.create(1, 0.8, 0.2, 1);
            material.pbr.emissiveIntensity = 2 + pulse * 2;
            break;
          case 'processing':
            material.pbr.albedoColor = Color42.create(0.2, 0.2, 1, 1);
            material.pbr.emissiveIntensity = 3;
            break;
          case 'responding':
            material.pbr.albedoColor = Color42.create(0.8, 0.2, 0.8, 1);
            material.pbr.emissiveIntensity = 2;
            break;
        }
      }
    });
  }
  // Create transcript display
  createTranscriptDisplay() {
    const transcriptDisplay = engine.addEntity();
    Transform2.create(transcriptDisplay, {
      parent: this.voiceUI,
      position: Vector32.create(0, -0.1, 0.1),
      scale: Vector32.create(0.8, 0.3, 0.1),
    });
    MeshRenderer3.setBox(transcriptDisplay);
    Material3.setPbrMaterial(transcriptDisplay, {
      albedoColor: Color42.create(0.1, 0.1, 0.1, 0.8),
      emissiveColor: Color42.create(0.1, 0.1, 0.1, 0.3),
      emissiveIntensity: 1,
    });
    const transcriptText = engine.addEntity();
    Transform2.create(transcriptText, {
      parent: transcriptDisplay,
      position: Vector32.create(0, 0, 0.1),
      scale: Vector32.create(0.3, 0.3, 0.3),
    });
    TextShape.create(transcriptText, {
      text: 'Say "Hello Nexus" to start...',
      textColor: Color42.create(1, 1, 1, 1),
      fontSize: 1.5,
      textAlign: 3,
    });
  }
  // Create voice controls
  createVoiceControls() {
    const controls = [
      { id: 'listen', icon: '\u{1F3A4}', name: 'Start Listening' },
      { id: 'stop', icon: '\u23F9\uFE0F', name: 'Stop Listening' },
      { id: 'settings', icon: '\u2699\uFE0F', name: 'Voice Settings' },
    ];
    let xOffset = -0.8;
    controls.forEach(control => {
      const button = engine.addEntity();
      Transform2.create(button, {
        parent: this.voiceUI,
        position: Vector32.create(xOffset, -0.6, 0.1),
        scale: Vector32.create(0.3, 0.3, 0.1),
      });
      MeshRenderer3.setBox(button);
      Material3.setPbrMaterial(button, {
        albedoColor: Color42.create(0.3, 0.6, 0.8, 1),
        emissiveColor: Color42.create(0.3, 0.6, 0.8, 0.5),
        emissiveIntensity: 2,
      });
      const buttonText = engine.addEntity();
      Transform2.create(buttonText, {
        parent: button,
        position: Vector32.create(0, 0, 0.1),
        scale: Vector32.create(0.5, 0.5, 0.5),
      });
      TextShape.create(buttonText, {
        text: control.icon,
        textColor: Color42.create(1, 1, 1, 1),
        fontSize: 2,
        textAlign: 3,
      });
      pointerEventsSystem.onPointerDown(
        {
          entity: button,
          opts: { button: InputAction.IA_POINTER, hoverText: control.name },
        },
        () => this.handleVoiceControl(control.id)
      );
      xOffset += 0.8;
    });
  }
  // Initialize speech recognition
  initializeSpeechRecognition() {
    this.recognitionEngine = {
      isListening: false,
      continuous: true,
      interimResults: true,
      lang: 'en-US',
      start: () => {
        this.recognitionEngine.isListening = true;
        this.voiceAssistant.processingState = 'listening';
        console.log('\u{1F3A4} Speech recognition started');
      },
      stop: () => {
        this.recognitionEngine.isListening = false;
        this.voiceAssistant.processingState = 'idle';
        console.log('\u{1F3A4} Speech recognition stopped');
      },
      onresult: null,
      onerror: null,
      onend: null,
    };
    this.recognitionEngine.onresult = event => this.handleSpeechResult(event);
    this.recognitionEngine.onerror = event => this.handleSpeechError(event);
    this.recognitionEngine.onend = () => this.handleSpeechEnd();
  }
  // Initialize AI processor
  initializeAIProcessor() {
    this.aiProcessor = {
      processIntent: transcript => this.processIntentWithAI(transcript),
      generateResponse: (intent, entities) => this.generateAIResponse(intent, entities),
      confidence: 0.85,
    };
  }
  // Initialize voice synthesis
  initializeVoiceSynthesis() {
    this.voiceSynthesizer = {
      speak: text => this.synthesizeSpeech(text),
      cancel: () => this.stopSpeech(),
      voice: this.voiceAssistant.voice,
      rate: 1,
      pitch: 1,
      volume: 1,
    };
  }
  // Start voice engine
  startVoiceEngine() {
    engine.addSystem(() => {
      if (!this.isInitialized) return;
      this.updateVoiceUI();
      this.simulateVoiceInput();
    });
  }
  // Handle voice control
  handleVoiceControl(controlId) {
    switch (controlId) {
      case 'listen':
        this.startListening();
        break;
      case 'stop':
        this.stopListening();
        break;
      case 'settings':
        this.openVoiceSettings();
        break;
    }
    soundSystem.playInteractionSound('click');
  }
  // Start listening
  startListening() {
    if (this.recognitionEngine.isListening) return;
    this.recognitionEngine.start();
    this.isListening = true;
    this.voiceAssistant.processingState = 'listening';
    console.log('\u{1F3A4} Started listening for voice commands...');
    soundSystem.playInteractionSound('powerup');
  }
  // Stop listening
  stopListening() {
    if (!this.recognitionEngine.isListening) return;
    this.recognitionEngine.stop();
    this.isListening = false;
    this.voiceAssistant.processingState = 'idle';
    console.log('\u{1F3A4} Stopped listening');
    soundSystem.playInteractionSound('click');
  }
  // Handle speech result
  handleSpeechResult(event) {
    const result = event.results[event.results.length - 1];
    const transcript = result[0].transcript.toLowerCase().trim();
    this.currentTranscript = transcript;
    if (result.isFinal) {
      this.processVoiceCommand(transcript);
    }
  }
  // Handle speech error
  handleSpeechError(event) {
    console.error('\u{1F3A4} Speech recognition error:', event.error);
    this.voiceAssistant.processingState = 'idle';
    this.isListening = false;
  }
  // Handle speech end
  handleSpeechEnd() {
    this.voiceAssistant.processingState = 'idle';
    this.isListening = false;
  }
  // Process voice command
  processVoiceCommand(transcript) {
    console.log(`\u{1F3A4} Processing command: "${transcript}"`);
    this.voiceAssistant.processingState = 'processing';
    const intentResult = this.aiProcessor.processIntent(transcript);
    if (intentResult.confidence > 0.7) {
      this.executeVoiceCommand(intentResult.intent, intentResult.entities);
    } else {
      this.handleUnknownCommand(transcript);
    }
  }
  // Process intent with AI
  processIntentWithAI(transcript) {
    const intents = [
      {
        keywords: ['turn on', 'switch on', 'activate'],
        intent: 'toggle_lights',
        entities: /* @__PURE__ */ new Map([['action', 'on']]),
      },
      {
        keywords: ['turn off', 'switch off', 'deactivate'],
        intent: 'toggle_lights',
        entities: /* @__PURE__ */ new Map([['action', 'off']]),
      },
      {
        keywords: ['temperature', 'set temp', 'adjust temp'],
        intent: 'adjust_temperature',
        entities: /* @__PURE__ */ new Map([['temperature', 22]]),
      },
      {
        keywords: ['meeting', 'start meeting', 'schedule meeting'],
        intent: 'start_meeting',
        entities: /* @__PURE__ */ new Map(),
      },
      {
        keywords: ['navigate', 'go to', 'take me to'],
        intent: 'navigate_to',
        entities: /* @__PURE__ */ new Map(),
      },
      {
        keywords: ['dashboard', 'show dashboard', 'display'],
        intent: 'show_dashboard',
        entities: /* @__PURE__ */ new Map(),
      },
      {
        keywords: ['status', 'check status', 'system status'],
        intent: 'get_status',
        entities: /* @__PURE__ */ new Map(),
      },
      {
        keywords: ['lock', 'secure', 'lock down'],
        intent: 'lock_system',
        entities: /* @__PURE__ */ new Map(),
      },
      {
        keywords: ['emergency', 'stop', 'emergency stop'],
        intent: 'emergency_stop',
        entities: /* @__PURE__ */ new Map(),
      },
    ];
    for (const intentData of intents) {
      for (const keyword of intentData.keywords) {
        if (transcript.includes(keyword)) {
          return {
            intent: intentData.intent,
            entities: intentData.entities,
            confidence: 0.9,
          };
        }
      }
    }
    return {
      intent: 'unknown',
      entities: /* @__PURE__ */ new Map(),
      confidence: 0.1,
    };
  }
  // Execute voice command
  executeVoiceCommand(intent, entities) {
    console.log(`\u{1F3AF} Executing intent: ${intent}`);
    const command = {
      id: `cmd_${Date.now()}`,
      phrase: this.currentTranscript,
      intent,
      entities,
      confidence: 0.9,
      timestamp: Date.now(),
      isProcessed: false,
    };
    this.commands.set(command.id, command);
    this.commandHistory.push(command);
    switch (intent) {
      case 'toggle_lights':
        this.executeLightControl(entities);
        break;
      case 'adjust_temperature':
        this.executeTemperatureControl(entities);
        break;
      case 'start_meeting':
        this.executeMeetingStart(entities);
        break;
      case 'navigate_to':
        this.executeNavigation(entities);
        break;
      case 'show_dashboard':
        this.executeDashboardDisplay(entities);
        break;
      case 'get_status':
        this.executeStatusQuery(entities);
        break;
      case 'lock_system':
        this.executeSystemLock(entities);
        break;
      case 'emergency_stop':
        this.executeEmergencyStop(entities);
        break;
    }
    command.isProcessed = true;
    this.voiceAssistant.processingState = 'responding';
    const response = this.aiProcessor.generateResponse(intent, entities);
    this.speakResponse(response.text);
    setTimeout2(() => {
      this.voiceAssistant.processingState = 'idle';
    }, 2e3);
  }
  // Execute light control
  executeLightControl(entities) {
    const action = entities.get('action');
    console.log(`\u{1F4A1} ${action === 'on' ? 'Turning on' : 'Turning off'} lights`);
    soundSystem.playInteractionSound('powerup');
  }
  // Execute temperature control
  executeTemperatureControl(entities) {
    const temperature = entities.get('temperature');
    console.log(`\u{1F321}\uFE0F Setting temperature to ${temperature}\xB0C`);
    soundSystem.playInteractionSound('click');
  }
  // Execute meeting start
  executeMeetingStart(entities) {
    console.log('\u{1F91D} Starting meeting session');
    soundSystem.playInteractionSound('powerup');
  }
  // Execute navigation
  executeNavigation(entities) {
    console.log('\u{1F9ED} Navigating to destination');
    soundSystem.playInteractionSound('click');
  }
  // Execute dashboard display
  executeDashboardDisplay(entities) {
    console.log('\u{1F4CA} Displaying dashboard');
    soundSystem.playInteractionSound('powerup');
  }
  // Execute status query
  executeStatusQuery(entities) {
    console.log('\u{1F4C8} Querying system status');
    soundSystem.playInteractionSound('click');
  }
  // Execute system lock
  executeSystemLock(entities) {
    console.log('\u{1F512} Locking system');
    soundSystem.playInteractionSound('alert');
  }
  // Execute emergency stop
  executeEmergencyStop(entities) {
    console.log('\u{1F6A8} EMERGENCY STOP ACTIVATED');
    soundSystem.playInteractionSound('error');
  }
  // Handle unknown command
  handleUnknownCommand(transcript) {
    console.log(`\u2753 Unknown command: "${transcript}"`);
    const response = this.aiProcessor.generateResponse('unknown', /* @__PURE__ */ new Map());
    this.speakResponse(response.text);
    this.voiceAssistant.processingState = 'idle';
  }
  // Generate AI response
  generateAIResponse(intent, entities) {
    const responses = {
      toggle_lights: {
        text: "I've adjusted the lighting for you.",
        confidence: 0.9,
        actions: ['light_control'],
        emotion: 'helpful',
      },
      adjust_temperature: {
        text: 'Temperature settings updated successfully.',
        confidence: 0.9,
        actions: ['climate_control'],
        emotion: 'efficient',
      },
      start_meeting: {
        text: "I'm setting up your meeting room now.",
        confidence: 0.9,
        actions: ['meeting_setup'],
        emotion: 'professional',
      },
      navigate_to: {
        text: 'Taking you to your destination.',
        confidence: 0.9,
        actions: ['navigation'],
        emotion: 'helpful',
      },
      show_dashboard: {
        text: 'Displaying the dashboard you requested.',
        confidence: 0.9,
        actions: ['dashboard_display'],
        emotion: 'informative',
      },
      get_status: {
        text: 'All systems are operating normally.',
        confidence: 0.9,
        actions: ['status_report'],
        emotion: 'confident',
      },
      lock_system: {
        text: 'System security protocols activated.',
        confidence: 0.9,
        actions: ['security_lock'],
        emotion: 'serious',
      },
      emergency_stop: {
        text: 'Emergency procedures initiated immediately.',
        confidence: 1,
        actions: ['emergency_shutdown'],
        emotion: 'urgent',
      },
      unknown: {
        text: "I'm not sure I understand. Could you please rephrase that?",
        confidence: 0.3,
        actions: [],
        emotion: 'confused',
      },
    };
    return responses[intent] || responses.unknown;
  }
  // Synthesize speech
  synthesizeSpeech(text) {
    console.log(`\u{1F50A} Speaking: "${text}"`);
    this.voiceAssistant.processingState = 'responding';
    setTimeout2(() => {
      this.voiceAssistant.processingState = 'idle';
    }, 2e3);
  }
  // Stop speech
  stopSpeech() {
    console.log('\u{1F50A} Speech stopped');
    this.voiceAssistant.processingState = 'idle';
  }
  // Speak response
  speakResponse(text) {
    this.voiceSynthesizer.speak(text);
  }
  // Update voice UI
  updateVoiceUI() {}
  // Simulate voice input
  simulateVoiceInput() {
    if (Math.random() < 5e-3) {
      const sampleCommands = [
        'turn on the lights',
        'set temperature to 22 degrees',
        'show me the dashboard',
        "what's the system status",
        'start a meeting',
      ];
      const randomCommand = sampleCommands[Math.floor(Math.random() * sampleCommands.length)];
      this.processVoiceCommand(randomCommand);
    }
  }
  // Open voice settings
  openVoiceSettings() {
    console.log('\u2699\uFE0F Opening voice settings');
    soundSystem.playInteractionSound('click');
  }
  // Get command history
  getCommandHistory() {
    return [...this.commandHistory];
  }
  // Get voice assistant info
  getVoiceAssistant() {
    return { ...this.voiceAssistant };
  }
  // Set voice assistant personality
  setPersonality(personality) {
    this.voiceAssistant.personality = personality;
    console.log(`\u{1F3A4} Voice personality set to: ${personality}`);
  }
  // Set voice language
  setLanguage(language) {
    this.voiceAssistant.language = language;
    this.recognitionEngine.lang = language;
    console.log(`\u{1F3A4} Voice language set to: ${language}`);
  }
  // Enable/disable voice assistant
  setVoiceAssistantEnabled(enabled) {
    this.voiceAssistant.isActive = enabled;
    if (!enabled) {
      this.stopListening();
    }
    console.log(`\u{1F3A4} Voice assistant ${enabled ? 'enabled' : 'disabled'}`);
  }
  // Cleanup system
  cleanup() {
    this.stopListening();
    this.commands.clear();
    this.intents.clear();
    this.commandHistory = [];
    if (this.voiceUI) {
      engine.removeEntity(this.voiceUI);
    }
    this.isInitialized = false;
  }
};
var voiceCommandSystem = new VoiceCommandSystem();

// src/weather-system.ts
var WeatherSystem = class {
  // 1 real second = 1 game minute
  constructor() {
    this.celestialBodies = /* @__PURE__ */ new Map();
    this.weatherEffects = [];
    this.isInitialized = false;
    this.timeScale = 60;
    this.currentState = {
      type: 'clear',
      intensity: 0.3,
      temperature: 22,
      humidity: 45,
      windSpeed: 5,
      windDirection: Vector32.create(1, 0, 0),
    };
    this.currentTime = {
      hour: 12,
      minute: 0,
      dayProgress: 0.5,
    };
  }
  // Initialize weather system
  initialize() {
    console.log('\u{1F324}\uFE0F Weather System Initializing...');
    this.createSkyDome();
    this.createCelestialBodies();
    this.createWeatherEffects();
    this.startWeatherSimulation();
    this.startDayNightCycle();
    this.isInitialized = true;
    console.log('\u{1F324}\uFE0F Weather System Ready!');
  }
  // Create sky dome
  createSkyDome() {
    this.skyDome = engine.addEntity();
    Transform2.create(this.skyDome, {
      position: Vector32.create(8, 50, 8),
      scale: Vector32.create(100, 100, 100),
    });
    MeshRenderer3.setSphere(this.skyDome);
    this.updateSkyColor();
  }
  // Create sun and moon
  createCelestialBodies() {
    const sun = engine.addEntity();
    Transform2.create(sun, {
      position: Vector32.create(8, 30, 8),
      scale: Vector32.create(3, 3, 3),
    });
    MeshRenderer3.setSphere(sun);
    Material3.setPbrMaterial(sun, {
      albedoColor: Color42.create(1, 0.95, 0.8, 1),
      emissiveColor: Color42.create(1, 0.9, 0.6, 1),
      emissiveIntensity: 5,
    });
    this.celestialBodies.set('sun', {
      entity: sun,
      type: 'sun',
      basePosition: Vector32.create(8, 30, 8),
      orbitRadius: 40,
      orbitSpeed: 0.1,
      currentAngle: 0,
    });
    const moon = engine.addEntity();
    Transform2.create(moon, {
      position: Vector32.create(8, 30, 8),
      scale: Vector32.create(2, 2, 2),
    });
    MeshRenderer3.setSphere(moon);
    Material3.setPbrMaterial(moon, {
      albedoColor: Color42.create(0.9, 0.9, 1, 1),
      emissiveColor: Color42.create(0.6, 0.6, 0.8, 0.8),
      emissiveIntensity: 2,
    });
    this.celestialBodies.set('moon', {
      entity: moon,
      type: 'moon',
      basePosition: Vector32.create(8, 30, 8),
      orbitRadius: 40,
      orbitSpeed: 0.1,
      currentAngle: 180,
    });
  }
  // Create weather effects
  createWeatherEffects() {
    this.createRainEffect();
    this.createCloudSystem();
    this.createFogEffect();
    this.createSnowEffect();
  }
  // Create rain effect
  createRainEffect() {
    for (let i = 0; i < 100; i++) {
      const rainDrop = engine.addEntity();
      Transform2.create(rainDrop, {
        position: Vector32.create(Math.random() * 16, Math.random() * 20 + 10, Math.random() * 16),
        scale: Vector32.create(0.02, 0.2, 0.02),
      });
      MeshRenderer3.setBox(rainDrop);
      Material3.setPbrMaterial(rainDrop, {
        albedoColor: Color42.create(0.6, 0.7, 0.9, 0.7),
        emissiveColor: Color42.create(0.4, 0.5, 0.8, 0.5),
        emissiveIntensity: 1,
      });
      this.weatherEffects.push({
        entity: rainDrop,
        type: 'rain',
        velocity: Vector32.create(0, -8, 0),
      });
    }
  }
  // Create cloud system
  createCloudSystem() {
    for (let i = 0; i < 20; i++) {
      const cloud = engine.addEntity();
      Transform2.create(cloud, {
        position: Vector32.create(Math.random() * 16, Math.random() * 10 + 15, Math.random() * 16),
        scale: Vector32.create(
          Math.random() * 3 + 2,
          Math.random() * 1 + 0.5,
          Math.random() * 3 + 2
        ),
      });
      MeshRenderer3.setBox(cloud);
      Material3.setPbrMaterial(cloud, {
        albedoColor: Color42.create(0.9, 0.9, 0.9, 0.8),
        roughness: 0.8,
        metallic: 0.1,
      });
      this.weatherEffects.push({
        entity: cloud,
        type: 'cloud',
        velocity: Vector32.create((Math.random() - 0.5) * 0.5, 0, (Math.random() - 0.5) * 0.5),
      });
    }
  }
  // Create fog effect
  createFogEffect() {
    const fogVolume = engine.addEntity();
    Transform2.create(fogVolume, {
      position: Vector32.create(8, 2, 8),
      scale: Vector32.create(20, 4, 20),
    });
    MeshRenderer3.setBox(fogVolume);
    Material3.setPbrMaterial(fogVolume, {
      albedoColor: Color42.create(0.8, 0.8, 0.85, 0.3),
      emissiveColor: Color42.create(0.7, 0.7, 0.75, 0.2),
      emissiveIntensity: 0.5,
    });
    this.weatherEffects.push({
      entity: fogVolume,
      type: 'fog',
      velocity: Vector32.create(0, 0, 0),
    });
  }
  // Create snow effect
  createSnowEffect() {
    for (let i = 0; i < 50; i++) {
      const snowFlake = engine.addEntity();
      Transform2.create(snowFlake, {
        position: Vector32.create(Math.random() * 16, Math.random() * 20 + 10, Math.random() * 16),
        scale: Vector32.create(0.1, 0.1, 0.1),
      });
      MeshRenderer3.setSphere(snowFlake);
      Material3.setPbrMaterial(snowFlake, {
        albedoColor: Color42.create(1, 1, 1, 0.9),
        emissiveColor: Color42.create(0.8, 0.8, 1, 0.6),
        emissiveIntensity: 1,
      });
      this.weatherEffects.push({
        entity: snowFlake,
        type: 'snow',
        velocity: Vector32.create((Math.random() - 0.5) * 0.5, -1, (Math.random() - 0.5) * 0.5),
      });
    }
  }
  // Start weather simulation
  startWeatherSimulation() {
    engine.addSystem(() => {
      if (!this.isInitialized) return;
      this.updateWeatherEffects();
      this.simulateWeatherChanges();
    });
  }
  // Start day/night cycle
  startDayNightCycle() {
    engine.addSystem(() => {
      if (!this.isInitialized) return;
      this.updateTimeOfDay();
      this.updateCelestialBodies();
      this.updateSkyColor();
    });
  }
  // Update time of day
  updateTimeOfDay() {
    this.currentTime.minute += 1 / 60;
    if (this.currentTime.minute >= 60) {
      this.currentTime.minute = 0;
      this.currentTime.hour++;
      if (this.currentTime.hour >= 24) {
        this.currentTime.hour = 0;
      }
    }
    this.currentTime.dayProgress = (this.currentTime.hour * 60 + this.currentTime.minute) / 1440;
  }
  // Update celestial bodies positions
  updateCelestialBodies() {
    this.celestialBodies.forEach(body => {
      const angle = ((this.currentTime.dayProgress * 360 - 90) * Math.PI) / 180;
      const x = body.basePosition.x + Math.cos(angle) * body.orbitRadius;
      const y = body.basePosition.y + Math.sin(angle) * body.orbitRadius;
      const z = body.basePosition.z;
      const transform = Transform2.getMutable(body.entity);
      transform.position = Vector32.create(x, y, z);
      const isVisible = y > body.basePosition.y;
      transform.scale = isVisible
        ? Vector32.create(
            body.type === 'sun' ? 3 : 2,
            body.type === 'sun' ? 3 : 2,
            body.type === 'sun' ? 3 : 2
          )
        : Vector32.create(0, 0, 0);
    });
  }
  // Update sky color based on time and weather
  updateSkyColor() {
    const material = Material3.getMutable(this.skyDome);
    if (!material || material.$case !== 'pbr') return;
    let skyColor;
    const hour = this.currentTime.hour;
    if (hour >= 6 && hour < 12) {
      const progress = (hour - 6) / 6;
      skyColor = Color42.lerp(
        Color42.create(0.8, 0.6, 0.4, 1),
        // Dawn
        Color42.create(0.5, 0.7, 1, 1),
        // Day
        progress
      );
    } else if (hour >= 12 && hour < 18) {
      skyColor = Color42.create(0.5, 0.7, 1, 1);
    } else if (hour >= 18 && hour < 21) {
      const progress = (hour - 18) / 3;
      skyColor = Color42.lerp(
        Color42.create(0.5, 0.7, 1, 1),
        // Day
        Color42.create(0.2, 0.3, 0.6, 1),
        // Dusk
        progress
      );
    } else {
      skyColor = Color42.create(0.05, 0.05, 0.2, 1);
    }
    skyColor = this.applyWeatherToSkyColor(skyColor);
    material.pbr.albedoColor = skyColor;
    material.pbr.emissiveColor = Color42.create(
      skyColor.r * 0.3,
      skyColor.g * 0.3,
      skyColor.b * 0.3,
      1
    );
  }
  // Apply weather effects to sky color
  applyWeatherToSkyColor(baseColor) {
    switch (this.currentState.type) {
      case 'cloudy':
        return Color42.lerp(
          baseColor,
          Color42.create(0.6, 0.6, 0.6, 1),
          this.currentState.intensity * 0.7
        );
      case 'rainy':
      case 'stormy':
        return Color42.lerp(
          baseColor,
          Color42.create(0.3, 0.3, 0.4, 1),
          this.currentState.intensity * 0.8
        );
      case 'foggy':
        return Color42.lerp(
          baseColor,
          Color42.create(0.7, 0.7, 0.75, 1),
          this.currentState.intensity * 0.6
        );
      default:
        return baseColor;
    }
  }
  // Update weather effects
  updateWeatherEffects() {
    this.weatherEffects.forEach(effect => {
      const transform = Transform2.getMutable(effect.entity);
      transform.position = Vector32.add(transform.position, Vector32.scale(effect.velocity, 0.016));
      if (effect.type === 'rain' || effect.type === 'snow') {
        if (transform.position.y < 0) {
          transform.position.y = 30;
          transform.position.x = Math.random() * 16;
          transform.position.z = Math.random() * 16;
        }
      } else if (effect.type === 'cloud') {
        if (transform.position.x > 20) transform.position.x = -4;
        if (transform.position.x < -4) transform.position.x = 20;
        if (transform.position.z > 20) transform.position.z = -4;
        if (transform.position.z < -4) transform.position.z = 20;
      }
      const shouldBeVisible = this.isEffectVisible(effect.type);
      transform.scale = shouldBeVisible ? Vector32.create(1, 1, 1) : Vector32.create(0, 0, 0);
    });
  }
  // Check if effect should be visible
  isEffectVisible(effectType) {
    switch (effectType) {
      case 'rain':
        return this.currentState.type === 'rainy' || this.currentState.type === 'stormy';
      case 'cloud':
        return (
          this.currentState.type === 'cloudy' ||
          this.currentState.type === 'rainy' ||
          this.currentState.type === 'stormy'
        );
      case 'fog':
        return this.currentState.type === 'foggy';
      case 'snow':
        return this.currentState.type === 'snowy';
      default:
        return false;
    }
  }
  // Simulate weather changes
  simulateWeatherChanges() {
    if (Math.random() > 0.9995) {
      this.changeWeather();
    }
  }
  // Change weather
  changeWeather(newWeather) {
    if (newWeather) {
      this.currentState = { ...this.currentState, ...newWeather };
    } else {
      const weatherTypes = ['clear', 'cloudy', 'rainy', 'stormy', 'foggy'];
      this.currentState.type = weatherTypes[Math.floor(Math.random() * weatherTypes.length)];
      this.currentState.intensity = Math.random() * 0.8 + 0.2;
      this.currentState.temperature = 15 + Math.random() * 20;
      this.currentState.humidity = 30 + Math.random() * 60;
      this.currentState.windSpeed = Math.random() * 15;
    }
    console.log(
      `\u{1F324}\uFE0F Weather changed to: ${this.currentState.type} (intensity: ${this.currentState.intensity.toFixed(2)})`
    );
  }
  // Get current weather state
  getCurrentWeather() {
    return { ...this.currentState };
  }
  // Get current time
  getCurrentTime() {
    return { ...this.currentTime };
  }
  // Set time of day
  setTimeOfDay(hour, minute = 0) {
    this.currentTime.hour = Math.max(0, Math.min(23, hour));
    this.currentTime.minute = Math.max(0, Math.min(59, minute));
    this.currentTime.dayProgress = (this.currentTime.hour * 60 + this.currentTime.minute) / 1440;
  }
  // Set time scale
  setTimeScale(scale) {
    this.timeScale = Math.max(0.1, Math.min(1e3, scale));
  }
  // Get weather forecast
  getForecast() {
    const forecast = [];
    const baseWeather = { ...this.currentState };
    for (let i = 1; i <= 24; i++) {
      const hour = (this.currentTime.hour + i) % 24;
      let weatherType;
      if (hour >= 6 && hour < 12) {
        weatherType = Math.random() > 0.7 ? 'cloudy' : 'clear';
      } else if (hour >= 12 && hour < 18) {
        weatherType = Math.random() > 0.8 ? 'rainy' : 'clear';
      } else {
        weatherType = Math.random() > 0.6 ? 'clear' : 'cloudy';
      }
      forecast.push({
        ...baseWeather,
        type: weatherType,
        intensity: Math.random() * 0.8 + 0.2,
        temperature: baseWeather.temperature + (Math.random() - 0.5) * 10,
      });
    }
    return forecast;
  }
  // Cleanup system
  cleanup() {
    this.celestialBodies.forEach(body => {
      engine.removeEntity(body.entity);
    });
    this.celestialBodies.clear();
    this.weatherEffects.forEach(effect => {
      engine.removeEntity(effect.entity);
    });
    this.weatherEffects = [];
    if (this.skyDome) {
      engine.removeEntity(this.skyDome);
    }
    this.isInitialized = false;
  }
};
var weatherSystem = new WeatherSystem();

// src/enhanced-index.ts
function enhancedMain() {
  console.log(' Initializing AIGestion Enhanced Virtual Office...');
  soundSystem.initialize();
  lightingSystem.initialize();
  uiSystem.initialize();
  createEnhancedArchitecture();
  createEnhancedInteractables();
  console.log(' Core systems initialized - Starting advanced systems...');
  setTimeout2(() => {
    weatherSystem.initialize();
    multiplayerSystem.initialize();
    avatarSystem.initialize();
    smartRoomSystem.initialize();
  }, 100);
  setTimeout2(() => {
    gestureSystem.initialize();
    whiteboardSystem.initialize();
    voiceCommandSystem.initialize();
    blockchainSystem.initialize();
  }, 200);
  setTimeout2(() => {
    arIntegrationSystem.initialize();
    contentManagementSystem.initialize();
    physicsSystem.initialize();
    proceduralSystem.initialize();
  }, 300);
  setTimeout2(() => {
    emotionDetectionSystem.initialize();
    crossPlatformSyncSystem.initialize();
    analyticsDashboardSystem.initialize();
    hapticFeedbackSystem.initialize();
  }, 400);
  setTimeout2(() => {
    initializeNPCs();
    initializeDataVisualization();
    startRealTimeUpdates();
    createParticleEffects();
    console.log(' Enhanced Virtual Office Initialized Successfully!');
  }, 500);
}
var systemUpdateInterval;
var diagnosticsInterval;
var alertsInterval;
function startRealTimeUpdates() {
  if (systemUpdateInterval) clearInterval(systemUpdateInterval);
  if (diagnosticsInterval) clearInterval(diagnosticsInterval);
  if (alertsInterval) clearInterval(alertsInterval);
  systemUpdateInterval = setInterval2(async () => {
    try {
      const stats = await fetchEnhancedSystemStats();
      updateSystemStatus('AUTO_UPDATE', true);
      if (stats.systemHealth === 'CRITICAL') {
        updateAlert(' CRITICAL: System overload detected!', 'CRITICAL');
        soundSystem.playInteractionSound('alert');
      } else if (stats.systemHealth === 'WARNING') {
        updateAlert(' WARNING: High system load detected', 'WARNING');
        soundSystem.playInteractionSound('alert');
      } else {
        updateAlert(' All systems operating normally', 'INFO');
      }
      console.log(' System Stats Updated:', stats);
    } catch (error) {
      console.error(' Error updating system stats:', error);
    }
  }, 5e3);
  diagnosticsInterval = setInterval2(async () => {
    try {
      const diagnostics = await runSystemDiagnostics();
      console.log(' System Diagnostics:', diagnostics);
      if (diagnostics.overall === 'CRITICAL') {
        updateAlert(' CRITICAL SYSTEM FAILURE DETECTED!', 'CRITICAL');
        soundSystem.playInteractionSound('error');
      }
    } catch (error) {
      console.error(' Error running diagnostics:', error);
    }
  }, 2e4);
  alertsInterval = setInterval2(async () => {
    try {
      const alerts = await fetchAlertMessages();
      if (alerts.length > 0) {
        const latestAlert = alerts[alerts.length - 1];
        updateAlert(latestAlert.message, latestAlert.type);
      }
    } catch (error) {
      console.error(' Error fetching alerts:', error);
    }
  }, 1e4);
}
function initializeNPCs() {
  npcManager.createNPC('NEXUS', 'System Administrator', Vector32.create(4, 1, 4));
  npcManager.createNPC('DATA', 'Data Analyst', Vector32.create(12, 1, 4));
  npcManager.createNPC('GUARD', 'Security Expert', Vector32.create(8, 1, 12));
  console.log('\u{1F916} AI Assistants Initialized');
}
function initializeDataVisualization() {
  const mainWall = dataVizManager.createWall(
    'main',
    Vector32.create(8, 4, 0.5),
    Vector32.create(16, 8, 0.2)
  );
  mainWall.addChart('systemStatus', {
    type: 'bar',
    title: 'System Status',
    data: DataVisualizationManager.createSystemStatusData(),
    maxDataPoints: 10,
    updateInterval: 3e3,
  });
  mainWall.startDataStream('realtime', DataVisualizationManager.createRealtimeDataSource());
  console.log('\u{1F4CA} Data Visualization Initialized');
}
var particlePool = [];
var maxParticles = 50;
function createParticleEffects() {
  console.log('\u{1F3A8} Creating particle effects...');
  const particleCount = Math.min(10, maxParticles);
  for (let i = 0; i < particleCount; i++) {
    const particle = createParticle();
    animateParticle(particle);
    particlePool.push(particle);
  }
  const energyCount = Math.min(5, maxParticles - particleCount);
  for (let i = 0; i < energyCount; i++) {
    const energyParticle = createEnergyParticle();
    animateEnergyParticle(energyParticle);
    particlePool.push(energyParticle);
  }
  console.log(`\u2705 Created ${particleCount + energyCount} particles`);
}
function createParticle() {
  const particle = engine.addEntity();
  Transform2.create(particle, {
    position: Vector32.create(Math.random() * 16, Math.random() * 4 + 1, Math.random() * 16),
    scale: Vector32.create(0.1, 0.1, 0.1),
  });
  MeshRenderer3.setBox(particle);
  Material3.setPbrMaterial(particle, {
    albedoColor: Color42.create(0, 1, 0.8, 0.6),
    roughness: 0,
    metallic: 0.5,
    emissiveColor: Color42.create(0, 1, 0.8, 1),
    emissiveIntensity: 3,
  });
  return particle;
}
function createEnergyParticle() {
  const energyParticle = engine.addEntity();
  Transform2.create(energyParticle, {
    position: Vector32.create(
      8 + (Math.random() - 0.5) * 4,
      2 + Math.random() * 2,
      8 + (Math.random() - 0.5) * 4
    ),
    scale: Vector32.create(0.15, 0.15, 0.15),
  });
  MeshRenderer3.setBox(energyParticle);
  Material3.setPbrMaterial(energyParticle, {
    albedoColor: Color42.create(1, 0.8, 0.2, 0.7),
    roughness: 0.1,
    metallic: 0.8,
    emissiveColor: Color42.create(1, 0.8, 0.2, 1),
    emissiveIntensity: 5,
  });
  return energyParticle;
}
function animateParticle(particle) {
  console.log('\u26A0\uFE0F Particle animation disabled for performance');
  return;
}
function animateEnergyParticle(particle) {
  console.log('\u26A0\uFE0F Energy particle animation disabled for performance');
  return;
}
enhancedMain();

// src/index.ts
function main() {
  console.log('\u{1F680} Starting AIGestion Virtual Office...');
  enhancedMain();
}

// sdk-scripts:all-scripts
function initializeScripts(engine2) {}

// ../../node_modules/.pnpm/@dcl+sdk@7.17.0_@well-known-components+interfaces@1.5.2/node_modules/@dcl/sdk/index.js
var import_EngineApi2 = require('~system/EngineApi');

// ../../node_modules/.pnpm/@dcl+sdk@7.17.0_@well-known-components+interfaces@1.5.2/node_modules/@dcl/sdk/internal/transports/rendererTransport.js
function createRendererTransport(engineApi) {
  async function sendToRenderer(message) {
    const response = await engineApi.crdtSendToRenderer({
      data: new Uint8Array(message),
    });
    if (response && response.data && response.data.length) {
      if (rendererTransport2.onmessage) {
        for (const byteArray of response.data) {
          rendererTransport2.onmessage(byteArray);
        }
      }
    }
  }
  const rendererTransport2 = {
    async send(message) {
      try {
        await sendToRenderer(message);
      } catch (error) {
        console.error(error);
        debugger;
      }
    },
    filter(message) {
      if (
        // filter out messages for non-core components
        message.componentId > MAX_STATIC_COMPONENT
      ) {
        return false;
      }
      return !!message;
    },
    type: 'renderer',
  };
  return rendererTransport2;
}

// ../../node_modules/.pnpm/@dcl+sdk@7.17.0_@well-known-components+interfaces@1.5.2/node_modules/@dcl/sdk/internal/Observable.js
var ObserverEventState = class {
  /**
   * Create a new EventState
   * @param mask - defines the mask associated with this state
   * @param skipNextObservers - defines a flag which will instruct the observable to skip following observers when set to true
   * @param target - defines the original target of the state
   * @param currentTarget - defines the current target of the state
   */
  constructor(mask, skipNextObservers = false, target, currentTarget) {
    this.initalize(mask, skipNextObservers, target, currentTarget);
  }
  /**
   * Initialize the current event state
   * @param mask - defines the mask associated with this state
   * @param skipNextObservers - defines a flag which will instruct the observable to skip following observers when set to true
   * @param target - defines the original target of the state
   * @param currentTarget - defines the current target of the state
   * @returns the current event state
   */
  initalize(mask, skipNextObservers = false, target, currentTarget) {
    this.mask = mask;
    this.skipNextObservers = skipNextObservers;
    this.target = target;
    this.currentTarget = currentTarget;
    return this;
  }
};
var Observer = class {
  /**
   * Creates a new observer
   * @param callback - defines the callback to call when the observer is notified
   * @param mask - defines the mask of the observer (used to filter notifications)
   * @param scope - defines the current scope used to restore the JS context
   */
  constructor(callback, mask, scope = null) {
    this.callback = callback;
    this.mask = mask;
    this.scope = scope;
    this.unregisterOnNextCall = false;
    this._willBeUnregistered = false;
  }
};
var Observable = class _Observable {
  /**
   * Creates a new observable
   * @param onObserverAdded - defines a callback to call when a new observer is added
   */
  constructor(onObserverAdded) {
    this._observers = new Array();
    this._onObserverAdded = null;
    this._eventState = new ObserverEventState(0);
    if (onObserverAdded) {
      this._onObserverAdded = onObserverAdded;
    }
  }
  /**
   * Create a new Observer with the specified callback
   * @param callback - the callback that will be executed for that Observer
   * @param mask - the mask used to filter observers
   * @param insertFirst - if true the callback will be inserted at the first position, hence executed before the others ones. If false (default behavior) the callback will be inserted at the last position, executed after all the others already present.
   * @param scope - optional scope for the callback to be called from
   * @param unregisterOnFirstCall - defines if the observer as to be unregistered after the next notification
   * @returns the new observer created for the callback
   */
  add(callback, mask = -1, insertFirst = false, scope = null, unregisterOnFirstCall = false) {
    if (!callback) {
      return null;
    }
    const observer = new Observer(callback, mask, scope);
    observer.unregisterOnNextCall = unregisterOnFirstCall;
    if (insertFirst) {
      this._observers.unshift(observer);
    } else {
      this._observers.push(observer);
    }
    if (this._onObserverAdded) {
      this._onObserverAdded(observer);
    }
    return observer;
  }
  /**
   * Create a new Observer with the specified callback and unregisters after the next notification
   * @param callback - the callback that will be executed for that Observer
   * @returns the new observer created for the callback
   */
  addOnce(callback) {
    return this.add(callback, void 0, void 0, void 0, true);
  }
  /**
   * Remove an Observer from the Observable object
   * @param observer - the instance of the Observer to remove
   * @returns false if it doesn't belong to this Observable
   */
  remove(observer) {
    if (!observer) {
      return false;
    }
    const index = this._observers.indexOf(observer);
    if (index !== -1) {
      this._deferUnregister(observer);
      return true;
    }
    return false;
  }
  /**
   * Remove a callback from the Observable object
   * @param callback - the callback to remove
   * @param scope - optional scope. If used only the callbacks with this scope will be removed
   * @returns false if it doesn't belong to this Observable
   */
  removeCallback(callback, scope) {
    for (let index = 0; index < this._observers.length; index++) {
      if (
        this._observers[index].callback === callback &&
        (!scope || scope === this._observers[index].scope)
      ) {
        this._deferUnregister(this._observers[index]);
        return true;
      }
    }
    return false;
  }
  /**
   * Notify all Observers by calling their respective callback with the given data
   * Will return true if all observers were executed, false if an observer set skipNextObservers to true, then prevent the subsequent ones to execute
   * @param eventData - defines the data to send to all observers
   * @param mask - defines the mask of the current notification (observers with incompatible mask (ie mask & observer.mask === 0) will not be notified)
   * @param target - defines the original target of the state
   * @param currentTarget - defines the current target of the state
   * @returns false if the complete observer chain was not processed (because one observer set the skipNextObservers to true)
   */
  notifyObservers(eventData, mask = -1, target, currentTarget) {
    if (!this._observers.length) {
      return true;
    }
    const state = this._eventState;
    state.mask = mask;
    state.target = target;
    state.currentTarget = currentTarget;
    state.skipNextObservers = false;
    state.lastReturnValue = eventData;
    for (const obs of this._observers) {
      if (obs._willBeUnregistered) {
        continue;
      }
      if (obs.mask & mask) {
        if (obs.scope) {
          state.lastReturnValue = obs.callback.apply(obs.scope, [eventData, state]);
        } else {
          state.lastReturnValue = obs.callback(eventData, state);
        }
        if (obs.unregisterOnNextCall) {
          this._deferUnregister(obs);
        }
      }
      if (state.skipNextObservers) {
        return false;
      }
    }
    return true;
  }
  /**
   * Calling this will execute each callback, expecting it to be a promise or return a value.
   * If at any point in the chain one function fails, the promise will fail and the execution will not continue.
   * This is useful when a chain of events (sometimes async events) is needed to initialize a certain object
   * and it is crucial that all callbacks will be executed.
   * The order of the callbacks is kept, callbacks are not executed parallel.
   *
   * @param eventData - The data to be sent to each callback
   * @param mask - is used to filter observers defaults to -1
   * @param target - defines the callback target (see EventState)
   * @param currentTarget - defines he current object in the bubbling phase
   * @returns will return a Promise than resolves when all callbacks executed successfully.
   */
  notifyObserversWithPromise(eventData, mask = -1, target, currentTarget) {
    let p = Promise.resolve(eventData);
    if (!this._observers.length) {
      return p;
    }
    const state = this._eventState;
    state.mask = mask;
    state.target = target;
    state.currentTarget = currentTarget;
    state.skipNextObservers = false;
    this._observers.forEach(obs => {
      if (state.skipNextObservers) {
        return;
      }
      if (obs._willBeUnregistered) {
        return;
      }
      if (obs.mask & mask) {
        if (obs.scope) {
          p = p.then(lastReturnedValue => {
            state.lastReturnValue = lastReturnedValue;
            return obs.callback.apply(obs.scope, [eventData, state]);
          });
        } else {
          p = p.then(lastReturnedValue => {
            state.lastReturnValue = lastReturnedValue;
            return obs.callback(eventData, state);
          });
        }
        if (obs.unregisterOnNextCall) {
          this._deferUnregister(obs);
        }
      }
    });
    return p.then(() => {
      return eventData;
    });
  }
  /**
   * Notify a specific observer
   * @param observer - defines the observer to notify
   * @param eventData - defines the data to be sent to each callback
   * @param mask - is used to filter observers defaults to -1
   */
  notifyObserver(observer, eventData, mask = -1) {
    const state = this._eventState;
    state.mask = mask;
    state.skipNextObservers = false;
    observer.callback(eventData, state);
  }
  /**
   * Gets a boolean indicating if the observable has at least one observer
   * @returns true is the Observable has at least one Observer registered
   */
  hasObservers() {
    return this._observers.length > 0;
  }
  /**
   * Clear the list of observers
   */
  clear() {
    this._observers = new Array();
    this._onObserverAdded = null;
  }
  /**
   * Clone the current observable
   * @returns a new observable
   */
  clone() {
    const result = new _Observable();
    result._observers = this._observers.slice(0);
    return result;
  }
  /**
   * Does this observable handles observer registered with a given mask
   * @param mask - defines the mask to be tested
   * @returns whether or not one observer registered with the given mask is handeled
   */
  hasSpecificMask(mask = -1) {
    for (const obs of this._observers) {
      if (obs.mask & mask || obs.mask === mask) {
        return true;
      }
    }
    return false;
  }
  _deferUnregister(observer) {
    observer.unregisterOnNextCall = false;
    observer._willBeUnregistered = true;
    Promise.resolve()
      .then.bind(Promise.resolve())(async () => this._remove(observer))
      .catch(console.error);
  }
  // This should only be called when not iterating over _observers to avoid callback skipping.
  // Removes an observer from the _observer Array.
  _remove(observer) {
    if (!observer) {
      return false;
    }
    const index = this._observers.indexOf(observer);
    if (index !== -1) {
      this._observers.splice(index, 1);
      return true;
    }
    return false;
  }
};

// ../../node_modules/.pnpm/@dcl+sdk@7.17.0_@well-known-components+interfaces@1.5.2/node_modules/@dcl/sdk/observables.js
var import_EngineApi = require('~system/EngineApi');

// ../../node_modules/.pnpm/@dcl+sdk@7.17.0_@well-known-components+interfaces@1.5.2/node_modules/@dcl/sdk/players/index.js
function definePlayerHelper(engine2) {
  const Transform3 = Transform(engine2);
  const PlayerIdentityData3 = PlayerIdentityData(engine2);
  const AvatarEquippedData3 = AvatarEquippedData(engine2);
  const AvatarBase3 = AvatarBase(engine2);
  const playerEntities = /* @__PURE__ */ new Map();
  const onEnterSceneCb = [];
  const onLeaveSceneCb = [];
  engine2.addSystem(() => {
    const players2 = Array.from(engine2.getEntitiesWith(PlayerIdentityData3, AvatarBase3));
    if (players2.length === playerEntities.size) return;
    for (const [entity, identity] of players2) {
      if (!playerEntities.has(entity)) {
        playerEntities.set(entity, identity.address);
        if (onEnterSceneCb.length) {
          onEnterSceneCb.forEach(cb => cb(getPlayer({ userId: identity.address })));
        }
        AvatarBase3.onChange(entity, value => {
          if (!value && playerEntities.get(entity)) {
            onLeaveSceneCb.forEach(cb => cb(playerEntities.get(entity)));
            playerEntities.delete(entity);
          }
        });
      }
    }
  });
  return {
    onEnterScene(cb) {
      onEnterSceneCb.push(cb);
    },
    onLeaveScene(cb) {
      onLeaveSceneCb.push(cb);
    },
    /**
     * Returns the info of the player if it's in the scene.
     */
    getPlayer(user) {
      function getEntity() {
        if (!user?.userId) return engine2.PlayerEntity;
        for (const [entity, data] of engine2.getEntitiesWith(PlayerIdentityData3)) {
          if (data.address === user.userId) {
            return entity;
          }
        }
        return void 0;
      }
      const userEntity = getEntity();
      if (!userEntity) return null;
      const playerData = PlayerIdentityData3.getOrNull(userEntity);
      const avatarData = AvatarBase3.getOrNull(userEntity);
      const wearablesData = AvatarEquippedData3.getOrNull(userEntity);
      if (!playerData && !avatarData && !wearablesData) return null;
      return {
        entity: userEntity,
        name: avatarData?.name ?? '',
        isGuest: !!playerData?.isGuest,
        userId: playerData?.address ?? '',
        avatar: avatarData ?? void 0,
        wearables: wearablesData?.wearableUrns ?? [],
        emotes: wearablesData?.emoteUrns ?? [],
        position: Transform3.getOrNull(userEntity)?.position,
      };
    },
  };
}
var players = definePlayerHelper(engine);
var { getPlayer, onEnterScene, onLeaveScene } = players;
var players_default = players;

// ../../node_modules/.pnpm/@dcl+sdk@7.17.0_@well-known-components+interfaces@1.5.2/node_modules/@dcl/sdk/observables.js
function createSubscriber(eventName) {
  return () => {
    if (eventName === 'comms') {
      (0, import_EngineApi.subscribe)({ eventId: eventName }).catch(console.error);
    } else {
      SDK7ComponentsObservable?.subscribe(eventName);
    }
  };
}
var onEnterSceneObservable = new Observable(createSubscriber('onEnterScene'));
var onLeaveSceneObservable = new Observable(createSubscriber('onLeaveScene'));
var onSceneReadyObservable = new Observable(createSubscriber('sceneStart'));
var onPlayerExpressionObservable = new Observable(createSubscriber('playerExpression'));
var onVideoEvent = new Observable(createSubscriber('videoEvent'));
var onProfileChanged = new Observable(createSubscriber('profileChanged'));
var onPlayerConnectedObservable = new Observable(createSubscriber('playerConnected'));
var onPlayerDisconnectedObservable = new Observable(createSubscriber('playerDisconnected'));
var onRealmChangedObservable = new Observable(createSubscriber('onRealmChanged'));
var onPlayerClickedObservable = new Observable(createSubscriber('playerClicked'));
var onCommsMessage = new Observable(createSubscriber('comms'));
async function pollEvents(sendBatch2) {
  const { events } = await sendBatch2({ actions: [] });
  for (const e of events) {
    if (e.generic) {
      const data = JSON.parse(e.generic.eventData);
      switch (e.generic.eventId) {
        case 'comms': {
          onCommsMessage.notifyObservers(data);
          break;
        }
      }
    }
  }
}
var SDK7ComponentsObservable = processObservables();
function processObservables() {
  const subscriptions = /* @__PURE__ */ new Set();
  function subscribe2(eventName) {
    if (subscriptions.has(eventName)) return;
    switch (eventName) {
      case 'playerClicked': {
        subscribePlayerClick();
      }
      case 'onEnterScene':
      case 'playerConnected': {
        subscribeEnterScene();
      }
      case 'onLeaveScene':
      case 'playerDisconnected': {
        subscribeLeaveScene();
      }
      case 'onRealmChanged': {
        subscribeRealmChange();
      }
      case 'playerExpression': {
        subscribePlayerExpression();
      }
      case 'profileChanged': {
        subscribeProfileChange();
      }
    }
    subscriptions.add(eventName);
  }
  function subscribeEnterScene() {
    players_default.onEnterScene(player => {
      if (subscriptions.has('onEnterScene')) {
        onEnterSceneObservable.notifyObservers({ userId: player.userId });
      }
      if (subscriptions.has('playerConnected')) {
        onPlayerConnectedObservable.notifyObservers({ userId: player.userId });
      }
    });
  }
  function subscribeLeaveScene() {
    players_default.onLeaveScene(userId => {
      if (subscriptions.has('onLeaveScene')) {
        onLeaveSceneObservable.notifyObservers({ userId });
      }
      if (subscriptions.has('playerDisconnected')) {
        onPlayerDisconnectedObservable.notifyObservers({ userId });
      }
    });
  }
  function subscribeRealmChange() {
    RealmInfo2.onChange(engine.RootEntity, value => {
      if (value) {
        onRealmChangedObservable.notifyObservers({
          domain: value.baseUrl,
          displayName: value.realmName,
          room: value.room ?? '',
          serverName: value.realmName,
        });
      }
    });
  }
  function subscribePlayerClick() {
    const playerEntities = /* @__PURE__ */ new Set();
    engine.addSystem(() => {
      for (const [entity] of engine.getEntitiesWith(PlayerIdentityData2)) {
        if (playerEntities.has(entity)) return;
        playerEntities.add(entity);
        PointerEventsResult2.onChange(entity, data => {
          if (data?.hit) {
            onPlayerClickedObservable.notifyObservers({
              userId: PlayerIdentityData2.getOrNull(entity)?.address ?? '',
              ray: {
                direction: data.hit.direction,
                distance: data.hit.length,
                origin: data.hit.globalOrigin,
              },
            });
          }
        });
      }
    });
  }
  function subscribePlayerExpression() {
    AvatarEmoteCommand2.onChange(engine.PlayerEntity, value => {
      onPlayerExpressionObservable.notifyObservers({ expressionId: value?.emoteUrn ?? '' });
    });
  }
  function subscribeProfileChange() {
    AvatarBase2.onChange(engine.PlayerEntity, () => {
      if (!profileAddress) return;
      onProfileChanged.notifyObservers({ ethAddress: profileAddress, version: 0 });
    });
    AvatarEquippedData2.onChange(engine.PlayerEntity, () => {
      if (!profileAddress) return;
      onProfileChanged.notifyObservers({ ethAddress: profileAddress, version: 0 });
    });
  }
  let sceneReady = false;
  let profileAddress;
  function observableSystem() {
    if (sceneReady && profileAddress) {
      return engine.removeSystem(observableSystem);
    }
    if (!sceneReady) {
      sceneReady = true;
      onSceneReadyObservable.notifyObservers({});
    }
    if (profileAddress) return;
    profileAddress = PlayerIdentityData2.getOrNull(engine.PlayerEntity)?.address;
  }
  engine.addSystem(observableSystem);
  return { subscribe: subscribe2 };
}

// sdk-composite:all-composites
var compositeFromLoader = {};

// ../../node_modules/.pnpm/@dcl+sdk@7.17.0_@well-known-components+interfaces@1.5.2/node_modules/@dcl/sdk/composite-provider.js
var composites = [];
var compositeProvider = {
  getCompositeOrNull(src, _currentPath) {
    const fromLoader = compositeFromLoader[src];
    if (fromLoader) {
      try {
        if (fromLoader instanceof Uint8Array) {
          const composite = Composite.fromBinary(fromLoader);
          composites.push({ src, composite });
        } else if (typeof fromLoader === 'string') {
          const composite = Composite.fromJson(JSON.parse(fromLoader));
          composites.push({ src, composite });
        } else if (typeof fromLoader === 'object') {
          const composite = Composite.fromJson(fromLoader);
          composites.push({ src, composite });
        }
      } catch (err) {
        console.error(err);
      }
      delete compositeFromLoader[src];
    }
    return composites.find(item => item.src === src) || null;
  },
};

// ../../node_modules/.pnpm/@dcl+sdk@7.17.0_@well-known-components+interfaces@1.5.2/node_modules/@dcl/sdk/index.js
var rendererTransport = createRendererTransport({
  crdtSendToRenderer: import_EngineApi2.crdtSendToRenderer,
});
engine.addTransport(rendererTransport);
async function onUpdate(deltaTime) {
  engine.seal();
  await engine.update(deltaTime);
  await pollEvents(import_EngineApi2.sendBatch);
}
async function onStart() {
  const response = await (0, import_EngineApi2.crdtGetState)({ data: new Uint8Array() });
  if (!response.hasEntities) {
    const mainComposite = compositeProvider.getCompositeOrNull('main.composite');
    if (mainComposite) {
      try {
        Composite.instance(engine, mainComposite, compositeProvider);
      } catch (err) {
        console.log(`Warning: main.composite couldn't be instanced.`);
        console.error(err);
      }
    }
  }
  if (rendererTransport.onmessage) {
    if (response && response.data && response.data.length) {
      for (const byteArray of response.data) {
        rendererTransport.onmessage(byteArray);
      }
    }
  }
}

// src/index.ts.entry-point.ts
if (main !== void 0) {
  let _INTERNAL_startup_system = function () {
    try {
      const maybePromise = main();
      if (
        maybePromise &&
        typeof maybePromise === 'object' &&
        typeof maybePromise.then === 'function'
      ) {
        maybePromise.catch(console.error);
      }
      initializeScripts(engine);
    } catch (e) {
      console.error(e);
    } finally {
      engine.removeSystem(_INTERNAL_startup_system);
    }
  };
  engine.addSystem(_INTERNAL_startup_system, Infinity);
}
/*! Bundled license information:

long/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bwcm90b2J1ZmpzK2FzcHJvbWlzZUAxLjEuMi9ub2RlX21vZHVsZXMvQHByb3RvYnVmanMvYXNwcm9taXNlL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcHJvdG9idWZqcytiYXNlNjRAMS4xLjIvbm9kZV9tb2R1bGVzL0Bwcm90b2J1ZmpzL2Jhc2U2NC9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHByb3RvYnVmanMrZXZlbnRlbWl0dGVyQDEuMS4wL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy9ldmVudGVtaXR0ZXIvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bwcm90b2J1ZmpzK2Zsb2F0QDEuMC4yL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy9mbG9hdC9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHByb3RvYnVmanMraW5xdWlyZUAxLjEuMC9ub2RlX21vZHVsZXMvQHByb3RvYnVmanMvaW5xdWlyZS9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHByb3RvYnVmanMrdXRmOEAxLjEuMC9ub2RlX21vZHVsZXMvQHByb3RvYnVmanMvdXRmOC9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHByb3RvYnVmanMrcG9vbEAxLjEuMC9ub2RlX21vZHVsZXMvQHByb3RvYnVmanMvcG9vbC9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcHJvdG9idWZqc0A3LjIuNC9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvdXRpbC9sb25nYml0cy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcHJvdG9idWZqc0A3LjIuNC9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvdXRpbC9taW5pbWFsLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9wcm90b2J1ZmpzQDcuMi40L25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy93cml0ZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Byb3RvYnVmanNANy4yLjQvbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvc3JjL3dyaXRlcl9idWZmZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Byb3RvYnVmanNANy4yLjQvbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvc3JjL3JlYWRlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcHJvdG9idWZqc0A3LjIuNC9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvcmVhZGVyX2J1ZmZlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcHJvdG9idWZqc0A3LjIuNC9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvcnBjL3NlcnZpY2UuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Byb3RvYnVmanNANy4yLjQvbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvc3JjL3JwYy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcHJvdG9idWZqc0A3LjIuNC9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvcm9vdHMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Byb3RvYnVmanNANy4yLjQvbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvc3JjL2luZGV4LW1pbmltYWwuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Byb3RvYnVmanNANy4yLjQvbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvbWluaW1hbC5qcyIsICJzcmMvaW5kZXgudHMuZW50cnktcG9pbnQudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYW5pbWF0b3IuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvQW5pbWF0b3IuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F1ZGlvX2V2ZW50Lmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL0F1ZGlvRXZlbnQuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F1ZGlvX3NvdXJjZS5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9BdWRpb1NvdXJjZS5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXVkaW9fc3RyZWFtLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL0F1ZGlvU3RyZWFtLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdmF0YXJfYXR0YWNoLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL0F2YXRhckF0dGFjaC5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXZhdGFyX2Jhc2UuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL2NvbW1vbi9jb2xvcnMuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvQXZhdGFyQmFzZS5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXZhdGFyX2Vtb3RlX2NvbW1hbmQuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvQXZhdGFyRW1vdGVDb21tYW5kLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdmF0YXJfZXF1aXBwZWRfZGF0YS5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9BdmF0YXJFcXVpcHBlZERhdGEuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F2YXRhcl9tb2RpZmllcl9hcmVhLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9jb21tb24vdmVjdG9ycy5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9BdmF0YXJNb2RpZmllckFyZWEuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb25nQDUuMy4yL25vZGVfbW9kdWxlcy9sb25nL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F2YXRhcl9zaGFwZS5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9BdmF0YXJTaGFwZS5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYmlsbGJvYXJkLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL0JpbGxib2FyZC5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvY2FtZXJhX21vZGUuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvQ2FtZXJhTW9kZS5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvY2FtZXJhX21vZGVfYXJlYS5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9DYW1lcmFNb2RlQXJlYS5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvZW5naW5lX2luZm8uZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvRW5naW5lSW5mby5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvZ2x0Zl9jb250YWluZXIuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvR2x0ZkNvbnRhaW5lci5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvZ2x0Zl9jb250YWluZXJfbG9hZGluZ19zdGF0ZS5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9HbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9nbHRmX25vZGVfbW9kaWZpZXJzLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9tYXRlcmlhbC5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvY29tbW9uL3RleHR1cmUuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvR2x0Zk5vZGVNb2RpZmllcnMuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2lucHV0X21vZGlmaWVyLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL0lucHV0TW9kaWZpZXIuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2xpZ2h0X3NvdXJjZS5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9MaWdodFNvdXJjZS5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvbWFpbl9jYW1lcmEuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvTWFpbkNhbWVyYS5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9NYXRlcmlhbC5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvbWVzaF9jb2xsaWRlci5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9NZXNoQ29sbGlkZXIuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL21lc2hfcmVuZGVyZXIuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvTWVzaFJlbmRlcmVyLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9uZnRfc2hhcGUuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvTmZ0U2hhcGUuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3BsYXllcl9pZGVudGl0eV9kYXRhLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1BsYXllcklkZW50aXR5RGF0YS5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcG9pbnRlcl9ldmVudHMuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvUG9pbnRlckV2ZW50cy5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcG9pbnRlcl9ldmVudHNfcmVzdWx0Lmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9jb21tb24vcmF5Y2FzdF9oaXQuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvUG9pbnRlckV2ZW50c1Jlc3VsdC5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcG9pbnRlcl9sb2NrLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1BvaW50ZXJMb2NrLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9wcmltYXJ5X3BvaW50ZXJfaW5mby5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9QcmltYXJ5UG9pbnRlckluZm8uZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3JheWNhc3QuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvUmF5Y2FzdC5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcmF5Y2FzdF9yZXN1bHQuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvUmF5Y2FzdFJlc3VsdC5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcmVhbG1faW5mby5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9SZWFsbUluZm8uZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3NreWJveF90aW1lLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1NreWJveFRpbWUuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3RleHRfc2hhcGUuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVGV4dFNoYXBlLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy90cmlnZ2VyX2FyZWEuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVHJpZ2dlckFyZWEuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3RyaWdnZXJfYXJlYV9yZXN1bHQuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVHJpZ2dlckFyZWFSZXN1bHQuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3R3ZWVuLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1R3ZWVuLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy90d2Vlbl9zZXF1ZW5jZS5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9Ud2VlblNlcXVlbmNlLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy90d2Vlbl9zdGF0ZS5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9Ud2VlblN0YXRlLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9iYWNrZ3JvdW5kLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9jb21tb24vYm9yZGVyX3JlY3QuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVWlCYWNrZ3JvdW5kLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9jYW52YXNfaW5mb3JtYXRpb24uZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVWlDYW52YXNJbmZvcm1hdGlvbi5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfZHJvcGRvd24uZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVWlEcm9wZG93bi5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfZHJvcGRvd25fcmVzdWx0Lmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1VpRHJvcGRvd25SZXN1bHQuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX2lucHV0Lmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1VpSW5wdXQuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX2lucHV0X3Jlc3VsdC5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9VaUlucHV0UmVzdWx0Lmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV90ZXh0Lmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1VpVGV4dC5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfdHJhbnNmb3JtLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1VpVHJhbnNmb3JtLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy92aWRlb19ldmVudC5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9WaWRlb0V2ZW50Lmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy92aWRlb19wbGF5ZXIuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVmlkZW9QbGF5ZXIuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3ZpcnR1YWxfY2FtZXJhLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9jb21tb24vY2FtZXJhX3RyYW5zaXRpb24uZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVmlydHVhbENhbWVyYS5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdmlzaWJpbGl0eV9jb21wb25lbnQuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVmlzaWJpbGl0eUNvbXBvbmVudC5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9pbmRleC5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2V4dGVuZGVkL0F1ZGlvU291cmNlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9leHRlbmRlZC9NYXRlcmlhbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZXh0ZW5kZWQvTWVzaENvbGxpZGVyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9leHRlbmRlZC9NZXNoUmVuZGVyZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2V4dGVuZGVkL1R3ZWVuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2NoZW1hcy9BcnJheS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvYmFzaWMvQm9vbGVhbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvYmFzaWMvSW50ZWdlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvYmFzaWMvU3RyaW5nLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2NoZW1hcy9iYXNpYy9FbnVtLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2NoZW1hcy9iYXNpYy9GbG9hdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvY3VzdG9tL0NvbG9yMy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvY3VzdG9tL0NvbG9yNC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvY3VzdG9tL0VudGl0eS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvY3VzdG9tL1F1YXRlcm5pb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zY2hlbWFzL2N1c3RvbS9WZWN0b3IzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2NoZW1hcy9NYXAuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zY2hlbWFzL09wdGlvbmFsLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2NoZW1hcy9PbmVPZi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvYnVpbGRTY2hlbWEvdXRpbHMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zY2hlbWFzL2J1aWxkU2NoZW1hL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2NoZW1hcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvbWFudWFsL05hbWUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL21hbnVhbC9OZXR3b3JrRW50aXR5LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9tYW51YWwvTmV0d29ya1BhcmVudC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvbWFudWFsL1RyYW5zZm9ybS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9jb21tb24vbWVkaWFfc3RhdGUuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9tYW51YWwvVGFncy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9jb21wb25lbnQtbmFtZXMuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9jb21wb25lbnQtbnVtYmVyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvcnVudGltZS9jcmMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9ydW50aW1lL2ludmFyaWFudC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3N5c3RlbXMvY3JkdC9nc2V0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvZW5naW5lL2VudGl0eS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NlcmlhbGl6YXRpb24vQnl0ZUJ1ZmZlci9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NlcmlhbGl6YXRpb24vY3JkdC90eXBlcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NlcmlhbGl6YXRpb24vY3JkdC9jcmR0TWVzc2FnZVByb3RvY29sLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2VyaWFsaXphdGlvbi9jcmR0L2RlbGV0ZUNvbXBvbmVudC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NlcmlhbGl6YXRpb24vY3JkdC9hcHBlbmRWYWx1ZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NlcmlhbGl6YXRpb24vY3JkdC9kZWxldGVFbnRpdHkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zZXJpYWxpemF0aW9uL2NyZHQvcHV0Q29tcG9uZW50LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2VyaWFsaXphdGlvbi9jcmR0L25ldHdvcmsvcHV0Q29tcG9uZW50TmV0d29yay5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NlcmlhbGl6YXRpb24vY3JkdC9uZXR3b3JrL2RlbGV0ZUNvbXBvbmVudE5ldHdvcmsuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zZXJpYWxpemF0aW9uL2NyZHQvbmV0d29yay9kZWxldGVFbnRpdHlOZXR3b3JrLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2VyaWFsaXphdGlvbi9jcmR0L25ldHdvcmsvdXRpbHMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zeXN0ZW1zL2NyZHQvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zeXN0ZW1zL2NyZHQvdXRpbHMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9lbmdpbmUvcmVhZG9ubHkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9lbmdpbmUvbHd3LWVsZW1lbnQtc2V0LWNvbXBvbmVudC1kZWZpbml0aW9uLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvZW5naW5lL3N5c3RlbXMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9lbmdpbmUvZ3Jvdy1vbmx5LXZhbHVlLXNldC1jb21wb25lbnQtZGVmaW5pdGlvbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3J1bnRpbWUvaGVscGVycy90cmVlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvZW5naW5lL2lucHV0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvZW5naW5lL2NvbXBvbmVudC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2VuZ2luZS9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3N5c3RlbXMvZXZlbnRzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc3lzdGVtcy90d2Vlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3N5c3RlbXMvcG9pbnRlci1ldmVudC1jb2xsaWRlci1jaGVja2VyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvcnVudGltZS9pbml0aWFsaXphdGlvbi9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL2dsb2JhbC5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvY29tbW9uL2NhbWVyYV90eXBlLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9jb21tb24vaW5wdXRfYWN0aW9uLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9jb21tb24vbG9hZGluZ19zdGF0ZS5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvY29tbW9uL3RleHRzLmdlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3NANy4xNy4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvc2l0ZS9jb21wb25lbnRzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9zaXRlL3BhdGguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb3NpdGUvaW5zdGFuY2UuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb3NpdGUvcHJvdG8vZ2VuL2NvbXBvc2l0ZS5nZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzQDcuMTcuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb3NpdGUvcHJvdG8vZ2VuL2dvb2dsZS9wcm90b2J1Zi9zdHJ1Y3QuZ2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9zaXRlL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjc0A3LjE3LjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzLW1hdGhAMi4xLjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzLW1hdGgvZGlzdC90eXBlcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3MtbWF0aEAyLjEuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MtbWF0aC9kaXN0L1NjYWxhci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3MtbWF0aEAyLjEuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MtbWF0aC9kaXN0L1ZlY3RvcjMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzLW1hdGhAMi4xLjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzLW1hdGgvZGlzdC9QbGFuZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3MtbWF0aEAyLjEuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MtbWF0aC9kaXN0L01hdHJpeC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtlY3MtbWF0aEAyLjEuMC9ub2RlX21vZHVsZXMvQGRjbC9lY3MtbWF0aC9kaXN0L1F1YXRlcm5pb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrZWNzLW1hdGhAMi4xLjAvbm9kZV9tb2R1bGVzL0BkY2wvZWNzLW1hdGgvZGlzdC9WZWN0b3IyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjcy1tYXRoQDIuMS4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy1tYXRoL2Rpc3QvQ29sb3I0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK2Vjcy1tYXRoQDIuMS4wL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy1tYXRoL2Rpc3QvQ29sb3IzLmpzIiwgInNyYy91dGlscy90aW1lcnMudHMiLCAic3JjL2FkdmFuY2VkLWxpZ2h0aW5nLnRzIiwgInNyYy9lbmhhbmNlZC1zb3VuZC50cyIsICJzcmMvYWktbnBjLXN5c3RlbS50cyIsICJzcmMvYW5hbHl0aWNzLWRhc2hib2FyZC50cyIsICJzcmMvYXItaW50ZWdyYXRpb24udHMiLCAic3JjL2F2YXRhci1zeXN0ZW0udHMiLCAic3JjL2Jsb2NrY2hhaW4taW50ZWdyYXRpb24udHMiLCAic3JjL2NvbGxhYm9yYXRpb24td2hpdGVib2FyZC50cyIsICJzcmMvY29udGVudC1tYW5hZ2VtZW50LnRzIiwgInNyYy9jcm9zcy1wbGF0Zm9ybS1zeW5jLnRzIiwgInNyYy9lbW90aW9uLWRldGVjdGlvbi50cyIsICJzcmMvZW5oYW5jZWQtYXJjaGl0ZWN0dXJlLnRzIiwgInNyYy9lbmhhbmNlZC1pbnRlcmFjdGFibGVzLnRzIiwgInNyYy9lbmhhbmNlZC1uZXR3b3JrLnRzIiwgInNyYy9nZXN0dXJlLXJlY29nbml0aW9uLnRzIiwgInNyYy9oYXB0aWMtZmVlZGJhY2sudHMiLCAic3JjL2hvbG9ncmFwaGljLWRhdGEtd2FsbHMudHMiLCAic3JjL211bHRpcGxheWVyLXN5c3RlbS50cyIsICJzcmMvcGh5c2ljcy1pbnRlcmFjdGlvbi50cyIsICJzcmMvcHJvY2VkdXJhbC1nZW5lcmF0aW9uLnRzIiwgInNyYy9yZXNwb25zaXZlLXVpLXN5c3RlbS50cyIsICJzcmMvc21hcnQtcm9vbS1zeXN0ZW0udHMiLCAic3JjL3ZvaWNlLWNvbW1hbmQtc3lzdGVtLnRzIiwgInNyYy93ZWF0aGVyLXN5c3RlbS50cyIsICJzcmMvZW5oYW5jZWQtaW5kZXgudHMiLCAic3JjL2luZGV4LnRzIiwgInNkay1zY3JpcHRzOmFsbC1zY3JpcHRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK3Nka0A3LjE3LjBfQHdlbGwta25vd24tY29tcG9uZW50cytpbnRlcmZhY2VzQDEuNS4yL25vZGVfbW9kdWxlcy9AZGNsL3Nkay9zcmMvaW5kZXgudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BkY2wrc2RrQDcuMTcuMF9Ad2VsbC1rbm93bi1jb21wb25lbnRzK2ludGVyZmFjZXNAMS41LjIvbm9kZV9tb2R1bGVzL0BkY2wvc2RrL3NyYy9pbnRlcm5hbC90cmFuc3BvcnRzL3JlbmRlcmVyVHJhbnNwb3J0LnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK3Nka0A3LjE3LjBfQHdlbGwta25vd24tY29tcG9uZW50cytpbnRlcmZhY2VzQDEuNS4yL25vZGVfbW9kdWxlcy9AZGNsL3Nkay9zcmMvaW50ZXJuYWwvT2JzZXJ2YWJsZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGRjbCtzZGtANy4xNy4wX0B3ZWxsLWtub3duLWNvbXBvbmVudHMraW50ZXJmYWNlc0AxLjUuMi9ub2RlX21vZHVsZXMvQGRjbC9zZGsvc3JjL29ic2VydmFibGVzLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK3Nka0A3LjE3LjBfQHdlbGwta25vd24tY29tcG9uZW50cytpbnRlcmZhY2VzQDEuNS4yL25vZGVfbW9kdWxlcy9AZGNsL3Nkay9zcmMvcGxheWVycy9pbmRleC50cyIsICJzZGstY29tcG9zaXRlOmFsbC1jb21wb3NpdGVzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZGNsK3Nka0A3LjE3LjBfQHdlbGwta25vd24tY29tcG9uZW50cytpbnRlcmZhY2VzQDEuNS4yL25vZGVfbW9kdWxlcy9AZGNsL3Nkay9zcmMvY29tcG9zaXRlLXByb3ZpZGVyLnRzIl0sCiAgInNvdXJjZVJvb3QiOiAiZmlsZTovLy9DOi9Vc2Vycy9BbGVqYW5kcm8vQUlHZXN0aW9uL3BhY2thZ2VzL2RlY2VudHJhbGFuZC1wYXJjZWwiLAogICJzb3VyY2VzQ29udGVudCI6IFsiXCJ1c2Ugc3RyaWN0XCI7XHJcbm1vZHVsZS5leHBvcnRzID0gYXNQcm9taXNlO1xyXG5cclxuLyoqXHJcbiAqIENhbGxiYWNrIGFzIHVzZWQgYnkge0BsaW5rIHV0aWwuYXNQcm9taXNlfS5cclxuICogQHR5cGVkZWYgYXNQcm9taXNlQ2FsbGJhY2tcclxuICogQHR5cGUge2Z1bmN0aW9ufVxyXG4gKiBAcGFyYW0ge0Vycm9yfG51bGx9IGVycm9yIEVycm9yLCBpZiBhbnlcclxuICogQHBhcmFtIHsuLi4qfSBwYXJhbXMgQWRkaXRpb25hbCBhcmd1bWVudHNcclxuICogQHJldHVybnMge3VuZGVmaW5lZH1cclxuICovXHJcblxyXG4vKipcclxuICogUmV0dXJucyBhIHByb21pc2UgZnJvbSBhIG5vZGUtc3R5bGUgY2FsbGJhY2sgZnVuY3Rpb24uXHJcbiAqIEBtZW1iZXJvZiB1dGlsXHJcbiAqIEBwYXJhbSB7YXNQcm9taXNlQ2FsbGJhY2t9IGZuIEZ1bmN0aW9uIHRvIGNhbGxcclxuICogQHBhcmFtIHsqfSBjdHggRnVuY3Rpb24gY29udGV4dFxyXG4gKiBAcGFyYW0gey4uLip9IHBhcmFtcyBGdW5jdGlvbiBhcmd1bWVudHNcclxuICogQHJldHVybnMge1Byb21pc2U8Kj59IFByb21pc2lmaWVkIGZ1bmN0aW9uXHJcbiAqL1xyXG5mdW5jdGlvbiBhc1Byb21pc2UoZm4sIGN0eC8qLCB2YXJhcmdzICovKSB7XHJcbiAgICB2YXIgcGFyYW1zICA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSksXHJcbiAgICAgICAgb2Zmc2V0ICA9IDAsXHJcbiAgICAgICAgaW5kZXggICA9IDIsXHJcbiAgICAgICAgcGVuZGluZyA9IHRydWU7XHJcbiAgICB3aGlsZSAoaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoKVxyXG4gICAgICAgIHBhcmFtc1tvZmZzZXQrK10gPSBhcmd1bWVudHNbaW5kZXgrK107XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gZXhlY3V0b3IocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgcGFyYW1zW29mZnNldF0gPSBmdW5jdGlvbiBjYWxsYmFjayhlcnIvKiwgdmFyYXJncyAqLykge1xyXG4gICAgICAgICAgICBpZiAocGVuZGluZykge1xyXG4gICAgICAgICAgICAgICAgcGVuZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycilcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChvZmZzZXQgPCBwYXJhbXMubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXNbb2Zmc2V0KytdID0gYXJndW1lbnRzW29mZnNldF07XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZS5hcHBseShudWxsLCBwYXJhbXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBmbi5hcHBseShjdHggfHwgbnVsbCwgcGFyYW1zKTtcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgaWYgKHBlbmRpbmcpIHtcclxuICAgICAgICAgICAgICAgIHBlbmRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuIiwgIlwidXNlIHN0cmljdFwiO1xyXG5cclxuLyoqXHJcbiAqIEEgbWluaW1hbCBiYXNlNjQgaW1wbGVtZW50YXRpb24gZm9yIG51bWJlciBhcnJheXMuXHJcbiAqIEBtZW1iZXJvZiB1dGlsXHJcbiAqIEBuYW1lc3BhY2VcclxuICovXHJcbnZhciBiYXNlNjQgPSBleHBvcnRzO1xyXG5cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGJ5dGUgbGVuZ3RoIG9mIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIEJhc2U2NCBlbmNvZGVkIHN0cmluZ1xyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBCeXRlIGxlbmd0aFxyXG4gKi9cclxuYmFzZTY0Lmxlbmd0aCA9IGZ1bmN0aW9uIGxlbmd0aChzdHJpbmcpIHtcclxuICAgIHZhciBwID0gc3RyaW5nLmxlbmd0aDtcclxuICAgIGlmICghcClcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIHZhciBuID0gMDtcclxuICAgIHdoaWxlICgtLXAgJSA0ID4gMSAmJiBzdHJpbmcuY2hhckF0KHApID09PSBcIj1cIilcclxuICAgICAgICArK247XHJcbiAgICByZXR1cm4gTWF0aC5jZWlsKHN0cmluZy5sZW5ndGggKiAzKSAvIDQgLSBuO1xyXG59O1xyXG5cclxuLy8gQmFzZTY0IGVuY29kaW5nIHRhYmxlXHJcbnZhciBiNjQgPSBuZXcgQXJyYXkoNjQpO1xyXG5cclxuLy8gQmFzZTY0IGRlY29kaW5nIHRhYmxlXHJcbnZhciBzNjQgPSBuZXcgQXJyYXkoMTIzKTtcclxuXHJcbi8vIDY1Li45MCwgOTcuLjEyMiwgNDguLjU3LCA0MywgNDdcclxuZm9yICh2YXIgaSA9IDA7IGkgPCA2NDspXHJcbiAgICBzNjRbYjY0W2ldID0gaSA8IDI2ID8gaSArIDY1IDogaSA8IDUyID8gaSArIDcxIDogaSA8IDYyID8gaSAtIDQgOiBpIC0gNTkgfCA0M10gPSBpKys7XHJcblxyXG4vKipcclxuICogRW5jb2RlcyBhIGJ1ZmZlciB0byBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZy5cclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWZmZXIgU291cmNlIGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgU291cmNlIHN0YXJ0XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgU291cmNlIGVuZFxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBCYXNlNjQgZW5jb2RlZCBzdHJpbmdcclxuICovXHJcbmJhc2U2NC5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUoYnVmZmVyLCBzdGFydCwgZW5kKSB7XHJcbiAgICB2YXIgcGFydHMgPSBudWxsLFxyXG4gICAgICAgIGNodW5rID0gW107XHJcbiAgICB2YXIgaSA9IDAsIC8vIG91dHB1dCBpbmRleFxyXG4gICAgICAgIGogPSAwLCAvLyBnb3RvIGluZGV4XHJcbiAgICAgICAgdDsgICAgIC8vIHRlbXBvcmFyeVxyXG4gICAgd2hpbGUgKHN0YXJ0IDwgZW5kKSB7XHJcbiAgICAgICAgdmFyIGIgPSBidWZmZXJbc3RhcnQrK107XHJcbiAgICAgICAgc3dpdGNoIChqKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIGNodW5rW2krK10gPSBiNjRbYiA+PiAyXTtcclxuICAgICAgICAgICAgICAgIHQgPSAoYiAmIDMpIDw8IDQ7XHJcbiAgICAgICAgICAgICAgICBqID0gMTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICBjaHVua1tpKytdID0gYjY0W3QgfCBiID4+IDRdO1xyXG4gICAgICAgICAgICAgICAgdCA9IChiICYgMTUpIDw8IDI7XHJcbiAgICAgICAgICAgICAgICBqID0gMjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICBjaHVua1tpKytdID0gYjY0W3QgfCBiID4+IDZdO1xyXG4gICAgICAgICAgICAgICAgY2h1bmtbaSsrXSA9IGI2NFtiICYgNjNdO1xyXG4gICAgICAgICAgICAgICAgaiA9IDA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGkgPiA4MTkxKSB7XHJcbiAgICAgICAgICAgIChwYXJ0cyB8fCAocGFydHMgPSBbXSkpLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNodW5rKSk7XHJcbiAgICAgICAgICAgIGkgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChqKSB7XHJcbiAgICAgICAgY2h1bmtbaSsrXSA9IGI2NFt0XTtcclxuICAgICAgICBjaHVua1tpKytdID0gNjE7XHJcbiAgICAgICAgaWYgKGogPT09IDEpXHJcbiAgICAgICAgICAgIGNodW5rW2krK10gPSA2MTtcclxuICAgIH1cclxuICAgIGlmIChwYXJ0cykge1xyXG4gICAgICAgIGlmIChpKVxyXG4gICAgICAgICAgICBwYXJ0cy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjaHVuay5zbGljZSgwLCBpKSkpO1xyXG4gICAgICAgIHJldHVybiBwYXJ0cy5qb2luKFwiXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjaHVuay5zbGljZSgwLCBpKSk7XHJcbn07XHJcblxyXG52YXIgaW52YWxpZEVuY29kaW5nID0gXCJpbnZhbGlkIGVuY29kaW5nXCI7XHJcblxyXG4vKipcclxuICogRGVjb2RlcyBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZyB0byBhIGJ1ZmZlci5cclxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBTb3VyY2Ugc3RyaW5nXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmZmVyIERlc3RpbmF0aW9uIGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IERlc3RpbmF0aW9uIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBOdW1iZXIgb2YgYnl0ZXMgd3JpdHRlblxyXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgZW5jb2RpbmcgaXMgaW52YWxpZFxyXG4gKi9cclxuYmFzZTY0LmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShzdHJpbmcsIGJ1ZmZlciwgb2Zmc2V0KSB7XHJcbiAgICB2YXIgc3RhcnQgPSBvZmZzZXQ7XHJcbiAgICB2YXIgaiA9IDAsIC8vIGdvdG8gaW5kZXhcclxuICAgICAgICB0OyAgICAgLy8gdGVtcG9yYXJ5XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7KSB7XHJcbiAgICAgICAgdmFyIGMgPSBzdHJpbmcuY2hhckNvZGVBdChpKyspO1xyXG4gICAgICAgIGlmIChjID09PSA2MSAmJiBqID4gMSlcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgaWYgKChjID0gczY0W2NdKSA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihpbnZhbGlkRW5jb2RpbmcpO1xyXG4gICAgICAgIHN3aXRjaCAoaikge1xyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICB0ID0gYztcclxuICAgICAgICAgICAgICAgIGogPSAxO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSB0IDw8IDIgfCAoYyAmIDQ4KSA+PiA0O1xyXG4gICAgICAgICAgICAgICAgdCA9IGM7XHJcbiAgICAgICAgICAgICAgICBqID0gMjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gKHQgJiAxNSkgPDwgNCB8IChjICYgNjApID4+IDI7XHJcbiAgICAgICAgICAgICAgICB0ID0gYztcclxuICAgICAgICAgICAgICAgIGogPSAzO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSAodCAmIDMpIDw8IDYgfCBjO1xyXG4gICAgICAgICAgICAgICAgaiA9IDA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoaiA9PT0gMSlcclxuICAgICAgICB0aHJvdyBFcnJvcihpbnZhbGlkRW5jb2RpbmcpO1xyXG4gICAgcmV0dXJuIG9mZnNldCAtIHN0YXJ0O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoZSBzcGVjaWZpZWQgc3RyaW5nIGFwcGVhcnMgdG8gYmUgYmFzZTY0IGVuY29kZWQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgU3RyaW5nIHRvIHRlc3RcclxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiBwcm9iYWJseSBiYXNlNjQgZW5jb2RlZCwgb3RoZXJ3aXNlIGZhbHNlXHJcbiAqL1xyXG5iYXNlNjQudGVzdCA9IGZ1bmN0aW9uIHRlc3Qoc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gL14oPzpbQS1aYS16MC05Ky9dezR9KSooPzpbQS1aYS16MC05Ky9dezJ9PT18W0EtWmEtejAtOSsvXXszfT0pPyQvLnRlc3Qoc3RyaW5nKTtcclxufTtcclxuIiwgIlwidXNlIHN0cmljdFwiO1xyXG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcclxuXHJcbi8qKlxyXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IGV2ZW50IGVtaXR0ZXIgaW5zdGFuY2UuXHJcbiAqIEBjbGFzc2Rlc2MgQSBtaW5pbWFsIGV2ZW50IGVtaXR0ZXIuXHJcbiAqIEBtZW1iZXJvZiB1dGlsXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cclxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXJlZCBsaXN0ZW5lcnMuXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0LjxzdHJpbmcsKj59XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlZ2lzdGVycyBhbiBldmVudCBsaXN0ZW5lci5cclxuICogQHBhcmFtIHtzdHJpbmd9IGV2dCBFdmVudCBuYW1lXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIExpc3RlbmVyXHJcbiAqIEBwYXJhbSB7Kn0gW2N0eF0gTGlzdGVuZXIgY29udGV4dFxyXG4gKiBAcmV0dXJucyB7dXRpbC5FdmVudEVtaXR0ZXJ9IGB0aGlzYFxyXG4gKi9cclxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIG9uKGV2dCwgZm4sIGN0eCkge1xyXG4gICAgKHRoaXMuX2xpc3RlbmVyc1tldnRdIHx8ICh0aGlzLl9saXN0ZW5lcnNbZXZ0XSA9IFtdKSkucHVzaCh7XHJcbiAgICAgICAgZm4gIDogZm4sXHJcbiAgICAgICAgY3R4IDogY3R4IHx8IHRoaXNcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogUmVtb3ZlcyBhbiBldmVudCBsaXN0ZW5lciBvciBhbnkgbWF0Y2hpbmcgbGlzdGVuZXJzIGlmIGFyZ3VtZW50cyBhcmUgb21pdHRlZC5cclxuICogQHBhcmFtIHtzdHJpbmd9IFtldnRdIEV2ZW50IG5hbWUuIFJlbW92ZXMgYWxsIGxpc3RlbmVycyBpZiBvbWl0dGVkLlxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbZm5dIExpc3RlbmVyIHRvIHJlbW92ZS4gUmVtb3ZlcyBhbGwgbGlzdGVuZXJzIG9mIGBldnRgIGlmIG9taXR0ZWQuXHJcbiAqIEByZXR1cm5zIHt1dGlsLkV2ZW50RW1pdHRlcn0gYHRoaXNgXHJcbiAqL1xyXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uIG9mZihldnQsIGZuKSB7XHJcbiAgICBpZiAoZXZ0ID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzID0ge307XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoZm4gPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgdGhpcy5fbGlzdGVuZXJzW2V2dF0gPSBbXTtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVyc1tldnRdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7KVxyXG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyc1tpXS5mbiA9PT0gZm4pXHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICArK2k7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogRW1pdHMgYW4gZXZlbnQgYnkgY2FsbGluZyBpdHMgbGlzdGVuZXJzIHdpdGggdGhlIHNwZWNpZmllZCBhcmd1bWVudHMuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBldnQgRXZlbnQgbmFtZVxyXG4gKiBAcGFyYW0gey4uLip9IGFyZ3MgQXJndW1lbnRzXHJcbiAqIEByZXR1cm5zIHt1dGlsLkV2ZW50RW1pdHRlcn0gYHRoaXNgXHJcbiAqL1xyXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2dCkge1xyXG4gICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVyc1tldnRdO1xyXG4gICAgaWYgKGxpc3RlbmVycykge1xyXG4gICAgICAgIHZhciBhcmdzID0gW10sXHJcbiAgICAgICAgICAgIGkgPSAxO1xyXG4gICAgICAgIGZvciAoOyBpIDwgYXJndW1lbnRzLmxlbmd0aDspXHJcbiAgICAgICAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7KVxyXG4gICAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4uYXBwbHkobGlzdGVuZXJzW2krK10uY3R4LCBhcmdzKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzO1xyXG59O1xyXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoZmFjdG9yeSk7XHJcblxyXG4vKipcclxuICogUmVhZHMgLyB3cml0ZXMgZmxvYXRzIC8gZG91YmxlcyBmcm9tIC8gdG8gYnVmZmVycy5cclxuICogQG5hbWUgdXRpbC5mbG9hdFxyXG4gKiBAbmFtZXNwYWNlXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFdyaXRlcyBhIDMyIGJpdCBmbG9hdCB0byBhIGJ1ZmZlciB1c2luZyBsaXR0bGUgZW5kaWFuIGJ5dGUgb3JkZXIuXHJcbiAqIEBuYW1lIHV0aWwuZmxvYXQud3JpdGVGbG9hdExFXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIFZhbHVlIHRvIHdyaXRlXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFRhcmdldCBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBUYXJnZXQgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBXcml0ZXMgYSAzMiBiaXQgZmxvYXQgdG8gYSBidWZmZXIgdXNpbmcgYmlnIGVuZGlhbiBieXRlIG9yZGVyLlxyXG4gKiBAbmFtZSB1dGlsLmZsb2F0LndyaXRlRmxvYXRCRVxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCBWYWx1ZSB0byB3cml0ZVxyXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZiBUYXJnZXQgYnVmZmVyXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb3MgVGFyZ2V0IGJ1ZmZlciBvZmZzZXRcclxuICogQHJldHVybnMge3VuZGVmaW5lZH1cclxuICovXHJcblxyXG4vKipcclxuICogUmVhZHMgYSAzMiBiaXQgZmxvYXQgZnJvbSBhIGJ1ZmZlciB1c2luZyBsaXR0bGUgZW5kaWFuIGJ5dGUgb3JkZXIuXHJcbiAqIEBuYW1lIHV0aWwuZmxvYXQucmVhZEZsb2F0TEVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFNvdXJjZSBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBTb3VyY2UgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFJlYWRzIGEgMzIgYml0IGZsb2F0IGZyb20gYSBidWZmZXIgdXNpbmcgYmlnIGVuZGlhbiBieXRlIG9yZGVyLlxyXG4gKiBAbmFtZSB1dGlsLmZsb2F0LnJlYWRGbG9hdEJFXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZiBTb3VyY2UgYnVmZmVyXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb3MgU291cmNlIGJ1ZmZlciBvZmZzZXRcclxuICogQHJldHVybnMge251bWJlcn0gVmFsdWUgcmVhZFxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBXcml0ZXMgYSA2NCBiaXQgZG91YmxlIHRvIGEgYnVmZmVyIHVzaW5nIGxpdHRsZSBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC53cml0ZURvdWJsZUxFXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIFZhbHVlIHRvIHdyaXRlXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFRhcmdldCBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBUYXJnZXQgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBXcml0ZXMgYSA2NCBiaXQgZG91YmxlIHRvIGEgYnVmZmVyIHVzaW5nIGJpZyBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC53cml0ZURvdWJsZUJFXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIFZhbHVlIHRvIHdyaXRlXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFRhcmdldCBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBUYXJnZXQgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBSZWFkcyBhIDY0IGJpdCBkb3VibGUgZnJvbSBhIGJ1ZmZlciB1c2luZyBsaXR0bGUgZW5kaWFuIGJ5dGUgb3JkZXIuXHJcbiAqIEBuYW1lIHV0aWwuZmxvYXQucmVhZERvdWJsZUxFXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZiBTb3VyY2UgYnVmZmVyXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb3MgU291cmNlIGJ1ZmZlciBvZmZzZXRcclxuICogQHJldHVybnMge251bWJlcn0gVmFsdWUgcmVhZFxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBSZWFkcyBhIDY0IGJpdCBkb3VibGUgZnJvbSBhIGJ1ZmZlciB1c2luZyBiaWcgZW5kaWFuIGJ5dGUgb3JkZXIuXHJcbiAqIEBuYW1lIHV0aWwuZmxvYXQucmVhZERvdWJsZUJFXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZiBTb3VyY2UgYnVmZmVyXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb3MgU291cmNlIGJ1ZmZlciBvZmZzZXRcclxuICogQHJldHVybnMge251bWJlcn0gVmFsdWUgcmVhZFxyXG4gKi9cclxuXHJcbi8vIEZhY3RvcnkgZnVuY3Rpb24gZm9yIHRoZSBwdXJwb3NlIG9mIG5vZGUtYmFzZWQgdGVzdGluZyBpbiBtb2RpZmllZCBnbG9iYWwgZW52aXJvbm1lbnRzXHJcbmZ1bmN0aW9uIGZhY3RvcnkoZXhwb3J0cykge1xyXG5cclxuICAgIC8vIGZsb2F0OiB0eXBlZCBhcnJheVxyXG4gICAgaWYgKHR5cGVvZiBGbG9hdDMyQXJyYXkgIT09IFwidW5kZWZpbmVkXCIpIChmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdmFyIGYzMiA9IG5ldyBGbG9hdDMyQXJyYXkoWyAtMCBdKSxcclxuICAgICAgICAgICAgZjhiID0gbmV3IFVpbnQ4QXJyYXkoZjMyLmJ1ZmZlciksXHJcbiAgICAgICAgICAgIGxlICA9IGY4YlszXSA9PT0gMTI4O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiB3cml0ZUZsb2F0X2YzMl9jcHkodmFsLCBidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmMzJbMF0gPSB2YWw7XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgICAgXSA9IGY4YlswXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDFdID0gZjhiWzFdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgMl0gPSBmOGJbMl07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAzXSA9IGY4YlszXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHdyaXRlRmxvYXRfZjMyX3Jldih2YWwsIGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIGYzMlswXSA9IHZhbDtcclxuICAgICAgICAgICAgYnVmW3BvcyAgICBdID0gZjhiWzNdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgMV0gPSBmOGJbMl07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAyXSA9IGY4YlsxXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDNdID0gZjhiWzBdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgICAgICBleHBvcnRzLndyaXRlRmxvYXRMRSA9IGxlID8gd3JpdGVGbG9hdF9mMzJfY3B5IDogd3JpdGVGbG9hdF9mMzJfcmV2O1xyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICAgICAgZXhwb3J0cy53cml0ZUZsb2F0QkUgPSBsZSA/IHdyaXRlRmxvYXRfZjMyX3JldiA6IHdyaXRlRmxvYXRfZjMyX2NweTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVhZEZsb2F0X2YzMl9jcHkoYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgZjhiWzBdID0gYnVmW3BvcyAgICBdO1xyXG4gICAgICAgICAgICBmOGJbMV0gPSBidWZbcG9zICsgMV07XHJcbiAgICAgICAgICAgIGY4YlsyXSA9IGJ1Zltwb3MgKyAyXTtcclxuICAgICAgICAgICAgZjhiWzNdID0gYnVmW3BvcyArIDNdO1xyXG4gICAgICAgICAgICByZXR1cm4gZjMyWzBdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVhZEZsb2F0X2YzMl9yZXYoYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgZjhiWzNdID0gYnVmW3BvcyAgICBdO1xyXG4gICAgICAgICAgICBmOGJbMl0gPSBidWZbcG9zICsgMV07XHJcbiAgICAgICAgICAgIGY4YlsxXSA9IGJ1Zltwb3MgKyAyXTtcclxuICAgICAgICAgICAgZjhiWzBdID0gYnVmW3BvcyArIDNdO1xyXG4gICAgICAgICAgICByZXR1cm4gZjMyWzBdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgICAgICBleHBvcnRzLnJlYWRGbG9hdExFID0gbGUgPyByZWFkRmxvYXRfZjMyX2NweSA6IHJlYWRGbG9hdF9mMzJfcmV2O1xyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICAgICAgZXhwb3J0cy5yZWFkRmxvYXRCRSA9IGxlID8gcmVhZEZsb2F0X2YzMl9yZXYgOiByZWFkRmxvYXRfZjMyX2NweTtcclxuXHJcbiAgICAvLyBmbG9hdDogaWVlZTc1NFxyXG4gICAgfSkoKTsgZWxzZSAoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHdyaXRlRmxvYXRfaWVlZTc1NCh3cml0ZVVpbnQsIHZhbCwgYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgdmFyIHNpZ24gPSB2YWwgPCAwID8gMSA6IDA7XHJcbiAgICAgICAgICAgIGlmIChzaWduKVxyXG4gICAgICAgICAgICAgICAgdmFsID0gLXZhbDtcclxuICAgICAgICAgICAgaWYgKHZhbCA9PT0gMClcclxuICAgICAgICAgICAgICAgIHdyaXRlVWludCgxIC8gdmFsID4gMCA/IC8qIHBvc2l0aXZlICovIDAgOiAvKiBuZWdhdGl2ZSAwICovIDIxNDc0ODM2NDgsIGJ1ZiwgcG9zKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNOYU4odmFsKSlcclxuICAgICAgICAgICAgICAgIHdyaXRlVWludCgyMTQzMjg5MzQ0LCBidWYsIHBvcyk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbCA+IDMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgpIC8vICstSW5maW5pdHlcclxuICAgICAgICAgICAgICAgIHdyaXRlVWludCgoc2lnbiA8PCAzMSB8IDIxMzkwOTUwNDApID4+PiAwLCBidWYsIHBvcyk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbCA8IDEuMTc1NDk0MzUwODIyMjg3NWUtMzgpIC8vIGRlbm9ybWFsXHJcbiAgICAgICAgICAgICAgICB3cml0ZVVpbnQoKHNpZ24gPDwgMzEgfCBNYXRoLnJvdW5kKHZhbCAvIDEuNDAxMjk4NDY0MzI0ODE3ZS00NSkpID4+PiAwLCBidWYsIHBvcyk7XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIGV4cG9uZW50ID0gTWF0aC5mbG9vcihNYXRoLmxvZyh2YWwpIC8gTWF0aC5MTjIpLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hbnRpc3NhID0gTWF0aC5yb3VuZCh2YWwgKiBNYXRoLnBvdygyLCAtZXhwb25lbnQpICogODM4ODYwOCkgJiA4Mzg4NjA3O1xyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KChzaWduIDw8IDMxIHwgZXhwb25lbnQgKyAxMjcgPDwgMjMgfCBtYW50aXNzYSkgPj4+IDAsIGJ1ZiwgcG9zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXhwb3J0cy53cml0ZUZsb2F0TEUgPSB3cml0ZUZsb2F0X2llZWU3NTQuYmluZChudWxsLCB3cml0ZVVpbnRMRSk7XHJcbiAgICAgICAgZXhwb3J0cy53cml0ZUZsb2F0QkUgPSB3cml0ZUZsb2F0X2llZWU3NTQuYmluZChudWxsLCB3cml0ZVVpbnRCRSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlYWRGbG9hdF9pZWVlNzU0KHJlYWRVaW50LCBidWYsIHBvcykge1xyXG4gICAgICAgICAgICB2YXIgdWludCA9IHJlYWRVaW50KGJ1ZiwgcG9zKSxcclxuICAgICAgICAgICAgICAgIHNpZ24gPSAodWludCA+PiAzMSkgKiAyICsgMSxcclxuICAgICAgICAgICAgICAgIGV4cG9uZW50ID0gdWludCA+Pj4gMjMgJiAyNTUsXHJcbiAgICAgICAgICAgICAgICBtYW50aXNzYSA9IHVpbnQgJiA4Mzg4NjA3O1xyXG4gICAgICAgICAgICByZXR1cm4gZXhwb25lbnQgPT09IDI1NVxyXG4gICAgICAgICAgICAgICAgPyBtYW50aXNzYVxyXG4gICAgICAgICAgICAgICAgPyBOYU5cclxuICAgICAgICAgICAgICAgIDogc2lnbiAqIEluZmluaXR5XHJcbiAgICAgICAgICAgICAgICA6IGV4cG9uZW50ID09PSAwIC8vIGRlbm9ybWFsXHJcbiAgICAgICAgICAgICAgICA/IHNpZ24gKiAxLjQwMTI5ODQ2NDMyNDgxN2UtNDUgKiBtYW50aXNzYVxyXG4gICAgICAgICAgICAgICAgOiBzaWduICogTWF0aC5wb3coMiwgZXhwb25lbnQgLSAxNTApICogKG1hbnRpc3NhICsgODM4ODYwOCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBleHBvcnRzLnJlYWRGbG9hdExFID0gcmVhZEZsb2F0X2llZWU3NTQuYmluZChudWxsLCByZWFkVWludExFKTtcclxuICAgICAgICBleHBvcnRzLnJlYWRGbG9hdEJFID0gcmVhZEZsb2F0X2llZWU3NTQuYmluZChudWxsLCByZWFkVWludEJFKTtcclxuXHJcbiAgICB9KSgpO1xyXG5cclxuICAgIC8vIGRvdWJsZTogdHlwZWQgYXJyYXlcclxuICAgIGlmICh0eXBlb2YgRmxvYXQ2NEFycmF5ICE9PSBcInVuZGVmaW5lZFwiKSAoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHZhciBmNjQgPSBuZXcgRmxvYXQ2NEFycmF5KFstMF0pLFxyXG4gICAgICAgICAgICBmOGIgPSBuZXcgVWludDhBcnJheShmNjQuYnVmZmVyKSxcclxuICAgICAgICAgICAgbGUgID0gZjhiWzddID09PSAxMjg7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHdyaXRlRG91YmxlX2Y2NF9jcHkodmFsLCBidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmNjRbMF0gPSB2YWw7XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgICAgXSA9IGY4YlswXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDFdID0gZjhiWzFdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgMl0gPSBmOGJbMl07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAzXSA9IGY4YlszXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDRdID0gZjhiWzRdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgNV0gPSBmOGJbNV07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyA2XSA9IGY4Yls2XTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDddID0gZjhiWzddO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVEb3VibGVfZjY0X3Jldih2YWwsIGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIGY2NFswXSA9IHZhbDtcclxuICAgICAgICAgICAgYnVmW3BvcyAgICBdID0gZjhiWzddO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgMV0gPSBmOGJbNl07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAyXSA9IGY4Yls1XTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDNdID0gZjhiWzRdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgNF0gPSBmOGJbM107XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyA1XSA9IGY4YlsyXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDZdID0gZjhiWzFdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgN10gPSBmOGJbMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMud3JpdGVEb3VibGVMRSA9IGxlID8gd3JpdGVEb3VibGVfZjY0X2NweSA6IHdyaXRlRG91YmxlX2Y2NF9yZXY7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgICAgICBleHBvcnRzLndyaXRlRG91YmxlQkUgPSBsZSA/IHdyaXRlRG91YmxlX2Y2NF9yZXYgOiB3cml0ZURvdWJsZV9mNjRfY3B5O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiByZWFkRG91YmxlX2Y2NF9jcHkoYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgZjhiWzBdID0gYnVmW3BvcyAgICBdO1xyXG4gICAgICAgICAgICBmOGJbMV0gPSBidWZbcG9zICsgMV07XHJcbiAgICAgICAgICAgIGY4YlsyXSA9IGJ1Zltwb3MgKyAyXTtcclxuICAgICAgICAgICAgZjhiWzNdID0gYnVmW3BvcyArIDNdO1xyXG4gICAgICAgICAgICBmOGJbNF0gPSBidWZbcG9zICsgNF07XHJcbiAgICAgICAgICAgIGY4Yls1XSA9IGJ1Zltwb3MgKyA1XTtcclxuICAgICAgICAgICAgZjhiWzZdID0gYnVmW3BvcyArIDZdO1xyXG4gICAgICAgICAgICBmOGJbN10gPSBidWZbcG9zICsgN107XHJcbiAgICAgICAgICAgIHJldHVybiBmNjRbMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZWFkRG91YmxlX2Y2NF9yZXYoYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgZjhiWzddID0gYnVmW3BvcyAgICBdO1xyXG4gICAgICAgICAgICBmOGJbNl0gPSBidWZbcG9zICsgMV07XHJcbiAgICAgICAgICAgIGY4Yls1XSA9IGJ1Zltwb3MgKyAyXTtcclxuICAgICAgICAgICAgZjhiWzRdID0gYnVmW3BvcyArIDNdO1xyXG4gICAgICAgICAgICBmOGJbM10gPSBidWZbcG9zICsgNF07XHJcbiAgICAgICAgICAgIGY4YlsyXSA9IGJ1Zltwb3MgKyA1XTtcclxuICAgICAgICAgICAgZjhiWzFdID0gYnVmW3BvcyArIDZdO1xyXG4gICAgICAgICAgICBmOGJbMF0gPSBidWZbcG9zICsgN107XHJcbiAgICAgICAgICAgIHJldHVybiBmNjRbMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMucmVhZERvdWJsZUxFID0gbGUgPyByZWFkRG91YmxlX2Y2NF9jcHkgOiByZWFkRG91YmxlX2Y2NF9yZXY7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgICAgICBleHBvcnRzLnJlYWREb3VibGVCRSA9IGxlID8gcmVhZERvdWJsZV9mNjRfcmV2IDogcmVhZERvdWJsZV9mNjRfY3B5O1xyXG5cclxuICAgIC8vIGRvdWJsZTogaWVlZTc1NFxyXG4gICAgfSkoKTsgZWxzZSAoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHdyaXRlRG91YmxlX2llZWU3NTQod3JpdGVVaW50LCBvZmYwLCBvZmYxLCB2YWwsIGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIHZhciBzaWduID0gdmFsIDwgMCA/IDEgOiAwO1xyXG4gICAgICAgICAgICBpZiAoc2lnbilcclxuICAgICAgICAgICAgICAgIHZhbCA9IC12YWw7XHJcbiAgICAgICAgICAgIGlmICh2YWwgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHdyaXRlVWludCgwLCBidWYsIHBvcyArIG9mZjApO1xyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDEgLyB2YWwgPiAwID8gLyogcG9zaXRpdmUgKi8gMCA6IC8qIG5lZ2F0aXZlIDAgKi8gMjE0NzQ4MzY0OCwgYnVmLCBwb3MgKyBvZmYxKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc05hTih2YWwpKSB7XHJcbiAgICAgICAgICAgICAgICB3cml0ZVVpbnQoMCwgYnVmLCBwb3MgKyBvZmYwKTtcclxuICAgICAgICAgICAgICAgIHdyaXRlVWludCgyMTQ2OTU5MzYwLCBidWYsIHBvcyArIG9mZjEpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbCA+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4KSB7IC8vICstSW5maW5pdHlcclxuICAgICAgICAgICAgICAgIHdyaXRlVWludCgwLCBidWYsIHBvcyArIG9mZjApO1xyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KChzaWduIDw8IDMxIHwgMjE0NjQzNTA3MikgPj4+IDAsIGJ1ZiwgcG9zICsgb2ZmMSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFudGlzc2E7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsIDwgMi4yMjUwNzM4NTg1MDcyMDE0ZS0zMDgpIHsgLy8gZGVub3JtYWxcclxuICAgICAgICAgICAgICAgICAgICBtYW50aXNzYSA9IHZhbCAvIDVlLTMyNDtcclxuICAgICAgICAgICAgICAgICAgICB3cml0ZVVpbnQobWFudGlzc2EgPj4+IDAsIGJ1ZiwgcG9zICsgb2ZmMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVVaW50KChzaWduIDw8IDMxIHwgbWFudGlzc2EgLyA0Mjk0OTY3Mjk2KSA+Pj4gMCwgYnVmLCBwb3MgKyBvZmYxKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4cG9uZW50ID0gTWF0aC5mbG9vcihNYXRoLmxvZyh2YWwpIC8gTWF0aC5MTjIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChleHBvbmVudCA9PT0gMTAyNClcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwb25lbnQgPSAxMDIzO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hbnRpc3NhID0gdmFsICogTWF0aC5wb3coMiwgLWV4cG9uZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB3cml0ZVVpbnQobWFudGlzc2EgKiA0NTAzNTk5NjI3MzcwNDk2ID4+PiAwLCBidWYsIHBvcyArIG9mZjApO1xyXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlVWludCgoc2lnbiA8PCAzMSB8IGV4cG9uZW50ICsgMTAyMyA8PCAyMCB8IG1hbnRpc3NhICogMTA0ODU3NiAmIDEwNDg1NzUpID4+PiAwLCBidWYsIHBvcyArIG9mZjEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBleHBvcnRzLndyaXRlRG91YmxlTEUgPSB3cml0ZURvdWJsZV9pZWVlNzU0LmJpbmQobnVsbCwgd3JpdGVVaW50TEUsIDAsIDQpO1xyXG4gICAgICAgIGV4cG9ydHMud3JpdGVEb3VibGVCRSA9IHdyaXRlRG91YmxlX2llZWU3NTQuYmluZChudWxsLCB3cml0ZVVpbnRCRSwgNCwgMCk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlYWREb3VibGVfaWVlZTc1NChyZWFkVWludCwgb2ZmMCwgb2ZmMSwgYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgdmFyIGxvID0gcmVhZFVpbnQoYnVmLCBwb3MgKyBvZmYwKSxcclxuICAgICAgICAgICAgICAgIGhpID0gcmVhZFVpbnQoYnVmLCBwb3MgKyBvZmYxKTtcclxuICAgICAgICAgICAgdmFyIHNpZ24gPSAoaGkgPj4gMzEpICogMiArIDEsXHJcbiAgICAgICAgICAgICAgICBleHBvbmVudCA9IGhpID4+PiAyMCAmIDIwNDcsXHJcbiAgICAgICAgICAgICAgICBtYW50aXNzYSA9IDQyOTQ5NjcyOTYgKiAoaGkgJiAxMDQ4NTc1KSArIGxvO1xyXG4gICAgICAgICAgICByZXR1cm4gZXhwb25lbnQgPT09IDIwNDdcclxuICAgICAgICAgICAgICAgID8gbWFudGlzc2FcclxuICAgICAgICAgICAgICAgID8gTmFOXHJcbiAgICAgICAgICAgICAgICA6IHNpZ24gKiBJbmZpbml0eVxyXG4gICAgICAgICAgICAgICAgOiBleHBvbmVudCA9PT0gMCAvLyBkZW5vcm1hbFxyXG4gICAgICAgICAgICAgICAgPyBzaWduICogNWUtMzI0ICogbWFudGlzc2FcclxuICAgICAgICAgICAgICAgIDogc2lnbiAqIE1hdGgucG93KDIsIGV4cG9uZW50IC0gMTA3NSkgKiAobWFudGlzc2EgKyA0NTAzNTk5NjI3MzcwNDk2KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV4cG9ydHMucmVhZERvdWJsZUxFID0gcmVhZERvdWJsZV9pZWVlNzU0LmJpbmQobnVsbCwgcmVhZFVpbnRMRSwgMCwgNCk7XHJcbiAgICAgICAgZXhwb3J0cy5yZWFkRG91YmxlQkUgPSByZWFkRG91YmxlX2llZWU3NTQuYmluZChudWxsLCByZWFkVWludEJFLCA0LCAwKTtcclxuXHJcbiAgICB9KSgpO1xyXG5cclxuICAgIHJldHVybiBleHBvcnRzO1xyXG59XHJcblxyXG4vLyB1aW50IGhlbHBlcnNcclxuXHJcbmZ1bmN0aW9uIHdyaXRlVWludExFKHZhbCwgYnVmLCBwb3MpIHtcclxuICAgIGJ1Zltwb3MgICAgXSA9ICB2YWwgICAgICAgICYgMjU1O1xyXG4gICAgYnVmW3BvcyArIDFdID0gIHZhbCA+Pj4gOCAgJiAyNTU7XHJcbiAgICBidWZbcG9zICsgMl0gPSAgdmFsID4+PiAxNiAmIDI1NTtcclxuICAgIGJ1Zltwb3MgKyAzXSA9ICB2YWwgPj4+IDI0O1xyXG59XHJcblxyXG5mdW5jdGlvbiB3cml0ZVVpbnRCRSh2YWwsIGJ1ZiwgcG9zKSB7XHJcbiAgICBidWZbcG9zICAgIF0gPSAgdmFsID4+PiAyNDtcclxuICAgIGJ1Zltwb3MgKyAxXSA9ICB2YWwgPj4+IDE2ICYgMjU1O1xyXG4gICAgYnVmW3BvcyArIDJdID0gIHZhbCA+Pj4gOCAgJiAyNTU7XHJcbiAgICBidWZbcG9zICsgM10gPSAgdmFsICAgICAgICAmIDI1NTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVhZFVpbnRMRShidWYsIHBvcykge1xyXG4gICAgcmV0dXJuIChidWZbcG9zICAgIF1cclxuICAgICAgICAgIHwgYnVmW3BvcyArIDFdIDw8IDhcclxuICAgICAgICAgIHwgYnVmW3BvcyArIDJdIDw8IDE2XHJcbiAgICAgICAgICB8IGJ1Zltwb3MgKyAzXSA8PCAyNCkgPj4+IDA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlYWRVaW50QkUoYnVmLCBwb3MpIHtcclxuICAgIHJldHVybiAoYnVmW3BvcyAgICBdIDw8IDI0XHJcbiAgICAgICAgICB8IGJ1Zltwb3MgKyAxXSA8PCAxNlxyXG4gICAgICAgICAgfCBidWZbcG9zICsgMl0gPDwgOFxyXG4gICAgICAgICAgfCBidWZbcG9zICsgM10pID4+PiAwO1xyXG59XHJcbiIsICJcInVzZSBzdHJpY3RcIjtcclxubW9kdWxlLmV4cG9ydHMgPSBpbnF1aXJlO1xyXG5cclxuLyoqXHJcbiAqIFJlcXVpcmVzIGEgbW9kdWxlIG9ubHkgaWYgYXZhaWxhYmxlLlxyXG4gKiBAbWVtYmVyb2YgdXRpbFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kdWxlTmFtZSBNb2R1bGUgdG8gcmVxdWlyZVxyXG4gKiBAcmV0dXJucyB7P09iamVjdH0gUmVxdWlyZWQgbW9kdWxlIGlmIGF2YWlsYWJsZSBhbmQgbm90IGVtcHR5LCBvdGhlcndpc2UgYG51bGxgXHJcbiAqL1xyXG5mdW5jdGlvbiBpbnF1aXJlKG1vZHVsZU5hbWUpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgdmFyIG1vZCA9IGV2YWwoXCJxdWlyZVwiLnJlcGxhY2UoL14vLFwicmVcIikpKG1vZHVsZU5hbWUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWV2YWxcclxuICAgICAgICBpZiAobW9kICYmIChtb2QubGVuZ3RoIHx8IE9iamVjdC5rZXlzKG1vZCkubGVuZ3RoKSlcclxuICAgICAgICAgICAgcmV0dXJuIG1vZDtcclxuICAgIH0gY2F0Y2ggKGUpIHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbiIsICJcInVzZSBzdHJpY3RcIjtcclxuXHJcbi8qKlxyXG4gKiBBIG1pbmltYWwgVVRGOCBpbXBsZW1lbnRhdGlvbiBmb3IgbnVtYmVyIGFycmF5cy5cclxuICogQG1lbWJlcm9mIHV0aWxcclxuICogQG5hbWVzcGFjZVxyXG4gKi9cclxudmFyIHV0ZjggPSBleHBvcnRzO1xyXG5cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIFVURjggYnl0ZSBsZW5ndGggb2YgYSBzdHJpbmcuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgU3RyaW5nXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IEJ5dGUgbGVuZ3RoXHJcbiAqL1xyXG51dGY4Lmxlbmd0aCA9IGZ1bmN0aW9uIHV0ZjhfbGVuZ3RoKHN0cmluZykge1xyXG4gICAgdmFyIGxlbiA9IDAsXHJcbiAgICAgICAgYyA9IDA7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIGMgPSBzdHJpbmcuY2hhckNvZGVBdChpKTtcclxuICAgICAgICBpZiAoYyA8IDEyOClcclxuICAgICAgICAgICAgbGVuICs9IDE7XHJcbiAgICAgICAgZWxzZSBpZiAoYyA8IDIwNDgpXHJcbiAgICAgICAgICAgIGxlbiArPSAyO1xyXG4gICAgICAgIGVsc2UgaWYgKChjICYgMHhGQzAwKSA9PT0gMHhEODAwICYmIChzdHJpbmcuY2hhckNvZGVBdChpICsgMSkgJiAweEZDMDApID09PSAweERDMDApIHtcclxuICAgICAgICAgICAgKytpO1xyXG4gICAgICAgICAgICBsZW4gKz0gNDtcclxuICAgICAgICB9IGVsc2VcclxuICAgICAgICAgICAgbGVuICs9IDM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVuO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJlYWRzIFVURjggYnl0ZXMgYXMgYSBzdHJpbmcuXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmZmVyIFNvdXJjZSBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFNvdXJjZSBzdGFydFxyXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIFNvdXJjZSBlbmRcclxuICogQHJldHVybnMge3N0cmluZ30gU3RyaW5nIHJlYWRcclxuICovXHJcbnV0ZjgucmVhZCA9IGZ1bmN0aW9uIHV0ZjhfcmVhZChidWZmZXIsIHN0YXJ0LCBlbmQpIHtcclxuICAgIHZhciBsZW4gPSBlbmQgLSBzdGFydDtcclxuICAgIGlmIChsZW4gPCAxKVxyXG4gICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgdmFyIHBhcnRzID0gbnVsbCxcclxuICAgICAgICBjaHVuayA9IFtdLFxyXG4gICAgICAgIGkgPSAwLCAvLyBjaGFyIG9mZnNldFxyXG4gICAgICAgIHQ7ICAgICAvLyB0ZW1wb3JhcnlcclxuICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xyXG4gICAgICAgIHQgPSBidWZmZXJbc3RhcnQrK107XHJcbiAgICAgICAgaWYgKHQgPCAxMjgpXHJcbiAgICAgICAgICAgIGNodW5rW2krK10gPSB0O1xyXG4gICAgICAgIGVsc2UgaWYgKHQgPiAxOTEgJiYgdCA8IDIyNClcclxuICAgICAgICAgICAgY2h1bmtbaSsrXSA9ICh0ICYgMzEpIDw8IDYgfCBidWZmZXJbc3RhcnQrK10gJiA2MztcclxuICAgICAgICBlbHNlIGlmICh0ID4gMjM5ICYmIHQgPCAzNjUpIHtcclxuICAgICAgICAgICAgdCA9ICgodCAmIDcpIDw8IDE4IHwgKGJ1ZmZlcltzdGFydCsrXSAmIDYzKSA8PCAxMiB8IChidWZmZXJbc3RhcnQrK10gJiA2MykgPDwgNiB8IGJ1ZmZlcltzdGFydCsrXSAmIDYzKSAtIDB4MTAwMDA7XHJcbiAgICAgICAgICAgIGNodW5rW2krK10gPSAweEQ4MDAgKyAodCA+PiAxMCk7XHJcbiAgICAgICAgICAgIGNodW5rW2krK10gPSAweERDMDAgKyAodCAmIDEwMjMpO1xyXG4gICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICBjaHVua1tpKytdID0gKHQgJiAxNSkgPDwgMTIgfCAoYnVmZmVyW3N0YXJ0KytdICYgNjMpIDw8IDYgfCBidWZmZXJbc3RhcnQrK10gJiA2MztcclxuICAgICAgICBpZiAoaSA+IDgxOTEpIHtcclxuICAgICAgICAgICAgKHBhcnRzIHx8IChwYXJ0cyA9IFtdKSkucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY2h1bmspKTtcclxuICAgICAgICAgICAgaSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHBhcnRzKSB7XHJcbiAgICAgICAgaWYgKGkpXHJcbiAgICAgICAgICAgIHBhcnRzLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNodW5rLnNsaWNlKDAsIGkpKSk7XHJcbiAgICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oXCJcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNodW5rLnNsaWNlKDAsIGkpKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBXcml0ZXMgYSBzdHJpbmcgYXMgVVRGOCBieXRlcy5cclxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBTb3VyY2Ugc3RyaW5nXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmZmVyIERlc3RpbmF0aW9uIGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IERlc3RpbmF0aW9uIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBCeXRlcyB3cml0dGVuXHJcbiAqL1xyXG51dGY4LndyaXRlID0gZnVuY3Rpb24gdXRmOF93cml0ZShzdHJpbmcsIGJ1ZmZlciwgb2Zmc2V0KSB7XHJcbiAgICB2YXIgc3RhcnQgPSBvZmZzZXQsXHJcbiAgICAgICAgYzEsIC8vIGNoYXJhY3RlciAxXHJcbiAgICAgICAgYzI7IC8vIGNoYXJhY3RlciAyXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIGMxID0gc3RyaW5nLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgaWYgKGMxIDwgMTI4KSB7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMTtcclxuICAgICAgICB9IGVsc2UgaWYgKGMxIDwgMjA0OCkge1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzEgPj4gNiAgICAgICB8IDE5MjtcclxuICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IGMxICAgICAgICYgNjMgfCAxMjg7XHJcbiAgICAgICAgfSBlbHNlIGlmICgoYzEgJiAweEZDMDApID09PSAweEQ4MDAgJiYgKChjMiA9IHN0cmluZy5jaGFyQ29kZUF0KGkgKyAxKSkgJiAweEZDMDApID09PSAweERDMDApIHtcclxuICAgICAgICAgICAgYzEgPSAweDEwMDAwICsgKChjMSAmIDB4MDNGRikgPDwgMTApICsgKGMyICYgMHgwM0ZGKTtcclxuICAgICAgICAgICAgKytpO1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzEgPj4gMTggICAgICB8IDI0MDtcclxuICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IGMxID4+IDEyICYgNjMgfCAxMjg7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMSA+PiA2ICAmIDYzIHwgMTI4O1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzEgICAgICAgJiA2MyB8IDEyODtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzEgPj4gMTIgICAgICB8IDIyNDtcclxuICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IGMxID4+IDYgICYgNjMgfCAxMjg7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMSAgICAgICAmIDYzIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBvZmZzZXQgLSBzdGFydDtcclxufTtcclxuIiwgIlwidXNlIHN0cmljdFwiO1xyXG5tb2R1bGUuZXhwb3J0cyA9IHBvb2w7XHJcblxyXG4vKipcclxuICogQW4gYWxsb2NhdG9yIGFzIHVzZWQgYnkge0BsaW5rIHV0aWwucG9vbH0uXHJcbiAqIEB0eXBlZGVmIFBvb2xBbGxvY2F0b3JcclxuICogQHR5cGUge2Z1bmN0aW9ufVxyXG4gKiBAcGFyYW0ge251bWJlcn0gc2l6ZSBCdWZmZXIgc2l6ZVxyXG4gKiBAcmV0dXJucyB7VWludDhBcnJheX0gQnVmZmVyXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEEgc2xpY2VyIGFzIHVzZWQgYnkge0BsaW5rIHV0aWwucG9vbH0uXHJcbiAqIEB0eXBlZGVmIFBvb2xTbGljZXJcclxuICogQHR5cGUge2Z1bmN0aW9ufVxyXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgU3RhcnQgb2Zmc2V0XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7VWludDhBcnJheX0gQnVmZmVyIHNsaWNlXHJcbiAqIEB0aGlzIHtVaW50OEFycmF5fVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBBIGdlbmVyYWwgcHVycG9zZSBidWZmZXIgcG9vbC5cclxuICogQG1lbWJlcm9mIHV0aWxcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7UG9vbEFsbG9jYXRvcn0gYWxsb2MgQWxsb2NhdG9yXHJcbiAqIEBwYXJhbSB7UG9vbFNsaWNlcn0gc2xpY2UgU2xpY2VyXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT04MTkyXSBTbGFiIHNpemVcclxuICogQHJldHVybnMge1Bvb2xBbGxvY2F0b3J9IFBvb2xlZCBhbGxvY2F0b3JcclxuICovXHJcbmZ1bmN0aW9uIHBvb2woYWxsb2MsIHNsaWNlLCBzaXplKSB7XHJcbiAgICB2YXIgU0laRSAgID0gc2l6ZSB8fCA4MTkyO1xyXG4gICAgdmFyIE1BWCAgICA9IFNJWkUgPj4+IDE7XHJcbiAgICB2YXIgc2xhYiAgID0gbnVsbDtcclxuICAgIHZhciBvZmZzZXQgPSBTSVpFO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBvb2xfYWxsb2Moc2l6ZSkge1xyXG4gICAgICAgIGlmIChzaXplIDwgMSB8fCBzaXplID4gTUFYKVxyXG4gICAgICAgICAgICByZXR1cm4gYWxsb2Moc2l6ZSk7XHJcbiAgICAgICAgaWYgKG9mZnNldCArIHNpemUgPiBTSVpFKSB7XHJcbiAgICAgICAgICAgIHNsYWIgPSBhbGxvYyhTSVpFKTtcclxuICAgICAgICAgICAgb2Zmc2V0ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGJ1ZiA9IHNsaWNlLmNhbGwoc2xhYiwgb2Zmc2V0LCBvZmZzZXQgKz0gc2l6ZSk7XHJcbiAgICAgICAgaWYgKG9mZnNldCAmIDcpIC8vIGFsaWduIHRvIDMyIGJpdFxyXG4gICAgICAgICAgICBvZmZzZXQgPSAob2Zmc2V0IHwgNykgKyAxO1xyXG4gICAgICAgIHJldHVybiBidWY7XHJcbiAgICB9O1xyXG59XHJcbiIsICJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gTG9uZ0JpdHM7XG5cbnZhciB1dGlsID0gcmVxdWlyZShcIi4uL3V0aWwvbWluaW1hbFwiKTtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIG5ldyBsb25nIGJpdHMuXG4gKiBAY2xhc3NkZXNjIEhlbHBlciBjbGFzcyBmb3Igd29ya2luZyB3aXRoIHRoZSBsb3cgYW5kIGhpZ2ggYml0cyBvZiBhIDY0IGJpdCB2YWx1ZS5cbiAqIEBtZW1iZXJvZiB1dGlsXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7bnVtYmVyfSBsbyBMb3cgMzIgYml0cywgdW5zaWduZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBoaSBIaWdoIDMyIGJpdHMsIHVuc2lnbmVkXG4gKi9cbmZ1bmN0aW9uIExvbmdCaXRzKGxvLCBoaSkge1xuXG4gICAgLy8gbm90ZSB0aGF0IHRoZSBjYXN0cyBiZWxvdyBhcmUgdGhlb3JldGljYWxseSB1bm5lY2Vzc2FyeSBhcyBvZiB0b2RheSwgYnV0IG9sZGVyIHN0YXRpY2FsbHlcbiAgICAvLyBnZW5lcmF0ZWQgY29udmVydGVyIGNvZGUgbWlnaHQgc3RpbGwgY2FsbCB0aGUgY3RvciB3aXRoIHNpZ25lZCAzMmJpdHMuIGtlcHQgZm9yIGNvbXBhdC5cblxuICAgIC8qKlxuICAgICAqIExvdyBiaXRzLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5sbyA9IGxvID4+PiAwO1xuXG4gICAgLyoqXG4gICAgICogSGlnaCBiaXRzLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5oaSA9IGhpID4+PiAwO1xufVxuXG4vKipcbiAqIFplcm8gYml0cy5cbiAqIEBtZW1iZXJvZiB1dGlsLkxvbmdCaXRzXG4gKiBAdHlwZSB7dXRpbC5Mb25nQml0c31cbiAqL1xudmFyIHplcm8gPSBMb25nQml0cy56ZXJvID0gbmV3IExvbmdCaXRzKDAsIDApO1xuXG56ZXJvLnRvTnVtYmVyID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuemVyby56ekVuY29kZSA9IHplcm8uenpEZWNvZGUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH07XG56ZXJvLmxlbmd0aCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMTsgfTtcblxuLyoqXG4gKiBaZXJvIGhhc2guXG4gKiBAbWVtYmVyb2YgdXRpbC5Mb25nQml0c1xuICogQHR5cGUge3N0cmluZ31cbiAqL1xudmFyIHplcm9IYXNoID0gTG9uZ0JpdHMuemVyb0hhc2ggPSBcIlxcMFxcMFxcMFxcMFxcMFxcMFxcMFxcMFwiO1xuXG4vKipcbiAqIENvbnN0cnVjdHMgbmV3IGxvbmcgYml0cyBmcm9tIHRoZSBzcGVjaWZpZWQgbnVtYmVyLlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlXG4gKiBAcmV0dXJucyB7dXRpbC5Mb25nQml0c30gSW5zdGFuY2VcbiAqL1xuTG9uZ0JpdHMuZnJvbU51bWJlciA9IGZ1bmN0aW9uIGZyb21OdW1iZXIodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IDApXG4gICAgICAgIHJldHVybiB6ZXJvO1xuICAgIHZhciBzaWduID0gdmFsdWUgPCAwO1xuICAgIGlmIChzaWduKVxuICAgICAgICB2YWx1ZSA9IC12YWx1ZTtcbiAgICB2YXIgbG8gPSB2YWx1ZSA+Pj4gMCxcbiAgICAgICAgaGkgPSAodmFsdWUgLSBsbykgLyA0Mjk0OTY3Mjk2ID4+PiAwO1xuICAgIGlmIChzaWduKSB7XG4gICAgICAgIGhpID0gfmhpID4+PiAwO1xuICAgICAgICBsbyA9IH5sbyA+Pj4gMDtcbiAgICAgICAgaWYgKCsrbG8gPiA0Mjk0OTY3Mjk1KSB7XG4gICAgICAgICAgICBsbyA9IDA7XG4gICAgICAgICAgICBpZiAoKytoaSA+IDQyOTQ5NjcyOTUpXG4gICAgICAgICAgICAgICAgaGkgPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgTG9uZ0JpdHMobG8sIGhpKTtcbn07XG5cbi8qKlxuICogQ29uc3RydWN0cyBuZXcgbG9uZyBiaXRzIGZyb20gYSBudW1iZXIsIGxvbmcgb3Igc3RyaW5nLlxuICogQHBhcmFtIHtMb25nfG51bWJlcnxzdHJpbmd9IHZhbHVlIFZhbHVlXG4gKiBAcmV0dXJucyB7dXRpbC5Mb25nQml0c30gSW5zdGFuY2VcbiAqL1xuTG9uZ0JpdHMuZnJvbSA9IGZ1bmN0aW9uIGZyb20odmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKVxuICAgICAgICByZXR1cm4gTG9uZ0JpdHMuZnJvbU51bWJlcih2YWx1ZSk7XG4gICAgaWYgKHV0aWwuaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmICh1dGlsLkxvbmcpXG4gICAgICAgICAgICB2YWx1ZSA9IHV0aWwuTG9uZy5mcm9tU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIExvbmdCaXRzLmZyb21OdW1iZXIocGFyc2VJbnQodmFsdWUsIDEwKSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZS5sb3cgfHwgdmFsdWUuaGlnaCA/IG5ldyBMb25nQml0cyh2YWx1ZS5sb3cgPj4+IDAsIHZhbHVlLmhpZ2ggPj4+IDApIDogemVybztcbn07XG5cbi8qKlxuICogQ29udmVydHMgdGhpcyBsb25nIGJpdHMgdG8gYSBwb3NzaWJseSB1bnNhZmUgSmF2YVNjcmlwdCBudW1iZXIuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1bnNpZ25lZD1mYWxzZV0gV2hldGhlciB1bnNpZ25lZCBvciBub3RcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFBvc3NpYmx5IHVuc2FmZSBudW1iZXJcbiAqL1xuTG9uZ0JpdHMucHJvdG90eXBlLnRvTnVtYmVyID0gZnVuY3Rpb24gdG9OdW1iZXIodW5zaWduZWQpIHtcbiAgICBpZiAoIXVuc2lnbmVkICYmIHRoaXMuaGkgPj4+IDMxKSB7XG4gICAgICAgIHZhciBsbyA9IH50aGlzLmxvICsgMSA+Pj4gMCxcbiAgICAgICAgICAgIGhpID0gfnRoaXMuaGkgICAgID4+PiAwO1xuICAgICAgICBpZiAoIWxvKVxuICAgICAgICAgICAgaGkgPSBoaSArIDEgPj4+IDA7XG4gICAgICAgIHJldHVybiAtKGxvICsgaGkgKiA0Mjk0OTY3Mjk2KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubG8gKyB0aGlzLmhpICogNDI5NDk2NzI5Njtcbn07XG5cbi8qKlxuICogQ29udmVydHMgdGhpcyBsb25nIGJpdHMgdG8gYSBsb25nLlxuICogQHBhcmFtIHtib29sZWFufSBbdW5zaWduZWQ9ZmFsc2VdIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90XG4gKiBAcmV0dXJucyB7TG9uZ30gTG9uZ1xuICovXG5Mb25nQml0cy5wcm90b3R5cGUudG9Mb25nID0gZnVuY3Rpb24gdG9Mb25nKHVuc2lnbmVkKSB7XG4gICAgcmV0dXJuIHV0aWwuTG9uZ1xuICAgICAgICA/IG5ldyB1dGlsLkxvbmcodGhpcy5sbyB8IDAsIHRoaXMuaGkgfCAwLCBCb29sZWFuKHVuc2lnbmVkKSlcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgOiB7IGxvdzogdGhpcy5sbyB8IDAsIGhpZ2g6IHRoaXMuaGkgfCAwLCB1bnNpZ25lZDogQm9vbGVhbih1bnNpZ25lZCkgfTtcbn07XG5cbnZhciBjaGFyQ29kZUF0ID0gU3RyaW5nLnByb3RvdHlwZS5jaGFyQ29kZUF0O1xuXG4vKipcbiAqIENvbnN0cnVjdHMgbmV3IGxvbmcgYml0cyBmcm9tIHRoZSBzcGVjaWZpZWQgOCBjaGFyYWN0ZXJzIGxvbmcgaGFzaC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoIEhhc2hcbiAqIEByZXR1cm5zIHt1dGlsLkxvbmdCaXRzfSBCaXRzXG4gKi9cbkxvbmdCaXRzLmZyb21IYXNoID0gZnVuY3Rpb24gZnJvbUhhc2goaGFzaCkge1xuICAgIGlmIChoYXNoID09PSB6ZXJvSGFzaClcbiAgICAgICAgcmV0dXJuIHplcm87XG4gICAgcmV0dXJuIG5ldyBMb25nQml0cyhcbiAgICAgICAgKCBjaGFyQ29kZUF0LmNhbGwoaGFzaCwgMClcbiAgICAgICAgfCBjaGFyQ29kZUF0LmNhbGwoaGFzaCwgMSkgPDwgOFxuICAgICAgICB8IGNoYXJDb2RlQXQuY2FsbChoYXNoLCAyKSA8PCAxNlxuICAgICAgICB8IGNoYXJDb2RlQXQuY2FsbChoYXNoLCAzKSA8PCAyNCkgPj4+IDBcbiAgICAsXG4gICAgICAgICggY2hhckNvZGVBdC5jYWxsKGhhc2gsIDQpXG4gICAgICAgIHwgY2hhckNvZGVBdC5jYWxsKGhhc2gsIDUpIDw8IDhcbiAgICAgICAgfCBjaGFyQ29kZUF0LmNhbGwoaGFzaCwgNikgPDwgMTZcbiAgICAgICAgfCBjaGFyQ29kZUF0LmNhbGwoaGFzaCwgNykgPDwgMjQpID4+PiAwXG4gICAgKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgdGhpcyBsb25nIGJpdHMgdG8gYSA4IGNoYXJhY3RlcnMgbG9uZyBoYXNoLlxuICogQHJldHVybnMge3N0cmluZ30gSGFzaFxuICovXG5Mb25nQml0cy5wcm90b3R5cGUudG9IYXNoID0gZnVuY3Rpb24gdG9IYXNoKCkge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKFxuICAgICAgICB0aGlzLmxvICAgICAgICAmIDI1NSxcbiAgICAgICAgdGhpcy5sbyA+Pj4gOCAgJiAyNTUsXG4gICAgICAgIHRoaXMubG8gPj4+IDE2ICYgMjU1LFxuICAgICAgICB0aGlzLmxvID4+PiAyNCAgICAgICxcbiAgICAgICAgdGhpcy5oaSAgICAgICAgJiAyNTUsXG4gICAgICAgIHRoaXMuaGkgPj4+IDggICYgMjU1LFxuICAgICAgICB0aGlzLmhpID4+PiAxNiAmIDI1NSxcbiAgICAgICAgdGhpcy5oaSA+Pj4gMjRcbiAgICApO1xufTtcblxuLyoqXG4gKiBaaWctemFnIGVuY29kZXMgdGhpcyBsb25nIGJpdHMuXG4gKiBAcmV0dXJucyB7dXRpbC5Mb25nQml0c30gYHRoaXNgXG4gKi9cbkxvbmdCaXRzLnByb3RvdHlwZS56ekVuY29kZSA9IGZ1bmN0aW9uIHp6RW5jb2RlKCkge1xuICAgIHZhciBtYXNrID0gICB0aGlzLmhpID4+IDMxO1xuICAgIHRoaXMuaGkgID0gKCh0aGlzLmhpIDw8IDEgfCB0aGlzLmxvID4+PiAzMSkgXiBtYXNrKSA+Pj4gMDtcbiAgICB0aGlzLmxvICA9ICggdGhpcy5sbyA8PCAxICAgICAgICAgICAgICAgICAgIF4gbWFzaykgPj4+IDA7XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFppZy16YWcgZGVjb2RlcyB0aGlzIGxvbmcgYml0cy5cbiAqIEByZXR1cm5zIHt1dGlsLkxvbmdCaXRzfSBgdGhpc2BcbiAqL1xuTG9uZ0JpdHMucHJvdG90eXBlLnp6RGVjb2RlID0gZnVuY3Rpb24genpEZWNvZGUoKSB7XG4gICAgdmFyIG1hc2sgPSAtKHRoaXMubG8gJiAxKTtcbiAgICB0aGlzLmxvICA9ICgodGhpcy5sbyA+Pj4gMSB8IHRoaXMuaGkgPDwgMzEpIF4gbWFzaykgPj4+IDA7XG4gICAgdGhpcy5oaSAgPSAoIHRoaXMuaGkgPj4+IDEgICAgICAgICAgICAgICAgICBeIG1hc2spID4+PiAwO1xuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggb2YgdGhpcyBsb25nYml0cyB3aGVuIGVuY29kZWQgYXMgYSB2YXJpbnQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBMZW5ndGhcbiAqL1xuTG9uZ0JpdHMucHJvdG90eXBlLmxlbmd0aCA9IGZ1bmN0aW9uIGxlbmd0aCgpIHtcbiAgICB2YXIgcGFydDAgPSAgdGhpcy5sbyxcbiAgICAgICAgcGFydDEgPSAodGhpcy5sbyA+Pj4gMjggfCB0aGlzLmhpIDw8IDQpID4+PiAwLFxuICAgICAgICBwYXJ0MiA9ICB0aGlzLmhpID4+PiAyNDtcbiAgICByZXR1cm4gcGFydDIgPT09IDBcbiAgICAgICAgID8gcGFydDEgPT09IDBcbiAgICAgICAgICAgPyBwYXJ0MCA8IDE2Mzg0XG4gICAgICAgICAgICAgPyBwYXJ0MCA8IDEyOCA/IDEgOiAyXG4gICAgICAgICAgICAgOiBwYXJ0MCA8IDIwOTcxNTIgPyAzIDogNFxuICAgICAgICAgICA6IHBhcnQxIDwgMTYzODRcbiAgICAgICAgICAgICA/IHBhcnQxIDwgMTI4ID8gNSA6IDZcbiAgICAgICAgICAgICA6IHBhcnQxIDwgMjA5NzE1MiA/IDcgOiA4XG4gICAgICAgICA6IHBhcnQyIDwgMTI4ID8gOSA6IDEwO1xufTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbnZhciB1dGlsID0gZXhwb3J0cztcblxuLy8gdXNlZCB0byByZXR1cm4gYSBQcm9taXNlIHdoZXJlIGNhbGxiYWNrIGlzIG9taXR0ZWRcbnV0aWwuYXNQcm9taXNlID0gcmVxdWlyZShcIkBwcm90b2J1ZmpzL2FzcHJvbWlzZVwiKTtcblxuLy8gY29udmVydHMgdG8gLyBmcm9tIGJhc2U2NCBlbmNvZGVkIHN0cmluZ3NcbnV0aWwuYmFzZTY0ID0gcmVxdWlyZShcIkBwcm90b2J1ZmpzL2Jhc2U2NFwiKTtcblxuLy8gYmFzZSBjbGFzcyBvZiBycGMuU2VydmljZVxudXRpbC5FdmVudEVtaXR0ZXIgPSByZXF1aXJlKFwiQHByb3RvYnVmanMvZXZlbnRlbWl0dGVyXCIpO1xuXG4vLyBmbG9hdCBoYW5kbGluZyBhY2Nyb3NzIGJyb3dzZXJzXG51dGlsLmZsb2F0ID0gcmVxdWlyZShcIkBwcm90b2J1ZmpzL2Zsb2F0XCIpO1xuXG4vLyByZXF1aXJlcyBtb2R1bGVzIG9wdGlvbmFsbHkgYW5kIGhpZGVzIHRoZSBjYWxsIGZyb20gYnVuZGxlcnNcbnV0aWwuaW5xdWlyZSA9IHJlcXVpcmUoXCJAcHJvdG9idWZqcy9pbnF1aXJlXCIpO1xuXG4vLyBjb252ZXJ0cyB0byAvIGZyb20gdXRmOCBlbmNvZGVkIHN0cmluZ3NcbnV0aWwudXRmOCA9IHJlcXVpcmUoXCJAcHJvdG9idWZqcy91dGY4XCIpO1xuXG4vLyBwcm92aWRlcyBhIG5vZGUtbGlrZSBidWZmZXIgcG9vbCBpbiB0aGUgYnJvd3NlclxudXRpbC5wb29sID0gcmVxdWlyZShcIkBwcm90b2J1ZmpzL3Bvb2xcIik7XG5cbi8vIHV0aWxpdHkgdG8gd29yayB3aXRoIHRoZSBsb3cgYW5kIGhpZ2ggYml0cyBvZiBhIDY0IGJpdCB2YWx1ZVxudXRpbC5Mb25nQml0cyA9IHJlcXVpcmUoXCIuL2xvbmdiaXRzXCIpO1xuXG4vKipcbiAqIFdoZXRoZXIgcnVubmluZyB3aXRoaW4gbm9kZSBvciBub3QuXG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbnV0aWwuaXNOb2RlID0gQm9vbGVhbih0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICAgICAgICAgJiYgZ2xvYmFsXG4gICAgICAgICAgICAgICAgICAgJiYgZ2xvYmFsLnByb2Nlc3NcbiAgICAgICAgICAgICAgICAgICAmJiBnbG9iYWwucHJvY2Vzcy52ZXJzaW9uc1xuICAgICAgICAgICAgICAgICAgICYmIGdsb2JhbC5wcm9jZXNzLnZlcnNpb25zLm5vZGUpO1xuXG4vKipcbiAqIEdsb2JhbCBvYmplY3QgcmVmZXJlbmNlLlxuICogQG1lbWJlcm9mIHV0aWxcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbnV0aWwuZ2xvYmFsID0gdXRpbC5pc05vZGUgJiYgZ2xvYmFsXG4gICAgICAgICAgIHx8IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93XG4gICAgICAgICAgIHx8IHR5cGVvZiBzZWxmICAgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZlxuICAgICAgICAgICB8fCB0aGlzOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWludmFsaWQtdGhpc1xuXG4vKipcbiAqIEFuIGltbXVhYmxlIGVtcHR5IGFycmF5LlxuICogQG1lbWJlcm9mIHV0aWxcbiAqIEB0eXBlIHtBcnJheS48Kj59XG4gKiBAY29uc3RcbiAqL1xudXRpbC5lbXB0eUFycmF5ID0gT2JqZWN0LmZyZWV6ZSA/IE9iamVjdC5mcmVlemUoW10pIDogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gW107IC8vIHVzZWQgb24gcHJvdG90eXBlc1xuXG4vKipcbiAqIEFuIGltbXV0YWJsZSBlbXB0eSBvYmplY3QuXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQGNvbnN0XG4gKi9cbnV0aWwuZW1wdHlPYmplY3QgPSBPYmplY3QuZnJlZXplID8gT2JqZWN0LmZyZWV6ZSh7fSkgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyB7fTsgLy8gdXNlZCBvbiBwcm90b3R5cGVzXG5cbi8qKlxuICogVGVzdHMgaWYgdGhlIHNwZWNpZmllZCB2YWx1ZSBpcyBhbiBpbnRlZ2VyLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIHZhbHVlIGlzIGFuIGludGVnZXJcbiAqL1xudXRpbC5pc0ludGVnZXIgPSBOdW1iZXIuaXNJbnRlZ2VyIHx8IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIGZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgJiYgaXNGaW5pdGUodmFsdWUpICYmIE1hdGguZmxvb3IodmFsdWUpID09PSB2YWx1ZTtcbn07XG5cbi8qKlxuICogVGVzdHMgaWYgdGhlIHNwZWNpZmllZCB2YWx1ZSBpcyBhIHN0cmluZy5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgdmFsdWUgaXMgYSBzdHJpbmdcbiAqL1xudXRpbC5pc1N0cmluZyA9IGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiB8fCB2YWx1ZSBpbnN0YW5jZW9mIFN0cmluZztcbn07XG5cbi8qKlxuICogVGVzdHMgaWYgdGhlIHNwZWNpZmllZCB2YWx1ZSBpcyBhIG5vbi1udWxsIG9iamVjdC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgdmFsdWUgaXMgYSBub24tbnVsbCBvYmplY3RcbiAqL1xudXRpbC5pc09iamVjdCA9IGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIjtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgcHJvcGVydHkgb24gYSBtZXNzYWdlIGlzIGNvbnNpZGVyZWQgdG8gYmUgcHJlc2VudC5cbiAqIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIHV0aWwuaXNTZXR9LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFBsYWluIG9iamVjdCBvciBtZXNzYWdlIGluc3RhbmNlXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcCBQcm9wZXJ0eSBuYW1lXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIGNvbnNpZGVyZWQgdG8gYmUgcHJlc2VudCwgb3RoZXJ3aXNlIGBmYWxzZWBcbiAqL1xudXRpbC5pc3NldCA9XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgcHJvcGVydHkgb24gYSBtZXNzYWdlIGlzIGNvbnNpZGVyZWQgdG8gYmUgcHJlc2VudC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogUGxhaW4gb2JqZWN0IG9yIG1lc3NhZ2UgaW5zdGFuY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFByb3BlcnR5IG5hbWVcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgY29uc2lkZXJlZCB0byBiZSBwcmVzZW50LCBvdGhlcndpc2UgYGZhbHNlYFxuICovXG51dGlsLmlzU2V0ID0gZnVuY3Rpb24gaXNTZXQob2JqLCBwcm9wKSB7XG4gICAgdmFyIHZhbHVlID0gb2JqW3Byb3BdO1xuICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXEsIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8IChBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLmxlbmd0aCA6IE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGgpID4gMDtcbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIEFueSBjb21wYXRpYmxlIEJ1ZmZlciBpbnN0YW5jZS5cbiAqIFRoaXMgaXMgYSBtaW5pbWFsIHN0YW5kLWFsb25lIGRlZmluaXRpb24gb2YgYSBCdWZmZXIgaW5zdGFuY2UuIFRoZSBhY3R1YWwgdHlwZSBpcyB0aGF0IGV4cG9ydGVkIGJ5IG5vZGUncyB0eXBpbmdzLlxuICogQGludGVyZmFjZSBCdWZmZXJcbiAqIEBleHRlbmRzIFVpbnQ4QXJyYXlcbiAqL1xuXG4vKipcbiAqIE5vZGUncyBCdWZmZXIgY2xhc3MgaWYgYXZhaWxhYmxlLlxuICogQHR5cGUge0NvbnN0cnVjdG9yPEJ1ZmZlcj59XG4gKi9cbnV0aWwuQnVmZmVyID0gKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBCdWZmZXIgPSB1dGlsLmlucXVpcmUoXCJidWZmZXJcIikuQnVmZmVyO1xuICAgICAgICAvLyByZWZ1c2UgdG8gdXNlIG5vbi1ub2RlIGJ1ZmZlcnMgaWYgbm90IGV4cGxpY2l0bHkgYXNzaWduZWQgKHBlcmYgcmVhc29ucyk6XG4gICAgICAgIHJldHVybiBCdWZmZXIucHJvdG90eXBlLnV0ZjhXcml0ZSA/IEJ1ZmZlciA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIG51bGw7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59KSgpO1xuXG4vLyBJbnRlcm5hbCBhbGlhcyBvZiBvciBwb2x5ZnVsbCBmb3IgQnVmZmVyLmZyb20uXG51dGlsLl9CdWZmZXJfZnJvbSA9IG51bGw7XG5cbi8vIEludGVybmFsIGFsaWFzIG9mIG9yIHBvbHlmaWxsIGZvciBCdWZmZXIuYWxsb2NVbnNhZmUuXG51dGlsLl9CdWZmZXJfYWxsb2NVbnNhZmUgPSBudWxsO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgYnVmZmVyIG9mIHdoYXRldmVyIHR5cGUgc3VwcG9ydGVkIGJ5IHRoZSBlbnZpcm9ubWVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfG51bWJlcltdfSBbc2l6ZU9yQXJyYXk9MF0gQnVmZmVyIHNpemUgb3IgbnVtYmVyIGFycmF5XG4gKiBAcmV0dXJucyB7VWludDhBcnJheXxCdWZmZXJ9IEJ1ZmZlclxuICovXG51dGlsLm5ld0J1ZmZlciA9IGZ1bmN0aW9uIG5ld0J1ZmZlcihzaXplT3JBcnJheSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcmV0dXJuIHR5cGVvZiBzaXplT3JBcnJheSA9PT0gXCJudW1iZXJcIlxuICAgICAgICA/IHV0aWwuQnVmZmVyXG4gICAgICAgICAgICA/IHV0aWwuX0J1ZmZlcl9hbGxvY1Vuc2FmZShzaXplT3JBcnJheSlcbiAgICAgICAgICAgIDogbmV3IHV0aWwuQXJyYXkoc2l6ZU9yQXJyYXkpXG4gICAgICAgIDogdXRpbC5CdWZmZXJcbiAgICAgICAgICAgID8gdXRpbC5fQnVmZmVyX2Zyb20oc2l6ZU9yQXJyYXkpXG4gICAgICAgICAgICA6IHR5cGVvZiBVaW50OEFycmF5ID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICAgICAgPyBzaXplT3JBcnJheVxuICAgICAgICAgICAgICAgIDogbmV3IFVpbnQ4QXJyYXkoc2l6ZU9yQXJyYXkpO1xufTtcblxuLyoqXG4gKiBBcnJheSBpbXBsZW1lbnRhdGlvbiB1c2VkIGluIHRoZSBicm93c2VyLiBgVWludDhBcnJheWAgaWYgc3VwcG9ydGVkLCBvdGhlcndpc2UgYEFycmF5YC5cbiAqIEB0eXBlIHtDb25zdHJ1Y3RvcjxVaW50OEFycmF5Pn1cbiAqL1xudXRpbC5BcnJheSA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSBcInVuZGVmaW5lZFwiID8gVWludDhBcnJheSAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyA6IEFycmF5O1xuXG4vKipcbiAqIEFueSBjb21wYXRpYmxlIExvbmcgaW5zdGFuY2UuXG4gKiBUaGlzIGlzIGEgbWluaW1hbCBzdGFuZC1hbG9uZSBkZWZpbml0aW9uIG9mIGEgTG9uZyBpbnN0YW5jZS4gVGhlIGFjdHVhbCB0eXBlIGlzIHRoYXQgZXhwb3J0ZWQgYnkgbG9uZy5qcy5cbiAqIEBpbnRlcmZhY2UgTG9uZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGxvdyBMb3cgYml0c1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGhpZ2ggSGlnaCBiaXRzXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90XG4gKi9cblxuLyoqXG4gKiBMb25nLmpzJ3MgTG9uZyBjbGFzcyBpZiBhdmFpbGFibGUuXG4gKiBAdHlwZSB7Q29uc3RydWN0b3I8TG9uZz59XG4gKi9cbnV0aWwuTG9uZyA9IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIHV0aWwuZ2xvYmFsLmRjb2RlSU8gJiYgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gdXRpbC5nbG9iYWwuZGNvZGVJTy5Mb25nXG4gICAgICAgICB8fCAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyB1dGlsLmdsb2JhbC5Mb25nXG4gICAgICAgICB8fCB1dGlsLmlucXVpcmUoXCJsb25nXCIpO1xuXG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiB1c2VkIHRvIHZlcmlmeSAyIGJpdCAoYGJvb2xgKSBtYXAga2V5cy5cbiAqIEB0eXBlIHtSZWdFeHB9XG4gKiBAY29uc3RcbiAqL1xudXRpbC5rZXkyUmUgPSAvXnRydWV8ZmFsc2V8MHwxJC87XG5cbi8qKlxuICogUmVndWxhciBleHByZXNzaW9uIHVzZWQgdG8gdmVyaWZ5IDMyIGJpdCAoYGludDMyYCBldGMuKSBtYXAga2V5cy5cbiAqIEB0eXBlIHtSZWdFeHB9XG4gKiBAY29uc3RcbiAqL1xudXRpbC5rZXkzMlJlID0gL14tPyg/OjB8WzEtOV1bMC05XSopJC87XG5cbi8qKlxuICogUmVndWxhciBleHByZXNzaW9uIHVzZWQgdG8gdmVyaWZ5IDY0IGJpdCAoYGludDY0YCBldGMuKSBtYXAga2V5cy5cbiAqIEB0eXBlIHtSZWdFeHB9XG4gKiBAY29uc3RcbiAqL1xudXRpbC5rZXk2NFJlID0gL14oPzpbXFxcXHgwMC1cXFxceGZmXXs4fXwtPyg/OjB8WzEtOV1bMC05XSopKSQvO1xuXG4vKipcbiAqIENvbnZlcnRzIGEgbnVtYmVyIG9yIGxvbmcgdG8gYW4gOCBjaGFyYWN0ZXJzIGxvbmcgaGFzaCBzdHJpbmcuXG4gKiBAcGFyYW0ge0xvbmd8bnVtYmVyfSB2YWx1ZSBWYWx1ZSB0byBjb252ZXJ0XG4gKiBAcmV0dXJucyB7c3RyaW5nfSBIYXNoXG4gKi9cbnV0aWwubG9uZ1RvSGFzaCA9IGZ1bmN0aW9uIGxvbmdUb0hhc2godmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgPyB1dGlsLkxvbmdCaXRzLmZyb20odmFsdWUpLnRvSGFzaCgpXG4gICAgICAgIDogdXRpbC5Mb25nQml0cy56ZXJvSGFzaDtcbn07XG5cbi8qKlxuICogQ29udmVydHMgYW4gOCBjaGFyYWN0ZXJzIGxvbmcgaGFzaCBzdHJpbmcgdG8gYSBsb25nIG9yIG51bWJlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoIEhhc2hcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Vuc2lnbmVkPWZhbHNlXSBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdFxuICogQHJldHVybnMge0xvbmd8bnVtYmVyfSBPcmlnaW5hbCB2YWx1ZVxuICovXG51dGlsLmxvbmdGcm9tSGFzaCA9IGZ1bmN0aW9uIGxvbmdGcm9tSGFzaChoYXNoLCB1bnNpZ25lZCkge1xuICAgIHZhciBiaXRzID0gdXRpbC5Mb25nQml0cy5mcm9tSGFzaChoYXNoKTtcbiAgICBpZiAodXRpbC5Mb25nKVxuICAgICAgICByZXR1cm4gdXRpbC5Mb25nLmZyb21CaXRzKGJpdHMubG8sIGJpdHMuaGksIHVuc2lnbmVkKTtcbiAgICByZXR1cm4gYml0cy50b051bWJlcihCb29sZWFuKHVuc2lnbmVkKSk7XG59O1xuXG4vKipcbiAqIE1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiB0aGUgc291cmNlIG9iamVjdCBpbnRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gZHN0IERlc3RpbmF0aW9uIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gc3JjIFNvdXJjZSBvYmplY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lmTm90U2V0PWZhbHNlXSBNZXJnZXMgb25seSBpZiB0aGUga2V5IGlzIG5vdCBhbHJlYWR5IHNldFxuICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBEZXN0aW5hdGlvbiBvYmplY3RcbiAqL1xuZnVuY3Rpb24gbWVyZ2UoZHN0LCBzcmMsIGlmTm90U2V0KSB7IC8vIHVzZWQgYnkgY29udmVydGVyc1xuICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhzcmMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgIGlmIChkc3Rba2V5c1tpXV0gPT09IHVuZGVmaW5lZCB8fCAhaWZOb3RTZXQpXG4gICAgICAgICAgICBkc3Rba2V5c1tpXV0gPSBzcmNba2V5c1tpXV07XG4gICAgcmV0dXJuIGRzdDtcbn1cblxudXRpbC5tZXJnZSA9IG1lcmdlO1xuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYSBzdHJpbmcgdG8gbG93ZXIgY2FzZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgU3RyaW5nIHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IENvbnZlcnRlZCBzdHJpbmdcbiAqL1xudXRpbC5sY0ZpcnN0ID0gZnVuY3Rpb24gbGNGaXJzdChzdHIpIHtcbiAgICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgc3RyLnN1YnN0cmluZygxKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGN1c3RvbSBlcnJvciBjb25zdHJ1Y3Rvci5cbiAqIEBtZW1iZXJvZiB1dGlsXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBFcnJvciBuYW1lXG4gKiBAcmV0dXJucyB7Q29uc3RydWN0b3I8RXJyb3I+fSBDdXN0b20gZXJyb3IgY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gbmV3RXJyb3IobmFtZSkge1xuXG4gICAgZnVuY3Rpb24gQ3VzdG9tRXJyb3IobWVzc2FnZSwgcHJvcGVydGllcykge1xuXG4gICAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDdXN0b21FcnJvcikpXG4gICAgICAgICAgICByZXR1cm4gbmV3IEN1c3RvbUVycm9yKG1lc3NhZ2UsIHByb3BlcnRpZXMpO1xuXG4gICAgICAgIC8vIEVycm9yLmNhbGwodGhpcywgbWVzc2FnZSk7XG4gICAgICAgIC8vIF4ganVzdCByZXR1cm5zIGEgbmV3IGVycm9yIGluc3RhbmNlIGJlY2F1c2UgdGhlIGN0b3IgY2FuIGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uXG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWVzc2FnZVwiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtZXNzYWdlOyB9IH0pO1xuXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkgLy8gbm9kZVxuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgQ3VzdG9tRXJyb3IpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdGFja1wiLCB7IHZhbHVlOiBuZXcgRXJyb3IoKS5zdGFjayB8fCBcIlwiIH0pO1xuXG4gICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgbWVyZ2UodGhpcywgcHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgQ3VzdG9tRXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUsIHtcbiAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICAgIHZhbHVlOiBDdXN0b21FcnJvcixcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgeyByZXR1cm4gbmFtZTsgfSxcbiAgICAgICAgICAgIHNldDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAvLyBjb25maWd1cmFibGU6IGZhbHNlIHdvdWxkIGFjY3VyYXRlbHkgcHJlc2VydmUgdGhlIGJlaGF2aW9yIG9mXG4gICAgICAgICAgICAvLyB0aGUgb3JpZ2luYWwsIGJ1dCBJJ20gZ3Vlc3NpbmcgdGhhdCB3YXMgbm90IGludGVudGlvbmFsLlxuICAgICAgICAgICAgLy8gRm9yIGFuIGFjdHVhbCBlcnJvciBzdWJjbGFzcywgdGhpcyBwcm9wZXJ0eSB3b3VsZFxuICAgICAgICAgICAgLy8gYmUgY29uZmlndXJhYmxlLlxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICB0b1N0cmluZzoge1xuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkgeyByZXR1cm4gdGhpcy5uYW1lICsgXCI6IFwiICsgdGhpcy5tZXNzYWdlOyB9LFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIHJldHVybiBDdXN0b21FcnJvcjtcbn1cblxudXRpbC5uZXdFcnJvciA9IG5ld0Vycm9yO1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBuZXcgcHJvdG9jb2wgZXJyb3IuXG4gKiBAY2xhc3NkZXNjIEVycm9yIHN1YmNsYXNzIGluZGljYXRpbmcgYSBwcm90b2NvbCBzcGVjaWZjIGVycm9yLlxuICogQG1lbWJlcm9mIHV0aWxcbiAqIEBleHRlbmRzIEVycm9yXG4gKiBAdGVtcGxhdGUgVCBleHRlbmRzIE1lc3NhZ2U8VD5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgRXJyb3IgbWVzc2FnZVxuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gW3Byb3BlcnRpZXNdIEFkZGl0aW9uYWwgcHJvcGVydGllc1xuICogQGV4YW1wbGVcbiAqIHRyeSB7XG4gKiAgICAgTXlNZXNzYWdlLmRlY29kZShzb21lQnVmZmVyKTsgLy8gdGhyb3dzIGlmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICogfSBjYXRjaCAoZSkge1xuICogICAgIGlmIChlIGluc3RhbmNlb2YgUHJvdG9jb2xFcnJvciAmJiBlLmluc3RhbmNlKVxuICogICAgICAgICBjb25zb2xlLmxvZyhcImRlY29kZWQgc28gZmFyOiBcIiArIEpTT04uc3RyaW5naWZ5KGUuaW5zdGFuY2UpKTtcbiAqIH1cbiAqL1xudXRpbC5Qcm90b2NvbEVycm9yID0gbmV3RXJyb3IoXCJQcm90b2NvbEVycm9yXCIpO1xuXG4vKipcbiAqIFNvIGZhciBkZWNvZGVkIG1lc3NhZ2UgaW5zdGFuY2UuXG4gKiBAbmFtZSB1dGlsLlByb3RvY29sRXJyb3IjaW5zdGFuY2VcbiAqIEB0eXBlIHtNZXNzYWdlPFQ+fVxuICovXG5cbi8qKlxuICogQSBPbmVPZiBnZXR0ZXIgYXMgcmV0dXJuZWQgYnkge0BsaW5rIHV0aWwub25lT2ZHZXR0ZXJ9LlxuICogQHR5cGVkZWYgT25lT2ZHZXR0ZXJcbiAqIEB0eXBlIHtmdW5jdGlvbn1cbiAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBTZXQgZmllbGQgbmFtZSwgaWYgYW55XG4gKi9cblxuLyoqXG4gKiBCdWlsZHMgYSBnZXR0ZXIgZm9yIGEgb25lb2YncyBwcmVzZW50IGZpZWxkIG5hbWUuXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBmaWVsZE5hbWVzIEZpZWxkIG5hbWVzXG4gKiBAcmV0dXJucyB7T25lT2ZHZXR0ZXJ9IFVuYm91bmQgZ2V0dGVyXG4gKi9cbnV0aWwub25lT2ZHZXR0ZXIgPSBmdW5jdGlvbiBnZXRPbmVPZihmaWVsZE5hbWVzKSB7XG4gICAgdmFyIGZpZWxkTWFwID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWVsZE5hbWVzLmxlbmd0aDsgKytpKVxuICAgICAgICBmaWVsZE1hcFtmaWVsZE5hbWVzW2ldXSA9IDE7XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH0gU2V0IGZpZWxkIG5hbWUsIGlmIGFueVxuICAgICAqIEB0aGlzIE9iamVjdFxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMpLCBpID0ga2V5cy5sZW5ndGggLSAxOyBpID4gLTE7IC0taSlcbiAgICAgICAgICAgIGlmIChmaWVsZE1hcFtrZXlzW2ldXSA9PT0gMSAmJiB0aGlzW2tleXNbaV1dICE9PSB1bmRlZmluZWQgJiYgdGhpc1trZXlzW2ldXSAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5c1tpXTtcbiAgICB9O1xufTtcblxuLyoqXG4gKiBBIE9uZU9mIHNldHRlciBhcyByZXR1cm5lZCBieSB7QGxpbmsgdXRpbC5vbmVPZlNldHRlcn0uXG4gKiBAdHlwZWRlZiBPbmVPZlNldHRlclxuICogQHR5cGUge2Z1bmN0aW9ufVxuICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSB2YWx1ZSBGaWVsZCBuYW1lXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICovXG5cbi8qKlxuICogQnVpbGRzIGEgc2V0dGVyIGZvciBhIG9uZW9mJ3MgcHJlc2VudCBmaWVsZCBuYW1lLlxuICogQHBhcmFtIHtzdHJpbmdbXX0gZmllbGROYW1lcyBGaWVsZCBuYW1lc1xuICogQHJldHVybnMge09uZU9mU2V0dGVyfSBVbmJvdW5kIHNldHRlclxuICovXG51dGlsLm9uZU9mU2V0dGVyID0gZnVuY3Rpb24gc2V0T25lT2YoZmllbGROYW1lcykge1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgRmllbGQgbmFtZVxuICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAgICogQHRoaXMgT2JqZWN0XG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmllbGROYW1lcy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIGlmIChmaWVsZE5hbWVzW2ldICE9PSBuYW1lKVxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzW2ZpZWxkTmFtZXNbaV1dO1xuICAgIH07XG59O1xuXG4vKipcbiAqIERlZmF1bHQgY29udmVyc2lvbiBvcHRpb25zIHVzZWQgZm9yIHtAbGluayBNZXNzYWdlI3RvSlNPTn0gaW1wbGVtZW50YXRpb25zLlxuICpcbiAqIFRoZXNlIG9wdGlvbnMgYXJlIGNsb3NlIHRvIHByb3RvMydzIEpTT04gbWFwcGluZyB3aXRoIHRoZSBleGNlcHRpb24gdGhhdCBpbnRlcm5hbCB0eXBlcyBsaWtlIEFueSBhcmUgaGFuZGxlZCBqdXN0IGxpa2UgbWVzc2FnZXMuIE1vcmUgcHJlY2lzZWx5OlxuICpcbiAqIC0gTG9uZ3MgYmVjb21lIHN0cmluZ3NcbiAqIC0gRW51bXMgYmVjb21lIHN0cmluZyBrZXlzXG4gKiAtIEJ5dGVzIGJlY29tZSBiYXNlNjQgZW5jb2RlZCBzdHJpbmdzXG4gKiAtIChTdWItKU1lc3NhZ2VzIGJlY29tZSBwbGFpbiBvYmplY3RzXG4gKiAtIE1hcHMgYmVjb21lIHBsYWluIG9iamVjdHMgd2l0aCBhbGwgc3RyaW5nIGtleXNcbiAqIC0gUmVwZWF0ZWQgZmllbGRzIGJlY29tZSBhcnJheXNcbiAqIC0gTmFOIGFuZCBJbmZpbml0eSBmb3IgZmxvYXQgYW5kIGRvdWJsZSBmaWVsZHMgYmVjb21lIHN0cmluZ3NcbiAqXG4gKiBAdHlwZSB7SUNvbnZlcnNpb25PcHRpb25zfVxuICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9wcm90b2NvbC1idWZmZXJzL2RvY3MvcHJvdG8zP2hsPWVuI2pzb25cbiAqL1xudXRpbC50b0pTT05PcHRpb25zID0ge1xuICAgIGxvbmdzOiBTdHJpbmcsXG4gICAgZW51bXM6IFN0cmluZyxcbiAgICBieXRlczogU3RyaW5nLFxuICAgIGpzb246IHRydWVcbn07XG5cbi8vIFNldHMgdXAgYnVmZmVyIHV0aWxpdHkgYWNjb3JkaW5nIHRvIHRoZSBlbnZpcm9ubWVudCAoY2FsbGVkIGluIGluZGV4LW1pbmltYWwpXG51dGlsLl9jb25maWd1cmUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgQnVmZmVyID0gdXRpbC5CdWZmZXI7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCFCdWZmZXIpIHtcbiAgICAgICAgdXRpbC5fQnVmZmVyX2Zyb20gPSB1dGlsLl9CdWZmZXJfYWxsb2NVbnNhZmUgPSBudWxsO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGJlY2F1c2Ugbm9kZSA0LnggYnVmZmVycyBhcmUgaW5jb21wYXRpYmxlICYgaW1tdXRhYmxlXG4gICAgLy8gc2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGNvZGVJTy9wcm90b2J1Zi5qcy9wdWxsLzY2NVxuICAgIHV0aWwuX0J1ZmZlcl9mcm9tID0gQnVmZmVyLmZyb20gIT09IFVpbnQ4QXJyYXkuZnJvbSAmJiBCdWZmZXIuZnJvbSB8fFxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBmdW5jdGlvbiBCdWZmZXJfZnJvbSh2YWx1ZSwgZW5jb2RpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQnVmZmVyKHZhbHVlLCBlbmNvZGluZyk7XG4gICAgICAgIH07XG4gICAgdXRpbC5fQnVmZmVyX2FsbG9jVW5zYWZlID0gQnVmZmVyLmFsbG9jVW5zYWZlIHx8XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGZ1bmN0aW9uIEJ1ZmZlcl9hbGxvY1Vuc2FmZShzaXplKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlcihzaXplKTtcbiAgICAgICAgfTtcbn07XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IFdyaXRlcjtcblxudmFyIHV0aWwgICAgICA9IHJlcXVpcmUoXCIuL3V0aWwvbWluaW1hbFwiKTtcblxudmFyIEJ1ZmZlcldyaXRlcjsgLy8gY3ljbGljXG5cbnZhciBMb25nQml0cyAgPSB1dGlsLkxvbmdCaXRzLFxuICAgIGJhc2U2NCAgICA9IHV0aWwuYmFzZTY0LFxuICAgIHV0ZjggICAgICA9IHV0aWwudXRmODtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IHdyaXRlciBvcGVyYXRpb24gaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIFNjaGVkdWxlZCB3cml0ZXIgb3BlcmF0aW9uLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCosIFVpbnQ4QXJyYXksIG51bWJlcil9IGZuIEZ1bmN0aW9uIHRvIGNhbGxcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZW4gVmFsdWUgYnl0ZSBsZW5ndGhcbiAqIEBwYXJhbSB7Kn0gdmFsIFZhbHVlIHRvIHdyaXRlXG4gKiBAaWdub3JlXG4gKi9cbmZ1bmN0aW9uIE9wKGZuLCBsZW4sIHZhbCkge1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdG8gY2FsbC5cbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oVWludDhBcnJheSwgbnVtYmVyLCAqKX1cbiAgICAgKi9cbiAgICB0aGlzLmZuID0gZm47XG5cbiAgICAvKipcbiAgICAgKiBWYWx1ZSBieXRlIGxlbmd0aC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubGVuID0gbGVuO1xuXG4gICAgLyoqXG4gICAgICogTmV4dCBvcGVyYXRpb24uXG4gICAgICogQHR5cGUge1dyaXRlci5PcHx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5uZXh0ID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogVmFsdWUgdG8gd3JpdGUuXG4gICAgICogQHR5cGUgeyp9XG4gICAgICovXG4gICAgdGhpcy52YWwgPSB2YWw7IC8vIHR5cGUgdmFyaWVzXG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5mdW5jdGlvbiBub29wKCkge30gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eS1mdW5jdGlvblxuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBuZXcgd3JpdGVyIHN0YXRlIGluc3RhbmNlLlxuICogQGNsYXNzZGVzYyBDb3BpZWQgd3JpdGVyIHN0YXRlLlxuICogQG1lbWJlcm9mIFdyaXRlclxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge1dyaXRlcn0gd3JpdGVyIFdyaXRlciB0byBjb3B5IHN0YXRlIGZyb21cbiAqIEBpZ25vcmVcbiAqL1xuZnVuY3Rpb24gU3RhdGUod3JpdGVyKSB7XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IGhlYWQuXG4gICAgICogQHR5cGUge1dyaXRlci5PcH1cbiAgICAgKi9cbiAgICB0aGlzLmhlYWQgPSB3cml0ZXIuaGVhZDtcblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgdGFpbC5cbiAgICAgKiBAdHlwZSB7V3JpdGVyLk9wfVxuICAgICAqL1xuICAgIHRoaXMudGFpbCA9IHdyaXRlci50YWlsO1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCBidWZmZXIgbGVuZ3RoLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5sZW4gPSB3cml0ZXIubGVuO1xuXG4gICAgLyoqXG4gICAgICogTmV4dCBzdGF0ZS5cbiAgICAgKiBAdHlwZSB7U3RhdGV8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLm5leHQgPSB3cml0ZXIuc3RhdGVzO1xufVxuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBuZXcgd3JpdGVyIGluc3RhbmNlLlxuICogQGNsYXNzZGVzYyBXaXJlIGZvcm1hdCB3cml0ZXIgdXNpbmcgYFVpbnQ4QXJyYXlgIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIGBBcnJheWAuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gV3JpdGVyKCkge1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCBsZW5ndGguXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxlbiA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBPcGVyYXRpb25zIGhlYWQuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmhlYWQgPSBuZXcgT3Aobm9vcCwgMCwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBPcGVyYXRpb25zIHRhaWxcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMudGFpbCA9IHRoaXMuaGVhZDtcblxuICAgIC8qKlxuICAgICAqIExpbmtlZCBmb3JrZWQgc3RhdGVzLlxuICAgICAqIEB0eXBlIHtPYmplY3R8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLnN0YXRlcyA9IG51bGw7XG5cbiAgICAvLyBXaGVuIGEgdmFsdWUgaXMgd3JpdHRlbiwgdGhlIHdyaXRlciBjYWxjdWxhdGVzIGl0cyBieXRlIGxlbmd0aCBhbmQgcHV0cyBpdCBpbnRvIGEgbGlua2VkXG4gICAgLy8gbGlzdCBvZiBvcGVyYXRpb25zIHRvIHBlcmZvcm0gd2hlbiBmaW5pc2goKSBpcyBjYWxsZWQuIFRoaXMgYm90aCBhbGxvd3MgdXMgdG8gYWxsb2NhdGVcbiAgICAvLyBidWZmZXJzIG9mIHRoZSBleGFjdCByZXF1aXJlZCBzaXplIGFuZCByZWR1Y2VzIHRoZSBhbW91bnQgb2Ygd29yayB3ZSBoYXZlIHRvIGRvIGNvbXBhcmVkXG4gICAgLy8gdG8gZmlyc3QgY2FsY3VsYXRpbmcgb3ZlciBvYmplY3RzIGFuZCB0aGVuIGVuY29kaW5nIG92ZXIgb2JqZWN0cy4gSW4gb3VyIGNhc2UsIHRoZSBlbmNvZGluZ1xuICAgIC8vIHBhcnQgaXMganVzdCBhIGxpbmtlZCBsaXN0IHdhbGsgY2FsbGluZyBvcGVyYXRpb25zIHdpdGggYWxyZWFkeSBwcmVwYXJlZCB2YWx1ZXMuXG59XG5cbnZhciBjcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgcmV0dXJuIHV0aWwuQnVmZmVyXG4gICAgICAgID8gZnVuY3Rpb24gY3JlYXRlX2J1ZmZlcl9zZXR1cCgpIHtcbiAgICAgICAgICAgIHJldHVybiAoV3JpdGVyLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZV9idWZmZXIoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCdWZmZXJXcml0ZXIoKTtcbiAgICAgICAgICAgIH0pKCk7XG4gICAgICAgIH1cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgOiBmdW5jdGlvbiBjcmVhdGVfYXJyYXkoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFdyaXRlcigpO1xuICAgICAgICB9O1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHdyaXRlci5cbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge0J1ZmZlcldyaXRlcnxXcml0ZXJ9IEEge0BsaW5rIEJ1ZmZlcldyaXRlcn0gd2hlbiBCdWZmZXJzIGFyZSBzdXBwb3J0ZWQsIG90aGVyd2lzZSBhIHtAbGluayBXcml0ZXJ9XG4gKi9cbldyaXRlci5jcmVhdGUgPSBjcmVhdGUoKTtcblxuLyoqXG4gKiBBbGxvY2F0ZXMgYSBidWZmZXIgb2YgdGhlIHNwZWNpZmllZCBzaXplLlxuICogQHBhcmFtIHtudW1iZXJ9IHNpemUgQnVmZmVyIHNpemVcbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBCdWZmZXJcbiAqL1xuV3JpdGVyLmFsbG9jID0gZnVuY3Rpb24gYWxsb2Moc2l6ZSkge1xuICAgIHJldHVybiBuZXcgdXRpbC5BcnJheShzaXplKTtcbn07XG5cbi8vIFVzZSBVaW50OEFycmF5IGJ1ZmZlciBwb29sIGluIHRoZSBicm93c2VyLCBqdXN0IGxpa2Ugbm9kZSBkb2VzIHdpdGggYnVmZmVyc1xuLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbmlmICh1dGlsLkFycmF5ICE9PSBBcnJheSlcbiAgICBXcml0ZXIuYWxsb2MgPSB1dGlsLnBvb2woV3JpdGVyLmFsbG9jLCB1dGlsLkFycmF5LnByb3RvdHlwZS5zdWJhcnJheSk7XG5cbi8qKlxuICogUHVzaGVzIGEgbmV3IG9wZXJhdGlvbiB0byB0aGUgcXVldWUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKFVpbnQ4QXJyYXksIG51bWJlciwgKil9IGZuIEZ1bmN0aW9uIHRvIGNhbGxcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZW4gVmFsdWUgYnl0ZSBsZW5ndGhcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICogQHByaXZhdGVcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5fcHVzaCA9IGZ1bmN0aW9uIHB1c2goZm4sIGxlbiwgdmFsKSB7XG4gICAgdGhpcy50YWlsID0gdGhpcy50YWlsLm5leHQgPSBuZXcgT3AoZm4sIGxlbiwgdmFsKTtcbiAgICB0aGlzLmxlbiArPSBsZW47XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiB3cml0ZUJ5dGUodmFsLCBidWYsIHBvcykge1xuICAgIGJ1Zltwb3NdID0gdmFsICYgMjU1O1xufVxuXG5mdW5jdGlvbiB3cml0ZVZhcmludDMyKHZhbCwgYnVmLCBwb3MpIHtcbiAgICB3aGlsZSAodmFsID4gMTI3KSB7XG4gICAgICAgIGJ1Zltwb3MrK10gPSB2YWwgJiAxMjcgfCAxMjg7XG4gICAgICAgIHZhbCA+Pj49IDc7XG4gICAgfVxuICAgIGJ1Zltwb3NdID0gdmFsO1xufVxuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBuZXcgdmFyaW50IHdyaXRlciBvcGVyYXRpb24gaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIFNjaGVkdWxlZCB2YXJpbnQgd3JpdGVyIG9wZXJhdGlvbi5cbiAqIEBleHRlbmRzIE9wXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZW4gVmFsdWUgYnl0ZSBsZW5ndGhcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgVmFsdWUgdG8gd3JpdGVcbiAqIEBpZ25vcmVcbiAqL1xuZnVuY3Rpb24gVmFyaW50T3AobGVuLCB2YWwpIHtcbiAgICB0aGlzLmxlbiA9IGxlbjtcbiAgICB0aGlzLm5leHQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy52YWwgPSB2YWw7XG59XG5cblZhcmludE9wLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoT3AucHJvdG90eXBlKTtcblZhcmludE9wLnByb3RvdHlwZS5mbiA9IHdyaXRlVmFyaW50MzI7XG5cbi8qKlxuICogV3JpdGVzIGFuIHVuc2lnbmVkIDMyIGJpdCB2YWx1ZSBhcyBhIHZhcmludC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUudWludDMyID0gZnVuY3Rpb24gd3JpdGVfdWludDMyKHZhbHVlKSB7XG4gICAgLy8gaGVyZSwgdGhlIGNhbGwgdG8gdGhpcy5wdXNoIGhhcyBiZWVuIGlubGluZWQgYW5kIGEgdmFyaW50IHNwZWNpZmljIE9wIHN1YmNsYXNzIGlzIHVzZWQuXG4gICAgLy8gdWludDMyIGlzIGJ5IGZhciB0aGUgbW9zdCBmcmVxdWVudGx5IHVzZWQgb3BlcmF0aW9uIGFuZCBiZW5lZml0cyBzaWduaWZpY2FudGx5IGZyb20gdGhpcy5cbiAgICB0aGlzLmxlbiArPSAodGhpcy50YWlsID0gdGhpcy50YWlsLm5leHQgPSBuZXcgVmFyaW50T3AoXG4gICAgICAgICh2YWx1ZSA9IHZhbHVlID4+PiAwKVxuICAgICAgICAgICAgICAgIDwgMTI4ICAgICAgID8gMVxuICAgICAgICA6IHZhbHVlIDwgMTYzODQgICAgID8gMlxuICAgICAgICA6IHZhbHVlIDwgMjA5NzE1MiAgID8gM1xuICAgICAgICA6IHZhbHVlIDwgMjY4NDM1NDU2ID8gNFxuICAgICAgICA6ICAgICAgICAgICAgICAgICAgICAgNSxcbiAgICB2YWx1ZSkpLmxlbjtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogV3JpdGVzIGEgc2lnbmVkIDMyIGJpdCB2YWx1ZSBhcyBhIHZhcmludC5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5pbnQzMiA9IGZ1bmN0aW9uIHdyaXRlX2ludDMyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIDwgMFxuICAgICAgICA/IHRoaXMuX3B1c2god3JpdGVWYXJpbnQ2NCwgMTAsIExvbmdCaXRzLmZyb21OdW1iZXIodmFsdWUpKSAvLyAxMCBieXRlcyBwZXIgc3BlY1xuICAgICAgICA6IHRoaXMudWludDMyKHZhbHVlKTtcbn07XG5cbi8qKlxuICogV3JpdGVzIGEgMzIgYml0IHZhbHVlIGFzIGEgdmFyaW50LCB6aWctemFnIGVuY29kZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLnNpbnQzMiA9IGZ1bmN0aW9uIHdyaXRlX3NpbnQzMih2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLnVpbnQzMigodmFsdWUgPDwgMSBeIHZhbHVlID4+IDMxKSA+Pj4gMCk7XG59O1xuXG5mdW5jdGlvbiB3cml0ZVZhcmludDY0KHZhbCwgYnVmLCBwb3MpIHtcbiAgICB3aGlsZSAodmFsLmhpKSB7XG4gICAgICAgIGJ1Zltwb3MrK10gPSB2YWwubG8gJiAxMjcgfCAxMjg7XG4gICAgICAgIHZhbC5sbyA9ICh2YWwubG8gPj4+IDcgfCB2YWwuaGkgPDwgMjUpID4+PiAwO1xuICAgICAgICB2YWwuaGkgPj4+PSA3O1xuICAgIH1cbiAgICB3aGlsZSAodmFsLmxvID4gMTI3KSB7XG4gICAgICAgIGJ1Zltwb3MrK10gPSB2YWwubG8gJiAxMjcgfCAxMjg7XG4gICAgICAgIHZhbC5sbyA9IHZhbC5sbyA+Pj4gNztcbiAgICB9XG4gICAgYnVmW3BvcysrXSA9IHZhbC5sbztcbn1cblxuLyoqXG4gKiBXcml0ZXMgYW4gdW5zaWduZWQgNjQgYml0IHZhbHVlIGFzIGEgdmFyaW50LlxuICogQHBhcmFtIHtMb25nfG51bWJlcnxzdHJpbmd9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gSWYgYHZhbHVlYCBpcyBhIHN0cmluZyBhbmQgbm8gbG9uZyBsaWJyYXJ5IGlzIHByZXNlbnQuXG4gKi9cbldyaXRlci5wcm90b3R5cGUudWludDY0ID0gZnVuY3Rpb24gd3JpdGVfdWludDY0KHZhbHVlKSB7XG4gICAgdmFyIGJpdHMgPSBMb25nQml0cy5mcm9tKHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcy5fcHVzaCh3cml0ZVZhcmludDY0LCBiaXRzLmxlbmd0aCgpLCBiaXRzKTtcbn07XG5cbi8qKlxuICogV3JpdGVzIGEgc2lnbmVkIDY0IGJpdCB2YWx1ZSBhcyBhIHZhcmludC5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtMb25nfG51bWJlcnxzdHJpbmd9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gSWYgYHZhbHVlYCBpcyBhIHN0cmluZyBhbmQgbm8gbG9uZyBsaWJyYXJ5IGlzIHByZXNlbnQuXG4gKi9cbldyaXRlci5wcm90b3R5cGUuaW50NjQgPSBXcml0ZXIucHJvdG90eXBlLnVpbnQ2NDtcblxuLyoqXG4gKiBXcml0ZXMgYSBzaWduZWQgNjQgYml0IHZhbHVlIGFzIGEgdmFyaW50LCB6aWctemFnIGVuY29kZWQuXG4gKiBAcGFyYW0ge0xvbmd8bnVtYmVyfHN0cmluZ30gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBgdmFsdWVgIGlzIGEgc3RyaW5nIGFuZCBubyBsb25nIGxpYnJhcnkgaXMgcHJlc2VudC5cbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5zaW50NjQgPSBmdW5jdGlvbiB3cml0ZV9zaW50NjQodmFsdWUpIHtcbiAgICB2YXIgYml0cyA9IExvbmdCaXRzLmZyb20odmFsdWUpLnp6RW5jb2RlKCk7XG4gICAgcmV0dXJuIHRoaXMuX3B1c2god3JpdGVWYXJpbnQ2NCwgYml0cy5sZW5ndGgoKSwgYml0cyk7XG59O1xuXG4vKipcbiAqIFdyaXRlcyBhIGJvb2xpc2ggdmFsdWUgYXMgYSB2YXJpbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5ib29sID0gZnVuY3Rpb24gd3JpdGVfYm9vbCh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9wdXNoKHdyaXRlQnl0ZSwgMSwgdmFsdWUgPyAxIDogMCk7XG59O1xuXG5mdW5jdGlvbiB3cml0ZUZpeGVkMzIodmFsLCBidWYsIHBvcykge1xuICAgIGJ1Zltwb3MgICAgXSA9ICB2YWwgICAgICAgICAmIDI1NTtcbiAgICBidWZbcG9zICsgMV0gPSAgdmFsID4+PiA4ICAgJiAyNTU7XG4gICAgYnVmW3BvcyArIDJdID0gIHZhbCA+Pj4gMTYgICYgMjU1O1xuICAgIGJ1Zltwb3MgKyAzXSA9ICB2YWwgPj4+IDI0O1xufVxuXG4vKipcbiAqIFdyaXRlcyBhbiB1bnNpZ25lZCAzMiBiaXQgdmFsdWUgYXMgZml4ZWQgMzIgYml0cy5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuZml4ZWQzMiA9IGZ1bmN0aW9uIHdyaXRlX2ZpeGVkMzIodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5fcHVzaCh3cml0ZUZpeGVkMzIsIDQsIHZhbHVlID4+PiAwKTtcbn07XG5cbi8qKlxuICogV3JpdGVzIGEgc2lnbmVkIDMyIGJpdCB2YWx1ZSBhcyBmaXhlZCAzMiBiaXRzLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLnNmaXhlZDMyID0gV3JpdGVyLnByb3RvdHlwZS5maXhlZDMyO1xuXG4vKipcbiAqIFdyaXRlcyBhbiB1bnNpZ25lZCA2NCBiaXQgdmFsdWUgYXMgZml4ZWQgNjQgYml0cy5cbiAqIEBwYXJhbSB7TG9uZ3xudW1iZXJ8c3RyaW5nfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IElmIGB2YWx1ZWAgaXMgYSBzdHJpbmcgYW5kIG5vIGxvbmcgbGlicmFyeSBpcyBwcmVzZW50LlxuICovXG5Xcml0ZXIucHJvdG90eXBlLmZpeGVkNjQgPSBmdW5jdGlvbiB3cml0ZV9maXhlZDY0KHZhbHVlKSB7XG4gICAgdmFyIGJpdHMgPSBMb25nQml0cy5mcm9tKHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcy5fcHVzaCh3cml0ZUZpeGVkMzIsIDQsIGJpdHMubG8pLl9wdXNoKHdyaXRlRml4ZWQzMiwgNCwgYml0cy5oaSk7XG59O1xuXG4vKipcbiAqIFdyaXRlcyBhIHNpZ25lZCA2NCBiaXQgdmFsdWUgYXMgZml4ZWQgNjQgYml0cy5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtMb25nfG51bWJlcnxzdHJpbmd9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gSWYgYHZhbHVlYCBpcyBhIHN0cmluZyBhbmQgbm8gbG9uZyBsaWJyYXJ5IGlzIHByZXNlbnQuXG4gKi9cbldyaXRlci5wcm90b3R5cGUuc2ZpeGVkNjQgPSBXcml0ZXIucHJvdG90eXBlLmZpeGVkNjQ7XG5cbi8qKlxuICogV3JpdGVzIGEgZmxvYXQgKDMyIGJpdCkuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuZmxvYXQgPSBmdW5jdGlvbiB3cml0ZV9mbG9hdCh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9wdXNoKHV0aWwuZmxvYXQud3JpdGVGbG9hdExFLCA0LCB2YWx1ZSk7XG59O1xuXG4vKipcbiAqIFdyaXRlcyBhIGRvdWJsZSAoNjQgYml0IGZsb2F0KS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5kb3VibGUgPSBmdW5jdGlvbiB3cml0ZV9kb3VibGUodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5fcHVzaCh1dGlsLmZsb2F0LndyaXRlRG91YmxlTEUsIDgsIHZhbHVlKTtcbn07XG5cbnZhciB3cml0ZUJ5dGVzID0gdXRpbC5BcnJheS5wcm90b3R5cGUuc2V0XG4gICAgPyBmdW5jdGlvbiB3cml0ZUJ5dGVzX3NldCh2YWwsIGJ1ZiwgcG9zKSB7XG4gICAgICAgIGJ1Zi5zZXQodmFsLCBwb3MpOyAvLyBhbHNvIHdvcmtzIGZvciBwbGFpbiBhcnJheSB2YWx1ZXNcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICA6IGZ1bmN0aW9uIHdyaXRlQnl0ZXNfZm9yKHZhbCwgYnVmLCBwb3MpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWwubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICBidWZbcG9zICsgaV0gPSB2YWxbaV07XG4gICAgfTtcblxuLyoqXG4gKiBXcml0ZXMgYSBzZXF1ZW5jZSBvZiBieXRlcy5cbiAqIEBwYXJhbSB7VWludDhBcnJheXxzdHJpbmd9IHZhbHVlIEJ1ZmZlciBvciBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmJ5dGVzID0gZnVuY3Rpb24gd3JpdGVfYnl0ZXModmFsdWUpIHtcbiAgICB2YXIgbGVuID0gdmFsdWUubGVuZ3RoID4+PiAwO1xuICAgIGlmICghbGVuKVxuICAgICAgICByZXR1cm4gdGhpcy5fcHVzaCh3cml0ZUJ5dGUsIDEsIDApO1xuICAgIGlmICh1dGlsLmlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICB2YXIgYnVmID0gV3JpdGVyLmFsbG9jKGxlbiA9IGJhc2U2NC5sZW5ndGgodmFsdWUpKTtcbiAgICAgICAgYmFzZTY0LmRlY29kZSh2YWx1ZSwgYnVmLCAwKTtcbiAgICAgICAgdmFsdWUgPSBidWY7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnVpbnQzMihsZW4pLl9wdXNoKHdyaXRlQnl0ZXMsIGxlbiwgdmFsdWUpO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSBzdHJpbmcuXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLnN0cmluZyA9IGZ1bmN0aW9uIHdyaXRlX3N0cmluZyh2YWx1ZSkge1xuICAgIHZhciBsZW4gPSB1dGY4Lmxlbmd0aCh2YWx1ZSk7XG4gICAgcmV0dXJuIGxlblxuICAgICAgICA/IHRoaXMudWludDMyKGxlbikuX3B1c2godXRmOC53cml0ZSwgbGVuLCB2YWx1ZSlcbiAgICAgICAgOiB0aGlzLl9wdXNoKHdyaXRlQnl0ZSwgMSwgMCk7XG59O1xuXG4vKipcbiAqIEZvcmtzIHRoaXMgd3JpdGVyJ3Mgc3RhdGUgYnkgcHVzaGluZyBpdCB0byBhIHN0YWNrLlxuICogQ2FsbGluZyB7QGxpbmsgV3JpdGVyI3Jlc2V0fHJlc2V0fSBvciB7QGxpbmsgV3JpdGVyI2xkZWxpbXxsZGVsaW19IHJlc2V0cyB0aGUgd3JpdGVyIHRvIHRoZSBwcmV2aW91cyBzdGF0ZS5cbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmZvcmsgPSBmdW5jdGlvbiBmb3JrKCkge1xuICAgIHRoaXMuc3RhdGVzID0gbmV3IFN0YXRlKHRoaXMpO1xuICAgIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG5ldyBPcChub29wLCAwLCAwKTtcbiAgICB0aGlzLmxlbiA9IDA7XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlc2V0cyB0aGlzIGluc3RhbmNlIHRvIHRoZSBsYXN0IHN0YXRlLlxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZXMpIHtcbiAgICAgICAgdGhpcy5oZWFkICAgPSB0aGlzLnN0YXRlcy5oZWFkO1xuICAgICAgICB0aGlzLnRhaWwgICA9IHRoaXMuc3RhdGVzLnRhaWw7XG4gICAgICAgIHRoaXMubGVuICAgID0gdGhpcy5zdGF0ZXMubGVuO1xuICAgICAgICB0aGlzLnN0YXRlcyA9IHRoaXMuc3RhdGVzLm5leHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbmV3IE9wKG5vb3AsIDAsIDApO1xuICAgICAgICB0aGlzLmxlbiAgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVzZXRzIHRvIHRoZSBsYXN0IHN0YXRlIGFuZCBhcHBlbmRzIHRoZSBmb3JrIHN0YXRlJ3MgY3VycmVudCB3cml0ZSBsZW5ndGggYXMgYSB2YXJpbnQgZm9sbG93ZWQgYnkgaXRzIG9wZXJhdGlvbnMuXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5sZGVsaW0gPSBmdW5jdGlvbiBsZGVsaW0oKSB7XG4gICAgdmFyIGhlYWQgPSB0aGlzLmhlYWQsXG4gICAgICAgIHRhaWwgPSB0aGlzLnRhaWwsXG4gICAgICAgIGxlbiAgPSB0aGlzLmxlbjtcbiAgICB0aGlzLnJlc2V0KCkudWludDMyKGxlbik7XG4gICAgaWYgKGxlbikge1xuICAgICAgICB0aGlzLnRhaWwubmV4dCA9IGhlYWQubmV4dDsgLy8gc2tpcCBub29wXG4gICAgICAgIHRoaXMudGFpbCA9IHRhaWw7XG4gICAgICAgIHRoaXMubGVuICs9IGxlbjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEZpbmlzaGVzIHRoZSB3cml0ZSBvcGVyYXRpb24uXG4gKiBAcmV0dXJucyB7VWludDhBcnJheX0gRmluaXNoZWQgYnVmZmVyXG4gKi9cbldyaXRlci5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24gZmluaXNoKCkge1xuICAgIHZhciBoZWFkID0gdGhpcy5oZWFkLm5leHQsIC8vIHNraXAgbm9vcFxuICAgICAgICBidWYgID0gdGhpcy5jb25zdHJ1Y3Rvci5hbGxvYyh0aGlzLmxlbiksXG4gICAgICAgIHBvcyAgPSAwO1xuICAgIHdoaWxlIChoZWFkKSB7XG4gICAgICAgIGhlYWQuZm4oaGVhZC52YWwsIGJ1ZiwgcG9zKTtcbiAgICAgICAgcG9zICs9IGhlYWQubGVuO1xuICAgICAgICBoZWFkID0gaGVhZC5uZXh0O1xuICAgIH1cbiAgICAvLyB0aGlzLmhlYWQgPSB0aGlzLnRhaWwgPSBudWxsO1xuICAgIHJldHVybiBidWY7XG59O1xuXG5Xcml0ZXIuX2NvbmZpZ3VyZSA9IGZ1bmN0aW9uKEJ1ZmZlcldyaXRlcl8pIHtcbiAgICBCdWZmZXJXcml0ZXIgPSBCdWZmZXJXcml0ZXJfO1xuICAgIFdyaXRlci5jcmVhdGUgPSBjcmVhdGUoKTtcbiAgICBCdWZmZXJXcml0ZXIuX2NvbmZpZ3VyZSgpO1xufTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gQnVmZmVyV3JpdGVyO1xuXG4vLyBleHRlbmRzIFdyaXRlclxudmFyIFdyaXRlciA9IHJlcXVpcmUoXCIuL3dyaXRlclwiKTtcbihCdWZmZXJXcml0ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShXcml0ZXIucHJvdG90eXBlKSkuY29uc3RydWN0b3IgPSBCdWZmZXJXcml0ZXI7XG5cbnZhciB1dGlsID0gcmVxdWlyZShcIi4vdXRpbC9taW5pbWFsXCIpO1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBuZXcgYnVmZmVyIHdyaXRlciBpbnN0YW5jZS5cbiAqIEBjbGFzc2Rlc2MgV2lyZSBmb3JtYXQgd3JpdGVyIHVzaW5nIG5vZGUgYnVmZmVycy5cbiAqIEBleHRlbmRzIFdyaXRlclxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEJ1ZmZlcldyaXRlcigpIHtcbiAgICBXcml0ZXIuY2FsbCh0aGlzKTtcbn1cblxuQnVmZmVyV3JpdGVyLl9jb25maWd1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQWxsb2NhdGVzIGEgYnVmZmVyIG9mIHRoZSBzcGVjaWZpZWQgc2l6ZS5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSBCdWZmZXIgc2l6ZVxuICAgICAqIEByZXR1cm5zIHtCdWZmZXJ9IEJ1ZmZlclxuICAgICAqL1xuICAgIEJ1ZmZlcldyaXRlci5hbGxvYyA9IHV0aWwuX0J1ZmZlcl9hbGxvY1Vuc2FmZTtcblxuICAgIEJ1ZmZlcldyaXRlci53cml0ZUJ5dGVzQnVmZmVyID0gdXRpbC5CdWZmZXIgJiYgdXRpbC5CdWZmZXIucHJvdG90eXBlIGluc3RhbmNlb2YgVWludDhBcnJheSAmJiB1dGlsLkJ1ZmZlci5wcm90b3R5cGUuc2V0Lm5hbWUgPT09IFwic2V0XCJcbiAgICAgICAgPyBmdW5jdGlvbiB3cml0ZUJ5dGVzQnVmZmVyX3NldCh2YWwsIGJ1ZiwgcG9zKSB7XG4gICAgICAgICAgYnVmLnNldCh2YWwsIHBvcyk7IC8vIGZhc3RlciB0aGFuIGNvcHkgKHJlcXVpcmVzIG5vZGUgPj0gNCB3aGVyZSBCdWZmZXJzIGV4dGVuZCBVaW50OEFycmF5IGFuZCBzZXQgaXMgcHJvcGVybHkgaW5oZXJpdGVkKVxuICAgICAgICAgIC8vIGFsc28gd29ya3MgZm9yIHBsYWluIGFycmF5IHZhbHVlc1xuICAgICAgICB9XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIDogZnVuY3Rpb24gd3JpdGVCeXRlc0J1ZmZlcl9jb3B5KHZhbCwgYnVmLCBwb3MpIHtcbiAgICAgICAgICBpZiAodmFsLmNvcHkpIC8vIEJ1ZmZlciB2YWx1ZXNcbiAgICAgICAgICAgIHZhbC5jb3B5KGJ1ZiwgcG9zLCAwLCB2YWwubGVuZ3RoKTtcbiAgICAgICAgICBlbHNlIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsLmxlbmd0aDspIC8vIHBsYWluIGFycmF5IHZhbHVlc1xuICAgICAgICAgICAgYnVmW3BvcysrXSA9IHZhbFtpKytdO1xuICAgICAgICB9O1xufTtcblxuXG4vKipcbiAqIEBvdmVycmlkZVxuICovXG5CdWZmZXJXcml0ZXIucHJvdG90eXBlLmJ5dGVzID0gZnVuY3Rpb24gd3JpdGVfYnl0ZXNfYnVmZmVyKHZhbHVlKSB7XG4gICAgaWYgKHV0aWwuaXNTdHJpbmcodmFsdWUpKVxuICAgICAgICB2YWx1ZSA9IHV0aWwuX0J1ZmZlcl9mcm9tKHZhbHVlLCBcImJhc2U2NFwiKTtcbiAgICB2YXIgbGVuID0gdmFsdWUubGVuZ3RoID4+PiAwO1xuICAgIHRoaXMudWludDMyKGxlbik7XG4gICAgaWYgKGxlbilcbiAgICAgICAgdGhpcy5fcHVzaChCdWZmZXJXcml0ZXIud3JpdGVCeXRlc0J1ZmZlciwgbGVuLCB2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiB3cml0ZVN0cmluZ0J1ZmZlcih2YWwsIGJ1ZiwgcG9zKSB7XG4gICAgaWYgKHZhbC5sZW5ndGggPCA0MCkgLy8gcGxhaW4ganMgaXMgZmFzdGVyIGZvciBzaG9ydCBzdHJpbmdzIChwcm9iYWJseSBkdWUgdG8gcmVkdW5kYW50IGFzc2VydGlvbnMpXG4gICAgICAgIHV0aWwudXRmOC53cml0ZSh2YWwsIGJ1ZiwgcG9zKTtcbiAgICBlbHNlIGlmIChidWYudXRmOFdyaXRlKVxuICAgICAgICBidWYudXRmOFdyaXRlKHZhbCwgcG9zKTtcbiAgICBlbHNlXG4gICAgICAgIGJ1Zi53cml0ZSh2YWwsIHBvcyk7XG59XG5cbi8qKlxuICogQG92ZXJyaWRlXG4gKi9cbkJ1ZmZlcldyaXRlci5wcm90b3R5cGUuc3RyaW5nID0gZnVuY3Rpb24gd3JpdGVfc3RyaW5nX2J1ZmZlcih2YWx1ZSkge1xuICAgIHZhciBsZW4gPSB1dGlsLkJ1ZmZlci5ieXRlTGVuZ3RoKHZhbHVlKTtcbiAgICB0aGlzLnVpbnQzMihsZW4pO1xuICAgIGlmIChsZW4pXG4gICAgICAgIHRoaXMuX3B1c2god3JpdGVTdHJpbmdCdWZmZXIsIGxlbiwgdmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xufTtcblxuXG4vKipcbiAqIEZpbmlzaGVzIHRoZSB3cml0ZSBvcGVyYXRpb24uXG4gKiBAbmFtZSBCdWZmZXJXcml0ZXIjZmluaXNoXG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtCdWZmZXJ9IEZpbmlzaGVkIGJ1ZmZlclxuICovXG5cbkJ1ZmZlcldyaXRlci5fY29uZmlndXJlKCk7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IFJlYWRlcjtcblxudmFyIHV0aWwgICAgICA9IHJlcXVpcmUoXCIuL3V0aWwvbWluaW1hbFwiKTtcblxudmFyIEJ1ZmZlclJlYWRlcjsgLy8gY3ljbGljXG5cbnZhciBMb25nQml0cyAgPSB1dGlsLkxvbmdCaXRzLFxuICAgIHV0ZjggICAgICA9IHV0aWwudXRmODtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIGluZGV4T3V0T2ZSYW5nZShyZWFkZXIsIHdyaXRlTGVuZ3RoKSB7XG4gICAgcmV0dXJuIFJhbmdlRXJyb3IoXCJpbmRleCBvdXQgb2YgcmFuZ2U6IFwiICsgcmVhZGVyLnBvcyArIFwiICsgXCIgKyAod3JpdGVMZW5ndGggfHwgMSkgKyBcIiA+IFwiICsgcmVhZGVyLmxlbik7XG59XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyByZWFkZXIgaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBidWZmZXIuXG4gKiBAY2xhc3NkZXNjIFdpcmUgZm9ybWF0IHJlYWRlciB1c2luZyBgVWludDhBcnJheWAgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgYEFycmF5YC5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWZmZXIgQnVmZmVyIHRvIHJlYWQgZnJvbVxuICovXG5mdW5jdGlvbiBSZWFkZXIoYnVmZmVyKSB7XG5cbiAgICAvKipcbiAgICAgKiBSZWFkIGJ1ZmZlci5cbiAgICAgKiBAdHlwZSB7VWludDhBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmJ1ZiA9IGJ1ZmZlcjtcblxuICAgIC8qKlxuICAgICAqIFJlYWQgYnVmZmVyIHBvc2l0aW9uLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5wb3MgPSAwO1xuXG4gICAgLyoqXG4gICAgICogUmVhZCBidWZmZXIgbGVuZ3RoLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5sZW4gPSBidWZmZXIubGVuZ3RoO1xufVxuXG52YXIgY3JlYXRlX2FycmF5ID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09IFwidW5kZWZpbmVkXCJcbiAgICA/IGZ1bmN0aW9uIGNyZWF0ZV90eXBlZF9hcnJheShidWZmZXIpIHtcbiAgICAgICAgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgfHwgQXJyYXkuaXNBcnJheShidWZmZXIpKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWFkZXIoYnVmZmVyKTtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJpbGxlZ2FsIGJ1ZmZlclwiKTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICA6IGZ1bmN0aW9uIGNyZWF0ZV9hcnJheShidWZmZXIpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYnVmZmVyKSlcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVhZGVyKGJ1ZmZlcik7XG4gICAgICAgIHRocm93IEVycm9yKFwiaWxsZWdhbCBidWZmZXJcIik7XG4gICAgfTtcblxudmFyIGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICByZXR1cm4gdXRpbC5CdWZmZXJcbiAgICAgICAgPyBmdW5jdGlvbiBjcmVhdGVfYnVmZmVyX3NldHVwKGJ1ZmZlcikge1xuICAgICAgICAgICAgcmV0dXJuIChSZWFkZXIuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlX2J1ZmZlcihidWZmZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbC5CdWZmZXIuaXNCdWZmZXIoYnVmZmVyKVxuICAgICAgICAgICAgICAgICAgICA/IG5ldyBCdWZmZXJSZWFkZXIoYnVmZmVyKVxuICAgICAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgICAgICAgICA6IGNyZWF0ZV9hcnJheShidWZmZXIpO1xuICAgICAgICAgICAgfSkoYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICA6IGNyZWF0ZV9hcnJheTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyByZWFkZXIgdXNpbmcgdGhlIHNwZWNpZmllZCBidWZmZXIuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7VWludDhBcnJheXxCdWZmZXJ9IGJ1ZmZlciBCdWZmZXIgdG8gcmVhZCBmcm9tXG4gKiBAcmV0dXJucyB7UmVhZGVyfEJ1ZmZlclJlYWRlcn0gQSB7QGxpbmsgQnVmZmVyUmVhZGVyfSBpZiBgYnVmZmVyYCBpcyBhIEJ1ZmZlciwgb3RoZXJ3aXNlIGEge0BsaW5rIFJlYWRlcn1cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiBgYnVmZmVyYCBpcyBub3QgYSB2YWxpZCBidWZmZXJcbiAqL1xuUmVhZGVyLmNyZWF0ZSA9IGNyZWF0ZSgpO1xuXG5SZWFkZXIucHJvdG90eXBlLl9zbGljZSA9IHV0aWwuQXJyYXkucHJvdG90eXBlLnN1YmFycmF5IHx8IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIHV0aWwuQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG4vKipcbiAqIFJlYWRzIGEgdmFyaW50IGFzIGFuIHVuc2lnbmVkIDMyIGJpdCB2YWx1ZS5cbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge251bWJlcn0gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLnVpbnQzMiA9IChmdW5jdGlvbiByZWFkX3VpbnQzMl9zZXR1cCgpIHtcbiAgICB2YXIgdmFsdWUgPSA0Mjk0OTY3Mjk1OyAvLyBvcHRpbWl6ZXIgdHlwZS1oaW50LCB0ZW5kcyB0byBkZW9wdCBvdGhlcndpc2UgKD8hKVxuICAgIHJldHVybiBmdW5jdGlvbiByZWFkX3VpbnQzMigpIHtcbiAgICAgICAgdmFsdWUgPSAoICAgICAgICAgdGhpcy5idWZbdGhpcy5wb3NdICYgMTI3ICAgICAgICkgPj4+IDA7IGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOCkgcmV0dXJuIHZhbHVlO1xuICAgICAgICB2YWx1ZSA9ICh2YWx1ZSB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcpIDw8ICA3KSA+Pj4gMDsgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KSByZXR1cm4gdmFsdWU7XG4gICAgICAgIHZhbHVlID0gKHZhbHVlIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmIDEyNykgPDwgMTQpID4+PiAwOyBpZiAodGhpcy5idWZbdGhpcy5wb3MrK10gPCAxMjgpIHJldHVybiB2YWx1ZTtcbiAgICAgICAgdmFsdWUgPSAodmFsdWUgfCAodGhpcy5idWZbdGhpcy5wb3NdICYgMTI3KSA8PCAyMSkgPj4+IDA7IGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOCkgcmV0dXJuIHZhbHVlO1xuICAgICAgICB2YWx1ZSA9ICh2YWx1ZSB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAgMTUpIDw8IDI4KSA+Pj4gMDsgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KSByZXR1cm4gdmFsdWU7XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICgodGhpcy5wb3MgKz0gNSkgPiB0aGlzLmxlbikge1xuICAgICAgICAgICAgdGhpcy5wb3MgPSB0aGlzLmxlbjtcbiAgICAgICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzLCAxMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG59KSgpO1xuXG4vKipcbiAqIFJlYWRzIGEgdmFyaW50IGFzIGEgc2lnbmVkIDMyIGJpdCB2YWx1ZS5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5pbnQzMiA9IGZ1bmN0aW9uIHJlYWRfaW50MzIoKSB7XG4gICAgcmV0dXJuIHRoaXMudWludDMyKCkgfCAwO1xufTtcblxuLyoqXG4gKiBSZWFkcyBhIHppZy16YWcgZW5jb2RlZCB2YXJpbnQgYXMgYSBzaWduZWQgMzIgYml0IHZhbHVlLlxuICogQHJldHVybnMge251bWJlcn0gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLnNpbnQzMiA9IGZ1bmN0aW9uIHJlYWRfc2ludDMyKCkge1xuICAgIHZhciB2YWx1ZSA9IHRoaXMudWludDMyKCk7XG4gICAgcmV0dXJuIHZhbHVlID4+PiAxIF4gLSh2YWx1ZSAmIDEpIHwgMDtcbn07XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLWludmFsaWQtdGhpcyAqL1xuXG5mdW5jdGlvbiByZWFkTG9uZ1ZhcmludCgpIHtcbiAgICAvLyB0ZW5kcyB0byBkZW9wdCB3aXRoIGxvY2FsIHZhcnMgZm9yIG9jdGV0IGV0Yy5cbiAgICB2YXIgYml0cyA9IG5ldyBMb25nQml0cygwLCAwKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgaWYgKHRoaXMubGVuIC0gdGhpcy5wb3MgPiA0KSB7IC8vIGZhc3Qgcm91dGUgKGxvKVxuICAgICAgICBmb3IgKDsgaSA8IDQ7ICsraSkge1xuICAgICAgICAgICAgLy8gMXN0Li40dGhcbiAgICAgICAgICAgIGJpdHMubG8gPSAoYml0cy5sbyB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcpIDw8IGkgKiA3KSA+Pj4gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOClcbiAgICAgICAgICAgICAgICByZXR1cm4gYml0cztcbiAgICAgICAgfVxuICAgICAgICAvLyA1dGhcbiAgICAgICAgYml0cy5sbyA9IChiaXRzLmxvIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmIDEyNykgPDwgMjgpID4+PiAwO1xuICAgICAgICBiaXRzLmhpID0gKGJpdHMuaGkgfCAodGhpcy5idWZbdGhpcy5wb3NdICYgMTI3KSA+PiAgNCkgPj4+IDA7XG4gICAgICAgIGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOClcbiAgICAgICAgICAgIHJldHVybiBiaXRzO1xuICAgICAgICBpID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKDsgaSA8IDM7ICsraSkge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAodGhpcy5wb3MgPj0gdGhpcy5sZW4pXG4gICAgICAgICAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMpO1xuICAgICAgICAgICAgLy8gMXN0Li4zdGhcbiAgICAgICAgICAgIGJpdHMubG8gPSAoYml0cy5sbyB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcpIDw8IGkgKiA3KSA+Pj4gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOClcbiAgICAgICAgICAgICAgICByZXR1cm4gYml0cztcbiAgICAgICAgfVxuICAgICAgICAvLyA0dGhcbiAgICAgICAgYml0cy5sbyA9IChiaXRzLmxvIHwgKHRoaXMuYnVmW3RoaXMucG9zKytdICYgMTI3KSA8PCBpICogNykgPj4+IDA7XG4gICAgICAgIHJldHVybiBiaXRzO1xuICAgIH1cbiAgICBpZiAodGhpcy5sZW4gLSB0aGlzLnBvcyA+IDQpIHsgLy8gZmFzdCByb3V0ZSAoaGkpXG4gICAgICAgIGZvciAoOyBpIDwgNTsgKytpKSB7XG4gICAgICAgICAgICAvLyA2dGguLjEwdGhcbiAgICAgICAgICAgIGJpdHMuaGkgPSAoYml0cy5oaSB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcpIDw8IGkgKiA3ICsgMykgPj4+IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5idWZbdGhpcy5wb3MrK10gPCAxMjgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJpdHM7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKDsgaSA8IDU7ICsraSkge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAodGhpcy5wb3MgPj0gdGhpcy5sZW4pXG4gICAgICAgICAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMpO1xuICAgICAgICAgICAgLy8gNnRoLi4xMHRoXG4gICAgICAgICAgICBiaXRzLmhpID0gKGJpdHMuaGkgfCAodGhpcy5idWZbdGhpcy5wb3NdICYgMTI3KSA8PCBpICogNyArIDMpID4+PiAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KVxuICAgICAgICAgICAgICAgIHJldHVybiBiaXRzO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgdGhyb3cgRXJyb3IoXCJpbnZhbGlkIHZhcmludCBlbmNvZGluZ1wiKTtcbn1cblxuLyogZXNsaW50LWVuYWJsZSBuby1pbnZhbGlkLXRoaXMgKi9cblxuLyoqXG4gKiBSZWFkcyBhIHZhcmludCBhcyBhIHNpZ25lZCA2NCBiaXQgdmFsdWUuXG4gKiBAbmFtZSBSZWFkZXIjaW50NjRcbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge0xvbmd9IFZhbHVlIHJlYWRcbiAqL1xuXG4vKipcbiAqIFJlYWRzIGEgdmFyaW50IGFzIGFuIHVuc2lnbmVkIDY0IGJpdCB2YWx1ZS5cbiAqIEBuYW1lIFJlYWRlciN1aW50NjRcbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge0xvbmd9IFZhbHVlIHJlYWRcbiAqL1xuXG4vKipcbiAqIFJlYWRzIGEgemlnLXphZyBlbmNvZGVkIHZhcmludCBhcyBhIHNpZ25lZCA2NCBiaXQgdmFsdWUuXG4gKiBAbmFtZSBSZWFkZXIjc2ludDY0XG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtMb25nfSBWYWx1ZSByZWFkXG4gKi9cblxuLyoqXG4gKiBSZWFkcyBhIHZhcmludCBhcyBhIGJvb2xlYW4uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLmJvb2wgPSBmdW5jdGlvbiByZWFkX2Jvb2woKSB7XG4gICAgcmV0dXJuIHRoaXMudWludDMyKCkgIT09IDA7XG59O1xuXG5mdW5jdGlvbiByZWFkRml4ZWQzMl9lbmQoYnVmLCBlbmQpIHsgLy8gbm90ZSB0aGF0IHRoaXMgdXNlcyBgZW5kYCwgbm90IGBwb3NgXG4gICAgcmV0dXJuIChidWZbZW5kIC0gNF1cbiAgICAgICAgICB8IGJ1ZltlbmQgLSAzXSA8PCA4XG4gICAgICAgICAgfCBidWZbZW5kIC0gMl0gPDwgMTZcbiAgICAgICAgICB8IGJ1ZltlbmQgLSAxXSA8PCAyNCkgPj4+IDA7XG59XG5cbi8qKlxuICogUmVhZHMgZml4ZWQgMzIgYml0cyBhcyBhbiB1bnNpZ25lZCAzMiBiaXQgaW50ZWdlci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5maXhlZDMyID0gZnVuY3Rpb24gcmVhZF9maXhlZDMyKCkge1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHRoaXMucG9zICsgNCA+IHRoaXMubGVuKVxuICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcywgNCk7XG5cbiAgICByZXR1cm4gcmVhZEZpeGVkMzJfZW5kKHRoaXMuYnVmLCB0aGlzLnBvcyArPSA0KTtcbn07XG5cbi8qKlxuICogUmVhZHMgZml4ZWQgMzIgYml0cyBhcyBhIHNpZ25lZCAzMiBiaXQgaW50ZWdlci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5zZml4ZWQzMiA9IGZ1bmN0aW9uIHJlYWRfc2ZpeGVkMzIoKSB7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodGhpcy5wb3MgKyA0ID4gdGhpcy5sZW4pXG4gICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzLCA0KTtcblxuICAgIHJldHVybiByZWFkRml4ZWQzMl9lbmQodGhpcy5idWYsIHRoaXMucG9zICs9IDQpIHwgMDtcbn07XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLWludmFsaWQtdGhpcyAqL1xuXG5mdW5jdGlvbiByZWFkRml4ZWQ2NCgvKiB0aGlzOiBSZWFkZXIgKi8pIHtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICh0aGlzLnBvcyArIDggPiB0aGlzLmxlbilcbiAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMsIDgpO1xuXG4gICAgcmV0dXJuIG5ldyBMb25nQml0cyhyZWFkRml4ZWQzMl9lbmQodGhpcy5idWYsIHRoaXMucG9zICs9IDQpLCByZWFkRml4ZWQzMl9lbmQodGhpcy5idWYsIHRoaXMucG9zICs9IDQpKTtcbn1cblxuLyogZXNsaW50LWVuYWJsZSBuby1pbnZhbGlkLXRoaXMgKi9cblxuLyoqXG4gKiBSZWFkcyBmaXhlZCA2NCBiaXRzLlxuICogQG5hbWUgUmVhZGVyI2ZpeGVkNjRcbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge0xvbmd9IFZhbHVlIHJlYWRcbiAqL1xuXG4vKipcbiAqIFJlYWRzIHppZy16YWcgZW5jb2RlZCBmaXhlZCA2NCBiaXRzLlxuICogQG5hbWUgUmVhZGVyI3NmaXhlZDY0XG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtMb25nfSBWYWx1ZSByZWFkXG4gKi9cblxuLyoqXG4gKiBSZWFkcyBhIGZsb2F0ICgzMiBiaXQpIGFzIGEgbnVtYmVyLlxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUuZmxvYXQgPSBmdW5jdGlvbiByZWFkX2Zsb2F0KCkge1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHRoaXMucG9zICsgNCA+IHRoaXMubGVuKVxuICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcywgNCk7XG5cbiAgICB2YXIgdmFsdWUgPSB1dGlsLmZsb2F0LnJlYWRGbG9hdExFKHRoaXMuYnVmLCB0aGlzLnBvcyk7XG4gICAgdGhpcy5wb3MgKz0gNDtcbiAgICByZXR1cm4gdmFsdWU7XG59O1xuXG4vKipcbiAqIFJlYWRzIGEgZG91YmxlICg2NCBiaXQgZmxvYXQpIGFzIGEgbnVtYmVyLlxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUuZG91YmxlID0gZnVuY3Rpb24gcmVhZF9kb3VibGUoKSB7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodGhpcy5wb3MgKyA4ID4gdGhpcy5sZW4pXG4gICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzLCA0KTtcblxuICAgIHZhciB2YWx1ZSA9IHV0aWwuZmxvYXQucmVhZERvdWJsZUxFKHRoaXMuYnVmLCB0aGlzLnBvcyk7XG4gICAgdGhpcy5wb3MgKz0gODtcbiAgICByZXR1cm4gdmFsdWU7XG59O1xuXG4vKipcbiAqIFJlYWRzIGEgc2VxdWVuY2Ugb2YgYnl0ZXMgcHJlY2VlZGVkIGJ5IGl0cyBsZW5ndGggYXMgYSB2YXJpbnQuXG4gKiBAcmV0dXJucyB7VWludDhBcnJheX0gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLmJ5dGVzID0gZnVuY3Rpb24gcmVhZF9ieXRlcygpIHtcbiAgICB2YXIgbGVuZ3RoID0gdGhpcy51aW50MzIoKSxcbiAgICAgICAgc3RhcnQgID0gdGhpcy5wb3MsXG4gICAgICAgIGVuZCAgICA9IHRoaXMucG9zICsgbGVuZ3RoO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGVuZCA+IHRoaXMubGVuKVxuICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcywgbGVuZ3RoKTtcblxuICAgIHRoaXMucG9zICs9IGxlbmd0aDtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLmJ1ZikpIC8vIHBsYWluIGFycmF5XG4gICAgICAgIHJldHVybiB0aGlzLmJ1Zi5zbGljZShzdGFydCwgZW5kKTtcbiAgICByZXR1cm4gc3RhcnQgPT09IGVuZCAvLyBmaXggZm9yIElFIDEwL1dpbjggYW5kIG90aGVycycgc3ViYXJyYXkgcmV0dXJuaW5nIGFycmF5IG9mIHNpemUgMVxuICAgICAgICA/IG5ldyB0aGlzLmJ1Zi5jb25zdHJ1Y3RvcigwKVxuICAgICAgICA6IHRoaXMuX3NsaWNlLmNhbGwodGhpcy5idWYsIHN0YXJ0LCBlbmQpO1xufTtcblxuLyoqXG4gKiBSZWFkcyBhIHN0cmluZyBwcmVjZWVkZWQgYnkgaXRzIGJ5dGUgbGVuZ3RoIGFzIGEgdmFyaW50LlxuICogQHJldHVybnMge3N0cmluZ30gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLnN0cmluZyA9IGZ1bmN0aW9uIHJlYWRfc3RyaW5nKCkge1xuICAgIHZhciBieXRlcyA9IHRoaXMuYnl0ZXMoKTtcbiAgICByZXR1cm4gdXRmOC5yZWFkKGJ5dGVzLCAwLCBieXRlcy5sZW5ndGgpO1xufTtcblxuLyoqXG4gKiBTa2lwcyB0aGUgc3BlY2lmaWVkIG51bWJlciBvZiBieXRlcyBpZiBzcGVjaWZpZWQsIG90aGVyd2lzZSBza2lwcyBhIHZhcmludC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBMZW5ndGggaWYga25vd24sIG90aGVyd2lzZSBhIHZhcmludCBpcyBhc3N1bWVkXG4gKiBAcmV0dXJucyB7UmVhZGVyfSBgdGhpc2BcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5za2lwID0gZnVuY3Rpb24gc2tpcChsZW5ndGgpIHtcbiAgICBpZiAodHlwZW9mIGxlbmd0aCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKHRoaXMucG9zICsgbGVuZ3RoID4gdGhpcy5sZW4pXG4gICAgICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcywgbGVuZ3RoKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gbGVuZ3RoO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKHRoaXMucG9zID49IHRoaXMubGVuKVxuICAgICAgICAgICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzKTtcbiAgICAgICAgfSB3aGlsZSAodGhpcy5idWZbdGhpcy5wb3MrK10gJiAxMjgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2tpcHMgdGhlIG5leHQgZWxlbWVudCBvZiB0aGUgc3BlY2lmaWVkIHdpcmUgdHlwZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB3aXJlVHlwZSBXaXJlIHR5cGUgcmVjZWl2ZWRcbiAqIEByZXR1cm5zIHtSZWFkZXJ9IGB0aGlzYFxuICovXG5SZWFkZXIucHJvdG90eXBlLnNraXBUeXBlID0gZnVuY3Rpb24od2lyZVR5cGUpIHtcbiAgICBzd2l0Y2ggKHdpcmVUeXBlKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHRoaXMuc2tpcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHRoaXMuc2tpcCg4KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICB0aGlzLnNraXAodGhpcy51aW50MzIoKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgd2hpbGUgKCh3aXJlVHlwZSA9IHRoaXMudWludDMyKCkgJiA3KSAhPT0gNCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2tpcFR5cGUod2lyZVR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIHRoaXMuc2tpcCg0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcImludmFsaWQgd2lyZSB0eXBlIFwiICsgd2lyZVR5cGUgKyBcIiBhdCBvZmZzZXQgXCIgKyB0aGlzLnBvcyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufTtcblxuUmVhZGVyLl9jb25maWd1cmUgPSBmdW5jdGlvbihCdWZmZXJSZWFkZXJfKSB7XG4gICAgQnVmZmVyUmVhZGVyID0gQnVmZmVyUmVhZGVyXztcbiAgICBSZWFkZXIuY3JlYXRlID0gY3JlYXRlKCk7XG4gICAgQnVmZmVyUmVhZGVyLl9jb25maWd1cmUoKTtcblxuICAgIHZhciBmbiA9IHV0aWwuTG9uZyA/IFwidG9Mb25nXCIgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBcInRvTnVtYmVyXCI7XG4gICAgdXRpbC5tZXJnZShSZWFkZXIucHJvdG90eXBlLCB7XG5cbiAgICAgICAgaW50NjQ6IGZ1bmN0aW9uIHJlYWRfaW50NjQoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVhZExvbmdWYXJpbnQuY2FsbCh0aGlzKVtmbl0oZmFsc2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVpbnQ2NDogZnVuY3Rpb24gcmVhZF91aW50NjQoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVhZExvbmdWYXJpbnQuY2FsbCh0aGlzKVtmbl0odHJ1ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2ludDY0OiBmdW5jdGlvbiByZWFkX3NpbnQ2NCgpIHtcbiAgICAgICAgICAgIHJldHVybiByZWFkTG9uZ1ZhcmludC5jYWxsKHRoaXMpLnp6RGVjb2RlKClbZm5dKGZhbHNlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBmaXhlZDY0OiBmdW5jdGlvbiByZWFkX2ZpeGVkNjQoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVhZEZpeGVkNjQuY2FsbCh0aGlzKVtmbl0odHJ1ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2ZpeGVkNjQ6IGZ1bmN0aW9uIHJlYWRfc2ZpeGVkNjQoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVhZEZpeGVkNjQuY2FsbCh0aGlzKVtmbl0oZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICB9KTtcbn07XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IEJ1ZmZlclJlYWRlcjtcblxuLy8gZXh0ZW5kcyBSZWFkZXJcbnZhciBSZWFkZXIgPSByZXF1aXJlKFwiLi9yZWFkZXJcIik7XG4oQnVmZmVyUmVhZGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUmVhZGVyLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yID0gQnVmZmVyUmVhZGVyO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoXCIuL3V0aWwvbWluaW1hbFwiKTtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IGJ1ZmZlciByZWFkZXIgaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIFdpcmUgZm9ybWF0IHJlYWRlciB1c2luZyBub2RlIGJ1ZmZlcnMuXG4gKiBAZXh0ZW5kcyBSZWFkZXJcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZmZlciBCdWZmZXIgdG8gcmVhZCBmcm9tXG4gKi9cbmZ1bmN0aW9uIEJ1ZmZlclJlYWRlcihidWZmZXIpIHtcbiAgICBSZWFkZXIuY2FsbCh0aGlzLCBidWZmZXIpO1xuXG4gICAgLyoqXG4gICAgICogUmVhZCBidWZmZXIuXG4gICAgICogQG5hbWUgQnVmZmVyUmVhZGVyI2J1ZlxuICAgICAqIEB0eXBlIHtCdWZmZXJ9XG4gICAgICovXG59XG5cbkJ1ZmZlclJlYWRlci5fY29uZmlndXJlID0gZnVuY3Rpb24gKCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKHV0aWwuQnVmZmVyKVxuICAgICAgICBCdWZmZXJSZWFkZXIucHJvdG90eXBlLl9zbGljZSA9IHV0aWwuQnVmZmVyLnByb3RvdHlwZS5zbGljZTtcbn07XG5cblxuLyoqXG4gKiBAb3ZlcnJpZGVcbiAqL1xuQnVmZmVyUmVhZGVyLnByb3RvdHlwZS5zdHJpbmcgPSBmdW5jdGlvbiByZWFkX3N0cmluZ19idWZmZXIoKSB7XG4gICAgdmFyIGxlbiA9IHRoaXMudWludDMyKCk7IC8vIG1vZGlmaWVzIHBvc1xuICAgIHJldHVybiB0aGlzLmJ1Zi51dGY4U2xpY2VcbiAgICAgICAgPyB0aGlzLmJ1Zi51dGY4U2xpY2UodGhpcy5wb3MsIHRoaXMucG9zID0gTWF0aC5taW4odGhpcy5wb3MgKyBsZW4sIHRoaXMubGVuKSlcbiAgICAgICAgOiB0aGlzLmJ1Zi50b1N0cmluZyhcInV0Zi04XCIsIHRoaXMucG9zLCB0aGlzLnBvcyA9IE1hdGgubWluKHRoaXMucG9zICsgbGVuLCB0aGlzLmxlbikpO1xufTtcblxuLyoqXG4gKiBSZWFkcyBhIHNlcXVlbmNlIG9mIGJ5dGVzIHByZWNlZWRlZCBieSBpdHMgbGVuZ3RoIGFzIGEgdmFyaW50LlxuICogQG5hbWUgQnVmZmVyUmVhZGVyI2J5dGVzXG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtCdWZmZXJ9IFZhbHVlIHJlYWRcbiAqL1xuXG5CdWZmZXJSZWFkZXIuX2NvbmZpZ3VyZSgpO1xuIiwgIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBTZXJ2aWNlO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoXCIuLi91dGlsL21pbmltYWxcIik7XG5cbi8vIEV4dGVuZHMgRXZlbnRFbWl0dGVyXG4oU2VydmljZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHV0aWwuRXZlbnRFbWl0dGVyLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yID0gU2VydmljZTtcblxuLyoqXG4gKiBBIHNlcnZpY2UgbWV0aG9kIGNhbGxiYWNrIGFzIHVzZWQgYnkge0BsaW5rIHJwYy5TZXJ2aWNlTWV0aG9kfFNlcnZpY2VNZXRob2R9LlxuICpcbiAqIERpZmZlcnMgZnJvbSB7QGxpbmsgUlBDSW1wbENhbGxiYWNrfSBpbiB0aGF0IGl0IGlzIGFuIGFjdHVhbCBjYWxsYmFjayBvZiBhIHNlcnZpY2UgbWV0aG9kIHdoaWNoIG1heSBub3QgcmV0dXJuIGByZXNwb25zZSA9IG51bGxgLlxuICogQHR5cGVkZWYgcnBjLlNlcnZpY2VNZXRob2RDYWxsYmFja1xuICogQHRlbXBsYXRlIFRSZXMgZXh0ZW5kcyBNZXNzYWdlPFRSZXM+XG4gKiBAdHlwZSB7ZnVuY3Rpb259XG4gKiBAcGFyYW0ge0Vycm9yfG51bGx9IGVycm9yIEVycm9yLCBpZiBhbnlcbiAqIEBwYXJhbSB7VFJlc30gW3Jlc3BvbnNlXSBSZXNwb25zZSBtZXNzYWdlXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICovXG5cbi8qKlxuICogQSBzZXJ2aWNlIG1ldGhvZCBwYXJ0IG9mIGEge0BsaW5rIHJwYy5TZXJ2aWNlfSBhcyBjcmVhdGVkIGJ5IHtAbGluayBTZXJ2aWNlLmNyZWF0ZX0uXG4gKiBAdHlwZWRlZiBycGMuU2VydmljZU1ldGhvZFxuICogQHRlbXBsYXRlIFRSZXEgZXh0ZW5kcyBNZXNzYWdlPFRSZXE+XG4gKiBAdGVtcGxhdGUgVFJlcyBleHRlbmRzIE1lc3NhZ2U8VFJlcz5cbiAqIEB0eXBlIHtmdW5jdGlvbn1cbiAqIEBwYXJhbSB7VFJlcXxQcm9wZXJ0aWVzPFRSZXE+fSByZXF1ZXN0IFJlcXVlc3QgbWVzc2FnZSBvciBwbGFpbiBvYmplY3RcbiAqIEBwYXJhbSB7cnBjLlNlcnZpY2VNZXRob2RDYWxsYmFjazxUUmVzPn0gW2NhbGxiYWNrXSBOb2RlLXN0eWxlIGNhbGxiYWNrIGNhbGxlZCB3aXRoIHRoZSBlcnJvciwgaWYgYW55LCBhbmQgdGhlIHJlc3BvbnNlIG1lc3NhZ2VcbiAqIEByZXR1cm5zIHtQcm9taXNlPE1lc3NhZ2U8VFJlcz4+fSBQcm9taXNlIGlmIGBjYWxsYmFja2AgaGFzIGJlZW4gb21pdHRlZCwgb3RoZXJ3aXNlIGB1bmRlZmluZWRgXG4gKi9cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IFJQQyBzZXJ2aWNlIGluc3RhbmNlLlxuICogQGNsYXNzZGVzYyBBbiBSUEMgc2VydmljZSBhcyByZXR1cm5lZCBieSB7QGxpbmsgU2VydmljZSNjcmVhdGV9LlxuICogQGV4cG9ydHMgcnBjLlNlcnZpY2VcbiAqIEBleHRlbmRzIHV0aWwuRXZlbnRFbWl0dGVyXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7UlBDSW1wbH0gcnBjSW1wbCBSUEMgaW1wbGVtZW50YXRpb25cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlcXVlc3REZWxpbWl0ZWQ9ZmFsc2VdIFdoZXRoZXIgcmVxdWVzdHMgYXJlIGxlbmd0aC1kZWxpbWl0ZWRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Jlc3BvbnNlRGVsaW1pdGVkPWZhbHNlXSBXaGV0aGVyIHJlc3BvbnNlcyBhcmUgbGVuZ3RoLWRlbGltaXRlZFxuICovXG5mdW5jdGlvbiBTZXJ2aWNlKHJwY0ltcGwsIHJlcXVlc3REZWxpbWl0ZWQsIHJlc3BvbnNlRGVsaW1pdGVkKSB7XG5cbiAgICBpZiAodHlwZW9mIHJwY0ltcGwgIT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwicnBjSW1wbCBtdXN0IGJlIGEgZnVuY3Rpb25cIik7XG5cbiAgICB1dGlsLkV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogUlBDIGltcGxlbWVudGF0aW9uLiBCZWNvbWVzIGBudWxsYCBvbmNlIHRoZSBzZXJ2aWNlIGlzIGVuZGVkLlxuICAgICAqIEB0eXBlIHtSUENJbXBsfG51bGx9XG4gICAgICovXG4gICAgdGhpcy5ycGNJbXBsID0gcnBjSW1wbDtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgcmVxdWVzdHMgYXJlIGxlbmd0aC1kZWxpbWl0ZWQuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5yZXF1ZXN0RGVsaW1pdGVkID0gQm9vbGVhbihyZXF1ZXN0RGVsaW1pdGVkKTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgcmVzcG9uc2VzIGFyZSBsZW5ndGgtZGVsaW1pdGVkLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMucmVzcG9uc2VEZWxpbWl0ZWQgPSBCb29sZWFuKHJlc3BvbnNlRGVsaW1pdGVkKTtcbn1cblxuLyoqXG4gKiBDYWxscyBhIHNlcnZpY2UgbWV0aG9kIHRocm91Z2gge0BsaW5rIHJwYy5TZXJ2aWNlI3JwY0ltcGx8cnBjSW1wbH0uXG4gKiBAcGFyYW0ge01ldGhvZHxycGMuU2VydmljZU1ldGhvZDxUUmVxLFRSZXM+fSBtZXRob2QgUmVmbGVjdGVkIG9yIHN0YXRpYyBtZXRob2RcbiAqIEBwYXJhbSB7Q29uc3RydWN0b3I8VFJlcT59IHJlcXVlc3RDdG9yIFJlcXVlc3QgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7Q29uc3RydWN0b3I8VFJlcz59IHJlc3BvbnNlQ3RvciBSZXNwb25zZSBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtUUmVxfFByb3BlcnRpZXM8VFJlcT59IHJlcXVlc3QgUmVxdWVzdCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdFxuICogQHBhcmFtIHtycGMuU2VydmljZU1ldGhvZENhbGxiYWNrPFRSZXM+fSBjYWxsYmFjayBTZXJ2aWNlIGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICogQHRlbXBsYXRlIFRSZXEgZXh0ZW5kcyBNZXNzYWdlPFRSZXE+XG4gKiBAdGVtcGxhdGUgVFJlcyBleHRlbmRzIE1lc3NhZ2U8VFJlcz5cbiAqL1xuU2VydmljZS5wcm90b3R5cGUucnBjQ2FsbCA9IGZ1bmN0aW9uIHJwY0NhbGwobWV0aG9kLCByZXF1ZXN0Q3RvciwgcmVzcG9uc2VDdG9yLCByZXF1ZXN0LCBjYWxsYmFjaykge1xuXG4gICAgaWYgKCFyZXF1ZXN0KVxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJyZXF1ZXN0IG11c3QgYmUgc3BlY2lmaWVkXCIpO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGlmICghY2FsbGJhY2spXG4gICAgICAgIHJldHVybiB1dGlsLmFzUHJvbWlzZShycGNDYWxsLCBzZWxmLCBtZXRob2QsIHJlcXVlc3RDdG9yLCByZXNwb25zZUN0b3IsIHJlcXVlc3QpO1xuXG4gICAgaWYgKCFzZWxmLnJwY0ltcGwpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgY2FsbGJhY2soRXJyb3IoXCJhbHJlYWR5IGVuZGVkXCIpKTsgfSwgMCk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHNlbGYucnBjSW1wbChcbiAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgIHJlcXVlc3RDdG9yW3NlbGYucmVxdWVzdERlbGltaXRlZCA/IFwiZW5jb2RlRGVsaW1pdGVkXCIgOiBcImVuY29kZVwiXShyZXF1ZXN0KS5maW5pc2goKSxcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJwY0NhbGxiYWNrKGVyciwgcmVzcG9uc2UpIHtcblxuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5lbWl0KFwiZXJyb3JcIiwgZXJyLCBtZXRob2QpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5lbmQoLyogZW5kZWRCeVJQQyAqLyB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZSBpbnN0YW5jZW9mIHJlc3BvbnNlQ3RvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gcmVzcG9uc2VDdG9yW3NlbGYucmVzcG9uc2VEZWxpbWl0ZWQgPyBcImRlY29kZURlbGltaXRlZFwiIDogXCJkZWNvZGVcIl0ocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZW1pdChcImVycm9yXCIsIGVyciwgbWV0aG9kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2VsZi5lbWl0KFwiZGF0YVwiLCByZXNwb25zZSwgbWV0aG9kKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBzZWxmLmVtaXQoXCJlcnJvclwiLCBlcnIsIG1ldGhvZCk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGNhbGxiYWNrKGVycik7IH0sIDApO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn07XG5cbi8qKlxuICogRW5kcyB0aGlzIHNlcnZpY2UgYW5kIGVtaXRzIHRoZSBgZW5kYCBldmVudC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2VuZGVkQnlSUEM9ZmFsc2VdIFdoZXRoZXIgdGhlIHNlcnZpY2UgaGFzIGJlZW4gZW5kZWQgYnkgdGhlIFJQQyBpbXBsZW1lbnRhdGlvbi5cbiAqIEByZXR1cm5zIHtycGMuU2VydmljZX0gYHRoaXNgXG4gKi9cblNlcnZpY2UucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIGVuZChlbmRlZEJ5UlBDKSB7XG4gICAgaWYgKHRoaXMucnBjSW1wbCkge1xuICAgICAgICBpZiAoIWVuZGVkQnlSUEMpIC8vIHNpZ25hbCBlbmQgdG8gcnBjSW1wbFxuICAgICAgICAgICAgdGhpcy5ycGNJbXBsKG51bGwsIG51bGwsIG51bGwpO1xuICAgICAgICB0aGlzLnJwY0ltcGwgPSBudWxsO1xuICAgICAgICB0aGlzLmVtaXQoXCJlbmRcIikub2ZmKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufTtcbiIsICJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBTdHJlYW1pbmcgUlBDIGhlbHBlcnMuXG4gKiBAbmFtZXNwYWNlXG4gKi9cbnZhciBycGMgPSBleHBvcnRzO1xuXG4vKipcbiAqIFJQQyBpbXBsZW1lbnRhdGlvbiBwYXNzZWQgdG8ge0BsaW5rIFNlcnZpY2UjY3JlYXRlfSBwZXJmb3JtaW5nIGEgc2VydmljZSByZXF1ZXN0IG9uIG5ldHdvcmsgbGV2ZWwsIGkuZS4gYnkgdXRpbGl6aW5nIGh0dHAgcmVxdWVzdHMgb3Igd2Vic29ja2V0cy5cbiAqIEB0eXBlZGVmIFJQQ0ltcGxcbiAqIEB0eXBlIHtmdW5jdGlvbn1cbiAqIEBwYXJhbSB7TWV0aG9kfHJwYy5TZXJ2aWNlTWV0aG9kPE1lc3NhZ2U8e30+LE1lc3NhZ2U8e30+Pn0gbWV0aG9kIFJlZmxlY3RlZCBvciBzdGF0aWMgbWV0aG9kIGJlaW5nIGNhbGxlZFxuICogQHBhcmFtIHtVaW50OEFycmF5fSByZXF1ZXN0RGF0YSBSZXF1ZXN0IGRhdGFcbiAqIEBwYXJhbSB7UlBDSW1wbENhbGxiYWNrfSBjYWxsYmFjayBDYWxsYmFjayBmdW5jdGlvblxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqIEBleGFtcGxlXG4gKiBmdW5jdGlvbiBycGNJbXBsKG1ldGhvZCwgcmVxdWVzdERhdGEsIGNhbGxiYWNrKSB7XG4gKiAgICAgaWYgKHByb3RvYnVmLnV0aWwubGNGaXJzdChtZXRob2QubmFtZSkgIT09IFwibXlNZXRob2RcIikgLy8gY29tcGF0aWJsZSB3aXRoIHN0YXRpYyBjb2RlXG4gKiAgICAgICAgIHRocm93IEVycm9yKFwibm8gc3VjaCBtZXRob2RcIik7XG4gKiAgICAgYXN5bmNocm9ub3VzbHlPYnRhaW5BUmVzcG9uc2UocmVxdWVzdERhdGEsIGZ1bmN0aW9uKGVyciwgcmVzcG9uc2VEYXRhKSB7XG4gKiAgICAgICAgIGNhbGxiYWNrKGVyciwgcmVzcG9uc2VEYXRhKTtcbiAqICAgICB9KTtcbiAqIH1cbiAqL1xuXG4vKipcbiAqIE5vZGUtc3R5bGUgY2FsbGJhY2sgYXMgdXNlZCBieSB7QGxpbmsgUlBDSW1wbH0uXG4gKiBAdHlwZWRlZiBSUENJbXBsQ2FsbGJhY2tcbiAqIEB0eXBlIHtmdW5jdGlvbn1cbiAqIEBwYXJhbSB7RXJyb3J8bnVsbH0gZXJyb3IgRXJyb3IsIGlmIGFueSwgb3RoZXJ3aXNlIGBudWxsYFxuICogQHBhcmFtIHtVaW50OEFycmF5fG51bGx9IFtyZXNwb25zZV0gUmVzcG9uc2UgZGF0YSBvciBgbnVsbGAgdG8gc2lnbmFsIGVuZCBvZiBzdHJlYW0sIGlmIHRoZXJlIGhhc24ndCBiZWVuIGFuIGVycm9yXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICovXG5cbnJwYy5TZXJ2aWNlID0gcmVxdWlyZShcIi4vcnBjL3NlcnZpY2VcIik7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vKipcbiAqIE5hbWVkIHJvb3RzLlxuICogVGhpcyBpcyB3aGVyZSBwYmpzIHN0b3JlcyBnZW5lcmF0ZWQgc3RydWN0dXJlcyAodGhlIG9wdGlvbiBgLXIsIC0tcm9vdGAgc3BlY2lmaWVzIGEgbmFtZSkuXG4gKiBDYW4gYWxzbyBiZSB1c2VkIG1hbnVhbGx5IHRvIG1ha2Ugcm9vdHMgYXZhaWxhYmxlIGFjcm9zcyBtb2R1bGVzLlxuICogQG5hbWUgcm9vdHNcbiAqIEB0eXBlIHtPYmplY3QuPHN0cmluZyxSb290Pn1cbiAqIEBleGFtcGxlXG4gKiAvLyBwYmpzIC1yIG15cm9vdCAtbyBjb21waWxlZC5qcyAuLi5cbiAqXG4gKiAvLyBpbiBhbm90aGVyIG1vZHVsZTpcbiAqIHJlcXVpcmUoXCIuL2NvbXBpbGVkLmpzXCIpO1xuICpcbiAqIC8vIGluIGFueSBzdWJzZXF1ZW50IG1vZHVsZTpcbiAqIHZhciByb290ID0gcHJvdG9idWYucm9vdHNbXCJteXJvb3RcIl07XG4gKi9cbiIsICJcInVzZSBzdHJpY3RcIjtcbnZhciBwcm90b2J1ZiA9IGV4cG9ydHM7XG5cbi8qKlxuICogQnVpbGQgdHlwZSwgb25lIG9mIGBcImZ1bGxcImAsIGBcImxpZ2h0XCJgIG9yIGBcIm1pbmltYWxcImAuXG4gKiBAbmFtZSBidWlsZFxuICogQHR5cGUge3N0cmluZ31cbiAqIEBjb25zdFxuICovXG5wcm90b2J1Zi5idWlsZCA9IFwibWluaW1hbFwiO1xuXG4vLyBTZXJpYWxpemF0aW9uXG5wcm90b2J1Zi5Xcml0ZXIgICAgICAgPSByZXF1aXJlKFwiLi93cml0ZXJcIik7XG5wcm90b2J1Zi5CdWZmZXJXcml0ZXIgPSByZXF1aXJlKFwiLi93cml0ZXJfYnVmZmVyXCIpO1xucHJvdG9idWYuUmVhZGVyICAgICAgID0gcmVxdWlyZShcIi4vcmVhZGVyXCIpO1xucHJvdG9idWYuQnVmZmVyUmVhZGVyID0gcmVxdWlyZShcIi4vcmVhZGVyX2J1ZmZlclwiKTtcblxuLy8gVXRpbGl0eVxucHJvdG9idWYudXRpbCAgICAgICAgID0gcmVxdWlyZShcIi4vdXRpbC9taW5pbWFsXCIpO1xucHJvdG9idWYucnBjICAgICAgICAgID0gcmVxdWlyZShcIi4vcnBjXCIpO1xucHJvdG9idWYucm9vdHMgICAgICAgID0gcmVxdWlyZShcIi4vcm9vdHNcIik7XG5wcm90b2J1Zi5jb25maWd1cmUgICAgPSBjb25maWd1cmU7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4vKipcbiAqIFJlY29uZmlndXJlcyB0aGUgbGlicmFyeSBhY2NvcmRpbmcgdG8gdGhlIGVudmlyb25tZW50LlxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqL1xuZnVuY3Rpb24gY29uZmlndXJlKCkge1xuICAgIHByb3RvYnVmLnV0aWwuX2NvbmZpZ3VyZSgpO1xuICAgIHByb3RvYnVmLldyaXRlci5fY29uZmlndXJlKHByb3RvYnVmLkJ1ZmZlcldyaXRlcik7XG4gICAgcHJvdG9idWYuUmVhZGVyLl9jb25maWd1cmUocHJvdG9idWYuQnVmZmVyUmVhZGVyKTtcbn1cblxuLy8gU2V0IHVwIGJ1ZmZlciB1dGlsaXR5IGFjY29yZGluZyB0byB0aGUgZW52aXJvbm1lbnRcbmNvbmZpZ3VyZSgpO1xuIiwgIi8vIG1pbmltYWwgbGlicmFyeSBlbnRyeSBwb2ludC5cblxuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL3NyYy9pbmRleC1taW5pbWFsXCIpO1xuIiwgIi8vIEJFR0lOIEFVVE8gR0VORVJBVEVEIENPREUgXCJ+c2RrL3NjZW5lLWVudHJ5cG9pbnRcIlxuXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgKiBhcyBlbnRyeXBvaW50IGZyb20gJ0M6L1VzZXJzL0FsZWphbmRyby9BSUdlc3Rpb24vcGFja2FnZXMvZGVjZW50cmFsYW5kLXBhcmNlbC9zcmMvaW5kZXgudHMnXG5pbXBvcnQgeyBlbmdpbmUsIE5ldHdvcmtFbnRpdHkgfSBmcm9tICdAZGNsL3Nkay9lY3MnXG5pbXBvcnQgKiBhcyBzZGsgZnJvbSAnQGRjbC9zZGsnXG5pbXBvcnQgeyBjb21wb3NpdGVQcm92aWRlciB9IGZyb20gJ0BkY2wvc2RrL2NvbXBvc2l0ZS1wcm92aWRlcidcbmltcG9ydCB7IGNvbXBvc2l0ZUZyb21Mb2FkZXIgfSBmcm9tICd+c2RrL2FsbC1jb21wb3NpdGVzJ1xuaW1wb3J0IHsgaW5pdGlhbGl6ZVNjcmlwdHMgfSBmcm9tICd+c2RrL2FsbC1zY3JpcHRzJ1xuXG5mYWxzZVxuXG5pZiAoKGVudHJ5cG9pbnQgYXMgYW55KS5tYWluICE9PSB1bmRlZmluZWQpIHtcbiAgZnVuY3Rpb24gX0lOVEVSTkFMX3N0YXJ0dXBfc3lzdGVtKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBtYXliZVByb21pc2UgPSAoZW50cnlwb2ludCBhcyBhbnkpLm1haW4oKVxuICAgICAgaWYgKG1heWJlUHJvbWlzZSAmJiB0eXBlb2YgbWF5YmVQcm9taXNlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgKG1heWJlUHJvbWlzZSBhcyB1bmtub3duIGFzIFByb21pc2U8dW5rbm93bj4pLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgbWF5YmVQcm9taXNlLmNhdGNoKGNvbnNvbGUuZXJyb3IpXG4gICAgICB9XG4gICAgICAvLyBpbml0aWFsaXplIGFuZCBydW4gYWxsIHNjcmlwdHNcbiAgICAgIGluaXRpYWxpemVTY3JpcHRzKGVuZ2luZSlcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgIGNvbnNvbGUuZXJyb3IoZSlcbiAgICB9IGZpbmFsbHkge1xuICAgICAgZW5naW5lLnJlbW92ZVN5c3RlbShfSU5URVJOQUxfc3RhcnR1cF9zeXN0ZW0pXG4gICAgfVxuICB9XG4gIGVuZ2luZS5hZGRTeXN0ZW0oX0lOVEVSTkFMX3N0YXJ0dXBfc3lzdGVtLCBJbmZpbml0eSlcbn1cblxuZXhwb3J0ICogZnJvbSAnQGRjbC9zZGsnXG5leHBvcnQgKiBmcm9tICdDOi9Vc2Vycy9BbGVqYW5kcm8vQUlHZXN0aW9uL3BhY2thZ2VzL2RlY2VudHJhbGFuZC1wYXJjZWwvc3JjL2luZGV4LnRzJ1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJBbmltYXRvcigpIHtcbiAgICByZXR1cm4geyBzdGF0ZXM6IFtdIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQkFuaW1hdG9yO1xuKGZ1bmN0aW9uIChQQkFuaW1hdG9yKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2Uuc3RhdGVzKSB7XG4gICAgICAgICAgICBQQkFuaW1hdGlvblN0YXRlLmVuY29kZSh2LCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCQW5pbWF0b3IuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkFuaW1hdG9yKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RhdGVzLnB1c2goUEJBbmltYXRpb25TdGF0ZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkFuaW1hdG9yLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCQW5pbWF0b3IgfHwgKFBCQW5pbWF0b3IgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQW5pbWF0aW9uU3RhdGUoKSB7XG4gICAgcmV0dXJuIHsgY2xpcDogXCJcIiwgcGxheWluZzogdW5kZWZpbmVkLCB3ZWlnaHQ6IHVuZGVmaW5lZCwgc3BlZWQ6IHVuZGVmaW5lZCwgbG9vcDogdW5kZWZpbmVkLCBzaG91bGRSZXNldDogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQkFuaW1hdGlvblN0YXRlO1xuKGZ1bmN0aW9uIChQQkFuaW1hdGlvblN0YXRlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuY2xpcCAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UuY2xpcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGxheWluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI0KS5ib29sKG1lc3NhZ2UucGxheWluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uud2VpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzcpLmZsb2F0KG1lc3NhZ2Uud2VpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zcGVlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQ1KS5mbG9hdChtZXNzYWdlLnNwZWVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5sb29wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDgpLmJvb2wobWVzc2FnZS5sb29wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zaG91bGRSZXNldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDU2KS5ib29sKG1lc3NhZ2Uuc2hvdWxkUmVzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCQW5pbWF0aW9uU3RhdGUuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkFuaW1hdGlvblN0YXRlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY2xpcCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wbGF5aW5nID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS53ZWlnaHQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0NSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zcGVlZCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQ4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxvb3AgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDU2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNob3VsZFJlc2V0ID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkFuaW1hdGlvblN0YXRlLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCQW5pbWF0aW9uU3RhdGUgfHwgKFBCQW5pbWF0aW9uU3RhdGUgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCQW5pbWF0b3IgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hbmltYXRvci5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEFuaW1hdG9yU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA0MixcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJBbmltYXRvci5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkFuaW1hdG9yLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQkFuaW1hdG9yLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQkFuaW1hdG9yXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJBdWRpb0V2ZW50KCkge1xuICAgIHJldHVybiB7IHN0YXRlOiAwLCB0aW1lc3RhbXA6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCQXVkaW9FdmVudDtcbihmdW5jdGlvbiAoUEJBdWRpb0V2ZW50KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3RhdGUgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS5zdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGltZXN0YW1wICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS51aW50MzIobWVzc2FnZS50aW1lc3RhbXApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCQXVkaW9FdmVudC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQXVkaW9FdmVudCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RhdGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50aW1lc3RhbXAgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJBdWRpb0V2ZW50LmRlY29kZSA9IGRlY29kZTtcbn0pKFBCQXVkaW9FdmVudCB8fCAoUEJBdWRpb0V2ZW50ID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQkF1ZGlvRXZlbnQgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdWRpb19ldmVudC5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEF1ZGlvRXZlbnRTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMTA1LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQkF1ZGlvRXZlbnQuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJBdWRpb0V2ZW50LmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQkF1ZGlvRXZlbnQuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCQXVkaW9FdmVudFwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQXVkaW9Tb3VyY2UoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGxheWluZzogdW5kZWZpbmVkLFxuICAgICAgICB2b2x1bWU6IHVuZGVmaW5lZCxcbiAgICAgICAgbG9vcDogdW5kZWZpbmVkLFxuICAgICAgICBwaXRjaDogdW5kZWZpbmVkLFxuICAgICAgICBhdWRpb0NsaXBVcmw6IFwiXCIsXG4gICAgICAgIGN1cnJlbnRUaW1lOiB1bmRlZmluZWQsXG4gICAgICAgIGdsb2JhbDogdW5kZWZpbmVkLFxuICAgIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQkF1ZGlvU291cmNlO1xuKGZ1bmN0aW9uIChQQkF1ZGlvU291cmNlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UucGxheWluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmJvb2wobWVzc2FnZS5wbGF5aW5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS52b2x1bWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS52b2x1bWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmxvb3AgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuYm9vbChtZXNzYWdlLmxvb3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBpdGNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzcpLmZsb2F0KG1lc3NhZ2UucGl0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmF1ZGlvQ2xpcFVybCAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0Mikuc3RyaW5nKG1lc3NhZ2UuYXVkaW9DbGlwVXJsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5jdXJyZW50VGltZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDUzKS5mbG9hdChtZXNzYWdlLmN1cnJlbnRUaW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5nbG9iYWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig1NikuYm9vbChtZXNzYWdlLmdsb2JhbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJBdWRpb1NvdXJjZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQXVkaW9Tb3VyY2UoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBsYXlpbmcgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZvbHVtZSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxvb3AgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBpdGNoID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYXVkaW9DbGlwVXJsID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDUzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmN1cnJlbnRUaW1lID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZ2xvYmFsID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkF1ZGlvU291cmNlLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCQXVkaW9Tb3VyY2UgfHwgKFBCQXVkaW9Tb3VyY2UgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCQXVkaW9Tb3VyY2UgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdWRpb19zb3VyY2UuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBBdWRpb1NvdXJjZVNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwMjAsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCQXVkaW9Tb3VyY2UuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJBdWRpb1NvdXJjZS5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJBdWRpb1NvdXJjZS5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJBdWRpb1NvdXJjZVwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQXVkaW9TdHJlYW0oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGxheWluZzogdW5kZWZpbmVkLFxuICAgICAgICB2b2x1bWU6IHVuZGVmaW5lZCxcbiAgICAgICAgdXJsOiBcIlwiLFxuICAgICAgICBzcGF0aWFsOiB1bmRlZmluZWQsXG4gICAgICAgIHNwYXRpYWxNaW5EaXN0YW5jZTogdW5kZWZpbmVkLFxuICAgICAgICBzcGF0aWFsTWF4RGlzdGFuY2U6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJBdWRpb1N0cmVhbTtcbihmdW5jdGlvbiAoUEJBdWRpb1N0cmVhbSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnBsYXlpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5ib29sKG1lc3NhZ2UucGxheWluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uudm9sdW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjEpLmZsb2F0KG1lc3NhZ2Uudm9sdW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS51cmwgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjYpLnN0cmluZyhtZXNzYWdlLnVybCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3BhdGlhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDMyKS5ib29sKG1lc3NhZ2Uuc3BhdGlhbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3BhdGlhbE1pbkRpc3RhbmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDUpLmZsb2F0KG1lc3NhZ2Uuc3BhdGlhbE1pbkRpc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zcGF0aWFsTWF4RGlzdGFuY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig1MykuZmxvYXQobWVzc2FnZS5zcGF0aWFsTWF4RGlzdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCQXVkaW9TdHJlYW0uZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkF1ZGlvU3RyZWFtKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wbGF5aW5nID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52b2x1bWUgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS51cmwgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3BhdGlhbCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3BhdGlhbE1pbkRpc3RhbmNlID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3BhdGlhbE1heERpc3RhbmNlID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJBdWRpb1N0cmVhbS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQkF1ZGlvU3RyZWFtIHx8IChQQkF1ZGlvU3RyZWFtID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQkF1ZGlvU3RyZWFtIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXVkaW9fc3RyZWFtLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgQXVkaW9TdHJlYW1TY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDIxLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQkF1ZGlvU3RyZWFtLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCQXVkaW9TdHJlYW0uZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCQXVkaW9TdHJlYW0uZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCQXVkaW9TdHJlYW1cIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbi8qKiBBdmF0YXJBbmNob3JQb2ludFR5cGUgZGV0ZXJtaW5lcyB0aGUgcGFydCBvZiB0aGUgYXZhdGFyJ3MgYm9keSB0aGF0IGFuY2hvcnMgdGhlIEVudGl0eS4gKi9cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIEF2YXRhckFuY2hvclBvaW50VHlwZTtcbihmdW5jdGlvbiAoQXZhdGFyQW5jaG9yUG9pbnRUeXBlKSB7XG4gICAgLyoqIEFBUFRfUE9TSVRJT04gLSBAZGVwcmVjYXRlZCBjb25zaWRlciBwYXJlbnRpbmcgdG8gYGVuZ2luZS5QbGF5ZXJFbnRpdHlgLCB0aGlzIHdpbGwgYXR0YWNoIHRvIHBsYXllciBwb3NpdGlvbiB3aXRoIGFuIGFyYml0cmFyeSBvZmZzZXQgKi9cbiAgICBBdmF0YXJBbmNob3JQb2ludFR5cGVbQXZhdGFyQW5jaG9yUG9pbnRUeXBlW1wiQUFQVF9QT1NJVElPTlwiXSA9IDBdID0gXCJBQVBUX1BPU0lUSU9OXCI7XG4gICAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlW0F2YXRhckFuY2hvclBvaW50VHlwZVtcIkFBUFRfTkFNRV9UQUdcIl0gPSAxXSA9IFwiQUFQVF9OQU1FX1RBR1wiO1xuICAgIEF2YXRhckFuY2hvclBvaW50VHlwZVtBdmF0YXJBbmNob3JQb2ludFR5cGVbXCJBQVBUX0hFQURcIl0gPSA0XSA9IFwiQUFQVF9IRUFEXCI7XG4gICAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlW0F2YXRhckFuY2hvclBvaW50VHlwZVtcIkFBUFRfTkVDS1wiXSA9IDVdID0gXCJBQVBUX05FQ0tcIjtcbiAgICBBdmF0YXJBbmNob3JQb2ludFR5cGVbQXZhdGFyQW5jaG9yUG9pbnRUeXBlW1wiQUFQVF9TUElORVwiXSA9IDZdID0gXCJBQVBUX1NQSU5FXCI7XG4gICAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlW0F2YXRhckFuY2hvclBvaW50VHlwZVtcIkFBUFRfU1BJTkUxXCJdID0gN10gPSBcIkFBUFRfU1BJTkUxXCI7XG4gICAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlW0F2YXRhckFuY2hvclBvaW50VHlwZVtcIkFBUFRfU1BJTkUyXCJdID0gOF0gPSBcIkFBUFRfU1BJTkUyXCI7XG4gICAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlW0F2YXRhckFuY2hvclBvaW50VHlwZVtcIkFBUFRfSElQXCJdID0gOV0gPSBcIkFBUFRfSElQXCI7XG4gICAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlW0F2YXRhckFuY2hvclBvaW50VHlwZVtcIkFBUFRfTEVGVF9TSE9VTERFUlwiXSA9IDEwXSA9IFwiQUFQVF9MRUZUX1NIT1VMREVSXCI7XG4gICAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlW0F2YXRhckFuY2hvclBvaW50VHlwZVtcIkFBUFRfTEVGVF9BUk1cIl0gPSAxMV0gPSBcIkFBUFRfTEVGVF9BUk1cIjtcbiAgICBBdmF0YXJBbmNob3JQb2ludFR5cGVbQXZhdGFyQW5jaG9yUG9pbnRUeXBlW1wiQUFQVF9MRUZUX0ZPUkVBUk1cIl0gPSAxMl0gPSBcIkFBUFRfTEVGVF9GT1JFQVJNXCI7XG4gICAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlW0F2YXRhckFuY2hvclBvaW50VHlwZVtcIkFBUFRfTEVGVF9IQU5EXCJdID0gMl0gPSBcIkFBUFRfTEVGVF9IQU5EXCI7XG4gICAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlW0F2YXRhckFuY2hvclBvaW50VHlwZVtcIkFBUFRfTEVGVF9IQU5EX0lOREVYXCJdID0gMTNdID0gXCJBQVBUX0xFRlRfSEFORF9JTkRFWFwiO1xuICAgIEF2YXRhckFuY2hvclBvaW50VHlwZVtBdmF0YXJBbmNob3JQb2ludFR5cGVbXCJBQVBUX1JJR0hUX1NIT1VMREVSXCJdID0gMTRdID0gXCJBQVBUX1JJR0hUX1NIT1VMREVSXCI7XG4gICAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlW0F2YXRhckFuY2hvclBvaW50VHlwZVtcIkFBUFRfUklHSFRfQVJNXCJdID0gMTVdID0gXCJBQVBUX1JJR0hUX0FSTVwiO1xuICAgIEF2YXRhckFuY2hvclBvaW50VHlwZVtBdmF0YXJBbmNob3JQb2ludFR5cGVbXCJBQVBUX1JJR0hUX0ZPUkVBUk1cIl0gPSAxNl0gPSBcIkFBUFRfUklHSFRfRk9SRUFSTVwiO1xuICAgIEF2YXRhckFuY2hvclBvaW50VHlwZVtBdmF0YXJBbmNob3JQb2ludFR5cGVbXCJBQVBUX1JJR0hUX0hBTkRcIl0gPSAzXSA9IFwiQUFQVF9SSUdIVF9IQU5EXCI7XG4gICAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlW0F2YXRhckFuY2hvclBvaW50VHlwZVtcIkFBUFRfUklHSFRfSEFORF9JTkRFWFwiXSA9IDE3XSA9IFwiQUFQVF9SSUdIVF9IQU5EX0lOREVYXCI7XG4gICAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlW0F2YXRhckFuY2hvclBvaW50VHlwZVtcIkFBUFRfTEVGVF9VUF9MRUdcIl0gPSAxOF0gPSBcIkFBUFRfTEVGVF9VUF9MRUdcIjtcbiAgICBBdmF0YXJBbmNob3JQb2ludFR5cGVbQXZhdGFyQW5jaG9yUG9pbnRUeXBlW1wiQUFQVF9MRUZUX0xFR1wiXSA9IDE5XSA9IFwiQUFQVF9MRUZUX0xFR1wiO1xuICAgIEF2YXRhckFuY2hvclBvaW50VHlwZVtBdmF0YXJBbmNob3JQb2ludFR5cGVbXCJBQVBUX0xFRlRfRk9PVFwiXSA9IDIwXSA9IFwiQUFQVF9MRUZUX0ZPT1RcIjtcbiAgICBBdmF0YXJBbmNob3JQb2ludFR5cGVbQXZhdGFyQW5jaG9yUG9pbnRUeXBlW1wiQUFQVF9MRUZUX1RPRV9CQVNFXCJdID0gMjFdID0gXCJBQVBUX0xFRlRfVE9FX0JBU0VcIjtcbiAgICBBdmF0YXJBbmNob3JQb2ludFR5cGVbQXZhdGFyQW5jaG9yUG9pbnRUeXBlW1wiQUFQVF9SSUdIVF9VUF9MRUdcIl0gPSAyMl0gPSBcIkFBUFRfUklHSFRfVVBfTEVHXCI7XG4gICAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlW0F2YXRhckFuY2hvclBvaW50VHlwZVtcIkFBUFRfUklHSFRfTEVHXCJdID0gMjNdID0gXCJBQVBUX1JJR0hUX0xFR1wiO1xuICAgIEF2YXRhckFuY2hvclBvaW50VHlwZVtBdmF0YXJBbmNob3JQb2ludFR5cGVbXCJBQVBUX1JJR0hUX0ZPT1RcIl0gPSAyNF0gPSBcIkFBUFRfUklHSFRfRk9PVFwiO1xuICAgIEF2YXRhckFuY2hvclBvaW50VHlwZVtBdmF0YXJBbmNob3JQb2ludFR5cGVbXCJBQVBUX1JJR0hUX1RPRV9CQVNFXCJdID0gMjVdID0gXCJBQVBUX1JJR0hUX1RPRV9CQVNFXCI7XG59KShBdmF0YXJBbmNob3JQb2ludFR5cGUgfHwgKEF2YXRhckFuY2hvclBvaW50VHlwZSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJBdmF0YXJBdHRhY2goKSB7XG4gICAgcmV0dXJuIHsgYXZhdGFySWQ6IHVuZGVmaW5lZCwgYW5jaG9yUG9pbnRJZDogMCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJBdmF0YXJBdHRhY2g7XG4oZnVuY3Rpb24gKFBCQXZhdGFyQXR0YWNoKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuYXZhdGFySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UuYXZhdGFySWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmFuY2hvclBvaW50SWQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLmludDMyKG1lc3NhZ2UuYW5jaG9yUG9pbnRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJBdmF0YXJBdHRhY2guZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkF2YXRhckF0dGFjaCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmF2YXRhcklkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFuY2hvclBvaW50SWQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkF2YXRhckF0dGFjaC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQkF2YXRhckF0dGFjaCB8fCAoUEJBdmF0YXJBdHRhY2ggPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCQXZhdGFyQXR0YWNoIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXZhdGFyX2F0dGFjaC5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEF2YXRhckF0dGFjaFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNzMsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCQXZhdGFyQXR0YWNoLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCQXZhdGFyQXR0YWNoLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQkF2YXRhckF0dGFjaC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJBdmF0YXJBdHRhY2hcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgQ29sb3IzIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9jb2xvcnMuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQXZhdGFyQmFzZSgpIHtcbiAgICByZXR1cm4geyBza2luQ29sb3I6IHVuZGVmaW5lZCwgZXllc0NvbG9yOiB1bmRlZmluZWQsIGhhaXJDb2xvcjogdW5kZWZpbmVkLCBib2R5U2hhcGVVcm46IFwiXCIsIG5hbWU6IFwiXCIgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCQXZhdGFyQmFzZTtcbihmdW5jdGlvbiAoUEJBdmF0YXJCYXNlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2tpbkNvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yMy5lbmNvZGUobWVzc2FnZS5za2luQ29sb3IsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZXllc0NvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yMy5lbmNvZGUobWVzc2FnZS5leWVzQ29sb3IsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaGFpckNvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yMy5lbmNvZGUobWVzc2FnZS5oYWlyQ29sb3IsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYm9keVNoYXBlVXJuICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDM0KS5zdHJpbmcobWVzc2FnZS5ib2R5U2hhcGVVcm4pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm5hbWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDIpLnN0cmluZyhtZXNzYWdlLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCQXZhdGFyQmFzZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQXZhdGFyQmFzZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNraW5Db2xvciA9IENvbG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmV5ZXNDb2xvciA9IENvbG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmhhaXJDb2xvciA9IENvbG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJvZHlTaGFwZVVybiA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCQXZhdGFyQmFzZS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQkF2YXRhckJhc2UgfHwgKFBCQXZhdGFyQmFzZSA9IHt9KSk7XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuY29tbW9uXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlQ29sb3IzKCkge1xuICAgIHJldHVybiB7IHI6IDAsIGc6IDAsIGI6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIENvbG9yMztcbihmdW5jdGlvbiAoQ29sb3IzKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuciAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS5yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5nICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmIgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjkpLmZsb2F0KG1lc3NhZ2UuYik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgQ29sb3IzLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQ29sb3IzKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuciA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmcgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5iID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgQ29sb3IzLmRlY29kZSA9IGRlY29kZTtcbn0pKENvbG9yMyB8fCAoQ29sb3IzID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VDb2xvcjQoKSB7XG4gICAgcmV0dXJuIHsgcjogMCwgZzogMCwgYjogMCwgYTogMCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQ29sb3I0O1xuKGZ1bmN0aW9uIChDb2xvcjQpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5yICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEzKS5mbG9hdChtZXNzYWdlLnIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmcgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjEpLmZsb2F0KG1lc3NhZ2UuZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYiAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyOSkuZmxvYXQobWVzc2FnZS5iKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5hICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDM3KS5mbG9hdChtZXNzYWdlLmEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIENvbG9yNC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvbG9yNCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnIgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5nID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYiA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmEgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBDb2xvcjQuZGVjb2RlID0gZGVjb2RlO1xufSkoQ29sb3I0IHx8IChDb2xvcjQgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCQXZhdGFyQmFzZSB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F2YXRhcl9iYXNlLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgQXZhdGFyQmFzZVNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwODcsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCQXZhdGFyQmFzZS5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkF2YXRhckJhc2UuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCQXZhdGFyQmFzZS5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJBdmF0YXJCYXNlXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJBdmF0YXJFbW90ZUNvbW1hbmQoKSB7XG4gICAgcmV0dXJuIHsgZW1vdGVVcm46IFwiXCIsIGxvb3A6IGZhbHNlLCB0aW1lc3RhbXA6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCQXZhdGFyRW1vdGVDb21tYW5kO1xuKGZ1bmN0aW9uIChQQkF2YXRhckVtb3RlQ29tbWFuZCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmVtb3RlVXJuICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5lbW90ZVVybik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubG9vcCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikuYm9vbChtZXNzYWdlLmxvb3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRpbWVzdGFtcCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkudWludDMyKG1lc3NhZ2UudGltZXN0YW1wKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQkF2YXRhckVtb3RlQ29tbWFuZC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQXZhdGFyRW1vdGVDb21tYW5kKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZW1vdGVVcm4gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubG9vcCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGltZXN0YW1wID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCQXZhdGFyRW1vdGVDb21tYW5kLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCQXZhdGFyRW1vdGVDb21tYW5kIHx8IChQQkF2YXRhckVtb3RlQ29tbWFuZCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJBdmF0YXJFbW90ZUNvbW1hbmQgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdmF0YXJfZW1vdGVfY29tbWFuZC5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEF2YXRhckVtb3RlQ29tbWFuZFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwODgsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCQXZhdGFyRW1vdGVDb21tYW5kLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCQXZhdGFyRW1vdGVDb21tYW5kLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQkF2YXRhckVtb3RlQ29tbWFuZC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJBdmF0YXJFbW90ZUNvbW1hbmRcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQkF2YXRhckVxdWlwcGVkRGF0YSgpIHtcbiAgICByZXR1cm4geyB3ZWFyYWJsZVVybnM6IFtdLCBlbW90ZVVybnM6IFtdIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQkF2YXRhckVxdWlwcGVkRGF0YTtcbihmdW5jdGlvbiAoUEJBdmF0YXJFcXVpcHBlZERhdGEpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS53ZWFyYWJsZVVybnMpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyh2KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5lbW90ZVVybnMpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyh2KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQkF2YXRhckVxdWlwcGVkRGF0YS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQXZhdGFyRXF1aXBwZWREYXRhKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uud2VhcmFibGVVcm5zLnB1c2gocmVhZGVyLnN0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5lbW90ZVVybnMucHVzaChyZWFkZXIuc3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCQXZhdGFyRXF1aXBwZWREYXRhLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCQXZhdGFyRXF1aXBwZWREYXRhIHx8IChQQkF2YXRhckVxdWlwcGVkRGF0YSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJBdmF0YXJFcXVpcHBlZERhdGEgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdmF0YXJfZXF1aXBwZWRfZGF0YS5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEF2YXRhckVxdWlwcGVkRGF0YVNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwOTEsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCQXZhdGFyRXF1aXBwZWREYXRhLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCQXZhdGFyRXF1aXBwZWREYXRhLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQkF2YXRhckVxdWlwcGVkRGF0YS5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJBdmF0YXJFcXVpcHBlZERhdGFcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCIuLi8uLi9jb21tb24vdmVjdG9ycy5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG4vKiogQXZhdGFyTW9kaWZpZXJUeXBlIGlzIGFuIGVmZmVjdCB0aGF0IHNob3VsZCBiZSBhcHBsaWVkIHRvIGF2YXRhcnMgaW5zaWRlIHRoZSByZWdpb24uICovXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBBdmF0YXJNb2RpZmllclR5cGU7XG4oZnVuY3Rpb24gKEF2YXRhck1vZGlmaWVyVHlwZSkge1xuICAgIC8qKiBBTVRfSElERV9BVkFUQVJTIC0gYXZhdGFycyBhcmUgaW52aXNpYmxlICovXG4gICAgQXZhdGFyTW9kaWZpZXJUeXBlW0F2YXRhck1vZGlmaWVyVHlwZVtcIkFNVF9ISURFX0FWQVRBUlNcIl0gPSAwXSA9IFwiQU1UX0hJREVfQVZBVEFSU1wiO1xuICAgIC8qKiBBTVRfRElTQUJMRV9QQVNTUE9SVFMgLSBzZWxlY3RpbmcgKGUuZy4gY2xpY2tpbmcpIGFuIGF2YXRhciB3aWxsIG5vdCBicmluZyB1cCB0aGVpciBwcm9maWxlLiAqL1xuICAgIEF2YXRhck1vZGlmaWVyVHlwZVtBdmF0YXJNb2RpZmllclR5cGVbXCJBTVRfRElTQUJMRV9QQVNTUE9SVFNcIl0gPSAxXSA9IFwiQU1UX0RJU0FCTEVfUEFTU1BPUlRTXCI7XG59KShBdmF0YXJNb2RpZmllclR5cGUgfHwgKEF2YXRhck1vZGlmaWVyVHlwZSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJBdmF0YXJNb2RpZmllckFyZWEoKSB7XG4gICAgcmV0dXJuIHsgYXJlYTogdW5kZWZpbmVkLCBleGNsdWRlSWRzOiBbXSwgbW9kaWZpZXJzOiBbXSB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJBdmF0YXJNb2RpZmllckFyZWE7XG4oZnVuY3Rpb24gKFBCQXZhdGFyTW9kaWZpZXJBcmVhKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuYXJlYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWZWN0b3IzLmVuY29kZShtZXNzYWdlLmFyZWEsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UuZXhjbHVkZUlkcykge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKHYpO1xuICAgICAgICB9XG4gICAgICAgIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKTtcbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UubW9kaWZpZXJzKSB7XG4gICAgICAgICAgICB3cml0ZXIuaW50MzIodik7XG4gICAgICAgIH1cbiAgICAgICAgd3JpdGVyLmxkZWxpbSgpO1xuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQkF2YXRhck1vZGlmaWVyQXJlYS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQXZhdGFyTW9kaWZpZXJBcmVhKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYXJlYSA9IFZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5leGNsdWRlSWRzLnB1c2gocmVhZGVyLnN0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnID09PSAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tb2RpZmllcnMucHVzaChyZWFkZXIuaW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnID09PSAyNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kMiA9IHJlYWRlci51aW50MzIoKSArIHJlYWRlci5wb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1vZGlmaWVycy5wdXNoKHJlYWRlci5pbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJBdmF0YXJNb2RpZmllckFyZWEuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJBdmF0YXJNb2RpZmllckFyZWEgfHwgKFBCQXZhdGFyTW9kaWZpZXJBcmVhID0ge30pKTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5jb21tb25cIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQb3NpdGlvbigpIHtcbiAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB6OiAwIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQb3NpdGlvbjtcbihmdW5jdGlvbiAoUG9zaXRpb24pIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS54ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEzKS5mbG9hdChtZXNzYWdlLngpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnkgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjEpLmZsb2F0KG1lc3NhZ2UueSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UueiAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyOSkuZmxvYXQobWVzc2FnZS56KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQb3NpdGlvbi5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBvc2l0aW9uKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UueCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnkgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS56ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUG9zaXRpb24uZGVjb2RlID0gZGVjb2RlO1xufSkoUG9zaXRpb24gfHwgKFBvc2l0aW9uID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VWZWN0b3IzKCkge1xuICAgIHJldHVybiB7IHg6IDAsIHk6IDAsIHo6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFZlY3RvcjM7XG4oZnVuY3Rpb24gKFZlY3RvcjMpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS54ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEzKS5mbG9hdChtZXNzYWdlLngpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnkgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjEpLmZsb2F0KG1lc3NhZ2UueSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UueiAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyOSkuZmxvYXQobWVzc2FnZS56KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBWZWN0b3IzLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVmVjdG9yMygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS55ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UueiA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFZlY3RvcjMuZGVjb2RlID0gZGVjb2RlO1xufSkoVmVjdG9yMyB8fCAoVmVjdG9yMyA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlVmVjdG9yMigpIHtcbiAgICByZXR1cm4geyB4OiAwLCB5OiAwIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBWZWN0b3IyO1xuKGZ1bmN0aW9uIChWZWN0b3IyKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UueCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS54KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS55ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFZlY3RvcjIuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VWZWN0b3IyKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UueCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnkgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBWZWN0b3IyLmRlY29kZSA9IGRlY29kZTtcbn0pKFZlY3RvcjIgfHwgKFZlY3RvcjIgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVF1YXRlcm5pb24oKSB7XG4gICAgcmV0dXJuIHsgeDogMCwgeTogMCwgejogMCwgdzogMCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUXVhdGVybmlvbjtcbihmdW5jdGlvbiAoUXVhdGVybmlvbikge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTMpLmZsb2F0KG1lc3NhZ2UueCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UueSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS55KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS56ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLnopO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLncgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzcpLmZsb2F0KG1lc3NhZ2Uudyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVF1YXRlcm5pb24oKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS54ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UueSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnogPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS53ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5kZWNvZGUgPSBkZWNvZGU7XG59KShRdWF0ZXJuaW9uIHx8IChRdWF0ZXJuaW9uID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQkF2YXRhck1vZGlmaWVyQXJlYSB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F2YXRhcl9tb2RpZmllcl9hcmVhLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgQXZhdGFyTW9kaWZpZXJBcmVhU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA3MCxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJBdmF0YXJNb2RpZmllckFyZWEuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJBdmF0YXJNb2RpZmllckFyZWEuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCQXZhdGFyTW9kaWZpZXJBcmVhLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQkF2YXRhck1vZGlmaWVyQXJlYVwiXG4gICAgfVxufTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAwOSBUaGUgQ2xvc3VyZSBMaWJyYXJ5IEF1dGhvcnNcbiAqIENvcHlyaWdodCAyMDIwIERhbmllbCBXaXJ0eiAvIFRoZSBsb25nLmpzIEF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gV2ViQXNzZW1ibHkgb3B0aW1pemF0aW9ucyB0byBkbyBuYXRpdmUgaTY0IG11bHRpcGxpY2F0aW9uIGFuZCBkaXZpZGVcbnZhciB3YXNtID0gbnVsbDtcbnRyeSB7XG4gIHdhc20gPSBuZXcgV2ViQXNzZW1ibHkuSW5zdGFuY2UoXG4gICAgbmV3IFdlYkFzc2VtYmx5Lk1vZHVsZShcbiAgICAgIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgLy8gXFwwYXNtXG4gICAgICAgIDAsIDk3LCAxMTUsIDEwOSxcbiAgICAgICAgLy8gdmVyc2lvbiAxXG4gICAgICAgIDEsIDAsIDAsIDAsXG5cbiAgICAgICAgLy8gc2VjdGlvbiBcInR5cGVcIlxuICAgICAgICAxLCAxMywgMixcbiAgICAgICAgLy8gMCwgKCkgPT4gaTMyXG4gICAgICAgIDk2LCAwLCAxLCAxMjcsXG4gICAgICAgIC8vIDEsIChpMzIsIGkzMiwgaTMyLCBpMzIpID0+IGkzMlxuICAgICAgICA5NiwgNCwgMTI3LCAxMjcsIDEyNywgMTI3LCAxLCAxMjcsXG5cbiAgICAgICAgLy8gc2VjdGlvbiBcImZ1bmN0aW9uXCJcbiAgICAgICAgMywgNywgNixcbiAgICAgICAgLy8gMCwgdHlwZSAwXG4gICAgICAgIDAsXG4gICAgICAgIC8vIDEsIHR5cGUgMVxuICAgICAgICAxLFxuICAgICAgICAvLyAyLCB0eXBlIDFcbiAgICAgICAgMSxcbiAgICAgICAgLy8gMywgdHlwZSAxXG4gICAgICAgIDEsXG4gICAgICAgIC8vIDQsIHR5cGUgMVxuICAgICAgICAxLFxuICAgICAgICAvLyA1LCB0eXBlIDFcbiAgICAgICAgMSxcblxuICAgICAgICAvLyBzZWN0aW9uIFwiZ2xvYmFsXCJcbiAgICAgICAgNiwgNiwgMSxcbiAgICAgICAgLy8gMCwgXCJoaWdoXCIsIG11dGFibGUgaTMyXG4gICAgICAgIDEyNywgMSwgNjUsIDAsIDExLFxuXG4gICAgICAgIC8vIHNlY3Rpb24gXCJleHBvcnRcIlxuICAgICAgICA3LCA1MCwgNixcbiAgICAgICAgLy8gMCwgXCJtdWxcIlxuICAgICAgICAzLCAxMDksIDExNywgMTA4LCAwLCAxLFxuICAgICAgICAvLyAxLCBcImRpdl9zXCJcbiAgICAgICAgNSwgMTAwLCAxMDUsIDExOCwgOTUsIDExNSwgMCwgMixcbiAgICAgICAgLy8gMiwgXCJkaXZfdVwiXG4gICAgICAgIDUsIDEwMCwgMTA1LCAxMTgsIDk1LCAxMTcsIDAsIDMsXG4gICAgICAgIC8vIDMsIFwicmVtX3NcIlxuICAgICAgICA1LCAxMTQsIDEwMSwgMTA5LCA5NSwgMTE1LCAwLCA0LFxuICAgICAgICAvLyA0LCBcInJlbV91XCJcbiAgICAgICAgNSwgMTE0LCAxMDEsIDEwOSwgOTUsIDExNywgMCwgNSxcbiAgICAgICAgLy8gNSwgXCJnZXRfaGlnaFwiXG4gICAgICAgIDgsIDEwMywgMTAxLCAxMTYsIDk1LCAxMDQsIDEwNSwgMTAzLCAxMDQsIDAsIDAsXG5cbiAgICAgICAgLy8gc2VjdGlvbiBcImNvZGVcIlxuICAgICAgICAxMCwgMTkxLCAxLCA2LFxuICAgICAgICAvLyAwLCBcImdldF9oaWdoXCJcbiAgICAgICAgNCwgMCwgMzUsIDAsIDExLFxuICAgICAgICAvLyAxLCBcIm11bFwiXG4gICAgICAgIDM2LCAxLCAxLCAxMjYsIDMyLCAwLCAxNzMsIDMyLCAxLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDMyLCAyLCAxNzMsIDMyLFxuICAgICAgICAzLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDEyNiwgMzQsIDQsIDY2LCAzMiwgMTM1LCAxNjcsIDM2LCAwLCAzMiwgNCxcbiAgICAgICAgMTY3LCAxMSxcbiAgICAgICAgLy8gMiwgXCJkaXZfc1wiXG4gICAgICAgIDM2LCAxLCAxLCAxMjYsIDMyLCAwLCAxNzMsIDMyLCAxLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDMyLCAyLCAxNzMsIDMyLFxuICAgICAgICAzLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDEyNywgMzQsIDQsIDY2LCAzMiwgMTM1LCAxNjcsIDM2LCAwLCAzMiwgNCxcbiAgICAgICAgMTY3LCAxMSxcbiAgICAgICAgLy8gMywgXCJkaXZfdVwiXG4gICAgICAgIDM2LCAxLCAxLCAxMjYsIDMyLCAwLCAxNzMsIDMyLCAxLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDMyLCAyLCAxNzMsIDMyLFxuICAgICAgICAzLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDEyOCwgMzQsIDQsIDY2LCAzMiwgMTM1LCAxNjcsIDM2LCAwLCAzMiwgNCxcbiAgICAgICAgMTY3LCAxMSxcbiAgICAgICAgLy8gNCwgXCJyZW1fc1wiXG4gICAgICAgIDM2LCAxLCAxLCAxMjYsIDMyLCAwLCAxNzMsIDMyLCAxLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDMyLCAyLCAxNzMsIDMyLFxuICAgICAgICAzLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDEyOSwgMzQsIDQsIDY2LCAzMiwgMTM1LCAxNjcsIDM2LCAwLCAzMiwgNCxcbiAgICAgICAgMTY3LCAxMSxcbiAgICAgICAgLy8gNSwgXCJyZW1fdVwiXG4gICAgICAgIDM2LCAxLCAxLCAxMjYsIDMyLCAwLCAxNzMsIDMyLCAxLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDMyLCAyLCAxNzMsIDMyLFxuICAgICAgICAzLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDEzMCwgMzQsIDQsIDY2LCAzMiwgMTM1LCAxNjcsIDM2LCAwLCAzMiwgNCxcbiAgICAgICAgMTY3LCAxMSxcbiAgICAgIF0pLFxuICAgICksXG4gICAge30sXG4gICkuZXhwb3J0cztcbn0gY2F0Y2gge1xuICAvLyBubyB3YXNtIHN1cHBvcnQgOihcbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgNjQgYml0IHR3bydzLWNvbXBsZW1lbnQgaW50ZWdlciwgZ2l2ZW4gaXRzIGxvdyBhbmQgaGlnaCAzMiBiaXQgdmFsdWVzIGFzICpzaWduZWQqIGludGVnZXJzLlxuICogIFNlZSB0aGUgZnJvbSogZnVuY3Rpb25zIGJlbG93IGZvciBtb3JlIGNvbnZlbmllbnQgd2F5cyBvZiBjb25zdHJ1Y3RpbmcgTG9uZ3MuXG4gKiBAZXhwb3J0cyBMb25nXG4gKiBAY2xhc3MgQSBMb25nIGNsYXNzIGZvciByZXByZXNlbnRpbmcgYSA2NCBiaXQgdHdvJ3MtY29tcGxlbWVudCBpbnRlZ2VyIHZhbHVlLlxuICogQHBhcmFtIHtudW1iZXJ9IGxvdyBUaGUgbG93IChzaWduZWQpIDMyIGJpdHMgb2YgdGhlIGxvbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSBoaWdoIFRoZSBoaWdoIChzaWduZWQpIDMyIGJpdHMgb2YgdGhlIGxvbmdcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBMb25nKGxvdywgaGlnaCwgdW5zaWduZWQpIHtcbiAgLyoqXG4gICAqIFRoZSBsb3cgMzIgYml0cyBhcyBhIHNpZ25lZCB2YWx1ZS5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMubG93ID0gbG93IHwgMDtcblxuICAvKipcbiAgICogVGhlIGhpZ2ggMzIgYml0cyBhcyBhIHNpZ25lZCB2YWx1ZS5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMuaGlnaCA9IGhpZ2ggfCAwO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdC5cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICB0aGlzLnVuc2lnbmVkID0gISF1bnNpZ25lZDtcbn1cblxuLy8gVGhlIGludGVybmFsIHJlcHJlc2VudGF0aW9uIG9mIGEgbG9uZyBpcyB0aGUgdHdvIGdpdmVuIHNpZ25lZCwgMzItYml0IHZhbHVlcy5cbi8vIFdlIHVzZSAzMi1iaXQgcGllY2VzIGJlY2F1c2UgdGhlc2UgYXJlIHRoZSBzaXplIG9mIGludGVnZXJzIG9uIHdoaWNoXG4vLyBKYXZhc2NyaXB0IHBlcmZvcm1zIGJpdC1vcGVyYXRpb25zLiAgRm9yIG9wZXJhdGlvbnMgbGlrZSBhZGRpdGlvbiBhbmRcbi8vIG11bHRpcGxpY2F0aW9uLCB3ZSBzcGxpdCBlYWNoIG51bWJlciBpbnRvIDE2IGJpdCBwaWVjZXMsIHdoaWNoIGNhbiBlYXNpbHkgYmVcbi8vIG11bHRpcGxpZWQgd2l0aGluIEphdmFzY3JpcHQncyBmbG9hdGluZy1wb2ludCByZXByZXNlbnRhdGlvbiB3aXRob3V0IG92ZXJmbG93XG4vLyBvciBjaGFuZ2UgaW4gc2lnbi5cbi8vXG4vLyBJbiB0aGUgYWxnb3JpdGhtcyBiZWxvdywgd2UgZnJlcXVlbnRseSByZWR1Y2UgdGhlIG5lZ2F0aXZlIGNhc2UgdG8gdGhlXG4vLyBwb3NpdGl2ZSBjYXNlIGJ5IG5lZ2F0aW5nIHRoZSBpbnB1dChzKSBhbmQgdGhlbiBwb3N0LXByb2Nlc3NpbmcgdGhlIHJlc3VsdC5cbi8vIE5vdGUgdGhhdCB3ZSBtdXN0IEFMV0FZUyBjaGVjayBzcGVjaWFsbHkgd2hldGhlciB0aG9zZSB2YWx1ZXMgYXJlIE1JTl9WQUxVRVxuLy8gKC0yXjYzKSBiZWNhdXNlIC1NSU5fVkFMVUUgPT0gTUlOX1ZBTFVFIChzaW5jZSAyXjYzIGNhbm5vdCBiZSByZXByZXNlbnRlZCBhc1xuLy8gYSBwb3NpdGl2ZSBudW1iZXIsIGl0IG92ZXJmbG93cyBiYWNrIGludG8gYSBuZWdhdGl2ZSkuICBOb3QgaGFuZGxpbmcgdGhpc1xuLy8gY2FzZSB3b3VsZCBvZnRlbiByZXN1bHQgaW4gaW5maW5pdGUgcmVjdXJzaW9uLlxuLy9cbi8vIENvbW1vbiBjb25zdGFudCB2YWx1ZXMgWkVSTywgT05FLCBORUdfT05FLCBldGMuIGFyZSBkZWZpbmVkIGJlbG93IHRoZSBmcm9tKlxuLy8gbWV0aG9kcyBvbiB3aGljaCB0aGV5IGRlcGVuZC5cblxuLyoqXG4gKiBBbiBpbmRpY2F0b3IgdXNlZCB0byByZWxpYWJseSBkZXRlcm1pbmUgaWYgYW4gb2JqZWN0IGlzIGEgTG9uZyBvciBub3QuXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBjb25zdFxuICogQHByaXZhdGVcbiAqL1xuTG9uZy5wcm90b3R5cGUuX19pc0xvbmdfXztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KExvbmcucHJvdG90eXBlLCBcIl9faXNMb25nX19cIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7Kn0gb2JqIE9iamVjdFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKiBAaW5uZXJcbiAqL1xuZnVuY3Rpb24gaXNMb25nKG9iaikge1xuICByZXR1cm4gKG9iaiAmJiBvYmpbXCJfX2lzTG9uZ19fXCJdKSA9PT0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgbnVtYmVyXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICogQGlubmVyXG4gKi9cbmZ1bmN0aW9uIGN0ejMyKHZhbHVlKSB7XG4gIHZhciBjID0gTWF0aC5jbHozMih2YWx1ZSAmIC12YWx1ZSk7XG4gIHJldHVybiB2YWx1ZSA/IDMxIC0gYyA6IGM7XG59XG5cbi8qKlxuICogVGVzdHMgaWYgdGhlIHNwZWNpZmllZCBvYmplY3QgaXMgYSBMb25nLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyp9IG9iaiBPYmplY3RcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nLmlzTG9uZyA9IGlzTG9uZztcblxuLyoqXG4gKiBBIGNhY2hlIG9mIHRoZSBMb25nIHJlcHJlc2VudGF0aW9ucyBvZiBzbWFsbCBpbnRlZ2VyIHZhbHVlcy5cbiAqIEB0eXBlIHshT2JqZWN0fVxuICogQGlubmVyXG4gKi9cbnZhciBJTlRfQ0FDSEUgPSB7fTtcblxuLyoqXG4gKiBBIGNhY2hlIG9mIHRoZSBMb25nIHJlcHJlc2VudGF0aW9ucyBvZiBzbWFsbCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy5cbiAqIEB0eXBlIHshT2JqZWN0fVxuICogQGlubmVyXG4gKi9cbnZhciBVSU5UX0NBQ0hFID0ge307XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZFxuICogQHJldHVybnMgeyFMb25nfVxuICogQGlubmVyXG4gKi9cbmZ1bmN0aW9uIGZyb21JbnQodmFsdWUsIHVuc2lnbmVkKSB7XG4gIHZhciBvYmosIGNhY2hlZE9iaiwgY2FjaGU7XG4gIGlmICh1bnNpZ25lZCkge1xuICAgIHZhbHVlID4+Pj0gMDtcbiAgICBpZiAoKGNhY2hlID0gMCA8PSB2YWx1ZSAmJiB2YWx1ZSA8IDI1NikpIHtcbiAgICAgIGNhY2hlZE9iaiA9IFVJTlRfQ0FDSEVbdmFsdWVdO1xuICAgICAgaWYgKGNhY2hlZE9iaikgcmV0dXJuIGNhY2hlZE9iajtcbiAgICB9XG4gICAgb2JqID0gZnJvbUJpdHModmFsdWUsIDAsIHRydWUpO1xuICAgIGlmIChjYWNoZSkgVUlOVF9DQUNIRVt2YWx1ZV0gPSBvYmo7XG4gICAgcmV0dXJuIG9iajtcbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSB8PSAwO1xuICAgIGlmICgoY2FjaGUgPSAtMTI4IDw9IHZhbHVlICYmIHZhbHVlIDwgMTI4KSkge1xuICAgICAgY2FjaGVkT2JqID0gSU5UX0NBQ0hFW3ZhbHVlXTtcbiAgICAgIGlmIChjYWNoZWRPYmopIHJldHVybiBjYWNoZWRPYmo7XG4gICAgfVxuICAgIG9iaiA9IGZyb21CaXRzKHZhbHVlLCB2YWx1ZSA8IDAgPyAtMSA6IDAsIGZhbHNlKTtcbiAgICBpZiAoY2FjaGUpIElOVF9DQUNIRVt2YWx1ZV0gPSBvYmo7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgYSBMb25nIHJlcHJlc2VudGluZyB0aGUgZ2l2ZW4gMzIgYml0IGludGVnZXIgdmFsdWUuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBUaGUgMzIgYml0IGludGVnZXIgaW4gcXVlc3Rpb25cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcbiAqIEByZXR1cm5zIHshTG9uZ30gVGhlIGNvcnJlc3BvbmRpbmcgTG9uZyB2YWx1ZVxuICovXG5Mb25nLmZyb21JbnQgPSBmcm9tSW50O1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWRcbiAqIEByZXR1cm5zIHshTG9uZ31cbiAqIEBpbm5lclxuICovXG5mdW5jdGlvbiBmcm9tTnVtYmVyKHZhbHVlLCB1bnNpZ25lZCkge1xuICBpZiAoaXNOYU4odmFsdWUpKSByZXR1cm4gdW5zaWduZWQgPyBVWkVSTyA6IFpFUk87XG4gIGlmICh1bnNpZ25lZCkge1xuICAgIGlmICh2YWx1ZSA8IDApIHJldHVybiBVWkVSTztcbiAgICBpZiAodmFsdWUgPj0gVFdPX1BXUl82NF9EQkwpIHJldHVybiBNQVhfVU5TSUdORURfVkFMVUU7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHZhbHVlIDw9IC1UV09fUFdSXzYzX0RCTCkgcmV0dXJuIE1JTl9WQUxVRTtcbiAgICBpZiAodmFsdWUgKyAxID49IFRXT19QV1JfNjNfREJMKSByZXR1cm4gTUFYX1ZBTFVFO1xuICB9XG4gIGlmICh2YWx1ZSA8IDApIHJldHVybiBmcm9tTnVtYmVyKC12YWx1ZSwgdW5zaWduZWQpLm5lZygpO1xuICByZXR1cm4gZnJvbUJpdHMoXG4gICAgdmFsdWUgJSBUV09fUFdSXzMyX0RCTCB8IDAsXG4gICAgKHZhbHVlIC8gVFdPX1BXUl8zMl9EQkwpIHwgMCxcbiAgICB1bnNpZ25lZCxcbiAgKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgTG9uZyByZXByZXNlbnRpbmcgdGhlIGdpdmVuIHZhbHVlLCBwcm92aWRlZCB0aGF0IGl0IGlzIGEgZmluaXRlIG51bWJlci4gT3RoZXJ3aXNlLCB6ZXJvIGlzIHJldHVybmVkLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIG51bWJlciBpbiBxdWVzdGlvblxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWQgV2hldGhlciB1bnNpZ25lZCBvciBub3QsIGRlZmF1bHRzIHRvIHNpZ25lZFxuICogQHJldHVybnMgeyFMb25nfSBUaGUgY29ycmVzcG9uZGluZyBMb25nIHZhbHVlXG4gKi9cbkxvbmcuZnJvbU51bWJlciA9IGZyb21OdW1iZXI7XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGxvd0JpdHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBoaWdoQml0c1xuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWRcbiAqIEByZXR1cm5zIHshTG9uZ31cbiAqIEBpbm5lclxuICovXG5mdW5jdGlvbiBmcm9tQml0cyhsb3dCaXRzLCBoaWdoQml0cywgdW5zaWduZWQpIHtcbiAgcmV0dXJuIG5ldyBMb25nKGxvd0JpdHMsIGhpZ2hCaXRzLCB1bnNpZ25lZCk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIExvbmcgcmVwcmVzZW50aW5nIHRoZSA2NCBiaXQgaW50ZWdlciB0aGF0IGNvbWVzIGJ5IGNvbmNhdGVuYXRpbmcgdGhlIGdpdmVuIGxvdyBhbmQgaGlnaCBiaXRzLiBFYWNoIGlzXG4gKiAgYXNzdW1lZCB0byB1c2UgMzIgYml0cy5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IGxvd0JpdHMgVGhlIGxvdyAzMiBiaXRzXG4gKiBAcGFyYW0ge251bWJlcn0gaGlnaEJpdHMgVGhlIGhpZ2ggMzIgYml0c1xuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWQgV2hldGhlciB1bnNpZ25lZCBvciBub3QsIGRlZmF1bHRzIHRvIHNpZ25lZFxuICogQHJldHVybnMgeyFMb25nfSBUaGUgY29ycmVzcG9uZGluZyBMb25nIHZhbHVlXG4gKi9cbkxvbmcuZnJvbUJpdHMgPSBmcm9tQml0cztcblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBiYXNlXG4gKiBAcGFyYW0ge251bWJlcn0gZXhwb25lbnRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKiBAaW5uZXJcbiAqL1xudmFyIHBvd19kYmwgPSBNYXRoLnBvdzsgLy8gVXNlZCA0IHRpbWVzICg0KjggdG8gMTUrNClcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gKiBAcGFyYW0geyhib29sZWFufG51bWJlcik9fSB1bnNpZ25lZFxuICogQHBhcmFtIHtudW1iZXI9fSByYWRpeFxuICogQHJldHVybnMgeyFMb25nfVxuICogQGlubmVyXG4gKi9cbmZ1bmN0aW9uIGZyb21TdHJpbmcoc3RyLCB1bnNpZ25lZCwgcmFkaXgpIHtcbiAgaWYgKHN0ci5sZW5ndGggPT09IDApIHRocm93IEVycm9yKFwiZW1wdHkgc3RyaW5nXCIpO1xuICBpZiAodHlwZW9mIHVuc2lnbmVkID09PSBcIm51bWJlclwiKSB7XG4gICAgLy8gRm9yIGdvb2cubWF0aC5sb25nIGNvbXBhdGliaWxpdHlcbiAgICByYWRpeCA9IHVuc2lnbmVkO1xuICAgIHVuc2lnbmVkID0gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgdW5zaWduZWQgPSAhIXVuc2lnbmVkO1xuICB9XG4gIGlmIChcbiAgICBzdHIgPT09IFwiTmFOXCIgfHxcbiAgICBzdHIgPT09IFwiSW5maW5pdHlcIiB8fFxuICAgIHN0ciA9PT0gXCIrSW5maW5pdHlcIiB8fFxuICAgIHN0ciA9PT0gXCItSW5maW5pdHlcIlxuICApXG4gICAgcmV0dXJuIHVuc2lnbmVkID8gVVpFUk8gOiBaRVJPO1xuICByYWRpeCA9IHJhZGl4IHx8IDEwO1xuICBpZiAocmFkaXggPCAyIHx8IDM2IDwgcmFkaXgpIHRocm93IFJhbmdlRXJyb3IoXCJyYWRpeFwiKTtcblxuICB2YXIgcDtcbiAgaWYgKChwID0gc3RyLmluZGV4T2YoXCItXCIpKSA+IDApIHRocm93IEVycm9yKFwiaW50ZXJpb3IgaHlwaGVuXCIpO1xuICBlbHNlIGlmIChwID09PSAwKSB7XG4gICAgcmV0dXJuIGZyb21TdHJpbmcoc3RyLnN1YnN0cmluZygxKSwgdW5zaWduZWQsIHJhZGl4KS5uZWcoKTtcbiAgfVxuXG4gIC8vIERvIHNldmVyYWwgKDgpIGRpZ2l0cyBlYWNoIHRpbWUgdGhyb3VnaCB0aGUgbG9vcCwgc28gYXMgdG9cbiAgLy8gbWluaW1pemUgdGhlIGNhbGxzIHRvIHRoZSB2ZXJ5IGV4cGVuc2l2ZSBlbXVsYXRlZCBkaXYuXG4gIHZhciByYWRpeFRvUG93ZXIgPSBmcm9tTnVtYmVyKHBvd19kYmwocmFkaXgsIDgpKTtcblxuICB2YXIgcmVzdWx0ID0gWkVSTztcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpICs9IDgpIHtcbiAgICB2YXIgc2l6ZSA9IE1hdGgubWluKDgsIHN0ci5sZW5ndGggLSBpKSxcbiAgICAgIHZhbHVlID0gcGFyc2VJbnQoc3RyLnN1YnN0cmluZyhpLCBpICsgc2l6ZSksIHJhZGl4KTtcbiAgICBpZiAoc2l6ZSA8IDgpIHtcbiAgICAgIHZhciBwb3dlciA9IGZyb21OdW1iZXIocG93X2RibChyYWRpeCwgc2l6ZSkpO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0Lm11bChwb3dlcikuYWRkKGZyb21OdW1iZXIodmFsdWUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gcmVzdWx0Lm11bChyYWRpeFRvUG93ZXIpO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0LmFkZChmcm9tTnVtYmVyKHZhbHVlKSk7XG4gICAgfVxuICB9XG4gIHJlc3VsdC51bnNpZ25lZCA9IHVuc2lnbmVkO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBMb25nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBzdHJpbmcsIHdyaXR0ZW4gdXNpbmcgdGhlIHNwZWNpZmllZCByYWRpeC5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciBUaGUgdGV4dHVhbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgTG9uZ1xuICogQHBhcmFtIHsoYm9vbGVhbnxudW1iZXIpPX0gdW5zaWduZWQgV2hldGhlciB1bnNpZ25lZCBvciBub3QsIGRlZmF1bHRzIHRvIHNpZ25lZFxuICogQHBhcmFtIHtudW1iZXI9fSByYWRpeCBUaGUgcmFkaXggaW4gd2hpY2ggdGhlIHRleHQgaXMgd3JpdHRlbiAoMi0zNiksIGRlZmF1bHRzIHRvIDEwXG4gKiBAcmV0dXJucyB7IUxvbmd9IFRoZSBjb3JyZXNwb25kaW5nIExvbmcgdmFsdWVcbiAqL1xuTG9uZy5mcm9tU3RyaW5nID0gZnJvbVN0cmluZztcblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ3whe2xvdzogbnVtYmVyLCBoaWdoOiBudW1iZXIsIHVuc2lnbmVkOiBib29sZWFufX0gdmFsXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZFxuICogQHJldHVybnMgeyFMb25nfVxuICogQGlubmVyXG4gKi9cbmZ1bmN0aW9uIGZyb21WYWx1ZSh2YWwsIHVuc2lnbmVkKSB7XG4gIGlmICh0eXBlb2YgdmFsID09PSBcIm51bWJlclwiKSByZXR1cm4gZnJvbU51bWJlcih2YWwsIHVuc2lnbmVkKTtcbiAgaWYgKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIpIHJldHVybiBmcm9tU3RyaW5nKHZhbCwgdW5zaWduZWQpO1xuICAvLyBUaHJvd3MgZm9yIG5vbi1vYmplY3RzLCBjb252ZXJ0cyBub24taW5zdGFuY2VvZiBMb25nOlxuICByZXR1cm4gZnJvbUJpdHMoXG4gICAgdmFsLmxvdyxcbiAgICB2YWwuaGlnaCxcbiAgICB0eXBlb2YgdW5zaWduZWQgPT09IFwiYm9vbGVhblwiID8gdW5zaWduZWQgOiB2YWwudW5zaWduZWQsXG4gICk7XG59XG5cbi8qKlxuICogQ29udmVydHMgdGhlIHNwZWNpZmllZCB2YWx1ZSB0byBhIExvbmcgdXNpbmcgdGhlIGFwcHJvcHJpYXRlIGZyb20qIGZ1bmN0aW9uIGZvciBpdHMgdHlwZS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8YmlnaW50fHN0cmluZ3whe2xvdzogbnVtYmVyLCBoaWdoOiBudW1iZXIsIHVuc2lnbmVkOiBib29sZWFufX0gdmFsIFZhbHVlXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdCwgZGVmYXVsdHMgdG8gc2lnbmVkXG4gKiBAcmV0dXJucyB7IUxvbmd9XG4gKi9cbkxvbmcuZnJvbVZhbHVlID0gZnJvbVZhbHVlO1xuXG4vLyBOT1RFOiB0aGUgY29tcGlsZXIgc2hvdWxkIGlubGluZSB0aGVzZSBjb25zdGFudCB2YWx1ZXMgYmVsb3cgYW5kIHRoZW4gcmVtb3ZlIHRoZXNlIHZhcmlhYmxlcywgc28gdGhlcmUgc2hvdWxkIGJlXG4vLyBubyBydW50aW1lIHBlbmFsdHkgZm9yIHRoZXNlLlxuXG4vKipcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAY29uc3RcbiAqIEBpbm5lclxuICovXG52YXIgVFdPX1BXUl8xNl9EQkwgPSAxIDw8IDE2O1xuXG4vKipcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAY29uc3RcbiAqIEBpbm5lclxuICovXG52YXIgVFdPX1BXUl8yNF9EQkwgPSAxIDw8IDI0O1xuXG4vKipcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAY29uc3RcbiAqIEBpbm5lclxuICovXG52YXIgVFdPX1BXUl8zMl9EQkwgPSBUV09fUFdSXzE2X0RCTCAqIFRXT19QV1JfMTZfREJMO1xuXG4vKipcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAY29uc3RcbiAqIEBpbm5lclxuICovXG52YXIgVFdPX1BXUl82NF9EQkwgPSBUV09fUFdSXzMyX0RCTCAqIFRXT19QV1JfMzJfREJMO1xuXG4vKipcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAY29uc3RcbiAqIEBpbm5lclxuICovXG52YXIgVFdPX1BXUl82M19EQkwgPSBUV09fUFdSXzY0X0RCTCAvIDI7XG5cbi8qKlxuICogQHR5cGUgeyFMb25nfVxuICogQGNvbnN0XG4gKiBAaW5uZXJcbiAqL1xudmFyIFRXT19QV1JfMjQgPSBmcm9tSW50KFRXT19QV1JfMjRfREJMKTtcblxuLyoqXG4gKiBAdHlwZSB7IUxvbmd9XG4gKiBAaW5uZXJcbiAqL1xudmFyIFpFUk8gPSBmcm9tSW50KDApO1xuXG4vKipcbiAqIFNpZ25lZCB6ZXJvLlxuICogQHR5cGUgeyFMb25nfVxuICovXG5Mb25nLlpFUk8gPSBaRVJPO1xuXG4vKipcbiAqIEB0eXBlIHshTG9uZ31cbiAqIEBpbm5lclxuICovXG52YXIgVVpFUk8gPSBmcm9tSW50KDAsIHRydWUpO1xuXG4vKipcbiAqIFVuc2lnbmVkIHplcm8uXG4gKiBAdHlwZSB7IUxvbmd9XG4gKi9cbkxvbmcuVVpFUk8gPSBVWkVSTztcblxuLyoqXG4gKiBAdHlwZSB7IUxvbmd9XG4gKiBAaW5uZXJcbiAqL1xudmFyIE9ORSA9IGZyb21JbnQoMSk7XG5cbi8qKlxuICogU2lnbmVkIG9uZS5cbiAqIEB0eXBlIHshTG9uZ31cbiAqL1xuTG9uZy5PTkUgPSBPTkU7XG5cbi8qKlxuICogQHR5cGUgeyFMb25nfVxuICogQGlubmVyXG4gKi9cbnZhciBVT05FID0gZnJvbUludCgxLCB0cnVlKTtcblxuLyoqXG4gKiBVbnNpZ25lZCBvbmUuXG4gKiBAdHlwZSB7IUxvbmd9XG4gKi9cbkxvbmcuVU9ORSA9IFVPTkU7XG5cbi8qKlxuICogQHR5cGUgeyFMb25nfVxuICogQGlubmVyXG4gKi9cbnZhciBORUdfT05FID0gZnJvbUludCgtMSk7XG5cbi8qKlxuICogU2lnbmVkIG5lZ2F0aXZlIG9uZS5cbiAqIEB0eXBlIHshTG9uZ31cbiAqL1xuTG9uZy5ORUdfT05FID0gTkVHX09ORTtcblxuLyoqXG4gKiBAdHlwZSB7IUxvbmd9XG4gKiBAaW5uZXJcbiAqL1xudmFyIE1BWF9WQUxVRSA9IGZyb21CaXRzKDB4ZmZmZmZmZmYgfCAwLCAweDdmZmZmZmZmIHwgMCwgZmFsc2UpO1xuXG4vKipcbiAqIE1heGltdW0gc2lnbmVkIHZhbHVlLlxuICogQHR5cGUgeyFMb25nfVxuICovXG5Mb25nLk1BWF9WQUxVRSA9IE1BWF9WQUxVRTtcblxuLyoqXG4gKiBAdHlwZSB7IUxvbmd9XG4gKiBAaW5uZXJcbiAqL1xudmFyIE1BWF9VTlNJR05FRF9WQUxVRSA9IGZyb21CaXRzKDB4ZmZmZmZmZmYgfCAwLCAweGZmZmZmZmZmIHwgMCwgdHJ1ZSk7XG5cbi8qKlxuICogTWF4aW11bSB1bnNpZ25lZCB2YWx1ZS5cbiAqIEB0eXBlIHshTG9uZ31cbiAqL1xuTG9uZy5NQVhfVU5TSUdORURfVkFMVUUgPSBNQVhfVU5TSUdORURfVkFMVUU7XG5cbi8qKlxuICogQHR5cGUgeyFMb25nfVxuICogQGlubmVyXG4gKi9cbnZhciBNSU5fVkFMVUUgPSBmcm9tQml0cygwLCAweDgwMDAwMDAwIHwgMCwgZmFsc2UpO1xuXG4vKipcbiAqIE1pbmltdW0gc2lnbmVkIHZhbHVlLlxuICogQHR5cGUgeyFMb25nfVxuICovXG5Mb25nLk1JTl9WQUxVRSA9IE1JTl9WQUxVRTtcblxuLyoqXG4gKiBAYWxpYXMgTG9uZy5wcm90b3R5cGVcbiAqIEBpbm5lclxuICovXG52YXIgTG9uZ1Byb3RvdHlwZSA9IExvbmcucHJvdG90eXBlO1xuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBMb25nIHRvIGEgMzIgYml0IGludGVnZXIsIGFzc3VtaW5nIGl0IGlzIGEgMzIgYml0IGludGVnZXIuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5Mb25nUHJvdG90eXBlLnRvSW50ID0gZnVuY3Rpb24gdG9JbnQoKSB7XG4gIHJldHVybiB0aGlzLnVuc2lnbmVkID8gdGhpcy5sb3cgPj4+IDAgOiB0aGlzLmxvdztcbn07XG5cbi8qKlxuICogQ29udmVydHMgdGhlIExvbmcgdG8gYSB0aGUgbmVhcmVzdCBmbG9hdGluZy1wb2ludCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHZhbHVlIChkb3VibGUsIDUzIGJpdCBtYW50aXNzYSkuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5Mb25nUHJvdG90eXBlLnRvTnVtYmVyID0gZnVuY3Rpb24gdG9OdW1iZXIoKSB7XG4gIGlmICh0aGlzLnVuc2lnbmVkKVxuICAgIHJldHVybiAodGhpcy5oaWdoID4+PiAwKSAqIFRXT19QV1JfMzJfREJMICsgKHRoaXMubG93ID4+PiAwKTtcbiAgcmV0dXJuIHRoaXMuaGlnaCAqIFRXT19QV1JfMzJfREJMICsgKHRoaXMubG93ID4+PiAwKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgdGhlIExvbmcgdG8gYSBzdHJpbmcgd3JpdHRlbiBpbiB0aGUgc3BlY2lmaWVkIHJhZGl4LlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHtudW1iZXI9fSByYWRpeCBSYWRpeCAoMi0zNiksIGRlZmF1bHRzIHRvIDEwXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICogQG92ZXJyaWRlXG4gKiBAdGhyb3dzIHtSYW5nZUVycm9yfSBJZiBgcmFkaXhgIGlzIG91dCBvZiByYW5nZVxuICovXG5Mb25nUHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcocmFkaXgpIHtcbiAgcmFkaXggPSByYWRpeCB8fCAxMDtcbiAgaWYgKHJhZGl4IDwgMiB8fCAzNiA8IHJhZGl4KSB0aHJvdyBSYW5nZUVycm9yKFwicmFkaXhcIik7XG4gIGlmICh0aGlzLmlzWmVybygpKSByZXR1cm4gXCIwXCI7XG4gIGlmICh0aGlzLmlzTmVnYXRpdmUoKSkge1xuICAgIC8vIFVuc2lnbmVkIExvbmdzIGFyZSBuZXZlciBuZWdhdGl2ZVxuICAgIGlmICh0aGlzLmVxKE1JTl9WQUxVRSkpIHtcbiAgICAgIC8vIFdlIG5lZWQgdG8gY2hhbmdlIHRoZSBMb25nIHZhbHVlIGJlZm9yZSBpdCBjYW4gYmUgbmVnYXRlZCwgc28gd2UgcmVtb3ZlXG4gICAgICAvLyB0aGUgYm90dG9tLW1vc3QgZGlnaXQgaW4gdGhpcyBiYXNlIGFuZCB0aGVuIHJlY3Vyc2UgdG8gZG8gdGhlIHJlc3QuXG4gICAgICB2YXIgcmFkaXhMb25nID0gZnJvbU51bWJlcihyYWRpeCksXG4gICAgICAgIGRpdiA9IHRoaXMuZGl2KHJhZGl4TG9uZyksXG4gICAgICAgIHJlbTEgPSBkaXYubXVsKHJhZGl4TG9uZykuc3ViKHRoaXMpO1xuICAgICAgcmV0dXJuIGRpdi50b1N0cmluZyhyYWRpeCkgKyByZW0xLnRvSW50KCkudG9TdHJpbmcocmFkaXgpO1xuICAgIH0gZWxzZSByZXR1cm4gXCItXCIgKyB0aGlzLm5lZygpLnRvU3RyaW5nKHJhZGl4KTtcbiAgfVxuXG4gIC8vIERvIHNldmVyYWwgKDYpIGRpZ2l0cyBlYWNoIHRpbWUgdGhyb3VnaCB0aGUgbG9vcCwgc28gYXMgdG9cbiAgLy8gbWluaW1pemUgdGhlIGNhbGxzIHRvIHRoZSB2ZXJ5IGV4cGVuc2l2ZSBlbXVsYXRlZCBkaXYuXG4gIHZhciByYWRpeFRvUG93ZXIgPSBmcm9tTnVtYmVyKHBvd19kYmwocmFkaXgsIDYpLCB0aGlzLnVuc2lnbmVkKSxcbiAgICByZW0gPSB0aGlzO1xuICB2YXIgcmVzdWx0ID0gXCJcIjtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICB2YXIgcmVtRGl2ID0gcmVtLmRpdihyYWRpeFRvUG93ZXIpLFxuICAgICAgaW50dmFsID0gcmVtLnN1YihyZW1EaXYubXVsKHJhZGl4VG9Qb3dlcikpLnRvSW50KCkgPj4+IDAsXG4gICAgICBkaWdpdHMgPSBpbnR2YWwudG9TdHJpbmcocmFkaXgpO1xuICAgIHJlbSA9IHJlbURpdjtcbiAgICBpZiAocmVtLmlzWmVybygpKSByZXR1cm4gZGlnaXRzICsgcmVzdWx0O1xuICAgIGVsc2Uge1xuICAgICAgd2hpbGUgKGRpZ2l0cy5sZW5ndGggPCA2KSBkaWdpdHMgPSBcIjBcIiArIGRpZ2l0cztcbiAgICAgIHJlc3VsdCA9IFwiXCIgKyBkaWdpdHMgKyByZXN1bHQ7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGhpZ2ggMzIgYml0cyBhcyBhIHNpZ25lZCBpbnRlZ2VyLlxuICogQHRoaXMgeyFMb25nfVxuICogQHJldHVybnMge251bWJlcn0gU2lnbmVkIGhpZ2ggYml0c1xuICovXG5Mb25nUHJvdG90eXBlLmdldEhpZ2hCaXRzID0gZnVuY3Rpb24gZ2V0SGlnaEJpdHMoKSB7XG4gIHJldHVybiB0aGlzLmhpZ2g7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGhpZ2ggMzIgYml0cyBhcyBhbiB1bnNpZ25lZCBpbnRlZ2VyLlxuICogQHRoaXMgeyFMb25nfVxuICogQHJldHVybnMge251bWJlcn0gVW5zaWduZWQgaGlnaCBiaXRzXG4gKi9cbkxvbmdQcm90b3R5cGUuZ2V0SGlnaEJpdHNVbnNpZ25lZCA9IGZ1bmN0aW9uIGdldEhpZ2hCaXRzVW5zaWduZWQoKSB7XG4gIHJldHVybiB0aGlzLmhpZ2ggPj4+IDA7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGxvdyAzMiBiaXRzIGFzIGEgc2lnbmVkIGludGVnZXIuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7bnVtYmVyfSBTaWduZWQgbG93IGJpdHNcbiAqL1xuTG9uZ1Byb3RvdHlwZS5nZXRMb3dCaXRzID0gZnVuY3Rpb24gZ2V0TG93Qml0cygpIHtcbiAgcmV0dXJuIHRoaXMubG93O1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBsb3cgMzIgYml0cyBhcyBhbiB1bnNpZ25lZCBpbnRlZ2VyLlxuICogQHRoaXMgeyFMb25nfVxuICogQHJldHVybnMge251bWJlcn0gVW5zaWduZWQgbG93IGJpdHNcbiAqL1xuTG9uZ1Byb3RvdHlwZS5nZXRMb3dCaXRzVW5zaWduZWQgPSBmdW5jdGlvbiBnZXRMb3dCaXRzVW5zaWduZWQoKSB7XG4gIHJldHVybiB0aGlzLmxvdyA+Pj4gMDtcbn07XG5cbi8qKlxuICogR2V0cyB0aGUgbnVtYmVyIG9mIGJpdHMgbmVlZGVkIHRvIHJlcHJlc2VudCB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgdGhpcyBMb25nLlxuICogQHRoaXMgeyFMb25nfVxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5nZXROdW1CaXRzQWJzID0gZnVuY3Rpb24gZ2V0TnVtQml0c0FicygpIHtcbiAgaWYgKHRoaXMuaXNOZWdhdGl2ZSgpKVxuICAgIC8vIFVuc2lnbmVkIExvbmdzIGFyZSBuZXZlciBuZWdhdGl2ZVxuICAgIHJldHVybiB0aGlzLmVxKE1JTl9WQUxVRSkgPyA2NCA6IHRoaXMubmVnKCkuZ2V0TnVtQml0c0FicygpO1xuICB2YXIgdmFsID0gdGhpcy5oaWdoICE9IDAgPyB0aGlzLmhpZ2ggOiB0aGlzLmxvdztcbiAgZm9yICh2YXIgYml0ID0gMzE7IGJpdCA+IDA7IGJpdC0tKSBpZiAoKHZhbCAmICgxIDw8IGJpdCkpICE9IDApIGJyZWFrO1xuICByZXR1cm4gdGhpcy5oaWdoICE9IDAgPyBiaXQgKyAzMyA6IGJpdCArIDE7XG59O1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZyBjYW4gYmUgc2FmZWx5IHJlcHJlc2VudGVkIGFzIGEgSmF2YVNjcmlwdCBudW1iZXIuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5pc1NhZmVJbnRlZ2VyID0gZnVuY3Rpb24gaXNTYWZlSW50ZWdlcigpIHtcbiAgLy8gMl41My0xIGlzIHRoZSBtYXhpbXVtIHNhZmUgdmFsdWVcbiAgdmFyIHRvcDExQml0cyA9IHRoaXMuaGlnaCA+PiAyMTtcbiAgLy8gWzAsIDJeNTMtMV1cbiAgaWYgKCF0b3AxMUJpdHMpIHJldHVybiB0cnVlO1xuICAvLyA+IDJeNTMtMVxuICBpZiAodGhpcy51bnNpZ25lZCkgcmV0dXJuIGZhbHNlO1xuICAvLyBbLTJeNTMsIC0xXSBleGNlcHQgLTJeNTNcbiAgcmV0dXJuIHRvcDExQml0cyA9PT0gLTEgJiYgISh0aGlzLmxvdyA9PT0gMCAmJiB0aGlzLmhpZ2ggPT09IC0weDIwMDAwMCk7XG59O1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGVxdWFscyB6ZXJvLlxuICogQHRoaXMgeyFMb25nfVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkxvbmdQcm90b3R5cGUuaXNaZXJvID0gZnVuY3Rpb24gaXNaZXJvKCkge1xuICByZXR1cm4gdGhpcy5oaWdoID09PSAwICYmIHRoaXMubG93ID09PSAwO1xufTtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBlcXVhbHMgemVyby4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNpc1plcm99LlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkxvbmdQcm90b3R5cGUuZXF6ID0gTG9uZ1Byb3RvdHlwZS5pc1plcm87XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgbmVnYXRpdmUuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5pc05lZ2F0aXZlID0gZnVuY3Rpb24gaXNOZWdhdGl2ZSgpIHtcbiAgcmV0dXJuICF0aGlzLnVuc2lnbmVkICYmIHRoaXMuaGlnaCA8IDA7XG59O1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIHBvc2l0aXZlIG9yIHplcm8uXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5pc1Bvc2l0aXZlID0gZnVuY3Rpb24gaXNQb3NpdGl2ZSgpIHtcbiAgcmV0dXJuIHRoaXMudW5zaWduZWQgfHwgdGhpcy5oaWdoID49IDA7XG59O1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIG9kZC5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nUHJvdG90eXBlLmlzT2RkID0gZnVuY3Rpb24gaXNPZGQoKSB7XG4gIHJldHVybiAodGhpcy5sb3cgJiAxKSA9PT0gMTtcbn07XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgZXZlbi5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nUHJvdG90eXBlLmlzRXZlbiA9IGZ1bmN0aW9uIGlzRXZlbigpIHtcbiAgcmV0dXJuICh0aGlzLmxvdyAmIDEpID09PSAwO1xufTtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBlcXVhbHMgdGhlIHNwZWNpZmllZCdzLlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8YmlnaW50fHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nUHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyhvdGhlcikge1xuICBpZiAoIWlzTG9uZyhvdGhlcikpIG90aGVyID0gZnJvbVZhbHVlKG90aGVyKTtcbiAgaWYgKFxuICAgIHRoaXMudW5zaWduZWQgIT09IG90aGVyLnVuc2lnbmVkICYmXG4gICAgdGhpcy5oaWdoID4+PiAzMSA9PT0gMSAmJlxuICAgIG90aGVyLmhpZ2ggPj4+IDMxID09PSAxXG4gIClcbiAgICByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0aGlzLmhpZ2ggPT09IG90aGVyLmhpZ2ggJiYgdGhpcy5sb3cgPT09IG90aGVyLmxvdztcbn07XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgZXF1YWxzIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNlcXVhbHN9LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxiaWdpbnR8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkxvbmdQcm90b3R5cGUuZXEgPSBMb25nUHJvdG90eXBlLmVxdWFscztcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBkaWZmZXJzIGZyb20gdGhlIHNwZWNpZmllZCdzLlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8YmlnaW50fHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nUHJvdG90eXBlLm5vdEVxdWFscyA9IGZ1bmN0aW9uIG5vdEVxdWFscyhvdGhlcikge1xuICByZXR1cm4gIXRoaXMuZXEoLyogdmFsaWRhdGVzICovIG90aGVyKTtcbn07XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgZGlmZmVycyBmcm9tIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNub3RFcXVhbHN9LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxiaWdpbnR8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkxvbmdQcm90b3R5cGUubmVxID0gTG9uZ1Byb3RvdHlwZS5ub3RFcXVhbHM7XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgZGlmZmVycyBmcm9tIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNub3RFcXVhbHN9LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxiaWdpbnR8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkxvbmdQcm90b3R5cGUubmUgPSBMb25nUHJvdG90eXBlLm5vdEVxdWFscztcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBsZXNzIHRoYW4gdGhlIHNwZWNpZmllZCdzLlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8YmlnaW50fHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nUHJvdG90eXBlLmxlc3NUaGFuID0gZnVuY3Rpb24gbGVzc1RoYW4ob3RoZXIpIHtcbiAgcmV0dXJuIHRoaXMuY29tcCgvKiB2YWxpZGF0ZXMgKi8gb3RoZXIpIDwgMDtcbn07XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgbGVzcyB0aGFuIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNsZXNzVGhhbn0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfGJpZ2ludHxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5sdCA9IExvbmdQcm90b3R5cGUubGVzc1RoYW47XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRoZSBzcGVjaWZpZWQncy5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfGJpZ2ludHxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5sZXNzVGhhbk9yRXF1YWwgPSBmdW5jdGlvbiBsZXNzVGhhbk9yRXF1YWwob3RoZXIpIHtcbiAgcmV0dXJuIHRoaXMuY29tcCgvKiB2YWxpZGF0ZXMgKi8gb3RoZXIpIDw9IDA7XG59O1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0aGUgc3BlY2lmaWVkJ3MuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjbGVzc1RoYW5PckVxdWFsfS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8YmlnaW50fHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nUHJvdG90eXBlLmx0ZSA9IExvbmdQcm90b3R5cGUubGVzc1RoYW5PckVxdWFsO1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0aGUgc3BlY2lmaWVkJ3MuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjbGVzc1RoYW5PckVxdWFsfS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8YmlnaW50fHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nUHJvdG90eXBlLmxlID0gTG9uZ1Byb3RvdHlwZS5sZXNzVGhhbk9yRXF1YWw7XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIHRoZSBzcGVjaWZpZWQncy5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfGJpZ2ludHxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5ncmVhdGVyVGhhbiA9IGZ1bmN0aW9uIGdyZWF0ZXJUaGFuKG90aGVyKSB7XG4gIHJldHVybiB0aGlzLmNvbXAoLyogdmFsaWRhdGVzICovIG90aGVyKSA+IDA7XG59O1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgc3BlY2lmaWVkJ3MuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjZ3JlYXRlclRoYW59LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxiaWdpbnR8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkxvbmdQcm90b3R5cGUuZ3QgPSBMb25nUHJvdG90eXBlLmdyZWF0ZXJUaGFuO1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0aGUgc3BlY2lmaWVkJ3MuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxiaWdpbnR8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkxvbmdQcm90b3R5cGUuZ3JlYXRlclRoYW5PckVxdWFsID0gZnVuY3Rpb24gZ3JlYXRlclRoYW5PckVxdWFsKG90aGVyKSB7XG4gIHJldHVybiB0aGlzLmNvbXAoLyogdmFsaWRhdGVzICovIG90aGVyKSA+PSAwO1xufTtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2dyZWF0ZXJUaGFuT3JFcXVhbH0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfGJpZ2ludHxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5ndGUgPSBMb25nUHJvdG90eXBlLmdyZWF0ZXJUaGFuT3JFcXVhbDtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2dyZWF0ZXJUaGFuT3JFcXVhbH0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfGJpZ2ludHxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5nZSA9IExvbmdQcm90b3R5cGUuZ3JlYXRlclRoYW5PckVxdWFsO1xuXG4vKipcbiAqIENvbXBhcmVzIHRoaXMgTG9uZydzIHZhbHVlIHdpdGggdGhlIHNwZWNpZmllZCdzLlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8YmlnaW50fHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcbiAqIEByZXR1cm5zIHtudW1iZXJ9IDAgaWYgdGhleSBhcmUgdGhlIHNhbWUsIDEgaWYgdGhlIHRoaXMgaXMgZ3JlYXRlciBhbmQgLTFcbiAqICBpZiB0aGUgZ2l2ZW4gb25lIGlzIGdyZWF0ZXJcbiAqL1xuTG9uZ1Byb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZShvdGhlcikge1xuICBpZiAoIWlzTG9uZyhvdGhlcikpIG90aGVyID0gZnJvbVZhbHVlKG90aGVyKTtcbiAgaWYgKHRoaXMuZXEob3RoZXIpKSByZXR1cm4gMDtcbiAgdmFyIHRoaXNOZWcgPSB0aGlzLmlzTmVnYXRpdmUoKSxcbiAgICBvdGhlck5lZyA9IG90aGVyLmlzTmVnYXRpdmUoKTtcbiAgaWYgKHRoaXNOZWcgJiYgIW90aGVyTmVnKSByZXR1cm4gLTE7XG4gIGlmICghdGhpc05lZyAmJiBvdGhlck5lZykgcmV0dXJuIDE7XG4gIC8vIEF0IHRoaXMgcG9pbnQgdGhlIHNpZ24gYml0cyBhcmUgdGhlIHNhbWVcbiAgaWYgKCF0aGlzLnVuc2lnbmVkKSByZXR1cm4gdGhpcy5zdWIob3RoZXIpLmlzTmVnYXRpdmUoKSA/IC0xIDogMTtcbiAgLy8gQm90aCBhcmUgcG9zaXRpdmUgaWYgYXQgbGVhc3Qgb25lIGlzIHVuc2lnbmVkXG4gIHJldHVybiBvdGhlci5oaWdoID4+PiAwID4gdGhpcy5oaWdoID4+PiAwIHx8XG4gICAgKG90aGVyLmhpZ2ggPT09IHRoaXMuaGlnaCAmJiBvdGhlci5sb3cgPj4+IDAgPiB0aGlzLmxvdyA+Pj4gMClcbiAgICA/IC0xXG4gICAgOiAxO1xufTtcblxuLyoqXG4gKiBDb21wYXJlcyB0aGlzIExvbmcncyB2YWx1ZSB3aXRoIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNjb21wYXJlfS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8YmlnaW50fHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcbiAqIEByZXR1cm5zIHtudW1iZXJ9IDAgaWYgdGhleSBhcmUgdGhlIHNhbWUsIDEgaWYgdGhlIHRoaXMgaXMgZ3JlYXRlciBhbmQgLTFcbiAqICBpZiB0aGUgZ2l2ZW4gb25lIGlzIGdyZWF0ZXJcbiAqL1xuTG9uZ1Byb3RvdHlwZS5jb21wID0gTG9uZ1Byb3RvdHlwZS5jb21wYXJlO1xuXG4vKipcbiAqIE5lZ2F0ZXMgdGhpcyBMb25nJ3MgdmFsdWUuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7IUxvbmd9IE5lZ2F0ZWQgTG9uZ1xuICovXG5Mb25nUHJvdG90eXBlLm5lZ2F0ZSA9IGZ1bmN0aW9uIG5lZ2F0ZSgpIHtcbiAgaWYgKCF0aGlzLnVuc2lnbmVkICYmIHRoaXMuZXEoTUlOX1ZBTFVFKSkgcmV0dXJuIE1JTl9WQUxVRTtcbiAgcmV0dXJuIHRoaXMubm90KCkuYWRkKE9ORSk7XG59O1xuXG4vKipcbiAqIE5lZ2F0ZXMgdGhpcyBMb25nJ3MgdmFsdWUuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjbmVnYXRlfS5cbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMgeyFMb25nfSBOZWdhdGVkIExvbmdcbiAqL1xuTG9uZ1Byb3RvdHlwZS5uZWcgPSBMb25nUHJvdG90eXBlLm5lZ2F0ZTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzdW0gb2YgdGhpcyBhbmQgdGhlIHNwZWNpZmllZCBMb25nLlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8YmlnaW50fHN0cmluZ30gYWRkZW5kIEFkZGVuZFxuICogQHJldHVybnMgeyFMb25nfSBTdW1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQoYWRkZW5kKSB7XG4gIGlmICghaXNMb25nKGFkZGVuZCkpIGFkZGVuZCA9IGZyb21WYWx1ZShhZGRlbmQpO1xuXG4gIC8vIERpdmlkZSBlYWNoIG51bWJlciBpbnRvIDQgY2h1bmtzIG9mIDE2IGJpdHMsIGFuZCB0aGVuIHN1bSB0aGUgY2h1bmtzLlxuXG4gIHZhciBhNDggPSB0aGlzLmhpZ2ggPj4+IDE2O1xuICB2YXIgYTMyID0gdGhpcy5oaWdoICYgMHhmZmZmO1xuICB2YXIgYTE2ID0gdGhpcy5sb3cgPj4+IDE2O1xuICB2YXIgYTAwID0gdGhpcy5sb3cgJiAweGZmZmY7XG5cbiAgdmFyIGI0OCA9IGFkZGVuZC5oaWdoID4+PiAxNjtcbiAgdmFyIGIzMiA9IGFkZGVuZC5oaWdoICYgMHhmZmZmO1xuICB2YXIgYjE2ID0gYWRkZW5kLmxvdyA+Pj4gMTY7XG4gIHZhciBiMDAgPSBhZGRlbmQubG93ICYgMHhmZmZmO1xuXG4gIHZhciBjNDggPSAwLFxuICAgIGMzMiA9IDAsXG4gICAgYzE2ID0gMCxcbiAgICBjMDAgPSAwO1xuICBjMDAgKz0gYTAwICsgYjAwO1xuICBjMTYgKz0gYzAwID4+PiAxNjtcbiAgYzAwICY9IDB4ZmZmZjtcbiAgYzE2ICs9IGExNiArIGIxNjtcbiAgYzMyICs9IGMxNiA+Pj4gMTY7XG4gIGMxNiAmPSAweGZmZmY7XG4gIGMzMiArPSBhMzIgKyBiMzI7XG4gIGM0OCArPSBjMzIgPj4+IDE2O1xuICBjMzIgJj0gMHhmZmZmO1xuICBjNDggKz0gYTQ4ICsgYjQ4O1xuICBjNDggJj0gMHhmZmZmO1xuICByZXR1cm4gZnJvbUJpdHMoKGMxNiA8PCAxNikgfCBjMDAsIChjNDggPDwgMTYpIHwgYzMyLCB0aGlzLnVuc2lnbmVkKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZGlmZmVyZW5jZSBvZiB0aGlzIGFuZCB0aGUgc3BlY2lmaWVkIExvbmcuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxiaWdpbnR8c3RyaW5nfSBzdWJ0cmFoZW5kIFN1YnRyYWhlbmRcbiAqIEByZXR1cm5zIHshTG9uZ30gRGlmZmVyZW5jZVxuICovXG5Mb25nUHJvdG90eXBlLnN1YnRyYWN0ID0gZnVuY3Rpb24gc3VidHJhY3Qoc3VidHJhaGVuZCkge1xuICBpZiAoIWlzTG9uZyhzdWJ0cmFoZW5kKSkgc3VidHJhaGVuZCA9IGZyb21WYWx1ZShzdWJ0cmFoZW5kKTtcbiAgcmV0dXJuIHRoaXMuYWRkKHN1YnRyYWhlbmQubmVnKCkpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlIG9mIHRoaXMgYW5kIHRoZSBzcGVjaWZpZWQgTG9uZy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNzdWJ0cmFjdH0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfGJpZ2ludHxzdHJpbmd9IHN1YnRyYWhlbmQgU3VidHJhaGVuZFxuICogQHJldHVybnMgeyFMb25nfSBEaWZmZXJlbmNlXG4gKi9cbkxvbmdQcm90b3R5cGUuc3ViID0gTG9uZ1Byb3RvdHlwZS5zdWJ0cmFjdDtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBwcm9kdWN0IG9mIHRoaXMgYW5kIHRoZSBzcGVjaWZpZWQgTG9uZy5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfGJpZ2ludHxzdHJpbmd9IG11bHRpcGxpZXIgTXVsdGlwbGllclxuICogQHJldHVybnMgeyFMb25nfSBQcm9kdWN0XG4gKi9cbkxvbmdQcm90b3R5cGUubXVsdGlwbHkgPSBmdW5jdGlvbiBtdWx0aXBseShtdWx0aXBsaWVyKSB7XG4gIGlmICh0aGlzLmlzWmVybygpKSByZXR1cm4gdGhpcztcbiAgaWYgKCFpc0xvbmcobXVsdGlwbGllcikpIG11bHRpcGxpZXIgPSBmcm9tVmFsdWUobXVsdGlwbGllcik7XG5cbiAgLy8gdXNlIHdhc20gc3VwcG9ydCBpZiBwcmVzZW50XG4gIGlmICh3YXNtKSB7XG4gICAgdmFyIGxvdyA9IHdhc21bXCJtdWxcIl0odGhpcy5sb3csIHRoaXMuaGlnaCwgbXVsdGlwbGllci5sb3csIG11bHRpcGxpZXIuaGlnaCk7XG4gICAgcmV0dXJuIGZyb21CaXRzKGxvdywgd2FzbVtcImdldF9oaWdoXCJdKCksIHRoaXMudW5zaWduZWQpO1xuICB9XG5cbiAgaWYgKG11bHRpcGxpZXIuaXNaZXJvKCkpIHJldHVybiB0aGlzLnVuc2lnbmVkID8gVVpFUk8gOiBaRVJPO1xuICBpZiAodGhpcy5lcShNSU5fVkFMVUUpKSByZXR1cm4gbXVsdGlwbGllci5pc09kZCgpID8gTUlOX1ZBTFVFIDogWkVSTztcbiAgaWYgKG11bHRpcGxpZXIuZXEoTUlOX1ZBTFVFKSkgcmV0dXJuIHRoaXMuaXNPZGQoKSA/IE1JTl9WQUxVRSA6IFpFUk87XG5cbiAgaWYgKHRoaXMuaXNOZWdhdGl2ZSgpKSB7XG4gICAgaWYgKG11bHRpcGxpZXIuaXNOZWdhdGl2ZSgpKSByZXR1cm4gdGhpcy5uZWcoKS5tdWwobXVsdGlwbGllci5uZWcoKSk7XG4gICAgZWxzZSByZXR1cm4gdGhpcy5uZWcoKS5tdWwobXVsdGlwbGllcikubmVnKCk7XG4gIH0gZWxzZSBpZiAobXVsdGlwbGllci5pc05lZ2F0aXZlKCkpIHJldHVybiB0aGlzLm11bChtdWx0aXBsaWVyLm5lZygpKS5uZWcoKTtcblxuICAvLyBJZiBib3RoIGxvbmdzIGFyZSBzbWFsbCwgdXNlIGZsb2F0IG11bHRpcGxpY2F0aW9uXG4gIGlmICh0aGlzLmx0KFRXT19QV1JfMjQpICYmIG11bHRpcGxpZXIubHQoVFdPX1BXUl8yNCkpXG4gICAgcmV0dXJuIGZyb21OdW1iZXIodGhpcy50b051bWJlcigpICogbXVsdGlwbGllci50b051bWJlcigpLCB0aGlzLnVuc2lnbmVkKTtcblxuICAvLyBEaXZpZGUgZWFjaCBsb25nIGludG8gNCBjaHVua3Mgb2YgMTYgYml0cywgYW5kIHRoZW4gYWRkIHVwIDR4NCBwcm9kdWN0cy5cbiAgLy8gV2UgY2FuIHNraXAgcHJvZHVjdHMgdGhhdCB3b3VsZCBvdmVyZmxvdy5cblxuICB2YXIgYTQ4ID0gdGhpcy5oaWdoID4+PiAxNjtcbiAgdmFyIGEzMiA9IHRoaXMuaGlnaCAmIDB4ZmZmZjtcbiAgdmFyIGExNiA9IHRoaXMubG93ID4+PiAxNjtcbiAgdmFyIGEwMCA9IHRoaXMubG93ICYgMHhmZmZmO1xuXG4gIHZhciBiNDggPSBtdWx0aXBsaWVyLmhpZ2ggPj4+IDE2O1xuICB2YXIgYjMyID0gbXVsdGlwbGllci5oaWdoICYgMHhmZmZmO1xuICB2YXIgYjE2ID0gbXVsdGlwbGllci5sb3cgPj4+IDE2O1xuICB2YXIgYjAwID0gbXVsdGlwbGllci5sb3cgJiAweGZmZmY7XG5cbiAgdmFyIGM0OCA9IDAsXG4gICAgYzMyID0gMCxcbiAgICBjMTYgPSAwLFxuICAgIGMwMCA9IDA7XG4gIGMwMCArPSBhMDAgKiBiMDA7XG4gIGMxNiArPSBjMDAgPj4+IDE2O1xuICBjMDAgJj0gMHhmZmZmO1xuICBjMTYgKz0gYTE2ICogYjAwO1xuICBjMzIgKz0gYzE2ID4+PiAxNjtcbiAgYzE2ICY9IDB4ZmZmZjtcbiAgYzE2ICs9IGEwMCAqIGIxNjtcbiAgYzMyICs9IGMxNiA+Pj4gMTY7XG4gIGMxNiAmPSAweGZmZmY7XG4gIGMzMiArPSBhMzIgKiBiMDA7XG4gIGM0OCArPSBjMzIgPj4+IDE2O1xuICBjMzIgJj0gMHhmZmZmO1xuICBjMzIgKz0gYTE2ICogYjE2O1xuICBjNDggKz0gYzMyID4+PiAxNjtcbiAgYzMyICY9IDB4ZmZmZjtcbiAgYzMyICs9IGEwMCAqIGIzMjtcbiAgYzQ4ICs9IGMzMiA+Pj4gMTY7XG4gIGMzMiAmPSAweGZmZmY7XG4gIGM0OCArPSBhNDggKiBiMDAgKyBhMzIgKiBiMTYgKyBhMTYgKiBiMzIgKyBhMDAgKiBiNDg7XG4gIGM0OCAmPSAweGZmZmY7XG4gIHJldHVybiBmcm9tQml0cygoYzE2IDw8IDE2KSB8IGMwMCwgKGM0OCA8PCAxNikgfCBjMzIsIHRoaXMudW5zaWduZWQpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBwcm9kdWN0IG9mIHRoaXMgYW5kIHRoZSBzcGVjaWZpZWQgTG9uZy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNtdWx0aXBseX0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfGJpZ2ludHxzdHJpbmd9IG11bHRpcGxpZXIgTXVsdGlwbGllclxuICogQHJldHVybnMgeyFMb25nfSBQcm9kdWN0XG4gKi9cbkxvbmdQcm90b3R5cGUubXVsID0gTG9uZ1Byb3RvdHlwZS5tdWx0aXBseTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyBkaXZpZGVkIGJ5IHRoZSBzcGVjaWZpZWQuIFRoZSByZXN1bHQgaXMgc2lnbmVkIGlmIHRoaXMgTG9uZyBpcyBzaWduZWQgb3JcbiAqICB1bnNpZ25lZCBpZiB0aGlzIExvbmcgaXMgdW5zaWduZWQuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxiaWdpbnR8c3RyaW5nfSBkaXZpc29yIERpdmlzb3JcbiAqIEByZXR1cm5zIHshTG9uZ30gUXVvdGllbnRcbiAqL1xuTG9uZ1Byb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbiBkaXZpZGUoZGl2aXNvcikge1xuICBpZiAoIWlzTG9uZyhkaXZpc29yKSkgZGl2aXNvciA9IGZyb21WYWx1ZShkaXZpc29yKTtcbiAgaWYgKGRpdmlzb3IuaXNaZXJvKCkpIHRocm93IEVycm9yKFwiZGl2aXNpb24gYnkgemVyb1wiKTtcblxuICAvLyB1c2Ugd2FzbSBzdXBwb3J0IGlmIHByZXNlbnRcbiAgaWYgKHdhc20pIHtcbiAgICAvLyBndWFyZCBhZ2FpbnN0IHNpZ25lZCBkaXZpc2lvbiBvdmVyZmxvdzogdGhlIGxhcmdlc3RcbiAgICAvLyBuZWdhdGl2ZSBudW1iZXIgLyAtMSB3b3VsZCBiZSAxIGxhcmdlciB0aGFuIHRoZSBsYXJnZXN0XG4gICAgLy8gcG9zaXRpdmUgbnVtYmVyLCBkdWUgdG8gdHdvJ3MgY29tcGxlbWVudC5cbiAgICBpZiAoXG4gICAgICAhdGhpcy51bnNpZ25lZCAmJlxuICAgICAgdGhpcy5oaWdoID09PSAtMHg4MDAwMDAwMCAmJlxuICAgICAgZGl2aXNvci5sb3cgPT09IC0xICYmXG4gICAgICBkaXZpc29yLmhpZ2ggPT09IC0xXG4gICAgKSB7XG4gICAgICAvLyBiZSBjb25zaXN0ZW50IHdpdGggbm9uLXdhc20gY29kZSBwYXRoXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdmFyIGxvdyA9ICh0aGlzLnVuc2lnbmVkID8gd2FzbVtcImRpdl91XCJdIDogd2FzbVtcImRpdl9zXCJdKShcbiAgICAgIHRoaXMubG93LFxuICAgICAgdGhpcy5oaWdoLFxuICAgICAgZGl2aXNvci5sb3csXG4gICAgICBkaXZpc29yLmhpZ2gsXG4gICAgKTtcbiAgICByZXR1cm4gZnJvbUJpdHMobG93LCB3YXNtW1wiZ2V0X2hpZ2hcIl0oKSwgdGhpcy51bnNpZ25lZCk7XG4gIH1cblxuICBpZiAodGhpcy5pc1plcm8oKSkgcmV0dXJuIHRoaXMudW5zaWduZWQgPyBVWkVSTyA6IFpFUk87XG4gIHZhciBhcHByb3gsIHJlbSwgcmVzO1xuICBpZiAoIXRoaXMudW5zaWduZWQpIHtcbiAgICAvLyBUaGlzIHNlY3Rpb24gaXMgb25seSByZWxldmFudCBmb3Igc2lnbmVkIGxvbmdzIGFuZCBpcyBkZXJpdmVkIGZyb20gdGhlXG4gICAgLy8gY2xvc3VyZSBsaWJyYXJ5IGFzIGEgd2hvbGUuXG4gICAgaWYgKHRoaXMuZXEoTUlOX1ZBTFVFKSkge1xuICAgICAgaWYgKGRpdmlzb3IuZXEoT05FKSB8fCBkaXZpc29yLmVxKE5FR19PTkUpKVxuICAgICAgICByZXR1cm4gTUlOX1ZBTFVFOyAvLyByZWNhbGwgdGhhdCAtTUlOX1ZBTFVFID09IE1JTl9WQUxVRVxuICAgICAgZWxzZSBpZiAoZGl2aXNvci5lcShNSU5fVkFMVUUpKSByZXR1cm4gT05FO1xuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIEF0IHRoaXMgcG9pbnQsIHdlIGhhdmUgfG90aGVyfCA+PSAyLCBzbyB8dGhpcy9vdGhlcnwgPCB8TUlOX1ZBTFVFfC5cbiAgICAgICAgdmFyIGhhbGZUaGlzID0gdGhpcy5zaHIoMSk7XG4gICAgICAgIGFwcHJveCA9IGhhbGZUaGlzLmRpdihkaXZpc29yKS5zaGwoMSk7XG4gICAgICAgIGlmIChhcHByb3guZXEoWkVSTykpIHtcbiAgICAgICAgICByZXR1cm4gZGl2aXNvci5pc05lZ2F0aXZlKCkgPyBPTkUgOiBORUdfT05FO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlbSA9IHRoaXMuc3ViKGRpdmlzb3IubXVsKGFwcHJveCkpO1xuICAgICAgICAgIHJlcyA9IGFwcHJveC5hZGQocmVtLmRpdihkaXZpc29yKSk7XG4gICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZGl2aXNvci5lcShNSU5fVkFMVUUpKSByZXR1cm4gdGhpcy51bnNpZ25lZCA/IFVaRVJPIDogWkVSTztcbiAgICBpZiAodGhpcy5pc05lZ2F0aXZlKCkpIHtcbiAgICAgIGlmIChkaXZpc29yLmlzTmVnYXRpdmUoKSkgcmV0dXJuIHRoaXMubmVnKCkuZGl2KGRpdmlzb3IubmVnKCkpO1xuICAgICAgcmV0dXJuIHRoaXMubmVnKCkuZGl2KGRpdmlzb3IpLm5lZygpO1xuICAgIH0gZWxzZSBpZiAoZGl2aXNvci5pc05lZ2F0aXZlKCkpIHJldHVybiB0aGlzLmRpdihkaXZpc29yLm5lZygpKS5uZWcoKTtcbiAgICByZXMgPSBaRVJPO1xuICB9IGVsc2Uge1xuICAgIC8vIFRoZSBhbGdvcml0aG0gYmVsb3cgaGFzIG5vdCBiZWVuIG1hZGUgZm9yIHVuc2lnbmVkIGxvbmdzLiBJdCdzIHRoZXJlZm9yZVxuICAgIC8vIHJlcXVpcmVkIHRvIHRha2Ugc3BlY2lhbCBjYXJlIG9mIHRoZSBNU0IgcHJpb3IgdG8gcnVubmluZyBpdC5cbiAgICBpZiAoIWRpdmlzb3IudW5zaWduZWQpIGRpdmlzb3IgPSBkaXZpc29yLnRvVW5zaWduZWQoKTtcbiAgICBpZiAoZGl2aXNvci5ndCh0aGlzKSkgcmV0dXJuIFVaRVJPO1xuICAgIGlmIChkaXZpc29yLmd0KHRoaXMuc2hydSgxKSkpXG4gICAgICAvLyAxNSA+Pj4gMSA9IDcgOyB3aXRoIGRpdmlzb3IgPSA4IDsgdHJ1ZVxuICAgICAgcmV0dXJuIFVPTkU7XG4gICAgcmVzID0gVVpFUk87XG4gIH1cblxuICAvLyBSZXBlYXQgdGhlIGZvbGxvd2luZyB1bnRpbCB0aGUgcmVtYWluZGVyIGlzIGxlc3MgdGhhbiBvdGhlcjogIGZpbmQgYVxuICAvLyBmbG9hdGluZy1wb2ludCB0aGF0IGFwcHJveGltYXRlcyByZW1haW5kZXIgLyBvdGhlciAqZnJvbSBiZWxvdyosIGFkZCB0aGlzXG4gIC8vIGludG8gdGhlIHJlc3VsdCwgYW5kIHN1YnRyYWN0IGl0IGZyb20gdGhlIHJlbWFpbmRlci4gIEl0IGlzIGNyaXRpY2FsIHRoYXRcbiAgLy8gdGhlIGFwcHJveGltYXRlIHZhbHVlIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgcmVhbCB2YWx1ZSBzbyB0aGF0IHRoZVxuICAvLyByZW1haW5kZXIgbmV2ZXIgYmVjb21lcyBuZWdhdGl2ZS5cbiAgcmVtID0gdGhpcztcbiAgd2hpbGUgKHJlbS5ndGUoZGl2aXNvcikpIHtcbiAgICAvLyBBcHByb3hpbWF0ZSB0aGUgcmVzdWx0IG9mIGRpdmlzaW9uLiBUaGlzIG1heSBiZSBhIGxpdHRsZSBncmVhdGVyIG9yXG4gICAgLy8gc21hbGxlciB0aGFuIHRoZSBhY3R1YWwgdmFsdWUuXG4gICAgYXBwcm94ID0gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcihyZW0udG9OdW1iZXIoKSAvIGRpdmlzb3IudG9OdW1iZXIoKSkpO1xuXG4gICAgLy8gV2Ugd2lsbCB0d2VhayB0aGUgYXBwcm94aW1hdGUgcmVzdWx0IGJ5IGNoYW5naW5nIGl0IGluIHRoZSA0OC10aCBkaWdpdCBvclxuICAgIC8vIHRoZSBzbWFsbGVzdCBub24tZnJhY3Rpb25hbCBkaWdpdCwgd2hpY2hldmVyIGlzIGxhcmdlci5cbiAgICB2YXIgbG9nMiA9IE1hdGguY2VpbChNYXRoLmxvZyhhcHByb3gpIC8gTWF0aC5MTjIpLFxuICAgICAgZGVsdGEgPSBsb2cyIDw9IDQ4ID8gMSA6IHBvd19kYmwoMiwgbG9nMiAtIDQ4KSxcbiAgICAgIC8vIERlY3JlYXNlIHRoZSBhcHByb3hpbWF0aW9uIHVudGlsIGl0IGlzIHNtYWxsZXIgdGhhbiB0aGUgcmVtYWluZGVyLiAgTm90ZVxuICAgICAgLy8gdGhhdCBpZiBpdCBpcyB0b28gbGFyZ2UsIHRoZSBwcm9kdWN0IG92ZXJmbG93cyBhbmQgaXMgbmVnYXRpdmUuXG4gICAgICBhcHByb3hSZXMgPSBmcm9tTnVtYmVyKGFwcHJveCksXG4gICAgICBhcHByb3hSZW0gPSBhcHByb3hSZXMubXVsKGRpdmlzb3IpO1xuICAgIHdoaWxlIChhcHByb3hSZW0uaXNOZWdhdGl2ZSgpIHx8IGFwcHJveFJlbS5ndChyZW0pKSB7XG4gICAgICBhcHByb3ggLT0gZGVsdGE7XG4gICAgICBhcHByb3hSZXMgPSBmcm9tTnVtYmVyKGFwcHJveCwgdGhpcy51bnNpZ25lZCk7XG4gICAgICBhcHByb3hSZW0gPSBhcHByb3hSZXMubXVsKGRpdmlzb3IpO1xuICAgIH1cblxuICAgIC8vIFdlIGtub3cgdGhlIGFuc3dlciBjYW4ndCBiZSB6ZXJvLi4uIGFuZCBhY3R1YWxseSwgemVybyB3b3VsZCBjYXVzZVxuICAgIC8vIGluZmluaXRlIHJlY3Vyc2lvbiBzaW5jZSB3ZSB3b3VsZCBtYWtlIG5vIHByb2dyZXNzLlxuICAgIGlmIChhcHByb3hSZXMuaXNaZXJvKCkpIGFwcHJveFJlcyA9IE9ORTtcblxuICAgIHJlcyA9IHJlcy5hZGQoYXBwcm94UmVzKTtcbiAgICByZW0gPSByZW0uc3ViKGFwcHJveFJlbSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGlzIExvbmcgZGl2aWRlZCBieSB0aGUgc3BlY2lmaWVkLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2RpdmlkZX0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfGJpZ2ludHxzdHJpbmd9IGRpdmlzb3IgRGl2aXNvclxuICogQHJldHVybnMgeyFMb25nfSBRdW90aWVudFxuICovXG5Mb25nUHJvdG90eXBlLmRpdiA9IExvbmdQcm90b3R5cGUuZGl2aWRlO1xuXG4vKipcbiAqIFJldHVybnMgdGhpcyBMb25nIG1vZHVsbyB0aGUgc3BlY2lmaWVkLlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8YmlnaW50fHN0cmluZ30gZGl2aXNvciBEaXZpc29yXG4gKiBAcmV0dXJucyB7IUxvbmd9IFJlbWFpbmRlclxuICovXG5Mb25nUHJvdG90eXBlLm1vZHVsbyA9IGZ1bmN0aW9uIG1vZHVsbyhkaXZpc29yKSB7XG4gIGlmICghaXNMb25nKGRpdmlzb3IpKSBkaXZpc29yID0gZnJvbVZhbHVlKGRpdmlzb3IpO1xuXG4gIC8vIHVzZSB3YXNtIHN1cHBvcnQgaWYgcHJlc2VudFxuICBpZiAod2FzbSkge1xuICAgIHZhciBsb3cgPSAodGhpcy51bnNpZ25lZCA/IHdhc21bXCJyZW1fdVwiXSA6IHdhc21bXCJyZW1fc1wiXSkoXG4gICAgICB0aGlzLmxvdyxcbiAgICAgIHRoaXMuaGlnaCxcbiAgICAgIGRpdmlzb3IubG93LFxuICAgICAgZGl2aXNvci5oaWdoLFxuICAgICk7XG4gICAgcmV0dXJuIGZyb21CaXRzKGxvdywgd2FzbVtcImdldF9oaWdoXCJdKCksIHRoaXMudW5zaWduZWQpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuc3ViKHRoaXMuZGl2KGRpdmlzb3IpLm11bChkaXZpc29yKSk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhpcyBMb25nIG1vZHVsbyB0aGUgc3BlY2lmaWVkLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI21vZHVsb30uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfGJpZ2ludHxzdHJpbmd9IGRpdmlzb3IgRGl2aXNvclxuICogQHJldHVybnMgeyFMb25nfSBSZW1haW5kZXJcbiAqL1xuTG9uZ1Byb3RvdHlwZS5tb2QgPSBMb25nUHJvdG90eXBlLm1vZHVsbztcblxuLyoqXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyBtb2R1bG8gdGhlIHNwZWNpZmllZC4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNtb2R1bG99LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxiaWdpbnR8c3RyaW5nfSBkaXZpc29yIERpdmlzb3JcbiAqIEByZXR1cm5zIHshTG9uZ30gUmVtYWluZGVyXG4gKi9cbkxvbmdQcm90b3R5cGUucmVtID0gTG9uZ1Byb3RvdHlwZS5tb2R1bG87XG5cbi8qKlxuICogUmV0dXJucyB0aGUgYml0d2lzZSBOT1Qgb2YgdGhpcyBMb25nLlxuICogQHRoaXMgeyFMb25nfVxuICogQHJldHVybnMgeyFMb25nfVxuICovXG5Mb25nUHJvdG90eXBlLm5vdCA9IGZ1bmN0aW9uIG5vdCgpIHtcbiAgcmV0dXJuIGZyb21CaXRzKH50aGlzLmxvdywgfnRoaXMuaGlnaCwgdGhpcy51bnNpZ25lZCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgY291bnQgbGVhZGluZyB6ZXJvcyBvZiB0aGlzIExvbmcuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7IW51bWJlcn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5jb3VudExlYWRpbmdaZXJvcyA9IGZ1bmN0aW9uIGNvdW50TGVhZGluZ1plcm9zKCkge1xuICByZXR1cm4gdGhpcy5oaWdoID8gTWF0aC5jbHozMih0aGlzLmhpZ2gpIDogTWF0aC5jbHozMih0aGlzLmxvdykgKyAzMjtcbn07XG5cbi8qKlxuICogUmV0dXJucyBjb3VudCBsZWFkaW5nIHplcm9zLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2NvdW50TGVhZGluZ1plcm9zfS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTG9uZ31cbiAqIEByZXR1cm5zIHshbnVtYmVyfVxuICovXG5Mb25nUHJvdG90eXBlLmNseiA9IExvbmdQcm90b3R5cGUuY291bnRMZWFkaW5nWmVyb3M7XG5cbi8qKlxuICogUmV0dXJucyBjb3VudCB0cmFpbGluZyB6ZXJvcyBvZiB0aGlzIExvbmcuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7IW51bWJlcn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5jb3VudFRyYWlsaW5nWmVyb3MgPSBmdW5jdGlvbiBjb3VudFRyYWlsaW5nWmVyb3MoKSB7XG4gIHJldHVybiB0aGlzLmxvdyA/IGN0ejMyKHRoaXMubG93KSA6IGN0ejMyKHRoaXMuaGlnaCkgKyAzMjtcbn07XG5cbi8qKlxuICogUmV0dXJucyBjb3VudCB0cmFpbGluZyB6ZXJvcy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNjb3VudFRyYWlsaW5nWmVyb3N9LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFMb25nfVxuICogQHJldHVybnMgeyFudW1iZXJ9XG4gKi9cbkxvbmdQcm90b3R5cGUuY3R6ID0gTG9uZ1Byb3RvdHlwZS5jb3VudFRyYWlsaW5nWmVyb3M7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgYml0d2lzZSBBTkQgb2YgdGhpcyBMb25nIGFuZCB0aGUgc3BlY2lmaWVkLlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8YmlnaW50fHN0cmluZ30gb3RoZXIgT3RoZXIgTG9uZ1xuICogQHJldHVybnMgeyFMb25nfVxuICovXG5Mb25nUHJvdG90eXBlLmFuZCA9IGZ1bmN0aW9uIGFuZChvdGhlcikge1xuICBpZiAoIWlzTG9uZyhvdGhlcikpIG90aGVyID0gZnJvbVZhbHVlKG90aGVyKTtcbiAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93ICYgb3RoZXIubG93LCB0aGlzLmhpZ2ggJiBvdGhlci5oaWdoLCB0aGlzLnVuc2lnbmVkKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgYml0d2lzZSBPUiBvZiB0aGlzIExvbmcgYW5kIHRoZSBzcGVjaWZpZWQuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxiaWdpbnR8c3RyaW5nfSBvdGhlciBPdGhlciBMb25nXG4gKiBAcmV0dXJucyB7IUxvbmd9XG4gKi9cbkxvbmdQcm90b3R5cGUub3IgPSBmdW5jdGlvbiBvcihvdGhlcikge1xuICBpZiAoIWlzTG9uZyhvdGhlcikpIG90aGVyID0gZnJvbVZhbHVlKG90aGVyKTtcbiAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93IHwgb3RoZXIubG93LCB0aGlzLmhpZ2ggfCBvdGhlci5oaWdoLCB0aGlzLnVuc2lnbmVkKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgYml0d2lzZSBYT1Igb2YgdGhpcyBMb25nIGFuZCB0aGUgZ2l2ZW4gb25lLlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8YmlnaW50fHN0cmluZ30gb3RoZXIgT3RoZXIgTG9uZ1xuICogQHJldHVybnMgeyFMb25nfVxuICovXG5Mb25nUHJvdG90eXBlLnhvciA9IGZ1bmN0aW9uIHhvcihvdGhlcikge1xuICBpZiAoIWlzTG9uZyhvdGhlcikpIG90aGVyID0gZnJvbVZhbHVlKG90aGVyKTtcbiAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93IF4gb3RoZXIubG93LCB0aGlzLmhpZ2ggXiBvdGhlci5oaWdoLCB0aGlzLnVuc2lnbmVkKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIHNoaWZ0ZWQgdG8gdGhlIGxlZnQgYnkgdGhlIGdpdmVuIGFtb3VudC5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEBwYXJhbSB7bnVtYmVyfCFMb25nfSBudW1CaXRzIE51bWJlciBvZiBiaXRzXG4gKiBAcmV0dXJucyB7IUxvbmd9IFNoaWZ0ZWQgTG9uZ1xuICovXG5Mb25nUHJvdG90eXBlLnNoaWZ0TGVmdCA9IGZ1bmN0aW9uIHNoaWZ0TGVmdChudW1CaXRzKSB7XG4gIGlmIChpc0xvbmcobnVtQml0cykpIG51bUJpdHMgPSBudW1CaXRzLnRvSW50KCk7XG4gIGlmICgobnVtQml0cyAmPSA2MykgPT09IDApIHJldHVybiB0aGlzO1xuICBlbHNlIGlmIChudW1CaXRzIDwgMzIpXG4gICAgcmV0dXJuIGZyb21CaXRzKFxuICAgICAgdGhpcy5sb3cgPDwgbnVtQml0cyxcbiAgICAgICh0aGlzLmhpZ2ggPDwgbnVtQml0cykgfCAodGhpcy5sb3cgPj4+ICgzMiAtIG51bUJpdHMpKSxcbiAgICAgIHRoaXMudW5zaWduZWQsXG4gICAgKTtcbiAgZWxzZSByZXR1cm4gZnJvbUJpdHMoMCwgdGhpcy5sb3cgPDwgKG51bUJpdHMgLSAzMiksIHRoaXMudW5zaWduZWQpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyB3aXRoIGJpdHMgc2hpZnRlZCB0byB0aGUgbGVmdCBieSB0aGUgZ2l2ZW4gYW1vdW50LiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI3NoaWZ0TGVmdH0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfCFMb25nfSBudW1CaXRzIE51bWJlciBvZiBiaXRzXG4gKiBAcmV0dXJucyB7IUxvbmd9IFNoaWZ0ZWQgTG9uZ1xuICovXG5Mb25nUHJvdG90eXBlLnNobCA9IExvbmdQcm90b3R5cGUuc2hpZnRMZWZ0O1xuXG4vKipcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyBhcml0aG1ldGljYWxseSBzaGlmdGVkIHRvIHRoZSByaWdodCBieSB0aGUgZ2l2ZW4gYW1vdW50LlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHtudW1iZXJ8IUxvbmd9IG51bUJpdHMgTnVtYmVyIG9mIGJpdHNcbiAqIEByZXR1cm5zIHshTG9uZ30gU2hpZnRlZCBMb25nXG4gKi9cbkxvbmdQcm90b3R5cGUuc2hpZnRSaWdodCA9IGZ1bmN0aW9uIHNoaWZ0UmlnaHQobnVtQml0cykge1xuICBpZiAoaXNMb25nKG51bUJpdHMpKSBudW1CaXRzID0gbnVtQml0cy50b0ludCgpO1xuICBpZiAoKG51bUJpdHMgJj0gNjMpID09PSAwKSByZXR1cm4gdGhpcztcbiAgZWxzZSBpZiAobnVtQml0cyA8IDMyKVxuICAgIHJldHVybiBmcm9tQml0cyhcbiAgICAgICh0aGlzLmxvdyA+Pj4gbnVtQml0cykgfCAodGhpcy5oaWdoIDw8ICgzMiAtIG51bUJpdHMpKSxcbiAgICAgIHRoaXMuaGlnaCA+PiBudW1CaXRzLFxuICAgICAgdGhpcy51bnNpZ25lZCxcbiAgICApO1xuICBlbHNlXG4gICAgcmV0dXJuIGZyb21CaXRzKFxuICAgICAgdGhpcy5oaWdoID4+IChudW1CaXRzIC0gMzIpLFxuICAgICAgdGhpcy5oaWdoID49IDAgPyAwIDogLTEsXG4gICAgICB0aGlzLnVuc2lnbmVkLFxuICAgICk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyBhcml0aG1ldGljYWxseSBzaGlmdGVkIHRvIHRoZSByaWdodCBieSB0aGUgZ2l2ZW4gYW1vdW50LiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI3NoaWZ0UmlnaHR9LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xuICogQHJldHVybnMgeyFMb25nfSBTaGlmdGVkIExvbmdcbiAqL1xuTG9uZ1Byb3RvdHlwZS5zaHIgPSBMb25nUHJvdG90eXBlLnNoaWZ0UmlnaHQ7XG5cbi8qKlxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIGxvZ2ljYWxseSBzaGlmdGVkIHRvIHRoZSByaWdodCBieSB0aGUgZ2l2ZW4gYW1vdW50LlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHtudW1iZXJ8IUxvbmd9IG51bUJpdHMgTnVtYmVyIG9mIGJpdHNcbiAqIEByZXR1cm5zIHshTG9uZ30gU2hpZnRlZCBMb25nXG4gKi9cbkxvbmdQcm90b3R5cGUuc2hpZnRSaWdodFVuc2lnbmVkID0gZnVuY3Rpb24gc2hpZnRSaWdodFVuc2lnbmVkKG51bUJpdHMpIHtcbiAgaWYgKGlzTG9uZyhudW1CaXRzKSkgbnVtQml0cyA9IG51bUJpdHMudG9JbnQoKTtcbiAgaWYgKChudW1CaXRzICY9IDYzKSA9PT0gMCkgcmV0dXJuIHRoaXM7XG4gIGlmIChudW1CaXRzIDwgMzIpXG4gICAgcmV0dXJuIGZyb21CaXRzKFxuICAgICAgKHRoaXMubG93ID4+PiBudW1CaXRzKSB8ICh0aGlzLmhpZ2ggPDwgKDMyIC0gbnVtQml0cykpLFxuICAgICAgdGhpcy5oaWdoID4+PiBudW1CaXRzLFxuICAgICAgdGhpcy51bnNpZ25lZCxcbiAgICApO1xuICBpZiAobnVtQml0cyA9PT0gMzIpIHJldHVybiBmcm9tQml0cyh0aGlzLmhpZ2gsIDAsIHRoaXMudW5zaWduZWQpO1xuICByZXR1cm4gZnJvbUJpdHModGhpcy5oaWdoID4+PiAobnVtQml0cyAtIDMyKSwgMCwgdGhpcy51bnNpZ25lZCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyBsb2dpY2FsbHkgc2hpZnRlZCB0byB0aGUgcmlnaHQgYnkgdGhlIGdpdmVuIGFtb3VudC4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNzaGlmdFJpZ2h0VW5zaWduZWR9LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xuICogQHJldHVybnMgeyFMb25nfSBTaGlmdGVkIExvbmdcbiAqL1xuTG9uZ1Byb3RvdHlwZS5zaHJ1ID0gTG9uZ1Byb3RvdHlwZS5zaGlmdFJpZ2h0VW5zaWduZWQ7XG5cbi8qKlxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIGxvZ2ljYWxseSBzaGlmdGVkIHRvIHRoZSByaWdodCBieSB0aGUgZ2l2ZW4gYW1vdW50LiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI3NoaWZ0UmlnaHRVbnNpZ25lZH0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfCFMb25nfSBudW1CaXRzIE51bWJlciBvZiBiaXRzXG4gKiBAcmV0dXJucyB7IUxvbmd9IFNoaWZ0ZWQgTG9uZ1xuICovXG5Mb25nUHJvdG90eXBlLnNocl91ID0gTG9uZ1Byb3RvdHlwZS5zaGlmdFJpZ2h0VW5zaWduZWQ7XG5cbi8qKlxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIHJvdGF0ZWQgdG8gdGhlIGxlZnQgYnkgdGhlIGdpdmVuIGFtb3VudC5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEBwYXJhbSB7bnVtYmVyfCFMb25nfSBudW1CaXRzIE51bWJlciBvZiBiaXRzXG4gKiBAcmV0dXJucyB7IUxvbmd9IFJvdGF0ZWQgTG9uZ1xuICovXG5Mb25nUHJvdG90eXBlLnJvdGF0ZUxlZnQgPSBmdW5jdGlvbiByb3RhdGVMZWZ0KG51bUJpdHMpIHtcbiAgdmFyIGI7XG4gIGlmIChpc0xvbmcobnVtQml0cykpIG51bUJpdHMgPSBudW1CaXRzLnRvSW50KCk7XG4gIGlmICgobnVtQml0cyAmPSA2MykgPT09IDApIHJldHVybiB0aGlzO1xuICBpZiAobnVtQml0cyA9PT0gMzIpIHJldHVybiBmcm9tQml0cyh0aGlzLmhpZ2gsIHRoaXMubG93LCB0aGlzLnVuc2lnbmVkKTtcbiAgaWYgKG51bUJpdHMgPCAzMikge1xuICAgIGIgPSAzMiAtIG51bUJpdHM7XG4gICAgcmV0dXJuIGZyb21CaXRzKFxuICAgICAgKHRoaXMubG93IDw8IG51bUJpdHMpIHwgKHRoaXMuaGlnaCA+Pj4gYiksXG4gICAgICAodGhpcy5oaWdoIDw8IG51bUJpdHMpIHwgKHRoaXMubG93ID4+PiBiKSxcbiAgICAgIHRoaXMudW5zaWduZWQsXG4gICAgKTtcbiAgfVxuICBudW1CaXRzIC09IDMyO1xuICBiID0gMzIgLSBudW1CaXRzO1xuICByZXR1cm4gZnJvbUJpdHMoXG4gICAgKHRoaXMuaGlnaCA8PCBudW1CaXRzKSB8ICh0aGlzLmxvdyA+Pj4gYiksXG4gICAgKHRoaXMubG93IDw8IG51bUJpdHMpIHwgKHRoaXMuaGlnaCA+Pj4gYiksXG4gICAgdGhpcy51bnNpZ25lZCxcbiAgKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyByb3RhdGVkIHRvIHRoZSBsZWZ0IGJ5IHRoZSBnaXZlbiBhbW91bnQuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjcm90YXRlTGVmdH0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfCFMb25nfSBudW1CaXRzIE51bWJlciBvZiBiaXRzXG4gKiBAcmV0dXJucyB7IUxvbmd9IFJvdGF0ZWQgTG9uZ1xuICovXG5Mb25nUHJvdG90eXBlLnJvdGwgPSBMb25nUHJvdG90eXBlLnJvdGF0ZUxlZnQ7XG5cbi8qKlxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIHJvdGF0ZWQgdG8gdGhlIHJpZ2h0IGJ5IHRoZSBnaXZlbiBhbW91bnQuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xuICogQHJldHVybnMgeyFMb25nfSBSb3RhdGVkIExvbmdcbiAqL1xuTG9uZ1Byb3RvdHlwZS5yb3RhdGVSaWdodCA9IGZ1bmN0aW9uIHJvdGF0ZVJpZ2h0KG51bUJpdHMpIHtcbiAgdmFyIGI7XG4gIGlmIChpc0xvbmcobnVtQml0cykpIG51bUJpdHMgPSBudW1CaXRzLnRvSW50KCk7XG4gIGlmICgobnVtQml0cyAmPSA2MykgPT09IDApIHJldHVybiB0aGlzO1xuICBpZiAobnVtQml0cyA9PT0gMzIpIHJldHVybiBmcm9tQml0cyh0aGlzLmhpZ2gsIHRoaXMubG93LCB0aGlzLnVuc2lnbmVkKTtcbiAgaWYgKG51bUJpdHMgPCAzMikge1xuICAgIGIgPSAzMiAtIG51bUJpdHM7XG4gICAgcmV0dXJuIGZyb21CaXRzKFxuICAgICAgKHRoaXMuaGlnaCA8PCBiKSB8ICh0aGlzLmxvdyA+Pj4gbnVtQml0cyksXG4gICAgICAodGhpcy5sb3cgPDwgYikgfCAodGhpcy5oaWdoID4+PiBudW1CaXRzKSxcbiAgICAgIHRoaXMudW5zaWduZWQsXG4gICAgKTtcbiAgfVxuICBudW1CaXRzIC09IDMyO1xuICBiID0gMzIgLSBudW1CaXRzO1xuICByZXR1cm4gZnJvbUJpdHMoXG4gICAgKHRoaXMubG93IDw8IGIpIHwgKHRoaXMuaGlnaCA+Pj4gbnVtQml0cyksXG4gICAgKHRoaXMuaGlnaCA8PCBiKSB8ICh0aGlzLmxvdyA+Pj4gbnVtQml0cyksXG4gICAgdGhpcy51bnNpZ25lZCxcbiAgKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyByb3RhdGVkIHRvIHRoZSByaWdodCBieSB0aGUgZ2l2ZW4gYW1vdW50LiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI3JvdGF0ZVJpZ2h0fS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtudW1iZXJ8IUxvbmd9IG51bUJpdHMgTnVtYmVyIG9mIGJpdHNcbiAqIEByZXR1cm5zIHshTG9uZ30gUm90YXRlZCBMb25nXG4gKi9cbkxvbmdQcm90b3R5cGUucm90ciA9IExvbmdQcm90b3R5cGUucm90YXRlUmlnaHQ7XG5cbi8qKlxuICogQ29udmVydHMgdGhpcyBMb25nIHRvIHNpZ25lZC5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEByZXR1cm5zIHshTG9uZ30gU2lnbmVkIGxvbmdcbiAqL1xuTG9uZ1Byb3RvdHlwZS50b1NpZ25lZCA9IGZ1bmN0aW9uIHRvU2lnbmVkKCkge1xuICBpZiAoIXRoaXMudW5zaWduZWQpIHJldHVybiB0aGlzO1xuICByZXR1cm4gZnJvbUJpdHModGhpcy5sb3csIHRoaXMuaGlnaCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGlzIExvbmcgdG8gdW5zaWduZWQuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7IUxvbmd9IFVuc2lnbmVkIGxvbmdcbiAqL1xuTG9uZ1Byb3RvdHlwZS50b1Vuc2lnbmVkID0gZnVuY3Rpb24gdG9VbnNpZ25lZCgpIHtcbiAgaWYgKHRoaXMudW5zaWduZWQpIHJldHVybiB0aGlzO1xuICByZXR1cm4gZnJvbUJpdHModGhpcy5sb3csIHRoaXMuaGlnaCwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgTG9uZyB0byBpdHMgYnl0ZSByZXByZXNlbnRhdGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGxlIFdoZXRoZXIgbGl0dGxlIG9yIGJpZyBlbmRpYW4sIGRlZmF1bHRzIHRvIGJpZyBlbmRpYW5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEByZXR1cm5zIHshQXJyYXkuPG51bWJlcj59IEJ5dGUgcmVwcmVzZW50YXRpb25cbiAqL1xuTG9uZ1Byb3RvdHlwZS50b0J5dGVzID0gZnVuY3Rpb24gdG9CeXRlcyhsZSkge1xuICByZXR1cm4gbGUgPyB0aGlzLnRvQnl0ZXNMRSgpIDogdGhpcy50b0J5dGVzQkUoKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgdGhpcyBMb25nIHRvIGl0cyBsaXR0bGUgZW5kaWFuIGJ5dGUgcmVwcmVzZW50YXRpb24uXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7IUFycmF5LjxudW1iZXI+fSBMaXR0bGUgZW5kaWFuIGJ5dGUgcmVwcmVzZW50YXRpb25cbiAqL1xuTG9uZ1Byb3RvdHlwZS50b0J5dGVzTEUgPSBmdW5jdGlvbiB0b0J5dGVzTEUoKSB7XG4gIHZhciBoaSA9IHRoaXMuaGlnaCxcbiAgICBsbyA9IHRoaXMubG93O1xuICByZXR1cm4gW1xuICAgIGxvICYgMHhmZixcbiAgICAobG8gPj4+IDgpICYgMHhmZixcbiAgICAobG8gPj4+IDE2KSAmIDB4ZmYsXG4gICAgbG8gPj4+IDI0LFxuICAgIGhpICYgMHhmZixcbiAgICAoaGkgPj4+IDgpICYgMHhmZixcbiAgICAoaGkgPj4+IDE2KSAmIDB4ZmYsXG4gICAgaGkgPj4+IDI0LFxuICBdO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGlzIExvbmcgdG8gaXRzIGJpZyBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvbi5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEByZXR1cm5zIHshQXJyYXkuPG51bWJlcj59IEJpZyBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvblxuICovXG5Mb25nUHJvdG90eXBlLnRvQnl0ZXNCRSA9IGZ1bmN0aW9uIHRvQnl0ZXNCRSgpIHtcbiAgdmFyIGhpID0gdGhpcy5oaWdoLFxuICAgIGxvID0gdGhpcy5sb3c7XG4gIHJldHVybiBbXG4gICAgaGkgPj4+IDI0LFxuICAgIChoaSA+Pj4gMTYpICYgMHhmZixcbiAgICAoaGkgPj4+IDgpICYgMHhmZixcbiAgICBoaSAmIDB4ZmYsXG4gICAgbG8gPj4+IDI0LFxuICAgIChsbyA+Pj4gMTYpICYgMHhmZixcbiAgICAobG8gPj4+IDgpICYgMHhmZixcbiAgICBsbyAmIDB4ZmYsXG4gIF07XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBMb25nIGZyb20gaXRzIGJ5dGUgcmVwcmVzZW50YXRpb24uXG4gKiBAcGFyYW0geyFBcnJheS48bnVtYmVyPn0gYnl0ZXMgQnl0ZSByZXByZXNlbnRhdGlvblxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWQgV2hldGhlciB1bnNpZ25lZCBvciBub3QsIGRlZmF1bHRzIHRvIHNpZ25lZFxuICogQHBhcmFtIHtib29sZWFuPX0gbGUgV2hldGhlciBsaXR0bGUgb3IgYmlnIGVuZGlhbiwgZGVmYXVsdHMgdG8gYmlnIGVuZGlhblxuICogQHJldHVybnMge0xvbmd9IFRoZSBjb3JyZXNwb25kaW5nIExvbmcgdmFsdWVcbiAqL1xuTG9uZy5mcm9tQnl0ZXMgPSBmdW5jdGlvbiBmcm9tQnl0ZXMoYnl0ZXMsIHVuc2lnbmVkLCBsZSkge1xuICByZXR1cm4gbGVcbiAgICA/IExvbmcuZnJvbUJ5dGVzTEUoYnl0ZXMsIHVuc2lnbmVkKVxuICAgIDogTG9uZy5mcm9tQnl0ZXNCRShieXRlcywgdW5zaWduZWQpO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgTG9uZyBmcm9tIGl0cyBsaXR0bGUgZW5kaWFuIGJ5dGUgcmVwcmVzZW50YXRpb24uXG4gKiBAcGFyYW0geyFBcnJheS48bnVtYmVyPn0gYnl0ZXMgTGl0dGxlIGVuZGlhbiBieXRlIHJlcHJlc2VudGF0aW9uXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdCwgZGVmYXVsdHMgdG8gc2lnbmVkXG4gKiBAcmV0dXJucyB7TG9uZ30gVGhlIGNvcnJlc3BvbmRpbmcgTG9uZyB2YWx1ZVxuICovXG5Mb25nLmZyb21CeXRlc0xFID0gZnVuY3Rpb24gZnJvbUJ5dGVzTEUoYnl0ZXMsIHVuc2lnbmVkKSB7XG4gIHJldHVybiBuZXcgTG9uZyhcbiAgICBieXRlc1swXSB8IChieXRlc1sxXSA8PCA4KSB8IChieXRlc1syXSA8PCAxNikgfCAoYnl0ZXNbM10gPDwgMjQpLFxuICAgIGJ5dGVzWzRdIHwgKGJ5dGVzWzVdIDw8IDgpIHwgKGJ5dGVzWzZdIDw8IDE2KSB8IChieXRlc1s3XSA8PCAyNCksXG4gICAgdW5zaWduZWQsXG4gICk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBMb25nIGZyb20gaXRzIGJpZyBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvbi5cbiAqIEBwYXJhbSB7IUFycmF5LjxudW1iZXI+fSBieXRlcyBCaWcgZW5kaWFuIGJ5dGUgcmVwcmVzZW50YXRpb25cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcbiAqIEByZXR1cm5zIHtMb25nfSBUaGUgY29ycmVzcG9uZGluZyBMb25nIHZhbHVlXG4gKi9cbkxvbmcuZnJvbUJ5dGVzQkUgPSBmdW5jdGlvbiBmcm9tQnl0ZXNCRShieXRlcywgdW5zaWduZWQpIHtcbiAgcmV0dXJuIG5ldyBMb25nKFxuICAgIChieXRlc1s0XSA8PCAyNCkgfCAoYnl0ZXNbNV0gPDwgMTYpIHwgKGJ5dGVzWzZdIDw8IDgpIHwgYnl0ZXNbN10sXG4gICAgKGJ5dGVzWzBdIDw8IDI0KSB8IChieXRlc1sxXSA8PCAxNikgfCAoYnl0ZXNbMl0gPDwgOCkgfCBieXRlc1szXSxcbiAgICB1bnNpZ25lZCxcbiAgKTtcbn07XG5cbi8vIFN1cHBvcnQgY29udmVyc2lvbiB0by9mcm9tIEJpZ0ludCB3aGVyZSBhdmFpbGFibGVcbmlmICh0eXBlb2YgQmlnSW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgLyoqXG4gICAqIFJldHVybnMgYSBMb25nIHJlcHJlc2VudGluZyB0aGUgZ2l2ZW4gYmlnIGludGVnZXIuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIGJpZyBpbnRlZ2VyIHZhbHVlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcbiAgICogQHJldHVybnMgeyFMb25nfSBUaGUgY29ycmVzcG9uZGluZyBMb25nIHZhbHVlXG4gICAqL1xuICBMb25nLmZyb21CaWdJbnQgPSBmdW5jdGlvbiBmcm9tQmlnSW50KHZhbHVlLCB1bnNpZ25lZCkge1xuICAgIHZhciBsb3dCaXRzID0gTnVtYmVyKEJpZ0ludC5hc0ludE4oMzIsIHZhbHVlKSk7XG4gICAgdmFyIGhpZ2hCaXRzID0gTnVtYmVyKEJpZ0ludC5hc0ludE4oMzIsIHZhbHVlID4+IEJpZ0ludCgzMikpKTtcbiAgICByZXR1cm4gZnJvbUJpdHMobG93Qml0cywgaGlnaEJpdHMsIHVuc2lnbmVkKTtcbiAgfTtcblxuICAvLyBPdmVycmlkZVxuICBMb25nLmZyb21WYWx1ZSA9IGZ1bmN0aW9uIGZyb21WYWx1ZVdpdGhCaWdJbnQodmFsdWUsIHVuc2lnbmVkKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJiaWdpbnRcIikgcmV0dXJuIExvbmcuZnJvbUJpZ0ludCh2YWx1ZSwgdW5zaWduZWQpO1xuICAgIHJldHVybiBmcm9tVmFsdWUodmFsdWUsIHVuc2lnbmVkKTtcbiAgfTtcblxuICAvKipcbiAgICogQ29udmVydHMgdGhlIExvbmcgdG8gaXRzIGJpZyBpbnRlZ2VyIHJlcHJlc2VudGF0aW9uLlxuICAgKiBAdGhpcyB7IUxvbmd9XG4gICAqIEByZXR1cm5zIHtiaWdpbnR9XG4gICAqL1xuICBMb25nUHJvdG90eXBlLnRvQmlnSW50ID0gZnVuY3Rpb24gdG9CaWdJbnQoKSB7XG4gICAgdmFyIGxvd0JpZ0ludCA9IEJpZ0ludCh0aGlzLmxvdyA+Pj4gMCk7XG4gICAgdmFyIGhpZ2hCaWdJbnQgPSBCaWdJbnQodGhpcy51bnNpZ25lZCA/IHRoaXMuaGlnaCA+Pj4gMCA6IHRoaXMuaGlnaCk7XG4gICAgcmV0dXJuIChoaWdoQmlnSW50IDw8IEJpZ0ludCgzMikpIHwgbG93QmlnSW50O1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBMb25nO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgTG9uZyBmcm9tIFwibG9uZ1wiO1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5pbXBvcnQgeyBDb2xvcjMgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2NvbG9ycy5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJBdmF0YXJTaGFwZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpZDogXCJcIixcbiAgICAgICAgbmFtZTogdW5kZWZpbmVkLFxuICAgICAgICBib2R5U2hhcGU6IHVuZGVmaW5lZCxcbiAgICAgICAgc2tpbkNvbG9yOiB1bmRlZmluZWQsXG4gICAgICAgIGhhaXJDb2xvcjogdW5kZWZpbmVkLFxuICAgICAgICBleWVDb2xvcjogdW5kZWZpbmVkLFxuICAgICAgICBleHByZXNzaW9uVHJpZ2dlcklkOiB1bmRlZmluZWQsXG4gICAgICAgIGV4cHJlc3Npb25UcmlnZ2VyVGltZXN0YW1wOiB1bmRlZmluZWQsXG4gICAgICAgIHRhbGtpbmc6IHVuZGVmaW5lZCxcbiAgICAgICAgd2VhcmFibGVzOiBbXSxcbiAgICAgICAgZW1vdGVzOiBbXSxcbiAgICAgICAgc2hvd09ubHlXZWFyYWJsZXM6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJBdmF0YXJTaGFwZTtcbihmdW5jdGlvbiAoUEJBdmF0YXJTaGFwZSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmlkICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5ib2R5U2hhcGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNikuc3RyaW5nKG1lc3NhZ2UuYm9keVNoYXBlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5za2luQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3IzLmVuY29kZShtZXNzYWdlLnNraW5Db2xvciwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5oYWlyQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3IzLmVuY29kZShtZXNzYWdlLmhhaXJDb2xvciwgd3JpdGVyLnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5leWVDb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb2xvcjMuZW5jb2RlKG1lc3NhZ2UuZXllQ29sb3IsIHdyaXRlci51aW50MzIoNTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZXhwcmVzc2lvblRyaWdnZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDU4KS5zdHJpbmcobWVzc2FnZS5leHByZXNzaW9uVHJpZ2dlcklkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5leHByZXNzaW9uVHJpZ2dlclRpbWVzdGFtcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDY0KS5pbnQ2NChtZXNzYWdlLmV4cHJlc3Npb25UcmlnZ2VyVGltZXN0YW1wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50YWxraW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNzIpLmJvb2wobWVzc2FnZS50YWxraW5nKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS53ZWFyYWJsZXMpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoODIpLnN0cmluZyh2KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5lbW90ZXMpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOTApLnN0cmluZyh2KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zaG93T25seVdlYXJhYmxlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDk2KS5ib29sKG1lc3NhZ2Uuc2hvd09ubHlXZWFyYWJsZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCQXZhdGFyU2hhcGUuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkF2YXRhclNoYXBlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubmFtZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ib2R5U2hhcGUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2tpbkNvbG9yID0gQ29sb3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaGFpckNvbG9yID0gQ29sb3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXllQ29sb3IgPSBDb2xvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5leHByZXNzaW9uVHJpZ2dlcklkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDY0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmV4cHJlc3Npb25UcmlnZ2VyVGltZXN0YW1wID0gbG9uZ1RvTnVtYmVyKHJlYWRlci5pbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA3Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50YWxraW5nID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gODIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uud2VhcmFibGVzLnB1c2gocmVhZGVyLnN0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZW1vdGVzLnB1c2gocmVhZGVyLnN0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2hvd09ubHlXZWFyYWJsZXMgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCQXZhdGFyU2hhcGUuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJBdmF0YXJTaGFwZSB8fCAoUEJBdmF0YXJTaGFwZSA9IHt9KSk7XG5jb25zdCB0c1Byb3RvR2xvYmFsVGhpcyA9ICgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWxUaGlzO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWw7XG4gICAgfVxuICAgIHRocm93IFwiVW5hYmxlIHRvIGxvY2F0ZSBnbG9iYWwgb2JqZWN0XCI7XG59KSgpO1xuZnVuY3Rpb24gbG9uZ1RvTnVtYmVyKGxvbmcpIHtcbiAgICBpZiAobG9uZy5ndChOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikpIHtcbiAgICAgICAgdGhyb3cgbmV3IHRzUHJvdG9HbG9iYWxUaGlzLkVycm9yKFwiVmFsdWUgaXMgbGFyZ2VyIHRoYW4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJcIik7XG4gICAgfVxuICAgIHJldHVybiBsb25nLnRvTnVtYmVyKCk7XG59XG5pZiAoX20wLnV0aWwuTG9uZyAhPT0gTG9uZykge1xuICAgIF9tMC51dGlsLkxvbmcgPSBMb25nO1xuICAgIF9tMC5jb25maWd1cmUoKTtcbn1cbiIsICJpbXBvcnQgeyBQQkF2YXRhclNoYXBlIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXZhdGFyX3NoYXBlLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgQXZhdGFyU2hhcGVTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDgwLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQkF2YXRhclNoYXBlLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCQXZhdGFyU2hhcGUuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCQXZhdGFyU2hhcGUuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCQXZhdGFyU2hhcGVcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbi8qKlxuICogQmlsbGJvYXJkTW9kZSBpbmRpY2F0ZXMgb25lIG9yIG1vcmUgYXhpcyBmb3IgYXV0b21hdGljIHJvdGF0aW9uLCBpbiBPUi1hYmxlIGJpdCBmbGFnIGZvcm0uXG4gKiBPbmx5IHRoZSB2YWx1ZXMgYmVsb3cgYW5kIHRoZSAoQk1fWCB8IEJNX1kpIGNvbWJpbmF0aW9uIGFyZSB2YWxpZC5cbiAqL1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQmlsbGJvYXJkTW9kZTtcbihmdW5jdGlvbiAoQmlsbGJvYXJkTW9kZSkge1xuICAgIEJpbGxib2FyZE1vZGVbQmlsbGJvYXJkTW9kZVtcIkJNX05PTkVcIl0gPSAwXSA9IFwiQk1fTk9ORVwiO1xuICAgIEJpbGxib2FyZE1vZGVbQmlsbGJvYXJkTW9kZVtcIkJNX1hcIl0gPSAxXSA9IFwiQk1fWFwiO1xuICAgIEJpbGxib2FyZE1vZGVbQmlsbGJvYXJkTW9kZVtcIkJNX1lcIl0gPSAyXSA9IFwiQk1fWVwiO1xuICAgIEJpbGxib2FyZE1vZGVbQmlsbGJvYXJkTW9kZVtcIkJNX1pcIl0gPSA0XSA9IFwiQk1fWlwiO1xuICAgIC8qKiBCTV9BTEwgLSBiaXR3aXNlIGNvbWJpbmF0aW9uIEJNX1ggfCBCTV9ZIHwgQk1fWiAqL1xuICAgIEJpbGxib2FyZE1vZGVbQmlsbGJvYXJkTW9kZVtcIkJNX0FMTFwiXSA9IDddID0gXCJCTV9BTExcIjtcbn0pKEJpbGxib2FyZE1vZGUgfHwgKEJpbGxib2FyZE1vZGUgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQmlsbGJvYXJkKCkge1xuICAgIHJldHVybiB7IGJpbGxib2FyZE1vZGU6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJCaWxsYm9hcmQ7XG4oZnVuY3Rpb24gKFBCQmlsbGJvYXJkKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuYmlsbGJvYXJkTW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmludDMyKG1lc3NhZ2UuYmlsbGJvYXJkTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJCaWxsYm9hcmQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkJpbGxib2FyZCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYmlsbGJvYXJkTW9kZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCQmlsbGJvYXJkLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCQmlsbGJvYXJkIHx8IChQQkJpbGxib2FyZCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJCaWxsYm9hcmQgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9iaWxsYm9hcmQuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBCaWxsYm9hcmRTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDkwLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQkJpbGxib2FyZC5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkJpbGxib2FyZC5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJCaWxsYm9hcmQuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCQmlsbGJvYXJkXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJDYW1lcmFNb2RlKCkge1xuICAgIHJldHVybiB7IG1vZGU6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCQ2FtZXJhTW9kZTtcbihmdW5jdGlvbiAoUEJDYW1lcmFNb2RlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UubW9kZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLm1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCQ2FtZXJhTW9kZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQ2FtZXJhTW9kZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubW9kZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCQ2FtZXJhTW9kZS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQkNhbWVyYU1vZGUgfHwgKFBCQ2FtZXJhTW9kZSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJDYW1lcmFNb2RlIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvY2FtZXJhX21vZGUuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBDYW1lcmFNb2RlU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA3MixcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJDYW1lcmFNb2RlLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCQ2FtZXJhTW9kZS5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJDYW1lcmFNb2RlLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQkNhbWVyYU1vZGVcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCIuLi8uLi9jb21tb24vdmVjdG9ycy5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJDYW1lcmFNb2RlQXJlYSgpIHtcbiAgICByZXR1cm4geyBhcmVhOiB1bmRlZmluZWQsIG1vZGU6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCQ2FtZXJhTW9kZUFyZWE7XG4oZnVuY3Rpb24gKFBCQ2FtZXJhTW9kZUFyZWEpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5hcmVhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UuYXJlYSwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5tb2RlICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLm1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCQ2FtZXJhTW9kZUFyZWEuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkNhbWVyYU1vZGVBcmVhKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYXJlYSA9IFZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tb2RlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJDYW1lcmFNb2RlQXJlYS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQkNhbWVyYU1vZGVBcmVhIHx8IChQQkNhbWVyYU1vZGVBcmVhID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQkNhbWVyYU1vZGVBcmVhIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvY2FtZXJhX21vZGVfYXJlYS5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IENhbWVyYU1vZGVBcmVhU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA3MSxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJDYW1lcmFNb2RlQXJlYS5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkNhbWVyYU1vZGVBcmVhLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQkNhbWVyYU1vZGVBcmVhLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQkNhbWVyYU1vZGVBcmVhXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJFbmdpbmVJbmZvKCkge1xuICAgIHJldHVybiB7IGZyYW1lTnVtYmVyOiAwLCB0b3RhbFJ1bnRpbWU6IDAsIHRpY2tOdW1iZXI6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCRW5naW5lSW5mbztcbihmdW5jdGlvbiAoUEJFbmdpbmVJbmZvKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuZnJhbWVOdW1iZXIgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkudWludDMyKG1lc3NhZ2UuZnJhbWVOdW1iZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRvdGFsUnVudGltZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS50b3RhbFJ1bnRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRpY2tOdW1iZXIgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLnVpbnQzMihtZXNzYWdlLnRpY2tOdW1iZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCRW5naW5lSW5mby5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCRW5naW5lSW5mbygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZnJhbWVOdW1iZXIgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudG90YWxSdW50aW1lID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGlja051bWJlciA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkVuZ2luZUluZm8uZGVjb2RlID0gZGVjb2RlO1xufSkoUEJFbmdpbmVJbmZvIHx8IChQQkVuZ2luZUluZm8gPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCRW5naW5lSW5mbyB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2VuZ2luZV9pbmZvLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgRW5naW5lSW5mb1NjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNDgsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCRW5naW5lSW5mby5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkVuZ2luZUluZm8uZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCRW5naW5lSW5mby5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJFbmdpbmVJbmZvXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJHbHRmQ29udGFpbmVyKCkge1xuICAgIHJldHVybiB7IHNyYzogXCJcIiwgdmlzaWJsZU1lc2hlc0NvbGxpc2lvbk1hc2s6IHVuZGVmaW5lZCwgaW52aXNpYmxlTWVzaGVzQ29sbGlzaW9uTWFzazogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQkdsdGZDb250YWluZXI7XG4oZnVuY3Rpb24gKFBCR2x0ZkNvbnRhaW5lcikge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnNyYyAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2Uuc3JjKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS52aXNpYmxlTWVzaGVzQ29sbGlzaW9uTWFzayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDMyKS51aW50MzIobWVzc2FnZS52aXNpYmxlTWVzaGVzQ29sbGlzaW9uTWFzayk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaW52aXNpYmxlTWVzaGVzQ29sbGlzaW9uTWFzayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQwKS51aW50MzIobWVzc2FnZS5pbnZpc2libGVNZXNoZXNDb2xsaXNpb25NYXNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQkdsdGZDb250YWluZXIuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkdsdGZDb250YWluZXIoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zcmMgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmlzaWJsZU1lc2hlc0NvbGxpc2lvbk1hc2sgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaW52aXNpYmxlTWVzaGVzQ29sbGlzaW9uTWFzayA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkdsdGZDb250YWluZXIuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJHbHRmQ29udGFpbmVyIHx8IChQQkdsdGZDb250YWluZXIgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCR2x0ZkNvbnRhaW5lciB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2dsdGZfY29udGFpbmVyLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgR2x0ZkNvbnRhaW5lclNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNDEsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCR2x0ZkNvbnRhaW5lci5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkdsdGZDb250YWluZXIuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCR2x0ZkNvbnRhaW5lci5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJHbHRmQ29udGFpbmVyXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlKCkge1xuICAgIHJldHVybiB7IGN1cnJlbnRTdGF0ZTogMCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlO1xuKGZ1bmN0aW9uIChQQkdsdGZDb250YWluZXJMb2FkaW5nU3RhdGUpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5jdXJyZW50U3RhdGUgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS5jdXJyZW50U3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY3VycmVudFN0YXRlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZSB8fCAoUEJHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQkdsdGZDb250YWluZXJMb2FkaW5nU3RhdGUgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9nbHRmX2NvbnRhaW5lcl9sb2FkaW5nX3N0YXRlLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZVNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNDksXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZS5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkdsdGZDb250YWluZXJMb2FkaW5nU3RhdGUuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZS5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IFBCTWF0ZXJpYWwgfSBmcm9tIFwiLi9tYXRlcmlhbC5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJHbHRmTm9kZU1vZGlmaWVycygpIHtcbiAgICByZXR1cm4geyBtb2RpZmllcnM6IFtdIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQkdsdGZOb2RlTW9kaWZpZXJzO1xuKGZ1bmN0aW9uIChQQkdsdGZOb2RlTW9kaWZpZXJzKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UubW9kaWZpZXJzKSB7XG4gICAgICAgICAgICBQQkdsdGZOb2RlTW9kaWZpZXJzX0dsdGZOb2RlTW9kaWZpZXIuZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJHbHRmTm9kZU1vZGlmaWVycy5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCR2x0Zk5vZGVNb2RpZmllcnMoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tb2RpZmllcnMucHVzaChQQkdsdGZOb2RlTW9kaWZpZXJzX0dsdGZOb2RlTW9kaWZpZXIuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJHbHRmTm9kZU1vZGlmaWVycy5kZWNvZGUgPSBkZWNvZGU7XG59KShQQkdsdGZOb2RlTW9kaWZpZXJzIHx8IChQQkdsdGZOb2RlTW9kaWZpZXJzID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQkdsdGZOb2RlTW9kaWZpZXJzX0dsdGZOb2RlTW9kaWZpZXIoKSB7XG4gICAgcmV0dXJuIHsgcGF0aDogXCJcIiwgY2FzdFNoYWRvd3M6IHVuZGVmaW5lZCwgbWF0ZXJpYWw6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJHbHRmTm9kZU1vZGlmaWVyc19HbHRmTm9kZU1vZGlmaWVyO1xuKGZ1bmN0aW9uIChQQkdsdGZOb2RlTW9kaWZpZXJzX0dsdGZOb2RlTW9kaWZpZXIpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5wYXRoICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5wYXRoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5jYXN0U2hhZG93cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5ib29sKG1lc3NhZ2UuY2FzdFNoYWRvd3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1hdGVyaWFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFBCTWF0ZXJpYWwuZW5jb2RlKG1lc3NhZ2UubWF0ZXJpYWwsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJHbHRmTm9kZU1vZGlmaWVyc19HbHRmTm9kZU1vZGlmaWVyLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJHbHRmTm9kZU1vZGlmaWVyc19HbHRmTm9kZU1vZGlmaWVyKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGF0aCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jYXN0U2hhZG93cyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWF0ZXJpYWwgPSBQQk1hdGVyaWFsLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJHbHRmTm9kZU1vZGlmaWVyc19HbHRmTm9kZU1vZGlmaWVyLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCR2x0Zk5vZGVNb2RpZmllcnNfR2x0Zk5vZGVNb2RpZmllciB8fCAoUEJHbHRmTm9kZU1vZGlmaWVyc19HbHRmTm9kZU1vZGlmaWVyID0ge30pKTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5pbXBvcnQgeyBDb2xvcjMsIENvbG9yNCB9IGZyb20gXCIuLi8uLi9jb21tb24vY29sb3JzLmdlblwiO1xuaW1wb3J0IHsgVGV4dHVyZVVuaW9uIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi90ZXh0dXJlLmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIE1hdGVyaWFsVHJhbnNwYXJlbmN5TW9kZTtcbihmdW5jdGlvbiAoTWF0ZXJpYWxUcmFuc3BhcmVuY3lNb2RlKSB7XG4gICAgTWF0ZXJpYWxUcmFuc3BhcmVuY3lNb2RlW01hdGVyaWFsVHJhbnNwYXJlbmN5TW9kZVtcIk1UTV9PUEFRVUVcIl0gPSAwXSA9IFwiTVRNX09QQVFVRVwiO1xuICAgIE1hdGVyaWFsVHJhbnNwYXJlbmN5TW9kZVtNYXRlcmlhbFRyYW5zcGFyZW5jeU1vZGVbXCJNVE1fQUxQSEFfVEVTVFwiXSA9IDFdID0gXCJNVE1fQUxQSEFfVEVTVFwiO1xuICAgIE1hdGVyaWFsVHJhbnNwYXJlbmN5TW9kZVtNYXRlcmlhbFRyYW5zcGFyZW5jeU1vZGVbXCJNVE1fQUxQSEFfQkxFTkRcIl0gPSAyXSA9IFwiTVRNX0FMUEhBX0JMRU5EXCI7XG4gICAgTWF0ZXJpYWxUcmFuc3BhcmVuY3lNb2RlW01hdGVyaWFsVHJhbnNwYXJlbmN5TW9kZVtcIk1UTV9BTFBIQV9URVNUX0FORF9BTFBIQV9CTEVORFwiXSA9IDNdID0gXCJNVE1fQUxQSEFfVEVTVF9BTkRfQUxQSEFfQkxFTkRcIjtcbiAgICBNYXRlcmlhbFRyYW5zcGFyZW5jeU1vZGVbTWF0ZXJpYWxUcmFuc3BhcmVuY3lNb2RlW1wiTVRNX0FVVE9cIl0gPSA0XSA9IFwiTVRNX0FVVE9cIjtcbn0pKE1hdGVyaWFsVHJhbnNwYXJlbmN5TW9kZSB8fCAoTWF0ZXJpYWxUcmFuc3BhcmVuY3lNb2RlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk1hdGVyaWFsKCkge1xuICAgIHJldHVybiB7IG1hdGVyaWFsOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCTWF0ZXJpYWw7XG4oZnVuY3Rpb24gKFBCTWF0ZXJpYWwpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UubWF0ZXJpYWw/LiRjYXNlKSB7XG4gICAgICAgICAgICBjYXNlIFwidW5saXRcIjpcbiAgICAgICAgICAgICAgICBQQk1hdGVyaWFsX1VubGl0TWF0ZXJpYWwuZW5jb2RlKG1lc3NhZ2UubWF0ZXJpYWwudW5saXQsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicGJyXCI6XG4gICAgICAgICAgICAgICAgUEJNYXRlcmlhbF9QYnJNYXRlcmlhbC5lbmNvZGUobWVzc2FnZS5tYXRlcmlhbC5wYnIsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJNYXRlcmlhbC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTWF0ZXJpYWwoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tYXRlcmlhbCA9IHsgJGNhc2U6IFwidW5saXRcIiwgdW5saXQ6IFBCTWF0ZXJpYWxfVW5saXRNYXRlcmlhbC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWF0ZXJpYWwgPSB7ICRjYXNlOiBcInBiclwiLCBwYnI6IFBCTWF0ZXJpYWxfUGJyTWF0ZXJpYWwuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCTWF0ZXJpYWwuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJNYXRlcmlhbCB8fCAoUEJNYXRlcmlhbCA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJNYXRlcmlhbF9VbmxpdE1hdGVyaWFsKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRleHR1cmU6IHVuZGVmaW5lZCxcbiAgICAgICAgYWxwaGFUZXN0OiB1bmRlZmluZWQsXG4gICAgICAgIGNhc3RTaGFkb3dzOiB1bmRlZmluZWQsXG4gICAgICAgIGRpZmZ1c2VDb2xvcjogdW5kZWZpbmVkLFxuICAgICAgICBhbHBoYVRleHR1cmU6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJNYXRlcmlhbF9VbmxpdE1hdGVyaWFsO1xuKGZ1bmN0aW9uIChQQk1hdGVyaWFsX1VubGl0TWF0ZXJpYWwpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS50ZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFRleHR1cmVVbmlvbi5lbmNvZGUobWVzc2FnZS50ZXh0dXJlLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmFscGhhVGVzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLmFscGhhVGVzdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY2FzdFNoYWRvd3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuYm9vbChtZXNzYWdlLmNhc3RTaGFkb3dzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5kaWZmdXNlQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3I0LmVuY29kZShtZXNzYWdlLmRpZmZ1c2VDb2xvciwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5hbHBoYVRleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVGV4dHVyZVVuaW9uLmVuY29kZShtZXNzYWdlLmFscGhhVGV4dHVyZSwgd3JpdGVyLnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQk1hdGVyaWFsX1VubGl0TWF0ZXJpYWwuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk1hdGVyaWFsX1VubGl0TWF0ZXJpYWwoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXh0dXJlID0gVGV4dHVyZVVuaW9uLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWxwaGFUZXN0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY2FzdFNoYWRvd3MgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRpZmZ1c2VDb2xvciA9IENvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFscGhhVGV4dHVyZSA9IFRleHR1cmVVbmlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCTWF0ZXJpYWxfVW5saXRNYXRlcmlhbC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQk1hdGVyaWFsX1VubGl0TWF0ZXJpYWwgfHwgKFBCTWF0ZXJpYWxfVW5saXRNYXRlcmlhbCA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJNYXRlcmlhbF9QYnJNYXRlcmlhbCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0ZXh0dXJlOiB1bmRlZmluZWQsXG4gICAgICAgIGFscGhhVGVzdDogdW5kZWZpbmVkLFxuICAgICAgICBjYXN0U2hhZG93czogdW5kZWZpbmVkLFxuICAgICAgICBhbHBoYVRleHR1cmU6IHVuZGVmaW5lZCxcbiAgICAgICAgZW1pc3NpdmVUZXh0dXJlOiB1bmRlZmluZWQsXG4gICAgICAgIGJ1bXBUZXh0dXJlOiB1bmRlZmluZWQsXG4gICAgICAgIGFsYmVkb0NvbG9yOiB1bmRlZmluZWQsXG4gICAgICAgIGVtaXNzaXZlQ29sb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgcmVmbGVjdGl2aXR5Q29sb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgdHJhbnNwYXJlbmN5TW9kZTogdW5kZWZpbmVkLFxuICAgICAgICBtZXRhbGxpYzogdW5kZWZpbmVkLFxuICAgICAgICByb3VnaG5lc3M6IHVuZGVmaW5lZCxcbiAgICAgICAgc3BlY3VsYXJJbnRlbnNpdHk6IHVuZGVmaW5lZCxcbiAgICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IHVuZGVmaW5lZCxcbiAgICAgICAgZGlyZWN0SW50ZW5zaXR5OiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCTWF0ZXJpYWxfUGJyTWF0ZXJpYWw7XG4oZnVuY3Rpb24gKFBCTWF0ZXJpYWxfUGJyTWF0ZXJpYWwpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS50ZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFRleHR1cmVVbmlvbi5lbmNvZGUobWVzc2FnZS50ZXh0dXJlLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmFscGhhVGVzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLmFscGhhVGVzdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY2FzdFNoYWRvd3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuYm9vbChtZXNzYWdlLmNhc3RTaGFkb3dzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5hbHBoYVRleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVGV4dHVyZVVuaW9uLmVuY29kZShtZXNzYWdlLmFscGhhVGV4dHVyZSwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5lbWlzc2l2ZVRleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVGV4dHVyZVVuaW9uLmVuY29kZShtZXNzYWdlLmVtaXNzaXZlVGV4dHVyZSwgd3JpdGVyLnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5idW1wVGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBUZXh0dXJlVW5pb24uZW5jb2RlKG1lc3NhZ2UuYnVtcFRleHR1cmUsIHdyaXRlci51aW50MzIoNTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYWxiZWRvQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3I0LmVuY29kZShtZXNzYWdlLmFsYmVkb0NvbG9yLCB3cml0ZXIudWludDMyKDU4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmVtaXNzaXZlQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3IzLmVuY29kZShtZXNzYWdlLmVtaXNzaXZlQ29sb3IsIHdyaXRlci51aW50MzIoNjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucmVmbGVjdGl2aXR5Q29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3IzLmVuY29kZShtZXNzYWdlLnJlZmxlY3Rpdml0eUNvbG9yLCB3cml0ZXIudWludDMyKDc0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRyYW5zcGFyZW5jeU1vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4MCkuaW50MzIobWVzc2FnZS50cmFuc3BhcmVuY3lNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5tZXRhbGxpYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDkzKS5mbG9hdChtZXNzYWdlLm1ldGFsbGljKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5yb3VnaG5lc3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMDEpLmZsb2F0KG1lc3NhZ2Uucm91Z2huZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zcGVjdWxhckludGVuc2l0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDExNykuZmxvYXQobWVzc2FnZS5zcGVjdWxhckludGVuc2l0eSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZW1pc3NpdmVJbnRlbnNpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMjUpLmZsb2F0KG1lc3NhZ2UuZW1pc3NpdmVJbnRlbnNpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmRpcmVjdEludGVuc2l0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEzMykuZmxvYXQobWVzc2FnZS5kaXJlY3RJbnRlbnNpdHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCTWF0ZXJpYWxfUGJyTWF0ZXJpYWwuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk1hdGVyaWFsX1Bick1hdGVyaWFsKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGV4dHVyZSA9IFRleHR1cmVVbmlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFscGhhVGVzdCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNhc3RTaGFkb3dzID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hbHBoYVRleHR1cmUgPSBUZXh0dXJlVW5pb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5lbWlzc2l2ZVRleHR1cmUgPSBUZXh0dXJlVW5pb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5idW1wVGV4dHVyZSA9IFRleHR1cmVVbmlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDU4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFsYmVkb0NvbG9yID0gQ29sb3I0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZW1pc3NpdmVDb2xvciA9IENvbG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDc0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJlZmxlY3Rpdml0eUNvbG9yID0gQ29sb3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRyYW5zcGFyZW5jeU1vZGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWV0YWxsaWMgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJvdWdobmVzcyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMTcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3BlY3VsYXJJbnRlbnNpdHkgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTI1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmVtaXNzaXZlSW50ZW5zaXR5ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEzMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kaXJlY3RJbnRlbnNpdHkgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQk1hdGVyaWFsX1Bick1hdGVyaWFsLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCTWF0ZXJpYWxfUGJyTWF0ZXJpYWwgfHwgKFBCTWF0ZXJpYWxfUGJyTWF0ZXJpYWwgPSB7fSkpO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi92ZWN0b3JzLmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuY29tbW9uXCI7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBUZXh0dXJlV3JhcE1vZGU7XG4oZnVuY3Rpb24gKFRleHR1cmVXcmFwTW9kZSkge1xuICAgIFRleHR1cmVXcmFwTW9kZVtUZXh0dXJlV3JhcE1vZGVbXCJUV01fUkVQRUFUXCJdID0gMF0gPSBcIlRXTV9SRVBFQVRcIjtcbiAgICBUZXh0dXJlV3JhcE1vZGVbVGV4dHVyZVdyYXBNb2RlW1wiVFdNX0NMQU1QXCJdID0gMV0gPSBcIlRXTV9DTEFNUFwiO1xuICAgIFRleHR1cmVXcmFwTW9kZVtUZXh0dXJlV3JhcE1vZGVbXCJUV01fTUlSUk9SXCJdID0gMl0gPSBcIlRXTV9NSVJST1JcIjtcbn0pKFRleHR1cmVXcmFwTW9kZSB8fCAoVGV4dHVyZVdyYXBNb2RlID0ge30pKTtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFRleHR1cmVGaWx0ZXJNb2RlO1xuKGZ1bmN0aW9uIChUZXh0dXJlRmlsdGVyTW9kZSkge1xuICAgIFRleHR1cmVGaWx0ZXJNb2RlW1RleHR1cmVGaWx0ZXJNb2RlW1wiVEZNX1BPSU5UXCJdID0gMF0gPSBcIlRGTV9QT0lOVFwiO1xuICAgIFRleHR1cmVGaWx0ZXJNb2RlW1RleHR1cmVGaWx0ZXJNb2RlW1wiVEZNX0JJTElORUFSXCJdID0gMV0gPSBcIlRGTV9CSUxJTkVBUlwiO1xuICAgIFRleHR1cmVGaWx0ZXJNb2RlW1RleHR1cmVGaWx0ZXJNb2RlW1wiVEZNX1RSSUxJTkVBUlwiXSA9IDJdID0gXCJURk1fVFJJTElORUFSXCI7XG59KShUZXh0dXJlRmlsdGVyTW9kZSB8fCAoVGV4dHVyZUZpbHRlck1vZGUgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVRleHR1cmUoKSB7XG4gICAgcmV0dXJuIHsgc3JjOiBcIlwiLCB3cmFwTW9kZTogdW5kZWZpbmVkLCBmaWx0ZXJNb2RlOiB1bmRlZmluZWQsIG9mZnNldDogdW5kZWZpbmVkLCB0aWxpbmc6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgVGV4dHVyZTtcbihmdW5jdGlvbiAoVGV4dHVyZSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnNyYyAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2Uuc3JjKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS53cmFwTW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLndyYXBNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5maWx0ZXJNb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmludDMyKG1lc3NhZ2UuZmlsdGVyTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uub2Zmc2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlY3RvcjIuZW5jb2RlKG1lc3NhZ2Uub2Zmc2V0LCB3cml0ZXIudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRpbGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWZWN0b3IyLmVuY29kZShtZXNzYWdlLnRpbGluZywgd3JpdGVyLnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBUZXh0dXJlLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVGV4dHVyZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNyYyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS53cmFwTW9kZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZpbHRlck1vZGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5vZmZzZXQgPSBWZWN0b3IyLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGlsaW5nID0gVmVjdG9yMi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFRleHR1cmUuZGVjb2RlID0gZGVjb2RlO1xufSkoVGV4dHVyZSB8fCAoVGV4dHVyZSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlQXZhdGFyVGV4dHVyZSgpIHtcbiAgICByZXR1cm4geyB1c2VySWQ6IFwiXCIsIHdyYXBNb2RlOiB1bmRlZmluZWQsIGZpbHRlck1vZGU6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQXZhdGFyVGV4dHVyZTtcbihmdW5jdGlvbiAoQXZhdGFyVGV4dHVyZSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnVzZXJJZCAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UudXNlcklkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS53cmFwTW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLndyYXBNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5maWx0ZXJNb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmludDMyKG1lc3NhZ2UuZmlsdGVyTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgQXZhdGFyVGV4dHVyZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUF2YXRhclRleHR1cmUoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS51c2VySWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uud3JhcE1vZGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5maWx0ZXJNb2RlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgQXZhdGFyVGV4dHVyZS5kZWNvZGUgPSBkZWNvZGU7XG59KShBdmF0YXJUZXh0dXJlIHx8IChBdmF0YXJUZXh0dXJlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VWaWRlb1RleHR1cmUoKSB7XG4gICAgcmV0dXJuIHsgdmlkZW9QbGF5ZXJFbnRpdHk6IDAsIHdyYXBNb2RlOiB1bmRlZmluZWQsIGZpbHRlck1vZGU6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgVmlkZW9UZXh0dXJlO1xuKGZ1bmN0aW9uIChWaWRlb1RleHR1cmUpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS52aWRlb1BsYXllckVudGl0eSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS51aW50MzIobWVzc2FnZS52aWRlb1BsYXllckVudGl0eSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uud3JhcE1vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikuaW50MzIobWVzc2FnZS53cmFwTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZmlsdGVyTW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI0KS5pbnQzMihtZXNzYWdlLmZpbHRlck1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFZpZGVvVGV4dHVyZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVZpZGVvVGV4dHVyZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmlkZW9QbGF5ZXJFbnRpdHkgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uud3JhcE1vZGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5maWx0ZXJNb2RlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgVmlkZW9UZXh0dXJlLmRlY29kZSA9IGRlY29kZTtcbn0pKFZpZGVvVGV4dHVyZSB8fCAoVmlkZW9UZXh0dXJlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VUZXh0dXJlVW5pb24oKSB7XG4gICAgcmV0dXJuIHsgdGV4OiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFRleHR1cmVVbmlvbjtcbihmdW5jdGlvbiAoVGV4dHVyZVVuaW9uKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLnRleD8uJGNhc2UpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ0ZXh0dXJlXCI6XG4gICAgICAgICAgICAgICAgVGV4dHVyZS5lbmNvZGUobWVzc2FnZS50ZXgudGV4dHVyZSwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJhdmF0YXJUZXh0dXJlXCI6XG4gICAgICAgICAgICAgICAgQXZhdGFyVGV4dHVyZS5lbmNvZGUobWVzc2FnZS50ZXguYXZhdGFyVGV4dHVyZSwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ2aWRlb1RleHR1cmVcIjpcbiAgICAgICAgICAgICAgICBWaWRlb1RleHR1cmUuZW5jb2RlKG1lc3NhZ2UudGV4LnZpZGVvVGV4dHVyZSwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBUZXh0dXJlVW5pb24uZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VUZXh0dXJlVW5pb24oKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXggPSB7ICRjYXNlOiBcInRleHR1cmVcIiwgdGV4dHVyZTogVGV4dHVyZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGV4ID0geyAkY2FzZTogXCJhdmF0YXJUZXh0dXJlXCIsIGF2YXRhclRleHR1cmU6IEF2YXRhclRleHR1cmUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleCA9IHsgJGNhc2U6IFwidmlkZW9UZXh0dXJlXCIsIHZpZGVvVGV4dHVyZTogVmlkZW9UZXh0dXJlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBUZXh0dXJlVW5pb24uZGVjb2RlID0gZGVjb2RlO1xufSkoVGV4dHVyZVVuaW9uIHx8IChUZXh0dXJlVW5pb24gPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCR2x0Zk5vZGVNb2RpZmllcnMgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9nbHRmX25vZGVfbW9kaWZpZXJzLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgR2x0Zk5vZGVNb2RpZmllcnNTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDk5LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQkdsdGZOb2RlTW9kaWZpZXJzLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCR2x0Zk5vZGVNb2RpZmllcnMuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCR2x0Zk5vZGVNb2RpZmllcnMuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCR2x0Zk5vZGVNb2RpZmllcnNcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQklucHV0TW9kaWZpZXIoKSB7XG4gICAgcmV0dXJuIHsgbW9kZTogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQklucHV0TW9kaWZpZXI7XG4oZnVuY3Rpb24gKFBCSW5wdXRNb2RpZmllcikge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5tb2RlPy4kY2FzZSkge1xuICAgICAgICAgICAgY2FzZSBcInN0YW5kYXJkXCI6XG4gICAgICAgICAgICAgICAgUEJJbnB1dE1vZGlmaWVyX1N0YW5kYXJkSW5wdXQuZW5jb2RlKG1lc3NhZ2UubW9kZS5zdGFuZGFyZCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQklucHV0TW9kaWZpZXIuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQklucHV0TW9kaWZpZXIoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tb2RlID0geyAkY2FzZTogXCJzdGFuZGFyZFwiLCBzdGFuZGFyZDogUEJJbnB1dE1vZGlmaWVyX1N0YW5kYXJkSW5wdXQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCSW5wdXRNb2RpZmllci5kZWNvZGUgPSBkZWNvZGU7XG59KShQQklucHV0TW9kaWZpZXIgfHwgKFBCSW5wdXRNb2RpZmllciA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJJbnB1dE1vZGlmaWVyX1N0YW5kYXJkSW5wdXQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGlzYWJsZUFsbDogdW5kZWZpbmVkLFxuICAgICAgICBkaXNhYmxlV2FsazogdW5kZWZpbmVkLFxuICAgICAgICBkaXNhYmxlSm9nOiB1bmRlZmluZWQsXG4gICAgICAgIGRpc2FibGVSdW46IHVuZGVmaW5lZCxcbiAgICAgICAgZGlzYWJsZUp1bXA6IHVuZGVmaW5lZCxcbiAgICAgICAgZGlzYWJsZUVtb3RlOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCSW5wdXRNb2RpZmllcl9TdGFuZGFyZElucHV0O1xuKGZ1bmN0aW9uIChQQklucHV0TW9kaWZpZXJfU3RhbmRhcmRJbnB1dCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmRpc2FibGVBbGwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5ib29sKG1lc3NhZ2UuZGlzYWJsZUFsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZGlzYWJsZVdhbGsgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikuYm9vbChtZXNzYWdlLmRpc2FibGVXYWxrKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5kaXNhYmxlSm9nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmJvb2wobWVzc2FnZS5kaXNhYmxlSm9nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5kaXNhYmxlUnVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzIpLmJvb2wobWVzc2FnZS5kaXNhYmxlUnVuKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5kaXNhYmxlSnVtcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQwKS5ib29sKG1lc3NhZ2UuZGlzYWJsZUp1bXApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmRpc2FibGVFbW90ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQ4KS5ib29sKG1lc3NhZ2UuZGlzYWJsZUVtb3RlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQklucHV0TW9kaWZpZXJfU3RhbmRhcmRJbnB1dC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCSW5wdXRNb2RpZmllcl9TdGFuZGFyZElucHV0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kaXNhYmxlQWxsID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kaXNhYmxlV2FsayA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGlzYWJsZUpvZyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGlzYWJsZVJ1biA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGlzYWJsZUp1bXAgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQ4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRpc2FibGVFbW90ZSA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJJbnB1dE1vZGlmaWVyX1N0YW5kYXJkSW5wdXQuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJJbnB1dE1vZGlmaWVyX1N0YW5kYXJkSW5wdXQgfHwgKFBCSW5wdXRNb2RpZmllcl9TdGFuZGFyZElucHV0ID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQklucHV0TW9kaWZpZXIgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9pbnB1dF9tb2RpZmllci5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IElucHV0TW9kaWZpZXJTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDc4LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQklucHV0TW9kaWZpZXIuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJJbnB1dE1vZGlmaWVyLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQklucHV0TW9kaWZpZXIuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCSW5wdXRNb2RpZmllclwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5pbXBvcnQgeyBDb2xvcjMgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2NvbG9ycy5nZW5cIjtcbmltcG9ydCB7IFRleHR1cmVVbmlvbiB9IGZyb20gXCIuLi8uLi9jb21tb24vdGV4dHVyZS5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJMaWdodFNvdXJjZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBhY3RpdmU6IHVuZGVmaW5lZCxcbiAgICAgICAgY29sb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgaW50ZW5zaXR5OiB1bmRlZmluZWQsXG4gICAgICAgIHJhbmdlOiB1bmRlZmluZWQsXG4gICAgICAgIHNoYWRvdzogdW5kZWZpbmVkLFxuICAgICAgICBzaGFkb3dNYXNrVGV4dHVyZTogdW5kZWZpbmVkLFxuICAgICAgICB0eXBlOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCTGlnaHRTb3VyY2U7XG4oZnVuY3Rpb24gKFBCTGlnaHRTb3VyY2UpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5hY3RpdmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5ib29sKG1lc3NhZ2UuYWN0aXZlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5jb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb2xvcjMuZW5jb2RlKG1lc3NhZ2UuY29sb3IsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaW50ZW5zaXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjkpLmZsb2F0KG1lc3NhZ2UuaW50ZW5zaXR5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5yYW5nZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDM3KS5mbG9hdChtZXNzYWdlLnJhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zaGFkb3cgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MCkuYm9vbChtZXNzYWdlLnNoYWRvdyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2hhZG93TWFza1RleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVGV4dHVyZVVuaW9uLmVuY29kZShtZXNzYWdlLnNoYWRvd01hc2tUZXh0dXJlLCB3cml0ZXIudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS50eXBlPy4kY2FzZSkge1xuICAgICAgICAgICAgY2FzZSBcInBvaW50XCI6XG4gICAgICAgICAgICAgICAgUEJMaWdodFNvdXJjZV9Qb2ludC5lbmNvZGUobWVzc2FnZS50eXBlLnBvaW50LCB3cml0ZXIudWludDMyKDU4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInNwb3RcIjpcbiAgICAgICAgICAgICAgICBQQkxpZ2h0U291cmNlX1Nwb3QuZW5jb2RlKG1lc3NhZ2UudHlwZS5zcG90LCB3cml0ZXIudWludDMyKDY2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCTGlnaHRTb3VyY2UuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkxpZ2h0U291cmNlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hY3RpdmUgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbG9yID0gQ29sb3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaW50ZW5zaXR5ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucmFuZ2UgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zaGFkb3cgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDUwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNoYWRvd01hc2tUZXh0dXJlID0gVGV4dHVyZVVuaW9uLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudHlwZSA9IHsgJGNhc2U6IFwicG9pbnRcIiwgcG9pbnQ6IFBCTGlnaHRTb3VyY2VfUG9pbnQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDY2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnR5cGUgPSB7ICRjYXNlOiBcInNwb3RcIiwgc3BvdDogUEJMaWdodFNvdXJjZV9TcG90LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkxpZ2h0U291cmNlLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCTGlnaHRTb3VyY2UgfHwgKFBCTGlnaHRTb3VyY2UgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCTGlnaHRTb3VyY2VfUG9pbnQoKSB7XG4gICAgcmV0dXJuIHt9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJMaWdodFNvdXJjZV9Qb2ludDtcbihmdW5jdGlvbiAoUEJMaWdodFNvdXJjZV9Qb2ludCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShfLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCTGlnaHRTb3VyY2VfUG9pbnQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkxpZ2h0U291cmNlX1BvaW50KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJMaWdodFNvdXJjZV9Qb2ludC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQkxpZ2h0U291cmNlX1BvaW50IHx8IChQQkxpZ2h0U291cmNlX1BvaW50ID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQkxpZ2h0U291cmNlX1Nwb3QoKSB7XG4gICAgcmV0dXJuIHsgaW5uZXJBbmdsZTogdW5kZWZpbmVkLCBvdXRlckFuZ2xlOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCTGlnaHRTb3VyY2VfU3BvdDtcbihmdW5jdGlvbiAoUEJMaWdodFNvdXJjZV9TcG90KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuaW5uZXJBbmdsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDc3KS5mbG9hdChtZXNzYWdlLmlubmVyQW5nbGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm91dGVyQW5nbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4NSkuZmxvYXQobWVzc2FnZS5vdXRlckFuZ2xlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQkxpZ2h0U291cmNlX1Nwb3QuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkxpZ2h0U291cmNlX1Nwb3QoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA3Nykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pbm5lckFuZ2xlID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDg1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm91dGVyQW5nbGUgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkxpZ2h0U291cmNlX1Nwb3QuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJMaWdodFNvdXJjZV9TcG90IHx8IChQQkxpZ2h0U291cmNlX1Nwb3QgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCTGlnaHRTb3VyY2UgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9saWdodF9zb3VyY2UuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBMaWdodFNvdXJjZVNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNzksXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCTGlnaHRTb3VyY2UuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJMaWdodFNvdXJjZS5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJMaWdodFNvdXJjZS5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJMaWdodFNvdXJjZVwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCTWFpbkNhbWVyYSgpIHtcbiAgICByZXR1cm4geyB2aXJ0dWFsQ2FtZXJhRW50aXR5OiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCTWFpbkNhbWVyYTtcbihmdW5jdGlvbiAoUEJNYWluQ2FtZXJhKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudmlydHVhbENhbWVyYUVudGl0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLnVpbnQzMihtZXNzYWdlLnZpcnR1YWxDYW1lcmFFbnRpdHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCTWFpbkNhbWVyYS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTWFpbkNhbWVyYSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmlydHVhbENhbWVyYUVudGl0eSA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQk1haW5DYW1lcmEuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJNYWluQ2FtZXJhIHx8IChQQk1haW5DYW1lcmEgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCTWFpbkNhbWVyYSB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL21haW5fY2FtZXJhLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgTWFpbkNhbWVyYVNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNzUsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCTWFpbkNhbWVyYS5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQk1haW5DYW1lcmEuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCTWFpbkNhbWVyYS5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJNYWluQ2FtZXJhXCJcbiAgICB9XG59O1xuIiwgImltcG9ydCB7IFBCTWF0ZXJpYWwgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9tYXRlcmlhbC5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IE1hdGVyaWFsU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTAxNyxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJNYXRlcmlhbC5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQk1hdGVyaWFsLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQk1hdGVyaWFsLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQk1hdGVyaWFsXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG4vKiogQ29sbGlkZXJMYXllciBkZXRlcm1pbmVzIHRoZSBraW5kIG9mIGNvbGxpc2lvbiB0byBkZXRlY3QsIGluIE9SLWFibGUgYml0IGZsYWcgZm9ybS4gKi9cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIENvbGxpZGVyTGF5ZXI7XG4oZnVuY3Rpb24gKENvbGxpZGVyTGF5ZXIpIHtcbiAgICAvKiogQ0xfTk9ORSAtIG5vIGNvbGxpc2lvbnMgKi9cbiAgICBDb2xsaWRlckxheWVyW0NvbGxpZGVyTGF5ZXJbXCJDTF9OT05FXCJdID0gMF0gPSBcIkNMX05PTkVcIjtcbiAgICAvKiogQ0xfUE9JTlRFUiAtIGNvbGxpc2lvbnMgd2l0aCB0aGUgcGxheWVyJ3MgcG9pbnRlciByYXkgKGUuZy4gbW91c2UgY3Vyc29yIGhvdmVyaW5nKSAqL1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX1BPSU5URVJcIl0gPSAxXSA9IFwiQ0xfUE9JTlRFUlwiO1xuICAgIC8qKiBDTF9QSFlTSUNTIC0gY29sbGlzaW9uIGFmZmVjdGluZyB5b3VyIHBsYXllcidzIHBoeXNpY3MgaS5lLiB3YWxscywgZmxvb3IsIG1vdmluZyBwbGF0ZnJvbXMgKi9cbiAgICBDb2xsaWRlckxheWVyW0NvbGxpZGVyTGF5ZXJbXCJDTF9QSFlTSUNTXCJdID0gMl0gPSBcIkNMX1BIWVNJQ1NcIjtcbiAgICAvKiogQ0xfUExBWUVSIC0gbGF5ZXIgY29ycmVzcG9uZGluZyB0byBhbnkgcGxheWVyIGF2YXRhciAqL1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX1BMQVlFUlwiXSA9IDRdID0gXCJDTF9QTEFZRVJcIjtcbiAgICBDb2xsaWRlckxheWVyW0NvbGxpZGVyTGF5ZXJbXCJDTF9SRVNFUlZFRDJcIl0gPSA4XSA9IFwiQ0xfUkVTRVJWRUQyXCI7XG4gICAgQ29sbGlkZXJMYXllcltDb2xsaWRlckxheWVyW1wiQ0xfUkVTRVJWRUQzXCJdID0gMTZdID0gXCJDTF9SRVNFUlZFRDNcIjtcbiAgICBDb2xsaWRlckxheWVyW0NvbGxpZGVyTGF5ZXJbXCJDTF9SRVNFUlZFRDRcIl0gPSAzMl0gPSBcIkNMX1JFU0VSVkVENFwiO1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX1JFU0VSVkVENVwiXSA9IDY0XSA9IFwiQ0xfUkVTRVJWRUQ1XCI7XG4gICAgQ29sbGlkZXJMYXllcltDb2xsaWRlckxheWVyW1wiQ0xfUkVTRVJWRUQ2XCJdID0gMTI4XSA9IFwiQ0xfUkVTRVJWRUQ2XCI7XG4gICAgQ29sbGlkZXJMYXllcltDb2xsaWRlckxheWVyW1wiQ0xfQ1VTVE9NMVwiXSA9IDI1Nl0gPSBcIkNMX0NVU1RPTTFcIjtcbiAgICBDb2xsaWRlckxheWVyW0NvbGxpZGVyTGF5ZXJbXCJDTF9DVVNUT00yXCJdID0gNTEyXSA9IFwiQ0xfQ1VTVE9NMlwiO1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX0NVU1RPTTNcIl0gPSAxMDI0XSA9IFwiQ0xfQ1VTVE9NM1wiO1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX0NVU1RPTTRcIl0gPSAyMDQ4XSA9IFwiQ0xfQ1VTVE9NNFwiO1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX0NVU1RPTTVcIl0gPSA0MDk2XSA9IFwiQ0xfQ1VTVE9NNVwiO1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX0NVU1RPTTZcIl0gPSA4MTkyXSA9IFwiQ0xfQ1VTVE9NNlwiO1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX0NVU1RPTTdcIl0gPSAxNjM4NF0gPSBcIkNMX0NVU1RPTTdcIjtcbiAgICBDb2xsaWRlckxheWVyW0NvbGxpZGVyTGF5ZXJbXCJDTF9DVVNUT004XCJdID0gMzI3NjhdID0gXCJDTF9DVVNUT004XCI7XG59KShDb2xsaWRlckxheWVyIHx8IChDb2xsaWRlckxheWVyID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk1lc2hDb2xsaWRlcigpIHtcbiAgICByZXR1cm4geyBjb2xsaXNpb25NYXNrOiB1bmRlZmluZWQsIG1lc2g6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJNZXNoQ29sbGlkZXI7XG4oZnVuY3Rpb24gKFBCTWVzaENvbGxpZGVyKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuY29sbGlzaW9uTWFzayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLnVpbnQzMihtZXNzYWdlLmNvbGxpc2lvbk1hc2spO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5tZXNoPy4kY2FzZSkge1xuICAgICAgICAgICAgY2FzZSBcImJveFwiOlxuICAgICAgICAgICAgICAgIFBCTWVzaENvbGxpZGVyX0JveE1lc2guZW5jb2RlKG1lc3NhZ2UubWVzaC5ib3gsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic3BoZXJlXCI6XG4gICAgICAgICAgICAgICAgUEJNZXNoQ29sbGlkZXJfU3BoZXJlTWVzaC5lbmNvZGUobWVzc2FnZS5tZXNoLnNwaGVyZSwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJjeWxpbmRlclwiOlxuICAgICAgICAgICAgICAgIFBCTWVzaENvbGxpZGVyX0N5bGluZGVyTWVzaC5lbmNvZGUobWVzc2FnZS5tZXNoLmN5bGluZGVyLCB3cml0ZXIudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInBsYW5lXCI6XG4gICAgICAgICAgICAgICAgUEJNZXNoQ29sbGlkZXJfUGxhbmVNZXNoLmVuY29kZShtZXNzYWdlLm1lc2gucGxhbmUsIHdyaXRlci51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJNZXNoQ29sbGlkZXIuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk1lc2hDb2xsaWRlcigpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29sbGlzaW9uTWFzayA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tZXNoID0geyAkY2FzZTogXCJib3hcIiwgYm94OiBQQk1lc2hDb2xsaWRlcl9Cb3hNZXNoLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tZXNoID0geyAkY2FzZTogXCJzcGhlcmVcIiwgc3BoZXJlOiBQQk1lc2hDb2xsaWRlcl9TcGhlcmVNZXNoLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tZXNoID0geyAkY2FzZTogXCJjeWxpbmRlclwiLCBjeWxpbmRlcjogUEJNZXNoQ29sbGlkZXJfQ3lsaW5kZXJNZXNoLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tZXNoID0geyAkY2FzZTogXCJwbGFuZVwiLCBwbGFuZTogUEJNZXNoQ29sbGlkZXJfUGxhbmVNZXNoLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQk1lc2hDb2xsaWRlci5kZWNvZGUgPSBkZWNvZGU7XG59KShQQk1lc2hDb2xsaWRlciB8fCAoUEJNZXNoQ29sbGlkZXIgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCTWVzaENvbGxpZGVyX0JveE1lc2goKSB7XG4gICAgcmV0dXJuIHt9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJNZXNoQ29sbGlkZXJfQm94TWVzaDtcbihmdW5jdGlvbiAoUEJNZXNoQ29sbGlkZXJfQm94TWVzaCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShfLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCTWVzaENvbGxpZGVyX0JveE1lc2guZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk1lc2hDb2xsaWRlcl9Cb3hNZXNoKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJNZXNoQ29sbGlkZXJfQm94TWVzaC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQk1lc2hDb2xsaWRlcl9Cb3hNZXNoIHx8IChQQk1lc2hDb2xsaWRlcl9Cb3hNZXNoID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk1lc2hDb2xsaWRlcl9DeWxpbmRlck1lc2goKSB7XG4gICAgcmV0dXJuIHsgcmFkaXVzVG9wOiB1bmRlZmluZWQsIHJhZGl1c0JvdHRvbTogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQk1lc2hDb2xsaWRlcl9DeWxpbmRlck1lc2g7XG4oZnVuY3Rpb24gKFBCTWVzaENvbGxpZGVyX0N5bGluZGVyTWVzaCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnJhZGl1c1RvcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEzKS5mbG9hdChtZXNzYWdlLnJhZGl1c1RvcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucmFkaXVzQm90dG9tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjEpLmZsb2F0KG1lc3NhZ2UucmFkaXVzQm90dG9tKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQk1lc2hDb2xsaWRlcl9DeWxpbmRlck1lc2guZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk1lc2hDb2xsaWRlcl9DeWxpbmRlck1lc2goKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yYWRpdXNUb3AgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yYWRpdXNCb3R0b20gPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQk1lc2hDb2xsaWRlcl9DeWxpbmRlck1lc2guZGVjb2RlID0gZGVjb2RlO1xufSkoUEJNZXNoQ29sbGlkZXJfQ3lsaW5kZXJNZXNoIHx8IChQQk1lc2hDb2xsaWRlcl9DeWxpbmRlck1lc2ggPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCTWVzaENvbGxpZGVyX1BsYW5lTWVzaCgpIHtcbiAgICByZXR1cm4ge307XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQk1lc2hDb2xsaWRlcl9QbGFuZU1lc2g7XG4oZnVuY3Rpb24gKFBCTWVzaENvbGxpZGVyX1BsYW5lTWVzaCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShfLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCTWVzaENvbGxpZGVyX1BsYW5lTWVzaC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTWVzaENvbGxpZGVyX1BsYW5lTWVzaCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCTWVzaENvbGxpZGVyX1BsYW5lTWVzaC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQk1lc2hDb2xsaWRlcl9QbGFuZU1lc2ggfHwgKFBCTWVzaENvbGxpZGVyX1BsYW5lTWVzaCA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJNZXNoQ29sbGlkZXJfU3BoZXJlTWVzaCgpIHtcbiAgICByZXR1cm4ge307XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQk1lc2hDb2xsaWRlcl9TcGhlcmVNZXNoO1xuKGZ1bmN0aW9uIChQQk1lc2hDb2xsaWRlcl9TcGhlcmVNZXNoKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKF8sIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJNZXNoQ29sbGlkZXJfU3BoZXJlTWVzaC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTWVzaENvbGxpZGVyX1NwaGVyZU1lc2goKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQk1lc2hDb2xsaWRlcl9TcGhlcmVNZXNoLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCTWVzaENvbGxpZGVyX1NwaGVyZU1lc2ggfHwgKFBCTWVzaENvbGxpZGVyX1NwaGVyZU1lc2ggPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCTWVzaENvbGxpZGVyIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvbWVzaF9jb2xsaWRlci5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IE1lc2hDb2xsaWRlclNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwMTksXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCTWVzaENvbGxpZGVyLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCTWVzaENvbGxpZGVyLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQk1lc2hDb2xsaWRlci5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJNZXNoQ29sbGlkZXJcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk1lc2hSZW5kZXJlcigpIHtcbiAgICByZXR1cm4geyBtZXNoOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCTWVzaFJlbmRlcmVyO1xuKGZ1bmN0aW9uIChQQk1lc2hSZW5kZXJlcikge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5tZXNoPy4kY2FzZSkge1xuICAgICAgICAgICAgY2FzZSBcImJveFwiOlxuICAgICAgICAgICAgICAgIFBCTWVzaFJlbmRlcmVyX0JveE1lc2guZW5jb2RlKG1lc3NhZ2UubWVzaC5ib3gsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic3BoZXJlXCI6XG4gICAgICAgICAgICAgICAgUEJNZXNoUmVuZGVyZXJfU3BoZXJlTWVzaC5lbmNvZGUobWVzc2FnZS5tZXNoLnNwaGVyZSwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJjeWxpbmRlclwiOlxuICAgICAgICAgICAgICAgIFBCTWVzaFJlbmRlcmVyX0N5bGluZGVyTWVzaC5lbmNvZGUobWVzc2FnZS5tZXNoLmN5bGluZGVyLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInBsYW5lXCI6XG4gICAgICAgICAgICAgICAgUEJNZXNoUmVuZGVyZXJfUGxhbmVNZXNoLmVuY29kZShtZXNzYWdlLm1lc2gucGxhbmUsIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJNZXNoUmVuZGVyZXIuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk1lc2hSZW5kZXJlcigpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1lc2ggPSB7ICRjYXNlOiBcImJveFwiLCBib3g6IFBCTWVzaFJlbmRlcmVyX0JveE1lc2guZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1lc2ggPSB7ICRjYXNlOiBcInNwaGVyZVwiLCBzcGhlcmU6IFBCTWVzaFJlbmRlcmVyX1NwaGVyZU1lc2guZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1lc2ggPSB7ICRjYXNlOiBcImN5bGluZGVyXCIsIGN5bGluZGVyOiBQQk1lc2hSZW5kZXJlcl9DeWxpbmRlck1lc2guZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1lc2ggPSB7ICRjYXNlOiBcInBsYW5lXCIsIHBsYW5lOiBQQk1lc2hSZW5kZXJlcl9QbGFuZU1lc2guZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCTWVzaFJlbmRlcmVyLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCTWVzaFJlbmRlcmVyIHx8IChQQk1lc2hSZW5kZXJlciA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJNZXNoUmVuZGVyZXJfQm94TWVzaCgpIHtcbiAgICByZXR1cm4geyB1dnM6IFtdIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQk1lc2hSZW5kZXJlcl9Cb3hNZXNoO1xuKGZ1bmN0aW9uIChQQk1lc2hSZW5kZXJlcl9Cb3hNZXNoKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpO1xuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS51dnMpIHtcbiAgICAgICAgICAgIHdyaXRlci5mbG9hdCh2KTtcbiAgICAgICAgfVxuICAgICAgICB3cml0ZXIubGRlbGltKCk7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCTWVzaFJlbmRlcmVyX0JveE1lc2guZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk1lc2hSZW5kZXJlcl9Cb3hNZXNoKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudXZzLnB1c2gocmVhZGVyLmZsb2F0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZDIgPSByZWFkZXIudWludDMyKCkgKyByZWFkZXIucG9zO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS51dnMucHVzaChyZWFkZXIuZmxvYXQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCTWVzaFJlbmRlcmVyX0JveE1lc2guZGVjb2RlID0gZGVjb2RlO1xufSkoUEJNZXNoUmVuZGVyZXJfQm94TWVzaCB8fCAoUEJNZXNoUmVuZGVyZXJfQm94TWVzaCA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJNZXNoUmVuZGVyZXJfQ3lsaW5kZXJNZXNoKCkge1xuICAgIHJldHVybiB7IHJhZGl1c1RvcDogdW5kZWZpbmVkLCByYWRpdXNCb3R0b206IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJNZXNoUmVuZGVyZXJfQ3lsaW5kZXJNZXNoO1xuKGZ1bmN0aW9uIChQQk1lc2hSZW5kZXJlcl9DeWxpbmRlck1lc2gpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5yYWRpdXNUb3AgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS5yYWRpdXNUb3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnJhZGl1c0JvdHRvbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLnJhZGl1c0JvdHRvbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJNZXNoUmVuZGVyZXJfQ3lsaW5kZXJNZXNoLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJNZXNoUmVuZGVyZXJfQ3lsaW5kZXJNZXNoKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucmFkaXVzVG9wID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucmFkaXVzQm90dG9tID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJNZXNoUmVuZGVyZXJfQ3lsaW5kZXJNZXNoLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCTWVzaFJlbmRlcmVyX0N5bGluZGVyTWVzaCB8fCAoUEJNZXNoUmVuZGVyZXJfQ3lsaW5kZXJNZXNoID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk1lc2hSZW5kZXJlcl9QbGFuZU1lc2goKSB7XG4gICAgcmV0dXJuIHsgdXZzOiBbXSB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJNZXNoUmVuZGVyZXJfUGxhbmVNZXNoO1xuKGZ1bmN0aW9uIChQQk1lc2hSZW5kZXJlcl9QbGFuZU1lc2gpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICB3cml0ZXIudWludDMyKDEwKS5mb3JrKCk7XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLnV2cykge1xuICAgICAgICAgICAgd3JpdGVyLmZsb2F0KHYpO1xuICAgICAgICB9XG4gICAgICAgIHdyaXRlci5sZGVsaW0oKTtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJNZXNoUmVuZGVyZXJfUGxhbmVNZXNoLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJNZXNoUmVuZGVyZXJfUGxhbmVNZXNoKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudXZzLnB1c2gocmVhZGVyLmZsb2F0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZDIgPSByZWFkZXIudWludDMyKCkgKyByZWFkZXIucG9zO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS51dnMucHVzaChyZWFkZXIuZmxvYXQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCTWVzaFJlbmRlcmVyX1BsYW5lTWVzaC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQk1lc2hSZW5kZXJlcl9QbGFuZU1lc2ggfHwgKFBCTWVzaFJlbmRlcmVyX1BsYW5lTWVzaCA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJNZXNoUmVuZGVyZXJfU3BoZXJlTWVzaCgpIHtcbiAgICByZXR1cm4ge307XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQk1lc2hSZW5kZXJlcl9TcGhlcmVNZXNoO1xuKGZ1bmN0aW9uIChQQk1lc2hSZW5kZXJlcl9TcGhlcmVNZXNoKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKF8sIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJNZXNoUmVuZGVyZXJfU3BoZXJlTWVzaC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTWVzaFJlbmRlcmVyX1NwaGVyZU1lc2goKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQk1lc2hSZW5kZXJlcl9TcGhlcmVNZXNoLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCTWVzaFJlbmRlcmVyX1NwaGVyZU1lc2ggfHwgKFBCTWVzaFJlbmRlcmVyX1NwaGVyZU1lc2ggPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCTWVzaFJlbmRlcmVyIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvbWVzaF9yZW5kZXJlci5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IE1lc2hSZW5kZXJlclNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwMTgsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCTWVzaFJlbmRlcmVyLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCTWVzaFJlbmRlcmVyLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQk1lc2hSZW5kZXJlci5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJNZXNoUmVuZGVyZXJcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgQ29sb3IzIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9jb2xvcnMuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuLyoqIE5mdEZyYW1lVHlwZSBpcyBhIHByZWRlZmluZWQgZnJhbWluZyBzdHlsZSBmb3IgdGhlIGltYWdlLiAqL1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgTmZ0RnJhbWVUeXBlO1xuKGZ1bmN0aW9uIChOZnRGcmFtZVR5cGUpIHtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX0NMQVNTSUNcIl0gPSAwXSA9IFwiTkZUX0NMQVNTSUNcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX0JBUk9RVUVfT1JOQU1FTlRcIl0gPSAxXSA9IFwiTkZUX0JBUk9RVUVfT1JOQU1FTlRcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX0RJQU1PTkRfT1JOQU1FTlRcIl0gPSAyXSA9IFwiTkZUX0RJQU1PTkRfT1JOQU1FTlRcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX01JTklNQUxfV0lERVwiXSA9IDNdID0gXCJORlRfTUlOSU1BTF9XSURFXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9NSU5JTUFMX0dSRVlcIl0gPSA0XSA9IFwiTkZUX01JTklNQUxfR1JFWVwiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfQkxPQ0tZXCJdID0gNV0gPSBcIk5GVF9CTE9DS1lcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX0dPTERfRURHRVNcIl0gPSA2XSA9IFwiTkZUX0dPTERfRURHRVNcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX0dPTERfQ0FSVkVEXCJdID0gN10gPSBcIk5GVF9HT0xEX0NBUlZFRFwiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfR09MRF9XSURFXCJdID0gOF0gPSBcIk5GVF9HT0xEX1dJREVcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX0dPTERfUk9VTkRFRFwiXSA9IDldID0gXCJORlRfR09MRF9ST1VOREVEXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9NRVRBTF9NRURJVU1cIl0gPSAxMF0gPSBcIk5GVF9NRVRBTF9NRURJVU1cIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX01FVEFMX1dJREVcIl0gPSAxMV0gPSBcIk5GVF9NRVRBTF9XSURFXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9NRVRBTF9TTElNXCJdID0gMTJdID0gXCJORlRfTUVUQUxfU0xJTVwiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfTUVUQUxfUk9VTkRFRFwiXSA9IDEzXSA9IFwiTkZUX01FVEFMX1JPVU5ERURcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX1BJTlNcIl0gPSAxNF0gPSBcIk5GVF9QSU5TXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9NSU5JTUFMX0JMQUNLXCJdID0gMTVdID0gXCJORlRfTUlOSU1BTF9CTEFDS1wiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfTUlOSU1BTF9XSElURVwiXSA9IDE2XSA9IFwiTkZUX01JTklNQUxfV0hJVEVcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX1RBUEVcIl0gPSAxN10gPSBcIk5GVF9UQVBFXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9XT09EX1NMSU1cIl0gPSAxOF0gPSBcIk5GVF9XT09EX1NMSU1cIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX1dPT0RfV0lERVwiXSA9IDE5XSA9IFwiTkZUX1dPT0RfV0lERVwiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfV09PRF9UV0lHU1wiXSA9IDIwXSA9IFwiTkZUX1dPT0RfVFdJR1NcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX0NBTlZBU1wiXSA9IDIxXSA9IFwiTkZUX0NBTlZBU1wiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfTk9ORVwiXSA9IDIyXSA9IFwiTkZUX05PTkVcIjtcbn0pKE5mdEZyYW1lVHlwZSB8fCAoTmZ0RnJhbWVUeXBlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk5mdFNoYXBlKCkge1xuICAgIHJldHVybiB7IHVybjogXCJcIiwgc3R5bGU6IHVuZGVmaW5lZCwgY29sb3I6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJOZnRTaGFwZTtcbihmdW5jdGlvbiAoUEJOZnRTaGFwZSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnVybiAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UudXJuKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLnN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5jb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb2xvcjMuZW5jb2RlKG1lc3NhZ2UuY29sb3IsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJOZnRTaGFwZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTmZ0U2hhcGUoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS51cm4gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3R5bGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb2xvciA9IENvbG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCTmZ0U2hhcGUuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJOZnRTaGFwZSB8fCAoUEJOZnRTaGFwZSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJOZnRTaGFwZSB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL25mdF9zaGFwZS5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IE5mdFNoYXBlU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA0MCxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJOZnRTaGFwZS5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQk5mdFNoYXBlLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQk5mdFNoYXBlLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQk5mdFNoYXBlXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJQbGF5ZXJJZGVudGl0eURhdGEoKSB7XG4gICAgcmV0dXJuIHsgYWRkcmVzczogXCJcIiwgaXNHdWVzdDogZmFsc2UgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCUGxheWVySWRlbnRpdHlEYXRhO1xuKGZ1bmN0aW9uIChQQlBsYXllcklkZW50aXR5RGF0YSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmFkZHJlc3MgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmFkZHJlc3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmlzR3Vlc3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmJvb2wobWVzc2FnZS5pc0d1ZXN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlBsYXllcklkZW50aXR5RGF0YS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCUGxheWVySWRlbnRpdHlEYXRhKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWRkcmVzcyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pc0d1ZXN0ID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlBsYXllcklkZW50aXR5RGF0YS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlBsYXllcklkZW50aXR5RGF0YSB8fCAoUEJQbGF5ZXJJZGVudGl0eURhdGEgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCUGxheWVySWRlbnRpdHlEYXRhIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcGxheWVyX2lkZW50aXR5X2RhdGEuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBQbGF5ZXJJZGVudGl0eURhdGFTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDg5LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlBsYXllcklkZW50aXR5RGF0YS5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlBsYXllcklkZW50aXR5RGF0YS5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJQbGF5ZXJJZGVudGl0eURhdGEuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCUGxheWVySWRlbnRpdHlEYXRhXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJQb2ludGVyRXZlbnRzKCkge1xuICAgIHJldHVybiB7IHBvaW50ZXJFdmVudHM6IFtdIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlBvaW50ZXJFdmVudHM7XG4oZnVuY3Rpb24gKFBCUG9pbnRlckV2ZW50cykge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLnBvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICAgIFBCUG9pbnRlckV2ZW50c19FbnRyeS5lbmNvZGUodiwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlBvaW50ZXJFdmVudHMuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlBvaW50ZXJFdmVudHMoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wb2ludGVyRXZlbnRzLnB1c2goUEJQb2ludGVyRXZlbnRzX0VudHJ5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCUG9pbnRlckV2ZW50cy5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlBvaW50ZXJFdmVudHMgfHwgKFBCUG9pbnRlckV2ZW50cyA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJQb2ludGVyRXZlbnRzX0luZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYnV0dG9uOiB1bmRlZmluZWQsXG4gICAgICAgIGhvdmVyVGV4dDogdW5kZWZpbmVkLFxuICAgICAgICBtYXhEaXN0YW5jZTogdW5kZWZpbmVkLFxuICAgICAgICBzaG93RmVlZGJhY2s6IHVuZGVmaW5lZCxcbiAgICAgICAgc2hvd0hpZ2hsaWdodDogdW5kZWZpbmVkLFxuICAgIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlBvaW50ZXJFdmVudHNfSW5mbztcbihmdW5jdGlvbiAoUEJQb2ludGVyRXZlbnRzX0luZm8pIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5idXR0b24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLmJ1dHRvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaG92ZXJUZXh0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLmhvdmVyVGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWF4RGlzdGFuY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyOSkuZmxvYXQobWVzc2FnZS5tYXhEaXN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2hvd0ZlZWRiYWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzIpLmJvb2wobWVzc2FnZS5zaG93RmVlZGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnNob3dIaWdobGlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MCkuYm9vbChtZXNzYWdlLnNob3dIaWdobGlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCUG9pbnRlckV2ZW50c19JbmZvLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJQb2ludGVyRXZlbnRzX0luZm8oKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJ1dHRvbiA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmhvdmVyVGV4dCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tYXhEaXN0YW5jZSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNob3dGZWVkYmFjayA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2hvd0hpZ2hsaWdodCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJQb2ludGVyRXZlbnRzX0luZm8uZGVjb2RlID0gZGVjb2RlO1xufSkoUEJQb2ludGVyRXZlbnRzX0luZm8gfHwgKFBCUG9pbnRlckV2ZW50c19JbmZvID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlBvaW50ZXJFdmVudHNfRW50cnkoKSB7XG4gICAgcmV0dXJuIHsgZXZlbnRUeXBlOiAwLCBldmVudEluZm86IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJQb2ludGVyRXZlbnRzX0VudHJ5O1xuKGZ1bmN0aW9uIChQQlBvaW50ZXJFdmVudHNfRW50cnkpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5ldmVudFR5cGUgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS5ldmVudFR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmV2ZW50SW5mbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBQQlBvaW50ZXJFdmVudHNfSW5mby5lbmNvZGUobWVzc2FnZS5ldmVudEluZm8sIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJQb2ludGVyRXZlbnRzX0VudHJ5LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJQb2ludGVyRXZlbnRzX0VudHJ5KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ldmVudFR5cGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ldmVudEluZm8gPSBQQlBvaW50ZXJFdmVudHNfSW5mby5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCUG9pbnRlckV2ZW50c19FbnRyeS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlBvaW50ZXJFdmVudHNfRW50cnkgfHwgKFBCUG9pbnRlckV2ZW50c19FbnRyeSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJQb2ludGVyRXZlbnRzIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcG9pbnRlcl9ldmVudHMuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBQb2ludGVyRXZlbnRzU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA2MixcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJQb2ludGVyRXZlbnRzLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCUG9pbnRlckV2ZW50cy5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJQb2ludGVyRXZlbnRzLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlBvaW50ZXJFdmVudHNcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgUmF5Y2FzdEhpdCB9IGZyb20gXCIuL2NvbW1vbi9yYXljYXN0X2hpdC5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJQb2ludGVyRXZlbnRzUmVzdWx0KCkge1xuICAgIHJldHVybiB7IGJ1dHRvbjogMCwgaGl0OiB1bmRlZmluZWQsIHN0YXRlOiAwLCB0aW1lc3RhbXA6IDAsIGFuYWxvZzogdW5kZWZpbmVkLCB0aWNrTnVtYmVyOiAwIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlBvaW50ZXJFdmVudHNSZXN1bHQ7XG4oZnVuY3Rpb24gKFBCUG9pbnRlckV2ZW50c1Jlc3VsdCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmJ1dHRvbiAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLmJ1dHRvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaGl0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFJheWNhc3RIaXQuZW5jb2RlKG1lc3NhZ2UuaGl0LCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnN0YXRlICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDMyKS5pbnQzMihtZXNzYWdlLnN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50aW1lc3RhbXAgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDApLnVpbnQzMihtZXNzYWdlLnRpbWVzdGFtcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYW5hbG9nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNTMpLmZsb2F0KG1lc3NhZ2UuYW5hbG9nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50aWNrTnVtYmVyICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDU2KS51aW50MzIobWVzc2FnZS50aWNrTnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlBvaW50ZXJFdmVudHNSZXN1bHQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlBvaW50ZXJFdmVudHNSZXN1bHQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJ1dHRvbiA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmhpdCA9IFJheWNhc3RIaXQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGF0ZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1Mykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hbmFsb2cgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50aWNrTnVtYmVyID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCUG9pbnRlckV2ZW50c1Jlc3VsdC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlBvaW50ZXJFdmVudHNSZXN1bHQgfHwgKFBCUG9pbnRlckV2ZW50c1Jlc3VsdCA9IHt9KSk7XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vdmVjdG9ycy5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzLmNvbW1vblwiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVJheWNhc3RIaXQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcG9zaXRpb246IHVuZGVmaW5lZCxcbiAgICAgICAgZ2xvYmFsT3JpZ2luOiB1bmRlZmluZWQsXG4gICAgICAgIGRpcmVjdGlvbjogdW5kZWZpbmVkLFxuICAgICAgICBub3JtYWxIaXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgbGVuZ3RoOiAwLFxuICAgICAgICBtZXNoTmFtZTogdW5kZWZpbmVkLFxuICAgICAgICBlbnRpdHlJZDogdW5kZWZpbmVkLFxuICAgIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBSYXljYXN0SGl0O1xuKGZ1bmN0aW9uIChSYXljYXN0SGl0KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UucG9zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmVjdG9yMy5lbmNvZGUobWVzc2FnZS5wb3NpdGlvbiwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5nbG9iYWxPcmlnaW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmVjdG9yMy5lbmNvZGUobWVzc2FnZS5nbG9iYWxPcmlnaW4sIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZGlyZWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UuZGlyZWN0aW9uLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm5vcm1hbEhpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWZWN0b3IzLmVuY29kZShtZXNzYWdlLm5vcm1hbEhpdCwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDUpLmZsb2F0KG1lc3NhZ2UubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5tZXNoTmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDUwKS5zdHJpbmcobWVzc2FnZS5tZXNoTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZW50aXR5SWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig1NikudWludDMyKG1lc3NhZ2UuZW50aXR5SWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFJheWNhc3RIaXQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSYXljYXN0SGl0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucG9zaXRpb24gPSBWZWN0b3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZ2xvYmFsT3JpZ2luID0gVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRpcmVjdGlvbiA9IFZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ub3JtYWxIaXQgPSBWZWN0b3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubGVuZ3RoID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWVzaE5hbWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZW50aXR5SWQgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUmF5Y2FzdEhpdC5kZWNvZGUgPSBkZWNvZGU7XG59KShSYXljYXN0SGl0IHx8IChSYXljYXN0SGl0ID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlBvaW50ZXJFdmVudHNSZXN1bHQgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9wb2ludGVyX2V2ZW50c19yZXN1bHQuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBQb2ludGVyRXZlbnRzUmVzdWx0U2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA2MyxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJQb2ludGVyRXZlbnRzUmVzdWx0LmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCUG9pbnRlckV2ZW50c1Jlc3VsdC5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJQb2ludGVyRXZlbnRzUmVzdWx0LmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlBvaW50ZXJFdmVudHNSZXN1bHRcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlBvaW50ZXJMb2NrKCkge1xuICAgIHJldHVybiB7IGlzUG9pbnRlckxvY2tlZDogZmFsc2UgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCUG9pbnRlckxvY2s7XG4oZnVuY3Rpb24gKFBCUG9pbnRlckxvY2spIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5pc1BvaW50ZXJMb2NrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuYm9vbChtZXNzYWdlLmlzUG9pbnRlckxvY2tlZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJQb2ludGVyTG9jay5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCUG9pbnRlckxvY2soKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmlzUG9pbnRlckxvY2tlZCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJQb2ludGVyTG9jay5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlBvaW50ZXJMb2NrIHx8IChQQlBvaW50ZXJMb2NrID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlBvaW50ZXJMb2NrIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcG9pbnRlcl9sb2NrLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgUG9pbnRlckxvY2tTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDc0LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlBvaW50ZXJMb2NrLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCUG9pbnRlckxvY2suZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCUG9pbnRlckxvY2suZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCUG9pbnRlckxvY2tcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgVmVjdG9yMiwgVmVjdG9yMyB9IGZyb20gXCIuLi8uLi9jb21tb24vdmVjdG9ycy5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG4vKipcbiAqIFBvaW50ZXJUeXBlIGVudW1lcmF0ZXMgdGhlIGRpZmZlcmVudCBpbnB1dCBkZXZpY2VzIHRoYXQgY2FuIGJlIHVzZWQgZm9yIHBvaW50ZXIgaW50ZXJhY3Rpb25zLlxuICogRWFjaCB0eXBlIGhhcyBzcGVjaWZpYyBjaGFyYWN0ZXJpc3RpY3MgYW5kIHVzZSBjYXNlcyBpbiB0aGUgdmlydHVhbCB3b3JsZC5cbiAqL1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUG9pbnRlclR5cGU7XG4oZnVuY3Rpb24gKFBvaW50ZXJUeXBlKSB7XG4gICAgLyoqIFBPVF9OT05FIC0gTm8gcG9pbnRlciBpbnB1dCAqL1xuICAgIFBvaW50ZXJUeXBlW1BvaW50ZXJUeXBlW1wiUE9UX05PTkVcIl0gPSAwXSA9IFwiUE9UX05PTkVcIjtcbiAgICAvKiogUE9UX01PVVNFIC0gVHJhZGl0aW9uYWwgbW91c2UgaW5wdXQgKi9cbiAgICBQb2ludGVyVHlwZVtQb2ludGVyVHlwZVtcIlBPVF9NT1VTRVwiXSA9IDFdID0gXCJQT1RfTU9VU0VcIjtcbn0pKFBvaW50ZXJUeXBlIHx8IChQb2ludGVyVHlwZSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJQcmltYXJ5UG9pbnRlckluZm8oKSB7XG4gICAgcmV0dXJuIHsgcG9pbnRlclR5cGU6IHVuZGVmaW5lZCwgc2NyZWVuQ29vcmRpbmF0ZXM6IHVuZGVmaW5lZCwgc2NyZWVuRGVsdGE6IHVuZGVmaW5lZCwgd29ybGRSYXlEaXJlY3Rpb246IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJQcmltYXJ5UG9pbnRlckluZm87XG4oZnVuY3Rpb24gKFBCUHJpbWFyeVBvaW50ZXJJbmZvKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UucG9pbnRlclR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLnBvaW50ZXJUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zY3JlZW5Db29yZGluYXRlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWZWN0b3IyLmVuY29kZShtZXNzYWdlLnNjcmVlbkNvb3JkaW5hdGVzLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnNjcmVlbkRlbHRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlY3RvcjIuZW5jb2RlKG1lc3NhZ2Uuc2NyZWVuRGVsdGEsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uud29ybGRSYXlEaXJlY3Rpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmVjdG9yMy5lbmNvZGUobWVzc2FnZS53b3JsZFJheURpcmVjdGlvbiwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlByaW1hcnlQb2ludGVySW5mby5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCUHJpbWFyeVBvaW50ZXJJbmZvKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wb2ludGVyVHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNjcmVlbkNvb3JkaW5hdGVzID0gVmVjdG9yMi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNjcmVlbkRlbHRhID0gVmVjdG9yMi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLndvcmxkUmF5RGlyZWN0aW9uID0gVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCUHJpbWFyeVBvaW50ZXJJbmZvLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCUHJpbWFyeVBvaW50ZXJJbmZvIHx8IChQQlByaW1hcnlQb2ludGVySW5mbyA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJQcmltYXJ5UG9pbnRlckluZm8gfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9wcmltYXJ5X3BvaW50ZXJfaW5mby5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFByaW1hcnlQb2ludGVySW5mb1NjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEyMDksXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCUHJpbWFyeVBvaW50ZXJJbmZvLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCUHJpbWFyeVBvaW50ZXJJbmZvLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlByaW1hcnlQb2ludGVySW5mby5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJQcmltYXJ5UG9pbnRlckluZm9cIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCIuLi8uLi9jb21tb24vdmVjdG9ycy5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG4vKiogUmF5Y2FzdFF1ZXJ5VHlwZSBpbmRpY2F0ZXMgd2hldGhlciB0aGUgcmF5IHNob3VsZCBzdG9wIG9uIHRoZSBmaXJzdCBjb2xsaXRpb24sIG9yIGNvbnRpbnVlLiAqL1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUmF5Y2FzdFF1ZXJ5VHlwZTtcbihmdW5jdGlvbiAoUmF5Y2FzdFF1ZXJ5VHlwZSkge1xuICAgIC8qKiBSUVRfSElUX0ZJUlNUIC0gUGljayB0aGUgZmlyc3QgKG5vdCBuZWNlc3NhcmlseSB0aGUgY2xvc2VzdCkgaGl0IHdpdGhpbiB0aGUgcmFuZ2UgKi9cbiAgICBSYXljYXN0UXVlcnlUeXBlW1JheWNhc3RRdWVyeVR5cGVbXCJSUVRfSElUX0ZJUlNUXCJdID0gMF0gPSBcIlJRVF9ISVRfRklSU1RcIjtcbiAgICAvKiogUlFUX1FVRVJZX0FMTCAtIFBpY2sgYWxsIGhpdHMgd2l0aGluIHRoZSByYW5nZSAqL1xuICAgIFJheWNhc3RRdWVyeVR5cGVbUmF5Y2FzdFF1ZXJ5VHlwZVtcIlJRVF9RVUVSWV9BTExcIl0gPSAxXSA9IFwiUlFUX1FVRVJZX0FMTFwiO1xuICAgIC8qKiBSUVRfTk9ORSAtIERvIG5vdCBwZXJmb3JtIHRoZSByYXljYXN0LCBvbmx5IHNldCB0aGUgcmF5Y2FzdCByZXN1bHQgd2l0aCBlbXB0eSBoaXRzICovXG4gICAgUmF5Y2FzdFF1ZXJ5VHlwZVtSYXljYXN0UXVlcnlUeXBlW1wiUlFUX05PTkVcIl0gPSAyXSA9IFwiUlFUX05PTkVcIjtcbn0pKFJheWNhc3RRdWVyeVR5cGUgfHwgKFJheWNhc3RRdWVyeVR5cGUgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCUmF5Y2FzdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0aW1lc3RhbXA6IHVuZGVmaW5lZCxcbiAgICAgICAgb3JpZ2luT2Zmc2V0OiB1bmRlZmluZWQsXG4gICAgICAgIGRpcmVjdGlvbjogdW5kZWZpbmVkLFxuICAgICAgICBtYXhEaXN0YW5jZTogMCxcbiAgICAgICAgcXVlcnlUeXBlOiAwLFxuICAgICAgICBjb250aW51b3VzOiB1bmRlZmluZWQsXG4gICAgICAgIGNvbGxpc2lvbk1hc2s6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJSYXljYXN0O1xuKGZ1bmN0aW9uIChQQlJheWNhc3QpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS50aW1lc3RhbXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS51aW50MzIobWVzc2FnZS50aW1lc3RhbXApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm9yaWdpbk9mZnNldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWZWN0b3IzLmVuY29kZShtZXNzYWdlLm9yaWdpbk9mZnNldCwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UuZGlyZWN0aW9uPy4kY2FzZSkge1xuICAgICAgICAgICAgY2FzZSBcImxvY2FsRGlyZWN0aW9uXCI6XG4gICAgICAgICAgICAgICAgVmVjdG9yMy5lbmNvZGUobWVzc2FnZS5kaXJlY3Rpb24ubG9jYWxEaXJlY3Rpb24sIHdyaXRlci51aW50MzIoNTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZ2xvYmFsRGlyZWN0aW9uXCI6XG4gICAgICAgICAgICAgICAgVmVjdG9yMy5lbmNvZGUobWVzc2FnZS5kaXJlY3Rpb24uZ2xvYmFsRGlyZWN0aW9uLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImdsb2JhbFRhcmdldFwiOlxuICAgICAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UuZGlyZWN0aW9uLmdsb2JhbFRhcmdldCwgd3JpdGVyLnVpbnQzMig1OCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ0YXJnZXRFbnRpdHlcIjpcbiAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKDgwKS51aW50MzIobWVzc2FnZS5kaXJlY3Rpb24udGFyZ2V0RW50aXR5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5tYXhEaXN0YW5jZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNykuZmxvYXQobWVzc2FnZS5tYXhEaXN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucXVlcnlUeXBlICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQwKS5pbnQzMihtZXNzYWdlLnF1ZXJ5VHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY29udGludW91cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDY0KS5ib29sKG1lc3NhZ2UuY29udGludW91cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY29sbGlzaW9uTWFzayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDcyKS51aW50MzIobWVzc2FnZS5jb2xsaXNpb25NYXNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlJheWNhc3QuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlJheWNhc3QoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5vcmlnaW5PZmZzZXQgPSBWZWN0b3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGlyZWN0aW9uID0geyAkY2FzZTogXCJsb2NhbERpcmVjdGlvblwiLCBsb2NhbERpcmVjdGlvbjogVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGlyZWN0aW9uID0geyAkY2FzZTogXCJnbG9iYWxEaXJlY3Rpb25cIiwgZ2xvYmFsRGlyZWN0aW9uOiBWZWN0b3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kaXJlY3Rpb24gPSB7ICRjYXNlOiBcImdsb2JhbFRhcmdldFwiLCBnbG9iYWxUYXJnZXQ6IFZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kaXJlY3Rpb24gPSB7ICRjYXNlOiBcInRhcmdldEVudGl0eVwiLCB0YXJnZXRFbnRpdHk6IHJlYWRlci51aW50MzIoKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1heERpc3RhbmNlID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucXVlcnlUeXBlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29udGludW91cyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29sbGlzaW9uTWFzayA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlJheWNhc3QuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJSYXljYXN0IHx8IChQQlJheWNhc3QgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCUmF5Y2FzdCB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3JheWNhc3QuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBSYXljYXN0U2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA2NyxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJSYXljYXN0LmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCUmF5Y2FzdC5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJSYXljYXN0LmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlJheWNhc3RcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCIuLi8uLi9jb21tb24vdmVjdG9ycy5nZW5cIjtcbmltcG9ydCB7IFJheWNhc3RIaXQgfSBmcm9tIFwiLi9jb21tb24vcmF5Y2FzdF9oaXQuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCUmF5Y2FzdFJlc3VsdCgpIHtcbiAgICByZXR1cm4geyB0aW1lc3RhbXA6IHVuZGVmaW5lZCwgZ2xvYmFsT3JpZ2luOiB1bmRlZmluZWQsIGRpcmVjdGlvbjogdW5kZWZpbmVkLCBoaXRzOiBbXSwgdGlja051bWJlcjogMCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJSYXljYXN0UmVzdWx0O1xuKGZ1bmN0aW9uIChQQlJheWNhc3RSZXN1bHQpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS50aW1lc3RhbXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS51aW50MzIobWVzc2FnZS50aW1lc3RhbXApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmdsb2JhbE9yaWdpbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWZWN0b3IzLmVuY29kZShtZXNzYWdlLmdsb2JhbE9yaWdpbiwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5kaXJlY3Rpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmVjdG9yMy5lbmNvZGUobWVzc2FnZS5kaXJlY3Rpb24sIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UuaGl0cykge1xuICAgICAgICAgICAgUmF5Y2FzdEhpdC5lbmNvZGUodiwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50aWNrTnVtYmVyICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQwKS51aW50MzIobWVzc2FnZS50aWNrTnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlJheWNhc3RSZXN1bHQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlJheWNhc3RSZXN1bHQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5nbG9iYWxPcmlnaW4gPSBWZWN0b3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGlyZWN0aW9uID0gVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmhpdHMucHVzaChSYXljYXN0SGl0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpY2tOdW1iZXIgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJSYXljYXN0UmVzdWx0LmRlY29kZSA9IGRlY29kZTtcbn0pKFBCUmF5Y2FzdFJlc3VsdCB8fCAoUEJSYXljYXN0UmVzdWx0ID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlJheWNhc3RSZXN1bHQgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9yYXljYXN0X3Jlc3VsdC5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFJheWNhc3RSZXN1bHRTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDY4LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlJheWNhc3RSZXN1bHQuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJSYXljYXN0UmVzdWx0LmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlJheWNhc3RSZXN1bHQuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCUmF5Y2FzdFJlc3VsdFwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCUmVhbG1JbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGJhc2VVcmw6IFwiXCIsXG4gICAgICAgIHJlYWxtTmFtZTogXCJcIixcbiAgICAgICAgbmV0d29ya0lkOiAwLFxuICAgICAgICBjb21tc0FkYXB0ZXI6IFwiXCIsXG4gICAgICAgIGlzUHJldmlldzogZmFsc2UsXG4gICAgICAgIHJvb206IHVuZGVmaW5lZCxcbiAgICAgICAgaXNDb25uZWN0ZWRTY2VuZVJvb206IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJSZWFsbUluZm87XG4oZnVuY3Rpb24gKFBCUmVhbG1JbmZvKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuYmFzZVVybCAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UuYmFzZVVybCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucmVhbG1OYW1lICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5yZWFsbU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm5ldHdvcmtJZCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuaW50MzIobWVzc2FnZS5uZXR3b3JrSWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmNvbW1zQWRhcHRlciAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNCkuc3RyaW5nKG1lc3NhZ2UuY29tbXNBZGFwdGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5pc1ByZXZpZXcgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDApLmJvb2wobWVzc2FnZS5pc1ByZXZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnJvb20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig1MCkuc3RyaW5nKG1lc3NhZ2Uucm9vbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaXNDb25uZWN0ZWRTY2VuZVJvb20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig1NikuYm9vbChtZXNzYWdlLmlzQ29ubmVjdGVkU2NlbmVSb29tKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlJlYWxtSW5mby5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCUmVhbG1JbmZvKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYmFzZVVybCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yZWFsbU5hbWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubmV0d29ya0lkID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29tbXNBZGFwdGVyID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmlzUHJldmlldyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uucm9vbSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pc0Nvbm5lY3RlZFNjZW5lUm9vbSA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJSZWFsbUluZm8uZGVjb2RlID0gZGVjb2RlO1xufSkoUEJSZWFsbUluZm8gfHwgKFBCUmVhbG1JbmZvID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlJlYWxtSW5mbyB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3JlYWxtX2luZm8uZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBSZWFsbUluZm9TY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMTA2LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlJlYWxtSW5mby5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlJlYWxtSW5mby5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJSZWFsbUluZm8uZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCUmVhbG1JbmZvXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG4vKiogQ29udHJvbHMgdGhlIGRpcmVjdGlvbiBmb3IgYW5pbWF0ZWQgc2t5Ym94IHRyYW5zaXRpb25zICovXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBUcmFuc2l0aW9uTW9kZTtcbihmdW5jdGlvbiAoVHJhbnNpdGlvbk1vZGUpIHtcbiAgICAvKiogVE1fRk9SV0FSRCAtIHRyYW5zaXRpb25zIGZvcndhcmQgKGRlZmF1bHQpICovXG4gICAgVHJhbnNpdGlvbk1vZGVbVHJhbnNpdGlvbk1vZGVbXCJUTV9GT1JXQVJEXCJdID0gMF0gPSBcIlRNX0ZPUldBUkRcIjtcbiAgICAvKiogVE1fQkFDS1dBUkQgLSB0cmFuc2l0aW9ucyBiYWNrd2FyZCAqL1xuICAgIFRyYW5zaXRpb25Nb2RlW1RyYW5zaXRpb25Nb2RlW1wiVE1fQkFDS1dBUkRcIl0gPSAxXSA9IFwiVE1fQkFDS1dBUkRcIjtcbn0pKFRyYW5zaXRpb25Nb2RlIHx8IChUcmFuc2l0aW9uTW9kZSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJTa3lib3hUaW1lKCkge1xuICAgIHJldHVybiB7IGZpeGVkVGltZTogMCwgdHJhbnNpdGlvbk1vZGU6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJTa3lib3hUaW1lO1xuKGZ1bmN0aW9uIChQQlNreWJveFRpbWUpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5maXhlZFRpbWUgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkudWludDMyKG1lc3NhZ2UuZml4ZWRUaW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50cmFuc2l0aW9uTW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLnRyYW5zaXRpb25Nb2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlNreWJveFRpbWUuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlNreWJveFRpbWUoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZpeGVkVGltZSA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50cmFuc2l0aW9uTW9kZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCU2t5Ym94VGltZS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlNreWJveFRpbWUgfHwgKFBCU2t5Ym94VGltZSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJTa3lib3hUaW1lIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvc2t5Ym94X3RpbWUuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBTa3lib3hUaW1lU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTIxMCxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJTa3lib3hUaW1lLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCU2t5Ym94VGltZS5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJTa3lib3hUaW1lLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlNreWJveFRpbWVcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgQ29sb3IzLCBDb2xvcjQgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2NvbG9ycy5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJUZXh0U2hhcGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgZm9udDogdW5kZWZpbmVkLFxuICAgICAgICBmb250U2l6ZTogdW5kZWZpbmVkLFxuICAgICAgICBmb250QXV0b1NpemU6IHVuZGVmaW5lZCxcbiAgICAgICAgdGV4dEFsaWduOiB1bmRlZmluZWQsXG4gICAgICAgIHdpZHRoOiB1bmRlZmluZWQsXG4gICAgICAgIGhlaWdodDogdW5kZWZpbmVkLFxuICAgICAgICBwYWRkaW5nVG9wOiB1bmRlZmluZWQsXG4gICAgICAgIHBhZGRpbmdSaWdodDogdW5kZWZpbmVkLFxuICAgICAgICBwYWRkaW5nQm90dG9tOiB1bmRlZmluZWQsXG4gICAgICAgIHBhZGRpbmdMZWZ0OiB1bmRlZmluZWQsXG4gICAgICAgIGxpbmVTcGFjaW5nOiB1bmRlZmluZWQsXG4gICAgICAgIGxpbmVDb3VudDogdW5kZWZpbmVkLFxuICAgICAgICB0ZXh0V3JhcHBpbmc6IHVuZGVmaW5lZCxcbiAgICAgICAgc2hhZG93Qmx1cjogdW5kZWZpbmVkLFxuICAgICAgICBzaGFkb3dPZmZzZXRYOiB1bmRlZmluZWQsXG4gICAgICAgIHNoYWRvd09mZnNldFk6IHVuZGVmaW5lZCxcbiAgICAgICAgb3V0bGluZVdpZHRoOiB1bmRlZmluZWQsXG4gICAgICAgIHNoYWRvd0NvbG9yOiB1bmRlZmluZWQsXG4gICAgICAgIG91dGxpbmVDb2xvcjogdW5kZWZpbmVkLFxuICAgICAgICB0ZXh0Q29sb3I6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJUZXh0U2hhcGU7XG4oZnVuY3Rpb24gKFBCVGV4dFNoYXBlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudGV4dCAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UudGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZm9udCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLmZvbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZvbnRTaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjkpLmZsb2F0KG1lc3NhZ2UuZm9udFNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZvbnRBdXRvU2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDMyKS5ib29sKG1lc3NhZ2UuZm9udEF1dG9TaXplKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50ZXh0QWxpZ24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MCkuaW50MzIobWVzc2FnZS50ZXh0QWxpZ24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLndpZHRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNTMpLmZsb2F0KG1lc3NhZ2Uud2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmhlaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDYxKS5mbG9hdChtZXNzYWdlLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGFkZGluZ1RvcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDY5KS5mbG9hdChtZXNzYWdlLnBhZGRpbmdUb3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBhZGRpbmdSaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDc3KS5mbG9hdChtZXNzYWdlLnBhZGRpbmdSaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGFkZGluZ0JvdHRvbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDg1KS5mbG9hdChtZXNzYWdlLnBhZGRpbmdCb3R0b20pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBhZGRpbmdMZWZ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOTMpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ0xlZnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmxpbmVTcGFjaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTAxKS5mbG9hdChtZXNzYWdlLmxpbmVTcGFjaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5saW5lQ291bnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMDQpLmludDMyKG1lc3NhZ2UubGluZUNvdW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50ZXh0V3JhcHBpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMTIpLmJvb2wobWVzc2FnZS50ZXh0V3JhcHBpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnNoYWRvd0JsdXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMjUpLmZsb2F0KG1lc3NhZ2Uuc2hhZG93Qmx1cik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEzMykuZmxvYXQobWVzc2FnZS5zaGFkb3dPZmZzZXRYKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zaGFkb3dPZmZzZXRZICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTQxKS5mbG9hdChtZXNzYWdlLnNoYWRvd09mZnNldFkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm91dGxpbmVXaWR0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE0OSkuZmxvYXQobWVzc2FnZS5vdXRsaW5lV2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnNoYWRvd0NvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yMy5lbmNvZGUobWVzc2FnZS5zaGFkb3dDb2xvciwgd3JpdGVyLnVpbnQzMigxNTQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uub3V0bGluZUNvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yMy5lbmNvZGUobWVzc2FnZS5vdXRsaW5lQ29sb3IsIHdyaXRlci51aW50MzIoMTYyKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRleHRDb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb2xvcjQuZW5jb2RlKG1lc3NhZ2UudGV4dENvbG9yLCB3cml0ZXIudWludDMyKDE3MCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlRleHRTaGFwZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVGV4dFNoYXBlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGV4dCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mb250ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZm9udFNpemUgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mb250QXV0b1NpemUgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHRBbGlnbiA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDUzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLndpZHRoID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaGVpZ2h0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ1RvcCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDc3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdSaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4NSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wYWRkaW5nQm90dG9tID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDkzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdMZWZ0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5saW5lU3BhY2luZyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubGluZUNvdW50ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDExMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXh0V3JhcHBpbmcgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMjUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2hhZG93Qmx1ciA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMzMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uub3V0bGluZVdpZHRoID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE1NCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zaGFkb3dDb2xvciA9IENvbG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDIwOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uub3V0bGluZUNvbG9yID0gQ29sb3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE3MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXh0Q29sb3IgPSBDb2xvcjQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlRleHRTaGFwZS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlRleHRTaGFwZSB8fCAoUEJUZXh0U2hhcGUgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCVGV4dFNoYXBlIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdGV4dF9zaGFwZS5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFRleHRTaGFwZVNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwMzAsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCVGV4dFNoYXBlLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVGV4dFNoYXBlLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlRleHRTaGFwZS5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJUZXh0U2hhcGVcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFRyaWdnZXJBcmVhTWVzaFR5cGU7XG4oZnVuY3Rpb24gKFRyaWdnZXJBcmVhTWVzaFR5cGUpIHtcbiAgICBUcmlnZ2VyQXJlYU1lc2hUeXBlW1RyaWdnZXJBcmVhTWVzaFR5cGVbXCJUQU1UX0JPWFwiXSA9IDBdID0gXCJUQU1UX0JPWFwiO1xuICAgIFRyaWdnZXJBcmVhTWVzaFR5cGVbVHJpZ2dlckFyZWFNZXNoVHlwZVtcIlRBTVRfU1BIRVJFXCJdID0gMV0gPSBcIlRBTVRfU1BIRVJFXCI7XG59KShUcmlnZ2VyQXJlYU1lc2hUeXBlIHx8IChUcmlnZ2VyQXJlYU1lc2hUeXBlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlRyaWdnZXJBcmVhKCkge1xuICAgIHJldHVybiB7IG1lc2g6IHVuZGVmaW5lZCwgY29sbGlzaW9uTWFzazogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlRyaWdnZXJBcmVhO1xuKGZ1bmN0aW9uIChQQlRyaWdnZXJBcmVhKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UubWVzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmludDMyKG1lc3NhZ2UubWVzaCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY29sbGlzaW9uTWFzayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS51aW50MzIobWVzc2FnZS5jb2xsaXNpb25NYXNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlRyaWdnZXJBcmVhLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJUcmlnZ2VyQXJlYSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWVzaCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbGxpc2lvbk1hc2sgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJUcmlnZ2VyQXJlYS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlRyaWdnZXJBcmVhIHx8IChQQlRyaWdnZXJBcmVhID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlRyaWdnZXJBcmVhIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdHJpZ2dlcl9hcmVhLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVHJpZ2dlckFyZWFTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDYwLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlRyaWdnZXJBcmVhLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVHJpZ2dlckFyZWEuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVHJpZ2dlckFyZWEuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCVHJpZ2dlckFyZWFcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgUXVhdGVybmlvbiwgVmVjdG9yMyB9IGZyb20gXCIuLi8uLi9jb21tb24vdmVjdG9ycy5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBUcmlnZ2VyQXJlYUV2ZW50VHlwZTtcbihmdW5jdGlvbiAoVHJpZ2dlckFyZWFFdmVudFR5cGUpIHtcbiAgICBUcmlnZ2VyQXJlYUV2ZW50VHlwZVtUcmlnZ2VyQXJlYUV2ZW50VHlwZVtcIlRBRVRfRU5URVJcIl0gPSAwXSA9IFwiVEFFVF9FTlRFUlwiO1xuICAgIFRyaWdnZXJBcmVhRXZlbnRUeXBlW1RyaWdnZXJBcmVhRXZlbnRUeXBlW1wiVEFFVF9TVEFZXCJdID0gMV0gPSBcIlRBRVRfU1RBWVwiO1xuICAgIFRyaWdnZXJBcmVhRXZlbnRUeXBlW1RyaWdnZXJBcmVhRXZlbnRUeXBlW1wiVEFFVF9FWElUXCJdID0gMl0gPSBcIlRBRVRfRVhJVFwiO1xufSkoVHJpZ2dlckFyZWFFdmVudFR5cGUgfHwgKFRyaWdnZXJBcmVhRXZlbnRUeXBlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlRyaWdnZXJBcmVhUmVzdWx0KCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRyaWdnZXJlZEVudGl0eTogMCxcbiAgICAgICAgdHJpZ2dlcmVkRW50aXR5UG9zaXRpb246IHVuZGVmaW5lZCxcbiAgICAgICAgdHJpZ2dlcmVkRW50aXR5Um90YXRpb246IHVuZGVmaW5lZCxcbiAgICAgICAgZXZlbnRUeXBlOiAwLFxuICAgICAgICB0aW1lc3RhbXA6IDAsXG4gICAgICAgIHRyaWdnZXI6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJUcmlnZ2VyQXJlYVJlc3VsdDtcbihmdW5jdGlvbiAoUEJUcmlnZ2VyQXJlYVJlc3VsdCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnRyaWdnZXJlZEVudGl0eSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS51aW50MzIobWVzc2FnZS50cmlnZ2VyZWRFbnRpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRyaWdnZXJlZEVudGl0eVBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UudHJpZ2dlcmVkRW50aXR5UG9zaXRpb24sIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudHJpZ2dlcmVkRW50aXR5Um90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUXVhdGVybmlvbi5lbmNvZGUobWVzc2FnZS50cmlnZ2VyZWRFbnRpdHlSb3RhdGlvbiwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5ldmVudFR5cGUgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzIpLmludDMyKG1lc3NhZ2UuZXZlbnRUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50aW1lc3RhbXAgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDApLnVpbnQzMihtZXNzYWdlLnRpbWVzdGFtcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudHJpZ2dlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBQQlRyaWdnZXJBcmVhUmVzdWx0X1RyaWdnZXIuZW5jb2RlKG1lc3NhZ2UudHJpZ2dlciwgd3JpdGVyLnVpbnQzMig1MCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlRyaWdnZXJBcmVhUmVzdWx0LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJUcmlnZ2VyQXJlYVJlc3VsdCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudHJpZ2dlcmVkRW50aXR5ID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRyaWdnZXJlZEVudGl0eVBvc2l0aW9uID0gVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRyaWdnZXJlZEVudGl0eVJvdGF0aW9uID0gUXVhdGVybmlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmV2ZW50VHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50cmlnZ2VyID0gUEJUcmlnZ2VyQXJlYVJlc3VsdF9UcmlnZ2VyLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJUcmlnZ2VyQXJlYVJlc3VsdC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlRyaWdnZXJBcmVhUmVzdWx0IHx8IChQQlRyaWdnZXJBcmVhUmVzdWx0ID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlRyaWdnZXJBcmVhUmVzdWx0X1RyaWdnZXIoKSB7XG4gICAgcmV0dXJuIHsgZW50aXR5OiAwLCBsYXllcnM6IDAsIHBvc2l0aW9uOiB1bmRlZmluZWQsIHJvdGF0aW9uOiB1bmRlZmluZWQsIHNjYWxlOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVHJpZ2dlckFyZWFSZXN1bHRfVHJpZ2dlcjtcbihmdW5jdGlvbiAoUEJUcmlnZ2VyQXJlYVJlc3VsdF9UcmlnZ2VyKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuZW50aXR5ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLnVpbnQzMihtZXNzYWdlLmVudGl0eSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubGF5ZXJzICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS51aW50MzIobWVzc2FnZS5sYXllcnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UucG9zaXRpb24sIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uucm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUXVhdGVybmlvbi5lbmNvZGUobWVzc2FnZS5yb3RhdGlvbiwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zY2FsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWZWN0b3IzLmVuY29kZShtZXNzYWdlLnNjYWxlLCB3cml0ZXIudWludDMyKDQyKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCVHJpZ2dlckFyZWFSZXN1bHRfVHJpZ2dlci5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVHJpZ2dlckFyZWFSZXN1bHRfVHJpZ2dlcigpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZW50aXR5ID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxheWVycyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wb3NpdGlvbiA9IFZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yb3RhdGlvbiA9IFF1YXRlcm5pb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zY2FsZSA9IFZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlRyaWdnZXJBcmVhUmVzdWx0X1RyaWdnZXIuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJUcmlnZ2VyQXJlYVJlc3VsdF9UcmlnZ2VyIHx8IChQQlRyaWdnZXJBcmVhUmVzdWx0X1RyaWdnZXIgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCVHJpZ2dlckFyZWFSZXN1bHQgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy90cmlnZ2VyX2FyZWFfcmVzdWx0Lmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVHJpZ2dlckFyZWFSZXN1bHRTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDYxLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlRyaWdnZXJBcmVhUmVzdWx0LmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVHJpZ2dlckFyZWFSZXN1bHQuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVHJpZ2dlckFyZWFSZXN1bHQuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCVHJpZ2dlckFyZWFSZXN1bHRcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgUXVhdGVybmlvbiwgVmVjdG9yMiwgVmVjdG9yMyB9IGZyb20gXCIuLi8uLi9jb21tb24vdmVjdG9ycy5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBUZXh0dXJlTW92ZW1lbnRUeXBlO1xuKGZ1bmN0aW9uIChUZXh0dXJlTW92ZW1lbnRUeXBlKSB7XG4gICAgLyoqIFRNVF9PRkZTRVQgLSBkZWZhdWx0ID0gVGV4dHVyZU1vdmVtZW50VHlwZS5UTVRfT0ZGU0VUICovXG4gICAgVGV4dHVyZU1vdmVtZW50VHlwZVtUZXh0dXJlTW92ZW1lbnRUeXBlW1wiVE1UX09GRlNFVFwiXSA9IDBdID0gXCJUTVRfT0ZGU0VUXCI7XG4gICAgVGV4dHVyZU1vdmVtZW50VHlwZVtUZXh0dXJlTW92ZW1lbnRUeXBlW1wiVE1UX1RJTElOR1wiXSA9IDFdID0gXCJUTVRfVElMSU5HXCI7XG59KShUZXh0dXJlTW92ZW1lbnRUeXBlIHx8IChUZXh0dXJlTW92ZW1lbnRUeXBlID0ge30pKTtcbi8qKlxuICogSW1wbGVtZW50YXRpb24gZ3VpZGVsaW5lcyBmb3IgdGhlc2UgZWFzaW5nIGZ1bmN0aW9ucyBjYW4gYmUgZm91bmRcbiAqIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9haS9lYXNpbmdzLm5ldC9ibG9iLzZmY2Q1Zjg1MmE0NzBiZjFhNzg5MGU4MTc4YWZhMGY0NzFkNWYyZWMvc3JjL2Vhc2luZ3MvZWFzaW5nc0Z1bmN0aW9ucy50c1xuICovXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBFYXNpbmdGdW5jdGlvbjtcbihmdW5jdGlvbiAoRWFzaW5nRnVuY3Rpb24pIHtcbiAgICAvKiogRUZfTElORUFSIC0gZGVmYXVsdCAqL1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfTElORUFSXCJdID0gMF0gPSBcIkVGX0xJTkVBUlwiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRUlOUVVBRFwiXSA9IDFdID0gXCJFRl9FQVNFSU5RVUFEXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFT1VUUVVBRFwiXSA9IDJdID0gXCJFRl9FQVNFT1VUUVVBRFwiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRVFVQURcIl0gPSAzXSA9IFwiRUZfRUFTRVFVQURcIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VJTlNJTkVcIl0gPSA0XSA9IFwiRUZfRUFTRUlOU0lORVwiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRU9VVFNJTkVcIl0gPSA1XSA9IFwiRUZfRUFTRU9VVFNJTkVcIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VTSU5FXCJdID0gNl0gPSBcIkVGX0VBU0VTSU5FXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFSU5FWFBPXCJdID0gN10gPSBcIkVGX0VBU0VJTkVYUE9cIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VPVVRFWFBPXCJdID0gOF0gPSBcIkVGX0VBU0VPVVRFWFBPXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFRVhQT1wiXSA9IDldID0gXCJFRl9FQVNFRVhQT1wiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRUlORUxBU1RJQ1wiXSA9IDEwXSA9IFwiRUZfRUFTRUlORUxBU1RJQ1wiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRU9VVEVMQVNUSUNcIl0gPSAxMV0gPSBcIkVGX0VBU0VPVVRFTEFTVElDXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFRUxBU1RJQ1wiXSA9IDEyXSA9IFwiRUZfRUFTRUVMQVNUSUNcIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VJTkJPVU5DRVwiXSA9IDEzXSA9IFwiRUZfRUFTRUlOQk9VTkNFXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFT1VUQk9VTkNFXCJdID0gMTRdID0gXCJFRl9FQVNFT1VUQk9VTkNFXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFQk9VTkNFXCJdID0gMTVdID0gXCJFRl9FQVNFQk9VTkNFXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFSU5DVUJJQ1wiXSA9IDE2XSA9IFwiRUZfRUFTRUlOQ1VCSUNcIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VPVVRDVUJJQ1wiXSA9IDE3XSA9IFwiRUZfRUFTRU9VVENVQklDXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFQ1VCSUNcIl0gPSAxOF0gPSBcIkVGX0VBU0VDVUJJQ1wiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRUlOUVVBUlRcIl0gPSAxOV0gPSBcIkVGX0VBU0VJTlFVQVJUXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFT1VUUVVBUlRcIl0gPSAyMF0gPSBcIkVGX0VBU0VPVVRRVUFSVFwiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRVFVQVJUXCJdID0gMjFdID0gXCJFRl9FQVNFUVVBUlRcIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VJTlFVSU5UXCJdID0gMjJdID0gXCJFRl9FQVNFSU5RVUlOVFwiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRU9VVFFVSU5UXCJdID0gMjNdID0gXCJFRl9FQVNFT1VUUVVJTlRcIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VRVUlOVFwiXSA9IDI0XSA9IFwiRUZfRUFTRVFVSU5UXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFSU5DSVJDXCJdID0gMjVdID0gXCJFRl9FQVNFSU5DSVJDXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFT1VUQ0lSQ1wiXSA9IDI2XSA9IFwiRUZfRUFTRU9VVENJUkNcIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VDSVJDXCJdID0gMjddID0gXCJFRl9FQVNFQ0lSQ1wiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRUlOQkFDS1wiXSA9IDI4XSA9IFwiRUZfRUFTRUlOQkFDS1wiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRU9VVEJBQ0tcIl0gPSAyOV0gPSBcIkVGX0VBU0VPVVRCQUNLXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFQkFDS1wiXSA9IDMwXSA9IFwiRUZfRUFTRUJBQ0tcIjtcbn0pKEVhc2luZ0Z1bmN0aW9uIHx8IChFYXNpbmdGdW5jdGlvbiA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJUd2VlbigpIHtcbiAgICByZXR1cm4geyBkdXJhdGlvbjogMCwgZWFzaW5nRnVuY3Rpb246IDAsIG1vZGU6IHVuZGVmaW5lZCwgcGxheWluZzogdW5kZWZpbmVkLCBjdXJyZW50VGltZTogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlR3ZWVuO1xuKGZ1bmN0aW9uIChQQlR3ZWVuKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuZHVyYXRpb24gIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTMpLmZsb2F0KG1lc3NhZ2UuZHVyYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmVhc2luZ0Z1bmN0aW9uICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLmVhc2luZ0Z1bmN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UubW9kZT8uJGNhc2UpIHtcbiAgICAgICAgICAgIGNhc2UgXCJtb3ZlXCI6XG4gICAgICAgICAgICAgICAgTW92ZS5lbmNvZGUobWVzc2FnZS5tb2RlLm1vdmUsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicm90YXRlXCI6XG4gICAgICAgICAgICAgICAgUm90YXRlLmVuY29kZShtZXNzYWdlLm1vZGUucm90YXRlLCB3cml0ZXIudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInNjYWxlXCI6XG4gICAgICAgICAgICAgICAgU2NhbGUuZW5jb2RlKG1lc3NhZ2UubW9kZS5zY2FsZSwgd3JpdGVyLnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ0ZXh0dXJlTW92ZVwiOlxuICAgICAgICAgICAgICAgIFRleHR1cmVNb3ZlLmVuY29kZShtZXNzYWdlLm1vZGUudGV4dHVyZU1vdmUsIHdyaXRlci51aW50MzIoNjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicm90YXRlQ29udGludW91c1wiOlxuICAgICAgICAgICAgICAgIFJvdGF0ZUNvbnRpbnVvdXMuZW5jb2RlKG1lc3NhZ2UubW9kZS5yb3RhdGVDb250aW51b3VzLCB3cml0ZXIudWludDMyKDc0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1vdmVDb250aW51b3VzXCI6XG4gICAgICAgICAgICAgICAgTW92ZUNvbnRpbnVvdXMuZW5jb2RlKG1lc3NhZ2UubW9kZS5tb3ZlQ29udGludW91cywgd3JpdGVyLnVpbnQzMig4MikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ0ZXh0dXJlTW92ZUNvbnRpbnVvdXNcIjpcbiAgICAgICAgICAgICAgICBUZXh0dXJlTW92ZUNvbnRpbnVvdXMuZW5jb2RlKG1lc3NhZ2UubW9kZS50ZXh0dXJlTW92ZUNvbnRpbnVvdXMsIHdyaXRlci51aW50MzIoOTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGxheWluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQ4KS5ib29sKG1lc3NhZ2UucGxheWluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY3VycmVudFRpbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig2MSkuZmxvYXQobWVzc2FnZS5jdXJyZW50VGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJUd2Vlbi5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVHdlZW4oKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kdXJhdGlvbiA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmVhc2luZ0Z1bmN0aW9uID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubW9kZSA9IHsgJGNhc2U6IFwibW92ZVwiLCBtb3ZlOiBNb3ZlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tb2RlID0geyAkY2FzZTogXCJyb3RhdGVcIiwgcm90YXRlOiBSb3RhdGUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1vZGUgPSB7ICRjYXNlOiBcInNjYWxlXCIsIHNjYWxlOiBTY2FsZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubW9kZSA9IHsgJGNhc2U6IFwidGV4dHVyZU1vdmVcIiwgdGV4dHVyZU1vdmU6IFRleHR1cmVNb3ZlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA3NCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tb2RlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNhc2U6IFwicm90YXRlQ29udGludW91c1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlQ29udGludW91czogUm90YXRlQ29udGludW91cy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tb2RlID0geyAkY2FzZTogXCJtb3ZlQ29udGludW91c1wiLCBtb3ZlQ29udGludW91czogTW92ZUNvbnRpbnVvdXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA5MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tb2RlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNhc2U6IFwidGV4dHVyZU1vdmVDb250aW51b3VzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlTW92ZUNvbnRpbnVvdXM6IFRleHR1cmVNb3ZlQ29udGludW91cy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQ4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBsYXlpbmcgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDYxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmN1cnJlbnRUaW1lID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJUd2Vlbi5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlR3ZWVuIHx8IChQQlR3ZWVuID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VNb3ZlKCkge1xuICAgIHJldHVybiB7IHN0YXJ0OiB1bmRlZmluZWQsIGVuZDogdW5kZWZpbmVkLCBmYWNlRGlyZWN0aW9uOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIE1vdmU7XG4oZnVuY3Rpb24gKE1vdmUpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5zdGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWZWN0b3IzLmVuY29kZShtZXNzYWdlLnN0YXJ0LCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWZWN0b3IzLmVuY29kZShtZXNzYWdlLmVuZCwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5mYWNlRGlyZWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmJvb2wobWVzc2FnZS5mYWNlRGlyZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBNb3ZlLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlTW92ZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN0YXJ0ID0gVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmVuZCA9IFZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mYWNlRGlyZWN0aW9uID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBNb3ZlLmRlY29kZSA9IGRlY29kZTtcbn0pKE1vdmUgfHwgKE1vdmUgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVJvdGF0ZSgpIHtcbiAgICByZXR1cm4geyBzdGFydDogdW5kZWZpbmVkLCBlbmQ6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUm90YXRlO1xuKGZ1bmN0aW9uIChSb3RhdGUpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5zdGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBRdWF0ZXJuaW9uLmVuY29kZShtZXNzYWdlLnN0YXJ0LCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBRdWF0ZXJuaW9uLmVuY29kZShtZXNzYWdlLmVuZCwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBSb3RhdGUuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSb3RhdGUoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGFydCA9IFF1YXRlcm5pb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5lbmQgPSBRdWF0ZXJuaW9uLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUm90YXRlLmRlY29kZSA9IGRlY29kZTtcbn0pKFJvdGF0ZSB8fCAoUm90YXRlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VTY2FsZSgpIHtcbiAgICByZXR1cm4geyBzdGFydDogdW5kZWZpbmVkLCBlbmQ6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgU2NhbGU7XG4oZnVuY3Rpb24gKFNjYWxlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3RhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmVjdG9yMy5lbmNvZGUobWVzc2FnZS5zdGFydCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5lbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmVjdG9yMy5lbmNvZGUobWVzc2FnZS5lbmQsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgU2NhbGUuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTY2FsZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN0YXJ0ID0gVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmVuZCA9IFZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBTY2FsZS5kZWNvZGUgPSBkZWNvZGU7XG59KShTY2FsZSB8fCAoU2NhbGUgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVRleHR1cmVNb3ZlKCkge1xuICAgIHJldHVybiB7IHN0YXJ0OiB1bmRlZmluZWQsIGVuZDogdW5kZWZpbmVkLCBtb3ZlbWVudFR5cGU6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgVGV4dHVyZU1vdmU7XG4oZnVuY3Rpb24gKFRleHR1cmVNb3ZlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3RhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmVjdG9yMi5lbmNvZGUobWVzc2FnZS5zdGFydCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5lbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmVjdG9yMi5lbmNvZGUobWVzc2FnZS5lbmQsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubW92ZW1lbnRUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmludDMyKG1lc3NhZ2UubW92ZW1lbnRUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBUZXh0dXJlTW92ZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVRleHR1cmVNb3ZlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RhcnQgPSBWZWN0b3IyLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZW5kID0gVmVjdG9yMi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1vdmVtZW50VHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFRleHR1cmVNb3ZlLmRlY29kZSA9IGRlY29kZTtcbn0pKFRleHR1cmVNb3ZlIHx8IChUZXh0dXJlTW92ZSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUm90YXRlQ29udGludW91cygpIHtcbiAgICByZXR1cm4geyBkaXJlY3Rpb246IHVuZGVmaW5lZCwgc3BlZWQ6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFJvdGF0ZUNvbnRpbnVvdXM7XG4oZnVuY3Rpb24gKFJvdGF0ZUNvbnRpbnVvdXMpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5kaXJlY3Rpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUXVhdGVybmlvbi5lbmNvZGUobWVzc2FnZS5kaXJlY3Rpb24sIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3BlZWQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjEpLmZsb2F0KG1lc3NhZ2Uuc3BlZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFJvdGF0ZUNvbnRpbnVvdXMuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSb3RhdGVDb250aW51b3VzKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGlyZWN0aW9uID0gUXVhdGVybmlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNwZWVkID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUm90YXRlQ29udGludW91cy5kZWNvZGUgPSBkZWNvZGU7XG59KShSb3RhdGVDb250aW51b3VzIHx8IChSb3RhdGVDb250aW51b3VzID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VNb3ZlQ29udGludW91cygpIHtcbiAgICByZXR1cm4geyBkaXJlY3Rpb246IHVuZGVmaW5lZCwgc3BlZWQ6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIE1vdmVDb250aW51b3VzO1xuKGZ1bmN0aW9uIChNb3ZlQ29udGludW91cykge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmRpcmVjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWZWN0b3IzLmVuY29kZShtZXNzYWdlLmRpcmVjdGlvbiwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zcGVlZCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS5zcGVlZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgTW92ZUNvbnRpbnVvdXMuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VNb3ZlQ29udGludW91cygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRpcmVjdGlvbiA9IFZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zcGVlZCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIE1vdmVDb250aW51b3VzLmRlY29kZSA9IGRlY29kZTtcbn0pKE1vdmVDb250aW51b3VzIHx8IChNb3ZlQ29udGludW91cyA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlVGV4dHVyZU1vdmVDb250aW51b3VzKCkge1xuICAgIHJldHVybiB7IGRpcmVjdGlvbjogdW5kZWZpbmVkLCBzcGVlZDogMCwgbW92ZW1lbnRUeXBlOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFRleHR1cmVNb3ZlQ29udGludW91cztcbihmdW5jdGlvbiAoVGV4dHVyZU1vdmVDb250aW51b3VzKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuZGlyZWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlY3RvcjIuZW5jb2RlKG1lc3NhZ2UuZGlyZWN0aW9uLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnNwZWVkICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLnNwZWVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5tb3ZlbWVudFR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuaW50MzIobWVzc2FnZS5tb3ZlbWVudFR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFRleHR1cmVNb3ZlQ29udGludW91cy5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVRleHR1cmVNb3ZlQ29udGludW91cygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRpcmVjdGlvbiA9IFZlY3RvcjIuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zcGVlZCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1vdmVtZW50VHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFRleHR1cmVNb3ZlQ29udGludW91cy5kZWNvZGUgPSBkZWNvZGU7XG59KShUZXh0dXJlTW92ZUNvbnRpbnVvdXMgfHwgKFRleHR1cmVNb3ZlQ29udGludW91cyA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJUd2VlbiB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3R3ZWVuLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVHdlZW5TY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMTAyLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlR3ZWVuLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVHdlZW4uZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVHdlZW4uZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCVHdlZW5cIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgUEJUd2VlbiB9IGZyb20gXCIuL3R3ZWVuLmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFR3ZWVuTG9vcDtcbihmdW5jdGlvbiAoVHdlZW5Mb29wKSB7XG4gICAgVHdlZW5Mb29wW1R3ZWVuTG9vcFtcIlRMX1JFU1RBUlRcIl0gPSAwXSA9IFwiVExfUkVTVEFSVFwiO1xuICAgIFR3ZWVuTG9vcFtUd2Vlbkxvb3BbXCJUTF9ZT1lPXCJdID0gMV0gPSBcIlRMX1lPWU9cIjtcbn0pKFR3ZWVuTG9vcCB8fCAoVHdlZW5Mb29wID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlR3ZWVuU2VxdWVuY2UoKSB7XG4gICAgcmV0dXJuIHsgc2VxdWVuY2U6IFtdLCBsb29wOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVHdlZW5TZXF1ZW5jZTtcbihmdW5jdGlvbiAoUEJUd2VlblNlcXVlbmNlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2Uuc2VxdWVuY2UpIHtcbiAgICAgICAgICAgIFBCVHdlZW4uZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubG9vcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLmxvb3ApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCVHdlZW5TZXF1ZW5jZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVHdlZW5TZXF1ZW5jZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNlcXVlbmNlLnB1c2goUEJUd2Vlbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5sb29wID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJUd2VlblNlcXVlbmNlLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCVHdlZW5TZXF1ZW5jZSB8fCAoUEJUd2VlblNlcXVlbmNlID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlR3ZWVuU2VxdWVuY2UgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy90d2Vlbl9zZXF1ZW5jZS5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFR3ZWVuU2VxdWVuY2VTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMTA0LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlR3ZWVuU2VxdWVuY2UuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJUd2VlblNlcXVlbmNlLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlR3ZWVuU2VxdWVuY2UuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCVHdlZW5TZXF1ZW5jZVwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgVHdlZW5TdGF0ZVN0YXR1cztcbihmdW5jdGlvbiAoVHdlZW5TdGF0ZVN0YXR1cykge1xuICAgIFR3ZWVuU3RhdGVTdGF0dXNbVHdlZW5TdGF0ZVN0YXR1c1tcIlRTX0FDVElWRVwiXSA9IDBdID0gXCJUU19BQ1RJVkVcIjtcbiAgICBUd2VlblN0YXRlU3RhdHVzW1R3ZWVuU3RhdGVTdGF0dXNbXCJUU19DT01QTEVURURcIl0gPSAxXSA9IFwiVFNfQ09NUExFVEVEXCI7XG4gICAgVHdlZW5TdGF0ZVN0YXR1c1tUd2VlblN0YXRlU3RhdHVzW1wiVFNfUEFVU0VEXCJdID0gMl0gPSBcIlRTX1BBVVNFRFwiO1xufSkoVHdlZW5TdGF0ZVN0YXR1cyB8fCAoVHdlZW5TdGF0ZVN0YXR1cyA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJUd2VlblN0YXRlKCkge1xuICAgIHJldHVybiB7IHN0YXRlOiAwLCBjdXJyZW50VGltZTogMCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJUd2VlblN0YXRlO1xuKGZ1bmN0aW9uIChQQlR3ZWVuU3RhdGUpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5zdGF0ZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLnN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5jdXJyZW50VGltZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS5jdXJyZW50VGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJUd2VlblN0YXRlLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJUd2VlblN0YXRlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGF0ZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmN1cnJlbnRUaW1lID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJUd2VlblN0YXRlLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCVHdlZW5TdGF0ZSB8fCAoUEJUd2VlblN0YXRlID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlR3ZWVuU3RhdGUgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy90d2Vlbl9zdGF0ZS5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFR3ZWVuU3RhdGVTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMTAzLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlR3ZWVuU3RhdGUuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJUd2VlblN0YXRlLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlR3ZWVuU3RhdGUuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCVHdlZW5TdGF0ZVwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5pbXBvcnQgeyBCb3JkZXJSZWN0IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9ib3JkZXJfcmVjdC5nZW5cIjtcbmltcG9ydCB7IENvbG9yNCB9IGZyb20gXCIuLi8uLi9jb21tb24vY29sb3JzLmdlblwiO1xuaW1wb3J0IHsgVGV4dHVyZVVuaW9uIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi90ZXh0dXJlLmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIEJhY2tncm91bmRUZXh0dXJlTW9kZTtcbihmdW5jdGlvbiAoQmFja2dyb3VuZFRleHR1cmVNb2RlKSB7XG4gICAgLyoqXG4gICAgICogTklORV9TTElDRVMgLSBodHRwczovL2RvY3MudW5pdHkzZC5jb20vTWFudWFsL1VJRS1VU1MtU3VwcG9ydGVkUHJvcGVydGllcy5odG1sIChTbGljaW5nIHNlY3Rpb24pXG4gICAgICogaHR0cHM6Ly9mb3J1bS51bml0eS5jb20vdGhyZWFkcy9ob3ctZG9lcy1zbGljaW5nLWluLXVpLXRvb2traXQtd29ya3MuMTIzNTg2My9cbiAgICAgKiBodHRwczovL2RvY3MudW5pdHkzZC5jb20vTWFudWFsLzlTbGljZVNwcml0ZXMuaHRtbFxuICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9ib3JkZXItaW1hZ2Utc2xpY2VcbiAgICAgKi9cbiAgICBCYWNrZ3JvdW5kVGV4dHVyZU1vZGVbQmFja2dyb3VuZFRleHR1cmVNb2RlW1wiTklORV9TTElDRVNcIl0gPSAwXSA9IFwiTklORV9TTElDRVNcIjtcbiAgICAvKipcbiAgICAgKiBDRU5URVIgLSBDRU5URVIgZW5hYmxlcyB0aGUgdGV4dHVyZSB0byBiZSByZW5kZXJlZCBjZW50ZXJlZCBpbiByZWxhdGlvbiB0byB0aGVcbiAgICAgKiBlbGVtZW50LiBJZiB0aGUgZWxlbWVudCBpcyBzbWFsbGVyIHRoYW4gdGhlIHRleHR1cmUgdGhlbiB0aGUgYmFja2dyb3VuZFxuICAgICAqIHNob3VsZCB1c2UgdGhlIGVsZW1lbnQgYXMgc3RlbmNpbCB0byBjdXQgb2ZmIHRoZSBvdXQtb2YtYm91bmRzIGFyZWFcbiAgICAgKi9cbiAgICBCYWNrZ3JvdW5kVGV4dHVyZU1vZGVbQmFja2dyb3VuZFRleHR1cmVNb2RlW1wiQ0VOVEVSXCJdID0gMV0gPSBcIkNFTlRFUlwiO1xuICAgIC8qKlxuICAgICAqIFNUUkVUQ0ggLSBTVFJFVENIIGVuYWJsZXMgdGhlIHRleHR1cmUgdG8gY292ZXIgYWxsIHRoZSBhcmVhIG9mIHRoZSBjb250YWluZXIsXG4gICAgICogYWRvcHRpbmcgaXRzIGFzcGVjdCByYXRpby5cbiAgICAgKi9cbiAgICBCYWNrZ3JvdW5kVGV4dHVyZU1vZGVbQmFja2dyb3VuZFRleHR1cmVNb2RlW1wiU1RSRVRDSFwiXSA9IDJdID0gXCJTVFJFVENIXCI7XG59KShCYWNrZ3JvdW5kVGV4dHVyZU1vZGUgfHwgKEJhY2tncm91bmRUZXh0dXJlTW9kZSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJVaUJhY2tncm91bmQoKSB7XG4gICAgcmV0dXJuIHsgY29sb3I6IHVuZGVmaW5lZCwgdGV4dHVyZTogdW5kZWZpbmVkLCB0ZXh0dXJlTW9kZTogMCwgdGV4dHVyZVNsaWNlczogdW5kZWZpbmVkLCB1dnM6IFtdIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlVpQmFja2dyb3VuZDtcbihmdW5jdGlvbiAoUEJVaUJhY2tncm91bmQpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5jb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb2xvcjQuZW5jb2RlKG1lc3NhZ2UuY29sb3IsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBUZXh0dXJlVW5pb24uZW5jb2RlKG1lc3NhZ2UudGV4dHVyZSwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50ZXh0dXJlTW9kZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuaW50MzIobWVzc2FnZS50ZXh0dXJlTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGV4dHVyZVNsaWNlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBCb3JkZXJSZWN0LmVuY29kZShtZXNzYWdlLnRleHR1cmVTbGljZXMsIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgd3JpdGVyLnVpbnQzMig0MikuZm9yaygpO1xuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS51dnMpIHtcbiAgICAgICAgICAgIHdyaXRlci5mbG9hdCh2KTtcbiAgICAgICAgfVxuICAgICAgICB3cml0ZXIubGRlbGltKCk7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCVWlCYWNrZ3JvdW5kLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJVaUJhY2tncm91bmQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb2xvciA9IENvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHR1cmUgPSBUZXh0dXJlVW5pb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXh0dXJlTW9kZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHR1cmVTbGljZXMgPSBCb3JkZXJSZWN0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gNDUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudXZzLnB1c2gocmVhZGVyLmZsb2F0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gNDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZDIgPSByZWFkZXIudWludDMyKCkgKyByZWFkZXIucG9zO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS51dnMucHVzaChyZWFkZXIuZmxvYXQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCVWlCYWNrZ3JvdW5kLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCVWlCYWNrZ3JvdW5kIHx8IChQQlVpQmFja2dyb3VuZCA9IHt9KSk7XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuY29tbW9uXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlQm9yZGVyUmVjdCgpIHtcbiAgICByZXR1cm4geyB0b3A6IDAsIGxlZnQ6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIEJvcmRlclJlY3Q7XG4oZnVuY3Rpb24gKEJvcmRlclJlY3QpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS50b3AgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTMpLmZsb2F0KG1lc3NhZ2UudG9wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5sZWZ0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLmxlZnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnJpZ2h0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLnJpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5ib3R0b20gIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzcpLmZsb2F0KG1lc3NhZ2UuYm90dG9tKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBCb3JkZXJSZWN0LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQm9yZGVyUmVjdCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRvcCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxlZnQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJvdHRvbSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIEJvcmRlclJlY3QuZGVjb2RlID0gZGVjb2RlO1xufSkoQm9yZGVyUmVjdCB8fCAoQm9yZGVyUmVjdCA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUmVjdCgpIHtcbiAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBSZWN0O1xuKGZ1bmN0aW9uIChSZWN0KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UueCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS54KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS55ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLnkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLndpZHRoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLndpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5oZWlnaHQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzcpLmZsb2F0KG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBSZWN0LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVjdCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS55ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uud2lkdGggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oZWlnaHQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBSZWN0LmRlY29kZSA9IGRlY29kZTtcbn0pKFJlY3QgfHwgKFJlY3QgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCVWlCYWNrZ3JvdW5kIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfYmFja2dyb3VuZC5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFVpQmFja2dyb3VuZFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNTMsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCVWlCYWNrZ3JvdW5kLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVWlCYWNrZ3JvdW5kLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlVpQmFja2dyb3VuZC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJVaUJhY2tncm91bmRcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgQm9yZGVyUmVjdCB9IGZyb20gXCIuLi8uLi9jb21tb24vYm9yZGVyX3JlY3QuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVWlDYW52YXNJbmZvcm1hdGlvbigpIHtcbiAgICByZXR1cm4geyBkZXZpY2VQaXhlbFJhdGlvOiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwLCBpbnRlcmFjdGFibGVBcmVhOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVWlDYW52YXNJbmZvcm1hdGlvbjtcbihmdW5jdGlvbiAoUEJVaUNhbnZhc0luZm9ybWF0aW9uKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuZGV2aWNlUGl4ZWxSYXRpbyAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS53aWR0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikuaW50MzIobWVzc2FnZS53aWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaGVpZ2h0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI0KS5pbnQzMihtZXNzYWdlLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaW50ZXJhY3RhYmxlQXJlYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBCb3JkZXJSZWN0LmVuY29kZShtZXNzYWdlLmludGVyYWN0YWJsZUFyZWEsIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJVaUNhbnZhc0luZm9ybWF0aW9uLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJVaUNhbnZhc0luZm9ybWF0aW9uKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGV2aWNlUGl4ZWxSYXRpbyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLndpZHRoID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaGVpZ2h0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaW50ZXJhY3RhYmxlQXJlYSA9IEJvcmRlclJlY3QuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlVpQ2FudmFzSW5mb3JtYXRpb24uZGVjb2RlID0gZGVjb2RlO1xufSkoUEJVaUNhbnZhc0luZm9ybWF0aW9uIHx8IChQQlVpQ2FudmFzSW5mb3JtYXRpb24gPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCVWlDYW52YXNJbmZvcm1hdGlvbiB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX2NhbnZhc19pbmZvcm1hdGlvbi5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFVpQ2FudmFzSW5mb3JtYXRpb25TY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDU0LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlVpQ2FudmFzSW5mb3JtYXRpb24uZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJVaUNhbnZhc0luZm9ybWF0aW9uLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlVpQ2FudmFzSW5mb3JtYXRpb24uZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCVWlDYW52YXNJbmZvcm1hdGlvblwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5pbXBvcnQgeyBDb2xvcjQgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2NvbG9ycy5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJVaURyb3Bkb3duKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFjY2VwdEVtcHR5OiBmYWxzZSxcbiAgICAgICAgZW1wdHlMYWJlbDogdW5kZWZpbmVkLFxuICAgICAgICBvcHRpb25zOiBbXSxcbiAgICAgICAgc2VsZWN0ZWRJbmRleDogdW5kZWZpbmVkLFxuICAgICAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgICAgIGNvbG9yOiB1bmRlZmluZWQsXG4gICAgICAgIHRleHRBbGlnbjogdW5kZWZpbmVkLFxuICAgICAgICBmb250OiB1bmRlZmluZWQsXG4gICAgICAgIGZvbnRTaXplOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVWlEcm9wZG93bjtcbihmdW5jdGlvbiAoUEJVaURyb3Bkb3duKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuYWNjZXB0RW1wdHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuYm9vbChtZXNzYWdlLmFjY2VwdEVtcHR5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5lbXB0eUxhYmVsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLmVtcHR5TGFiZWwpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjYpLnN0cmluZyh2KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zZWxlY3RlZEluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzIpLmludDMyKG1lc3NhZ2Uuc2VsZWN0ZWRJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZGlzYWJsZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDApLmJvb2wobWVzc2FnZS5kaXNhYmxlZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3I0LmVuY29kZShtZXNzYWdlLmNvbG9yLCB3cml0ZXIudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRleHRBbGlnbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgwKS5pbnQzMihtZXNzYWdlLnRleHRBbGlnbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZm9udCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDg4KS5pbnQzMihtZXNzYWdlLmZvbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZvbnRTaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOTYpLmludDMyKG1lc3NhZ2UuZm9udFNpemUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCVWlEcm9wZG93bi5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVWlEcm9wZG93bigpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWNjZXB0RW1wdHkgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmVtcHR5TGFiZWwgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uub3B0aW9ucy5wdXNoKHJlYWRlci5zdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2VsZWN0ZWRJbmRleCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRpc2FibGVkID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb2xvciA9IENvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXh0QWxpZ24gPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gODgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZm9udCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA5Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mb250U2l6ZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCVWlEcm9wZG93bi5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlVpRHJvcGRvd24gfHwgKFBCVWlEcm9wZG93biA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJVaURyb3Bkb3duIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfZHJvcGRvd24uZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBVaURyb3Bkb3duU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA5NCxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJVaURyb3Bkb3duLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVWlEcm9wZG93bi5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJVaURyb3Bkb3duLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlVpRHJvcGRvd25cIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlVpRHJvcGRvd25SZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVWlEcm9wZG93blJlc3VsdDtcbihmdW5jdGlvbiAoUEJVaURyb3Bkb3duUmVzdWx0KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudmFsdWUgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJVaURyb3Bkb3duUmVzdWx0LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJVaURyb3Bkb3duUmVzdWx0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52YWx1ZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCVWlEcm9wZG93blJlc3VsdC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlVpRHJvcGRvd25SZXN1bHQgfHwgKFBCVWlEcm9wZG93blJlc3VsdCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJVaURyb3Bkb3duUmVzdWx0IH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfZHJvcGRvd25fcmVzdWx0Lmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVWlEcm9wZG93blJlc3VsdFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwOTYsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCVWlEcm9wZG93blJlc3VsdC5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlVpRHJvcGRvd25SZXN1bHQuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVWlEcm9wZG93blJlc3VsdC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJVaURyb3Bkb3duUmVzdWx0XCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IENvbG9yNCB9IGZyb20gXCIuLi8uLi9jb21tb24vY29sb3JzLmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlVpSW5wdXQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGxhY2Vob2xkZXI6IFwiXCIsXG4gICAgICAgIGNvbG9yOiB1bmRlZmluZWQsXG4gICAgICAgIHBsYWNlaG9sZGVyQ29sb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgICAgICB0ZXh0QWxpZ246IHVuZGVmaW5lZCxcbiAgICAgICAgZm9udDogdW5kZWZpbmVkLFxuICAgICAgICBmb250U2l6ZTogdW5kZWZpbmVkLFxuICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlVpSW5wdXQ7XG4oZnVuY3Rpb24gKFBCVWlJbnB1dCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnBsYWNlaG9sZGVyICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5wbGFjZWhvbGRlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3I0LmVuY29kZShtZXNzYWdlLmNvbG9yLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBsYWNlaG9sZGVyQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3I0LmVuY29kZShtZXNzYWdlLnBsYWNlaG9sZGVyQ29sb3IsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZGlzYWJsZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzIpLmJvb2wobWVzc2FnZS5kaXNhYmxlZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGV4dEFsaWduICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoODApLmludDMyKG1lc3NhZ2UudGV4dEFsaWduKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5mb250ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoODgpLmludDMyKG1lc3NhZ2UuZm9udCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZm9udFNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig5NikuaW50MzIobWVzc2FnZS5mb250U2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMDYpLnN0cmluZyhtZXNzYWdlLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlVpSW5wdXQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlVpSW5wdXQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wbGFjZWhvbGRlciA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb2xvciA9IENvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBsYWNlaG9sZGVyQ29sb3IgPSBDb2xvcjQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kaXNhYmxlZCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHRBbGlnbiA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mb250ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDk2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZvbnRTaXplID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52YWx1ZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlVpSW5wdXQuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJVaUlucHV0IHx8IChQQlVpSW5wdXQgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCVWlJbnB1dCB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX2lucHV0Lmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVWlJbnB1dFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwOTMsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCVWlJbnB1dC5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlVpSW5wdXQuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVWlJbnB1dC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJVaUlucHV0XCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJVaUlucHV0UmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiBcIlwiLCBpc1N1Ym1pdDogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlVpSW5wdXRSZXN1bHQ7XG4oZnVuY3Rpb24gKFBCVWlJbnB1dFJlc3VsdCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnZhbHVlICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaXNTdWJtaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikuYm9vbChtZXNzYWdlLmlzU3VibWl0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlVpSW5wdXRSZXN1bHQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlVpSW5wdXRSZXN1bHQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52YWx1ZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pc1N1Ym1pdCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJVaUlucHV0UmVzdWx0LmRlY29kZSA9IGRlY29kZTtcbn0pKFBCVWlJbnB1dFJlc3VsdCB8fCAoUEJVaUlucHV0UmVzdWx0ID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlVpSW5wdXRSZXN1bHQgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9pbnB1dF9yZXN1bHQuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBVaUlucHV0UmVzdWx0U2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA5NSxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJVaUlucHV0UmVzdWx0LmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVWlJbnB1dFJlc3VsdC5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJVaUlucHV0UmVzdWx0LmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlVpSW5wdXRSZXN1bHRcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgQ29sb3I0IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9jb2xvcnMuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgVGV4dFdyYXA7XG4oZnVuY3Rpb24gKFRleHRXcmFwKSB7XG4gICAgVGV4dFdyYXBbVGV4dFdyYXBbXCJUV19XUkFQXCJdID0gMF0gPSBcIlRXX1dSQVBcIjtcbiAgICBUZXh0V3JhcFtUZXh0V3JhcFtcIlRXX05PX1dSQVBcIl0gPSAxXSA9IFwiVFdfTk9fV1JBUFwiO1xufSkoVGV4dFdyYXAgfHwgKFRleHRXcmFwID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlVpVGV4dCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogXCJcIixcbiAgICAgICAgY29sb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgdGV4dEFsaWduOiB1bmRlZmluZWQsXG4gICAgICAgIGZvbnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgZm9udFNpemU6IHVuZGVmaW5lZCxcbiAgICAgICAgdGV4dFdyYXA6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJVaVRleHQ7XG4oZnVuY3Rpb24gKFBCVWlUZXh0KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudmFsdWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5jb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb2xvcjQuZW5jb2RlKG1lc3NhZ2UuY29sb3IsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGV4dEFsaWduICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmludDMyKG1lc3NhZ2UudGV4dEFsaWduKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5mb250ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzIpLmludDMyKG1lc3NhZ2UuZm9udCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZm9udFNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MCkuaW50MzIobWVzc2FnZS5mb250U2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGV4dFdyYXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0OCkuaW50MzIobWVzc2FnZS50ZXh0V3JhcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJVaVRleHQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlVpVGV4dCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZhbHVlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbG9yID0gQ29sb3I0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGV4dEFsaWduID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZm9udCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZvbnRTaXplID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGV4dFdyYXAgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlVpVGV4dC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlVpVGV4dCB8fCAoUEJVaVRleHQgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCVWlUZXh0IH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfdGV4dC5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFVpVGV4dFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNTIsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCVWlUZXh0LmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVWlUZXh0LmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlVpVGV4dC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJVaVRleHRcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgQ29sb3I0IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9jb2xvcnMuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgWUdQb3NpdGlvblR5cGU7XG4oZnVuY3Rpb24gKFlHUG9zaXRpb25UeXBlKSB7XG4gICAgWUdQb3NpdGlvblR5cGVbWUdQb3NpdGlvblR5cGVbXCJZR1BUX1JFTEFUSVZFXCJdID0gMF0gPSBcIllHUFRfUkVMQVRJVkVcIjtcbiAgICBZR1Bvc2l0aW9uVHlwZVtZR1Bvc2l0aW9uVHlwZVtcIllHUFRfQUJTT0xVVEVcIl0gPSAxXSA9IFwiWUdQVF9BQlNPTFVURVwiO1xufSkoWUdQb3NpdGlvblR5cGUgfHwgKFlHUG9zaXRpb25UeXBlID0ge30pKTtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFlHQWxpZ247XG4oZnVuY3Rpb24gKFlHQWxpZ24pIHtcbiAgICBZR0FsaWduW1lHQWxpZ25bXCJZR0FfQVVUT1wiXSA9IDBdID0gXCJZR0FfQVVUT1wiO1xuICAgIFlHQWxpZ25bWUdBbGlnbltcIllHQV9GTEVYX1NUQVJUXCJdID0gMV0gPSBcIllHQV9GTEVYX1NUQVJUXCI7XG4gICAgWUdBbGlnbltZR0FsaWduW1wiWUdBX0NFTlRFUlwiXSA9IDJdID0gXCJZR0FfQ0VOVEVSXCI7XG4gICAgWUdBbGlnbltZR0FsaWduW1wiWUdBX0ZMRVhfRU5EXCJdID0gM10gPSBcIllHQV9GTEVYX0VORFwiO1xuICAgIFlHQWxpZ25bWUdBbGlnbltcIllHQV9TVFJFVENIXCJdID0gNF0gPSBcIllHQV9TVFJFVENIXCI7XG4gICAgWUdBbGlnbltZR0FsaWduW1wiWUdBX0JBU0VMSU5FXCJdID0gNV0gPSBcIllHQV9CQVNFTElORVwiO1xuICAgIFlHQWxpZ25bWUdBbGlnbltcIllHQV9TUEFDRV9CRVRXRUVOXCJdID0gNl0gPSBcIllHQV9TUEFDRV9CRVRXRUVOXCI7XG4gICAgWUdBbGlnbltZR0FsaWduW1wiWUdBX1NQQUNFX0FST1VORFwiXSA9IDddID0gXCJZR0FfU1BBQ0VfQVJPVU5EXCI7XG59KShZR0FsaWduIHx8IChZR0FsaWduID0ge30pKTtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFlHVW5pdDtcbihmdW5jdGlvbiAoWUdVbml0KSB7XG4gICAgWUdVbml0W1lHVW5pdFtcIllHVV9VTkRFRklORURcIl0gPSAwXSA9IFwiWUdVX1VOREVGSU5FRFwiO1xuICAgIFlHVW5pdFtZR1VuaXRbXCJZR1VfUE9JTlRcIl0gPSAxXSA9IFwiWUdVX1BPSU5UXCI7XG4gICAgWUdVbml0W1lHVW5pdFtcIllHVV9QRVJDRU5UXCJdID0gMl0gPSBcIllHVV9QRVJDRU5UXCI7XG4gICAgWUdVbml0W1lHVW5pdFtcIllHVV9BVVRPXCJdID0gM10gPSBcIllHVV9BVVRPXCI7XG59KShZR1VuaXQgfHwgKFlHVW5pdCA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBZR0ZsZXhEaXJlY3Rpb247XG4oZnVuY3Rpb24gKFlHRmxleERpcmVjdGlvbikge1xuICAgIFlHRmxleERpcmVjdGlvbltZR0ZsZXhEaXJlY3Rpb25bXCJZR0ZEX1JPV1wiXSA9IDBdID0gXCJZR0ZEX1JPV1wiO1xuICAgIFlHRmxleERpcmVjdGlvbltZR0ZsZXhEaXJlY3Rpb25bXCJZR0ZEX0NPTFVNTlwiXSA9IDFdID0gXCJZR0ZEX0NPTFVNTlwiO1xuICAgIFlHRmxleERpcmVjdGlvbltZR0ZsZXhEaXJlY3Rpb25bXCJZR0ZEX0NPTFVNTl9SRVZFUlNFXCJdID0gMl0gPSBcIllHRkRfQ09MVU1OX1JFVkVSU0VcIjtcbiAgICBZR0ZsZXhEaXJlY3Rpb25bWUdGbGV4RGlyZWN0aW9uW1wiWUdGRF9ST1dfUkVWRVJTRVwiXSA9IDNdID0gXCJZR0ZEX1JPV19SRVZFUlNFXCI7XG59KShZR0ZsZXhEaXJlY3Rpb24gfHwgKFlHRmxleERpcmVjdGlvbiA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBZR1dyYXA7XG4oZnVuY3Rpb24gKFlHV3JhcCkge1xuICAgIFlHV3JhcFtZR1dyYXBbXCJZR1dfTk9fV1JBUFwiXSA9IDBdID0gXCJZR1dfTk9fV1JBUFwiO1xuICAgIFlHV3JhcFtZR1dyYXBbXCJZR1dfV1JBUFwiXSA9IDFdID0gXCJZR1dfV1JBUFwiO1xuICAgIFlHV3JhcFtZR1dyYXBbXCJZR1dfV1JBUF9SRVZFUlNFXCJdID0gMl0gPSBcIllHV19XUkFQX1JFVkVSU0VcIjtcbn0pKFlHV3JhcCB8fCAoWUdXcmFwID0ge30pKTtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFlHSnVzdGlmeTtcbihmdW5jdGlvbiAoWUdKdXN0aWZ5KSB7XG4gICAgWUdKdXN0aWZ5W1lHSnVzdGlmeVtcIllHSl9GTEVYX1NUQVJUXCJdID0gMF0gPSBcIllHSl9GTEVYX1NUQVJUXCI7XG4gICAgWUdKdXN0aWZ5W1lHSnVzdGlmeVtcIllHSl9DRU5URVJcIl0gPSAxXSA9IFwiWUdKX0NFTlRFUlwiO1xuICAgIFlHSnVzdGlmeVtZR0p1c3RpZnlbXCJZR0pfRkxFWF9FTkRcIl0gPSAyXSA9IFwiWUdKX0ZMRVhfRU5EXCI7XG4gICAgWUdKdXN0aWZ5W1lHSnVzdGlmeVtcIllHSl9TUEFDRV9CRVRXRUVOXCJdID0gM10gPSBcIllHSl9TUEFDRV9CRVRXRUVOXCI7XG4gICAgWUdKdXN0aWZ5W1lHSnVzdGlmeVtcIllHSl9TUEFDRV9BUk9VTkRcIl0gPSA0XSA9IFwiWUdKX1NQQUNFX0FST1VORFwiO1xuICAgIFlHSnVzdGlmeVtZR0p1c3RpZnlbXCJZR0pfU1BBQ0VfRVZFTkxZXCJdID0gNV0gPSBcIllHSl9TUEFDRV9FVkVOTFlcIjtcbn0pKFlHSnVzdGlmeSB8fCAoWUdKdXN0aWZ5ID0ge30pKTtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFlHT3ZlcmZsb3c7XG4oZnVuY3Rpb24gKFlHT3ZlcmZsb3cpIHtcbiAgICBZR092ZXJmbG93W1lHT3ZlcmZsb3dbXCJZR09fVklTSUJMRVwiXSA9IDBdID0gXCJZR09fVklTSUJMRVwiO1xuICAgIFlHT3ZlcmZsb3dbWUdPdmVyZmxvd1tcIllHT19ISURERU5cIl0gPSAxXSA9IFwiWUdPX0hJRERFTlwiO1xuICAgIFlHT3ZlcmZsb3dbWUdPdmVyZmxvd1tcIllHT19TQ1JPTExcIl0gPSAyXSA9IFwiWUdPX1NDUk9MTFwiO1xufSkoWUdPdmVyZmxvdyB8fCAoWUdPdmVyZmxvdyA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBZR0Rpc3BsYXk7XG4oZnVuY3Rpb24gKFlHRGlzcGxheSkge1xuICAgIFlHRGlzcGxheVtZR0Rpc3BsYXlbXCJZR0RfRkxFWFwiXSA9IDBdID0gXCJZR0RfRkxFWFwiO1xuICAgIFlHRGlzcGxheVtZR0Rpc3BsYXlbXCJZR0RfTk9ORVwiXSA9IDFdID0gXCJZR0RfTk9ORVwiO1xufSkoWUdEaXNwbGF5IHx8IChZR0Rpc3BsYXkgPSB7fSkpO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgWUdFZGdlO1xuKGZ1bmN0aW9uIChZR0VkZ2UpIHtcbiAgICBZR0VkZ2VbWUdFZGdlW1wiWUdFX0xFRlRcIl0gPSAwXSA9IFwiWUdFX0xFRlRcIjtcbiAgICBZR0VkZ2VbWUdFZGdlW1wiWUdFX1RPUFwiXSA9IDFdID0gXCJZR0VfVE9QXCI7XG4gICAgWUdFZGdlW1lHRWRnZVtcIllHRV9SSUdIVFwiXSA9IDJdID0gXCJZR0VfUklHSFRcIjtcbiAgICBZR0VkZ2VbWUdFZGdlW1wiWUdFX0JPVFRPTVwiXSA9IDNdID0gXCJZR0VfQk9UVE9NXCI7XG4gICAgWUdFZGdlW1lHRWRnZVtcIllHRV9TVEFSVFwiXSA9IDRdID0gXCJZR0VfU1RBUlRcIjtcbiAgICBZR0VkZ2VbWUdFZGdlW1wiWUdFX0VORFwiXSA9IDVdID0gXCJZR0VfRU5EXCI7XG4gICAgWUdFZGdlW1lHRWRnZVtcIllHRV9IT1JJWk9OVEFMXCJdID0gNl0gPSBcIllHRV9IT1JJWk9OVEFMXCI7XG4gICAgWUdFZGdlW1lHRWRnZVtcIllHRV9WRVJUSUNBTFwiXSA9IDddID0gXCJZR0VfVkVSVElDQUxcIjtcbiAgICBZR0VkZ2VbWUdFZGdlW1wiWUdFX0FMTFwiXSA9IDhdID0gXCJZR0VfQUxMXCI7XG59KShZR0VkZ2UgfHwgKFlHRWRnZSA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQb2ludGVyRmlsdGVyTW9kZTtcbihmdW5jdGlvbiAoUG9pbnRlckZpbHRlck1vZGUpIHtcbiAgICBQb2ludGVyRmlsdGVyTW9kZVtQb2ludGVyRmlsdGVyTW9kZVtcIlBGTV9OT05FXCJdID0gMF0gPSBcIlBGTV9OT05FXCI7XG4gICAgUG9pbnRlckZpbHRlck1vZGVbUG9pbnRlckZpbHRlck1vZGVbXCJQRk1fQkxPQ0tcIl0gPSAxXSA9IFwiUEZNX0JMT0NLXCI7XG59KShQb2ludGVyRmlsdGVyTW9kZSB8fCAoUG9pbnRlckZpbHRlck1vZGUgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVWlUcmFuc2Zvcm0oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGFyZW50OiAwLFxuICAgICAgICByaWdodE9mOiAwLFxuICAgICAgICBhbGlnbkNvbnRlbnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgYWxpZ25JdGVtczogdW5kZWZpbmVkLFxuICAgICAgICBmbGV4V3JhcDogdW5kZWZpbmVkLFxuICAgICAgICBmbGV4U2hyaW5rOiB1bmRlZmluZWQsXG4gICAgICAgIHBvc2l0aW9uVHlwZTogMCxcbiAgICAgICAgYWxpZ25TZWxmOiAwLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiAwLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogMCxcbiAgICAgICAgb3ZlcmZsb3c6IDAsXG4gICAgICAgIGRpc3BsYXk6IDAsXG4gICAgICAgIGZsZXhCYXNpc1VuaXQ6IDAsXG4gICAgICAgIGZsZXhCYXNpczogMCxcbiAgICAgICAgZmxleEdyb3c6IDAsXG4gICAgICAgIHdpZHRoVW5pdDogMCxcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGhlaWdodFVuaXQ6IDAsXG4gICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgbWluV2lkdGhVbml0OiAwLFxuICAgICAgICBtaW5XaWR0aDogMCxcbiAgICAgICAgbWluSGVpZ2h0VW5pdDogMCxcbiAgICAgICAgbWluSGVpZ2h0OiAwLFxuICAgICAgICBtYXhXaWR0aFVuaXQ6IDAsXG4gICAgICAgIG1heFdpZHRoOiAwLFxuICAgICAgICBtYXhIZWlnaHRVbml0OiAwLFxuICAgICAgICBtYXhIZWlnaHQ6IDAsXG4gICAgICAgIHBvc2l0aW9uTGVmdFVuaXQ6IDAsXG4gICAgICAgIHBvc2l0aW9uTGVmdDogMCxcbiAgICAgICAgcG9zaXRpb25Ub3BVbml0OiAwLFxuICAgICAgICBwb3NpdGlvblRvcDogMCxcbiAgICAgICAgcG9zaXRpb25SaWdodFVuaXQ6IDAsXG4gICAgICAgIHBvc2l0aW9uUmlnaHQ6IDAsXG4gICAgICAgIHBvc2l0aW9uQm90dG9tVW5pdDogMCxcbiAgICAgICAgcG9zaXRpb25Cb3R0b206IDAsXG4gICAgICAgIG1hcmdpbkxlZnRVbml0OiAwLFxuICAgICAgICBtYXJnaW5MZWZ0OiAwLFxuICAgICAgICBtYXJnaW5Ub3BVbml0OiAwLFxuICAgICAgICBtYXJnaW5Ub3A6IDAsXG4gICAgICAgIG1hcmdpblJpZ2h0VW5pdDogMCxcbiAgICAgICAgbWFyZ2luUmlnaHQ6IDAsXG4gICAgICAgIG1hcmdpbkJvdHRvbVVuaXQ6IDAsXG4gICAgICAgIG1hcmdpbkJvdHRvbTogMCxcbiAgICAgICAgcGFkZGluZ0xlZnRVbml0OiAwLFxuICAgICAgICBwYWRkaW5nTGVmdDogMCxcbiAgICAgICAgcGFkZGluZ1RvcFVuaXQ6IDAsXG4gICAgICAgIHBhZGRpbmdUb3A6IDAsXG4gICAgICAgIHBhZGRpbmdSaWdodFVuaXQ6IDAsXG4gICAgICAgIHBhZGRpbmdSaWdodDogMCxcbiAgICAgICAgcGFkZGluZ0JvdHRvbVVuaXQ6IDAsXG4gICAgICAgIHBhZGRpbmdCb3R0b206IDAsXG4gICAgICAgIHBvaW50ZXJGaWx0ZXI6IHVuZGVmaW5lZCxcbiAgICAgICAgYm9yZGVyTGVmdFdpZHRoVW5pdDogdW5kZWZpbmVkLFxuICAgICAgICBib3JkZXJMZWZ0V2lkdGg6IHVuZGVmaW5lZCxcbiAgICAgICAgYm9yZGVyVG9wV2lkdGhVbml0OiB1bmRlZmluZWQsXG4gICAgICAgIGJvcmRlclRvcFdpZHRoOiB1bmRlZmluZWQsXG4gICAgICAgIGJvcmRlclJpZ2h0V2lkdGhVbml0OiB1bmRlZmluZWQsXG4gICAgICAgIGJvcmRlclJpZ2h0V2lkdGg6IHVuZGVmaW5lZCxcbiAgICAgICAgYm9yZGVyQm90dG9tV2lkdGhVbml0OiB1bmRlZmluZWQsXG4gICAgICAgIGJvcmRlckJvdHRvbVdpZHRoOiB1bmRlZmluZWQsXG4gICAgICAgIGJvcmRlclRvcExlZnRSYWRpdXNVbml0OiB1bmRlZmluZWQsXG4gICAgICAgIGJvcmRlclRvcExlZnRSYWRpdXM6IHVuZGVmaW5lZCxcbiAgICAgICAgYm9yZGVyVG9wUmlnaHRSYWRpdXNVbml0OiB1bmRlZmluZWQsXG4gICAgICAgIGJvcmRlclRvcFJpZ2h0UmFkaXVzOiB1bmRlZmluZWQsXG4gICAgICAgIGJvcmRlckJvdHRvbUxlZnRSYWRpdXNVbml0OiB1bmRlZmluZWQsXG4gICAgICAgIGJvcmRlckJvdHRvbUxlZnRSYWRpdXM6IHVuZGVmaW5lZCxcbiAgICAgICAgYm9yZGVyQm90dG9tUmlnaHRSYWRpdXNVbml0OiB1bmRlZmluZWQsXG4gICAgICAgIGJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzOiB1bmRlZmluZWQsXG4gICAgICAgIGJvcmRlclRvcENvbG9yOiB1bmRlZmluZWQsXG4gICAgICAgIGJvcmRlckJvdHRvbUNvbG9yOiB1bmRlZmluZWQsXG4gICAgICAgIGJvcmRlckxlZnRDb2xvcjogdW5kZWZpbmVkLFxuICAgICAgICBib3JkZXJSaWdodENvbG9yOiB1bmRlZmluZWQsXG4gICAgICAgIG9wYWNpdHk6IHVuZGVmaW5lZCxcbiAgICAgICAgekluZGV4OiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVWlUcmFuc2Zvcm07XG4oZnVuY3Rpb24gKFBCVWlUcmFuc2Zvcm0pIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5wYXJlbnQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS5wYXJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnJpZ2h0T2YgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLmludDMyKG1lc3NhZ2UucmlnaHRPZik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYWxpZ25Db250ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmludDMyKG1lc3NhZ2UuYWxpZ25Db250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5hbGlnbkl0ZW1zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzIpLmludDMyKG1lc3NhZ2UuYWxpZ25JdGVtcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZmxleFdyYXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MCkuaW50MzIobWVzc2FnZS5mbGV4V3JhcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZmxleFNocmluayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDUzKS5mbG9hdChtZXNzYWdlLmZsZXhTaHJpbmspO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uVHlwZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig1NikuaW50MzIobWVzc2FnZS5wb3NpdGlvblR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmFsaWduU2VsZiAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig2NCkuaW50MzIobWVzc2FnZS5hbGlnblNlbGYpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZsZXhEaXJlY3Rpb24gIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNzIpLmludDMyKG1lc3NhZ2UuZmxleERpcmVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuanVzdGlmeUNvbnRlbnQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoODApLmludDMyKG1lc3NhZ2UuanVzdGlmeUNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm92ZXJmbG93ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDg4KS5pbnQzMihtZXNzYWdlLm92ZXJmbG93KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5kaXNwbGF5ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDk2KS5pbnQzMihtZXNzYWdlLmRpc3BsYXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZsZXhCYXNpc1VuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTA0KS5pbnQzMihtZXNzYWdlLmZsZXhCYXNpc1VuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZsZXhCYXNpcyAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMTcpLmZsb2F0KG1lc3NhZ2UuZmxleEJhc2lzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5mbGV4R3JvdyAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMjUpLmZsb2F0KG1lc3NhZ2UuZmxleEdyb3cpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLndpZHRoVW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMjgpLmludDMyKG1lc3NhZ2Uud2lkdGhVbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS53aWR0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNDEpLmZsb2F0KG1lc3NhZ2Uud2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmhlaWdodFVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTQ0KS5pbnQzMihtZXNzYWdlLmhlaWdodFVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmhlaWdodCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNTcpLmZsb2F0KG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5taW5XaWR0aFVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYwKS5pbnQzMihtZXNzYWdlLm1pbldpZHRoVW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWluV2lkdGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTczKS5mbG9hdChtZXNzYWdlLm1pbldpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5taW5IZWlnaHRVbml0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE3NikuaW50MzIobWVzc2FnZS5taW5IZWlnaHRVbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5taW5IZWlnaHQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTg5KS5mbG9hdChtZXNzYWdlLm1pbkhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWF4V2lkdGhVbml0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE5MikuaW50MzIobWVzc2FnZS5tYXhXaWR0aFVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1heFdpZHRoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIwNSkuZmxvYXQobWVzc2FnZS5tYXhXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWF4SGVpZ2h0VW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMDgpLmludDMyKG1lc3NhZ2UubWF4SGVpZ2h0VW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWF4SGVpZ2h0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIyMSkuZmxvYXQobWVzc2FnZS5tYXhIZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uTGVmdFVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjI0KS5pbnQzMihtZXNzYWdlLnBvc2l0aW9uTGVmdFVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uTGVmdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMzcpLmZsb2F0KG1lc3NhZ2UucG9zaXRpb25MZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wb3NpdGlvblRvcFVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQwKS5pbnQzMihtZXNzYWdlLnBvc2l0aW9uVG9wVW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucG9zaXRpb25Ub3AgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjUzKS5mbG9hdChtZXNzYWdlLnBvc2l0aW9uVG9wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wb3NpdGlvblJpZ2h0VW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNTYpLmludDMyKG1lc3NhZ2UucG9zaXRpb25SaWdodFVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uUmlnaHQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjY5KS5mbG9hdChtZXNzYWdlLnBvc2l0aW9uUmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uQm90dG9tVW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNzIpLmludDMyKG1lc3NhZ2UucG9zaXRpb25Cb3R0b21Vbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wb3NpdGlvbkJvdHRvbSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyODUpLmZsb2F0KG1lc3NhZ2UucG9zaXRpb25Cb3R0b20pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1hcmdpbkxlZnRVbml0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI4OCkuaW50MzIobWVzc2FnZS5tYXJnaW5MZWZ0VW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWFyZ2luTGVmdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMDEpLmZsb2F0KG1lc3NhZ2UubWFyZ2luTGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWFyZ2luVG9wVW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMDQpLmludDMyKG1lc3NhZ2UubWFyZ2luVG9wVW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWFyZ2luVG9wICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDMxNykuZmxvYXQobWVzc2FnZS5tYXJnaW5Ub3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1hcmdpblJpZ2h0VW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMjApLmludDMyKG1lc3NhZ2UubWFyZ2luUmlnaHRVbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5tYXJnaW5SaWdodCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMzMpLmZsb2F0KG1lc3NhZ2UubWFyZ2luUmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1hcmdpbkJvdHRvbVVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzM2KS5pbnQzMihtZXNzYWdlLm1hcmdpbkJvdHRvbVVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1hcmdpbkJvdHRvbSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNDkpLmZsb2F0KG1lc3NhZ2UubWFyZ2luQm90dG9tKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wYWRkaW5nTGVmdFVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzUyKS5pbnQzMihtZXNzYWdlLnBhZGRpbmdMZWZ0VW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGFkZGluZ0xlZnQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzY1KS5mbG9hdChtZXNzYWdlLnBhZGRpbmdMZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wYWRkaW5nVG9wVW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNjgpLmludDMyKG1lc3NhZ2UucGFkZGluZ1RvcFVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBhZGRpbmdUb3AgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzgxKS5mbG9hdChtZXNzYWdlLnBhZGRpbmdUb3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBhZGRpbmdSaWdodFVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzg0KS5pbnQzMihtZXNzYWdlLnBhZGRpbmdSaWdodFVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBhZGRpbmdSaWdodCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzOTcpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ1JpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wYWRkaW5nQm90dG9tVW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MDApLmludDMyKG1lc3NhZ2UucGFkZGluZ0JvdHRvbVVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBhZGRpbmdCb3R0b20gIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDEzKS5mbG9hdChtZXNzYWdlLnBhZGRpbmdCb3R0b20pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBvaW50ZXJGaWx0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MTYpLmludDMyKG1lc3NhZ2UucG9pbnRlckZpbHRlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYm9yZGVyTGVmdFdpZHRoVW5pdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQyNCkuaW50MzIobWVzc2FnZS5ib3JkZXJMZWZ0V2lkdGhVbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5ib3JkZXJMZWZ0V2lkdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MzcpLmZsb2F0KG1lc3NhZ2UuYm9yZGVyTGVmdFdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5ib3JkZXJUb3BXaWR0aFVuaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0NDApLmludDMyKG1lc3NhZ2UuYm9yZGVyVG9wV2lkdGhVbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5ib3JkZXJUb3BXaWR0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQ1MykuZmxvYXQobWVzc2FnZS5ib3JkZXJUb3BXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYm9yZGVyUmlnaHRXaWR0aFVuaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0NTYpLmludDMyKG1lc3NhZ2UuYm9yZGVyUmlnaHRXaWR0aFVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmJvcmRlclJpZ2h0V2lkdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0NjkpLmZsb2F0KG1lc3NhZ2UuYm9yZGVyUmlnaHRXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYm9yZGVyQm90dG9tV2lkdGhVbml0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDcyKS5pbnQzMihtZXNzYWdlLmJvcmRlckJvdHRvbVdpZHRoVW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYm9yZGVyQm90dG9tV2lkdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0ODUpLmZsb2F0KG1lc3NhZ2UuYm9yZGVyQm90dG9tV2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmJvcmRlclRvcExlZnRSYWRpdXNVbml0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDg4KS5pbnQzMihtZXNzYWdlLmJvcmRlclRvcExlZnRSYWRpdXNVbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5ib3JkZXJUb3BMZWZ0UmFkaXVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNTAxKS5mbG9hdChtZXNzYWdlLmJvcmRlclRvcExlZnRSYWRpdXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmJvcmRlclRvcFJpZ2h0UmFkaXVzVW5pdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDUwNCkuaW50MzIobWVzc2FnZS5ib3JkZXJUb3BSaWdodFJhZGl1c1VuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmJvcmRlclRvcFJpZ2h0UmFkaXVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNTE3KS5mbG9hdChtZXNzYWdlLmJvcmRlclRvcFJpZ2h0UmFkaXVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5ib3JkZXJCb3R0b21MZWZ0UmFkaXVzVW5pdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDUyMCkuaW50MzIobWVzc2FnZS5ib3JkZXJCb3R0b21MZWZ0UmFkaXVzVW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYm9yZGVyQm90dG9tTGVmdFJhZGl1cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDUzMykuZmxvYXQobWVzc2FnZS5ib3JkZXJCb3R0b21MZWZ0UmFkaXVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5ib3JkZXJCb3R0b21SaWdodFJhZGl1c1VuaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig1MzYpLmludDMyKG1lc3NhZ2UuYm9yZGVyQm90dG9tUmlnaHRSYWRpdXNVbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5ib3JkZXJCb3R0b21SaWdodFJhZGl1cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDU0OSkuZmxvYXQobWVzc2FnZS5ib3JkZXJCb3R0b21SaWdodFJhZGl1cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYm9yZGVyVG9wQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3I0LmVuY29kZShtZXNzYWdlLmJvcmRlclRvcENvbG9yLCB3cml0ZXIudWludDMyKDU1NCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5ib3JkZXJCb3R0b21Db2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb2xvcjQuZW5jb2RlKG1lc3NhZ2UuYm9yZGVyQm90dG9tQ29sb3IsIHdyaXRlci51aW50MzIoNTYyKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmJvcmRlckxlZnRDb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb2xvcjQuZW5jb2RlKG1lc3NhZ2UuYm9yZGVyTGVmdENvbG9yLCB3cml0ZXIudWludDMyKDU3MCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5ib3JkZXJSaWdodENvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yNC5lbmNvZGUobWVzc2FnZS5ib3JkZXJSaWdodENvbG9yLCB3cml0ZXIudWludDMyKDU3OCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5vcGFjaXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNTg5KS5mbG9hdChtZXNzYWdlLm9wYWNpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnpJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDYxNikuaW50MzIobWVzc2FnZS56SW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCVWlUcmFuc2Zvcm0uZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlVpVHJhbnNmb3JtKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wYXJlbnQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yaWdodE9mID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWxpZ25Db250ZW50ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWxpZ25JdGVtcyA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZsZXhXcmFwID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZmxleFNocmluayA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDU2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBvc2l0aW9uVHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDY0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFsaWduU2VsZiA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDcyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZsZXhEaXJlY3Rpb24gPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gODApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuanVzdGlmeUNvbnRlbnQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gODgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uub3ZlcmZsb3cgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGlzcGxheSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZmxleEJhc2lzVW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMTcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZmxleEJhc2lzID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEyNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mbGV4R3JvdyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMjgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uud2lkdGhVbml0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE0MSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS53aWR0aCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaGVpZ2h0VW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNTcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaGVpZ2h0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5taW5XaWR0aFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTczKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1pbldpZHRoID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE3Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5taW5IZWlnaHRVbml0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4OSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5taW5IZWlnaHQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTkyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1heFdpZHRoVW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMDUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWF4V2lkdGggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1heEhlaWdodFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1heEhlaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI4OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucG9zaXRpb25MZWZ0VW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI5OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMzcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucG9zaXRpb25MZWZ0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wb3NpdGlvblRvcFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjUzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBvc2l0aW9uVG9wID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wb3NpdGlvblJpZ2h0VW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDMzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucG9zaXRpb25SaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucG9zaXRpb25Cb3R0b21Vbml0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI4NSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wb3NpdGlvbkJvdHRvbSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyODgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWFyZ2luTGVmdFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzNzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1hcmdpbkxlZnQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzA0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1hcmdpblRvcFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzE3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1hcmdpblRvcCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzMjApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWFyZ2luUmlnaHRVbml0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDMzMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tYXJnaW5SaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzMzYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWFyZ2luQm90dG9tVW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWFyZ2luQm90dG9tID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM1Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wYWRkaW5nTGVmdFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0NTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzY1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdMZWZ0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM2OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wYWRkaW5nVG9wVW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ3OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzODEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ1RvcCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ4OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzODQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ1JpZ2h0VW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ5OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzOTcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ1JpZ2h0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wYWRkaW5nQm90dG9tVW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDUxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0MTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ0JvdHRvbSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDUyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0MTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucG9pbnRlckZpbHRlciA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDUzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0MjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYm9yZGVyTGVmdFdpZHRoVW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0MzcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYm9yZGVyTGVmdFdpZHRoID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQ0MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ib3JkZXJUb3BXaWR0aFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1NjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDUzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJvcmRlclRvcFdpZHRoID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQ1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ib3JkZXJSaWdodFdpZHRoVW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU4OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0NjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYm9yZGVyUmlnaHRXaWR0aCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU5OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0NzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYm9yZGVyQm90dG9tV2lkdGhVbml0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQ4NSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ib3JkZXJCb3R0b21XaWR0aCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDYxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0ODgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYm9yZGVyVG9wTGVmdFJhZGl1c1VuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA2MjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJvcmRlclRvcExlZnRSYWRpdXMgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA2MzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTA0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJvcmRlclRvcFJpZ2h0UmFkaXVzVW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDY0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1MTcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYm9yZGVyVG9wUmlnaHRSYWRpdXMgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA2NTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTIwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJvcmRlckJvdHRvbUxlZnRSYWRpdXNVbml0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDUzMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ib3JkZXJCb3R0b21MZWZ0UmFkaXVzID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDUzNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ib3JkZXJCb3R0b21SaWdodFJhZGl1c1VuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA2ODpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTQ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjk6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDU1NCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ib3JkZXJUb3BDb2xvciA9IENvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDcwOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1NjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYm9yZGVyQm90dG9tQ29sb3IgPSBDb2xvcjQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3MTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTcwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJvcmRlckxlZnRDb2xvciA9IENvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDcyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1NzgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYm9yZGVyUmlnaHRDb2xvciA9IENvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDczOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1ODkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uub3BhY2l0eSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc3OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA2MTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuekluZGV4ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJVaVRyYW5zZm9ybS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlVpVHJhbnNmb3JtIHx8IChQQlVpVHJhbnNmb3JtID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlVpVHJhbnNmb3JtIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfdHJhbnNmb3JtLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVWlUcmFuc2Zvcm1TY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDUwLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlVpVHJhbnNmb3JtLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVWlUcmFuc2Zvcm0uZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVWlUcmFuc2Zvcm0uZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCVWlUcmFuc2Zvcm1cIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFZpZGVvU3RhdGU7XG4oZnVuY3Rpb24gKFZpZGVvU3RhdGUpIHtcbiAgICBWaWRlb1N0YXRlW1ZpZGVvU3RhdGVbXCJWU19OT05FXCJdID0gMF0gPSBcIlZTX05PTkVcIjtcbiAgICBWaWRlb1N0YXRlW1ZpZGVvU3RhdGVbXCJWU19FUlJPUlwiXSA9IDFdID0gXCJWU19FUlJPUlwiO1xuICAgIFZpZGVvU3RhdGVbVmlkZW9TdGF0ZVtcIlZTX0xPQURJTkdcIl0gPSAyXSA9IFwiVlNfTE9BRElOR1wiO1xuICAgIFZpZGVvU3RhdGVbVmlkZW9TdGF0ZVtcIlZTX1JFQURZXCJdID0gM10gPSBcIlZTX1JFQURZXCI7XG4gICAgVmlkZW9TdGF0ZVtWaWRlb1N0YXRlW1wiVlNfUExBWUlOR1wiXSA9IDRdID0gXCJWU19QTEFZSU5HXCI7XG4gICAgVmlkZW9TdGF0ZVtWaWRlb1N0YXRlW1wiVlNfQlVGRkVSSU5HXCJdID0gNV0gPSBcIlZTX0JVRkZFUklOR1wiO1xuICAgIFZpZGVvU3RhdGVbVmlkZW9TdGF0ZVtcIlZTX1NFRUtJTkdcIl0gPSA2XSA9IFwiVlNfU0VFS0lOR1wiO1xuICAgIFZpZGVvU3RhdGVbVmlkZW9TdGF0ZVtcIlZTX1BBVVNFRFwiXSA9IDddID0gXCJWU19QQVVTRURcIjtcbn0pKFZpZGVvU3RhdGUgfHwgKFZpZGVvU3RhdGUgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVmlkZW9FdmVudCgpIHtcbiAgICByZXR1cm4geyB0aW1lc3RhbXA6IDAsIHRpY2tOdW1iZXI6IDAsIGN1cnJlbnRPZmZzZXQ6IDAsIHZpZGVvTGVuZ3RoOiAwLCBzdGF0ZTogMCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJWaWRlb0V2ZW50O1xuKGZ1bmN0aW9uIChQQlZpZGVvRXZlbnQpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS50aW1lc3RhbXAgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkudWludDMyKG1lc3NhZ2UudGltZXN0YW1wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50aWNrTnVtYmVyICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS51aW50MzIobWVzc2FnZS50aWNrTnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5jdXJyZW50T2Zmc2V0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLmN1cnJlbnRPZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnZpZGVvTGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDM3KS5mbG9hdChtZXNzYWdlLnZpZGVvTGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zdGF0ZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MCkuaW50MzIobWVzc2FnZS5zdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJWaWRlb0V2ZW50LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJWaWRlb0V2ZW50KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50aW1lc3RhbXAgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGlja051bWJlciA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jdXJyZW50T2Zmc2V0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmlkZW9MZW5ndGggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGF0ZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCVmlkZW9FdmVudC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlZpZGVvRXZlbnQgfHwgKFBCVmlkZW9FdmVudCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJWaWRlb0V2ZW50IH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdmlkZW9fZXZlbnQuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBWaWRlb0V2ZW50U2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA0NCxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJWaWRlb0V2ZW50LmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVmlkZW9FdmVudC5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJWaWRlb0V2ZW50LmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlZpZGVvRXZlbnRcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlZpZGVvUGxheWVyKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHNyYzogXCJcIixcbiAgICAgICAgcGxheWluZzogdW5kZWZpbmVkLFxuICAgICAgICBwb3NpdGlvbjogdW5kZWZpbmVkLFxuICAgICAgICB2b2x1bWU6IHVuZGVmaW5lZCxcbiAgICAgICAgcGxheWJhY2tSYXRlOiB1bmRlZmluZWQsXG4gICAgICAgIGxvb3A6IHVuZGVmaW5lZCxcbiAgICAgICAgc3BhdGlhbDogdW5kZWZpbmVkLFxuICAgICAgICBzcGF0aWFsTWluRGlzdGFuY2U6IHVuZGVmaW5lZCxcbiAgICAgICAgc3BhdGlhbE1heERpc3RhbmNlOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVmlkZW9QbGF5ZXI7XG4oZnVuY3Rpb24gKFBCVmlkZW9QbGF5ZXIpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5zcmMgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnNyYyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGxheWluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5ib29sKG1lc3NhZ2UucGxheWluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucG9zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyOSkuZmxvYXQobWVzc2FnZS5wb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uudm9sdW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzcpLmZsb2F0KG1lc3NhZ2Uudm9sdW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wbGF5YmFja1JhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0NSkuZmxvYXQobWVzc2FnZS5wbGF5YmFja1JhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmxvb3AgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0OCkuYm9vbChtZXNzYWdlLmxvb3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnNwYXRpYWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig1NikuYm9vbChtZXNzYWdlLnNwYXRpYWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnNwYXRpYWxNaW5EaXN0YW5jZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDY5KS5mbG9hdChtZXNzYWdlLnNwYXRpYWxNaW5EaXN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3BhdGlhbE1heERpc3RhbmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNzcpLmZsb2F0KG1lc3NhZ2Uuc3BhdGlhbE1heERpc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlZpZGVvUGxheWVyLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJWaWRlb1BsYXllcigpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNyYyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wbGF5aW5nID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wb3NpdGlvbiA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZvbHVtZSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQ1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBsYXliYWNrUmF0ZSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQ4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxvb3AgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDU2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNwYXRpYWwgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDY5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNwYXRpYWxNaW5EaXN0YW5jZSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDc3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNwYXRpYWxNYXhEaXN0YW5jZSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCVmlkZW9QbGF5ZXIuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJWaWRlb1BsYXllciB8fCAoUEJWaWRlb1BsYXllciA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJWaWRlb1BsYXllciB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3ZpZGVvX3BsYXllci5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvUGxheWVyU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA0MyxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJWaWRlb1BsYXllci5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlZpZGVvUGxheWVyLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlZpZGVvUGxheWVyLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlZpZGVvUGxheWVyXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IENhbWVyYVRyYW5zaXRpb24gfSBmcm9tIFwiLi9jb21tb24vY2FtZXJhX3RyYW5zaXRpb24uZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVmlydHVhbENhbWVyYSgpIHtcbiAgICByZXR1cm4geyBkZWZhdWx0VHJhbnNpdGlvbjogdW5kZWZpbmVkLCBsb29rQXRFbnRpdHk6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJWaXJ0dWFsQ2FtZXJhO1xuKGZ1bmN0aW9uIChQQlZpcnR1YWxDYW1lcmEpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5kZWZhdWx0VHJhbnNpdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDYW1lcmFUcmFuc2l0aW9uLmVuY29kZShtZXNzYWdlLmRlZmF1bHRUcmFuc2l0aW9uLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmxvb2tBdEVudGl0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS51aW50MzIobWVzc2FnZS5sb29rQXRFbnRpdHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCVmlydHVhbENhbWVyYS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVmlydHVhbENhbWVyYSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRlZmF1bHRUcmFuc2l0aW9uID0gQ2FtZXJhVHJhbnNpdGlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxvb2tBdEVudGl0eSA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlZpcnR1YWxDYW1lcmEuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJWaXJ0dWFsQ2FtZXJhIHx8IChQQlZpcnR1YWxDYW1lcmEgPSB7fSkpO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzLmNvbW1vblwiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZUNhbWVyYVRyYW5zaXRpb24oKSB7XG4gICAgcmV0dXJuIHsgdHJhbnNpdGlvbk1vZGU6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQ2FtZXJhVHJhbnNpdGlvbjtcbihmdW5jdGlvbiAoQ2FtZXJhVHJhbnNpdGlvbikge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS50cmFuc2l0aW9uTW9kZT8uJGNhc2UpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ0aW1lXCI6XG4gICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS50cmFuc2l0aW9uTW9kZS50aW1lKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzcGVlZFwiOlxuICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjEpLmZsb2F0KG1lc3NhZ2UudHJhbnNpdGlvbk1vZGUuc3BlZWQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIENhbWVyYVRyYW5zaXRpb24uZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VDYW1lcmFUcmFuc2l0aW9uKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudHJhbnNpdGlvbk1vZGUgPSB7ICRjYXNlOiBcInRpbWVcIiwgdGltZTogcmVhZGVyLmZsb2F0KCkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50cmFuc2l0aW9uTW9kZSA9IHsgJGNhc2U6IFwic3BlZWRcIiwgc3BlZWQ6IHJlYWRlci5mbG9hdCgpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgQ2FtZXJhVHJhbnNpdGlvbi5kZWNvZGUgPSBkZWNvZGU7XG59KShDYW1lcmFUcmFuc2l0aW9uIHx8IChDYW1lcmFUcmFuc2l0aW9uID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlZpcnR1YWxDYW1lcmEgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy92aXJ0dWFsX2NhbWVyYS5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFZpcnR1YWxDYW1lcmFTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDc2LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlZpcnR1YWxDYW1lcmEuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJWaXJ0dWFsQ2FtZXJhLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlZpcnR1YWxDYW1lcmEuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCVmlydHVhbENhbWVyYVwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVmlzaWJpbGl0eUNvbXBvbmVudCgpIHtcbiAgICByZXR1cm4geyB2aXNpYmxlOiB1bmRlZmluZWQsIHByb3BhZ2F0ZVRvQ2hpbGRyZW46IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJWaXNpYmlsaXR5Q29tcG9uZW50O1xuKGZ1bmN0aW9uIChQQlZpc2liaWxpdHlDb21wb25lbnQpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS52aXNpYmxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuYm9vbChtZXNzYWdlLnZpc2libGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnByb3BhZ2F0ZVRvQ2hpbGRyZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikuYm9vbChtZXNzYWdlLnByb3BhZ2F0ZVRvQ2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCVmlzaWJpbGl0eUNvbXBvbmVudC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVmlzaWJpbGl0eUNvbXBvbmVudCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmlzaWJsZSA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucHJvcGFnYXRlVG9DaGlsZHJlbiA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJWaXNpYmlsaXR5Q29tcG9uZW50LmRlY29kZSA9IGRlY29kZTtcbn0pKFBCVmlzaWJpbGl0eUNvbXBvbmVudCB8fCAoUEJWaXNpYmlsaXR5Q29tcG9uZW50ID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlZpc2liaWxpdHlDb21wb25lbnQgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy92aXNpYmlsaXR5X2NvbXBvbmVudC5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFZpc2liaWxpdHlDb21wb25lbnRTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDgxLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlZpc2liaWxpdHlDb21wb25lbnQuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJWaXNpYmlsaXR5Q29tcG9uZW50LmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlZpc2liaWxpdHlDb21wb25lbnQuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCVmlzaWJpbGl0eUNvbXBvbmVudFwiXG4gICAgfVxufTtcbiIsICJpbXBvcnQgeyBBbmltYXRvclNjaGVtYSB9IGZyb20gJy4vQW5pbWF0b3IuZ2VuJztcbmltcG9ydCB7IEF1ZGlvRXZlbnRTY2hlbWEgfSBmcm9tICcuL0F1ZGlvRXZlbnQuZ2VuJztcbmltcG9ydCB7IEF1ZGlvU291cmNlU2NoZW1hIH0gZnJvbSAnLi9BdWRpb1NvdXJjZS5nZW4nO1xuaW1wb3J0IHsgQXVkaW9TdHJlYW1TY2hlbWEgfSBmcm9tICcuL0F1ZGlvU3RyZWFtLmdlbic7XG5pbXBvcnQgeyBBdmF0YXJBdHRhY2hTY2hlbWEgfSBmcm9tICcuL0F2YXRhckF0dGFjaC5nZW4nO1xuaW1wb3J0IHsgQXZhdGFyQmFzZVNjaGVtYSB9IGZyb20gJy4vQXZhdGFyQmFzZS5nZW4nO1xuaW1wb3J0IHsgQXZhdGFyRW1vdGVDb21tYW5kU2NoZW1hIH0gZnJvbSAnLi9BdmF0YXJFbW90ZUNvbW1hbmQuZ2VuJztcbmltcG9ydCB7IEF2YXRhckVxdWlwcGVkRGF0YVNjaGVtYSB9IGZyb20gJy4vQXZhdGFyRXF1aXBwZWREYXRhLmdlbic7XG5pbXBvcnQgeyBBdmF0YXJNb2RpZmllckFyZWFTY2hlbWEgfSBmcm9tICcuL0F2YXRhck1vZGlmaWVyQXJlYS5nZW4nO1xuaW1wb3J0IHsgQXZhdGFyU2hhcGVTY2hlbWEgfSBmcm9tICcuL0F2YXRhclNoYXBlLmdlbic7XG5pbXBvcnQgeyBCaWxsYm9hcmRTY2hlbWEgfSBmcm9tICcuL0JpbGxib2FyZC5nZW4nO1xuaW1wb3J0IHsgQ2FtZXJhTW9kZVNjaGVtYSB9IGZyb20gJy4vQ2FtZXJhTW9kZS5nZW4nO1xuaW1wb3J0IHsgQ2FtZXJhTW9kZUFyZWFTY2hlbWEgfSBmcm9tICcuL0NhbWVyYU1vZGVBcmVhLmdlbic7XG5pbXBvcnQgeyBFbmdpbmVJbmZvU2NoZW1hIH0gZnJvbSAnLi9FbmdpbmVJbmZvLmdlbic7XG5pbXBvcnQgeyBHbHRmQ29udGFpbmVyU2NoZW1hIH0gZnJvbSAnLi9HbHRmQ29udGFpbmVyLmdlbic7XG5pbXBvcnQgeyBHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlU2NoZW1hIH0gZnJvbSAnLi9HbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlLmdlbic7XG5pbXBvcnQgeyBHbHRmTm9kZU1vZGlmaWVyc1NjaGVtYSB9IGZyb20gJy4vR2x0Zk5vZGVNb2RpZmllcnMuZ2VuJztcbmltcG9ydCB7IElucHV0TW9kaWZpZXJTY2hlbWEgfSBmcm9tICcuL0lucHV0TW9kaWZpZXIuZ2VuJztcbmltcG9ydCB7IExpZ2h0U291cmNlU2NoZW1hIH0gZnJvbSAnLi9MaWdodFNvdXJjZS5nZW4nO1xuaW1wb3J0IHsgTWFpbkNhbWVyYVNjaGVtYSB9IGZyb20gJy4vTWFpbkNhbWVyYS5nZW4nO1xuaW1wb3J0IHsgTWF0ZXJpYWxTY2hlbWEgfSBmcm9tICcuL01hdGVyaWFsLmdlbic7XG5pbXBvcnQgeyBNZXNoQ29sbGlkZXJTY2hlbWEgfSBmcm9tICcuL01lc2hDb2xsaWRlci5nZW4nO1xuaW1wb3J0IHsgTWVzaFJlbmRlcmVyU2NoZW1hIH0gZnJvbSAnLi9NZXNoUmVuZGVyZXIuZ2VuJztcbmltcG9ydCB7IE5mdFNoYXBlU2NoZW1hIH0gZnJvbSAnLi9OZnRTaGFwZS5nZW4nO1xuaW1wb3J0IHsgUGxheWVySWRlbnRpdHlEYXRhU2NoZW1hIH0gZnJvbSAnLi9QbGF5ZXJJZGVudGl0eURhdGEuZ2VuJztcbmltcG9ydCB7IFBvaW50ZXJFdmVudHNTY2hlbWEgfSBmcm9tICcuL1BvaW50ZXJFdmVudHMuZ2VuJztcbmltcG9ydCB7IFBvaW50ZXJFdmVudHNSZXN1bHRTY2hlbWEgfSBmcm9tICcuL1BvaW50ZXJFdmVudHNSZXN1bHQuZ2VuJztcbmltcG9ydCB7IFBvaW50ZXJMb2NrU2NoZW1hIH0gZnJvbSAnLi9Qb2ludGVyTG9jay5nZW4nO1xuaW1wb3J0IHsgUHJpbWFyeVBvaW50ZXJJbmZvU2NoZW1hIH0gZnJvbSAnLi9QcmltYXJ5UG9pbnRlckluZm8uZ2VuJztcbmltcG9ydCB7IFJheWNhc3RTY2hlbWEgfSBmcm9tICcuL1JheWNhc3QuZ2VuJztcbmltcG9ydCB7IFJheWNhc3RSZXN1bHRTY2hlbWEgfSBmcm9tICcuL1JheWNhc3RSZXN1bHQuZ2VuJztcbmltcG9ydCB7IFJlYWxtSW5mb1NjaGVtYSB9IGZyb20gJy4vUmVhbG1JbmZvLmdlbic7XG5pbXBvcnQgeyBTa3lib3hUaW1lU2NoZW1hIH0gZnJvbSAnLi9Ta3lib3hUaW1lLmdlbic7XG5pbXBvcnQgeyBUZXh0U2hhcGVTY2hlbWEgfSBmcm9tICcuL1RleHRTaGFwZS5nZW4nO1xuaW1wb3J0IHsgVHJpZ2dlckFyZWFTY2hlbWEgfSBmcm9tICcuL1RyaWdnZXJBcmVhLmdlbic7XG5pbXBvcnQgeyBUcmlnZ2VyQXJlYVJlc3VsdFNjaGVtYSB9IGZyb20gJy4vVHJpZ2dlckFyZWFSZXN1bHQuZ2VuJztcbmltcG9ydCB7IFR3ZWVuU2NoZW1hIH0gZnJvbSAnLi9Ud2Vlbi5nZW4nO1xuaW1wb3J0IHsgVHdlZW5TZXF1ZW5jZVNjaGVtYSB9IGZyb20gJy4vVHdlZW5TZXF1ZW5jZS5nZW4nO1xuaW1wb3J0IHsgVHdlZW5TdGF0ZVNjaGVtYSB9IGZyb20gJy4vVHdlZW5TdGF0ZS5nZW4nO1xuaW1wb3J0IHsgVWlCYWNrZ3JvdW5kU2NoZW1hIH0gZnJvbSAnLi9VaUJhY2tncm91bmQuZ2VuJztcbmltcG9ydCB7IFVpQ2FudmFzSW5mb3JtYXRpb25TY2hlbWEgfSBmcm9tICcuL1VpQ2FudmFzSW5mb3JtYXRpb24uZ2VuJztcbmltcG9ydCB7IFVpRHJvcGRvd25TY2hlbWEgfSBmcm9tICcuL1VpRHJvcGRvd24uZ2VuJztcbmltcG9ydCB7IFVpRHJvcGRvd25SZXN1bHRTY2hlbWEgfSBmcm9tICcuL1VpRHJvcGRvd25SZXN1bHQuZ2VuJztcbmltcG9ydCB7IFVpSW5wdXRTY2hlbWEgfSBmcm9tICcuL1VpSW5wdXQuZ2VuJztcbmltcG9ydCB7IFVpSW5wdXRSZXN1bHRTY2hlbWEgfSBmcm9tICcuL1VpSW5wdXRSZXN1bHQuZ2VuJztcbmltcG9ydCB7IFVpVGV4dFNjaGVtYSB9IGZyb20gJy4vVWlUZXh0Lmdlbic7XG5pbXBvcnQgeyBVaVRyYW5zZm9ybVNjaGVtYSB9IGZyb20gJy4vVWlUcmFuc2Zvcm0uZ2VuJztcbmltcG9ydCB7IFZpZGVvRXZlbnRTY2hlbWEgfSBmcm9tICcuL1ZpZGVvRXZlbnQuZ2VuJztcbmltcG9ydCB7IFZpZGVvUGxheWVyU2NoZW1hIH0gZnJvbSAnLi9WaWRlb1BsYXllci5nZW4nO1xuaW1wb3J0IHsgVmlydHVhbENhbWVyYVNjaGVtYSB9IGZyb20gJy4vVmlydHVhbENhbWVyYS5nZW4nO1xuaW1wb3J0IHsgVmlzaWJpbGl0eUNvbXBvbmVudFNjaGVtYSB9IGZyb20gJy4vVmlzaWJpbGl0eUNvbXBvbmVudC5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYW5pbWF0b3IuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F1ZGlvX2V2ZW50Lmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdWRpb19zb3VyY2UuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F1ZGlvX3N0cmVhbS5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXZhdGFyX2F0dGFjaC5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXZhdGFyX2Jhc2UuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F2YXRhcl9lbW90ZV9jb21tYW5kLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdmF0YXJfZXF1aXBwZWRfZGF0YS5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXZhdGFyX21vZGlmaWVyX2FyZWEuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F2YXRhcl9zaGFwZS5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYmlsbGJvYXJkLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9jYW1lcmFfbW9kZS5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvY2FtZXJhX21vZGVfYXJlYS5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvZW5naW5lX2luZm8uZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2dsdGZfY29udGFpbmVyLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9nbHRmX2NvbnRhaW5lcl9sb2FkaW5nX3N0YXRlLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9nbHRmX25vZGVfbW9kaWZpZXJzLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9pbnB1dF9tb2RpZmllci5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvbGlnaHRfc291cmNlLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9tYWluX2NhbWVyYS5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvbWF0ZXJpYWwuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL21lc2hfY29sbGlkZXIuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL21lc2hfcmVuZGVyZXIuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL25mdF9zaGFwZS5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcGxheWVyX2lkZW50aXR5X2RhdGEuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3BvaW50ZXJfZXZlbnRzLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9wb2ludGVyX2V2ZW50c19yZXN1bHQuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3BvaW50ZXJfbG9jay5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcHJpbWFyeV9wb2ludGVyX2luZm8uZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3JheWNhc3QuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3JheWNhc3RfcmVzdWx0Lmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9yZWFsbV9pbmZvLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9za3lib3hfdGltZS5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdGV4dF9zaGFwZS5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdHJpZ2dlcl9hcmVhLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy90cmlnZ2VyX2FyZWFfcmVzdWx0Lmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy90d2Vlbi5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdHdlZW5fc2VxdWVuY2UuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3R3ZWVuX3N0YXRlLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9iYWNrZ3JvdW5kLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9jYW52YXNfaW5mb3JtYXRpb24uZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX2Ryb3Bkb3duLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9kcm9wZG93bl9yZXN1bHQuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX2lucHV0Lmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9pbnB1dF9yZXN1bHQuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX3RleHQuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX3RyYW5zZm9ybS5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdmlkZW9fZXZlbnQuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3ZpZGVvX3BsYXllci5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdmlydHVhbF9jYW1lcmEuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3Zpc2liaWxpdHlfY29tcG9uZW50Lmdlbic7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQW5pbWF0b3IgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpBbmltYXRvclwiLCBBbmltYXRvclNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQXVkaW9FdmVudCA9IChlbmdpbmUpID0+IC8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lVmFsdWVTZXRDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6QXVkaW9FdmVudFwiLCBBdWRpb0V2ZW50U2NoZW1hLCB7XG4gICAgdGltZXN0YW1wRnVuY3Rpb246ICh0KSA9PiB0LnRpbWVzdGFtcCxcbiAgICBtYXhFbGVtZW50czogMTAwXG59KTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBBdWRpb1NvdXJjZSA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OkF1ZGlvU291cmNlXCIsIEF1ZGlvU291cmNlU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBBdWRpb1N0cmVhbSA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OkF1ZGlvU3RyZWFtXCIsIEF1ZGlvU3RyZWFtU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBBdmF0YXJBdHRhY2ggPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpBdmF0YXJBdHRhY2hcIiwgQXZhdGFyQXR0YWNoU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBBdmF0YXJCYXNlID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6QXZhdGFyQmFzZVwiLCBBdmF0YXJCYXNlU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBBdmF0YXJFbW90ZUNvbW1hbmQgPSAoZW5naW5lKSA9PiAvKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZVZhbHVlU2V0Q29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OkF2YXRhckVtb3RlQ29tbWFuZFwiLCBBdmF0YXJFbW90ZUNvbW1hbmRTY2hlbWEsIHtcbiAgICB0aW1lc3RhbXBGdW5jdGlvbjogKHQpID0+IHQudGltZXN0YW1wLFxuICAgIG1heEVsZW1lbnRzOiAxMDBcbn0pO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEF2YXRhckVxdWlwcGVkRGF0YSA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OkF2YXRhckVxdWlwcGVkRGF0YVwiLCBBdmF0YXJFcXVpcHBlZERhdGFTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEF2YXRhck1vZGlmaWVyQXJlYSA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OkF2YXRhck1vZGlmaWVyQXJlYVwiLCBBdmF0YXJNb2RpZmllckFyZWFTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEF2YXRhclNoYXBlID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6QXZhdGFyU2hhcGVcIiwgQXZhdGFyU2hhcGVTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEJpbGxib2FyZCA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OkJpbGxib2FyZFwiLCBCaWxsYm9hcmRTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IENhbWVyYU1vZGUgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpDYW1lcmFNb2RlXCIsIENhbWVyYU1vZGVTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IENhbWVyYU1vZGVBcmVhID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6Q2FtZXJhTW9kZUFyZWFcIiwgQ2FtZXJhTW9kZUFyZWFTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEVuZ2luZUluZm8gPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpFbmdpbmVJbmZvXCIsIEVuZ2luZUluZm9TY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEdsdGZDb250YWluZXIgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpHbHRmQ29udGFpbmVyXCIsIEdsdGZDb250YWluZXJTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEdsdGZDb250YWluZXJMb2FkaW5nU3RhdGUgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlXCIsIEdsdGZDb250YWluZXJMb2FkaW5nU3RhdGVTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEdsdGZOb2RlTW9kaWZpZXJzID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6R2x0Zk5vZGVNb2RpZmllcnNcIiwgR2x0Zk5vZGVNb2RpZmllcnNTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IElucHV0TW9kaWZpZXIgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpJbnB1dE1vZGlmaWVyXCIsIElucHV0TW9kaWZpZXJTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IExpZ2h0U291cmNlID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6TGlnaHRTb3VyY2VcIiwgTGlnaHRTb3VyY2VTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IE1haW5DYW1lcmEgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpNYWluQ2FtZXJhXCIsIE1haW5DYW1lcmFTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IE1hdGVyaWFsID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6TWF0ZXJpYWxcIiwgTWF0ZXJpYWxTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IE1lc2hDb2xsaWRlciA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6Ok1lc2hDb2xsaWRlclwiLCBNZXNoQ29sbGlkZXJTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IE1lc2hSZW5kZXJlciA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6Ok1lc2hSZW5kZXJlclwiLCBNZXNoUmVuZGVyZXJTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IE5mdFNoYXBlID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6TmZ0U2hhcGVcIiwgTmZ0U2hhcGVTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFBsYXllcklkZW50aXR5RGF0YSA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OlBsYXllcklkZW50aXR5RGF0YVwiLCBQbGF5ZXJJZGVudGl0eURhdGFTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFBvaW50ZXJFdmVudHMgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpQb2ludGVyRXZlbnRzXCIsIFBvaW50ZXJFdmVudHNTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFBvaW50ZXJFdmVudHNSZXN1bHQgPSAoZW5naW5lKSA9PiAvKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZVZhbHVlU2V0Q29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OlBvaW50ZXJFdmVudHNSZXN1bHRcIiwgUG9pbnRlckV2ZW50c1Jlc3VsdFNjaGVtYSwge1xuICAgIHRpbWVzdGFtcEZ1bmN0aW9uOiAodCkgPT4gdC50aW1lc3RhbXAsXG4gICAgbWF4RWxlbWVudHM6IDEwMFxufSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgUG9pbnRlckxvY2sgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpQb2ludGVyTG9ja1wiLCBQb2ludGVyTG9ja1NjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgUHJpbWFyeVBvaW50ZXJJbmZvID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6UHJpbWFyeVBvaW50ZXJJbmZvXCIsIFByaW1hcnlQb2ludGVySW5mb1NjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgUmF5Y2FzdCA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OlJheWNhc3RcIiwgUmF5Y2FzdFNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgUmF5Y2FzdFJlc3VsdCA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OlJheWNhc3RSZXN1bHRcIiwgUmF5Y2FzdFJlc3VsdFNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgUmVhbG1JbmZvID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6UmVhbG1JbmZvXCIsIFJlYWxtSW5mb1NjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgU2t5Ym94VGltZSA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OlNreWJveFRpbWVcIiwgU2t5Ym94VGltZVNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVGV4dFNoYXBlID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6VGV4dFNoYXBlXCIsIFRleHRTaGFwZVNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVHJpZ2dlckFyZWEgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpUcmlnZ2VyQXJlYVwiLCBUcmlnZ2VyQXJlYVNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVHJpZ2dlckFyZWFSZXN1bHQgPSAoZW5naW5lKSA9PiAvKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZVZhbHVlU2V0Q29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OlRyaWdnZXJBcmVhUmVzdWx0XCIsIFRyaWdnZXJBcmVhUmVzdWx0U2NoZW1hLCB7XG4gICAgdGltZXN0YW1wRnVuY3Rpb246ICh0KSA9PiB0LnRpbWVzdGFtcCxcbiAgICBtYXhFbGVtZW50czogMTAwXG59KTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBUd2VlbiA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OlR3ZWVuXCIsIFR3ZWVuU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBUd2VlblNlcXVlbmNlID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6VHdlZW5TZXF1ZW5jZVwiLCBUd2VlblNlcXVlbmNlU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBUd2VlblN0YXRlID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6VHdlZW5TdGF0ZVwiLCBUd2VlblN0YXRlU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaUJhY2tncm91bmQgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpVaUJhY2tncm91bmRcIiwgVWlCYWNrZ3JvdW5kU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaUNhbnZhc0luZm9ybWF0aW9uID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6VWlDYW52YXNJbmZvcm1hdGlvblwiLCBVaUNhbnZhc0luZm9ybWF0aW9uU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaURyb3Bkb3duID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6VWlEcm9wZG93blwiLCBVaURyb3Bkb3duU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaURyb3Bkb3duUmVzdWx0ID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6VWlEcm9wZG93blJlc3VsdFwiLCBVaURyb3Bkb3duUmVzdWx0U2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaUlucHV0ID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6VWlJbnB1dFwiLCBVaUlucHV0U2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaUlucHV0UmVzdWx0ID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6VWlJbnB1dFJlc3VsdFwiLCBVaUlucHV0UmVzdWx0U2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaVRleHQgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpVaVRleHRcIiwgVWlUZXh0U2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaVRyYW5zZm9ybSA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OlVpVHJhbnNmb3JtXCIsIFVpVHJhbnNmb3JtU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBWaWRlb0V2ZW50ID0gKGVuZ2luZSkgPT4gLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVWYWx1ZVNldENvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpWaWRlb0V2ZW50XCIsIFZpZGVvRXZlbnRTY2hlbWEsIHtcbiAgICB0aW1lc3RhbXBGdW5jdGlvbjogKHQpID0+IHQudGltZXN0YW1wLFxuICAgIG1heEVsZW1lbnRzOiAxMDBcbn0pO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFZpZGVvUGxheWVyID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6VmlkZW9QbGF5ZXJcIiwgVmlkZW9QbGF5ZXJTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFZpcnR1YWxDYW1lcmEgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpWaXJ0dWFsQ2FtZXJhXCIsIFZpcnR1YWxDYW1lcmFTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFZpc2liaWxpdHlDb21wb25lbnQgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpWaXNpYmlsaXR5Q29tcG9uZW50XCIsIFZpc2liaWxpdHlDb21wb25lbnRTY2hlbWEpO1xuLyoqIHB1YmxpYyAqL1xuZXhwb3J0IGNvbnN0IGNvbXBvbmVudERlZmluaXRpb25CeU5hbWUgPSAvKiBAX19QVVJFX18gKi8ge1xuICAgIFwiY29yZTo6QW5pbWF0b3JcIjogQW5pbWF0b3IsXG4gICAgXCJjb3JlOjpBdWRpb0V2ZW50XCI6IEF1ZGlvRXZlbnQsXG4gICAgXCJjb3JlOjpBdWRpb1NvdXJjZVwiOiBBdWRpb1NvdXJjZSxcbiAgICBcImNvcmU6OkF1ZGlvU3RyZWFtXCI6IEF1ZGlvU3RyZWFtLFxuICAgIFwiY29yZTo6QXZhdGFyQXR0YWNoXCI6IEF2YXRhckF0dGFjaCxcbiAgICBcImNvcmU6OkF2YXRhckJhc2VcIjogQXZhdGFyQmFzZSxcbiAgICBcImNvcmU6OkF2YXRhckVtb3RlQ29tbWFuZFwiOiBBdmF0YXJFbW90ZUNvbW1hbmQsXG4gICAgXCJjb3JlOjpBdmF0YXJFcXVpcHBlZERhdGFcIjogQXZhdGFyRXF1aXBwZWREYXRhLFxuICAgIFwiY29yZTo6QXZhdGFyTW9kaWZpZXJBcmVhXCI6IEF2YXRhck1vZGlmaWVyQXJlYSxcbiAgICBcImNvcmU6OkF2YXRhclNoYXBlXCI6IEF2YXRhclNoYXBlLFxuICAgIFwiY29yZTo6QmlsbGJvYXJkXCI6IEJpbGxib2FyZCxcbiAgICBcImNvcmU6OkNhbWVyYU1vZGVcIjogQ2FtZXJhTW9kZSxcbiAgICBcImNvcmU6OkNhbWVyYU1vZGVBcmVhXCI6IENhbWVyYU1vZGVBcmVhLFxuICAgIFwiY29yZTo6RW5naW5lSW5mb1wiOiBFbmdpbmVJbmZvLFxuICAgIFwiY29yZTo6R2x0ZkNvbnRhaW5lclwiOiBHbHRmQ29udGFpbmVyLFxuICAgIFwiY29yZTo6R2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZVwiOiBHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlLFxuICAgIFwiY29yZTo6R2x0Zk5vZGVNb2RpZmllcnNcIjogR2x0Zk5vZGVNb2RpZmllcnMsXG4gICAgXCJjb3JlOjpJbnB1dE1vZGlmaWVyXCI6IElucHV0TW9kaWZpZXIsXG4gICAgXCJjb3JlOjpMaWdodFNvdXJjZVwiOiBMaWdodFNvdXJjZSxcbiAgICBcImNvcmU6Ok1haW5DYW1lcmFcIjogTWFpbkNhbWVyYSxcbiAgICBcImNvcmU6Ok1hdGVyaWFsXCI6IE1hdGVyaWFsLFxuICAgIFwiY29yZTo6TWVzaENvbGxpZGVyXCI6IE1lc2hDb2xsaWRlcixcbiAgICBcImNvcmU6Ok1lc2hSZW5kZXJlclwiOiBNZXNoUmVuZGVyZXIsXG4gICAgXCJjb3JlOjpOZnRTaGFwZVwiOiBOZnRTaGFwZSxcbiAgICBcImNvcmU6OlBsYXllcklkZW50aXR5RGF0YVwiOiBQbGF5ZXJJZGVudGl0eURhdGEsXG4gICAgXCJjb3JlOjpQb2ludGVyRXZlbnRzXCI6IFBvaW50ZXJFdmVudHMsXG4gICAgXCJjb3JlOjpQb2ludGVyRXZlbnRzUmVzdWx0XCI6IFBvaW50ZXJFdmVudHNSZXN1bHQsXG4gICAgXCJjb3JlOjpQb2ludGVyTG9ja1wiOiBQb2ludGVyTG9jayxcbiAgICBcImNvcmU6OlByaW1hcnlQb2ludGVySW5mb1wiOiBQcmltYXJ5UG9pbnRlckluZm8sXG4gICAgXCJjb3JlOjpSYXljYXN0XCI6IFJheWNhc3QsXG4gICAgXCJjb3JlOjpSYXljYXN0UmVzdWx0XCI6IFJheWNhc3RSZXN1bHQsXG4gICAgXCJjb3JlOjpSZWFsbUluZm9cIjogUmVhbG1JbmZvLFxuICAgIFwiY29yZTo6U2t5Ym94VGltZVwiOiBTa3lib3hUaW1lLFxuICAgIFwiY29yZTo6VGV4dFNoYXBlXCI6IFRleHRTaGFwZSxcbiAgICBcImNvcmU6OlRyaWdnZXJBcmVhXCI6IFRyaWdnZXJBcmVhLFxuICAgIFwiY29yZTo6VHJpZ2dlckFyZWFSZXN1bHRcIjogVHJpZ2dlckFyZWFSZXN1bHQsXG4gICAgXCJjb3JlOjpUd2VlblwiOiBUd2VlbixcbiAgICBcImNvcmU6OlR3ZWVuU2VxdWVuY2VcIjogVHdlZW5TZXF1ZW5jZSxcbiAgICBcImNvcmU6OlR3ZWVuU3RhdGVcIjogVHdlZW5TdGF0ZSxcbiAgICBcImNvcmU6OlVpQmFja2dyb3VuZFwiOiBVaUJhY2tncm91bmQsXG4gICAgXCJjb3JlOjpVaUNhbnZhc0luZm9ybWF0aW9uXCI6IFVpQ2FudmFzSW5mb3JtYXRpb24sXG4gICAgXCJjb3JlOjpVaURyb3Bkb3duXCI6IFVpRHJvcGRvd24sXG4gICAgXCJjb3JlOjpVaURyb3Bkb3duUmVzdWx0XCI6IFVpRHJvcGRvd25SZXN1bHQsXG4gICAgXCJjb3JlOjpVaUlucHV0XCI6IFVpSW5wdXQsXG4gICAgXCJjb3JlOjpVaUlucHV0UmVzdWx0XCI6IFVpSW5wdXRSZXN1bHQsXG4gICAgXCJjb3JlOjpVaVRleHRcIjogVWlUZXh0LFxuICAgIFwiY29yZTo6VWlUcmFuc2Zvcm1cIjogVWlUcmFuc2Zvcm0sXG4gICAgXCJjb3JlOjpWaWRlb0V2ZW50XCI6IFZpZGVvRXZlbnQsXG4gICAgXCJjb3JlOjpWaWRlb1BsYXllclwiOiBWaWRlb1BsYXllcixcbiAgICBcImNvcmU6OlZpcnR1YWxDYW1lcmFcIjogVmlydHVhbENhbWVyYSxcbiAgICBcImNvcmU6OlZpc2liaWxpdHlDb21wb25lbnRcIjogVmlzaWJpbGl0eUNvbXBvbmVudCxcbn07XG4iLCAiaW1wb3J0IHsgQXVkaW9Tb3VyY2UgfSBmcm9tICcuLi9nZW5lcmF0ZWQvaW5kZXguZ2VuJztcbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVBdWRpb1NvdXJjZUNvbXBvbmVudChlbmdpbmUpIHtcbiAgICBjb25zdCB0aGVDb21wb25lbnQgPSBBdWRpb1NvdXJjZShlbmdpbmUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRoZUNvbXBvbmVudCxcbiAgICAgICAgcGxheVNvdW5kKGVudGl0eSwgc3JjLCByZXNldEN1cnNvciA9IHRydWUpIHtcbiAgICAgICAgICAgIC8vIEdldCB0aGUgbXV0YWJsZSB0byBtb2RpZnlcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvU291cmNlID0gdGhlQ29tcG9uZW50LmdldE11dGFibGVPck51bGwoZW50aXR5KTtcbiAgICAgICAgICAgIGlmICghYXVkaW9Tb3VyY2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgYXVkaW9Tb3VyY2UuYXVkaW9DbGlwVXJsID0gc3JjO1xuICAgICAgICAgICAgYXVkaW9Tb3VyY2UucGxheWluZyA9IHRydWU7XG4gICAgICAgICAgICBhdWRpb1NvdXJjZS5jdXJyZW50VGltZSA9IHJlc2V0Q3Vyc29yID8gMCA6IGF1ZGlvU291cmNlLmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIHN0b3BTb3VuZChlbnRpdHksIHJlc2V0Q3Vyc29yID0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gR2V0IHRoZSBtdXRhYmxlIHRvIG1vZGlmeVxuICAgICAgICAgICAgY29uc3QgYXVkaW9Tb3VyY2UgPSB0aGVDb21wb25lbnQuZ2V0TXV0YWJsZU9yTnVsbChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKCFhdWRpb1NvdXJjZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBhdWRpb1NvdXJjZS5wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgICAgICBhdWRpb1NvdXJjZS5jdXJyZW50VGltZSA9IHJlc2V0Q3Vyc29yID8gMCA6IGF1ZGlvU291cmNlLmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xufVxuIiwgImltcG9ydCB7IE1hdGVyaWFsIH0gZnJvbSAnLi4vZ2VuZXJhdGVkL2luZGV4Lmdlbic7XG5jb25zdCBUZXh0dXJlSGVscGVyID0ge1xuICAgIENvbW1vbih0ZXh0dXJlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0ZXg6IHtcbiAgICAgICAgICAgICAgICAkY2FzZTogJ3RleHR1cmUnLFxuICAgICAgICAgICAgICAgIHRleHR1cmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIEF2YXRhcihhdmF0YXJUZXh0dXJlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0ZXg6IHtcbiAgICAgICAgICAgICAgICAkY2FzZTogJ2F2YXRhclRleHR1cmUnLFxuICAgICAgICAgICAgICAgIGF2YXRhclRleHR1cmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIFZpZGVvKHZpZGVvVGV4dHVyZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGV4OiB7XG4gICAgICAgICAgICAgICAgJGNhc2U6ICd2aWRlb1RleHR1cmUnLFxuICAgICAgICAgICAgICAgIHZpZGVvVGV4dHVyZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn07XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lTWF0ZXJpYWxDb21wb25lbnQoZW5naW5lKSB7XG4gICAgY29uc3QgdGhlQ29tcG9uZW50ID0gTWF0ZXJpYWwoZW5naW5lKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi50aGVDb21wb25lbnQsXG4gICAgICAgIFRleHR1cmU6IFRleHR1cmVIZWxwZXIsXG4gICAgICAgIHNldEJhc2ljTWF0ZXJpYWwoZW50aXR5LCBtYXRlcmlhbCkge1xuICAgICAgICAgICAgdGhlQ29tcG9uZW50LmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDoge1xuICAgICAgICAgICAgICAgICAgICAkY2FzZTogJ3VubGl0JyxcbiAgICAgICAgICAgICAgICAgICAgdW5saXQ6IG1hdGVyaWFsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFBick1hdGVyaWFsKGVudGl0eSwgbWF0ZXJpYWwpIHtcbiAgICAgICAgICAgIHRoZUNvbXBvbmVudC5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCB7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWw6IHtcbiAgICAgICAgICAgICAgICAgICAgJGNhc2U6ICdwYnInLFxuICAgICAgICAgICAgICAgICAgICBwYnI6IG1hdGVyaWFsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuIiwgImltcG9ydCB7IE1lc2hDb2xsaWRlciB9IGZyb20gJy4uL2dlbmVyYXRlZC9pbmRleC5nZW4nO1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZU1lc2hDb2xsaWRlckNvbXBvbmVudChlbmdpbmUpIHtcbiAgICBjb25zdCB0aGVDb21wb25lbnQgPSBNZXNoQ29sbGlkZXIoZW5naW5lKTtcbiAgICBmdW5jdGlvbiBnZXRDb2xsaXNpb25NYXNrKGxheWVycykge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsYXllcnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbGF5ZXJzLm1hcCgoaXRlbSkgPT4gaXRlbSkucmVkdWNlKChwcmV2LCBpdGVtKSA9PiBwcmV2IHwgaXRlbSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGF5ZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gbGF5ZXJzO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRoZUNvbXBvbmVudCxcbiAgICAgICAgc2V0Qm94KGVudGl0eSwgY29sbGlkZXJMYXllcnMpIHtcbiAgICAgICAgICAgIHRoZUNvbXBvbmVudC5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCB7XG4gICAgICAgICAgICAgICAgbWVzaDogeyAkY2FzZTogJ2JveCcsIGJveDoge30gfSxcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25NYXNrOiBnZXRDb2xsaXNpb25NYXNrKGNvbGxpZGVyTGF5ZXJzKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFBsYW5lKGVudGl0eSwgY29sbGlkZXJMYXllcnMpIHtcbiAgICAgICAgICAgIHRoZUNvbXBvbmVudC5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCB7XG4gICAgICAgICAgICAgICAgbWVzaDogeyAkY2FzZTogJ3BsYW5lJywgcGxhbmU6IHt9IH0sXG4gICAgICAgICAgICAgICAgY29sbGlzaW9uTWFzazogZ2V0Q29sbGlzaW9uTWFzayhjb2xsaWRlckxheWVycylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRDeWxpbmRlcihlbnRpdHksIHJhZGl1c0JvdHRvbSwgcmFkaXVzVG9wLCBjb2xsaWRlckxheWVycykge1xuICAgICAgICAgICAgdGhlQ29tcG9uZW50LmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgICAgICAgICAgICBtZXNoOiB7ICRjYXNlOiAnY3lsaW5kZXInLCBjeWxpbmRlcjogeyByYWRpdXNCb3R0b20sIHJhZGl1c1RvcCB9IH0sXG4gICAgICAgICAgICAgICAgY29sbGlzaW9uTWFzazogZ2V0Q29sbGlzaW9uTWFzayhjb2xsaWRlckxheWVycylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRTcGhlcmUoZW50aXR5LCBjb2xsaWRlckxheWVycykge1xuICAgICAgICAgICAgdGhlQ29tcG9uZW50LmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgICAgICAgICAgICBtZXNoOiB7ICRjYXNlOiAnc3BoZXJlJywgc3BoZXJlOiB7fSB9LFxuICAgICAgICAgICAgICAgIGNvbGxpc2lvbk1hc2s6IGdldENvbGxpc2lvbk1hc2soY29sbGlkZXJMYXllcnMpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG4iLCAiaW1wb3J0IHsgTWVzaFJlbmRlcmVyIH0gZnJvbSAnLi4vZ2VuZXJhdGVkL2luZGV4Lmdlbic7XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lTWVzaFJlbmRlcmVyQ29tcG9uZW50KGVuZ2luZSkge1xuICAgIGNvbnN0IHRoZUNvbXBvbmVudCA9IE1lc2hSZW5kZXJlcihlbmdpbmUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRoZUNvbXBvbmVudCxcbiAgICAgICAgc2V0Qm94KGVudGl0eSwgdXZzKSB7XG4gICAgICAgICAgICB0aGVDb21wb25lbnQuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwge1xuICAgICAgICAgICAgICAgIG1lc2g6IHsgJGNhc2U6ICdib3gnLCBib3g6IHsgdXZzOiB1dnMgfHwgW10gfSB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0UGxhbmUoZW50aXR5LCB1dnMpIHtcbiAgICAgICAgICAgIHRoZUNvbXBvbmVudC5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCB7XG4gICAgICAgICAgICAgICAgbWVzaDogeyAkY2FzZTogJ3BsYW5lJywgcGxhbmU6IHsgdXZzOiB1dnMgfHwgW10gfSB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0Q3lsaW5kZXIoZW50aXR5LCByYWRpdXNCb3R0b20sIHJhZGl1c1RvcCkge1xuICAgICAgICAgICAgdGhlQ29tcG9uZW50LmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgICAgICAgICAgICBtZXNoOiB7ICRjYXNlOiAnY3lsaW5kZXInLCBjeWxpbmRlcjogeyByYWRpdXNCb3R0b20sIHJhZGl1c1RvcCB9IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRTcGhlcmUoZW50aXR5KSB7XG4gICAgICAgICAgICB0aGVDb21wb25lbnQuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwge1xuICAgICAgICAgICAgICAgIG1lc2g6IHsgJGNhc2U6ICdzcGhlcmUnLCBzcGhlcmU6IHt9IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1cbiIsICJpbXBvcnQgeyBUd2VlbiB9IGZyb20gJy4uL2dlbmVyYXRlZC9pbmRleC5nZW4nO1xuY29uc3QgVHdlZW5IZWxwZXIgPSB7XG4gICAgTW92ZShtb3ZlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAkY2FzZTogJ21vdmUnLFxuICAgICAgICAgICAgbW92ZVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgTW92ZUNvbnRpbnVvdXMobW92ZUNvbnRpbnVvdXMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICRjYXNlOiAnbW92ZUNvbnRpbnVvdXMnLFxuICAgICAgICAgICAgbW92ZUNvbnRpbnVvdXNcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIFJvdGF0ZShyb3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICRjYXNlOiAncm90YXRlJyxcbiAgICAgICAgICAgIHJvdGF0ZVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgUm90YXRlQ29udGludW91cyhyb3RhdGVDb250aW51b3VzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAkY2FzZTogJ3JvdGF0ZUNvbnRpbnVvdXMnLFxuICAgICAgICAgICAgcm90YXRlQ29udGludW91c1xuICAgICAgICB9O1xuICAgIH0sXG4gICAgU2NhbGUoc2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICRjYXNlOiAnc2NhbGUnLFxuICAgICAgICAgICAgc2NhbGVcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIFRleHR1cmVNb3ZlKHRleHR1cmVNb3ZlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAkY2FzZTogJ3RleHR1cmVNb3ZlJyxcbiAgICAgICAgICAgIHRleHR1cmVNb3ZlXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBUZXh0dXJlTW92ZUNvbnRpbnVvdXModGV4dHVyZU1vdmVDb250aW51b3VzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAkY2FzZTogJ3RleHR1cmVNb3ZlQ29udGludW91cycsXG4gICAgICAgICAgICB0ZXh0dXJlTW92ZUNvbnRpbnVvdXNcbiAgICAgICAgfTtcbiAgICB9XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZVR3ZWVuQ29tcG9uZW50KGVuZ2luZSkge1xuICAgIGNvbnN0IHRoZUNvbXBvbmVudCA9IFR3ZWVuKGVuZ2luZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4udGhlQ29tcG9uZW50LFxuICAgICAgICBNb2RlOiBUd2VlbkhlbHBlcixcbiAgICAgICAgc2V0TW92ZShlbnRpdHksIHN0YXJ0LCBlbmQsIGR1cmF0aW9uLCBlYXNpbmdGdW5jdGlvbiA9IDAgLyogRWFzaW5nRnVuY3Rpb24uRUZfTElORUFSICovKSB7XG4gICAgICAgICAgICB0aGVDb21wb25lbnQuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwge1xuICAgICAgICAgICAgICAgIG1vZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgJGNhc2U6ICdtb3ZlJyxcbiAgICAgICAgICAgICAgICAgICAgbW92ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgZWFzaW5nRnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgcGxheWluZzogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFNjYWxlKGVudGl0eSwgc3RhcnQsIGVuZCwgZHVyYXRpb24sIGVhc2luZ0Z1bmN0aW9uID0gMCAvKiBFYXNpbmdGdW5jdGlvbi5FRl9MSU5FQVIgKi8pIHtcbiAgICAgICAgICAgIHRoZUNvbXBvbmVudC5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCB7XG4gICAgICAgICAgICAgICAgbW9kZToge1xuICAgICAgICAgICAgICAgICAgICAkY2FzZTogJ3NjYWxlJyxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGVhc2luZ0Z1bmN0aW9uLFxuICAgICAgICAgICAgICAgIHBsYXlpbmc6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRSb3RhdGUoZW50aXR5LCBzdGFydCwgZW5kLCBkdXJhdGlvbiwgZWFzaW5nRnVuY3Rpb24gPSAwIC8qIEVhc2luZ0Z1bmN0aW9uLkVGX0xJTkVBUiAqLykge1xuICAgICAgICAgICAgdGhlQ29tcG9uZW50LmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgICAgICAgICAgICBtb2RlOiB7XG4gICAgICAgICAgICAgICAgICAgICRjYXNlOiAncm90YXRlJyxcbiAgICAgICAgICAgICAgICAgICAgcm90YXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgICAgICAgICBlYXNpbmdGdW5jdGlvbixcbiAgICAgICAgICAgICAgICBwbGF5aW5nOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VGV4dHVyZU1vdmUoZW50aXR5LCBzdGFydCwgZW5kLCBkdXJhdGlvbiwgbW92ZW1lbnRUeXBlID0gMCAvKiBUZXh0dXJlTW92ZW1lbnRUeXBlLlRNVF9PRkZTRVQgKi8sIGVhc2luZ0Z1bmN0aW9uID0gMCAvKiBFYXNpbmdGdW5jdGlvbi5FRl9MSU5FQVIgKi8pIHtcbiAgICAgICAgICAgIHRoZUNvbXBvbmVudC5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCB7XG4gICAgICAgICAgICAgICAgbW9kZToge1xuICAgICAgICAgICAgICAgICAgICAkY2FzZTogJ3RleHR1cmVNb3ZlJyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZU1vdmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZW1lbnRUeXBlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGVhc2luZ0Z1bmN0aW9uLFxuICAgICAgICAgICAgICAgIHBsYXlpbmc6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRNb3ZlQ29udGludW91cyhlbnRpdHksIGRpcmVjdGlvbiwgc3BlZWQsIGR1cmF0aW9uID0gMCkge1xuICAgICAgICAgICAgdGhlQ29tcG9uZW50LmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgICAgICAgICAgICBtb2RlOiB7XG4gICAgICAgICAgICAgICAgICAgICRjYXNlOiAnbW92ZUNvbnRpbnVvdXMnLFxuICAgICAgICAgICAgICAgICAgICBtb3ZlQ29udGludW91czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3BlZWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgZWFzaW5nRnVuY3Rpb246IDAgLyogRWFzaW5nRnVuY3Rpb24uRUZfTElORUFSICovLFxuICAgICAgICAgICAgICAgIHBsYXlpbmc6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRSb3RhdGVDb250aW51b3VzKGVudGl0eSwgZGlyZWN0aW9uLCBzcGVlZCwgZHVyYXRpb24gPSAwKSB7XG4gICAgICAgICAgICB0aGVDb21wb25lbnQuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwge1xuICAgICAgICAgICAgICAgIG1vZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgJGNhc2U6ICdyb3RhdGVDb250aW51b3VzJyxcbiAgICAgICAgICAgICAgICAgICAgcm90YXRlQ29udGludW91czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3BlZWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgZWFzaW5nRnVuY3Rpb246IDAgLyogRWFzaW5nRnVuY3Rpb24uRUZfTElORUFSICovLFxuICAgICAgICAgICAgICAgIHBsYXlpbmc6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRUZXh0dXJlTW92ZUNvbnRpbnVvdXMoZW50aXR5LCBkaXJlY3Rpb24sIHNwZWVkLCBtb3ZlbWVudFR5cGUgPSAwIC8qIFRleHR1cmVNb3ZlbWVudFR5cGUuVE1UX09GRlNFVCAqLywgZHVyYXRpb24gPSAwKSB7XG4gICAgICAgICAgICB0aGVDb21wb25lbnQuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwge1xuICAgICAgICAgICAgICAgIG1vZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgJGNhc2U6ICd0ZXh0dXJlTW92ZUNvbnRpbnVvdXMnLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlTW92ZUNvbnRpbnVvdXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwZWVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZW1lbnRUeXBlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGVhc2luZ0Z1bmN0aW9uOiAwIC8qIEVhc2luZ0Z1bmN0aW9uLkVGX0xJTkVBUiAqLyxcbiAgICAgICAgICAgICAgICBwbGF5aW5nOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG4iLCAiLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IElBcnJheSA9ICh0eXBlKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgICAgICBidWlsZGVyLndyaXRlVWludDMyKHZhbHVlLmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0eXBlLnNlcmlhbGl6ZShpdGVtLCBidWlsZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdBcnJheSA9IFtdO1xuICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gcmVhZGVyLnJlYWRVaW50MzIoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBuZXdBcnJheS5wdXNoKHR5cGUuZGVzZXJpYWxpemUocmVhZGVyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3QXJyYXk7XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfSxcbiAgICAgICAganNvblNjaGVtYToge1xuICAgICAgICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICAgICAgICAgIGl0ZW1zOiB0eXBlLmpzb25TY2hlbWEsXG4gICAgICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogJ2FycmF5J1xuICAgICAgICB9XG4gICAgfTtcbn07XG4iLCAiLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEJvb2wgPSB7XG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVJbnQ4KHZhbHVlID8gMSA6IDApO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiByZWFkZXIucmVhZEludDgoKSA9PT0gMTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAnYm9vbGVhbidcbiAgICB9XG59O1xuIiwgIi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBJbnQ2NCA9IHtcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgYnVpbGRlci53cml0ZUludDY0KEJpZ0ludCh2YWx1ZSkpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBOdW1iZXIocmVhZGVyLnJlYWRJbnQ2NCgpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6ICdpbnRlZ2VyJyxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICdpbnQ2NCdcbiAgICB9XG59O1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEludDMyID0ge1xuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBidWlsZGVyLndyaXRlSW50MzIodmFsdWUpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiByZWFkZXIucmVhZEludDMyKCk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAnaW50MzInXG4gICAgfVxufTtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgSW50MTYgPSB7XG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVJbnQxNih2YWx1ZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkSW50MTYoKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6ICdpbnRlZ2VyJyxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICdpbnQxNidcbiAgICB9XG59O1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBJbnQ4ID0ge1xuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBidWlsZGVyLndyaXRlSW50OCh2YWx1ZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkSW50OCgpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogJ2ludGVnZXInLFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogJ2ludDgnXG4gICAgfVxufTtcbiIsICIvKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgRmxhdFN0cmluZyA9IHtcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgYnVpbGRlci53cml0ZVV0ZjhTdHJpbmcodmFsdWUpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiByZWFkZXIucmVhZFV0ZjhTdHJpbmcoKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICd1dGY4LXN0cmluZydcbiAgICB9XG59O1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEVjc1N0cmluZyA9IEZsYXRTdHJpbmc7XG4iLCAiaW1wb3J0IHsgSW50MzIgfSBmcm9tICcuL0ludGVnZXInO1xuaW1wb3J0IHsgRmxhdFN0cmluZyB9IGZyb20gJy4vU3RyaW5nJztcbi8qKlxuICogVmFsaWRhdGVzIHRoZSBlbnVtIHRvIGVuc3VyZSBhbGwgbWVtYmVyIHZhbHVlcyBhcmUgbnVtYmVycyBhbmQgd2l0aGluIHRoZSByYW5nZSBvZiBJbnQzMi5cbiAqIEBwYXJhbSBlbnVtVmFsdWUgVGhlIGVudW0gdG8gYmUgY2hlY2tlZC5cbiAqIEB0aHJvd3MgSWYgYW55IG1lbWJlciB2YWx1ZSBpcyBub3QgYSBudW1iZXIgb3IgaXMgb3V0c2lkZSB0aGUgcmFuZ2Ugb2YgSW50MzIuXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlTWVtYmVyVmFsdWVzQXJlTnVtYmVyc0FuZEluUmFuZ2VJbnQzMihlbnVtVmFsdWUpIHtcbiAgICBjb25zdCBNSU5fVkFMVUUgPSAtKDIgKiogMzEpLCBNQVhfVkFMVUUgPSAyICoqIDMxIC0gMTtcbiAgICBsZXQgdmFsdWVDb3VudCA9IDAsIHRvdGFsQ291bnQgPSAwO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGVudW1WYWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIGVudW1WYWx1ZVtrZXldID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaWYgKGVudW1WYWx1ZVtrZXldID4gTUFYX1ZBTFVFIHx8IGVudW1WYWx1ZVtrZXldIDwgTUlOX1ZBTFVFKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFbnVtIG1lbWJlciB2YWx1ZXMgbXVzdCBiZSBudW1iZXJzIHdpdGhpbiB0aGUgcmFuZ2Ugb2YgJHtNSU5fVkFMVUV9IHRvICR7TUFYX1ZBTFVFfS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgICB0b3RhbENvdW50Kys7XG4gICAgfVxuICAgIGlmICh0b3RhbENvdW50ICE9PSB2YWx1ZUNvdW50ICogMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FsbCBlbnVtIG1lbWJlciB2YWx1ZXMgbXVzdCBiZSBvZiBudW1lcmljIHR5cGUuJyk7XG4gICAgfVxufVxuLyoqXG4gKiBWYWxpZGF0ZXMgdGhlIGVudW0gdG8gZW5zdXJlIGFsbCBtZW1iZXIgdmFsdWVzIGFyZSBvZiBzdHJpbmcgdHlwZS5cbiAqIEBwYXJhbSBlbnVtVmFsdWUgVGhlIGVudW0gdG8gYmUgY2hlY2tlZC5cbiAqIEB0aHJvd3MgSWYgYW55IG1lbWJlciB2YWx1ZSBpcyBub3Qgb2Ygc3RyaW5nIHR5cGUuXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlTWVtYmVyVmFsdWVzQXJlU3RyaW5ncyhlbnVtVmFsdWUpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBlbnVtVmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbnVtVmFsdWVba2V5XSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQWxsIGVudW0gbWVtYmVyIHZhbHVlcyBtdXN0IGJlIG9mIHN0cmluZyB0eXBlLicpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEludEVudW1SZWZsZWN0aW9uVHlwZSA9ICdlbnVtLWludCc7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgSW50RW51bSA9IChlbnVtT2JqZWN0LCBkZWZhdWx0VmFsdWUpID0+IHtcbiAgICB2YWxpZGF0ZU1lbWJlclZhbHVlc0FyZU51bWJlcnNBbmRJblJhbmdlSW50MzIoZW51bU9iamVjdCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgICAgICBJbnQzMi5zZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpO1xuICAgICAgICB9LFxuICAgICAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBJbnQzMi5kZXNlcmlhbGl6ZShyZWFkZXIpO1xuICAgICAgICB9LFxuICAgICAgICBjcmVhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgICAgICAvLyBKU09OLXNjaGVtYVxuICAgICAgICAgICAgdHlwZTogJ2ludGVnZXInLFxuICAgICAgICAgICAgZW51bTogT2JqZWN0LnZhbHVlcyhlbnVtT2JqZWN0KS5maWx0ZXIoKGl0ZW0pID0+IE51bWJlci5pc0ludGVnZXIoaXRlbSkpLFxuICAgICAgICAgICAgZGVmYXVsdDogZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgLy8gQGRjbC9lY3MgU2NoZW1hIFNwZWNcbiAgICAgICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBJbnRFbnVtUmVmbGVjdGlvblR5cGUsXG4gICAgICAgICAgICBlbnVtT2JqZWN0XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBTdHJpbmdFbnVtUmVmbGVjdGlvblR5cGUgPSAnZW51bS1zdHJpbmcnO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFN0cmluZ0VudW0gPSAoZW51bU9iamVjdCwgZGVmYXVsdFZhbHVlKSA9PiB7XG4gICAgdmFsaWRhdGVNZW1iZXJWYWx1ZXNBcmVTdHJpbmdzKGVudW1PYmplY3QpO1xuICAgIC8vIFN0cmluZyBlbnVtIGhhcyB0aGUgZXhhY3QgbWFwcGluZyBmcm9tIGtleSAob3VyIHJlZmVyZW5jZSBpbiBjb2RlKSB0byB2YWx1ZXNcbiAgICByZXR1cm4ge1xuICAgICAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgICAgIEZsYXRTdHJpbmcuc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gRmxhdFN0cmluZy5kZXNlcmlhbGl6ZShyZWFkZXIpO1xuICAgICAgICB9LFxuICAgICAgICBjcmVhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgICAgICAvLyBKU09OLXNjaGVtYVxuICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICBlbnVtOiBPYmplY3QudmFsdWVzKGVudW1PYmplY3QpLFxuICAgICAgICAgICAgZGVmYXVsdDogZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgLy8gQGRjbC9lY3MgU2NoZW1hIFNwZWNcbiAgICAgICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBTdHJpbmdFbnVtUmVmbGVjdGlvblR5cGUsXG4gICAgICAgICAgICBlbnVtT2JqZWN0XG4gICAgICAgIH1cbiAgICB9O1xufTtcbiIsICIvKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgRmxvYXQzMiA9IHtcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgYnVpbGRlci53cml0ZUZsb2F0MzIodmFsdWUpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiByZWFkZXIucmVhZEZsb2F0MzIoKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIDAuMDtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAnZmxvYXQzMidcbiAgICB9XG59O1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEZsb2F0NjQgPSB7XG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVGbG9hdDY0KHZhbHVlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gcmVhZGVyLnJlYWRGbG9hdDY0KCk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiAwLjA7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogJ2Zsb2F0NjQnXG4gICAgfVxufTtcbiIsICIvKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgQ29sb3IzU2NoZW1hID0ge1xuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBidWlsZGVyLndyaXRlRmxvYXQzMih2YWx1ZS5yKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUZsb2F0MzIodmFsdWUuZyk7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVGbG9hdDMyKHZhbHVlLmIpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByOiByZWFkZXIucmVhZEZsb2F0MzIoKSxcbiAgICAgICAgICAgIGc6IHJlYWRlci5yZWFkRmxvYXQzMigpLFxuICAgICAgICAgICAgYjogcmVhZGVyLnJlYWRGbG9hdDMyKClcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHsgcjogMCwgZzogMCwgYjogMCB9O1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgcjogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgZzogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgYjogeyB0eXBlOiAnbnVtYmVyJyB9XG4gICAgICAgIH0sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAnY29sb3IzJ1xuICAgIH1cbn07XG4iLCAiLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IENvbG9yNFNjaGVtYSA9IHtcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgYnVpbGRlci53cml0ZUZsb2F0MzIodmFsdWUucik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVGbG9hdDMyKHZhbHVlLmcpO1xuICAgICAgICBidWlsZGVyLndyaXRlRmxvYXQzMih2YWx1ZS5iKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUZsb2F0MzIodmFsdWUuYSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHI6IHJlYWRlci5yZWFkRmxvYXQzMigpLFxuICAgICAgICAgICAgZzogcmVhZGVyLnJlYWRGbG9hdDMyKCksXG4gICAgICAgICAgICBiOiByZWFkZXIucmVhZEZsb2F0MzIoKSxcbiAgICAgICAgICAgIGE6IHJlYWRlci5yZWFkRmxvYXQzMigpXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiB7IHI6IDAsIGc6IDAsIGI6IDAsIGE6IDAgfTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgIHI6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICAgICAgICAgIGc6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICAgICAgICAgIGI6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICAgICAgICAgIGE6IHsgdHlwZTogJ251bWJlcicgfVxuICAgICAgICB9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogJ2NvbG9yNCdcbiAgICB9XG59O1xuIiwgIi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBFbnRpdHlTY2hlbWEgPSB7XG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVJbnQzMih2YWx1ZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkSW50MzIoKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6ICdpbnRlZ2VyJyxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICdlbnRpdHknXG4gICAgfVxufTtcbiIsICIvKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgUXVhdGVybmlvblNjaGVtYSA9IHtcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgYnVpbGRlci53cml0ZUZsb2F0MzIodmFsdWUueCk7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVGbG9hdDMyKHZhbHVlLnkpO1xuICAgICAgICBidWlsZGVyLndyaXRlRmxvYXQzMih2YWx1ZS56KTtcbiAgICAgICAgYnVpbGRlci53cml0ZUZsb2F0MzIodmFsdWUudyk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHJlYWRlci5yZWFkRmxvYXQzMigpLFxuICAgICAgICAgICAgeTogcmVhZGVyLnJlYWRGbG9hdDMyKCksXG4gICAgICAgICAgICB6OiByZWFkZXIucmVhZEZsb2F0MzIoKSxcbiAgICAgICAgICAgIHc6IHJlYWRlci5yZWFkRmxvYXQzMigpXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAsIHo6IDAsIHc6IDAgfTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgIHg6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICAgICAgICAgIHk6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICAgICAgICAgIHo6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICAgICAgICAgIHc6IHsgdHlwZTogJ251bWJlcicgfVxuICAgICAgICB9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogJ3F1YXRlcm5pb24nXG4gICAgfVxufTtcbiIsICIvKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVmVjdG9yM1NjaGVtYSA9IHtcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgYnVpbGRlci53cml0ZUZsb2F0MzIodmFsdWUueCk7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVGbG9hdDMyKHZhbHVlLnkpO1xuICAgICAgICBidWlsZGVyLndyaXRlRmxvYXQzMih2YWx1ZS56KTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogcmVhZGVyLnJlYWRGbG9hdDMyKCksXG4gICAgICAgICAgICB5OiByZWFkZXIucmVhZEZsb2F0MzIoKSxcbiAgICAgICAgICAgIHo6IHJlYWRlci5yZWFkRmxvYXQzMigpXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAsIHo6IDAgfTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgIHg6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICAgICAgICAgIHk6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICAgICAgICAgIHo6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICAgICAgICAgIHc6IHsgdHlwZTogJ251bWJlcicgfVxuICAgICAgICB9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogJ3ZlY3RvcjMnXG4gICAgfVxufTtcbiIsICIvKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgSU1hcCA9IChzcGVjLCBkZWZhdWx0VmFsdWUpID0+IHtcbiAgICBjb25zdCBzcGVjUmVmbGVjdGlvbiA9IE9iamVjdC5rZXlzKHNwZWMpLnJlZHVjZSgoc3BlY1JlZmxlY3Rpb24sIGN1cnJlbnRLZXkpID0+IHtcbiAgICAgICAgc3BlY1JlZmxlY3Rpb25bY3VycmVudEtleV0gPSBzcGVjW2N1cnJlbnRLZXldLmpzb25TY2hlbWE7XG4gICAgICAgIHJldHVybiBzcGVjUmVmbGVjdGlvbjtcbiAgICB9LCB7fSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzcGVjKSB7XG4gICAgICAgICAgICAgICAgc3BlY1trZXldLnNlcmlhbGl6ZSh2YWx1ZVtrZXldLCBidWlsZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHt9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc3BlYykge1xuICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZVtrZXldID0gc3BlY1trZXldLmRlc2VyaWFsaXplKHJlYWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3VmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0ge307XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzcGVjKSB7XG4gICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIG5ld1ZhbHVlW2tleV0gPSBzcGVjW2tleV0uY3JlYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyAuLi5uZXdWYWx1ZSwgLi4uZGVmYXVsdFZhbHVlIH07XG4gICAgICAgIH0sXG4gICAgICAgIGV4dGVuZDogKGJhc2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0ge307XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzcGVjKSB7XG4gICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIG5ld1ZhbHVlW2tleV0gPSBzcGVjW2tleV0uY3JlYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyAuLi5uZXdWYWx1ZSwgLi4uZGVmYXVsdFZhbHVlLCAuLi5iYXNlIH07XG4gICAgICAgIH0sXG4gICAgICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICAgICAgcHJvcGVydGllczogc3BlY1JlZmxlY3Rpb24sXG4gICAgICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogJ21hcCdcbiAgICAgICAgfVxuICAgIH07XG59O1xuIiwgIi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBJT3B0aW9uYWwgPSAoc3BlYykgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYnVpbGRlci53cml0ZUludDgoMSk7XG4gICAgICAgICAgICAgICAgc3BlYy5zZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnVpbGRlci53cml0ZUludDgoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICAgICAgY29uc3QgZXhpc3RzID0gcmVhZGVyLnJlYWRJbnQ4KCk7XG4gICAgICAgICAgICBpZiAoZXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNwZWMuZGVzZXJpYWxpemUocmVhZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAganNvblNjaGVtYToge1xuICAgICAgICAgICAgdHlwZTogc3BlYy5qc29uU2NoZW1hLnR5cGUsXG4gICAgICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogJ29wdGlvbmFsJyxcbiAgICAgICAgICAgIG9wdGlvbmFsSnNvblNjaGVtYTogc3BlYy5qc29uU2NoZW1hXG4gICAgICAgIH1cbiAgICB9O1xufTtcbiIsICJleHBvcnQgY29uc3QgSU9uZU9mID0gKHNwZWNzKSA9PiB7XG4gICAgY29uc3Qgc3BlY0tleXMgPSBPYmplY3Qua2V5cyhzcGVjcyk7XG4gICAgY29uc3Qga2V5VG9JbmRleCA9IHNwZWNLZXlzLnJlZHVjZSgoZGljdCwga2V5LCBpbmRleCkgPT4ge1xuICAgICAgICBkaWN0W2tleV0gPSBpbmRleDtcbiAgICAgICAgcmV0dXJuIGRpY3Q7XG4gICAgfSwge30pO1xuICAgIGNvbnN0IHNwZWNSZWZsZWN0aW9uID0gc3BlY0tleXMucmVkdWNlKChzcGVjUmVmbGVjdGlvbiwgY3VycmVudEtleSkgPT4ge1xuICAgICAgICBzcGVjUmVmbGVjdGlvbltjdXJyZW50S2V5XSA9IHNwZWNzW2N1cnJlbnRLZXldLmpzb25TY2hlbWE7XG4gICAgICAgIHJldHVybiBzcGVjUmVmbGVjdGlvbjtcbiAgICB9LCB7fSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2VyaWFsaXplKHsgJGNhc2UsIHZhbHVlIH0sIGJ1aWxkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IF92YWx1ZSA9IGtleVRvSW5kZXhbJGNhc2UudG9TdHJpbmcoKV0gKyAxO1xuICAgICAgICAgICAgYnVpbGRlci53cml0ZVVpbnQ4KF92YWx1ZSk7XG4gICAgICAgICAgICBzcGVjc1skY2FzZV0uc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgICAgICBjb25zdCAkY2FzZSA9IHNwZWNLZXlzW3JlYWRlci5yZWFkSW50OCgpIC0gMV07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHNwZWNzWyRjYXNlXS5kZXNlcmlhbGl6ZShyZWFkZXIpO1xuICAgICAgICAgICAgcmV0dXJuIHsgJGNhc2UsIHZhbHVlIH07XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfSxcbiAgICAgICAganNvblNjaGVtYToge1xuICAgICAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiBzcGVjUmVmbGVjdGlvbixcbiAgICAgICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAnb25lLW9mJ1xuICAgICAgICB9XG4gICAgfTtcbn07XG4iLCAiZXhwb3J0IGNvbnN0IGlzU2NoZW1hVHlwZSA9ICh2YWx1ZSwgdHlwZXMpID0+IHR5cGVzLmluY2x1ZGVzKHZhbHVlLnNlcmlhbGl6YXRpb25UeXBlKTtcbmV4cG9ydCBjb25zdCBpc09uZU9mSnNvblNjaGVtYSA9ICh0eXBlKSA9PiBpc1NjaGVtYVR5cGUodHlwZSwgWydvbmUtb2YnXSk7XG5leHBvcnQgY29uc3QgZ2V0VW5rbm93blNjaGVtYSA9ICgpID0+ICh7XG4gICAgdHlwZTogeyB0eXBlOiAnb2JqZWN0Jywgc2VyaWFsaXphdGlvblR5cGU6ICd1bmtub3duJyB9LFxuICAgIHZhbHVlOiB1bmRlZmluZWRcbn0pO1xuZXhwb3J0IGNvbnN0IGlzQ29tcG91bmRUeXBlID0gKHR5cGUpID0+IGlzU2NoZW1hVHlwZSh0eXBlLCBbJ2FycmF5JywgJ21hcCddKTtcbmV4cG9ydCBjb25zdCBnZXRUeXBlQW5kVmFsdWUgPSAocHJvcGVydGllcywgdmFsdWUsIGtleSkgPT4ge1xuICAgIGNvbnN0IHR5cGUgPSBwcm9wZXJ0aWVzW2tleV07XG4gICAgY29uc3QgdmFsdWVLZXkgPSB2YWx1ZVtrZXldO1xuICAgIGlmIChpc09uZU9mSnNvblNjaGVtYSh0eXBlKSkge1xuICAgICAgICBjb25zdCB0eXBlZE1hcFZhbHVlID0gdmFsdWVLZXk7XG4gICAgICAgIGlmICghdHlwZWRNYXBWYWx1ZS4kY2FzZSlcbiAgICAgICAgICAgIHJldHVybiBnZXRVbmtub3duU2NoZW1hKCk7XG4gICAgICAgIGNvbnN0IHByb3BUeXBlID0gdHlwZS5wcm9wZXJ0aWVzW3R5cGVkTWFwVmFsdWUuJGNhc2VdO1xuICAgICAgICAvLyB0cmFuc2Zvcm0geyAkY2FzZTogc3RyaW5nOyB2YWx1ZTogdW5rbm93biB9ID0+IHsgWyRjYXNlXTogdmFsdWUgfVxuICAgICAgICBpZiAoaXNDb21wb3VuZFR5cGUocHJvcFR5cGUpKVxuICAgICAgICAgICAgdmFsdWVba2V5XSA9IHsgW3R5cGVkTWFwVmFsdWUuJGNhc2VdOiB0eXBlZE1hcFZhbHVlLnZhbHVlIH07XG4gICAgICAgIHJldHVybiB7IHR5cGU6IHByb3BUeXBlLCB2YWx1ZTogdHlwZWRNYXBWYWx1ZS52YWx1ZSB9O1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlLCB2YWx1ZTogdmFsdWVLZXkgfTtcbn07XG4iLCAiaW1wb3J0IHsgSUFycmF5IH0gZnJvbSAnLi4vQXJyYXknO1xuaW1wb3J0IHsgQm9vbCB9IGZyb20gJy4uL2Jhc2ljL0Jvb2xlYW4nO1xuaW1wb3J0IHsgSW50RW51bSwgU3RyaW5nRW51bSB9IGZyb20gJy4uL2Jhc2ljL0VudW0nO1xuaW1wb3J0IHsgRmxvYXQzMiwgRmxvYXQ2NCB9IGZyb20gJy4uL2Jhc2ljL0Zsb2F0JztcbmltcG9ydCB7IEludDE2LCBJbnQzMiwgSW50NjQsIEludDggfSBmcm9tICcuLi9iYXNpYy9JbnRlZ2VyJztcbmltcG9ydCB7IEVjc1N0cmluZyB9IGZyb20gJy4uL2Jhc2ljL1N0cmluZyc7XG5pbXBvcnQgeyBDb2xvcjNTY2hlbWEgfSBmcm9tICcuLi9jdXN0b20vQ29sb3IzJztcbmltcG9ydCB7IENvbG9yNFNjaGVtYSB9IGZyb20gJy4uL2N1c3RvbS9Db2xvcjQnO1xuaW1wb3J0IHsgRW50aXR5U2NoZW1hIH0gZnJvbSAnLi4vY3VzdG9tL0VudGl0eSc7XG5pbXBvcnQgeyBRdWF0ZXJuaW9uU2NoZW1hIH0gZnJvbSAnLi4vY3VzdG9tL1F1YXRlcm5pb24nO1xuaW1wb3J0IHsgVmVjdG9yM1NjaGVtYSB9IGZyb20gJy4uL2N1c3RvbS9WZWN0b3IzJztcbmltcG9ydCB7IElNYXAgfSBmcm9tICcuLi9NYXAnO1xuaW1wb3J0IHsgSU9uZU9mIH0gZnJvbSAnLi4vT25lT2YnO1xuaW1wb3J0IHsgSU9wdGlvbmFsIH0gZnJvbSAnLi4vT3B0aW9uYWwnO1xuaW1wb3J0IHsgZ2V0VHlwZUFuZFZhbHVlLCBpc0NvbXBvdW5kVHlwZSB9IGZyb20gJy4vdXRpbHMnO1xuY29uc3QgcHJpbWl0aXZlU2NoZW1hcyA9IHtcbiAgICBbQm9vbC5qc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlXTogQm9vbCxcbiAgICBbRWNzU3RyaW5nLmpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGVdOiBFY3NTdHJpbmcsXG4gICAgW0Zsb2F0MzIuanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZV06IEZsb2F0MzIsXG4gICAgW0Zsb2F0NjQuanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZV06IEZsb2F0NjQsXG4gICAgW0ludDguanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZV06IEludDgsXG4gICAgW0ludDE2Lmpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGVdOiBJbnQxNixcbiAgICBbSW50MzIuanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZV06IEludDMyLFxuICAgIFtJbnQ2NC5qc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlXTogSW50NjQsXG4gICAgW1ZlY3RvcjNTY2hlbWEuanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZV06IFZlY3RvcjNTY2hlbWEsXG4gICAgW1F1YXRlcm5pb25TY2hlbWEuanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZV06IFF1YXRlcm5pb25TY2hlbWEsXG4gICAgW0NvbG9yM1NjaGVtYS5qc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlXTogQ29sb3IzU2NoZW1hLFxuICAgIFtDb2xvcjRTY2hlbWEuanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZV06IENvbG9yNFNjaGVtYSxcbiAgICBbRW50aXR5U2NoZW1hLmpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGVdOiBFbnRpdHlTY2hlbWFcbn07XG4vKipcbiAqIENyZWF0ZSBhbiBJU2NoZW1hIG9iamVjdCBmcm9tIHRoZSBqc29uLXNjaGVtYVxuICogQHBhcmFtIGpzb25TY2hlbWFcbiAqIEByZXR1cm5zIGEgSVNjaGVtYSBvciBmYWlsIGZvciB1bnN1cHBvcnRlZCBqc29uLXNjaGVtYVxuICovXG5leHBvcnQgZnVuY3Rpb24ganNvblNjaGVtYVRvU2NoZW1hKGpzb25TY2hlbWEpIHtcbiAgICBpZiAocHJpbWl0aXZlU2NoZW1hc1tqc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlXSkge1xuICAgICAgICByZXR1cm4gcHJpbWl0aXZlU2NoZW1hc1tqc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlXTtcbiAgICB9XG4gICAgaWYgKGpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGUgPT09ICdtYXAnKSB7XG4gICAgICAgIGNvbnN0IG1hcEpzb25TY2hlbWEgPSBqc29uU2NoZW1hO1xuICAgICAgICBjb25zdCBzcGVjID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG1hcEpzb25TY2hlbWEucHJvcGVydGllcykge1xuICAgICAgICAgICAgc3BlY1trZXldID0ganNvblNjaGVtYVRvU2NoZW1hKG1hcEpzb25TY2hlbWEucHJvcGVydGllc1trZXldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gSU1hcChzcGVjKTtcbiAgICB9XG4gICAgaWYgKGpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGUgPT09ICdvcHRpb25hbCcpIHtcbiAgICAgICAgY29uc3Qgd2l0aEl0ZW1zSnNvblNjaGVtYSA9IGpzb25TY2hlbWE7XG4gICAgICAgIHJldHVybiBJT3B0aW9uYWwoanNvblNjaGVtYVRvU2NoZW1hKHdpdGhJdGVtc0pzb25TY2hlbWEub3B0aW9uYWxKc29uU2NoZW1hKSk7XG4gICAgfVxuICAgIGlmIChqc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlID09PSAnYXJyYXknKSB7XG4gICAgICAgIGNvbnN0IHdpdGhJdGVtc0pzb25TY2hlbWEgPSBqc29uU2NoZW1hO1xuICAgICAgICByZXR1cm4gSUFycmF5KGpzb25TY2hlbWFUb1NjaGVtYSh3aXRoSXRlbXNKc29uU2NoZW1hLml0ZW1zKSk7XG4gICAgfVxuICAgIGlmIChqc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlID09PSAnZW51bS1pbnQnKSB7XG4gICAgICAgIGNvbnN0IGVudW1Kc29uU2NoZW1hID0ganNvblNjaGVtYTtcbiAgICAgICAgcmV0dXJuIEludEVudW0oZW51bUpzb25TY2hlbWEuZW51bU9iamVjdCwgZW51bUpzb25TY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGlmIChqc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlID09PSAnZW51bS1zdHJpbmcnKSB7XG4gICAgICAgIGNvbnN0IGVudW1Kc29uU2NoZW1hID0ganNvblNjaGVtYTtcbiAgICAgICAgcmV0dXJuIFN0cmluZ0VudW0oZW51bUpzb25TY2hlbWEuZW51bU9iamVjdCwgZW51bUpzb25TY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGlmIChqc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlID09PSAnb25lLW9mJykge1xuICAgICAgICBjb25zdCBvbmVPZkpzb25TY2hlbWEgPSBqc29uU2NoZW1hO1xuICAgICAgICBjb25zdCBzcGVjID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9uZU9mSnNvblNjaGVtYS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBzcGVjW2tleV0gPSBqc29uU2NoZW1hVG9TY2hlbWEob25lT2ZKc29uU2NoZW1hLnByb3BlcnRpZXNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIElPbmVPZihzcGVjKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGAke2pzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGV9IGlzIG5vdCBzdXBwb3J0ZWQgYXMgcmV2ZXJzZSBzY2hlbWEgZ2VuZXJhdGlvbi5gKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtdXRhdGVWYWx1ZXMoanNvblNjaGVtYSwgdmFsdWUsIG11dGF0ZUZuKSB7XG4gICAgaWYgKGpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGUgPT09ICdtYXAnKSB7XG4gICAgICAgIGNvbnN0IHsgcHJvcGVydGllcyB9ID0ganNvblNjaGVtYTtcbiAgICAgICAgY29uc3QgdHlwZWRWYWx1ZSA9IHZhbHVlO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBjb25zdCB7IHR5cGUsIHZhbHVlOiBtYXBWYWx1ZSB9ID0gZ2V0VHlwZUFuZFZhbHVlKHByb3BlcnRpZXMsIHR5cGVkVmFsdWUsIGtleSk7XG4gICAgICAgICAgICBpZiAodHlwZS5zZXJpYWxpemF0aW9uVHlwZSA9PT0gJ3Vua25vd24nKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKGlzQ29tcG91bmRUeXBlKHR5cGUpKSB7XG4gICAgICAgICAgICAgICAgbXV0YXRlVmFsdWVzKHR5cGUsIG1hcFZhbHVlLCBtdXRhdGVGbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IG11dGF0ZUZuKG1hcFZhbHVlLCB0eXBlKTtcbiAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUuY2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICB0eXBlZFZhbHVlW2tleV0gPSBuZXdWYWx1ZS52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZSA9PT0gJ2FycmF5Jykge1xuICAgICAgICBjb25zdCB7IGl0ZW1zIH0gPSBqc29uU2NoZW1hO1xuICAgICAgICBjb25zdCBhcnJheVZhbHVlID0gdmFsdWU7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBuID0gYXJyYXlWYWx1ZS5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdHlwZSwgdmFsdWUgfSA9IGdldFR5cGVBbmRWYWx1ZSh7IGl0ZW1zOiBpdGVtcyB9LCB7IGl0ZW1zOiBhcnJheVZhbHVlW2ldIH0sICdpdGVtcycpO1xuICAgICAgICAgICAgaWYgKGlzQ29tcG91bmRUeXBlKHR5cGUpKSB7XG4gICAgICAgICAgICAgICAgbXV0YXRlVmFsdWVzKHR5cGUsIHZhbHVlLCBtdXRhdGVGbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IG11dGF0ZUZuKHZhbHVlLCB0eXBlKTtcbiAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUuY2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICBhcnJheVZhbHVlW2ldID0gbmV3VmFsdWUudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwgImltcG9ydCB7IElBcnJheSB9IGZyb20gJy4vQXJyYXknO1xuaW1wb3J0IHsgQm9vbCB9IGZyb20gJy4vYmFzaWMvQm9vbGVhbic7XG5pbXBvcnQgeyBJbnRFbnVtIGFzIEludEVudW1TY2hlbWEsIFN0cmluZ0VudW0gYXMgU3RyaW5nRW51bVNjaGVtYSB9IGZyb20gJy4vYmFzaWMvRW51bSc7XG5pbXBvcnQgeyBGbG9hdDMyLCBGbG9hdDY0IH0gZnJvbSAnLi9iYXNpYy9GbG9hdCc7XG5pbXBvcnQgeyBJbnQxNiwgSW50MzIsIEludDgsIEludDY0IGFzIGlJbnQ2NCB9IGZyb20gJy4vYmFzaWMvSW50ZWdlcic7XG5pbXBvcnQgeyBFY3NTdHJpbmcgfSBmcm9tICcuL2Jhc2ljL1N0cmluZyc7XG5pbXBvcnQgeyBDb2xvcjNTY2hlbWEgfSBmcm9tICcuL2N1c3RvbS9Db2xvcjMnO1xuaW1wb3J0IHsgQ29sb3I0U2NoZW1hIH0gZnJvbSAnLi9jdXN0b20vQ29sb3I0JztcbmltcG9ydCB7IEVudGl0eVNjaGVtYSB9IGZyb20gJy4vY3VzdG9tL0VudGl0eSc7XG5pbXBvcnQgeyBRdWF0ZXJuaW9uU2NoZW1hIH0gZnJvbSAnLi9jdXN0b20vUXVhdGVybmlvbic7XG5pbXBvcnQgeyBWZWN0b3IzU2NoZW1hIH0gZnJvbSAnLi9jdXN0b20vVmVjdG9yMyc7XG5pbXBvcnQgeyBJTWFwIH0gZnJvbSAnLi9NYXAnO1xuaW1wb3J0IHsgSU9wdGlvbmFsIH0gZnJvbSAnLi9PcHRpb25hbCc7XG5pbXBvcnQgeyBJT25lT2YgfSBmcm9tICcuL09uZU9mJztcbmltcG9ydCB7IGpzb25TY2hlbWFUb1NjaGVtYSwgbXV0YXRlVmFsdWVzIH0gZnJvbSAnLi9idWlsZFNjaGVtYSc7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBTY2hlbWFzO1xuKGZ1bmN0aW9uIChTY2hlbWFzKSB7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLkJvb2xlYW4gPSBCb29sO1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5TdHJpbmcgPSBFY3NTdHJpbmc7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLkZsb2F0ID0gRmxvYXQzMjtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuRG91YmxlID0gRmxvYXQ2NDtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuQnl0ZSA9IEludDg7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLlNob3J0ID0gSW50MTY7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLkludCA9IEludDMyO1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5JbnQ2NCA9IGlJbnQ2NDtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuTnVtYmVyID0gRmxvYXQzMjtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuVmVjdG9yMyA9IFZlY3RvcjNTY2hlbWE7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLlF1YXRlcm5pb24gPSBRdWF0ZXJuaW9uU2NoZW1hO1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5Db2xvcjMgPSBDb2xvcjNTY2hlbWE7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLkNvbG9yNCA9IENvbG9yNFNjaGVtYTtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuRW50aXR5ID0gRW50aXR5U2NoZW1hO1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5FbnVtTnVtYmVyID0gSW50RW51bVNjaGVtYTtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuRW51bVN0cmluZyA9IFN0cmluZ0VudW1TY2hlbWE7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLkFycmF5ID0gSUFycmF5O1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5NYXAgPSBJTWFwO1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5PcHRpb25hbCA9IElPcHRpb25hbDtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuT25lT2YgPSBJT25lT2Y7XG4gICAgLyoqXG4gICAgICogQHB1YmxpYyBDcmVhdGUgYW4gSVNjaGVtYSBvYmplY3QgZnJvbSB0aGUganNvbi1zY2hlbWFcbiAgICAgKiBAcGFyYW0ganNvblNjaGVtYVxuICAgICAqIEByZXR1cm5zIGEgSVNjaGVtYSBvciBmYWlsIGZvciB1bnN1cHBvcnRlZCBqc29uLXNjaGVtYVxuICAgICAqL1xuICAgIFNjaGVtYXMuZnJvbUpzb24gPSBqc29uU2NoZW1hVG9TY2hlbWE7XG4gICAgLyoqXG4gICAgICogQHB1YmxpY1xuICAgICAqXG4gICAgICogVHJhdmVyc2VzIGFuZCBtdXRhdGVzIHZhbHVlcyBpbiBhIEpTT04gc2NoZW1hLWJhc2VkIHN0cnVjdHVyZSwgYXBwbHlpbmcgdGhlIGdpdmVuIG11dGF0aW9uIGZ1bmN0aW9uIHRvIGVhY2ggdmFsdWUuXG4gICAgICogVGhlIGZ1bmN0aW9uIGlzIGRlc2lnbmVkIHRvIHdvcmsgd2l0aCBuZXN0ZWQgbWFwcyBhbmQgYXJyYXlzLCByZWN1cnNpdmVseSBwcm9jZXNzaW5nIGVhY2ggZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBqc29uU2NoZW1hIC0gVGhlIEpTT04gc2NoZW1hIG9iamVjdCB0aGF0IGRlc2NyaWJlcyB0aGUgc3RydWN0dXJlIG9mIHRoZSB2YWx1ZS5cbiAgICAgKiAgICAgICAgICAgICAgICAgICBJdCBtdXN0IGhhdmUgYSBzZXJpYWxpemF0aW9uVHlwZSBvZiAnbWFwJywgJ2FycmF5Jywgb3Igb3RoZXIgY3VzdG9tIHR5cGVzIGxpa2UgJ2VudGl0eScuXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGJlIG11dGF0ZWQsIHdoaWNoIHNob3VsZCBjb25mb3JtIHRvIHRoZSBwcm92aWRlZCBKU09OIHNjaGVtYS5cbiAgICAgKiBAcGFyYW0gbXV0YXRlRm4gLSBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSB2YWx1ZSBhbmQgaXRzIGNvcnJlc3BvbmRpbmcgdmFsdWVUeXBlIChKc29uU2NoZW1hRXh0ZW5kZWQpIGFzIGFyZ3VtZW50c1xuICAgICAqICAgICAgICAgICAgICAgICAgIGFuZCByZXR1cm5zIGEgdHVwbGUgW2Jvb2xlYW4sIGFueV0uIFRoZSBib29sZWFuIGluZGljYXRlcyB3aGV0aGVyIHRoZSBtdXRhdGlvbiBzaG91bGQgYmUgYXBwbGllZCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICBhbmQgdGhlIHNlY29uZCBlbGVtZW50IGlzIHRoZSBtdXRhdGVkIHZhbHVlLlxuICAgICAqL1xuICAgIFNjaGVtYXMubXV0YXRlTmVzdGVkVmFsdWVzID0gbXV0YXRlVmFsdWVzO1xufSkoU2NoZW1hcyB8fCAoU2NoZW1hcyA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgU2NoZW1hcyB9IGZyb20gJy4uLy4uL3NjaGVtYXMnO1xuZnVuY3Rpb24gZGVmaW5lTmFtZUNvbXBvbmVudChlbmdpbmUpIHtcbiAgICBjb25zdCBOYW1lID0gZW5naW5lLmRlZmluZUNvbXBvbmVudCgnY29yZS1zY2hlbWE6Ok5hbWUnLCB7XG4gICAgICAgIHZhbHVlOiBTY2hlbWFzLlN0cmluZ1xuICAgIH0pO1xuICAgIHJldHVybiBOYW1lO1xufVxuZXhwb3J0IGRlZmF1bHQgZGVmaW5lTmFtZUNvbXBvbmVudDtcbiIsICJpbXBvcnQgeyBTY2hlbWFzIH0gZnJvbSAnLi4vLi4vc2NoZW1hcyc7XG5mdW5jdGlvbiBkZWZpbmVOZXR3b3JrRW50aXR5Q29tcG9uZW50KGVuZ2luZSkge1xuICAgIGNvbnN0IEVudGl0eU5ldHdvcmsgPSBlbmdpbmUuZGVmaW5lQ29tcG9uZW50KCdjb3JlLXNjaGVtYTo6TmV0d29yay1FbnRpdHknLCB7XG4gICAgICAgIG5ldHdvcmtJZDogU2NoZW1hcy5JbnQ2NCxcbiAgICAgICAgZW50aXR5SWQ6IFNjaGVtYXMuRW50aXR5XG4gICAgfSk7XG4gICAgcmV0dXJuIEVudGl0eU5ldHdvcms7XG59XG5leHBvcnQgZGVmYXVsdCBkZWZpbmVOZXR3b3JrRW50aXR5Q29tcG9uZW50O1xuIiwgImltcG9ydCB7IFNjaGVtYXMgfSBmcm9tICcuLi8uLi9zY2hlbWFzJztcbmZ1bmN0aW9uIGRlZmluZU5ldHdvcmtQYXJlbnRDb21wb25lbnQoZW5naW5lKSB7XG4gICAgY29uc3QgRW50aXR5TmV0d29yayA9IGVuZ2luZS5kZWZpbmVDb21wb25lbnQoJ2NvcmUtc2NoZW1hOjpOZXR3b3JrLVBhcmVudCcsIHtcbiAgICAgICAgbmV0d29ya0lkOiBTY2hlbWFzLkludDY0LFxuICAgICAgICBlbnRpdHlJZDogU2NoZW1hcy5FbnRpdHlcbiAgICB9KTtcbiAgICByZXR1cm4gRW50aXR5TmV0d29yaztcbn1cbmV4cG9ydCBkZWZhdWx0IGRlZmluZU5ldHdvcmtQYXJlbnRDb21wb25lbnQ7XG4iLCAiLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IENPTVBPTkVOVF9JRCA9IDE7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgVFJBTlNGT1JNX0xFTkdUSCA9IDQ0O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IFRyYW5zZm9ybVNjaGVtYSA9IHtcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3QgcHRyID0gYnVpbGRlci5pbmNyZW1lbnRXcml0ZU9mZnNldChUUkFOU0ZPUk1fTEVOR1RIKTtcbiAgICAgICAgYnVpbGRlci5zZXRGbG9hdDMyKHB0ciwgdmFsdWUucG9zaXRpb24ueCk7XG4gICAgICAgIGJ1aWxkZXIuc2V0RmxvYXQzMihwdHIgKyA0LCB2YWx1ZS5wb3NpdGlvbi55KTtcbiAgICAgICAgYnVpbGRlci5zZXRGbG9hdDMyKHB0ciArIDgsIHZhbHVlLnBvc2l0aW9uLnopO1xuICAgICAgICBidWlsZGVyLnNldEZsb2F0MzIocHRyICsgMTIsIHZhbHVlLnJvdGF0aW9uLngpO1xuICAgICAgICBidWlsZGVyLnNldEZsb2F0MzIocHRyICsgMTYsIHZhbHVlLnJvdGF0aW9uLnkpO1xuICAgICAgICBidWlsZGVyLnNldEZsb2F0MzIocHRyICsgMjAsIHZhbHVlLnJvdGF0aW9uLnopO1xuICAgICAgICBidWlsZGVyLnNldEZsb2F0MzIocHRyICsgMjQsIHZhbHVlLnJvdGF0aW9uLncpO1xuICAgICAgICBidWlsZGVyLnNldEZsb2F0MzIocHRyICsgMjgsIHZhbHVlLnNjYWxlLngpO1xuICAgICAgICBidWlsZGVyLnNldEZsb2F0MzIocHRyICsgMzIsIHZhbHVlLnNjYWxlLnkpO1xuICAgICAgICBidWlsZGVyLnNldEZsb2F0MzIocHRyICsgMzYsIHZhbHVlLnNjYWxlLnopO1xuICAgICAgICBidWlsZGVyLnNldFVpbnQzMihwdHIgKyA0MCwgdmFsdWUucGFyZW50IHx8IDApO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHJlYWRlci5pbmNyZW1lbnRSZWFkT2Zmc2V0KFRSQU5TRk9STV9MRU5HVEgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgICAgICB4OiByZWFkZXIuZ2V0RmxvYXQzMihwdHIpLFxuICAgICAgICAgICAgICAgIHk6IHJlYWRlci5nZXRGbG9hdDMyKHB0ciArIDQpLFxuICAgICAgICAgICAgICAgIHo6IHJlYWRlci5nZXRGbG9hdDMyKHB0ciArIDgpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcm90YXRpb246IHtcbiAgICAgICAgICAgICAgICB4OiByZWFkZXIuZ2V0RmxvYXQzMihwdHIgKyAxMiksXG4gICAgICAgICAgICAgICAgeTogcmVhZGVyLmdldEZsb2F0MzIocHRyICsgMTYpLFxuICAgICAgICAgICAgICAgIHo6IHJlYWRlci5nZXRGbG9hdDMyKHB0ciArIDIwKSxcbiAgICAgICAgICAgICAgICB3OiByZWFkZXIuZ2V0RmxvYXQzMihwdHIgKyAyNClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzY2FsZToge1xuICAgICAgICAgICAgICAgIHg6IHJlYWRlci5nZXRGbG9hdDMyKHB0ciArIDI4KSxcbiAgICAgICAgICAgICAgICB5OiByZWFkZXIuZ2V0RmxvYXQzMihwdHIgKyAzMiksXG4gICAgICAgICAgICAgICAgejogcmVhZGVyLmdldEZsb2F0MzIocHRyICsgMzYpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFyZW50OiByZWFkZXIuZ2V0VWludDMyKHB0ciArIDQwKVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9zaXRpb246IHsgeDogMCwgeTogMCwgejogMCB9LFxuICAgICAgICAgICAgc2NhbGU6IHsgeDogMSwgeTogMSwgejogMSB9LFxuICAgICAgICAgICAgcm90YXRpb246IHsgeDogMCwgeTogMCwgejogMCwgdzogMSB9LFxuICAgICAgICAgICAgcGFyZW50OiAwXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBleHRlbmQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IDAsIHk6IDAsIHo6IDAgfSxcbiAgICAgICAgICAgIHNjYWxlOiB7IHg6IDEsIHk6IDEsIHo6IDEgfSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiB7IHg6IDAsIHk6IDAsIHo6IDAsIHc6IDEgfSxcbiAgICAgICAgICAgIHBhcmVudDogMCxcbiAgICAgICAgICAgIC4uLnZhbHVlXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgeDogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgICAgICAgICB5OiB7IHR5cGU6ICdudW1iZXInIH0sXG4gICAgICAgICAgICAgICAgICAgIHo6IHsgdHlwZTogJ251bWJlcicgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzY2FsZToge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgeDogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgICAgICAgICB5OiB7IHR5cGU6ICdudW1iZXInIH0sXG4gICAgICAgICAgICAgICAgICAgIHo6IHsgdHlwZTogJ251bWJlcicgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByb3RhdGlvbjoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgeDogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgICAgICAgICB5OiB7IHR5cGU6ICdudW1iZXInIH0sXG4gICAgICAgICAgICAgICAgICAgIHo6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgdzogeyB0eXBlOiAnbnVtYmVyJyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmVudDogeyB0eXBlOiAnaW50ZWdlcicgfVxuICAgICAgICB9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogJ3RyYW5zZm9ybSdcbiAgICB9XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZVRyYW5zZm9ybUNvbXBvbmVudChlbmdpbmUpIHtcbiAgICBjb25zdCB0cmFuc2Zvcm1EZWYgPSBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYSgnY29yZTo6VHJhbnNmb3JtJywgVHJhbnNmb3JtU2NoZW1hKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi50cmFuc2Zvcm1EZWYsXG4gICAgICAgIGNyZWF0ZShlbnRpdHksIHZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybURlZi5jcmVhdGUoZW50aXR5LCBUcmFuc2Zvcm1TY2hlbWEuZXh0ZW5kKHZhbCkpO1xuICAgICAgICB9LFxuICAgICAgICBjcmVhdGVPclJlcGxhY2UoZW50aXR5LCB2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1EZWYuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwgVHJhbnNmb3JtU2NoZW1hLmV4dGVuZCh2YWwpKTtcbiAgICAgICAgfVxuICAgIH07XG59XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzLmNvbW1vblwiO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgTWVkaWFTdGF0ZTtcbihmdW5jdGlvbiAoTWVkaWFTdGF0ZSkge1xuICAgIE1lZGlhU3RhdGVbTWVkaWFTdGF0ZVtcIk1TX05PTkVcIl0gPSAwXSA9IFwiTVNfTk9ORVwiO1xuICAgIE1lZGlhU3RhdGVbTWVkaWFTdGF0ZVtcIk1TX0VSUk9SXCJdID0gMV0gPSBcIk1TX0VSUk9SXCI7XG4gICAgTWVkaWFTdGF0ZVtNZWRpYVN0YXRlW1wiTVNfTE9BRElOR1wiXSA9IDJdID0gXCJNU19MT0FESU5HXCI7XG4gICAgTWVkaWFTdGF0ZVtNZWRpYVN0YXRlW1wiTVNfUkVBRFlcIl0gPSAzXSA9IFwiTVNfUkVBRFlcIjtcbiAgICBNZWRpYVN0YXRlW01lZGlhU3RhdGVbXCJNU19QTEFZSU5HXCJdID0gNF0gPSBcIk1TX1BMQVlJTkdcIjtcbiAgICBNZWRpYVN0YXRlW01lZGlhU3RhdGVbXCJNU19CVUZGRVJJTkdcIl0gPSA1XSA9IFwiTVNfQlVGRkVSSU5HXCI7XG4gICAgTWVkaWFTdGF0ZVtNZWRpYVN0YXRlW1wiTVNfU0VFS0lOR1wiXSA9IDZdID0gXCJNU19TRUVLSU5HXCI7XG4gICAgTWVkaWFTdGF0ZVtNZWRpYVN0YXRlW1wiTVNfUEFVU0VEXCJdID0gN10gPSBcIk1TX1BBVVNFRFwiO1xufSkoTWVkaWFTdGF0ZSB8fCAoTWVkaWFTdGF0ZSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgU2NoZW1hcyB9IGZyb20gJy4uLy4uL3NjaGVtYXMnO1xuLyoqXG4gKiBAcHVibGljXG4gKlxuICogRGVmaW5lIHRoZSBUYWdzIGNvbXBvbmVudFxuICogQHBhcmFtIGVuZ2luZSAtIHRoZSBlbmdpbmUgdG8gZGVmaW5lIHRoZSBjb21wb25lbnQgb25cbiAqIEByZXR1cm5zIHRoZSBUYWdzIGNvbXBvbmVudCBkZWZpbml0aW9uXG4gKi9cbmZ1bmN0aW9uIGRlZmluZVRhZ3NDb21wb25lbnQoZW5naW5lKSB7XG4gICAgY29uc3QgVGFncyA9IGVuZ2luZS5kZWZpbmVDb21wb25lbnQoJ2NvcmUtc2NoZW1hOjpUYWdzJywge1xuICAgICAgICB0YWdzOiBTY2hlbWFzLkFycmF5KFNjaGVtYXMuU3RyaW5nKVxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLlRhZ3MsXG4gICAgICAgIGFkZChlbnRpdHksIHRhZ05hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZ3NDb21wb25lbnQgPSBUYWdzLmdldE11dGFibGVPck51bGwoZW50aXR5KTtcbiAgICAgICAgICAgIGlmICh0YWdzQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgdGFnc0NvbXBvbmVudC50YWdzLnB1c2godGFnTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBUYWdzLmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHsgdGFnczogW3RhZ05hbWVdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZShlbnRpdHksIHRhZ05hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZ3NDb21wb25lbnQgPSBUYWdzLmdldE11dGFibGVPck51bGwoZW50aXR5KTtcbiAgICAgICAgICAgIGlmICghdGFnc0NvbXBvbmVudCB8fCAhdGFnc0NvbXBvbmVudC50YWdzKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1RhZ3MgPSB0YWdzQ29tcG9uZW50LnRhZ3MuZmlsdGVyKCh0YWcpID0+IHRhZyAhPT0gdGFnTmFtZSk7XG4gICAgICAgICAgICBpZiAobmV3VGFncy5sZW5ndGggPT09IHRhZ3NDb21wb25lbnQudGFncy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgdGFnc0NvbXBvbmVudC50YWdzID0gbmV3VGFncztcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IGRlZmluZVRhZ3NDb21wb25lbnQ7XG4iLCAiaW1wb3J0IHsgZGVmaW5lQW5pbWF0b3JDb21wb25lbnQgfSBmcm9tICcuL2V4dGVuZGVkL0FuaW1hdG9yJztcbmltcG9ydCB7IGRlZmluZUF1ZGlvU291cmNlQ29tcG9uZW50IH0gZnJvbSAnLi9leHRlbmRlZC9BdWRpb1NvdXJjZSc7XG5pbXBvcnQgeyBkZWZpbmVNYXRlcmlhbENvbXBvbmVudCB9IGZyb20gJy4vZXh0ZW5kZWQvTWF0ZXJpYWwnO1xuaW1wb3J0IHsgZGVmaW5lTWVzaENvbGxpZGVyQ29tcG9uZW50IH0gZnJvbSAnLi9leHRlbmRlZC9NZXNoQ29sbGlkZXInO1xuaW1wb3J0IHsgZGVmaW5lTWVzaFJlbmRlcmVyQ29tcG9uZW50IH0gZnJvbSAnLi9leHRlbmRlZC9NZXNoUmVuZGVyZXInO1xuaW1wb3J0IHsgZGVmaW5lVHdlZW5Db21wb25lbnQgfSBmcm9tICcuL2V4dGVuZGVkL1R3ZWVuJztcbmltcG9ydCBkZWZpbmVOYW1lQ29tcG9uZW50IGZyb20gJy4vbWFudWFsL05hbWUnO1xuaW1wb3J0IGRlZmluZVN5bmNDb21wb25lbnQgZnJvbSAnLi9tYW51YWwvU3luY0NvbXBvbmVudHMnO1xuaW1wb3J0IGRlZmluZU5ldHdvcmtFbnRpdHkgZnJvbSAnLi9tYW51YWwvTmV0d29ya0VudGl0eSc7XG5pbXBvcnQgZGVmaW5lTmV0d29ya1BhcmVudCBmcm9tICcuL21hbnVhbC9OZXR3b3JrUGFyZW50JztcbmltcG9ydCB7IGRlZmluZVRyYW5zZm9ybUNvbXBvbmVudCB9IGZyb20gJy4vbWFudWFsL1RyYW5zZm9ybSc7XG5pbXBvcnQgeyBkZWZpbmVBdWRpb1N0cmVhbUNvbXBvbmVudCB9IGZyb20gJy4vZXh0ZW5kZWQvQXVkaW9TdHJlYW0nO1xuaW1wb3J0IHsgTWVkaWFTdGF0ZSB9IGZyb20gJy4vZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9jb21tb24vbWVkaWFfc3RhdGUuZ2VuJztcbmltcG9ydCB7IGRlZmluZVZpcnR1YWxDYW1lcmFDb21wb25lbnQgfSBmcm9tICcuL2V4dGVuZGVkL1ZpcnR1YWxDYW1lcmEnO1xuaW1wb3J0IHsgZGVmaW5lSW5wdXRNb2RpZmllckNvbXBvbmVudCB9IGZyb20gJy4vZXh0ZW5kZWQvSW5wdXRNb2RpZmllcic7XG5pbXBvcnQgeyBkZWZpbmVMaWdodFNvdXJjZUNvbXBvbmVudCB9IGZyb20gJy4vZXh0ZW5kZWQvTGlnaHRTb3VyY2UnO1xuaW1wb3J0IHsgZGVmaW5lVHJpZ2dlckFyZWFDb21wb25lbnQgfSBmcm9tICcuL2V4dGVuZGVkL1RyaWdnZXJBcmVhJztcbmltcG9ydCBkZWZpbmVUYWdzQ29tcG9uZW50IGZyb20gJy4vbWFudWFsL1RhZ3MnO1xuZXhwb3J0ICogZnJvbSAnLi9nZW5lcmF0ZWQvaW5kZXguZ2VuJztcbi8qIEBfX1BVUkVfXyAqL1xuZXhwb3J0IGNvbnN0IFRyYW5zZm9ybSA9IChlbmdpbmUpID0+IGRlZmluZVRyYW5zZm9ybUNvbXBvbmVudChlbmdpbmUpO1xuLyogQF9fUFVSRV9fICovXG5leHBvcnQgY29uc3QgTWF0ZXJpYWwgPSAoZW5naW5lKSA9PiBkZWZpbmVNYXRlcmlhbENvbXBvbmVudChlbmdpbmUpO1xuLyogQF9fUFVSRV9fICovXG5leHBvcnQgY29uc3QgQW5pbWF0b3IgPSAoZW5naW5lKSA9PiBkZWZpbmVBbmltYXRvckNvbXBvbmVudChlbmdpbmUpO1xuLyogQF9fUFVSRV9fICovXG5leHBvcnQgY29uc3QgQXVkaW9Tb3VyY2UgPSAoZW5naW5lKSA9PiBkZWZpbmVBdWRpb1NvdXJjZUNvbXBvbmVudChlbmdpbmUpO1xuLyogQF9fUFVSRV9fICovXG5leHBvcnQgY29uc3QgQXVkaW9TdHJlYW0gPSAoZW5naW5lKSA9PiBkZWZpbmVBdWRpb1N0cmVhbUNvbXBvbmVudChlbmdpbmUpO1xuLyogQF9fUFVSRV9fICovXG5leHBvcnQgY29uc3QgTWVzaFJlbmRlcmVyID0gKGVuZ2luZSkgPT4gZGVmaW5lTWVzaFJlbmRlcmVyQ29tcG9uZW50KGVuZ2luZSk7XG4vKiBAX19QVVJFX18gKi9cbmV4cG9ydCBjb25zdCBNZXNoQ29sbGlkZXIgPSAoZW5naW5lKSA9PiBkZWZpbmVNZXNoQ29sbGlkZXJDb21wb25lbnQoZW5naW5lKTtcbi8qIEBfX1BVUkVfXyAqL1xuZXhwb3J0IGNvbnN0IFR3ZWVuID0gKGVuZ2luZSkgPT4gZGVmaW5lVHdlZW5Db21wb25lbnQoZW5naW5lKTtcbi8qIEBfX1BVUkVfXyAqL1xuZXhwb3J0IGNvbnN0IFZpcnR1YWxDYW1lcmEgPSAoZW5naW5lKSA9PiBkZWZpbmVWaXJ0dWFsQ2FtZXJhQ29tcG9uZW50KGVuZ2luZSk7XG4vKiBAX19QVVJFX18qL1xuZXhwb3J0IGNvbnN0IElucHV0TW9kaWZpZXIgPSAoZW5naW5lKSA9PiBkZWZpbmVJbnB1dE1vZGlmaWVyQ29tcG9uZW50KGVuZ2luZSk7XG4vKiBAX19QVVJFX18gKi9cbmV4cG9ydCBjb25zdCBMaWdodFNvdXJjZSA9IChlbmdpbmUpID0+IGRlZmluZUxpZ2h0U291cmNlQ29tcG9uZW50KGVuZ2luZSk7XG4vKiBAX19QVVJFX18gKi9cbmV4cG9ydCBjb25zdCBUcmlnZ2VyQXJlYSA9IChlbmdpbmUpID0+IGRlZmluZVRyaWdnZXJBcmVhQ29tcG9uZW50KGVuZ2luZSk7XG4vKipcbiAqIEBhbHBoYVxuICovXG4vKiBAX19QVVJFX18gKi9cbmV4cG9ydCBjb25zdCBOYW1lID0gKGVuZ2luZSkgPT4gZGVmaW5lTmFtZUNvbXBvbmVudChlbmdpbmUpO1xuLyogQF9fUFVSRV9fICovXG5leHBvcnQgY29uc3QgVGFncyA9IChlbmdpbmUpID0+IGRlZmluZVRhZ3NDb21wb25lbnQoZW5naW5lKTtcbi8qKlxuICogQGFscGhhXG4gKi9cbi8qIEBfX1BVUkVfXyAqL1xuZXhwb3J0IGNvbnN0IFN5bmNDb21wb25lbnRzID0gKGVuZ2luZSkgPT4gZGVmaW5lU3luY0NvbXBvbmVudChlbmdpbmUpO1xuLyoqXG4gKiBAYWxwaGFcbiAqL1xuLyogQF9fUFVSRV9fICovXG5leHBvcnQgY29uc3QgTmV0d29ya0VudGl0eSA9IChlbmdpbmUpID0+IGRlZmluZU5ldHdvcmtFbnRpdHkoZW5naW5lKTtcbi8qKlxuICogQGFscGhhXG4gKi9cbi8qIEBfX1BVUkVfXyAqL1xuZXhwb3J0IGNvbnN0IE5ldHdvcmtQYXJlbnQgPSAoZW5naW5lKSA9PiBkZWZpbmVOZXR3b3JrUGFyZW50KGVuZ2luZSk7XG5leHBvcnQgeyBNZWRpYVN0YXRlIH07XG4iLCAiLyoqXG4gKiBBdXRvZ2VuZXJhdGVkIG1hcHBpbmcgb2YgY29yZSBjb21wb25lbnRzIHRvIHRoZWlyIGNvbXBvbmVudCBudW1iZXJzXG4gKi9cbmV4cG9ydCBjb25zdCBjb3JlQ29tcG9uZW50TWFwcGluZ3MgPSB7XG4gICAgXCJjb3JlOjpUcmFuc2Zvcm1cIjogMSxcbiAgICBcImNvcmU6OkFuaW1hdG9yXCI6IDEwNDIsXG4gICAgXCJjb3JlOjpBdWRpb0V2ZW50XCI6IDExMDUsXG4gICAgXCJjb3JlOjpBdWRpb1NvdXJjZVwiOiAxMDIwLFxuICAgIFwiY29yZTo6QXVkaW9TdHJlYW1cIjogMTAyMSxcbiAgICBcImNvcmU6OkF2YXRhckF0dGFjaFwiOiAxMDczLFxuICAgIFwiY29yZTo6QXZhdGFyQmFzZVwiOiAxMDg3LFxuICAgIFwiY29yZTo6QXZhdGFyRW1vdGVDb21tYW5kXCI6IDEwODgsXG4gICAgXCJjb3JlOjpBdmF0YXJFcXVpcHBlZERhdGFcIjogMTA5MSxcbiAgICBcImNvcmU6OkF2YXRhck1vZGlmaWVyQXJlYVwiOiAxMDcwLFxuICAgIFwiY29yZTo6QXZhdGFyU2hhcGVcIjogMTA4MCxcbiAgICBcImNvcmU6OkJpbGxib2FyZFwiOiAxMDkwLFxuICAgIFwiY29yZTo6Q2FtZXJhTW9kZVwiOiAxMDcyLFxuICAgIFwiY29yZTo6Q2FtZXJhTW9kZUFyZWFcIjogMTA3MSxcbiAgICBcImNvcmU6OkVuZ2luZUluZm9cIjogMTA0OCxcbiAgICBcImNvcmU6OkdsdGZDb250YWluZXJcIjogMTA0MSxcbiAgICBcImNvcmU6OkdsdGZDb250YWluZXJMb2FkaW5nU3RhdGVcIjogMTA0OSxcbiAgICBcImNvcmU6OkdsdGZOb2RlTW9kaWZpZXJzXCI6IDEwOTksXG4gICAgXCJjb3JlOjpJbnB1dE1vZGlmaWVyXCI6IDEwNzgsXG4gICAgXCJjb3JlOjpMaWdodFNvdXJjZVwiOiAxMDc5LFxuICAgIFwiY29yZTo6TWFpbkNhbWVyYVwiOiAxMDc1LFxuICAgIFwiY29yZTo6TWFwUGluXCI6IDEwOTcsXG4gICAgXCJjb3JlOjpNYXRlcmlhbFwiOiAxMDE3LFxuICAgIFwiY29yZTo6TWVzaENvbGxpZGVyXCI6IDEwMTksXG4gICAgXCJjb3JlOjpNZXNoUmVuZGVyZXJcIjogMTAxOCxcbiAgICBcImNvcmU6Ok5mdFNoYXBlXCI6IDEwNDAsXG4gICAgXCJjb3JlOjpQbGF5ZXJJZGVudGl0eURhdGFcIjogMTA4OSxcbiAgICBcImNvcmU6OlBvaW50ZXJFdmVudHNcIjogMTA2MixcbiAgICBcImNvcmU6OlBvaW50ZXJFdmVudHNSZXN1bHRcIjogMTA2MyxcbiAgICBcImNvcmU6OlBvaW50ZXJMb2NrXCI6IDEwNzQsXG4gICAgXCJjb3JlOjpQcmltYXJ5UG9pbnRlckluZm9cIjogMTIwOSxcbiAgICBcImNvcmU6OlJheWNhc3RcIjogMTA2NyxcbiAgICBcImNvcmU6OlJheWNhc3RSZXN1bHRcIjogMTA2OCxcbiAgICBcImNvcmU6OlJlYWxtSW5mb1wiOiAxMTA2LFxuICAgIFwiY29yZTo6U2t5Ym94VGltZVwiOiAxMjEwLFxuICAgIFwiY29yZTo6VGV4dFNoYXBlXCI6IDEwMzAsXG4gICAgXCJjb3JlOjpUcmlnZ2VyQXJlYVwiOiAxMDYwLFxuICAgIFwiY29yZTo6VHJpZ2dlckFyZWFSZXN1bHRcIjogMTA2MSxcbiAgICBcImNvcmU6OlR3ZWVuXCI6IDExMDIsXG4gICAgXCJjb3JlOjpUd2VlblNlcXVlbmNlXCI6IDExMDQsXG4gICAgXCJjb3JlOjpUd2VlblN0YXRlXCI6IDExMDMsXG4gICAgXCJjb3JlOjpVaUJhY2tncm91bmRcIjogMTA1MyxcbiAgICBcImNvcmU6OlVpQ2FudmFzSW5mb3JtYXRpb25cIjogMTA1NCxcbiAgICBcImNvcmU6OlVpRHJvcGRvd25cIjogMTA5NCxcbiAgICBcImNvcmU6OlVpRHJvcGRvd25SZXN1bHRcIjogMTA5NixcbiAgICBcImNvcmU6OlVpSW5wdXRcIjogMTA5MyxcbiAgICBcImNvcmU6OlVpSW5wdXRSZXN1bHRcIjogMTA5NSxcbiAgICBcImNvcmU6OlVpVGV4dFwiOiAxMDUyLFxuICAgIFwiY29yZTo6VWlUcmFuc2Zvcm1cIjogMTA1MCxcbiAgICBcImNvcmU6OlZpZGVvRXZlbnRcIjogMTA0NCxcbiAgICBcImNvcmU6OlZpZGVvUGxheWVyXCI6IDEwNDMsXG4gICAgXCJjb3JlOjpWaXJ0dWFsQ2FtZXJhXCI6IDEwNzYsXG4gICAgXCJjb3JlOjpWaXNpYmlsaXR5Q29tcG9uZW50XCI6IDEwODFcbn07XG4iLCAiaW1wb3J0IHsgY29yZUNvbXBvbmVudE1hcHBpbmdzIH0gZnJvbSAnLi9nZW5lcmF0ZWQvY29tcG9uZW50LW5hbWVzLmdlbic7XG5pbXBvcnQgKiBhcyB1dGY4IGZyb20gJ0Bwcm90b2J1ZmpzL3V0ZjgnO1xuaW1wb3J0IHsgdW5zaWduZWRDUkMzMiB9IGZyb20gJy4uL3J1bnRpbWUvY3JjJztcbi8vIE1heCBwb3NzaWJsZSBwcmUtZGVmaW5lZCAoc3RhdGljKSBjb21wb25lbnQuXG5leHBvcnQgY29uc3QgTUFYX1NUQVRJQ19DT01QT05FTlQgPSAxIDw8IDExOyAvLyAyMDQ4XG4vKipcbiAqIEFsbCBjb21wb25lbnRzIHRoYXQgYXJlIG5vdCBwYXJ0IG9mIHRoZSBjb3JlQ29tcG9uZW50TWFwcGluZ3MgTVVTVCB5aWVsZFxuICogYSBjb21wb25lbnROdW1iZXIgKGNvbXBvbmVudElkKSBncmVhdGhlciB0aGFuIE1BWF9TVEFUSUNfQ09NUE9ORU5ULlxuICogRm9yIHRoYXQgcmVhc29uLCB3ZSBzaW1wbHkgYWRkIE1BWF9TVEFUSUNfQ09NUE9ORU5UIGFuZCB0cmltIHRvIHRoZSBkb21haW4gMl4zMlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcG9uZW50TnVtYmVyRnJvbU5hbWUoY29tcG9uZW50TmFtZSkge1xuICAgIGlmIChjb3JlQ29tcG9uZW50TWFwcGluZ3NbY29tcG9uZW50TmFtZV0pXG4gICAgICAgIHJldHVybiBjb3JlQ29tcG9uZW50TWFwcGluZ3NbY29tcG9uZW50TmFtZV07XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheSgxMjgpO1xuICAgIHV0Zjgud3JpdGUoY29tcG9uZW50TmFtZSwgYnl0ZXMsIDApO1xuICAgIHJldHVybiAoKHVuc2lnbmVkQ1JDMzIoYnl0ZXMpICsgTUFYX1NUQVRJQ19DT01QT05FTlQpICYgNDI5NDk2NzI5NSkgPj4+IDA7XG59XG4iLCAiY29uc3QgQ1JDX1RBQkxFID0gbmV3IEludDMyQXJyYXkoW1xuICAgIDB4MDAwMDAwMDAsIDB4NzcwNzMwOTYsIDB4ZWUwZTYxMmMsIDB4OTkwOTUxYmEsIDB4MDc2ZGM0MTksIDB4NzA2YWY0OGYsIDB4ZTk2M2E1MzUsIDB4OWU2NDk1YTMsIDB4MGVkYjg4MzIsXG4gICAgMHg3OWRjYjhhNCwgMHhlMGQ1ZTkxZSwgMHg5N2QyZDk4OCwgMHgwOWI2NGMyYiwgMHg3ZWIxN2NiZCwgMHhlN2I4MmQwNywgMHg5MGJmMWQ5MSwgMHgxZGI3MTA2NCwgMHg2YWIwMjBmMixcbiAgICAweGYzYjk3MTQ4LCAweDg0YmU0MWRlLCAweDFhZGFkNDdkLCAweDZkZGRlNGViLCAweGY0ZDRiNTUxLCAweDgzZDM4NWM3LCAweDEzNmM5ODU2LCAweDY0NmJhOGMwLCAweGZkNjJmOTdhLFxuICAgIDB4OGE2NWM5ZWMsIDB4MTQwMTVjNGYsIDB4NjMwNjZjZDksIDB4ZmEwZjNkNjMsIDB4OGQwODBkZjUsIDB4M2I2ZTIwYzgsIDB4NGM2OTEwNWUsIDB4ZDU2MDQxZTQsIDB4YTI2NzcxNzIsXG4gICAgMHgzYzAzZTRkMSwgMHg0YjA0ZDQ0NywgMHhkMjBkODVmZCwgMHhhNTBhYjU2YiwgMHgzNWI1YThmYSwgMHg0MmIyOTg2YywgMHhkYmJiYzlkNiwgMHhhY2JjZjk0MCwgMHgzMmQ4NmNlMyxcbiAgICAweDQ1ZGY1Yzc1LCAweGRjZDYwZGNmLCAweGFiZDEzZDU5LCAweDI2ZDkzMGFjLCAweDUxZGUwMDNhLCAweGM4ZDc1MTgwLCAweGJmZDA2MTE2LCAweDIxYjRmNGI1LCAweDU2YjNjNDIzLFxuICAgIDB4Y2ZiYTk1OTksIDB4YjhiZGE1MGYsIDB4MjgwMmI4OWUsIDB4NWYwNTg4MDgsIDB4YzYwY2Q5YjIsIDB4YjEwYmU5MjQsIDB4MmY2ZjdjODcsIDB4NTg2ODRjMTEsIDB4YzE2MTFkYWIsXG4gICAgMHhiNjY2MmQzZCwgMHg3NmRjNDE5MCwgMHgwMWRiNzEwNiwgMHg5OGQyMjBiYywgMHhlZmQ1MTAyYSwgMHg3MWIxODU4OSwgMHgwNmI2YjUxZiwgMHg5ZmJmZTRhNSwgMHhlOGI4ZDQzMyxcbiAgICAweDc4MDdjOWEyLCAweDBmMDBmOTM0LCAweDk2MDlhODhlLCAweGUxMGU5ODE4LCAweDdmNmEwZGJiLCAweDA4NmQzZDJkLCAweDkxNjQ2Yzk3LCAweGU2NjM1YzAxLCAweDZiNmI1MWY0LFxuICAgIDB4MWM2YzYxNjIsIDB4ODU2NTMwZDgsIDB4ZjI2MjAwNGUsIDB4NmMwNjk1ZWQsIDB4MWIwMWE1N2IsIDB4ODIwOGY0YzEsIDB4ZjUwZmM0NTcsIDB4NjViMGQ5YzYsIDB4MTJiN2U5NTAsXG4gICAgMHg4YmJlYjhlYSwgMHhmY2I5ODg3YywgMHg2MmRkMWRkZiwgMHgxNWRhMmQ0OSwgMHg4Y2QzN2NmMywgMHhmYmQ0NGM2NSwgMHg0ZGIyNjE1OCwgMHgzYWI1NTFjZSwgMHhhM2JjMDA3NCxcbiAgICAweGQ0YmIzMGUyLCAweDRhZGZhNTQxLCAweDNkZDg5NWQ3LCAweGE0ZDFjNDZkLCAweGQzZDZmNGZiLCAweDQzNjllOTZhLCAweDM0NmVkOWZjLCAweGFkNjc4ODQ2LCAweGRhNjBiOGQwLFxuICAgIDB4NDQwNDJkNzMsIDB4MzMwMzFkZTUsIDB4YWEwYTRjNWYsIDB4ZGQwZDdjYzksIDB4NTAwNTcxM2MsIDB4MjcwMjQxYWEsIDB4YmUwYjEwMTAsIDB4YzkwYzIwODYsIDB4NTc2OGI1MjUsXG4gICAgMHgyMDZmODViMywgMHhiOTY2ZDQwOSwgMHhjZTYxZTQ5ZiwgMHg1ZWRlZjkwZSwgMHgyOWQ5Yzk5OCwgMHhiMGQwOTgyMiwgMHhjN2Q3YThiNCwgMHg1OWIzM2QxNywgMHgyZWI0MGQ4MSxcbiAgICAweGI3YmQ1YzNiLCAweGMwYmE2Y2FkLCAweGVkYjg4MzIwLCAweDlhYmZiM2I2LCAweDAzYjZlMjBjLCAweDc0YjFkMjlhLCAweGVhZDU0NzM5LCAweDlkZDI3N2FmLCAweDA0ZGIyNjE1LFxuICAgIDB4NzNkYzE2ODMsIDB4ZTM2MzBiMTIsIDB4OTQ2NDNiODQsIDB4MGQ2ZDZhM2UsIDB4N2E2YTVhYTgsIDB4ZTQwZWNmMGIsIDB4OTMwOWZmOWQsIDB4MGEwMGFlMjcsIDB4N2QwNzllYjEsXG4gICAgMHhmMDBmOTM0NCwgMHg4NzA4YTNkMiwgMHgxZTAxZjI2OCwgMHg2OTA2YzJmZSwgMHhmNzYyNTc1ZCwgMHg4MDY1NjdjYiwgMHgxOTZjMzY3MSwgMHg2ZTZiMDZlNywgMHhmZWQ0MWI3NixcbiAgICAweDg5ZDMyYmUwLCAweDEwZGE3YTVhLCAweDY3ZGQ0YWNjLCAweGY5YjlkZjZmLCAweDhlYmVlZmY5LCAweDE3YjdiZTQzLCAweDYwYjA4ZWQ1LCAweGQ2ZDZhM2U4LCAweGExZDE5MzdlLFxuICAgIDB4MzhkOGMyYzQsIDB4NGZkZmYyNTIsIDB4ZDFiYjY3ZjEsIDB4YTZiYzU3NjcsIDB4M2ZiNTA2ZGQsIDB4NDhiMjM2NGIsIDB4ZDgwZDJiZGEsIDB4YWYwYTFiNGMsIDB4MzYwMzRhZjYsXG4gICAgMHg0MTA0N2E2MCwgMHhkZjYwZWZjMywgMHhhODY3ZGY1NSwgMHgzMTZlOGVlZiwgMHg0NjY5YmU3OSwgMHhjYjYxYjM4YywgMHhiYzY2ODMxYSwgMHgyNTZmZDJhMCwgMHg1MjY4ZTIzNixcbiAgICAweGNjMGM3Nzk1LCAweGJiMGI0NzAzLCAweDIyMDIxNmI5LCAweDU1MDUyNjJmLCAweGM1YmEzYmJlLCAweGIyYmQwYjI4LCAweDJiYjQ1YTkyLCAweDVjYjM2YTA0LCAweGMyZDdmZmE3LFxuICAgIDB4YjVkMGNmMzEsIDB4MmNkOTllOGIsIDB4NWJkZWFlMWQsIDB4OWI2NGMyYjAsIDB4ZWM2M2YyMjYsIDB4NzU2YWEzOWMsIDB4MDI2ZDkzMGEsIDB4OWMwOTA2YTksIDB4ZWIwZTM2M2YsXG4gICAgMHg3MjA3Njc4NSwgMHgwNTAwNTcxMywgMHg5NWJmNGE4MiwgMHhlMmI4N2ExNCwgMHg3YmIxMmJhZSwgMHgwY2I2MWIzOCwgMHg5MmQyOGU5YiwgMHhlNWQ1YmUwZCwgMHg3Y2RjZWZiNyxcbiAgICAweDBiZGJkZjIxLCAweDg2ZDNkMmQ0LCAweGYxZDRlMjQyLCAweDY4ZGRiM2Y4LCAweDFmZGE4MzZlLCAweDgxYmUxNmNkLCAweGY2YjkyNjViLCAweDZmYjA3N2UxLCAweDE4Yjc0Nzc3LFxuICAgIDB4ODgwODVhZTYsIDB4ZmYwZjZhNzAsIDB4NjYwNjNiY2EsIDB4MTEwMTBiNWMsIDB4OGY2NTllZmYsIDB4Zjg2MmFlNjksIDB4NjE2YmZmZDMsIDB4MTY2Y2NmNDUsIDB4YTAwYWUyNzgsXG4gICAgMHhkNzBkZDJlZSwgMHg0ZTA0ODM1NCwgMHgzOTAzYjNjMiwgMHhhNzY3MjY2MSwgMHhkMDYwMTZmNywgMHg0OTY5NDc0ZCwgMHgzZTZlNzdkYiwgMHhhZWQxNmE0YSwgMHhkOWQ2NWFkYyxcbiAgICAweDQwZGYwYjY2LCAweDM3ZDgzYmYwLCAweGE5YmNhZTUzLCAweGRlYmI5ZWM1LCAweDQ3YjJjZjdmLCAweDMwYjVmZmU5LCAweGJkYmRmMjFjLCAweGNhYmFjMjhhLCAweDUzYjM5MzMwLFxuICAgIDB4MjRiNGEzYTYsIDB4YmFkMDM2MDUsIDB4Y2RkNzA2OTMsIDB4NTRkZTU3MjksIDB4MjNkOTY3YmYsIDB4YjM2NjdhMmUsIDB4YzQ2MTRhYjgsIDB4NWQ2ODFiMDIsIDB4MmE2ZjJiOTQsXG4gICAgMHhiNDBiYmUzNywgMHhjMzBjOGVhMSwgMHg1YTA1ZGYxYiwgMHgyZDAyZWY4ZFxuXSk7XG5mdW5jdGlvbiBfY3JjMzIoYnVmLCBwcmV2aW91cykge1xuICAgIGxldCBjcmMgPSB+fnByZXZpb3VzIF4gLTE7XG4gICAgZm9yIChsZXQgbiA9IDA7IG4gPCBidWYubGVuZ3RoOyBuKyspIHtcbiAgICAgICAgY3JjID0gQ1JDX1RBQkxFWyhjcmMgXiBidWZbbl0pICYgMHhmZl0gXiAoY3JjID4+PiA4KTtcbiAgICB9XG4gICAgcmV0dXJuIGNyYyBeIC0xO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVuc2lnbmVkQ1JDMzIoZGF0YSwgcHJldiA9IDApIHtcbiAgICByZXR1cm4gX2NyYzMyKGRhdGEsIHByZXYpID4+PiAwO1xufVxuIiwgIi8qIGlzdGFuYnVsIGlnbm9yZSBmaWxlICovXG5leHBvcnQgY29uc3QgX19ERVZfXyA9ICh0eXBlb2YgREVCVUcgPT09ICdib29sZWFuJyAmJiBERUJVRykgfHxcbiAgICAodHlwZW9mIHByb2Nlc3MgPT09ICdvYmplY3QnICYmXG4gICAgICAgIChwcm9jZXNzLmVudj8uTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyB8fCBwcm9jZXNzLmVudj8uTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpKSB8fFxuICAgIGZhbHNlO1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrTm90VGhlbmFibGUodCwgZXJyb3IpIHtcbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgICBpZiAodCAmJiB0eXBlb2YgdCA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHQudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdDtcbn1cbiIsICIvKipcbiAqXG4gKiBAcmV0dXJucyBhIG5ldyBHU2V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVWZXJzaW9uR1NldCgpIHtcbiAgICBjb25zdCBsYXN0VmVyc2lvbiA9IG5ldyBNYXAoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIG51bWJlclxuICAgICAgICAgKiBAcGFyYW0gdmVyc2lvblxuICAgICAgICAgKiBAcmV0dXJuc1xuICAgICAgICAgKi9cbiAgICAgICAgYWRkVG8obnVtYmVyLCB2ZXJzaW9uKSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgaWYgKHZlcnNpb24gPCAwKSB7XG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBsYXN0VmVyc2lvbi5nZXQobnVtYmVyKTtcbiAgICAgICAgICAgIC8vIElmIHRoZSB2ZXJzaW9uIGlzID49LCBpdCBtZWFucyB0aGUgdmFsdWUgaXQncyBhbHJlYWR5IGluIHRoZSBzZXRcbiAgICAgICAgICAgIGlmIChjdXJyZW50VmFsdWUgIT09IHVuZGVmaW5lZCAmJiBjdXJyZW50VmFsdWUgPj0gdmVyc2lvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdFZlcnNpb24uc2V0KG51bWJlciwgdmVyc2lvbik7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHRoZSBzZXQgd2l0aCBbbnVtYmVyLCB2ZXJzaW9uXSBvZiBlYWNoIHZhbHVlXG4gICAgICAgICAqL1xuICAgICAgICBoYXMobiwgdikge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gbGFzdFZlcnNpb24uZ2V0KG4pO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHZlcnNpb24gaXMgPj0sIGl0IG1lYW5zIHRoZSB2YWx1ZSBpdCdzIGFscmVhZHkgaW4gdGhlIHNldFxuICAgICAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSAhPT0gdW5kZWZpbmVkICYmIGN1cnJlbnRWYWx1ZSA+PSB2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXYXJuaW5nOiB0aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHJlZmVyZW5jZSB0byB0aGUgaW50ZXJuYWwgbWFwLFxuICAgICAgICAgKiAgaWYgeW91IG5lZWQgdG8gbXV0YXRlIHNvbWUgdmFsdWUsIG1ha2UgYSBjb3B5LlxuICAgICAgICAgKiBGb3Igb3B0aW1pemF0aW9uIHB1cnBvc2UgdGhlIGNvcHkgaXNuJ3QgbWFkZSBoZXJlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyB0aGUgbWFwIG9mIG51bWJlciB0byB2ZXJzaW9uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRNYXAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbGFzdFZlcnNpb247XG4gICAgICAgIH1cbiAgICB9O1xufVxuIiwgImltcG9ydCB7IGNyZWF0ZVZlcnNpb25HU2V0IH0gZnJvbSAnLi4vc3lzdGVtcy9jcmR0L2dzZXQnO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IE1BWF9VMTYgPSAweGZmZmY7XG5jb25zdCBNQVNLX1VQUEVSXzE2X09OXzMyID0gMHhmZmZmMDAwMDtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBBTU9VTlRfVkVSU0lPTl9BVkFJTEFCTEUgPSBNQVhfVTE2ICsgMTtcbi8vIFRoaXMgdHlwZSBtYXRjaGVzIHdpdGggQGRjbC9jcmR0IGVudGl0eSB0eXBlLlxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IE1BWF9FTlRJVFlfTlVNQkVSID0gTUFYX1UxNjtcbi8qKlxuICogVGhpcyBmaXJzdCA1MTIgZW50aXRpZXMgYXJlIHJlc2VydmVkIGJ5IHRoZSByZW5kZXJlclxuICovXG5leHBvcnQgY29uc3QgUkVTRVJWRURfU1RBVElDX0VOVElUSUVTID0gNTEyO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgRW50aXR5VXRpbHM7XG4oZnVuY3Rpb24gKEVudGl0eVV0aWxzKSB7XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgW2VudGl0eU51bWJlciwgZW50aXR5VmVyc2lvbl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tRW50aXR5SWQoZW50aXR5SWQpIHtcbiAgICAgICAgcmV0dXJuIFsoZW50aXR5SWQgJiBNQVhfVTE2KSA+Pj4gMCwgKCgoZW50aXR5SWQgJiBNQVNLX1VQUEVSXzE2X09OXzMyKSA+PiAxNikgJiBNQVhfVTE2KSA+Pj4gMF07XG4gICAgfVxuICAgIEVudGl0eVV0aWxzLmZyb21FbnRpdHlJZCA9IGZyb21FbnRpdHlJZDtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBjb21wb3VuZCBudW1iZXIgZnJvbSBlbnRpdHlOdW1iZXIgYW5kIGVudGl0eVZlcmlzb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0VudGl0eUlkKGVudGl0eU51bWJlciwgZW50aXR5VmVyc2lvbikge1xuICAgICAgICByZXR1cm4gKCgoZW50aXR5TnVtYmVyICYgTUFYX1UxNikgfCAoKGVudGl0eVZlcnNpb24gJiBNQVhfVTE2KSA8PCAxNikpID4+PiAwKTtcbiAgICB9XG4gICAgRW50aXR5VXRpbHMudG9FbnRpdHlJZCA9IHRvRW50aXR5SWQ7XG59KShFbnRpdHlVdGlscyB8fCAoRW50aXR5VXRpbHMgPSB7fSkpO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgRW50aXR5U3RhdGU7XG4oZnVuY3Rpb24gKEVudGl0eVN0YXRlKSB7XG4gICAgRW50aXR5U3RhdGVbRW50aXR5U3RhdGVbXCJVbmtub3duXCJdID0gMF0gPSBcIlVua25vd25cIjtcbiAgICAvKipcbiAgICAgKiBUaGUgZW50aXR5IHdhcyBnZW5lcmF0ZWQgYW5kIGFkZGVkIHRvIHRoZSB1c2VkRW50aXRpZXMgc2V0XG4gICAgICovXG4gICAgRW50aXR5U3RhdGVbRW50aXR5U3RhdGVbXCJVc2VkRW50aXR5XCJdID0gMV0gPSBcIlVzZWRFbnRpdHlcIjtcbiAgICAvKipcbiAgICAgKiBUaGUgZW50aXR5IHdhcyByZW1vdmVkIGZyb20gY3VycmVudCBlbmdpbmUgb3IgcmVtb3RlbHlcbiAgICAgKi9cbiAgICBFbnRpdHlTdGF0ZVtFbnRpdHlTdGF0ZVtcIlJlbW92ZWRcIl0gPSAyXSA9IFwiUmVtb3ZlZFwiO1xuICAgIC8qKlxuICAgICAqIFRoZSBlbnRpdHkgaXMgcmVzZXJ2ZWQgbnVtYmVyLlxuICAgICAqL1xuICAgIEVudGl0eVN0YXRlW0VudGl0eVN0YXRlW1wiUmVzZXJ2ZWRcIl0gPSAzXSA9IFwiUmVzZXJ2ZWRcIjtcbn0pKEVudGl0eVN0YXRlIHx8IChFbnRpdHlTdGF0ZSA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVudGl0eUNvbnRhaW5lcihvcHRzKSB7XG4gICAgY29uc3QgcmVzZXJ2ZWRTdGF0aWNFbnRpdGllcyA9IG9wdHM/LnJlc2VydmVkU3RhdGljRW50aXRpZXMgPz8gUkVTRVJWRURfU1RBVElDX0VOVElUSUVTO1xuICAgIC8vIExvY2FsIGVudGl0aWVzIGNvdW50ZXJcbiAgICBsZXQgZW50aXR5Q291bnRlciA9IHJlc2VydmVkU3RhdGljRW50aXRpZXM7XG4gICAgY29uc3QgdXNlZEVudGl0aWVzID0gbmV3IFNldCgpO1xuICAgIGxldCB0b1JlbW92ZUVudGl0aWVzID0gW107XG4gICAgY29uc3QgcmVtb3ZlZEVudGl0aWVzID0gY3JlYXRlVmVyc2lvbkdTZXQoKTtcbiAgICBmdW5jdGlvbiBnZW5lcmF0ZU5ld0VudGl0eSgpIHtcbiAgICAgICAgaWYgKGVudGl0eUNvdW50ZXIgPiBNQVhfRU5USVRZX05VTUJFUiAtIDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSXQgZmFpbHMgdHJ5aW5nIHRvIGdlbmVyYXRlIGFuIGVudGl0eSBvdXQgb2YgcmFuZ2UgJHtNQVhfRU5USVRZX05VTUJFUn0uYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZW50aXR5TnVtYmVyID0gZW50aXR5Q291bnRlcisrO1xuICAgICAgICBjb25zdCBlbnRpdHlWZXJzaW9uID0gcmVtb3ZlZEVudGl0aWVzLmdldE1hcCgpLmhhcyhlbnRpdHlOdW1iZXIpXG4gICAgICAgICAgICA/IHJlbW92ZWRFbnRpdGllcy5nZXRNYXAoKS5nZXQoZW50aXR5TnVtYmVyKSArIDFcbiAgICAgICAgICAgIDogMDtcbiAgICAgICAgY29uc3QgZW50aXR5ID0gRW50aXR5VXRpbHMudG9FbnRpdHlJZChlbnRpdHlOdW1iZXIsIGVudGl0eVZlcnNpb24pO1xuICAgICAgICBpZiAodXNlZEVudGl0aWVzLmhhcyhlbnRpdHkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVOZXdFbnRpdHkoKTtcbiAgICAgICAgfVxuICAgICAgICB1c2VkRW50aXRpZXMuYWRkKGVudGl0eSk7XG4gICAgICAgIHJldHVybiBlbnRpdHk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlRW50aXR5KCkge1xuICAgICAgICBjb25zdCB1c2VkU2l6ZSA9IHVzZWRFbnRpdGllcy5zaXplO1xuICAgICAgICAvLyBJZiBhbGwgZW50aXRpZXMgdW50aWwgYGVudGl0eUNvdW50ZXJgIGFyZSBiZWluZyB1c2VkLCB3ZSBuZWVkIHRvIGdlbmVyYXRlIGFub3RoZXIgb25lXG4gICAgICAgIGlmICh1c2VkU2l6ZSArIHJlc2VydmVkU3RhdGljRW50aXRpZXMgPj0gZW50aXR5Q291bnRlcikge1xuICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlTmV3RW50aXR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBbbnVtYmVyLCB2ZXJzaW9uXSBvZiByZW1vdmVkRW50aXRpZXMuZ2V0TWFwKCkpIHtcbiAgICAgICAgICAgIGlmICh2ZXJzaW9uIDwgTUFYX1UxNikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVudGl0eSA9IEVudGl0eVV0aWxzLnRvRW50aXR5SWQobnVtYmVyLCB2ZXJzaW9uICsgMSk7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGVudGl0eSBpcyBub3QgYmVpbmcgdXNlZCwgd2UgY2FuIHJlLXVzZSBpdFxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBlbnRpdHkgd2FzIHJlbW92ZWQgaW4gdGhpcyB0aWNrLCB3ZSdyZSBub3QgY291bnRpbmcgZm9yIHRoZSB1c2VkRW50aXRpZXMsIGJ1dCB3ZSBoYXZlIGl0IGluIHRoZSB0b1JlbW92ZUVudGl0eUFycmF5XG4gICAgICAgICAgICAgICAgaWYgKCF1c2VkRW50aXRpZXMuaGFzKGVudGl0eSkgJiYgIXRvUmVtb3ZlRW50aXRpZXMuaW5jbHVkZXMoZW50aXR5KSkge1xuICAgICAgICAgICAgICAgICAgICB1c2VkRW50aXRpZXMuYWRkKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRpdHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZW5lcmF0ZU5ld0VudGl0eSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVFbnRpdHkoZW50aXR5KSB7XG4gICAgICAgIGlmIChlbnRpdHkgPCByZXNlcnZlZFN0YXRpY0VudGl0aWVzKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAodXNlZEVudGl0aWVzLmhhcyhlbnRpdHkpKSB7XG4gICAgICAgICAgICB1c2VkRW50aXRpZXMuZGVsZXRlKGVudGl0eSk7XG4gICAgICAgICAgICB0b1JlbW92ZUVudGl0aWVzLnB1c2goZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHVwZGF0ZVJlbW92ZWRFbnRpdHkoZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVsZWFzZVJlbW92ZWRFbnRpdGllcygpIHtcbiAgICAgICAgY29uc3QgYXJyID0gdG9SZW1vdmVFbnRpdGllcztcbiAgICAgICAgaWYgKGFyci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRvUmVtb3ZlRW50aXRpZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGFycikge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtuLCB2XSA9IEVudGl0eVV0aWxzLmZyb21FbnRpdHlJZChlbnRpdHkpO1xuICAgICAgICAgICAgICAgIHJlbW92ZWRFbnRpdGllcy5hZGRUbyhuLCB2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVSZW1vdmVkRW50aXR5KGVudGl0eSkge1xuICAgICAgICBjb25zdCBbbiwgdl0gPSBFbnRpdHlVdGlscy5mcm9tRW50aXR5SWQoZW50aXR5KTtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSByZW1vdmVkIGVudGl0aWVzIG1hcFxuICAgICAgICByZW1vdmVkRW50aXRpZXMuYWRkVG8obiwgdik7XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgdXNlZEVudGl0aWVzIGlmIGV4aXN0XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHY7IGkrKykge1xuICAgICAgICAgICAgdXNlZEVudGl0aWVzLmRlbGV0ZShFbnRpdHlVdGlscy50b0VudGl0eUlkKG4sIGkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlVXNlZEVudGl0eShlbnRpdHkpIHtcbiAgICAgICAgY29uc3QgW24sIHZdID0gRW50aXR5VXRpbHMuZnJvbUVudGl0eUlkKGVudGl0eSk7XG4gICAgICAgIC8vIGlmIHRoZSBlbnRpdHkgd2FzIHJlbW92ZWQgdGhlbiBhYm9ydCBmYXN0XG4gICAgICAgIGlmIChyZW1vdmVkRW50aXRpZXMuaGFzKG4sIHYpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBVcGRhdGVcbiAgICAgICAgaWYgKHYgPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSB2IC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdXNlZEVudGl0aWVzLmRlbGV0ZShFbnRpdHlVdGlscy50b0VudGl0eUlkKG4sIGkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbW92ZWRFbnRpdGllcy5hZGRUbyhuLCB2IC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgdXNlZEVudGl0aWVzLmFkZChlbnRpdHkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RW50aXR5U3RhdGUoZW50aXR5KSB7XG4gICAgICAgIGNvbnN0IFtuLCB2XSA9IEVudGl0eVV0aWxzLmZyb21FbnRpdHlJZChlbnRpdHkpO1xuICAgICAgICBpZiAobiA8IHJlc2VydmVkU3RhdGljRW50aXRpZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBFbnRpdHlTdGF0ZS5SZXNlcnZlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXNlZEVudGl0aWVzLmhhcyhlbnRpdHkpKSB7XG4gICAgICAgICAgICByZXR1cm4gRW50aXR5U3RhdGUuVXNlZEVudGl0eTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZW1vdmVkVmVyc2lvbiA9IHJlbW92ZWRFbnRpdGllcy5nZXRNYXAoKS5nZXQobik7XG4gICAgICAgIGlmIChyZW1vdmVkVmVyc2lvbiAhPT0gdW5kZWZpbmVkICYmIHJlbW92ZWRWZXJzaW9uID49IHYpIHtcbiAgICAgICAgICAgIHJldHVybiBFbnRpdHlTdGF0ZS5SZW1vdmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBFbnRpdHlTdGF0ZS5Vbmtub3duO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBnZW5lcmF0ZUVudGl0eSxcbiAgICAgICAgcmVtb3ZlRW50aXR5LFxuICAgICAgICBnZXRFeGlzdGluZ0VudGl0aWVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTZXQodXNlZEVudGl0aWVzKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0RW50aXR5U3RhdGUsXG4gICAgICAgIHJlbGVhc2VSZW1vdmVkRW50aXRpZXMsXG4gICAgICAgIHVwZGF0ZVJlbW92ZWRFbnRpdHksXG4gICAgICAgIHVwZGF0ZVVzZWRFbnRpdHlcbiAgICB9O1xufVxuIiwgInZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59O1xudmFyIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfd29BZGQsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkO1xuaW1wb3J0ICogYXMgdXRmOCBmcm9tICdAcHJvdG9idWZqcy91dGY4Jztcbi8qKlxuICogVGFrZSB0aGUgbWF4IGJldHdlZW4gY3VycmVudFNpemUgYW5kIGludGVuZGVkU2l6ZSBhbmQgdGhlbiBwbHVzIDEwMjQuIFRoZW4sXG4gKiAgZmluZCB0aGUgbmV4dCBuZWFyZXIgbXVsdGlwbGUgb2YgMTAyNC5cbiAqIEBwYXJhbSBjdXJyZW50U2l6ZSAtIG51bWJlclxuICogQHBhcmFtIGludGVuZGVkU2l6ZSAtIG51bWJlclxuICogQHJldHVybnMgdGhlIGNhbGN1bGF0ZWQgbnVtYmVyXG4gKi9cbmZ1bmN0aW9uIGdldE5leHRTaXplKGN1cnJlbnRTaXplLCBpbnRlbmRlZFNpemUpIHtcbiAgICBjb25zdCBtaW5OZXdTaXplID0gTWF0aC5tYXgoY3VycmVudFNpemUsIGludGVuZGVkU2l6ZSkgKyAxMDI0O1xuICAgIHJldHVybiBNYXRoLmNlaWwobWluTmV3U2l6ZSAvIDEwMjQpICogMTAyNDtcbn1cbmNvbnN0IGRlZmF1bHRJbml0aWFsQ2FwYWNpdHkgPSAxMDI0MDtcbi8qKlxuICogQnl0ZUJ1ZmZlciBpcyBhIHdyYXBwZXIgb2YgRGF0YVZpZXcgd2hpY2ggYWxzbyBhZGRzIGEgcmVhZCBhbmQgd3JpdGUgb2Zmc2V0LlxuICogIEFsc28gaW4gYSB3cml0ZSBvcGVyYXRpb24gaXQgcmVzaXplcyB0aGUgYnVmZmVyIGlzIGJlaW5nIHVzZWQgaWYgaXQgbmVlZHMuXG4gKlxuICogLSBVc2UgcmVhZCBhbmQgd3JpdGUgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgb3IgY29uc3VtZSBkYXRhLlxuICogLSBVc2Ugc2V0IGFuZCBnZXQgb25seSBpZiB5b3UgYXJlIHN1cmUgdGhhdCB5b3UncmUgZG9pbmcuXG4gKlxuICogSXQgYWx3YXlzIHBhc3NlcyBsaXR0bGVFbmRpYW4gcGFyYW0gYXMgdHJ1ZVxuICovXG5leHBvcnQgY2xhc3MgUmVhZFdyaXRlQnl0ZUJ1ZmZlciB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGJ1ZmZlciAtIFRoZSBpbml0aWFsIGJ1ZmZlciwgcHJvdmlkZSBhIGJ1ZmZlciBpZiB5b3UgbmVlZCB0byBzZXQgXCJpbml0aWFsIGNhcGFjaXR5XCJcbiAgICAgKiBAcGFyYW0gcmVhZGluZ09mZnNldCAtIFNldCB0aGUgY3Vyc29yIHdoZXJlIGJlZ2lucyB0byByZWFkLiBEZWZhdWx0IDBcbiAgICAgKiBAcGFyYW0gd3JpdGluZ09mZnNldCAtIFNldCB0aGUgY3Vyc29yIHRvIG5vdCBzdGFydCB3cml0aW5nIGZyb20gdGhlIGJlZ2luIG9mIGl0LiBEZWZhdWx0cyB0byB0aGUgYnVmZmVyIHNpemVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihidWZmZXIsIHJlYWRpbmdPZmZzZXQsIHdyaXRpbmdPZmZzZXQpIHtcbiAgICAgICAgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLmFkZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYnVmZmVyID0gYnVmZmVyIHx8IG5ldyBVaW50OEFycmF5KGRlZmF1bHRJbml0aWFsQ2FwYWNpdHkpO1xuICAgICAgICB0aGlzLnZpZXcgPSBuZXcgRGF0YVZpZXcodGhpcy5fYnVmZmVyLmJ1ZmZlciwgdGhpcy5fYnVmZmVyLmJ5dGVPZmZzZXQpO1xuICAgICAgICB0aGlzLndvZmZzZXQgPSB3cml0aW5nT2Zmc2V0ID8/IChidWZmZXIgPyB0aGlzLl9idWZmZXIubGVuZ3RoIDogbnVsbCkgPz8gMDtcbiAgICAgICAgdGhpcy5yb2Zmc2V0ID0gcmVhZGluZ09mZnNldCA/PyAwO1xuICAgIH1cbiAgICBidWZmZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXI7XG4gICAgfVxuICAgIGJ1ZmZlckxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlci5sZW5ndGg7XG4gICAgfVxuICAgIHJlc2V0QnVmZmVyKCkge1xuICAgICAgICB0aGlzLnJvZmZzZXQgPSAwO1xuICAgICAgICB0aGlzLndvZmZzZXQgPSAwO1xuICAgIH1cbiAgICBjdXJyZW50UmVhZE9mZnNldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9mZnNldDtcbiAgICB9XG4gICAgY3VycmVudFdyaXRlT2Zmc2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy53b2Zmc2V0O1xuICAgIH1cbiAgICBpbmNyZW1lbnRSZWFkT2Zmc2V0KGFtb3VudCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCkuY2FsbCh0aGlzLCBhbW91bnQpO1xuICAgIH1cbiAgICByZW1haW5pbmdCeXRlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud29mZnNldCAtIHRoaXMucm9mZnNldDtcbiAgICB9XG4gICAgcmVhZEZsb2F0MzIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0RmxvYXQzMihfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIDQpLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICByZWFkRmxvYXQ2NCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRGbG9hdDY0KF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQpLmNhbGwodGhpcywgOCksIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHJlYWRJbnQ4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEludDgoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCkuY2FsbCh0aGlzLCAxKSk7XG4gICAgfVxuICAgIHJlYWRJbnQxNigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRJbnQxNihfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIDIpLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICByZWFkSW50MzIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0SW50MzIoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCkuY2FsbCh0aGlzLCA0KSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgcmVhZEludDY0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEJpZ0ludDY0KF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQpLmNhbGwodGhpcywgOCksIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHJlYWRVaW50OCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRVaW50OChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIDEpKTtcbiAgICB9XG4gICAgcmVhZFVpbnQxNigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRVaW50MTYoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCkuY2FsbCh0aGlzLCAyKSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgcmVhZFVpbnQzMigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRVaW50MzIoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCkuY2FsbCh0aGlzLCA0KSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgcmVhZFVpbnQ2NCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRCaWdVaW50NjQoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCkuY2FsbCh0aGlzLCA4KSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgcmVhZEJ1ZmZlcigpIHtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdGhpcy52aWV3LmdldFVpbnQzMihfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIDQpLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyLnN1YmFycmF5KF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQpLmNhbGwodGhpcywgbGVuZ3RoKSwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCkuY2FsbCh0aGlzLCAwKSk7XG4gICAgfVxuICAgIHJlYWRVdGY4U3RyaW5nKCkge1xuICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLnZpZXcuZ2V0VWludDMyKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQpLmNhbGwodGhpcywgNCksIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgICAgIHJldHVybiB1dGY4LnJlYWQodGhpcy5fYnVmZmVyLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIGxlbmd0aCksIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQpLmNhbGwodGhpcywgMCkpO1xuICAgIH1cbiAgICBpbmNyZW1lbnRXcml0ZU9mZnNldChhbW91bnQpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfd29BZGQpLmNhbGwodGhpcywgYW1vdW50KTtcbiAgICB9XG4gICAgdG9CaW5hcnkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXIuc3ViYXJyYXkoMCwgdGhpcy53b2Zmc2V0KTtcbiAgICB9XG4gICAgdG9Db3BpZWRCaW5hcnkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh0aGlzLnRvQmluYXJ5KCkpO1xuICAgIH1cbiAgICB3cml0ZUJ1ZmZlcih2YWx1ZSwgd3JpdGVMZW5ndGggPSB0cnVlKSB7XG4gICAgICAgIGlmICh3cml0ZUxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy53cml0ZVVpbnQzMih2YWx1ZS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl93b0FkZCkuY2FsbCh0aGlzLCB2YWx1ZS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgdGhpcy5fYnVmZmVyLnNldCh2YWx1ZSwgbyk7XG4gICAgfVxuICAgIHdyaXRlVXRmOFN0cmluZyh2YWx1ZSwgd3JpdGVMZW5ndGggPSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IGJ5dGVMZW5ndGggPSB1dGY4Lmxlbmd0aCh2YWx1ZSk7XG4gICAgICAgIGlmICh3cml0ZUxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy53cml0ZVVpbnQzMihieXRlTGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl93b0FkZCkuY2FsbCh0aGlzLCBieXRlTGVuZ3RoKTtcbiAgICAgICAgdXRmOC53cml0ZSh2YWx1ZSwgdGhpcy5fYnVmZmVyLCBvKTtcbiAgICB9XG4gICAgd3JpdGVGbG9hdDMyKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG8gPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3dvQWRkKS5jYWxsKHRoaXMsIDQpO1xuICAgICAgICB0aGlzLnZpZXcuc2V0RmxvYXQzMihvLCB2YWx1ZSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgd3JpdGVGbG9hdDY0KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG8gPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3dvQWRkKS5jYWxsKHRoaXMsIDgpO1xuICAgICAgICB0aGlzLnZpZXcuc2V0RmxvYXQ2NChvLCB2YWx1ZSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgd3JpdGVJbnQ4KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG8gPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3dvQWRkKS5jYWxsKHRoaXMsIDEpO1xuICAgICAgICB0aGlzLnZpZXcuc2V0SW50OChvLCB2YWx1ZSk7XG4gICAgfVxuICAgIHdyaXRlSW50MTYodmFsdWUpIHtcbiAgICAgICAgY29uc3QgbyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfd29BZGQpLmNhbGwodGhpcywgMik7XG4gICAgICAgIHRoaXMudmlldy5zZXRJbnQxNihvLCB2YWx1ZSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgd3JpdGVJbnQzMih2YWx1ZSkge1xuICAgICAgICBjb25zdCBvID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl93b0FkZCkuY2FsbCh0aGlzLCA0KTtcbiAgICAgICAgdGhpcy52aWV3LnNldEludDMyKG8sIHZhbHVlLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICB3cml0ZUludDY0KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG8gPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3dvQWRkKS5jYWxsKHRoaXMsIDgpO1xuICAgICAgICB0aGlzLnZpZXcuc2V0QmlnSW50NjQobywgdmFsdWUsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHdyaXRlVWludDgodmFsdWUpIHtcbiAgICAgICAgY29uc3QgbyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfd29BZGQpLmNhbGwodGhpcywgMSk7XG4gICAgICAgIHRoaXMudmlldy5zZXRVaW50OChvLCB2YWx1ZSk7XG4gICAgfVxuICAgIHdyaXRlVWludDE2KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG8gPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3dvQWRkKS5jYWxsKHRoaXMsIDIpO1xuICAgICAgICB0aGlzLnZpZXcuc2V0VWludDE2KG8sIHZhbHVlLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICB3cml0ZVVpbnQzMih2YWx1ZSkge1xuICAgICAgICBjb25zdCBvID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl93b0FkZCkuY2FsbCh0aGlzLCA0KTtcbiAgICAgICAgdGhpcy52aWV3LnNldFVpbnQzMihvLCB2YWx1ZSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgd3JpdGVVaW50NjQodmFsdWUpIHtcbiAgICAgICAgY29uc3QgbyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfd29BZGQpLmNhbGwodGhpcywgOCk7XG4gICAgICAgIHRoaXMudmlldy5zZXRCaWdVaW50NjQobywgdmFsdWUsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIC8vIERhdGFWaWV3IFByb3h5XG4gICAgZ2V0RmxvYXQzMihvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRGbG9hdDMyKG9mZnNldCwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgZ2V0RmxvYXQ2NChvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRGbG9hdDY0KG9mZnNldCwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgZ2V0SW50OChvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRJbnQ4KG9mZnNldCk7XG4gICAgfVxuICAgIGdldEludDE2KG9mZnNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEludDE2KG9mZnNldCwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgZ2V0SW50MzIob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0SW50MzIob2Zmc2V0LCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICBnZXRJbnQ2NChvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRCaWdJbnQ2NChvZmZzZXQsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIGdldFVpbnQ4KG9mZnNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldFVpbnQ4KG9mZnNldCk7XG4gICAgfVxuICAgIGdldFVpbnQxNihvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRVaW50MTYob2Zmc2V0LCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICBnZXRVaW50MzIob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0VWludDMyKG9mZnNldCwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWUgPj4+IDBcbiAgICB9XG4gICAgZ2V0VWludDY0KG9mZnNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEJpZ1VpbnQ2NChvZmZzZXQsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHNldEZsb2F0MzIob2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnZpZXcuc2V0RmxvYXQzMihvZmZzZXQsIHZhbHVlLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICBzZXRGbG9hdDY0KG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy52aWV3LnNldEZsb2F0NjQob2Zmc2V0LCB2YWx1ZSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgc2V0SW50OChvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmlldy5zZXRJbnQ4KG9mZnNldCwgdmFsdWUpO1xuICAgIH1cbiAgICBzZXRJbnQxNihvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmlldy5zZXRJbnQxNihvZmZzZXQsIHZhbHVlLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICBzZXRJbnQzMihvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmlldy5zZXRJbnQzMihvZmZzZXQsIHZhbHVlLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICBzZXRJbnQ2NChvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmlldy5zZXRCaWdJbnQ2NChvZmZzZXQsIHZhbHVlLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICBzZXRVaW50OChvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmlldy5zZXRVaW50OChvZmZzZXQsIHZhbHVlKTtcbiAgICB9XG4gICAgc2V0VWludDE2KG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy52aWV3LnNldFVpbnQxNihvZmZzZXQsIHZhbHVlLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICBzZXRVaW50MzIob2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnZpZXcuc2V0VWludDMyKG9mZnNldCwgdmFsdWUsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHNldFVpbnQ2NChvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmlldy5zZXRCaWdVaW50NjQob2Zmc2V0LCB2YWx1ZSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG59XG5fUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMgPSBuZXcgV2Vha1NldCgpLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl93b0FkZCA9IGZ1bmN0aW9uIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3dvQWRkKGFtb3VudCkge1xuICAgIGlmICh0aGlzLndvZmZzZXQgKyBhbW91bnQgPiB0aGlzLl9idWZmZXIuYnl0ZUxlbmd0aCkge1xuICAgICAgICBjb25zdCBuZXdzaXplID0gZ2V0TmV4dFNpemUodGhpcy5fYnVmZmVyLmJ5dGVMZW5ndGgsIHRoaXMud29mZnNldCArIGFtb3VudCk7XG4gICAgICAgIGNvbnN0IG5ld0J1ZmZlciA9IG5ldyBVaW50OEFycmF5KG5ld3NpemUpO1xuICAgICAgICBuZXdCdWZmZXIuc2V0KHRoaXMuX2J1ZmZlcik7XG4gICAgICAgIGNvbnN0IG9sZE9mZnNldCA9IHRoaXMuX2J1ZmZlci5ieXRlT2Zmc2V0O1xuICAgICAgICB0aGlzLl9idWZmZXIgPSBuZXdCdWZmZXI7XG4gICAgICAgIHRoaXMudmlldyA9IG5ldyBEYXRhVmlldyh0aGlzLl9idWZmZXIuYnVmZmVyLCBvbGRPZmZzZXQpO1xuICAgIH1cbiAgICB0aGlzLndvZmZzZXQgKz0gYW1vdW50O1xuICAgIHJldHVybiB0aGlzLndvZmZzZXQgLSBhbW91bnQ7XG59LCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCA9IGZ1bmN0aW9uIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKGFtb3VudCkge1xuICAgIGlmICh0aGlzLnJvZmZzZXQgKyBhbW91bnQgPiB0aGlzLndvZmZzZXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPdXRzaWRlIG9mIHRoZSBib3VuZHMgb2Ygd3JpdGVuIGRhdGEuJyk7XG4gICAgfVxuICAgIHRoaXMucm9mZnNldCArPSBhbW91bnQ7XG4gICAgcmV0dXJuIHRoaXMucm9mZnNldCAtIGFtb3VudDtcbn07XG4iLCAiLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQ3JkdE1lc3NhZ2VUeXBlO1xuKGZ1bmN0aW9uIChDcmR0TWVzc2FnZVR5cGUpIHtcbiAgICBDcmR0TWVzc2FnZVR5cGVbQ3JkdE1lc3NhZ2VUeXBlW1wiUkVTRVJWRURcIl0gPSAwXSA9IFwiUkVTRVJWRURcIjtcbiAgICAvLyBDb21wb25lbnQgT3BlcmF0aW9uXG4gICAgQ3JkdE1lc3NhZ2VUeXBlW0NyZHRNZXNzYWdlVHlwZVtcIlBVVF9DT01QT05FTlRcIl0gPSAxXSA9IFwiUFVUX0NPTVBPTkVOVFwiO1xuICAgIENyZHRNZXNzYWdlVHlwZVtDcmR0TWVzc2FnZVR5cGVbXCJERUxFVEVfQ09NUE9ORU5UXCJdID0gMl0gPSBcIkRFTEVURV9DT01QT05FTlRcIjtcbiAgICBDcmR0TWVzc2FnZVR5cGVbQ3JkdE1lc3NhZ2VUeXBlW1wiREVMRVRFX0VOVElUWVwiXSA9IDNdID0gXCJERUxFVEVfRU5USVRZXCI7XG4gICAgQ3JkdE1lc3NhZ2VUeXBlW0NyZHRNZXNzYWdlVHlwZVtcIkFQUEVORF9WQUxVRVwiXSA9IDRdID0gXCJBUFBFTkRfVkFMVUVcIjtcbiAgICAvLyBOZXR3b3JrIG9wZXJhdGlvbnNcbiAgICBDcmR0TWVzc2FnZVR5cGVbQ3JkdE1lc3NhZ2VUeXBlW1wiUFVUX0NPTVBPTkVOVF9ORVRXT1JLXCJdID0gNV0gPSBcIlBVVF9DT01QT05FTlRfTkVUV09SS1wiO1xuICAgIENyZHRNZXNzYWdlVHlwZVtDcmR0TWVzc2FnZVR5cGVbXCJERUxFVEVfQ09NUE9ORU5UX05FVFdPUktcIl0gPSA2XSA9IFwiREVMRVRFX0NPTVBPTkVOVF9ORVRXT1JLXCI7XG4gICAgQ3JkdE1lc3NhZ2VUeXBlW0NyZHRNZXNzYWdlVHlwZVtcIkRFTEVURV9FTlRJVFlfTkVUV09SS1wiXSA9IDddID0gXCJERUxFVEVfRU5USVRZX05FVFdPUktcIjtcbiAgICBDcmR0TWVzc2FnZVR5cGVbQ3JkdE1lc3NhZ2VUeXBlW1wiTUFYX01FU1NBR0VfVFlQRVwiXSA9IDhdID0gXCJNQVhfTUVTU0FHRV9UWVBFXCI7XG59KShDcmR0TWVzc2FnZVR5cGUgfHwgKENyZHRNZXNzYWdlVHlwZSA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IENSRFRfTUVTU0FHRV9IRUFERVJfTEVOR1RIID0gODtcbmV4cG9ydCB2YXIgUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlO1xuKGZ1bmN0aW9uIChQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGUpIHtcbiAgICAvKipcbiAgICAgKiBUeXBpY2FsIG1lc3NhZ2UgYW5kIG5ldyBzdGF0ZSBzZXQuXG4gICAgICogQHN0YXRlIENIQU5HRVxuICAgICAqIEByZWFzb24gSW5jb21pbmcgbWVzc2FnZSBoYXMgYSB0aW1lc3RhbXAgZ3JlYXRlclxuICAgICAqL1xuICAgIFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZVtQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGVbXCJTdGF0ZVVwZGF0ZWRUaW1lc3RhbXBcIl0gPSAxXSA9IFwiU3RhdGVVcGRhdGVkVGltZXN0YW1wXCI7XG4gICAgLyoqXG4gICAgICogVHlwaWNhbCBtZXNzYWdlIHdoZW4gaXQgaXMgY29uc2lkZXJlZCBvbGQuXG4gICAgICogQHN0YXRlIGl0IGRvZXMgTk9UIENIQU5HRS5cbiAgICAgKiBAcmVhc29uIGluY29taW5nIG1lc3NhZ2UgaGFzIGEgdGltZXN0YW1wIGxvd2VyLlxuICAgICAqL1xuICAgIFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZVtQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGVbXCJTdGF0ZU91dGRhdGVkVGltZXN0YW1wXCJdID0gMl0gPSBcIlN0YXRlT3V0ZGF0ZWRUaW1lc3RhbXBcIjtcbiAgICAvKipcbiAgICAgKiBXZWlyZCBtZXNzYWdlLCBzYW1lIHRpbWVzdGFtcCBhbmQgZGF0YS5cbiAgICAgKiBAc3RhdGUgaXQgZG9lcyBOT1QgQ0hBTkdFLlxuICAgICAqIEByZWFzb24gY29uc2lzdGVudCBzdGF0ZSBiZXR3ZWVuIHBlZXJzLlxuICAgICAqL1xuICAgIFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZVtQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGVbXCJOb0NoYW5nZXNcIl0gPSAzXSA9IFwiTm9DaGFuZ2VzXCI7XG4gICAgLyoqXG4gICAgICogTGVzcyBidXQgdHlwaWNhbCBtZXNzYWdlLCBzYW1lIHRpbWVzdGFtcCwgcmVzb2x1dGlvbiBieSBkYXRhLlxuICAgICAqIEBzdGF0ZSBpdCBkb2VzIE5PVCBDSEFOR0UuXG4gICAgICogQHJlYXNvbiBpbmNvbWluZyBtZXNzYWdlIGhhcyBhIExPV0VSIGRhdGEuXG4gICAgICovXG4gICAgUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlW1Byb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZVtcIlN0YXRlT3V0ZGF0ZWREYXRhXCJdID0gNF0gPSBcIlN0YXRlT3V0ZGF0ZWREYXRhXCI7XG4gICAgLyoqXG4gICAgICogTGVzcyBidXQgdHlwaWNhbCBtZXNzYWdlLCBzYW1lIHRpbWVzdGFtcCwgcmVzb2x1dGlvbiBieSBkYXRhLlxuICAgICAqIEBzdGF0ZSBDSEFOR0UuXG4gICAgICogQHJlYXNvbiBpbmNvbWluZyBtZXNzYWdlIGhhcyBhIEdSRUFURVIgZGF0YS5cbiAgICAgKi9cbiAgICBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGVbUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlW1wiU3RhdGVVcGRhdGVkRGF0YVwiXSA9IDVdID0gXCJTdGF0ZVVwZGF0ZWREYXRhXCI7XG4gICAgLyoqXG4gICAgICogRW50aXR5IHdhcyBwcmV2aW91c2x5IGRlbGV0ZWQuXG4gICAgICogQHN0YXRlIGl0IGRvZXMgTk9UIENIQU5HRS5cbiAgICAgKiBAcmVhc29uIFRoZSBtZXNzYWdlIGlzIGNvbnNpZGVyZWQgb2xkLlxuICAgICAqL1xuICAgIFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZVtQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGVbXCJFbnRpdHlXYXNEZWxldGVkXCJdID0gNl0gPSBcIkVudGl0eVdhc0RlbGV0ZWRcIjtcbiAgICAvKipcbiAgICAgKiBFbnRpdHkgc2hvdWxkIGJlIGRlbGV0ZWQuXG4gICAgICogQHN0YXRlIENIQU5HRS5cbiAgICAgKiBAcmVhc29uIHRoZSBzdGF0ZSBpcyBzdG9yaW5nIG9sZCBlbnRpdGllc1xuICAgICAqL1xuICAgIFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZVtQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGVbXCJFbnRpdHlEZWxldGVkXCJdID0gN10gPSBcIkVudGl0eURlbGV0ZWRcIjtcbn0pKFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZSB8fCAoUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlID0ge30pKTtcbi8vIHdlIHJlY2VpdmUgTFdXLCB2PTYsIHdlIGhhdmUgdj01ID0+IHdlIHJlY2VpdmUgd2l0aCBkZWxheSB0aGUgZGVsZXRlRW50aXR5KHY9NSlcbi8vICAgPT4gd2Ugc2hvdWxkIGdlbmVyYXRlIHRoZSBkZWxldGVFbnRpdHkgbWVzc2FnZSBlZmZlY3RzIGludGVybmFsbHkgd2l0aCBkZWxldGVFbnRpdHkodj01KSxcbi8vICAgICAgIGJ1dCBkb24ndCByZXNlbmQgdGhlIGRlbGV0ZUVudGl0eVxuLy8gICAgICAgICAgLSAoQ1JEVCkgYWRkRGVsZXRlZEVudGl0eVNldCB2PTUgKHdpdGggY3JkdCBzdGF0ZSBjbGVhbmluZykgYW5kIHRoZW4gTFdXIHY9NlxuLy8gICAgICAgICAgLSAoZW5naW5lKSBlbmdpbmUuZGVsZXRlRW50aXR5IHY9NVxuLy8gd2UgcmVjZWl2ZSBMV1csIHY9Nywgd2UgaGF2ZSB2PTUgPT4gd2UgcmVjZWl2ZSB3aXRoIGRlbGF5IHRoZSBkZWxldGVFbnRpdHkodj01KSwgZGVsZXRlRW50aXR5KHY9NiksIC4uLiwgTlxuLy8gICA9PiB3ZSBzaG91bGQgZ2VuZXJhdGUgdGhlIGRlbGV0ZUVudGl0eSBtZXNzYWdlIGVmZmVjdHMgaW50ZXJuYWxseSB3aXRoIGRlbGV0ZUVudGl0eSh2PTUpLFxuLy8gICAgICAgYnV0IGRvbid0IHJlc2VuZCB0aGUgZGVsZXRlRW50aXR5XG4vLyAgICAgICAgICAtIChDUkRUKSBhZGREZWxldGVkRW50aXR5U2V0IHY9NSAod2l0aCBjcmR0IHN0YXRlIGNsZWFuaW5nKSBhbmQgdGhlbiBMV1cgdj02XG4vLyAgICAgICAgICAtIChlbmdpbmUpIGVuZ2luZS5kZWxldGVFbnRpdHkgdj01XG4vLyBtc2cgZGVsZXRlIGVudGl0eTogaXQgb25seSBzaG91bGQgYmUgc2VudCBieSBkZWxldGVyXG4vL1xuIiwgImltcG9ydCB7IENSRFRfTUVTU0FHRV9IRUFERVJfTEVOR1RIIH0gZnJvbSAnLi90eXBlcyc7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBDcmR0TWVzc2FnZVByb3RvY29sO1xuKGZ1bmN0aW9uIChDcmR0TWVzc2FnZVByb3RvY29sKSB7XG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgaWYgdGhlIG1lc3NhZ2UgaW5jb21pbmcgaXMgY29tcGxldGVkXG4gICAgICogQHBhcmFtIGJ1ZiAtIEJ5dGVCdWZmZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShidWYpIHtcbiAgICAgICAgY29uc3QgcmVtID0gYnVmLnJlbWFpbmluZ0J5dGVzKCk7XG4gICAgICAgIGlmIChyZW0gPCBDUkRUX01FU1NBR0VfSEVBREVSX0xFTkdUSCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VMZW5ndGggPSBidWYuZ2V0VWludDMyKGJ1Zi5jdXJyZW50UmVhZE9mZnNldCgpKTtcbiAgICAgICAgaWYgKHJlbSA8IG1lc3NhZ2VMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgQ3JkdE1lc3NhZ2VQcm90b2NvbC52YWxpZGF0ZSA9IHZhbGlkYXRlO1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCBoZWFkZXIsIGNvbnN1bWluZyB0aGUgYnl0ZXMgaW52b2x2ZWQuXG4gICAgICogQHBhcmFtIGJ1ZiAtIEJ5dGVCdWZmZXJcbiAgICAgKiBAcmV0dXJucyBoZWFkZXIgb3IgbnVsbCBpZiB0aGVyZSBpcyBubyB2YWxpZGF0ZWQgbWVzc2FnZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlYWRIZWFkZXIoYnVmKSB7XG4gICAgICAgIGlmICghdmFsaWRhdGUoYnVmKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlbmd0aDogYnVmLnJlYWRVaW50MzIoKSxcbiAgICAgICAgICAgIHR5cGU6IGJ1Zi5yZWFkVWludDMyKClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgQ3JkdE1lc3NhZ2VQcm90b2NvbC5yZWFkSGVhZGVyID0gcmVhZEhlYWRlcjtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgaGVhZGVyLCB3aXRob3V0IGNvbnN1bWluZyB0aGUgYnl0ZXMgaW52b2x2ZWQuXG4gICAgICogQHBhcmFtIGJ1ZiAtIEJ5dGVCdWZmZXJcbiAgICAgKiBAcmV0dXJucyBoZWFkZXIgb3IgbnVsbCBpZiB0aGVyZSBpcyBubyB2YWxpZGF0ZWQgbWVzc2FnZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEhlYWRlcihidWYpIHtcbiAgICAgICAgaWYgKCF2YWxpZGF0ZShidWYpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50T2Zmc2V0ID0gYnVmLmN1cnJlbnRSZWFkT2Zmc2V0KCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsZW5ndGg6IGJ1Zi5nZXRVaW50MzIoY3VycmVudE9mZnNldCksXG4gICAgICAgICAgICB0eXBlOiBidWYuZ2V0VWludDMyKGN1cnJlbnRPZmZzZXQgKyA0KVxuICAgICAgICB9O1xuICAgIH1cbiAgICBDcmR0TWVzc2FnZVByb3RvY29sLmdldEhlYWRlciA9IGdldEhlYWRlcjtcbiAgICAvKipcbiAgICAgKiBDb25zdW1lIHRoZSBpbmNvbWluZyBtZXNzYWdlIHdpdGhvdXQgcHJvY2Vzc2luZyBpdC5cbiAgICAgKiBAcGFyYW0gYnVmIC0gQnl0ZUJ1ZmZlclxuICAgICAqIEByZXR1cm5zIHRydWUgaW4gY2FzZSBvZiBzdWNjZXNzIG9yIGZhbHNlIGlmIHRoZXJlIGlzIG5vIHZhbGlkIG1lc3NhZ2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uc3VtZU1lc3NhZ2UoYnVmKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IGdldEhlYWRlcihidWYpO1xuICAgICAgICBpZiAoIWhlYWRlcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGJ1Zi5pbmNyZW1lbnRSZWFkT2Zmc2V0KGhlYWRlci5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgQ3JkdE1lc3NhZ2VQcm90b2NvbC5jb25zdW1lTWVzc2FnZSA9IGNvbnN1bWVNZXNzYWdlO1xufSkoQ3JkdE1lc3NhZ2VQcm90b2NvbCB8fCAoQ3JkdE1lc3NhZ2VQcm90b2NvbCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgQ3JkdE1lc3NhZ2VQcm90b2NvbCB9IGZyb20gJy4vY3JkdE1lc3NhZ2VQcm90b2NvbCc7XG5pbXBvcnQgeyBDcmR0TWVzc2FnZVR5cGUsIENSRFRfTUVTU0FHRV9IRUFERVJfTEVOR1RIIH0gZnJvbSAnLi90eXBlcyc7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBEZWxldGVDb21wb25lbnQ7XG4oZnVuY3Rpb24gKERlbGV0ZUNvbXBvbmVudCkge1xuICAgIERlbGV0ZUNvbXBvbmVudC5NRVNTQUdFX0hFQURFUl9MRU5HVEggPSAxMjtcbiAgICAvKipcbiAgICAgKiBXcml0ZSBEZWxldGVDb21wb25lbnQgbWVzc2FnZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyaXRlKGVudGl0eSwgY29tcG9uZW50SWQsIHRpbWVzdGFtcCwgYnVmKSB7XG4gICAgICAgIC8vIHJlc2VydmUgdGhlIGJlZ2lubmluZ1xuICAgICAgICBjb25zdCBtZXNzYWdlTGVuZ3RoID0gQ1JEVF9NRVNTQUdFX0hFQURFUl9MRU5HVEggKyBEZWxldGVDb21wb25lbnQuTUVTU0FHRV9IRUFERVJfTEVOR1RIO1xuICAgICAgICBjb25zdCBzdGFydE1lc3NhZ2VPZmZzZXQgPSBidWYuaW5jcmVtZW50V3JpdGVPZmZzZXQobWVzc2FnZUxlbmd0aCk7XG4gICAgICAgIC8vIFdyaXRlIENyZHRNZXNzYWdlIGhlYWRlclxuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCwgbWVzc2FnZUxlbmd0aCk7XG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgNCwgQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9DT01QT05FTlQpO1xuICAgICAgICAvLyBXcml0ZSBDb21wb25lbnRPcGVyYXRpb24gaGVhZGVyXG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgOCwgZW50aXR5KTtcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyAxMiwgY29tcG9uZW50SWQpO1xuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDE2LCB0aW1lc3RhbXApO1xuICAgIH1cbiAgICBEZWxldGVDb21wb25lbnQud3JpdGUgPSB3cml0ZTtcbiAgICBmdW5jdGlvbiByZWFkKGJ1Zikge1xuICAgICAgICBjb25zdCBoZWFkZXIgPSBDcmR0TWVzc2FnZVByb3RvY29sLnJlYWRIZWFkZXIoYnVmKTtcbiAgICAgICAgaWYgKCFoZWFkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZWFkZXIudHlwZSAhPT0gQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9DT01QT05FTlQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGVsZXRlQ29tcG9uZW50T3BlcmF0aW9uIHRyaWVkIHRvIHJlYWQgYW5vdGhlciBtZXNzYWdlIHR5cGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbXNnID0ge1xuICAgICAgICAgICAgLi4uaGVhZGVyLFxuICAgICAgICAgICAgZW50aXR5SWQ6IGJ1Zi5yZWFkVWludDMyKCksXG4gICAgICAgICAgICBjb21wb25lbnRJZDogYnVmLnJlYWRVaW50MzIoKSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogYnVmLnJlYWRVaW50MzIoKVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbXNnO1xuICAgIH1cbiAgICBEZWxldGVDb21wb25lbnQucmVhZCA9IHJlYWQ7XG59KShEZWxldGVDb21wb25lbnQgfHwgKERlbGV0ZUNvbXBvbmVudCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgQ3JkdE1lc3NhZ2VQcm90b2NvbCB9IGZyb20gJy4vY3JkdE1lc3NhZ2VQcm90b2NvbCc7XG5pbXBvcnQgeyBDcmR0TWVzc2FnZVR5cGUsIENSRFRfTUVTU0FHRV9IRUFERVJfTEVOR1RIIH0gZnJvbSAnLi90eXBlcyc7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBBcHBlbmRWYWx1ZU9wZXJhdGlvbjtcbihmdW5jdGlvbiAoQXBwZW5kVmFsdWVPcGVyYXRpb24pIHtcbiAgICBBcHBlbmRWYWx1ZU9wZXJhdGlvbi5NRVNTQUdFX0hFQURFUl9MRU5HVEggPSAxNjtcbiAgICAvKipcbiAgICAgKiBDYWxsIHRoaXMgZnVuY3Rpb24gZm9yIGFuIG9wdGltYWwgd3JpdGluZyBkYXRhIHBhc3NpbmcgdGhlIEJ5dGVCdWZmZXJcbiAgICAgKiAgYWxyZWFkeSBhbGxvY2F0ZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cml0ZShlbnRpdHksIHRpbWVzdGFtcCwgY29tcG9uZW50SWQsIGRhdGEsIGJ1Zikge1xuICAgICAgICAvLyByZXNlcnZlIHRoZSBiZWdpbm5pbmdcbiAgICAgICAgY29uc3Qgc3RhcnRNZXNzYWdlT2Zmc2V0ID0gYnVmLmluY3JlbWVudFdyaXRlT2Zmc2V0KENSRFRfTUVTU0FHRV9IRUFERVJfTEVOR1RIICsgQXBwZW5kVmFsdWVPcGVyYXRpb24uTUVTU0FHRV9IRUFERVJfTEVOR1RIKTtcbiAgICAgICAgLy8gd3JpdGUgYm9keVxuICAgICAgICBidWYud3JpdGVCdWZmZXIoZGF0YSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBtZXNzYWdlTGVuZ3RoID0gYnVmLmN1cnJlbnRXcml0ZU9mZnNldCgpIC0gc3RhcnRNZXNzYWdlT2Zmc2V0O1xuICAgICAgICAvLyBXcml0ZSBDcmR0TWVzc2FnZSBoZWFkZXJcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQsIG1lc3NhZ2VMZW5ndGgpO1xuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDQsIENyZHRNZXNzYWdlVHlwZS5BUFBFTkRfVkFMVUUpO1xuICAgICAgICAvLyBXcml0ZSBDb21wb25lbnRPcGVyYXRpb24gaGVhZGVyXG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgOCwgZW50aXR5KTtcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyAxMiwgY29tcG9uZW50SWQpO1xuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDE2LCB0aW1lc3RhbXApO1xuICAgICAgICBjb25zdCBuZXdMb2NhbCA9IG1lc3NhZ2VMZW5ndGggLSBBcHBlbmRWYWx1ZU9wZXJhdGlvbi5NRVNTQUdFX0hFQURFUl9MRU5HVEggLSBDUkRUX01FU1NBR0VfSEVBREVSX0xFTkdUSDtcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyAyMCwgbmV3TG9jYWwpO1xuICAgIH1cbiAgICBBcHBlbmRWYWx1ZU9wZXJhdGlvbi53cml0ZSA9IHdyaXRlO1xuICAgIGZ1bmN0aW9uIHJlYWQoYnVmKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IENyZHRNZXNzYWdlUHJvdG9jb2wucmVhZEhlYWRlcihidWYpO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKCFoZWFkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoaGVhZGVyLnR5cGUgIT09IENyZHRNZXNzYWdlVHlwZS5BUFBFTkRfVkFMVUUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXBwZW5kVmFsdWVPcGVyYXRpb24gdHJpZWQgdG8gcmVhZCBhbm90aGVyIG1lc3NhZ2UgdHlwZS4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uaGVhZGVyLFxuICAgICAgICAgICAgZW50aXR5SWQ6IGJ1Zi5yZWFkVWludDMyKCksXG4gICAgICAgICAgICBjb21wb25lbnRJZDogYnVmLnJlYWRVaW50MzIoKSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogYnVmLnJlYWRVaW50MzIoKSxcbiAgICAgICAgICAgIGRhdGE6IGJ1Zi5yZWFkQnVmZmVyKClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgQXBwZW5kVmFsdWVPcGVyYXRpb24ucmVhZCA9IHJlYWQ7XG59KShBcHBlbmRWYWx1ZU9wZXJhdGlvbiB8fCAoQXBwZW5kVmFsdWVPcGVyYXRpb24gPSB7fSkpO1xuIiwgImltcG9ydCB7IENyZHRNZXNzYWdlUHJvdG9jb2wgfSBmcm9tICcuL2NyZHRNZXNzYWdlUHJvdG9jb2wnO1xuaW1wb3J0IHsgQ3JkdE1lc3NhZ2VUeXBlLCBDUkRUX01FU1NBR0VfSEVBREVSX0xFTkdUSCB9IGZyb20gJy4vdHlwZXMnO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgRGVsZXRlRW50aXR5O1xuKGZ1bmN0aW9uIChEZWxldGVFbnRpdHkpIHtcbiAgICBEZWxldGVFbnRpdHkuTUVTU0FHRV9IRUFERVJfTEVOR1RIID0gNDtcbiAgICBmdW5jdGlvbiB3cml0ZShlbnRpdHksIGJ1Zikge1xuICAgICAgICAvLyBXcml0ZSBDcmR0TWVzc2FnZSBoZWFkZXJcbiAgICAgICAgYnVmLndyaXRlVWludDMyKENSRFRfTUVTU0FHRV9IRUFERVJfTEVOR1RIICsgNCk7XG4gICAgICAgIGJ1Zi53cml0ZVVpbnQzMihDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0VOVElUWSk7XG4gICAgICAgIC8vIGJvZHlcbiAgICAgICAgYnVmLndyaXRlVWludDMyKGVudGl0eSk7XG4gICAgfVxuICAgIERlbGV0ZUVudGl0eS53cml0ZSA9IHdyaXRlO1xuICAgIGZ1bmN0aW9uIHJlYWQoYnVmKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IENyZHRNZXNzYWdlUHJvdG9jb2wucmVhZEhlYWRlcihidWYpO1xuICAgICAgICBpZiAoIWhlYWRlcikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlYWRlci50eXBlICE9PSBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0VOVElUWSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEZWxldGVFbnRpdHkgdHJpZWQgdG8gcmVhZCBhbm90aGVyIG1lc3NhZ2UgdHlwZS4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uaGVhZGVyLFxuICAgICAgICAgICAgZW50aXR5SWQ6IGJ1Zi5yZWFkVWludDMyKClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgRGVsZXRlRW50aXR5LnJlYWQgPSByZWFkO1xufSkoRGVsZXRlRW50aXR5IHx8IChEZWxldGVFbnRpdHkgPSB7fSkpO1xuIiwgImltcG9ydCB7IENyZHRNZXNzYWdlUHJvdG9jb2wgfSBmcm9tICcuL2NyZHRNZXNzYWdlUHJvdG9jb2wnO1xuaW1wb3J0IHsgQ3JkdE1lc3NhZ2VUeXBlLCBDUkRUX01FU1NBR0VfSEVBREVSX0xFTkdUSCB9IGZyb20gJy4vdHlwZXMnO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUHV0Q29tcG9uZW50T3BlcmF0aW9uO1xuKGZ1bmN0aW9uIChQdXRDb21wb25lbnRPcGVyYXRpb24pIHtcbiAgICBQdXRDb21wb25lbnRPcGVyYXRpb24uTUVTU0FHRV9IRUFERVJfTEVOR1RIID0gMTY7XG4gICAgLyoqXG4gICAgICogQ2FsbCB0aGlzIGZ1bmN0aW9uIGZvciBhbiBvcHRpbWFsIHdyaXRpbmcgZGF0YSBwYXNzaW5nIHRoZSBCeXRlQnVmZmVyXG4gICAgICogIGFscmVhZHkgYWxsb2NhdGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JpdGUoZW50aXR5LCB0aW1lc3RhbXAsIGNvbXBvbmVudElkLCBkYXRhLCBidWYpIHtcbiAgICAgICAgLy8gcmVzZXJ2ZSB0aGUgYmVnaW5uaW5nXG4gICAgICAgIGNvbnN0IHN0YXJ0TWVzc2FnZU9mZnNldCA9IGJ1Zi5pbmNyZW1lbnRXcml0ZU9mZnNldChDUkRUX01FU1NBR0VfSEVBREVSX0xFTkdUSCArIFB1dENvbXBvbmVudE9wZXJhdGlvbi5NRVNTQUdFX0hFQURFUl9MRU5HVEgpO1xuICAgICAgICAvLyB3cml0ZSBib2R5XG4gICAgICAgIGJ1Zi53cml0ZUJ1ZmZlcihkYXRhLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VMZW5ndGggPSBidWYuY3VycmVudFdyaXRlT2Zmc2V0KCkgLSBzdGFydE1lc3NhZ2VPZmZzZXQ7XG4gICAgICAgIC8vIFdyaXRlIENyZHRNZXNzYWdlIGhlYWRlclxuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCwgbWVzc2FnZUxlbmd0aCk7XG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgNCwgQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlQpO1xuICAgICAgICAvLyBXcml0ZSBDb21wb25lbnRPcGVyYXRpb24gaGVhZGVyXG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgOCwgZW50aXR5KTtcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyAxMiwgY29tcG9uZW50SWQpO1xuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDE2LCB0aW1lc3RhbXApO1xuICAgICAgICBjb25zdCBuZXdMb2NhbCA9IG1lc3NhZ2VMZW5ndGggLSBQdXRDb21wb25lbnRPcGVyYXRpb24uTUVTU0FHRV9IRUFERVJfTEVOR1RIIC0gQ1JEVF9NRVNTQUdFX0hFQURFUl9MRU5HVEg7XG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgMjAsIG5ld0xvY2FsKTtcbiAgICB9XG4gICAgUHV0Q29tcG9uZW50T3BlcmF0aW9uLndyaXRlID0gd3JpdGU7XG4gICAgZnVuY3Rpb24gcmVhZChidWYpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gQ3JkdE1lc3NhZ2VQcm90b2NvbC5yZWFkSGVhZGVyKGJ1Zik7XG4gICAgICAgIGlmICghaGVhZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGVhZGVyLnR5cGUgIT09IENyZHRNZXNzYWdlVHlwZS5QVVRfQ09NUE9ORU5UKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1B1dENvbXBvbmVudE9wZXJhdGlvbiB0cmllZCB0byByZWFkIGFub3RoZXIgbWVzc2FnZSB0eXBlLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5oZWFkZXIsXG4gICAgICAgICAgICBlbnRpdHlJZDogYnVmLnJlYWRVaW50MzIoKSxcbiAgICAgICAgICAgIGNvbXBvbmVudElkOiBidWYucmVhZFVpbnQzMigpLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBidWYucmVhZFVpbnQzMigpLFxuICAgICAgICAgICAgZGF0YTogYnVmLnJlYWRCdWZmZXIoKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBQdXRDb21wb25lbnRPcGVyYXRpb24ucmVhZCA9IHJlYWQ7XG59KShQdXRDb21wb25lbnRPcGVyYXRpb24gfHwgKFB1dENvbXBvbmVudE9wZXJhdGlvbiA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgQ3JkdE1lc3NhZ2VQcm90b2NvbCB9IGZyb20gJy4uL2NyZHRNZXNzYWdlUHJvdG9jb2wnO1xuaW1wb3J0IHsgQ3JkdE1lc3NhZ2VUeXBlLCBDUkRUX01FU1NBR0VfSEVBREVSX0xFTkdUSCB9IGZyb20gJy4uL3R5cGVzJztcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFB1dE5ldHdvcmtDb21wb25lbnRPcGVyYXRpb247XG4oZnVuY3Rpb24gKFB1dE5ldHdvcmtDb21wb25lbnRPcGVyYXRpb24pIHtcbiAgICBQdXROZXR3b3JrQ29tcG9uZW50T3BlcmF0aW9uLk1FU1NBR0VfSEVBREVSX0xFTkdUSCA9IDIwO1xuICAgIC8qKlxuICAgICAqIENhbGwgdGhpcyBmdW5jdGlvbiBmb3IgYW4gb3B0aW1hbCB3cml0aW5nIGRhdGEgcGFzc2luZyB0aGUgQnl0ZUJ1ZmZlclxuICAgICAqICBhbHJlYWR5IGFsbG9jYXRlZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyaXRlKGVudGl0eSwgdGltZXN0YW1wLCBjb21wb25lbnRJZCwgbmV0d29ya0lkLCBkYXRhLCBidWYpIHtcbiAgICAgICAgLy8gcmVzZXJ2ZSB0aGUgYmVnaW5uaW5nXG4gICAgICAgIGNvbnN0IHN0YXJ0TWVzc2FnZU9mZnNldCA9IGJ1Zi5pbmNyZW1lbnRXcml0ZU9mZnNldChDUkRUX01FU1NBR0VfSEVBREVSX0xFTkdUSCArIFB1dE5ldHdvcmtDb21wb25lbnRPcGVyYXRpb24uTUVTU0FHRV9IRUFERVJfTEVOR1RIKTtcbiAgICAgICAgLy8gd3JpdGUgYm9keVxuICAgICAgICBidWYud3JpdGVCdWZmZXIoZGF0YSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBtZXNzYWdlTGVuZ3RoID0gYnVmLmN1cnJlbnRXcml0ZU9mZnNldCgpIC0gc3RhcnRNZXNzYWdlT2Zmc2V0O1xuICAgICAgICAvLyBXcml0ZSBDcmR0TWVzc2FnZSBoZWFkZXJcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQsIG1lc3NhZ2VMZW5ndGgpO1xuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDQsIENyZHRNZXNzYWdlVHlwZS5QVVRfQ09NUE9ORU5UX05FVFdPUkspO1xuICAgICAgICAvLyBXcml0ZSBDb21wb25lbnRPcGVyYXRpb24gaGVhZGVyXG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgOCwgZW50aXR5KTtcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyAxMiwgY29tcG9uZW50SWQpO1xuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDE2LCB0aW1lc3RhbXApO1xuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDIwLCBuZXR3b3JrSWQpO1xuICAgICAgICBjb25zdCBkYXRhTGVuZ3RoID0gbWVzc2FnZUxlbmd0aCAtIFB1dE5ldHdvcmtDb21wb25lbnRPcGVyYXRpb24uTUVTU0FHRV9IRUFERVJfTEVOR1RIIC0gQ1JEVF9NRVNTQUdFX0hFQURFUl9MRU5HVEg7XG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgMjQsIGRhdGFMZW5ndGgpO1xuICAgIH1cbiAgICBQdXROZXR3b3JrQ29tcG9uZW50T3BlcmF0aW9uLndyaXRlID0gd3JpdGU7XG4gICAgZnVuY3Rpb24gcmVhZChidWYpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gQ3JkdE1lc3NhZ2VQcm90b2NvbC5yZWFkSGVhZGVyKGJ1Zik7XG4gICAgICAgIGlmICghaGVhZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGVhZGVyLnR5cGUgIT09IENyZHRNZXNzYWdlVHlwZS5QVVRfQ09NUE9ORU5UX05FVFdPUkspIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUHV0Q29tcG9uZW50TmV0d29ya09wZXJhdGlvbiB0cmllZCB0byByZWFkIGFub3RoZXIgbWVzc2FnZSB0eXBlLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5oZWFkZXIsXG4gICAgICAgICAgICBlbnRpdHlJZDogYnVmLnJlYWRVaW50MzIoKSxcbiAgICAgICAgICAgIGNvbXBvbmVudElkOiBidWYucmVhZFVpbnQzMigpLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBidWYucmVhZFVpbnQzMigpLFxuICAgICAgICAgICAgbmV0d29ya0lkOiBidWYucmVhZFVpbnQzMigpLFxuICAgICAgICAgICAgZGF0YTogYnVmLnJlYWRCdWZmZXIoKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBQdXROZXR3b3JrQ29tcG9uZW50T3BlcmF0aW9uLnJlYWQgPSByZWFkO1xufSkoUHV0TmV0d29ya0NvbXBvbmVudE9wZXJhdGlvbiB8fCAoUHV0TmV0d29ya0NvbXBvbmVudE9wZXJhdGlvbiA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgQ3JkdE1lc3NhZ2VQcm90b2NvbCB9IGZyb20gJy4uL2NyZHRNZXNzYWdlUHJvdG9jb2wnO1xuaW1wb3J0IHsgQ3JkdE1lc3NhZ2VUeXBlLCBDUkRUX01FU1NBR0VfSEVBREVSX0xFTkdUSCB9IGZyb20gJy4uL3R5cGVzJztcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIERlbGV0ZUNvbXBvbmVudE5ldHdvcms7XG4oZnVuY3Rpb24gKERlbGV0ZUNvbXBvbmVudE5ldHdvcmspIHtcbiAgICBEZWxldGVDb21wb25lbnROZXR3b3JrLk1FU1NBR0VfSEVBREVSX0xFTkdUSCA9IDE2O1xuICAgIC8qKlxuICAgICAqIFdyaXRlIERlbGV0ZUNvbXBvbmVudCBtZXNzYWdlXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JpdGUoZW50aXR5LCBjb21wb25lbnRJZCwgdGltZXN0YW1wLCBuZXR3b3JrSWQsIGJ1Zikge1xuICAgICAgICAvLyByZXNlcnZlIHRoZSBiZWdpbm5pbmdcbiAgICAgICAgY29uc3QgbWVzc2FnZUxlbmd0aCA9IENSRFRfTUVTU0FHRV9IRUFERVJfTEVOR1RIICsgRGVsZXRlQ29tcG9uZW50TmV0d29yay5NRVNTQUdFX0hFQURFUl9MRU5HVEg7XG4gICAgICAgIGNvbnN0IHN0YXJ0TWVzc2FnZU9mZnNldCA9IGJ1Zi5pbmNyZW1lbnRXcml0ZU9mZnNldChtZXNzYWdlTGVuZ3RoKTtcbiAgICAgICAgLy8gV3JpdGUgQ3JkdE1lc3NhZ2UgaGVhZGVyXG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0LCBtZXNzYWdlTGVuZ3RoKTtcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyA0LCBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0NPTVBPTkVOVF9ORVRXT1JLKTtcbiAgICAgICAgLy8gV3JpdGUgQ29tcG9uZW50T3BlcmF0aW9uIGhlYWRlclxuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDgsIGVudGl0eSk7XG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgMTIsIGNvbXBvbmVudElkKTtcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyAxNiwgdGltZXN0YW1wKTtcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyAyMCwgbmV0d29ya0lkKTtcbiAgICB9XG4gICAgRGVsZXRlQ29tcG9uZW50TmV0d29yay53cml0ZSA9IHdyaXRlO1xuICAgIGZ1bmN0aW9uIHJlYWQoYnVmKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IENyZHRNZXNzYWdlUHJvdG9jb2wucmVhZEhlYWRlcihidWYpO1xuICAgICAgICBpZiAoIWhlYWRlcikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlYWRlci50eXBlICE9PSBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0NPTVBPTkVOVF9ORVRXT1JLKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlbGV0ZUNvbXBvbmVudE9wZXJhdGlvbiB0cmllZCB0byByZWFkIGFub3RoZXIgbWVzc2FnZSB0eXBlLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5oZWFkZXIsXG4gICAgICAgICAgICBlbnRpdHlJZDogYnVmLnJlYWRVaW50MzIoKSxcbiAgICAgICAgICAgIGNvbXBvbmVudElkOiBidWYucmVhZFVpbnQzMigpLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBidWYucmVhZFVpbnQzMigpLFxuICAgICAgICAgICAgbmV0d29ya0lkOiBidWYucmVhZFVpbnQzMigpXG4gICAgICAgIH07XG4gICAgfVxuICAgIERlbGV0ZUNvbXBvbmVudE5ldHdvcmsucmVhZCA9IHJlYWQ7XG59KShEZWxldGVDb21wb25lbnROZXR3b3JrIHx8IChEZWxldGVDb21wb25lbnROZXR3b3JrID0ge30pKTtcbiIsICJpbXBvcnQgeyBDcmR0TWVzc2FnZVByb3RvY29sIH0gZnJvbSAnLi4vY3JkdE1lc3NhZ2VQcm90b2NvbCc7XG5pbXBvcnQgeyBDcmR0TWVzc2FnZVR5cGUsIENSRFRfTUVTU0FHRV9IRUFERVJfTEVOR1RIIH0gZnJvbSAnLi4vdHlwZXMnO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgRGVsZXRlRW50aXR5TmV0d29yaztcbihmdW5jdGlvbiAoRGVsZXRlRW50aXR5TmV0d29yaykge1xuICAgIERlbGV0ZUVudGl0eU5ldHdvcmsuTUVTU0FHRV9IRUFERVJfTEVOR1RIID0gODtcbiAgICBmdW5jdGlvbiB3cml0ZShlbnRpdHksIG5ldHdvcmtJZCwgYnVmKSB7XG4gICAgICAgIC8vIFdyaXRlIENyZHRNZXNzYWdlIGhlYWRlclxuICAgICAgICBidWYud3JpdGVVaW50MzIoQ1JEVF9NRVNTQUdFX0hFQURFUl9MRU5HVEggKyA0KTtcbiAgICAgICAgYnVmLndyaXRlVWludDMyKENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfRU5USVRZX05FVFdPUkspO1xuICAgICAgICAvLyBib2R5XG4gICAgICAgIGJ1Zi53cml0ZVVpbnQzMihlbnRpdHkpO1xuICAgICAgICBidWYud3JpdGVVaW50MzIobmV0d29ya0lkKTtcbiAgICB9XG4gICAgRGVsZXRlRW50aXR5TmV0d29yay53cml0ZSA9IHdyaXRlO1xuICAgIGZ1bmN0aW9uIHJlYWQoYnVmKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IENyZHRNZXNzYWdlUHJvdG9jb2wucmVhZEhlYWRlcihidWYpO1xuICAgICAgICBpZiAoIWhlYWRlcikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlYWRlci50eXBlICE9PSBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0VOVElUWV9ORVRXT1JLKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlbGV0ZUVudGl0eU5ldHdvcmsgdHJpZWQgdG8gcmVhZCBhbm90aGVyIG1lc3NhZ2UgdHlwZS4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uaGVhZGVyLFxuICAgICAgICAgICAgZW50aXR5SWQ6IGJ1Zi5yZWFkVWludDMyKCksXG4gICAgICAgICAgICBuZXR3b3JrSWQ6IGJ1Zi5yZWFkVWludDMyKClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgRGVsZXRlRW50aXR5TmV0d29yay5yZWFkID0gcmVhZDtcbn0pKERlbGV0ZUVudGl0eU5ldHdvcmsgfHwgKERlbGV0ZUVudGl0eU5ldHdvcmsgPSB7fSkpO1xuIiwgImltcG9ydCB7IFJlYWRXcml0ZUJ5dGVCdWZmZXIgfSBmcm9tICcuLi8uLi9CeXRlQnVmZmVyJztcbmltcG9ydCB7IFB1dENvbXBvbmVudE9wZXJhdGlvbiB9IGZyb20gJy4uL3B1dENvbXBvbmVudCc7XG5pbXBvcnQgeyBDcmR0TWVzc2FnZVR5cGUgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBEZWxldGVDb21wb25lbnQgfSBmcm9tICcuLi9kZWxldGVDb21wb25lbnQnO1xuaW1wb3J0IHsgRGVsZXRlRW50aXR5IH0gZnJvbSAnLi4vZGVsZXRlRW50aXR5JztcbmltcG9ydCB7IFB1dE5ldHdvcmtDb21wb25lbnRPcGVyYXRpb24gfSBmcm9tICcuL3B1dENvbXBvbmVudE5ldHdvcmsnO1xuaW1wb3J0IHsgRGVsZXRlQ29tcG9uZW50TmV0d29yayB9IGZyb20gJy4vZGVsZXRlQ29tcG9uZW50TmV0d29yayc7XG5pbXBvcnQgeyBEZWxldGVFbnRpdHlOZXR3b3JrIH0gZnJvbSAnLi9kZWxldGVFbnRpdHlOZXR3b3JrJztcbmltcG9ydCB7IFRyYW5zZm9ybVNjaGVtYSB9IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvbWFudWFsL1RyYW5zZm9ybSc7XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTmV0d29ya01lc3NhZ2UobWVzc2FnZSkge1xuICAgIHJldHVybiBbXG4gICAgICAgIENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfQ09NUE9ORU5UX05FVFdPUkssXG4gICAgICAgIENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfRU5USVRZX05FVFdPUkssXG4gICAgICAgIENyZHRNZXNzYWdlVHlwZS5QVVRfQ09NUE9ORU5UX05FVFdPUktcbiAgICBdLmluY2x1ZGVzKG1lc3NhZ2UudHlwZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5ldHdvcmtNZXNzYWdlVG9Mb2NhbChtZXNzYWdlLCBsb2NhbEVudGl0eUlkLCBidWZmZXIsIGRlc3RpbmF0aW9uQnVmZmVyKSB7XG4gICAgY29uc3Qgb2Zmc2V0ID0gYnVmZmVyLmN1cnJlbnRXcml0ZU9mZnNldCgpO1xuICAgIGlmIChtZXNzYWdlLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5QVVRfQ09NUE9ORU5UX05FVFdPUkspIHtcbiAgICAgICAgUHV0Q29tcG9uZW50T3BlcmF0aW9uLndyaXRlKGxvY2FsRW50aXR5SWQsIG1lc3NhZ2UudGltZXN0YW1wLCBtZXNzYWdlLmNvbXBvbmVudElkLCBtZXNzYWdlLmRhdGEsIGJ1ZmZlcik7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9DT01QT05FTlRfTkVUV09SSykge1xuICAgICAgICBEZWxldGVDb21wb25lbnQud3JpdGUobG9jYWxFbnRpdHlJZCwgbWVzc2FnZS5jb21wb25lbnRJZCwgbWVzc2FnZS50aW1lc3RhbXAsIGJ1ZmZlcik7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9FTlRJVFlfTkVUV09SSykge1xuICAgICAgICBEZWxldGVFbnRpdHkud3JpdGUobG9jYWxFbnRpdHlJZCwgYnVmZmVyKTtcbiAgICB9XG4gICAgZGVzdGluYXRpb25CdWZmZXIud3JpdGVCdWZmZXIoYnVmZmVyLmJ1ZmZlcigpLnN1YmFycmF5KG9mZnNldCwgYnVmZmVyLmN1cnJlbnRXcml0ZU9mZnNldCgpKSwgZmFsc2UpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2NhbE1lc3NhZ2VUb05ldHdvcmsobWVzc2FnZSwgbmV0d29yaywgYnVmZmVyLCBkZXN0aW5hdGlvbkJ1ZmZlcikge1xuICAgIGNvbnN0IG9mZnNldCA9IGJ1ZmZlci5jdXJyZW50V3JpdGVPZmZzZXQoKTtcbiAgICBpZiAobWVzc2FnZS50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuUFVUX0NPTVBPTkVOVCkge1xuICAgICAgICBQdXROZXR3b3JrQ29tcG9uZW50T3BlcmF0aW9uLndyaXRlKG5ldHdvcmsuZW50aXR5SWQsIG1lc3NhZ2UudGltZXN0YW1wLCBtZXNzYWdlLmNvbXBvbmVudElkLCBuZXR3b3JrLm5ldHdvcmtJZCwgbWVzc2FnZS5kYXRhLCBidWZmZXIpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfQ09NUE9ORU5UKSB7XG4gICAgICAgIERlbGV0ZUNvbXBvbmVudE5ldHdvcmsud3JpdGUobmV0d29yay5lbnRpdHlJZCwgbWVzc2FnZS5jb21wb25lbnRJZCwgbWVzc2FnZS50aW1lc3RhbXAsIG5ldHdvcmsubmV0d29ya0lkLCBidWZmZXIpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfRU5USVRZKSB7XG4gICAgICAgIERlbGV0ZUVudGl0eU5ldHdvcmsud3JpdGUobmV0d29yay5lbnRpdHlJZCwgbmV0d29yay5uZXR3b3JrSWQsIGJ1ZmZlcik7XG4gICAgfVxuICAgIGRlc3RpbmF0aW9uQnVmZmVyLndyaXRlQnVmZmVyKGJ1ZmZlci5idWZmZXIoKS5zdWJhcnJheShvZmZzZXQsIGJ1ZmZlci5jdXJyZW50V3JpdGVPZmZzZXQoKSksIGZhbHNlKTtcbn1cbmNvbnN0IGJ1ZmZlciA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKCk7XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpeFRyYW5zZm9ybVBhcmVudChtZXNzYWdlLCB0cmFuc2Zvcm1WYWx1ZSwgcGFyZW50KSB7XG4gICAgYnVmZmVyLnJlc2V0QnVmZmVyKCk7XG4gICAgbGV0IHRyYW5zZm9ybSA9IHRyYW5zZm9ybVZhbHVlO1xuICAgIGlmICghdHJhbnNmb3JtICYmICdkYXRhJyBpbiBtZXNzYWdlKSB7XG4gICAgICAgIHRyYW5zZm9ybSA9IFRyYW5zZm9ybVNjaGVtYS5kZXNlcmlhbGl6ZShuZXcgUmVhZFdyaXRlQnl0ZUJ1ZmZlcihtZXNzYWdlLmRhdGEpKTtcbiAgICB9XG4gICAgaWYgKCF0cmFuc2Zvcm0pXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBwYXJlbnQgdHJhbnNmb3JtJyk7XG4gICAgLy8gR2VuZXJhdGUgbmV3IHRyYW5zZm9ybSByYXcgZGF0YSB3aXRoIHRoZSBwYXJlbnRcbiAgICBjb25zdCBuZXdUcmFuc2Zvcm0gPSB7IC4uLnRyYW5zZm9ybSwgcGFyZW50IH07XG4gICAgVHJhbnNmb3JtU2NoZW1hLnNlcmlhbGl6ZShuZXdUcmFuc2Zvcm0sIGJ1ZmZlcik7XG4gICAgcmV0dXJuIGJ1ZmZlci50b0JpbmFyeSgpO1xufVxuIiwgImltcG9ydCB7IEVudGl0eVN0YXRlIH0gZnJvbSAnLi4vLi4vZW5naW5lL2VudGl0eSc7XG5pbXBvcnQgeyBSZWFkV3JpdGVCeXRlQnVmZmVyIH0gZnJvbSAnLi4vLi4vc2VyaWFsaXphdGlvbi9CeXRlQnVmZmVyJztcbmltcG9ydCB7IEFwcGVuZFZhbHVlT3BlcmF0aW9uLCBDcmR0TWVzc2FnZVByb3RvY29sLCBEZWxldGVDb21wb25lbnROZXR3b3JrLCBEZWxldGVFbnRpdHlOZXR3b3JrIH0gZnJvbSAnLi4vLi4vc2VyaWFsaXphdGlvbi9jcmR0JztcbmltcG9ydCB7IERlbGV0ZUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3NlcmlhbGl6YXRpb24vY3JkdC9kZWxldGVDb21wb25lbnQnO1xuaW1wb3J0IHsgRGVsZXRlRW50aXR5IH0gZnJvbSAnLi4vLi4vc2VyaWFsaXphdGlvbi9jcmR0L2RlbGV0ZUVudGl0eSc7XG5pbXBvcnQgeyBQdXRDb21wb25lbnRPcGVyYXRpb24gfSBmcm9tICcuLi8uLi9zZXJpYWxpemF0aW9uL2NyZHQvcHV0Q29tcG9uZW50JztcbmltcG9ydCB7IENyZHRNZXNzYWdlVHlwZSB9IGZyb20gJy4uLy4uL3NlcmlhbGl6YXRpb24vY3JkdC90eXBlcyc7XG5pbXBvcnQgeyBQdXROZXR3b3JrQ29tcG9uZW50T3BlcmF0aW9uIH0gZnJvbSAnLi4vLi4vc2VyaWFsaXphdGlvbi9jcmR0L25ldHdvcmsvcHV0Q29tcG9uZW50TmV0d29yayc7XG5pbXBvcnQgeyBOZXR3b3JrRW50aXR5IGFzIGRlZmluZU5ldHdvcmtFbnRpdHksIE5ldHdvcmtQYXJlbnQgYXMgZGVmaW5lTmV0d29ya1BhcmVudCwgVHJhbnNmb3JtIGFzIGRlZmluZVRyYW5zZm9ybSB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMnO1xuaW1wb3J0ICogYXMgbmV0d29ya1V0aWxzIGZyb20gJy4uLy4uL3NlcmlhbGl6YXRpb24vY3JkdC9uZXR3b3JrL3V0aWxzJztcbi8vIE5ldHdvcmtNZXNzYWdlcyBjYW4gb25seSBoYXZlIGEgTUFYX1NJWkUgb2YgMTJrYi4gU28gd2UgbmVlZCB0byBzZW5kIGl0IGluIGNodW5rcy5cbmV4cG9ydCBjb25zdCBMSVZFS0lUX01BWF9TSVpFID0gMTI7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JkdFNjZW5lU3lzdGVtKGVuZ2luZSwgb25Qcm9jZXNzRW50aXR5Q29tcG9uZW50Q2hhbmdlKSB7XG4gICAgY29uc3QgdHJhbnNwb3J0cyA9IFtdO1xuICAgIC8vIENvbXBvbmVudHMgdGhhdCB3ZSB1c2VkIG9uIHRoaXMgc3lzdGVtXG4gICAgY29uc3QgTmV0d29ya0VudGl0eSA9IGRlZmluZU5ldHdvcmtFbnRpdHkoZW5naW5lKTtcbiAgICBjb25zdCBOZXR3b3JrUGFyZW50ID0gZGVmaW5lTmV0d29ya1BhcmVudChlbmdpbmUpO1xuICAgIGNvbnN0IFRyYW5zZm9ybSA9IGRlZmluZVRyYW5zZm9ybShlbmdpbmUpO1xuICAgIC8vIE1lc3NhZ2VzIHRoYXQgd2UgcmVjZWl2ZWQgYXQgdHJhbnNwb3J0Lm9uTWVzc2FnZSB3YWl0aW5nIHRvIGJlIHByb2Nlc3NlZFxuICAgIGNvbnN0IHJlY2VpdmVkTWVzc2FnZXMgPSBbXTtcbiAgICAvLyBNZXNzYWdlcyBhbHJlYWR5IHByb2Nlc3NlZCBieSB0aGUgZW5naW5lIGJ1dCB0aGF0IHdlIG5lZWQgdG8gYnJvYWRjYXN0IHRvIG90aGVyIHRyYW5zcG9ydHMuXG4gICAgY29uc3QgYnJvYWRjYXN0TWVzc2FnZXMgPSBbXTtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cmFuc3BvcnRJZCB0cmFucG9ydCBpZCB0byBpZGVudGl5IG1lc3NhZ2VzXG4gICAgICogQHJldHVybnMgYSBmdW5jdGlvbiB0byBwcm9jZXNzIHJlY2VpdmVkIG1lc3NhZ2VzXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFyc2VDaHVua01lc3NhZ2UodHJhbnNwb3J0SWQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlY2VpdmVzIGEgY2h1bmsgb2YgYmluYXJ5IG1lc3NhZ2VzIGFuZCBzdG9yZXMgYWxsIHRoZSB2YWxpZFxuICAgICAgICAgKiBDb21wb25lbnQgT3BlcmF0aW9uIE1lc3NhZ2VzIGF0IG1lc3NhZ2VzIHF1ZXVlXG4gICAgICAgICAqIEBwYXJhbSBjaHVua01lc3NhZ2UgQSBjaHVuayBvZiBiaW5hcnkgbWVzc2FnZXNcbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBwYXJzZUNodW5rTWVzc2FnZShjaHVua01lc3NhZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKGNodW5rTWVzc2FnZSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyO1xuICAgICAgICAgICAgd2hpbGUgKChoZWFkZXIgPSBDcmR0TWVzc2FnZVByb3RvY29sLmdldEhlYWRlcihidWZmZXIpKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGJ1ZmZlci5jdXJyZW50UmVhZE9mZnNldCgpO1xuICAgICAgICAgICAgICAgIGxldCBtZXNzYWdlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGlmIChoZWFkZXIudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9DT01QT05FTlQpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IERlbGV0ZUNvbXBvbmVudC5yZWFkKGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRlci50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0NPTVBPTkVOVF9ORVRXT1JLKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBEZWxldGVDb21wb25lbnROZXR3b3JrLnJlYWQoYnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaGVhZGVyLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5QVVRfQ09NUE9ORU5UKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBQdXRDb21wb25lbnRPcGVyYXRpb24ucmVhZChidWZmZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChoZWFkZXIudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlRfTkVUV09SSykge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gUHV0TmV0d29ya0NvbXBvbmVudE9wZXJhdGlvbi5yZWFkKGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRlci50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0VOVElUWSkge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gRGVsZXRlRW50aXR5LnJlYWQoYnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaGVhZGVyLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfRU5USVRZX05FVFdPUkspIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IERlbGV0ZUVudGl0eU5ldHdvcmsucmVhZChidWZmZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChoZWFkZXIudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkFQUEVORF9WQUxVRSkge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gQXBwZW5kVmFsdWVPcGVyYXRpb24ucmVhZChidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBVbmtub3duIG1lc3NhZ2UsIHdlIHNraXAgaXRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN1bWUgdGhlIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyLmluY3JlbWVudFJlYWRPZmZzZXQoaGVhZGVyLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY2VpdmVkTWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQnVmZmVyOiBidWZmZXIuYnVmZmVyKCkuc3ViYXJyYXkob2Zmc2V0LCBidWZmZXIuY3VycmVudFJlYWRPZmZzZXQoKSlcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYW5kIGNsZWFyIHRoZSBtZXNzYWVzIHF1ZXVlXG4gICAgICogQHJldHVybnMgbWVzc2FnZXMgcmVjaWV2ZWQgYnkgdGhlIHRyYW5zcG9ydCB0byBwcm9jZXNzIG9uIHRoZSBuZXh0IHRpY2tcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRNZXNzYWdlcyh2YWx1ZSkge1xuICAgICAgICBjb25zdCBtZXNzYWdlc1RvUHJvY2VzcyA9IHZhbHVlLnNwbGljZSgwLCB2YWx1ZS5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gbWVzc2FnZXNUb1Byb2Nlc3M7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIGxvY2FsIGVudGl0eUlkIGFzc29jaWF0ZWQgdG8gdGhlIG5ldHdvcmsgY29tcG9uZW50IG1lc3NhZ2UuXG4gICAgICogSXQncyBhIG1hcHBpbmcgTmV0d29yayAtPiB0byBMb2NhbFxuICAgICAqIElmIGl0J3Mgbm90IGEgbmV0d29yayBtZXNzYWdlLCByZXR1cm4gdGhlIGVudGl0eUlkIHJlY2VpdmVkIGJ5IHRoZSBtZXNzYWdlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZE5ldHdvcmtJZChtc2cpIHtcbiAgICAgICAgY29uc3QgaGFzTmV0d29ya0lkID0gJ25ldHdvcmtJZCcgaW4gbXNnO1xuICAgICAgICBpZiAoaGFzTmV0d29ya0lkKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtlbnRpdHlJZCwgbmV0d29ya10gb2YgZW5naW5lLmdldEVudGl0aWVzV2l0aChOZXR3b3JrRW50aXR5KSkge1xuICAgICAgICAgICAgICAgIGlmIChuZXR3b3JrLm5ldHdvcmtJZCA9PT0gbXNnLm5ldHdvcmtJZCAmJiBuZXR3b3JrLmVudGl0eUlkID09PSBtc2cuZW50aXR5SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZW50aXR5SWQsIG5ldHdvcmsgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgZW50aXR5SWQ6IG1zZy5lbnRpdHlJZCB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGZuIHdpbGwgYmUgY2FsbGVkIG9uIGV2ZXJ5IHRpY2suXG4gICAgICogUHJvY2VzcyBhbGwgdGhlIG1lc3NhZ2VzIHF1ZXVlIHJlY2VpdmVkIGJ5IHRoZSB0cmFuc3BvcnRcbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiByZWNlaXZlTWVzc2FnZXMoKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzVG9Qcm9jZXNzID0gZ2V0TWVzc2FnZXMocmVjZWl2ZWRNZXNzYWdlcyk7XG4gICAgICAgIGNvbnN0IGVudGl0aWVzU2hvdWxkQmVDbGVhbmVkID0gW107XG4gICAgICAgIGZvciAoY29uc3QgbXNnIG9mIG1lc3NhZ2VzVG9Qcm9jZXNzKSB7XG4gICAgICAgICAgICBsZXQgeyBlbnRpdHlJZCwgbmV0d29yayB9ID0gZmluZE5ldHdvcmtJZChtc2cpO1xuICAgICAgICAgICAgLy8gV2UgcmVjZWl2ZSBhIG5ldyBFbnRpdHkuIENyZWF0ZSB0aGUgbG9jYWxFbnRpdHkgYW5kIG1hcCBpdCB0byB0aGUgTmV0d29ya0VudGl0eSBjb21wb25lbnRcbiAgICAgICAgICAgIGlmIChuZXR3b3JrVXRpbHMuaXNOZXR3b3JrTWVzc2FnZShtc2cpICYmICFuZXR3b3JrKSB7XG4gICAgICAgICAgICAgICAgZW50aXR5SWQgPSBlbmdpbmUuYWRkRW50aXR5KCk7XG4gICAgICAgICAgICAgICAgbmV0d29yayA9IHsgZW50aXR5SWQ6IG1zZy5lbnRpdHlJZCwgbmV0d29ya0lkOiBtc2cubmV0d29ya0lkIH07XG4gICAgICAgICAgICAgICAgTmV0d29ya0VudGl0eS5jcmVhdGVPclJlcGxhY2UoZW50aXR5SWQsIG5ldHdvcmspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1zZy50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0VOVElUWSB8fCBtc2cudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9FTlRJVFlfTkVUV09SSykge1xuICAgICAgICAgICAgICAgIGVudGl0aWVzU2hvdWxkQmVDbGVhbmVkLnB1c2goZW50aXR5SWQpO1xuICAgICAgICAgICAgICAgIGJyb2FkY2FzdE1lc3NhZ2VzLnB1c2gobXNnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVudGl0eVN0YXRlID0gZW5naW5lLmVudGl0eUNvbnRhaW5lci5nZXRFbnRpdHlTdGF0ZShlbnRpdHlJZCk7XG4gICAgICAgICAgICAgICAgLy8gU2tpcCB1cGRhdGVzIGZyb20gcmVtb3ZlZCBlbnRpdHllc1xuICAgICAgICAgICAgICAgIGlmIChlbnRpdHlTdGF0ZSA9PT0gRW50aXR5U3RhdGUuUmVtb3ZlZClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgLy8gRW50aXRpZXMgd2l0aCB1bmtub3duIGVudGl0aWVzIHNob3VsZCB1cGRhdGUgaXRzIGVudGl0eSBzdGF0ZVxuICAgICAgICAgICAgICAgIGlmIChlbnRpdHlTdGF0ZSA9PT0gRW50aXR5U3RhdGUuVW5rbm93bikge1xuICAgICAgICAgICAgICAgICAgICBlbmdpbmUuZW50aXR5Q29udGFpbmVyLnVwZGF0ZVVzZWRFbnRpdHkoZW50aXR5SWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBlbmdpbmUuZ2V0Q29tcG9uZW50T3JOdWxsKG1zZy5jb21wb25lbnRJZCk7XG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtc2cudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5jb21wb25lbnRJZCA9PT0gVHJhbnNmb3JtLmNvbXBvbmVudElkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBOZXR3b3JrRW50aXR5LmhhcyhlbnRpdHlJZCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIE5ldHdvcmtQYXJlbnQuaGFzKGVudGl0eUlkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbXNnLmRhdGEgPSBuZXR3b3JrVXRpbHMuZml4VHJhbnNmb3JtUGFyZW50KG1zZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgW2NvbmZsaWN0TWVzc2FnZSwgdmFsdWVdID0gY29tcG9uZW50LnVwZGF0ZUZyb21DcmR0KHsgLi4ubXNnLCBlbnRpdHlJZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb25mbGljdE1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCBtZXNzYWdlIHRvIHRyYW5zcG9ydCBxdWV1ZSB0byBiZSBwcm9jZXNzZWQgYnkgb3RoZXJzIHRyYW5zcG9ydHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyb2FkY2FzdE1lc3NhZ2VzLnB1c2gobXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUHJvY2Vzc0VudGl0eUNvbXBvbmVudENoYW5nZSAmJiBvblByb2Nlc3NFbnRpdHlDb21wb25lbnRDaGFuZ2UoZW50aXR5SWQsIG1zZy50eXBlLCBjb21wb25lbnQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogdGVzdCB0aGlzIGxpbmUsIGl0IGlzIGZ1bmRhbW1lbnRhbCB0byBtYWtlIHRoZSBlZGl0b3Igd29ya1xuICAgICAgICAgICAgICAgICAgICBicm9hZGNhc3RNZXNzYWdlcy5wdXNoKG1zZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHRoZSBsYXN0IHN0YWdlIG9mIHRoZSBzeW5jcmhvbml6YXRpb24gaXMgdG8gZGVsZXRlIHRoZSBlbnRpdGllc1xuICAgICAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBlbnRpdGllc1Nob3VsZEJlQ2xlYW5lZCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBkZWZpbml0aW9uIG9mIGVuZ2luZS5jb21wb25lbnRzSXRlcigpKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogY2hlY2sgdGhpcyB3aXRoIHBhdG8vcHJhdnVzXG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbi5lbnRpdHlEZWxldGVkKGVudGl0eSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbmdpbmUuZW50aXR5Q29udGFpbmVyLnVwZGF0ZVJlbW92ZWRFbnRpdHkoZW50aXR5KTtcbiAgICAgICAgICAgIG9uUHJvY2Vzc0VudGl0eUNvbXBvbmVudENoYW5nZSAmJiBvblByb2Nlc3NFbnRpdHlDb21wb25lbnRDaGFuZ2UoZW50aXR5LCBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0VOVElUWSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgdGhlIGRpcnR5IG1hcCBhbmQgZ2VuZXJhdGVzIGNyZHQgbWVzc2FnZXMgdG8gYmUgc2VuZFxuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIHNlbmRNZXNzYWdlcyhlbnRpdGllc0RlbGV0ZWRUaGlzVGljaykge1xuICAgICAgICAvLyBDUkRUIE1lc3NhZ2VzIHdpbGwgYmUgdGhlIG1lcmdlIGJldHdlZW4gdGhlIHJlY2lldmVkIHRyYW5zcG9ydCBtZXNzYWdlcyBhbmQgdGhlIG5ldyBjcmR0IG1lc3NhZ2VzXG4gICAgICAgIGNvbnN0IGNyZHRNZXNzYWdlcyA9IGdldE1lc3NhZ2VzKGJyb2FkY2FzdE1lc3NhZ2VzKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIoKTtcbiAgICAgICAgZm9yIChjb25zdCBjb21wb25lbnQgb2YgZW5naW5lLmNvbXBvbmVudHNJdGVyKCkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBjb21wb25lbnQuZ2V0Q3JkdFVwZGF0ZXMoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGJ1ZmZlci5jdXJyZW50V3JpdGVPZmZzZXQoKTtcbiAgICAgICAgICAgICAgICAvLyBBdm9pZCBjcmVhdGluZyBtZXNzYWdlcyBpZiB0aGVyZSBpcyBubyB0cmFuc3BvcnQgdGhhdCB3aWxsIGhhbmRsZSBpdFxuICAgICAgICAgICAgICAgIGlmICh0cmFuc3BvcnRzLnNvbWUoKHQpID0+IHQuZmlsdGVyKG1lc3NhZ2UpKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuUFVUX0NPTVBPTkVOVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgUHV0Q29tcG9uZW50T3BlcmF0aW9uLndyaXRlKG1lc3NhZ2UuZW50aXR5SWQsIG1lc3NhZ2UudGltZXN0YW1wLCBtZXNzYWdlLmNvbXBvbmVudElkLCBtZXNzYWdlLmRhdGEsIGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0NPTVBPTkVOVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgRGVsZXRlQ29tcG9uZW50LndyaXRlKG1lc3NhZ2UuZW50aXR5SWQsIGNvbXBvbmVudC5jb21wb25lbnRJZCwgbWVzc2FnZS50aW1lc3RhbXAsIGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuQVBQRU5EX1ZBTFVFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBBcHBlbmRWYWx1ZU9wZXJhdGlvbi53cml0ZShtZXNzYWdlLmVudGl0eUlkLCBtZXNzYWdlLnRpbWVzdGFtcCwgbWVzc2FnZS5jb21wb25lbnRJZCwgbWVzc2FnZS5kYXRhLCBidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNyZHRNZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQnVmZmVyOiBidWZmZXIuYnVmZmVyKCkuc3ViYXJyYXkob2Zmc2V0LCBidWZmZXIuY3VycmVudFdyaXRlT2Zmc2V0KCkpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob25Qcm9jZXNzRW50aXR5Q29tcG9uZW50Q2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gbWVzc2FnZS50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuUFVUX0NPTVBPTkVOVCB8fCBtZXNzYWdlLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5BUFBFTkRfVkFMVUVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY29tcG9uZW50LmdldChtZXNzYWdlLmVudGl0eUlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIG9uUHJvY2Vzc0VudGl0eUNvbXBvbmVudENoYW5nZShtZXNzYWdlLmVudGl0eUlkLCBtZXNzYWdlLnR5cGUsIGNvbXBvbmVudCwgcmF3VmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBBZnRlciBhbGwgdXBkYXRlcywgSSBleGVjdXRlIHRoZSBEZWxldGVkRW50aXR5IG1lc3NhZ2VzXG4gICAgICAgIGZvciAoY29uc3QgZW50aXR5SWQgb2YgZW50aXRpZXNEZWxldGVkVGhpc1RpY2spIHtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGJ1ZmZlci5jdXJyZW50V3JpdGVPZmZzZXQoKTtcbiAgICAgICAgICAgIERlbGV0ZUVudGl0eS53cml0ZShlbnRpdHlJZCwgYnVmZmVyKTtcbiAgICAgICAgICAgIGNyZHRNZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0VOVElUWSxcbiAgICAgICAgICAgICAgICBlbnRpdHlJZCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlQnVmZmVyOiBidWZmZXIuYnVmZmVyKCkuc3ViYXJyYXkob2Zmc2V0LCBidWZmZXIuY3VycmVudFdyaXRlT2Zmc2V0KCkpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG9uUHJvY2Vzc0VudGl0eUNvbXBvbmVudENoYW5nZSAmJiBvblByb2Nlc3NFbnRpdHlDb21wb25lbnRDaGFuZ2UoZW50aXR5SWQsIENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfRU5USVRZKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZW5kIENSRFQgbWVzc2FnZXMgdG8gdHJhbnNwb3J0c1xuICAgICAgICBjb25zdCB0cmFuc3BvcnRCdWZmZXIgPSBuZXcgUmVhZFdyaXRlQnl0ZUJ1ZmZlcigpO1xuICAgICAgICBmb3IgKGNvbnN0IGluZGV4IGluIHRyYW5zcG9ydHMpIHtcbiAgICAgICAgICAgIGNvbnN0IF9fTmV0d29ya01lc3NhZ2VzQnVmZmVyID0gW107XG4gICAgICAgICAgICBjb25zdCB0cmFuc3BvcnRJbmRleCA9IE51bWJlcihpbmRleCk7XG4gICAgICAgICAgICBjb25zdCB0cmFuc3BvcnQgPSB0cmFuc3BvcnRzW3RyYW5zcG9ydEluZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGlzUmVuZGVyZXJUcmFuc3BvcnQgPSB0cmFuc3BvcnQudHlwZSA9PT0gJ3JlbmRlcmVyJztcbiAgICAgICAgICAgIGNvbnN0IGlzTmV0d29ya1RyYW5zcG9ydCA9IHRyYW5zcG9ydC50eXBlID09PSAnbmV0d29yayc7XG4gICAgICAgICAgICAvLyBSZXNldCBCdWZmZXIgZm9yIGVhY2ggVHJhbnNwb3J0XG4gICAgICAgICAgICB0cmFuc3BvcnRCdWZmZXIucmVzZXRCdWZmZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKCk7XG4gICAgICAgICAgICAvLyBUaGVuIHdlIHNlbmQgYWxsIHRoZSBuZXcgY3JkdE1lc3NhZ2VzIHRoYXQgdGhlIHRyYW5zcG9ydCBuZWVkcyB0byBwcm9jZXNzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgY3JkdE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYWRkaW5nIHRoaXMgbWVzc2FnZSB3b3VsZCBleGNlZWQgdGhlIHNpemUgbGltaXRcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50QnVmZmVyU2l6ZSA9IHRyYW5zcG9ydEJ1ZmZlci50b0JpbmFyeSgpLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZVNpemUgPSBtZXNzYWdlLm1lc3NhZ2VCdWZmZXIuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAoaXNOZXR3b3JrVHJhbnNwb3J0ICYmIChjdXJyZW50QnVmZmVyU2l6ZSArIG1lc3NhZ2VTaXplKSAvIDEwMjQgPiBMSVZFS0lUX01BWF9TSVpFKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjdXJyZW50IGJ1ZmZlciBoYXMgY29udGVudCwgc2F2ZSBpdCBhcyBhIGNodW5rXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50QnVmZmVyU2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fTmV0d29ya01lc3NhZ2VzQnVmZmVyLnB1c2godHJhbnNwb3J0QnVmZmVyLnRvQ29waWVkQmluYXJ5KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0QnVmZmVyLnJlc2V0QnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIG1lc3NhZ2UgaXRzZWxmIGlzIGxhcmdlciB0aGFuIHRoZSBsaW1pdCwgd2UgbmVlZCB0byBoYW5kbGUgaXQgc3BlY2lhbGx5XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBub3csIHdlJ2xsIHNraXAgaXQgdG8gcHJldmVudCBpbmZpbml0ZSBsb29wc1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZVNpemUgLyAxMDI0ID4gTElWRUtJVF9NQVhfU0laRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgTWVzc2FnZSB0b28gbGFyZ2UgKCR7bWVzc2FnZVNpemV9IGJ5dGVzKSwgc2tpcHBpbmcgbWVzc2FnZSBmb3IgZW50aXR5ICR7bWVzc2FnZS5lbnRpdHlJZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEF2b2lkIGVjaG8gbWVzc2FnZXNcbiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50cmFuc3BvcnRJZCA9PT0gdHJhbnNwb3J0SW5kZXgpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIC8vIFJlZHVuZGFudCBtZXNzYWdlIGZvciB0aGUgdHJhbnNwb3J0XG4gICAgICAgICAgICAgICAgaWYgKCF0cmFuc3BvcnQuZmlsdGVyKG1lc3NhZ2UpKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVudGl0eUlkIH0gPSBmaW5kTmV0d29ya0lkKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybU5lZWRzRml4ID0gJ2NvbXBvbmVudElkJyBpbiBtZXNzYWdlICYmXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29tcG9uZW50SWQgPT09IFRyYW5zZm9ybS5jb21wb25lbnRJZCAmJlxuICAgICAgICAgICAgICAgICAgICBUcmFuc2Zvcm0uaGFzKGVudGl0eUlkKSAmJlxuICAgICAgICAgICAgICAgICAgICBOZXR3b3JrUGFyZW50LmhhcyhlbnRpdHlJZCkgJiZcbiAgICAgICAgICAgICAgICAgICAgTmV0d29ya0VudGl0eS5oYXMoZW50aXR5SWQpO1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlIHdhcyBhIExPQ0FMIGNoYW5nZSBpbiB0aGUgdHJhbnNmb3JtLiBBZGQgdGhlIHBhcmVudCB0byB0aGF0IHRyYW5zZm9ybVxuICAgICAgICAgICAgICAgIGlmIChpc1JlbmRlcmVyVHJhbnNwb3J0ICYmIG1lc3NhZ2UudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlQgJiYgdHJhbnNmb3JtTmVlZHNGaXgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gZmluZE5ldHdvcmtJZChOZXR3b3JrUGFyZW50LmdldChlbnRpdHlJZCkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1EYXRhID0gbmV0d29ya1V0aWxzLmZpeFRyYW5zZm9ybVBhcmVudChtZXNzYWdlLCBUcmFuc2Zvcm0uZ2V0KGVudGl0eUlkKSwgcGFyZW50LmVudGl0eUlkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gYnVmZmVyLmN1cnJlbnRXcml0ZU9mZnNldCgpO1xuICAgICAgICAgICAgICAgICAgICBQdXRDb21wb25lbnRPcGVyYXRpb24ud3JpdGUoZW50aXR5SWQsIG1lc3NhZ2UudGltZXN0YW1wLCBtZXNzYWdlLmNvbXBvbmVudElkLCB0cmFuc2Zvcm1EYXRhLCBidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnRCdWZmZXIud3JpdGVCdWZmZXIoYnVmZmVyLmJ1ZmZlcigpLnN1YmFycmF5KG9mZnNldCwgYnVmZmVyLmN1cnJlbnRXcml0ZU9mZnNldCgpKSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzUmVuZGVyZXJUcmFuc3BvcnQgJiYgbmV0d29ya1V0aWxzLmlzTmV0d29ya01lc3NhZ2UobWVzc2FnZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgaXQncyB0aGUgcmVuZGVyZXIgdHJhbnNwb3J0IGFuZCBpdHMgYSBOZXR3b3JrTWVzc2FnZSwgd2UgbmVlZCB0byBmaXggdGhlIGVudGl0eUlkIGZpZWxkIGFuZCBjb252ZXJ0IGl0IHRvIGEga25vd24gTWVzc2FnZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gUFVUX05FVFdPUktfQ09NUE9ORU5UIC0+IFBVVF9DT01QT05FTlRcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRyYW5zZm9ybURhdGEgPSAnZGF0YScgaW4gbWVzc2FnZSA/IG1lc3NhZ2UuZGF0YSA6IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmFuc2Zvcm1OZWVkc0ZpeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gZmluZE5ldHdvcmtJZChOZXR3b3JrUGFyZW50LmdldChlbnRpdHlJZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtRGF0YSA9IG5ldHdvcmtVdGlscy5maXhUcmFuc2Zvcm1QYXJlbnQobWVzc2FnZSwgVHJhbnNmb3JtLmdldChlbnRpdHlJZCksIHBhcmVudC5lbnRpdHlJZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbmV0d29ya1V0aWxzLm5ldHdvcmtNZXNzYWdlVG9Mb2NhbCh7IC4uLm1lc3NhZ2UsIGRhdGE6IHRyYW5zZm9ybURhdGEgfSwgZW50aXR5SWQsIGJ1ZmZlciwgdHJhbnNwb3J0QnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aGUgbmV4dCBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiBpdHMgYSBuZXR3b3JrIHRyYW5zcG9ydCBhbmQgaXRzIGEgUFVUX0NPTVBPTkVOVCB0aGF0IGhhcyBhIE5ldHdvcmtFbnRpdHkgY29tcG9uZW50LCB3ZSBuZWVkIHRvIHNlbmQgdGhpcyBtZXNzYWdlXG4gICAgICAgICAgICAgICAgLy8gdGhyb3VnaCBjb21tcyB3aXRoIHRoZSBFbnRpdHlJRCBhbmQgTmV0d29ya0lEIGZyb20gdGhlciBOZXR3b3JrRW50aXR5IHNvIGV2ZXJ5b25lIGNhbiByZWNpZXZlIHRoaXMgbWVzc2FnZSBhbmQgbWFwIHRvIHRoZWlyIGN1c3RvbSBlbnRpdHlJRC5cbiAgICAgICAgICAgICAgICBpZiAoaXNOZXR3b3JrVHJhbnNwb3J0ICYmICFuZXR3b3JrVXRpbHMuaXNOZXR3b3JrTWVzc2FnZShtZXNzYWdlKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXR3b3JrRGF0YSA9IE5ldHdvcmtFbnRpdHkuZ2V0T3JOdWxsKG1lc3NhZ2UuZW50aXR5SWQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBpdCBoYXMgbmV0d29ya0RhdGEgY29udmVydCB0aGUgbWVzc2FnZSB0byBQVVRfTkVUV09SS19DT01QT05FTlQuXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXR3b3JrRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV0d29ya1V0aWxzLmxvY2FsTWVzc2FnZVRvTmV0d29yayhtZXNzYWdlLCBuZXR3b3JrRGF0YSwgYnVmZmVyLCB0cmFuc3BvcnRCdWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aGUgbmV4dCBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBDb21tb24gbWVzc2FnZVxuICAgICAgICAgICAgICAgIHRyYW5zcG9ydEJ1ZmZlci53cml0ZUJ1ZmZlcihtZXNzYWdlLm1lc3NhZ2VCdWZmZXIsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc05ldHdvcmtUcmFuc3BvcnQgJiYgdHJhbnNwb3J0QnVmZmVyLmN1cnJlbnRXcml0ZU9mZnNldCgpKSB7XG4gICAgICAgICAgICAgICAgX19OZXR3b3JrTWVzc2FnZXNCdWZmZXIucHVzaCh0cmFuc3BvcnRCdWZmZXIudG9CaW5hcnkoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gaXNOZXR3b3JrVHJhbnNwb3J0ID8gX19OZXR3b3JrTWVzc2FnZXNCdWZmZXIgOiB0cmFuc3BvcnRCdWZmZXIudG9CaW5hcnkoKTtcbiAgICAgICAgICAgIGF3YWl0IHRyYW5zcG9ydC5zZW5kKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBBZGQgYSB0cmFuc3BvcnQgdG8gdGhlIGNyZHQgc3lzdGVtXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkVHJhbnNwb3J0KHRyYW5zcG9ydCkge1xuICAgICAgICBjb25zdCBpZCA9IHRyYW5zcG9ydHMucHVzaCh0cmFuc3BvcnQpIC0gMTtcbiAgICAgICAgdHJhbnNwb3J0Lm9ubWVzc2FnZSA9IHBhcnNlQ2h1bmtNZXNzYWdlKGlkKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2VuZE1lc3NhZ2VzLFxuICAgICAgICByZWNlaXZlTWVzc2FnZXMsXG4gICAgICAgIGFkZFRyYW5zcG9ydFxuICAgIH07XG59XG4iLCAiZXhwb3J0IHZhciBDcmR0VXRpbHM7XG4oZnVuY3Rpb24gKENyZHRVdGlscykge1xuICAgIGxldCBTeW5jaHJvbml6ZWRFbnRpdHlUeXBlO1xuICAgIChmdW5jdGlvbiAoU3luY2hyb25pemVkRW50aXR5VHlwZSkge1xuICAgICAgICAvLyBzeW5jaHJvbml6ZXMgZW50aXRpZXMgd2l0aCB0aGUgTmV0d29ya1N5bmNocm9uaXplZCBjb21wb25lbnQgb25seSwgdXNlZCBmb3IgbmV0d29ya2VkIGdhbWVzXG4gICAgICAgIFN5bmNocm9uaXplZEVudGl0eVR5cGVbU3luY2hyb25pemVkRW50aXR5VHlwZVtcIk5FVFdPUktFRFwiXSA9IDBdID0gXCJORVRXT1JLRURcIjtcbiAgICAgICAgLy8gc3luY2hyb25pemVzIGVudGl0aWVzIG5lZWRlZCBieSB0aGUgcmVuZGVyZXJcbiAgICAgICAgU3luY2hyb25pemVkRW50aXR5VHlwZVtTeW5jaHJvbml6ZWRFbnRpdHlUeXBlW1wiUkVOREVSRVJcIl0gPSAxXSA9IFwiUkVOREVSRVJcIjtcbiAgICB9KShTeW5jaHJvbml6ZWRFbnRpdHlUeXBlID0gQ3JkdFV0aWxzLlN5bmNocm9uaXplZEVudGl0eVR5cGUgfHwgKENyZHRVdGlscy5TeW5jaHJvbml6ZWRFbnRpdHlUeXBlID0ge30pKTtcbn0pKENyZHRVdGlscyB8fCAoQ3JkdFV0aWxzID0ge30pKTtcbmV4cG9ydCBkZWZhdWx0IENyZHRVdGlscztcbi8qKlxuICogQ29tcGFyZSByYXcgZGF0YS5cbiAqIEBwdWJsaWNcbiAqIEByZXR1cm5zIDAgaWYgaXMgdGhlIHNhbWUgZGF0YSwgMSBpZiBhID4gYiwgLTEgaWYgYiA+IGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRhdGFDb21wYXJlKGEsIGIpIHtcbiAgICAvLyBBdCByZWZlcmVuY2UgbGV2ZWxcbiAgICBpZiAoYSA9PT0gYilcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgaWYgKGEgPT09IG51bGwgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIGlmIChhICE9PSBudWxsICYmIGIgPT09IG51bGwpXG4gICAgICAgIHJldHVybiAxO1xuICAgIGlmIChhIGluc3RhbmNlb2YgVWludDhBcnJheSAmJiBiIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICBjb25zdCBsZW5ndGhEaWZmZXJlbmNlID0gYS5ieXRlTGVuZ3RoIC0gYi5ieXRlTGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoRGlmZmVyZW5jZSAhPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGxlbmd0aERpZmZlcmVuY2UgPiAwID8gMSA6IC0xO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBuID0gYS5ieXRlTGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICByZXMgPSBhW2ldIC0gYltpXTtcbiAgICAgICAgICAgIGlmIChyZXMgIT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzID4gMCA/IDEgOiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB0aGUgZGF0YSBpcyBleGFjdGx5IHRoZSBzYW1lXG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aERpZmZlcmVuY2UgPSBhLmxlbmd0aCAtIGIubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoRGlmZmVyZW5jZSAhPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGxlbmd0aERpZmZlcmVuY2UgPiAwID8gMSA6IC0xO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhLmxvY2FsZUNvbXBhcmUoYik7XG4gICAgfVxuICAgIHJldHVybiBhID4gYiA/IDEgOiAtMTtcbn1cbiIsICIvKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVlcFJlYWRvbmx5KHZhbCkge1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKHsgLi4udmFsIH0pO1xufVxuIiwgImltcG9ydCB7IFJlYWRXcml0ZUJ5dGVCdWZmZXIgfSBmcm9tICcuLi9zZXJpYWxpemF0aW9uL0J5dGVCdWZmZXInO1xuaW1wb3J0IHsgUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlLCBDcmR0TWVzc2FnZVR5cGUsIFB1dENvbXBvbmVudE9wZXJhdGlvbiwgRGVsZXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vc2VyaWFsaXphdGlvbi9jcmR0JztcbmltcG9ydCB7IGRhdGFDb21wYXJlIH0gZnJvbSAnLi4vc3lzdGVtcy9jcmR0L3V0aWxzJztcbmltcG9ydCB7IGRlZXBSZWFkb25seSB9IGZyb20gJy4vcmVhZG9ubHknO1xuZXhwb3J0IGZ1bmN0aW9uIGluY3JlbWVudFRpbWVzdGFtcChlbnRpdHksIHRpbWVzdGFtcHMpIHtcbiAgICBjb25zdCBuZXdUaW1lc3RhbXAgPSAodGltZXN0YW1wcy5nZXQoZW50aXR5KSB8fCAwKSArIDE7XG4gICAgdGltZXN0YW1wcy5zZXQoZW50aXR5LCBuZXdUaW1lc3RhbXApO1xuICAgIHJldHVybiBuZXdUaW1lc3RhbXA7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRHVtcEx3d0Z1bmN0aW9uRnJvbUNyZHQoY29tcG9uZW50SWQsIHRpbWVzdGFtcHMsIHNjaGVtYSwgZGF0YSkge1xuICAgIHJldHVybiBmdW5jdGlvbiBkdW1wQ3JkdFN0YXRlKGJ1ZmZlciwgZmlsdGVyRW50aXR5KSB7XG4gICAgICAgIGZvciAoY29uc3QgW2VudGl0eSwgdGltZXN0YW1wXSBvZiB0aW1lc3RhbXBzKSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmIChmaWx0ZXJFbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAvLyBJIHN3ZWFyIHRoYXQgdGhpcyBpcyBiZWluZyB0ZXN0ZWQgb24gc3RhdGUtdG8tY3JkdC5zcGVjIGJ1dCBqZXN0IGlzIHRyb2xsaW5nIG1lXG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgICAgICBpZiAoIWZpbHRlckVudGl0eShlbnRpdHkpKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICBpZiAoZGF0YS5oYXMoZW50aXR5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ID0gZGF0YS5nZXQoZW50aXR5KTtcbiAgICAgICAgICAgICAgICBjb25zdCBidWYgPSBuZXcgUmVhZFdyaXRlQnl0ZUJ1ZmZlcigpO1xuICAgICAgICAgICAgICAgIHNjaGVtYS5zZXJpYWxpemUoaXQsIGJ1Zik7XG4gICAgICAgICAgICAgICAgUHV0Q29tcG9uZW50T3BlcmF0aW9uLndyaXRlKGVudGl0eSwgdGltZXN0YW1wLCBjb21wb25lbnRJZCwgYnVmLnRvQmluYXJ5KCksIGJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBEZWxldGVDb21wb25lbnQud3JpdGUoZW50aXR5LCBjb21wb25lbnRJZCwgdGltZXN0YW1wLCBidWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVVcGRhdGVMd3dGcm9tQ3JkdChjb21wb25lbnRJZCwgdGltZXN0YW1wcywgc2NoZW1hLCBkYXRhKSB7XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyB0aGUgcmVjZWl2ZWQgbWVzc2FnZSBvbmx5IGlmIHRoZSBsYW1wb3J0IG51bWJlciByZWNpZXZlZCBpcyBoaWdoZXJcbiAgICAgKiB0aGFuIHRoZSBzdG9yZWQgb25lLiBJZiBpdHMgbG93ZXIsIHdlIHNwcmVhZCBpdCB0byB0aGUgbmV0d29yayB0byBjb3JyZWN0IHRoZSBwZWVyLlxuICAgICAqIElmIHRoZXkgYXJlIGVxdWFsLCB0aGUgYmlnZ2VyIHJhdyBkYXRhIHdpbnMuXG4gIFxuICAgICAgKiBSZXR1cm5zIHRoZSByZWNpZXZlZCBkYXRhIGlmIHRoZSBsYW1wb3J0IG51bWJlciB3YXMgYmlnZ2VyIHRoYW4gb3Vycy5cbiAgICAgICogSWYgaXQgd2FzIGFuIG91dGRhdGVkIG1lc3NhZ2UsIHRoZW4gd2UgcmV0dXJuIHZvaWRcbiAgICAgICogQHB1YmxpY1xuICAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmR0UnVsZUZvckN1cnJlbnRTdGF0ZShtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IHsgZW50aXR5SWQsIHRpbWVzdGFtcCB9ID0gbWVzc2FnZTtcbiAgICAgICAgY29uc3QgY3VycmVudFRpbWVzdGFtcCA9IHRpbWVzdGFtcHMuZ2V0KGVudGl0eUlkKTtcbiAgICAgICAgLy8gVGhlIHJlY2VpdmVkIG1lc3NhZ2UgaXMgPiB0aGFuIG91ciBjdXJyZW50IHZhbHVlLCB1cGRhdGUgb3VyIHN0YXRlLmNvbXBvbmVudHMuXG4gICAgICAgIGlmIChjdXJyZW50VGltZXN0YW1wID09PSB1bmRlZmluZWQgfHwgY3VycmVudFRpbWVzdGFtcCA8IHRpbWVzdGFtcCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZS5TdGF0ZVVwZGF0ZWRUaW1lc3RhbXA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT3V0ZGF0ZWQgTWVzc2FnZS4gUmVzZW5kIG91ciBzdGF0ZSBtZXNzYWdlIHRocm91Z2ggdGhlIHdpcmUuXG4gICAgICAgIGlmIChjdXJyZW50VGltZXN0YW1wID4gdGltZXN0YW1wKSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnMicsIGN1cnJlbnRUaW1lc3RhbXAsIHRpbWVzdGFtcClcbiAgICAgICAgICAgIHJldHVybiBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGUuU3RhdGVPdXRkYXRlZFRpbWVzdGFtcDtcbiAgICAgICAgfVxuICAgICAgICAvLyBEZWxldGVzIGFyZSBpZGVtcG90ZW50XG4gICAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfQ09NUE9ORU5UICYmICFkYXRhLmhhcyhlbnRpdHlJZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGUuTm9DaGFuZ2VzO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdXJyZW50RGF0YUdyZWF0ZXIgPSAwO1xuICAgICAgICBpZiAoZGF0YS5oYXMoZW50aXR5SWQpKSB7XG4gICAgICAgICAgICBjb25zdCB3cml0ZUJ1ZmZlciA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKCk7XG4gICAgICAgICAgICBzY2hlbWEuc2VyaWFsaXplKGRhdGEuZ2V0KGVudGl0eUlkKSwgd3JpdGVCdWZmZXIpO1xuICAgICAgICAgICAgY3VycmVudERhdGFHcmVhdGVyID0gZGF0YUNvbXBhcmUod3JpdGVCdWZmZXIudG9CaW5hcnkoKSwgbWVzc2FnZS5kYXRhIHx8IG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY3VycmVudERhdGFHcmVhdGVyID0gZGF0YUNvbXBhcmUobnVsbCwgbWVzc2FnZS5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTYW1lIGRhdGEsIHNhbWUgdGltZXN0YW1wLiBXZWlyZG8gZWNobyBtZXNzYWdlLlxuICAgICAgICAvLyBjb25zb2xlLmxvZygnMycsIGN1cnJlbnREYXRhR3JlYXRlciwgd3JpdGVCdWZmZXIudG9CaW5hcnkoKSwgKG1lc3NhZ2UgYXMgYW55KS5kYXRhIHx8IG51bGwpXG4gICAgICAgIGlmIChjdXJyZW50RGF0YUdyZWF0ZXIgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGUuTm9DaGFuZ2VzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN1cnJlbnREYXRhR3JlYXRlciA+IDApIHtcbiAgICAgICAgICAgIC8vIEN1cnJlbnQgZGF0YSBpcyBncmVhdGVyXG4gICAgICAgICAgICByZXR1cm4gUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlLlN0YXRlT3V0ZGF0ZWREYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gQ3VyZW50IGRhdGEgaXMgbG93ZXJcbiAgICAgICAgICAgIHJldHVybiBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGUuU3RhdGVVcGRhdGVkRGF0YTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKG1zZykgPT4ge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBpZiAobXNnLnR5cGUgIT09IENyZHRNZXNzYWdlVHlwZS5QVVRfQ09NUE9ORU5UICYmXG4gICAgICAgICAgICBtc2cudHlwZSAhPT0gQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlRfTkVUV09SSyAmJlxuICAgICAgICAgICAgbXNnLnR5cGUgIT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfQ09NUE9ORU5UICYmXG4gICAgICAgICAgICBtc2cudHlwZSAhPT0gQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9DT01QT05FTlRfTkVUV09SSylcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICByZXR1cm4gW251bGwsIGRhdGEuZ2V0KG1zZy5lbnRpdHlJZCldO1xuICAgICAgICBjb25zdCBhY3Rpb24gPSBjcmR0UnVsZUZvckN1cnJlbnRTdGF0ZShtc2cpO1xuICAgICAgICBjb25zdCBlbnRpdHkgPSBtc2cuZW50aXR5SWQ7XG4gICAgICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICAgICAgICBjYXNlIFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZS5TdGF0ZVVwZGF0ZWREYXRhOlxuICAgICAgICAgICAgY2FzZSBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGUuU3RhdGVVcGRhdGVkVGltZXN0YW1wOiB7XG4gICAgICAgICAgICAgICAgdGltZXN0YW1wcy5zZXQoZW50aXR5LCBtc2cudGltZXN0YW1wKTtcbiAgICAgICAgICAgICAgICBpZiAobXNnLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5QVVRfQ09NUE9ORU5UIHx8IG1zZy50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuUFVUX0NPTVBPTkVOVF9ORVRXT1JLKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZiA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKG1zZy5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5zZXQoZW50aXR5LCBzY2hlbWEuZGVzZXJpYWxpemUoYnVmKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLmRlbGV0ZShlbnRpdHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gW251bGwsIGRhdGEuZ2V0KGVudGl0eSldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGUuU3RhdGVPdXRkYXRlZFRpbWVzdGFtcDpcbiAgICAgICAgICAgIGNhc2UgUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlLlN0YXRlT3V0ZGF0ZWREYXRhOiB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaGFzKGVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd3JpdGVCdWZmZXIgPSBuZXcgUmVhZFdyaXRlQnl0ZUJ1ZmZlcigpO1xuICAgICAgICAgICAgICAgICAgICBzY2hlbWEuc2VyaWFsaXplKGRhdGEuZ2V0KGVudGl0eSksIHdyaXRlQnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBDcmR0TWVzc2FnZVR5cGUuUFVUX0NPTVBPTkVOVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB3cml0ZUJ1ZmZlci50b0JpbmFyeSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eUlkOiBlbnRpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXBzLmdldChlbnRpdHkpXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5nZXQoZW50aXR5KVxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0NPTVBPTkVOVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHlJZDogZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wcy5nZXQoZW50aXR5KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW251bGwsIGRhdGEuZ2V0KGVudGl0eSldO1xuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlR2V0Q3JkdE1lc3NhZ2VzRm9yTHd3KGNvbXBvbmVudElkLCB0aW1lc3RhbXBzLCBkaXJ0eUl0ZXJhdG9yLCBzY2hlbWEsIGRhdGEpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24qICgpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbnRpdHkgb2YgZGlydHlJdGVyYXRvcikge1xuICAgICAgICAgICAgY29uc3QgbmV3VGltZXN0YW1wID0gaW5jcmVtZW50VGltZXN0YW1wKGVudGl0eSwgdGltZXN0YW1wcyk7XG4gICAgICAgICAgICBpZiAoZGF0YS5oYXMoZW50aXR5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdyaXRlQnVmZmVyID0gbmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICBzY2hlbWEuc2VyaWFsaXplKGRhdGEuZ2V0KGVudGl0eSksIHdyaXRlQnVmZmVyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtc2cgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IENyZHRNZXNzYWdlVHlwZS5QVVRfQ09NUE9ORU5ULFxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5SWQ6IGVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogd3JpdGVCdWZmZXIudG9CaW5hcnkoKSxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXdUaW1lc3RhbXBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHlpZWxkIG1zZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1zZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9DT01QT05FTlQsXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudElkLFxuICAgICAgICAgICAgICAgICAgICBlbnRpdHlJZDogZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ld1RpbWVzdGFtcFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgeWllbGQgbXNnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRpcnR5SXRlcmF0b3IuY2xlYXIoKTtcbiAgICB9O1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudERlZmluaXRpb25Gcm9tU2NoZW1hKGNvbXBvbmVudE5hbWUsIGNvbXBvbmVudElkLCBzY2hlbWEpIHtcbiAgICBjb25zdCBkYXRhID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGRpcnR5SXRlcmF0b3IgPSBuZXcgU2V0KCk7XG4gICAgY29uc3QgdGltZXN0YW1wcyA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBvbkNoYW5nZUNhbGxiYWNrcyA9IG5ldyBNYXAoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBnZXQgY29tcG9uZW50SWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50SWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBjb21wb25lbnROYW1lKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudE5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBjb21wb25lbnRUeXBlKCkge1xuICAgICAgICAgICAgLy8gYSBnZXR0ZXIgaXMgdXNlZCBoZXJlIHRvIHByZXZlbnQgYWNjaWRlbnRhbCBjaGFuZ2VzXG4gICAgICAgICAgICByZXR1cm4gMCAvKiBDb21wb25lbnRUeXBlLkxhc3RXcml0ZVdpbkVsZW1lbnRTZXQgKi87XG4gICAgICAgIH0sXG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgaGFzKGVudGl0eSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEuaGFzKGVudGl0eSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlbGV0ZUZyb20oZW50aXR5LCBtYXJrQXNEaXJ0eSA9IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGRhdGEuZ2V0KGVudGl0eSk7XG4gICAgICAgICAgICBpZiAoZGF0YS5kZWxldGUoZW50aXR5KSAmJiBtYXJrQXNEaXJ0eSkge1xuICAgICAgICAgICAgICAgIGRpcnR5SXRlcmF0b3IuYWRkKGVudGl0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50IHx8IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudGl0eURlbGV0ZWQoZW50aXR5LCBtYXJrQXNEaXJ0eSkge1xuICAgICAgICAgICAgaWYgKGRhdGEuZGVsZXRlKGVudGl0eSkgJiYgbWFya0FzRGlydHkpIHtcbiAgICAgICAgICAgICAgICBkaXJ0eUl0ZXJhdG9yLmFkZChlbnRpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXRPck51bGwoZW50aXR5KSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBkYXRhLmdldChlbnRpdHkpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudCA/IGRlZXBSZWFkb25seShjb21wb25lbnQpIDogbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0KGVudGl0eSkge1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gZGF0YS5nZXQoZW50aXR5KTtcbiAgICAgICAgICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBbZ2V0RnJvbV0gQ29tcG9uZW50ICR7Y29tcG9uZW50TmFtZX0gZm9yIGVudGl0eSAjJHtlbnRpdHl9IG5vdCBmb3VuZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlZXBSZWFkb25seShjb21wb25lbnQpO1xuICAgICAgICB9LFxuICAgICAgICBjcmVhdGUoZW50aXR5LCB2YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gZGF0YS5nZXQoZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFtjcmVhdGVdIENvbXBvbmVudCAke2NvbXBvbmVudE5hbWV9IGZvciAke2VudGl0eX0gYWxyZWFkeSBleGlzdHNgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZWRWYWx1ZSA9IHZhbHVlID09PSB1bmRlZmluZWQgPyBzY2hlbWEuY3JlYXRlKCkgOiBzY2hlbWEuZXh0ZW5kID8gc2NoZW1hLmV4dGVuZCh2YWx1ZSkgOiB2YWx1ZTtcbiAgICAgICAgICAgIGRhdGEuc2V0KGVudGl0eSwgdXNlZFZhbHVlKTtcbiAgICAgICAgICAgIGRpcnR5SXRlcmF0b3IuYWRkKGVudGl0eSk7XG4gICAgICAgICAgICByZXR1cm4gdXNlZFZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBjcmVhdGVPclJlcGxhY2UoZW50aXR5LCB2YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgdXNlZFZhbHVlID0gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHNjaGVtYS5jcmVhdGUoKSA6IHNjaGVtYS5leHRlbmQgPyBzY2hlbWEuZXh0ZW5kKHZhbHVlKSA6IHZhbHVlO1xuICAgICAgICAgICAgZGF0YS5zZXQoZW50aXR5LCB1c2VkVmFsdWUpO1xuICAgICAgICAgICAgZGlydHlJdGVyYXRvci5hZGQoZW50aXR5KTtcbiAgICAgICAgICAgIHJldHVybiB1c2VkVmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGdldE11dGFibGVPck51bGwoZW50aXR5KSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBkYXRhLmdldChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKCFjb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpcnR5SXRlcmF0b3IuYWRkKGVudGl0eSk7XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50O1xuICAgICAgICB9LFxuICAgICAgICBnZXRPckNyZWF0ZU11dGFibGUoZW50aXR5LCB2YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gZGF0YS5nZXQoZW50aXR5KTtcbiAgICAgICAgICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKGVudGl0eSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGlydHlJdGVyYXRvci5hZGQoZW50aXR5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9uZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXRNdXRhYmxlKGVudGl0eSkge1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5nZXRNdXRhYmxlT3JOdWxsKGVudGl0eSk7XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBbbXV0YWJsZV0gQ29tcG9uZW50ICR7Y29tcG9uZW50TmFtZX0gZm9yICR7ZW50aXR5fSBub3QgZm91bmRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgICAgIH0sXG4gICAgICAgICppdGVyYXRvcigpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2VudGl0eSwgY29tcG9uZW50XSBvZiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgW2VudGl0eSwgY29tcG9uZW50XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgKmRpcnR5SXRlcmF0b3IoKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBkaXJ0eUl0ZXJhdG9yKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgZW50aXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXRDcmR0VXBkYXRlczogY3JlYXRlR2V0Q3JkdE1lc3NhZ2VzRm9yTHd3KGNvbXBvbmVudElkLCB0aW1lc3RhbXBzLCBkaXJ0eUl0ZXJhdG9yLCBzY2hlbWEsIGRhdGEpLFxuICAgICAgICB1cGRhdGVGcm9tQ3JkdDogY3JlYXRlVXBkYXRlTHd3RnJvbUNyZHQoY29tcG9uZW50SWQsIHRpbWVzdGFtcHMsIHNjaGVtYSwgZGF0YSksXG4gICAgICAgIGR1bXBDcmR0U3RhdGVUb0J1ZmZlcjogY3JlYXRlRHVtcEx3d0Z1bmN0aW9uRnJvbUNyZHQoY29tcG9uZW50SWQsIHRpbWVzdGFtcHMsIHNjaGVtYSwgZGF0YSksXG4gICAgICAgIG9uQ2hhbmdlKGVudGl0eSwgY2IpIHtcbiAgICAgICAgICAgIGNvbnN0IGNicyA9IG9uQ2hhbmdlQ2FsbGJhY2tzLmdldChlbnRpdHkpID8/IFtdO1xuICAgICAgICAgICAgY2JzLnB1c2goY2IpO1xuICAgICAgICAgICAgb25DaGFuZ2VDYWxsYmFja3Muc2V0KGVudGl0eSwgY2JzKTtcbiAgICAgICAgfSxcbiAgICAgICAgX19vbkNoYW5nZUNhbGxiYWNrcyhlbnRpdHksIHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBjYnMgPSBvbkNoYW5nZUNhbGxiYWNrcy5nZXQoZW50aXR5KTtcbiAgICAgICAgICAgIGlmICghY2JzKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2Igb2YgY2JzKSB7XG4gICAgICAgICAgICAgICAgY2IodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbiIsICJleHBvcnQgY29uc3QgU1lTVEVNU19SRUdVTEFSX1BSSU9SSVRZID0gMTAwZTM7XG5leHBvcnQgZnVuY3Rpb24gU3lzdGVtQ29udGFpbmVyKCkge1xuICAgIGNvbnN0IHN5c3RlbXMgPSBbXTtcbiAgICBmdW5jdGlvbiBzb3J0KCkge1xuICAgICAgICAvLyBUT0RPOiBzeXN0ZW1zIHdpdGggdGhlIHNhbWUgcHJpb3JpdHkgc2hvdWxkIGFsd2F5cyBoYXZlIHRoZSBzYW1lIHN0YWJsZSBvcmRlclxuICAgICAgICAvLyAgICAgICBhZGQgYSBcImNvdW50ZXJcIiB0byB0aGUgU3lzdGVtIHR5cGUgdG8gZW5zdXJlIHRoYXQgb3JkZXJcbiAgICAgICAgc3lzdGVtcy5zb3J0KChhLCBiKSA9PiBiLnByaW9yaXR5IC0gYS5wcmlvcml0eSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZChmbiwgcHJpb3JpdHksIG5hbWUpIHtcbiAgICAgICAgY29uc3Qgc3lzdGVtTmFtZSA9IG5hbWUgPz8gZm4ubmFtZTtcbiAgICAgICAgaWYgKHN5c3RlbXMuZmluZCgoaXRlbSkgPT4gaXRlbS5mbiA9PT0gZm4pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFN5c3RlbSAke0pTT04uc3RyaW5naWZ5KHN5c3RlbU5hbWUpfSBhbHJlYWR5IGFkZGVkIHRvIHRoZSBlbmdpbmVgKTtcbiAgICAgICAgfVxuICAgICAgICBzeXN0ZW1zLnB1c2goe1xuICAgICAgICAgICAgZm4sXG4gICAgICAgICAgICBwcmlvcml0eSxcbiAgICAgICAgICAgIG5hbWU6IHN5c3RlbU5hbWVcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFRPRE86IHJlcGxhY2UgdGhpcyBzb3J0IGJ5IGFuIGluc2VydGlvbiBpbiB0aGUgcmlnaHQgcGxhY2VcbiAgICAgICAgc29ydCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmUoc2VsZWN0b3IpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gLTE7XG4gICAgICAgIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpbmRleCA9IHN5c3RlbXMuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtLm5hbWUgPT09IHNlbGVjdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGluZGV4ID0gc3lzdGVtcy5maW5kSW5kZXgoKGl0ZW0pID0+IGl0ZW0uZm4gPT09IHNlbGVjdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgc3lzdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICBzb3J0KCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBhZGQsXG4gICAgICAgIHJlbW92ZSxcbiAgICAgICAgZ2V0U3lzdGVtcygpIHtcbiAgICAgICAgICAgIHJldHVybiBzeXN0ZW1zO1xuICAgICAgICB9XG4gICAgfTtcbn1cbiIsICJpbXBvcnQgeyBSZWFkV3JpdGVCeXRlQnVmZmVyIH0gZnJvbSAnLi4vc2VyaWFsaXphdGlvbi9CeXRlQnVmZmVyJztcbmltcG9ydCB7IEFwcGVuZFZhbHVlT3BlcmF0aW9uLCBDcmR0TWVzc2FnZVR5cGUgfSBmcm9tICcuLi9zZXJpYWxpemF0aW9uL2NyZHQnO1xuaW1wb3J0IHsgX19ERVZfXyB9IGZyb20gJy4uL3J1bnRpbWUvaW52YXJpYW50JztcbmNvbnN0IGVtcHR5UmVhZG9ubHlTZXQgPSBmcmVlemVTZXQobmV3IFNldCgpKTtcbmZ1bmN0aW9uIGZyb3plbkVycm9yKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignVGhlIHNldCBpcyBmcm96ZW4nKTtcbn1cbmZ1bmN0aW9uIGZyZWV6ZVNldChzZXQpIHtcbiAgICA7XG4gICAgc2V0LmFkZCA9IGZyb3plbkVycm9yO1xuICAgIHNldC5jbGVhciA9IGZyb3plbkVycm9yO1xuICAgIHJldHVybiBzZXQ7XG59XG5mdW5jdGlvbiBzb3J0QnlUaW1lc3RhbXAoYSwgYikge1xuICAgIHJldHVybiBhLnRpbWVzdGFtcCA+IGIudGltZXN0YW1wID8gMSA6IC0xO1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVZhbHVlU2V0Q29tcG9uZW50RGVmaW5pdGlvbkZyb21TY2hlbWEoY29tcG9uZW50TmFtZSwgY29tcG9uZW50SWQsIHNjaGVtYSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGRhdGEgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgZGlydHlJdGVyYXRvciA9IG5ldyBTZXQoKTtcbiAgICBjb25zdCBxdWV1ZWRDb21tYW5kcyA9IFtdO1xuICAgIGNvbnN0IG9uQ2hhbmdlQ2FsbGJhY2tzID0gbmV3IE1hcCgpO1xuICAgIC8vIG9ubHkgc29ydCB0aGUgYXJyYXkgaWYgdGhlIGxhdGVzdCAoTikgZWxlbWVudCBoYXMgYSB0aW1lc3RhbXAgPD0gTi0xXG4gICAgZnVuY3Rpb24gc2hvdWxkU29ydChyb3cpIHtcbiAgICAgICAgY29uc3QgbGVuID0gcm93LnJhdy5sZW5ndGg7XG4gICAgICAgIGlmIChsZW4gPiAxICYmIHJvdy5yYXdbbGVuIC0gMV0udGltZXN0YW1wIDw9IHJvdy5yYXdbbGVuIC0gMl0udGltZXN0YW1wKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdvdFVwZGF0ZWQoZW50aXR5KSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGRhdGEuZ2V0KGVudGl0eSk7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChyb3cpIHtcbiAgICAgICAgICAgIGlmIChzaG91bGRTb3J0KHJvdykpIHtcbiAgICAgICAgICAgICAgICByb3cucmF3LnNvcnQoc29ydEJ5VGltZXN0YW1wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChyb3cucmF3Lmxlbmd0aCA+IG9wdGlvbnMubWF4RWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICByb3cucmF3LnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmcm96ZW5TZXQgPSBmcmVlemVTZXQobmV3IFNldChyb3c/LnJhdy5tYXAoKCQpID0+ICQudmFsdWUpKSk7XG4gICAgICAgICAgICByb3cuZnJvemVuU2V0ID0gZnJvemVuU2V0O1xuICAgICAgICAgICAgcmV0dXJuIGZyb3plblNldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICByZXR1cm4gZW1wdHlSZWFkb25seVNldDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhcHBlbmQoZW50aXR5LCB2YWx1ZSkge1xuICAgICAgICBsZXQgcm93ID0gZGF0YS5nZXQoZW50aXR5KTtcbiAgICAgICAgaWYgKCFyb3cpIHtcbiAgICAgICAgICAgIHJvdyA9IHsgcmF3OiBbXSwgZnJvemVuU2V0OiBlbXB0eVJlYWRvbmx5U2V0IH07XG4gICAgICAgICAgICBkYXRhLnNldChlbnRpdHksIHJvdyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXNlZFZhbHVlID0gc2NoZW1hLmV4dGVuZCA/IHNjaGVtYS5leHRlbmQodmFsdWUpIDogdmFsdWU7XG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG9wdGlvbnMudGltZXN0YW1wRnVuY3Rpb24odXNlZFZhbHVlKTtcbiAgICAgICAgaWYgKF9fREVWX18pIHtcbiAgICAgICAgICAgIC8vIG9ubHkgZnJlZXplIHRoZSBvYmplY3RzIGluIGRldiBtb2RlIHRvIHdhcm4gdGhlIGRldmVsb3BlcnMgYmVjYXVzZVxuICAgICAgICAgICAgLy8gaXQgaXMgYW4gZXhwZW5zaXZlIG9wZXJhdGlvblxuICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZSh1c2VkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJvdy5yYXcucHVzaCh7IHZhbHVlOiB1c2VkVmFsdWUsIHRpbWVzdGFtcCB9KTtcbiAgICAgICAgcmV0dXJuIHsgc2V0OiBnb3RVcGRhdGVkKGVudGl0eSksIHZhbHVlOiB1c2VkVmFsdWUgfTtcbiAgICB9XG4gICAgY29uc3QgcmV0ID0ge1xuICAgICAgICBnZXQgY29tcG9uZW50SWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50SWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBjb21wb25lbnROYW1lKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudE5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBjb21wb25lbnRUeXBlKCkge1xuICAgICAgICAgICAgLy8gYSBnZXR0ZXIgaXMgdXNlZCBoZXJlIHRvIHByZXZlbnQgYWNjaWRlbnRhbCBjaGFuZ2VzXG4gICAgICAgICAgICByZXR1cm4gMSAvKiBDb21wb25lbnRUeXBlLkdyb3dPbmx5VmFsdWVTZXQgKi87XG4gICAgICAgIH0sXG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgaGFzKGVudGl0eSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEuaGFzKGVudGl0eSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudGl0eURlbGV0ZWQoZW50aXR5KSB7XG4gICAgICAgICAgICBkYXRhLmRlbGV0ZShlbnRpdHkpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQoZW50aXR5KSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBkYXRhLmdldChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXMuZnJvemVuU2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5UmVhZG9ubHlTZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFkZFZhbHVlKGVudGl0eSwgcmF3VmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgc2V0LCB2YWx1ZSB9ID0gYXBwZW5kKGVudGl0eSwgcmF3VmFsdWUpO1xuICAgICAgICAgICAgZGlydHlJdGVyYXRvci5hZGQoZW50aXR5KTtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZiA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKCk7XG4gICAgICAgICAgICBzY2hlbWEuc2VyaWFsaXplKHZhbHVlLCBidWYpO1xuICAgICAgICAgICAgcXVldWVkQ29tbWFuZHMucHVzaCh7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50SWQsXG4gICAgICAgICAgICAgICAgZGF0YTogYnVmLnRvQmluYXJ5KCksXG4gICAgICAgICAgICAgICAgZW50aXR5SWQ6IGVudGl0eSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IDAsXG4gICAgICAgICAgICAgICAgdHlwZTogQ3JkdE1lc3NhZ2VUeXBlLkFQUEVORF9WQUxVRVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gc2V0O1xuICAgICAgICB9LFxuICAgICAgICAqaXRlcmF0b3IoKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtlbnRpdHksIGNvbXBvbmVudF0gb2YgZGF0YSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIFtlbnRpdHksIGNvbXBvbmVudC5mcm96ZW5TZXRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAqZGlydHlJdGVyYXRvcigpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGRpcnR5SXRlcmF0b3IpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBlbnRpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldENyZHRVcGRhdGVzKCkge1xuICAgICAgICAgICAgLy8gcmV0dXJuIGEgY29weSBvZiB0aGUgY29tbWFuZHMsIGFuZCB0aGVuIGNsZWFyIHRoZSBsb2NhbCBjb3B5XG4gICAgICAgICAgICBkaXJ0eUl0ZXJhdG9yLmNsZWFyKCk7XG4gICAgICAgICAgICByZXR1cm4gcXVldWVkQ29tbWFuZHMuc3BsaWNlKDAsIHF1ZXVlZENvbW1hbmRzLmxlbmd0aCk7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZUZyb21DcmR0KF9ib2R5KSB7XG4gICAgICAgICAgICBpZiAoX2JvZHkudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkFQUEVORF9WQUxVRSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZiA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKF9ib2R5LmRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IGFwcGVuZChfYm9keS5lbnRpdHlJZCwgc2NoZW1hLmRlc2VyaWFsaXplKGJ1ZikpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbbnVsbCwgdmFsdWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtudWxsLCB1bmRlZmluZWRdO1xuICAgICAgICB9LFxuICAgICAgICBkdW1wQ3JkdFN0YXRlVG9CdWZmZXI6IGZ1bmN0aW9uIChidWZmZXIsIGZpbHRlckVudGl0eSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBbZW50aXR5LCB7IHJhdyB9XSBvZiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlckVudGl0eSAmJiAhZmlsdGVyRW50aXR5KGVudGl0eSkpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaXQgb2YgcmF3KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZiA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYS5zZXJpYWxpemUoaXQudmFsdWUsIGJ1Zik7XG4gICAgICAgICAgICAgICAgICAgIEFwcGVuZFZhbHVlT3BlcmF0aW9uLndyaXRlKGVudGl0eSwgMCwgY29tcG9uZW50SWQsIGJ1Zi50b0JpbmFyeSgpLCBidWZmZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25DaGFuZ2UoZW50aXR5LCBjYikge1xuICAgICAgICAgICAgY29uc3QgY2JzID0gb25DaGFuZ2VDYWxsYmFja3MuZ2V0KGVudGl0eSkgPz8gW107XG4gICAgICAgICAgICBjYnMucHVzaChjYik7XG4gICAgICAgICAgICBvbkNoYW5nZUNhbGxiYWNrcy5zZXQoZW50aXR5LCBjYnMpO1xuICAgICAgICB9LFxuICAgICAgICBfX29uQ2hhbmdlQ2FsbGJhY2tzKGVudGl0eSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNicyA9IG9uQ2hhbmdlQ2FsbGJhY2tzLmdldChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKCFjYnMpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgZm9yIChjb25zdCBjYiBvZiBjYnMpIHtcbiAgICAgICAgICAgICAgICBjYih2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiByZXQ7XG59XG4iLCAiaW1wb3J0ICogYXMgY29tcG9uZW50cyBmcm9tICcuLi8uLi9jb21wb25lbnRzJztcbmZ1bmN0aW9uKiBnZW5FbnRpdHlUcmVlKGVudGl0eSwgZW50aXRpZXMpIHtcbiAgICAvLyBUaGlzIGF2b2lkIGluZmluaXRlIGxvb3Agd2hlbiB0aGVyZSBpcyBhIGN5Y2xpYyBwYXJlbnRpbmdcbiAgICBpZiAoIWVudGl0aWVzLmhhcyhlbnRpdHkpKVxuICAgICAgICByZXR1cm47XG4gICAgZW50aXRpZXMuZGVsZXRlKGVudGl0eSk7XG4gICAgZm9yIChjb25zdCBbX2VudGl0eSwgdmFsdWVdIG9mIGVudGl0aWVzKSB7XG4gICAgICAgIGlmICh2YWx1ZS5wYXJlbnQgPT09IGVudGl0eSkge1xuICAgICAgICAgICAgeWllbGQqIGdlbkVudGl0eVRyZWUoX2VudGl0eSwgZW50aXRpZXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHlpZWxkIGVudGl0eTtcbn1cbi8qKlxuICogR2V0IGFuIGl0ZXJhdG9yIG9mIGVudGl0aWVzIHRoYXQgZm9sbG93IGEgdHJlZSBzdHJ1Y3R1cmUgZm9yIGEgY29tcG9uZW50XG4gKiBAcHVibGljXG4gKiBAcGFyYW0gZW5naW5lIC0gdGhlIGVuZ2luZSBydW5uaW5nIHRoZSBlbnRpdGllc1xuICogQHBhcmFtIGVudGl0eSAtIHRoZSByb290IGVudGl0eSBvZiB0aGUgdHJlZVxuICogQHBhcmFtIGNvbXBvbmVudCAtIHRoZSBwYXJlbnRpbmcgY29tcG9uZW50IHRvIGZpbHRlciBieVxuICogQHJldHVybnMgQW4gaXRlcmF0b3Igb2YgYW4gYXJyYXkgYXMgW2VudGl0eSwgZW50aXR5MiwgLi4uXVxuICpcbiAqIEV4YW1wbGU6XG4gKiBgYGB0c1xuICogY29uc3QgVHJlZUNvbXBvbmVudCA9IGVuZ2luZS5kZWZpbmVDb21wb25lbnQoJ2N1c3RvbTo6VHJlZUNvbXBvbmVudCcsIHtcbiAqICAgIGxhYmVsOiBTY2hlbWFzLlN0cmluZyxcbiAqICAgIHBhcmVudDogU2NoZW1hcy5FbnRpdHlcbiAqIH0pXG4gKlxuICogZm9yIChjb25zdCBlbnRpdHkgb2YgZ2V0Q29tcG9uZW50RW50aXR5VHJlZShlbmdpbmUsIGVudGl0eSwgVHJlZUNvbXBvbmVudCkpIHtcbiAqICAgIC8vIGVudGl0eSBpbiB0aGUgdHJlZVxuICogfVxuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb21wb25lbnRFbnRpdHlUcmVlKGVuZ2luZSwgZW50aXR5LCBjb21wb25lbnQpIHtcbiAgICBjb25zdCBlbnRpdGllcyA9IG5ldyBNYXAoZW5naW5lLmdldEVudGl0aWVzV2l0aChjb21wb25lbnQpKTtcbiAgICByZXR1cm4gZ2VuRW50aXR5VHJlZShlbnRpdHksIGVudGl0aWVzKTtcbn1cbi8vIEkgc3dlYXIgYnkgYWxsIHRoZSBnb2RzIHRoYXQgdGhpcyBpcyBiZWluZyB0ZXN0ZWQgb24gdGVzdC9zZGsvbmV0d29yay9zeW5jLWVuZ2luZXMuc3BlYy50c1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIHJlbW92ZU5ldHdvcmtFbnRpdHlDaGlsZHJlbnMoZW5naW5lLCBwYXJlbnQpIHtcbiAgICBjb25zdCBOZXR3b3JrUGFyZW50ID0gY29tcG9uZW50cy5OZXR3b3JrUGFyZW50KGVuZ2luZSk7XG4gICAgY29uc3QgTmV0d29ya0VudGl0eSA9IGNvbXBvbmVudHMuTmV0d29ya0VudGl0eShlbmdpbmUpO1xuICAgIC8vIFJlbW92ZSBwYXJlbnRcbiAgICBlbmdpbmUucmVtb3ZlRW50aXR5KHBhcmVudCk7XG4gICAgLy8gUmVtb3ZlIGNoaWxkc1xuICAgIGNvbnN0IG5ldHdvcmsgPSBOZXR3b3JrRW50aXR5LmdldE9yTnVsbChwYXJlbnQpO1xuICAgIGlmIChuZXR3b3JrKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2VudGl0eSwgcGFyZW50XSBvZiBlbmdpbmUuZ2V0RW50aXRpZXNXaXRoKE5ldHdvcmtQYXJlbnQpKSB7XG4gICAgICAgICAgICBpZiAocGFyZW50LmVudGl0eUlkID09PSBuZXR3b3JrLmVudGl0eUlkICYmIHBhcmVudC5uZXR3b3JrSWQgPT09IG5ldHdvcmsubmV0d29ya0lkKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlTmV0d29ya0VudGl0eUNoaWxkcmVucyhlbmdpbmUsIGVudGl0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuO1xufVxuLyoqXG4gKiBSZW1vdmUgYWxsIGNvbXBvbmVudHMgb2YgZWFjaCBlbnRpdHkgaW4gdGhlIHRyZWUgbWFkZSB3aXRoIFRyYW5zZm9ybSBwYXJlbnRpbmdcbiAqIEBwYXJhbSBlbmdpbmUgLSB0aGUgZW5naW5lIHJ1bm5pbmcgdGhlIGVudGl0aWVzXG4gKiBAcGFyYW0gZmlyc3RFbnRpdHkgLSB0aGUgcm9vdCBlbnRpdHkgb2YgdGhlIHRyZWVcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUVudGl0eVdpdGhDaGlsZHJlbihlbmdpbmUsIGVudGl0eSkge1xuICAgIGNvbnN0IFRyYW5zZm9ybSA9IGNvbXBvbmVudHMuVHJhbnNmb3JtKGVuZ2luZSk7XG4gICAgY29uc3QgTmV0d29ya0VudGl0eSA9IGNvbXBvbmVudHMuTmV0d29ya0VudGl0eShlbmdpbmUpO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChOZXR3b3JrRW50aXR5LmhhcyhlbnRpdHkpKSB7XG4gICAgICAgIHJldHVybiByZW1vdmVOZXR3b3JrRW50aXR5Q2hpbGRyZW5zKGVuZ2luZSwgZW50aXR5KTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBlbnQgb2YgZ2V0Q29tcG9uZW50RW50aXR5VHJlZShlbmdpbmUsIGVudGl0eSwgVHJhbnNmb3JtKSkge1xuICAgICAgICBlbmdpbmUucmVtb3ZlRW50aXR5KGVudCk7XG4gICAgfVxufVxuIiwgImltcG9ydCAqIGFzIGNvbXBvbmVudHMgZnJvbSAnLi4vY29tcG9uZW50cyc7XG5jb25zdCBJbnB1dENvbW1hbmRzID0gW1xuICAgIDAgLyogSW5wdXRBY3Rpb24uSUFfUE9JTlRFUiAqLyxcbiAgICAxIC8qIElucHV0QWN0aW9uLklBX1BSSU1BUlkgKi8sXG4gICAgMiAvKiBJbnB1dEFjdGlvbi5JQV9TRUNPTkRBUlkgKi8sXG4gICAgNCAvKiBJbnB1dEFjdGlvbi5JQV9GT1JXQVJEICovLFxuICAgIDUgLyogSW5wdXRBY3Rpb24uSUFfQkFDS1dBUkQgKi8sXG4gICAgNiAvKiBJbnB1dEFjdGlvbi5JQV9SSUdIVCAqLyxcbiAgICA3IC8qIElucHV0QWN0aW9uLklBX0xFRlQgKi8sXG4gICAgOCAvKiBJbnB1dEFjdGlvbi5JQV9KVU1QICovLFxuICAgIDkgLyogSW5wdXRBY3Rpb24uSUFfV0FMSyAqLyxcbiAgICAxMCAvKiBJbnB1dEFjdGlvbi5JQV9BQ1RJT05fMyAqLyxcbiAgICAxMSAvKiBJbnB1dEFjdGlvbi5JQV9BQ1RJT05fNCAqLyxcbiAgICAxMiAvKiBJbnB1dEFjdGlvbi5JQV9BQ1RJT05fNSAqLyxcbiAgICAxMyAvKiBJbnB1dEFjdGlvbi5JQV9BQ1RJT05fNiAqL1xuXTtcbmNvbnN0IElucHV0U3RhdGVVcGRhdGVTeXN0ZW1Qcmlvcml0eSA9IDEgPDwgMjA7XG4vKipcbiAqIEBwdWJsaWNcbiAqIF9fX19ETyBOT1QgVVNFIF9fX18gdXNlIGlucHV0U3lzdGVtIGluc3RlYWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUlucHV0U3lzdGVtKGVuZ2luZSkge1xuICAgIGNvbnN0IFBvaW50ZXJFdmVudHNSZXN1bHQgPSBjb21wb25lbnRzLlBvaW50ZXJFdmVudHNSZXN1bHQoZW5naW5lKTtcbiAgICBjb25zdCBnbG9iYWxTdGF0ZSA9IHtcbiAgICAgICAgcHJldmlvdXNGcmFtZU1heFRpbWVzdGFtcDogMCxcbiAgICAgICAgY3VycmVudEZyYW1lTWF4VGltZXN0YW1wOiAwLFxuICAgICAgICBidXR0b25TdGF0ZTogbmV3IE1hcCgpLFxuICAgICAgICB0aGlzRnJhbWVDb21tYW5kczogW11cbiAgICB9O1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0QWN0aW9uKHBvaW50ZXJFdmVudFR5cGUsIGlucHV0QWN0aW9uLCBlbnRpdHkpIHtcbiAgICAgICAgY29uc3QgYXNjZW5kaW5nVGltZXN0YW1wSXRlcmF0b3IgPSBQb2ludGVyRXZlbnRzUmVzdWx0LmdldChlbnRpdHkpO1xuICAgICAgICBmb3IgKGNvbnN0IGNvbW1hbmQgb2YgQXJyYXkuZnJvbShhc2NlbmRpbmdUaW1lc3RhbXBJdGVyYXRvcikucmV2ZXJzZSgpKSB7XG4gICAgICAgICAgICBpZiAoY29tbWFuZC5idXR0b24gPT09IGlucHV0QWN0aW9uICYmIGNvbW1hbmQuc3RhdGUgPT09IHBvaW50ZXJFdmVudFR5cGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiogZmluZENvbW1hbmRzQnlBY3Rpb25EZXNjZW5kaW5nKGlucHV0QWN0aW9uLCBlbnRpdHkpIHtcbiAgICAgICAgY29uc3QgYXNjZW5kaW5nVGltZXN0YW1wSXRlcmF0b3IgPSBQb2ludGVyRXZlbnRzUmVzdWx0LmdldChlbnRpdHkpO1xuICAgICAgICBmb3IgKGNvbnN0IGNvbW1hbmQgb2YgQXJyYXkuZnJvbShhc2NlbmRpbmdUaW1lc3RhbXBJdGVyYXRvcikucmV2ZXJzZSgpKSB7XG4gICAgICAgICAgICBpZiAoY29tbWFuZC5idXR0b24gPT09IGlucHV0QWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgY29tbWFuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBidXR0b25TdGF0ZVVwZGF0ZVN5c3RlbSgpIHtcbiAgICAgICAgLy8gZmlyc3Qgc3RvcmUgdGhlIHByZXZpb3VzJyBmcmFtZSB0aW1lc3RhbXBcbiAgICAgICAgbGV0IG1heFRpbWVzdGFtcCA9IGdsb2JhbFN0YXRlLmN1cnJlbnRGcmFtZU1heFRpbWVzdGFtcDtcbiAgICAgICAgZ2xvYmFsU3RhdGUucHJldmlvdXNGcmFtZU1heFRpbWVzdGFtcCA9IG1heFRpbWVzdGFtcDtcbiAgICAgICAgaWYgKGdsb2JhbFN0YXRlLnRoaXNGcmFtZUNvbW1hbmRzLmxlbmd0aCkge1xuICAgICAgICAgICAgZ2xvYmFsU3RhdGUudGhpc0ZyYW1lQ29tbWFuZHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGVuIGl0ZXJhdGUgb3ZlciBhbGwgbmV3IGNvbW1hbmRzXG4gICAgICAgIGZvciAoY29uc3QgWywgY29tbWFuZHNdIG9mIGVuZ2luZS5nZXRFbnRpdGllc1dpdGgoUG9pbnRlckV2ZW50c1Jlc3VsdCkpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGFkYXB0IHRoZSBnc2V0IGNvbXBvbmVudCB0byBoYXZlIGEgY2FjaGVkIFwicmV2ZXJzZWRcIiBvcHRpb24gYnkgZGVmYXVsdFxuICAgICAgICAgICAgY29uc3QgYXJyYXlDb21tYW5kcyA9IEFycmF5LmZyb20oY29tbWFuZHMpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGFycmF5Q29tbWFuZHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21tYW5kID0gYXJyYXlDb21tYW5kc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoY29tbWFuZC50aW1lc3RhbXAgPiBtYXhUaW1lc3RhbXApIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4VGltZXN0YW1wID0gY29tbWFuZC50aW1lc3RhbXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb21tYW5kLnRpbWVzdGFtcCA+IGdsb2JhbFN0YXRlLnByZXZpb3VzRnJhbWVNYXhUaW1lc3RhbXApIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsU3RhdGUudGhpc0ZyYW1lQ29tbWFuZHMucHVzaChjb21tYW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbW1hbmQuc3RhdGUgPT09IDAgLyogUG9pbnRlckV2ZW50VHlwZS5QRVRfVVAgKi8gfHwgY29tbWFuZC5zdGF0ZSA9PT0gMSAvKiBQb2ludGVyRXZlbnRUeXBlLlBFVF9ET1dOICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZDb21tYW5kID0gZ2xvYmFsU3RhdGUuYnV0dG9uU3RhdGUuZ2V0KGNvbW1hbmQuYnV0dG9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmV2Q29tbWFuZCB8fCBjb21tYW5kLnRpbWVzdGFtcCA+IHByZXZDb21tYW5kLnRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsU3RhdGUuYnV0dG9uU3RhdGUuc2V0KGNvbW1hbmQuYnV0dG9uLCBjb21tYW5kKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNpbmNlIHdlIGFyZSBpdGVyYXRpbmcgYSBkZXNjZW5kaW5nIGFycmF5LCB3ZSBjYW4gZWFybHkgZmluaXNoIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbG9vcFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXBkYXRlIGN1cnJlbnQgZnJhbWUncyBtYXggdGltZXN0YW1wXG4gICAgICAgIGdsb2JhbFN0YXRlLmN1cnJlbnRGcmFtZU1heFRpbWVzdGFtcCA9IG1heFRpbWVzdGFtcDtcbiAgICB9XG4gICAgZW5naW5lLmFkZFN5c3RlbShidXR0b25TdGF0ZVVwZGF0ZVN5c3RlbSwgSW5wdXRTdGF0ZVVwZGF0ZVN5c3RlbVByaW9yaXR5LCAnQGRjbC9lY3MjaW5wdXRTeXN0ZW0nKTtcbiAgICBmdW5jdGlvbiB0aW1lc3RhbXBJc0N1cnJlbnRGcmFtZSh0aW1lc3RhbXApIHtcbiAgICAgICAgaWYgKHRpbWVzdGFtcCA+IGdsb2JhbFN0YXRlLnByZXZpb3VzRnJhbWVNYXhUaW1lc3RhbXAgJiYgdGltZXN0YW1wIDw9IGdsb2JhbFN0YXRlLmN1cnJlbnRGcmFtZU1heFRpbWVzdGFtcCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q2xpY2soaW5wdXRBY3Rpb24sIGVudGl0eSkge1xuICAgICAgICBpZiAoaW5wdXRBY3Rpb24gIT09IDMgLyogSW5wdXRBY3Rpb24uSUFfQU5ZICovKSB7XG4gICAgICAgICAgICByZXR1cm4gZmluZENsaWNrKGlucHV0QWN0aW9uLCBlbnRpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgaW5wdXQgb2YgSW5wdXRDb21tYW5kcykge1xuICAgICAgICAgICAgY29uc3QgY21kID0gZmluZENsaWNrKGlucHV0LCBlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGNtZClcbiAgICAgICAgICAgICAgICByZXR1cm4gY21kO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5kQ2xpY2soaW5wdXRBY3Rpb24sIGVudGl0eSkge1xuICAgICAgICBsZXQgZG93biA9IG51bGw7XG4gICAgICAgIGxldCB1cCA9IG51bGw7XG4gICAgICAgIC8vIFdlIHNlYXJjaCB0aGUgbGFzdCBVUCAmIERPV04gY29tbWFuZCBzb3J0ZWQgYnkgdGltZXN0YW1wIGRlc2NlbmRpbmdcbiAgICAgICAgZm9yIChjb25zdCBpdCBvZiBmaW5kQ29tbWFuZHNCeUFjdGlvbkRlc2NlbmRpbmcoaW5wdXRBY3Rpb24sIGVudGl0eSkpIHtcbiAgICAgICAgICAgIGlmICghdXApIHtcbiAgICAgICAgICAgICAgICBpZiAoaXQuc3RhdGUgPT09IDAgLyogUG9pbnRlckV2ZW50VHlwZS5QRVRfVVAgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgdXAgPSBpdDtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWRvd24pIHtcbiAgICAgICAgICAgICAgICBpZiAoaXQuc3RhdGUgPT09IDEgLyogUG9pbnRlckV2ZW50VHlwZS5QRVRfRE9XTiAqLykge1xuICAgICAgICAgICAgICAgICAgICBkb3duID0gaXQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXVwIHx8ICFkb3duKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIC8vIElmIHRoZSBET1dOIGNvbW1hbmQgaGFzIGhhcHBlbiBiZWZvcmUgdGhlIFVQIGNvbW1hbmRzLCBpdCBtZWFucyB0aGF0IHRoYXQgYSBjbGlja2VkIGhhcyBoYXBwZW5cbiAgICAgICAgaWYgKGRvd24udGltZXN0YW1wIDwgdXAudGltZXN0YW1wICYmIHRpbWVzdGFtcElzQ3VycmVudEZyYW1lKHVwLnRpbWVzdGFtcCkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHVwLCBkb3duIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldElucHV0Q29tbWFuZEZyb21FbnRpdHkoaW5wdXRBY3Rpb24sIHBvaW50ZXJFdmVudFR5cGUsIGVudGl0eSkge1xuICAgICAgICBpZiAoaW5wdXRBY3Rpb24gIT09IDMgLyogSW5wdXRBY3Rpb24uSUFfQU5ZICovKSB7XG4gICAgICAgICAgICByZXR1cm4gZmluZElucHV0Q29tbWFuZChpbnB1dEFjdGlvbiwgcG9pbnRlckV2ZW50VHlwZSwgZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGlucHV0IG9mIElucHV0Q29tbWFuZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNtZCA9IGZpbmRJbnB1dENvbW1hbmQoaW5wdXQsIHBvaW50ZXJFdmVudFR5cGUsIGVudGl0eSk7XG4gICAgICAgICAgICBpZiAoY21kKVxuICAgICAgICAgICAgICAgIHJldHVybiBjbWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldElucHV0Q29tbWFuZChpbnB1dEFjdGlvbiwgcG9pbnRlckV2ZW50VHlwZSwgZW50aXR5KSB7XG4gICAgICAgIGlmIChlbnRpdHkpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRJbnB1dENvbW1hbmRGcm9tRW50aXR5KGlucHV0QWN0aW9uLCBwb2ludGVyRXZlbnRUeXBlLCBlbnRpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChjb25zdCBjb21tYW5kIG9mIGdsb2JhbFN0YXRlLnRoaXNGcmFtZUNvbW1hbmRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKChjb21tYW5kLmJ1dHRvbiA9PT0gaW5wdXRBY3Rpb24gfHwgaW5wdXRBY3Rpb24gPT09IDMgLyogSW5wdXRBY3Rpb24uSUFfQU5ZICovKSAmJlxuICAgICAgICAgICAgICAgICAgICBjb21tYW5kLnN0YXRlID09PSBwb2ludGVyRXZlbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRJbnB1dENvbW1hbmQoaW5wdXRBY3Rpb24sIHBvaW50ZXJFdmVudFR5cGUsIGVudGl0eSkge1xuICAgICAgICAvLyBXZSBzZWFyY2ggdGhlIGxhc3QgcG9pbnRlciBFdmVudCBjb21tYW5kIHNvcnRlZCBieSB0aW1lc3RhbXBcbiAgICAgICAgY29uc3QgY29tbWFuZCA9IGZpbmRMYXN0QWN0aW9uKHBvaW50ZXJFdmVudFR5cGUsIGlucHV0QWN0aW9uLCBlbnRpdHkpO1xuICAgICAgICBpZiAoIWNvbW1hbmQpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKHRpbWVzdGFtcElzQ3VycmVudEZyYW1lKGNvbW1hbmQudGltZXN0YW1wKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbW1hbmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyByZXR1cm5zIHRydWUgaWYgdGhlcmUgd2FzIGEgRE9XTiAoaW4gYW55IHBhc3QgZnJhbWUpLCBhbmQgdGhlbiBhbiBVUCBpbiB0aGUgbGFzdCBmcmFtZVxuICAgIGZ1bmN0aW9uIGlzQ2xpY2tlZChpbnB1dEFjdGlvbiwgZW50aXR5KSB7XG4gICAgICAgIHJldHVybiBnZXRDbGljayhpbnB1dEFjdGlvbiwgZW50aXR5KSAhPT0gbnVsbDtcbiAgICB9XG4gICAgLy8gcmV0dXJucyB0cnVlIGlmIHRoZSBwcm92aWRlZCBsYXN0IGFjdGlvbiB3YXMgdHJpZ2dlcmVkIGluIHRoZSBsYXN0IGZyYW1lXG4gICAgZnVuY3Rpb24gaXNUcmlnZ2VyZWQoaW5wdXRBY3Rpb24sIHBvaW50ZXJFdmVudFR5cGUsIGVudGl0eSkge1xuICAgICAgICBpZiAoZW50aXR5KSB7XG4gICAgICAgICAgICBjb25zdCBjb21tYW5kID0gZmluZExhc3RBY3Rpb24ocG9pbnRlckV2ZW50VHlwZSwgaW5wdXRBY3Rpb24sIGVudGl0eSk7XG4gICAgICAgICAgICByZXR1cm4gKGNvbW1hbmQgJiYgdGltZXN0YW1wSXNDdXJyZW50RnJhbWUoY29tbWFuZC50aW1lc3RhbXApKSB8fCBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY29tbWFuZCBvZiBnbG9iYWxTdGF0ZS50aGlzRnJhbWVDb21tYW5kcykge1xuICAgICAgICAgICAgICAgIGlmICgoY29tbWFuZC5idXR0b24gPT09IGlucHV0QWN0aW9uIHx8IGlucHV0QWN0aW9uID09PSAzIC8qIElucHV0QWN0aW9uLklBX0FOWSAqLykgJiZcbiAgICAgICAgICAgICAgICAgICAgY29tbWFuZC5zdGF0ZSA9PT0gcG9pbnRlckV2ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gcmV0dXJucyB0aGUgZ2xvYmFsIHN0YXRlIG9mIHRoZSBpbnB1dC4gVGhpcyBnbG9iYWwgc3RhdGUgaXMgdXBkYXRlZCBmcm9tIHRoZSBzeXN0ZW1cbiAgICBmdW5jdGlvbiBpc1ByZXNzZWQoaW5wdXRBY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbFN0YXRlLmJ1dHRvblN0YXRlLmdldChpbnB1dEFjdGlvbik/LnN0YXRlID09PSAxIC8qIFBvaW50ZXJFdmVudFR5cGUuUEVUX0RPV04gKi87XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGlzUHJlc3NlZCxcbiAgICAgICAgZ2V0Q2xpY2ssXG4gICAgICAgIGdldElucHV0Q29tbWFuZCxcbiAgICAgICAgaXNDbGlja2VkLFxuICAgICAgICBpc1RyaWdnZXJlZFxuICAgIH07XG59XG4iLCAiLyoqXG4gKiBDb21wb25lbnQgdHlwZXMgYXJlIHVzZWQgdG8gcGljayB0aGUgd2lyZSBwcm90b2NvbCBhbmQgdGhlIGNvbmZsaWN0IHJlc29sdXRpb24gYWxnb3JpdGhtXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQ29tcG9uZW50VHlwZTtcbihmdW5jdGlvbiAoQ29tcG9uZW50VHlwZSkge1xuICAgIENvbXBvbmVudFR5cGVbQ29tcG9uZW50VHlwZVtcIkxhc3RXcml0ZVdpbkVsZW1lbnRTZXRcIl0gPSAwXSA9IFwiTGFzdFdyaXRlV2luRWxlbWVudFNldFwiO1xuICAgIENvbXBvbmVudFR5cGVbQ29tcG9uZW50VHlwZVtcIkdyb3dPbmx5VmFsdWVTZXRcIl0gPSAxXSA9IFwiR3Jvd09ubHlWYWx1ZVNldFwiO1xufSkoQ29tcG9uZW50VHlwZSB8fCAoQ29tcG9uZW50VHlwZSA9IHt9KSk7XG4iLCAiaW1wb3J0ICogYXMgY29tcG9uZW50cyBmcm9tICcuLi9jb21wb25lbnRzJztcbmltcG9ydCB7IGNvbXBvbmVudE51bWJlckZyb21OYW1lIH0gZnJvbSAnLi4vY29tcG9uZW50cy9jb21wb25lbnQtbnVtYmVyJztcbmltcG9ydCB7IGNoZWNrTm90VGhlbmFibGUgfSBmcm9tICcuLi9ydW50aW1lL2ludmFyaWFudCc7XG5pbXBvcnQgeyBTY2hlbWFzIH0gZnJvbSAnLi4vc2NoZW1hcyc7XG5pbXBvcnQgeyBjcmR0U2NlbmVTeXN0ZW0gfSBmcm9tICcuLi9zeXN0ZW1zL2NyZHQnO1xuaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50RGVmaW5pdGlvbkZyb21TY2hlbWEgfSBmcm9tICcuL2x3dy1lbGVtZW50LXNldC1jb21wb25lbnQtZGVmaW5pdGlvbic7XG5pbXBvcnQgeyBjcmVhdGVFbnRpdHlDb250YWluZXIgfSBmcm9tICcuL2VudGl0eSc7XG5pbXBvcnQgeyBTeXN0ZW1Db250YWluZXIsIFNZU1RFTVNfUkVHVUxBUl9QUklPUklUWSB9IGZyb20gJy4vc3lzdGVtcyc7XG5pbXBvcnQgeyBjcmVhdGVWYWx1ZVNldENvbXBvbmVudERlZmluaXRpb25Gcm9tU2NoZW1hIH0gZnJvbSAnLi9ncm93LW9ubHktdmFsdWUtc2V0LWNvbXBvbmVudC1kZWZpbml0aW9uJztcbmltcG9ydCB7IHJlbW92ZUVudGl0eVdpdGhDaGlsZHJlbiBhcyByZW1vdmVFbnRpdHlXaXRoQ2hpbGRyZW5FbmdpbmUgfSBmcm9tICcuLi9ydW50aW1lL2hlbHBlcnMvdHJlZSc7XG5pbXBvcnQgeyBDcmR0TWVzc2FnZVR5cGUgfSBmcm9tICcuLi9zZXJpYWxpemF0aW9uL2NyZHQnO1xuZXhwb3J0ICogZnJvbSAnLi9pbnB1dCc7XG5leHBvcnQgKiBmcm9tICcuL3JlYWRvbmx5JztcbmV4cG9ydCAqIGZyb20gJy4vdHlwZXMnO1xuZnVuY3Rpb24gcHJlRW5naW5lKG9wdGlvbnMpIHtcbiAgICBjb25zdCBlbnRpdHlDb250YWluZXIgPSBvcHRpb25zPy5lbnRpdHlDb250YWluZXIgPz8gY3JlYXRlRW50aXR5Q29udGFpbmVyKCk7XG4gICAgY29uc3QgY29tcG9uZW50c0RlZmluaXRpb24gPSBuZXcgTWFwKCk7XG4gICAgY29uc3Qgc3lzdGVtcyA9IFN5c3RlbUNvbnRhaW5lcigpO1xuICAgIGxldCBzZWFsZWQgPSBmYWxzZTtcbiAgICBmdW5jdGlvbiBhZGRTeXN0ZW0oZm4sIHByaW9yaXR5ID0gU1lTVEVNU19SRUdVTEFSX1BSSU9SSVRZLCBuYW1lKSB7XG4gICAgICAgIHN5c3RlbXMuYWRkKGZuLCBwcmlvcml0eSwgbmFtZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZVN5c3RlbShzZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gc3lzdGVtcy5yZW1vdmUoc2VsZWN0b3IpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRFbnRpdHkoKSB7XG4gICAgICAgIGNvbnN0IGVudGl0eSA9IGVudGl0eUNvbnRhaW5lci5nZW5lcmF0ZUVudGl0eSgpO1xuICAgICAgICByZXR1cm4gZW50aXR5O1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVFbnRpdHkoZW50aXR5KSB7XG4gICAgICAgIGZvciAoY29uc3QgWywgY29tcG9uZW50XSBvZiBjb21wb25lbnRzRGVmaW5pdGlvbikge1xuICAgICAgICAgICAgLy8gVE9ETzogaGFjayBmb3IgdGhlIG1vbWVudC5cbiAgICAgICAgICAgIC8vIFdlIHN0aWxsIG5lZWQgdGhlIE5ldHdvcmtFbnRpdHkgdG8gZm9yd2FyZCB0aGlzIG1lc3NhZ2UgdG8gdGhlIFN5bmNUcmFuc3BvcnQuXG4gICAgICAgICAgICAvLyBJZiB3ZSByZW1vdmUgaXQgdGhlbiB3ZSBjYW4ndCBub3RpZnkgdGhlIG90aGVyIHVzZXJzIHdoaWNoIGVudGl0eSB3YXMgZGVsZXRlZC5cbiAgICAgICAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50TmFtZSA9PT0gJ2NvcmUtc2NoZW1hOjpOZXR3b3JrLUVudGl0eScpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjb21wb25lbnQuZW50aXR5RGVsZXRlZChlbnRpdHksIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnRpdHlDb250YWluZXIucmVtb3ZlRW50aXR5KGVudGl0eSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZUVudGl0eVdpdGhDaGlsZHJlbihlbnRpdHkpIHtcbiAgICAgICAgcmV0dXJuIHJlbW92ZUVudGl0eVdpdGhDaGlsZHJlbkVuZ2luZSh7IHJlbW92ZUVudGl0eSwgZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYSwgZ2V0RW50aXRpZXNXaXRoLCBkZWZpbmVDb21wb25lbnQgfSwgZW50aXR5KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVnaXN0ZXJDb21wb25lbnREZWZpbml0aW9uKGNvbXBvbmVudE5hbWUsIGNvbXBvbmVudCkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBpZiAoc2VhbGVkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbmdpbmUgaXMgYWxyZWFkeSBzZWFsZWQuIE5vIGNvbXBvbmVudHMgY2FuIGJlIGFkZGVkIGF0IHRoaXMgc3RhZ2UnKTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSBjb21wb25lbnROdW1iZXJGcm9tTmFtZShjb21wb25lbnROYW1lKTtcbiAgICAgICAgY29uc3QgcHJldiA9IGNvbXBvbmVudHNEZWZpbml0aW9uLmdldChjb21wb25lbnRJZCk7XG4gICAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbXBvbmVudCBudW1iZXIgJHtjb21wb25lbnRJZH0gd2FzIGFscmVhZHkgcmVnaXN0ZXJlZC5gKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudE5hbWUgIT09IGNvbXBvbmVudE5hbWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ29tcG9uZW50IG5hbWUgZG9lc24ndCBtYXRjaCBjb21wb25lbnREZWZpbml0aW9uLmNvbXBvbmVudE5hbWUgJHtjb21wb25lbnROYW1lfSAhPSAke2NvbXBvbmVudC5jb21wb25lbnROYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50SWQgIT09IGNvbXBvbmVudElkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbXBvbmVudCBudW1iZXIgZG9lc24ndCBtYXRjaCBjb21wb25lbnREZWZpbml0aW9uLmNvbXBvbmVudElkICR7Y29tcG9uZW50SWR9ICE9ICR7Y29tcG9uZW50LmNvbXBvbmVudElkfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbXBvbmVudHNEZWZpbml0aW9uLnNldChjb21wb25lbnRJZCwgY29tcG9uZW50KTtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShjb21wb25lbnROYW1lLCBzY2hlbWEpIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSBjb21wb25lbnROdW1iZXJGcm9tTmFtZShjb21wb25lbnROYW1lKTtcbiAgICAgICAgY29uc3QgcHJldiA9IGNvbXBvbmVudHNEZWZpbml0aW9uLmdldChjb21wb25lbnRJZCk7XG4gICAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBhc3NlcnQgc3BlYyA9PT0gcHJldi5zcGVjXG4gICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBpZiAoc2VhbGVkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbmdpbmUgaXMgYWxyZWFkeSBzZWFsZWQuIE5vIGNvbXBvbmVudHMgY2FuIGJlIGFkZGVkIGF0IHRoaXMgc3RhZ2UnKTtcbiAgICAgICAgY29uc3QgbmV3Q29tcG9uZW50ID0gY3JlYXRlQ29tcG9uZW50RGVmaW5pdGlvbkZyb21TY2hlbWEoY29tcG9uZW50TmFtZSwgY29tcG9uZW50SWQsIHNjaGVtYSk7XG4gICAgICAgIGNvbXBvbmVudHNEZWZpbml0aW9uLnNldChjb21wb25lbnRJZCwgbmV3Q29tcG9uZW50KTtcbiAgICAgICAgcmV0dXJuIG5ld0NvbXBvbmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmaW5lVmFsdWVTZXRDb21wb25lbnRGcm9tU2NoZW1hKGNvbXBvbmVudE5hbWUsIHNjaGVtYSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBjb21wb25lbnRJZCA9IGNvbXBvbmVudE51bWJlckZyb21OYW1lKGNvbXBvbmVudE5hbWUpO1xuICAgICAgICBjb25zdCBwcmV2ID0gY29tcG9uZW50c0RlZmluaXRpb24uZ2V0KGNvbXBvbmVudElkKTtcbiAgICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGFzc2VydCBzcGVjID09PSBwcmV2LnNwZWNcbiAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGlmIChzZWFsZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VuZ2luZSBpcyBhbHJlYWR5IHNlYWxlZC4gTm8gY29tcG9uZW50cyBjYW4gYmUgYWRkZWQgYXQgdGhpcyBzdGFnZScpO1xuICAgICAgICBjb25zdCBuZXdDb21wb25lbnQgPSBjcmVhdGVWYWx1ZVNldENvbXBvbmVudERlZmluaXRpb25Gcm9tU2NoZW1hKGNvbXBvbmVudE5hbWUsIGNvbXBvbmVudElkLCBzY2hlbWEsIG9wdGlvbnMpO1xuICAgICAgICBjb21wb25lbnRzRGVmaW5pdGlvbi5zZXQoY29tcG9uZW50SWQsIG5ld0NvbXBvbmVudCk7XG4gICAgICAgIHJldHVybiBuZXdDb21wb25lbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlZmluZUNvbXBvbmVudChjb21wb25lbnROYW1lLCBtYXBTcGVjLCBjb25zdHJ1Y3RvckRlZmF1bHQpIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSBjb21wb25lbnROdW1iZXJGcm9tTmFtZShjb21wb25lbnROYW1lKTtcbiAgICAgICAgY29uc3QgcHJldiA9IGNvbXBvbmVudHNEZWZpbml0aW9uLmdldChjb21wb25lbnRJZCk7XG4gICAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBhc3NlcnQgc3BlYyA9PT0gcHJldi5zcGVjXG4gICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VhbGVkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbmdpbmUgaXMgYWxyZWFkeSBzZWFsZWQuIE5vIGNvbXBvbmVudHMgY2FuIGJlIGFkZGVkIGF0IHRoaXMgc3RhZ2UnKTtcbiAgICAgICAgY29uc3Qgc2NoZW1hU3BlYyA9IFNjaGVtYXMuTWFwKG1hcFNwZWMsIGNvbnN0cnVjdG9yRGVmYXVsdCk7XG4gICAgICAgIGNvbnN0IGRlZiA9IGNyZWF0ZUNvbXBvbmVudERlZmluaXRpb25Gcm9tU2NoZW1hKGNvbXBvbmVudE5hbWUsIGNvbXBvbmVudElkLCBzY2hlbWFTcGVjKTtcbiAgICAgICAgY29uc3QgbmV3Q29tcG9uZW50ID0ge1xuICAgICAgICAgICAgLi4uZGVmLFxuICAgICAgICAgICAgY3JlYXRlKGVudGl0eSwgdmFsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZi5jcmVhdGUoZW50aXR5LCB2YWwpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHZhbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWYuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwgdmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29tcG9uZW50c0RlZmluaXRpb24uc2V0KGNvbXBvbmVudElkLCBuZXdDb21wb25lbnQpO1xuICAgICAgICByZXR1cm4gbmV3Q29tcG9uZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDb21wb25lbnQoY29tcG9uZW50SWRPck5hbWUpIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSB0eXBlb2YgY29tcG9uZW50SWRPck5hbWUgPT09ICdudW1iZXInID8gY29tcG9uZW50SWRPck5hbWUgOiBjb21wb25lbnROdW1iZXJGcm9tTmFtZShjb21wb25lbnRJZE9yTmFtZSk7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGNvbXBvbmVudHNEZWZpbml0aW9uLmdldChjb21wb25lbnRJZCk7XG4gICAgICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbXBvbmVudCAke2NvbXBvbmVudElkT3JOYW1lfSBub3QgZm91bmQuIFlvdSBuZWVkIHRvIGRlY2xhcmUgdGhlIGNvbXBvbmVudHMgYXQgdGhlIGJlZ2lubmlnIG9mIHRoZSBlbmdpbmUgZGVjbGFyYXRpb25gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tcG9uZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDb21wb25lbnRPck51bGwoY29tcG9uZW50SWRPck5hbWUpIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSB0eXBlb2YgY29tcG9uZW50SWRPck5hbWUgPT09ICdudW1iZXInID8gY29tcG9uZW50SWRPck5hbWUgOiBjb21wb25lbnROdW1iZXJGcm9tTmFtZShjb21wb25lbnRJZE9yTmFtZSk7XG4gICAgICAgIHJldHVybiAoY29tcG9uZW50c0RlZmluaXRpb24uZ2V0KGNvbXBvbmVudElkKSA/P1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgIG51bGwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiogZ2V0RW50aXRpZXNXaXRoKC4uLmNvbXBvbmVudHMpIHtcbiAgICAgICAgZm9yIChjb25zdCBbZW50aXR5LCAuLi5ncm91cENvbXBdIG9mIGdldENvbXBvbmVudERlZkdyb3VwKC4uLmNvbXBvbmVudHMpKSB7XG4gICAgICAgICAgICB5aWVsZCBbZW50aXR5LCAuLi5ncm91cENvbXAubWFwKChjKSA9PiBjLmdldChlbnRpdHkpKV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RW50aXR5T3JOdWxsQnlOYW1lKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IE5hbWVDb21wb25lbnQgPSBjb21wb25lbnRzLk5hbWUoeyBkZWZpbmVDb21wb25lbnQgfSk7XG4gICAgICAgIGZvciAoY29uc3QgW2VudGl0eSwgbmFtZV0gb2YgZ2V0RW50aXRpZXNXaXRoKE5hbWVDb21wb25lbnQpKSB7XG4gICAgICAgICAgICBpZiAobmFtZS52YWx1ZSA9PT0gdmFsdWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RW50aXR5QnlOYW1lKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGVudGl0eSA9IGdldEVudGl0eU9yTnVsbEJ5TmFtZSh2YWx1ZSk7XG4gICAgICAgIHJldHVybiBlbnRpdHk7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBnZXRFbnRpdGllc0J5VGFnKHRhZ05hbWUpIHtcbiAgICAgICAgY29uc3QgVGFnQ29tcG9uZW50ID0gY29tcG9uZW50cy5UYWdzKHsgZGVmaW5lQ29tcG9uZW50IH0pO1xuICAgICAgICBmb3IgKGNvbnN0IFtlbnRpdHksIGNvbXBvbmVudF0gb2YgZ2V0RW50aXRpZXNXaXRoKFRhZ0NvbXBvbmVudCkpIHtcbiAgICAgICAgICAgIGlmIChlbnRpdHkgIT09IDAgJiYgY29tcG9uZW50LnRhZ3M/LnNvbWUoKHRhZykgPT4gdGFnID09PSB0YWdOYW1lKSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIGVudGl0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiogZ2V0Q29tcG9uZW50RGVmR3JvdXAoLi4uYXJncykge1xuICAgICAgICBjb25zdCBbZmlyc3RDb21wb25lbnREZWYsIC4uLmNvbXBvbmVudERlZmluaXRpb25zXSA9IGFyZ3M7XG4gICAgICAgIGZvciAoY29uc3QgW2VudGl0eV0gb2YgZmlyc3RDb21wb25lbnREZWYuaXRlcmF0b3IoKSkge1xuICAgICAgICAgICAgbGV0IG1hdGNoZXMgPSB0cnVlO1xuICAgICAgICAgICAgZm9yIChjb25zdCBjb21wb25lbnREZWYgb2YgY29tcG9uZW50RGVmaW5pdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbXBvbmVudERlZi5oYXMoZW50aXR5KSkge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgW2VudGl0eSwgLi4uYXJnc107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U3lzdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHN5c3RlbXMuZ2V0U3lzdGVtcygpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21wb25lbnRzSXRlcigpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudHNEZWZpbml0aW9uLnZhbHVlcygpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVDb21wb25lbnREZWZpbml0aW9uKGNvbXBvbmVudElkT3JOYW1lKSB7XG4gICAgICAgIGlmIChzZWFsZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VuZ2luZSBpcyBhbHJlYWR5IHNlYWxlZC4gTm8gY29tcG9uZW50cyBjYW4gYmUgcmVtb3ZlZCBhdCB0aGlzIHN0YWdlJyk7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudElkID0gdHlwZW9mIGNvbXBvbmVudElkT3JOYW1lID09PSAnbnVtYmVyJyA/IGNvbXBvbmVudElkT3JOYW1lIDogY29tcG9uZW50TnVtYmVyRnJvbU5hbWUoY29tcG9uZW50SWRPck5hbWUpO1xuICAgICAgICBjb21wb25lbnRzRGVmaW5pdGlvbi5kZWxldGUoY29tcG9uZW50SWQpO1xuICAgIH1cbiAgICBjb21wb25lbnRzLlRyYW5zZm9ybSh7IGRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEgfSk7XG4gICAgZnVuY3Rpb24gc2VhbCgpIHtcbiAgICAgICAgaWYgKCFzZWFsZWQpIHtcbiAgICAgICAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkRW50aXR5LFxuICAgICAgICByZW1vdmVFbnRpdHksXG4gICAgICAgIHJlbW92ZUVudGl0eVdpdGhDaGlsZHJlbixcbiAgICAgICAgYWRkU3lzdGVtLFxuICAgICAgICBnZXRTeXN0ZW1zLFxuICAgICAgICByZW1vdmVTeXN0ZW0sXG4gICAgICAgIGRlZmluZUNvbXBvbmVudCxcbiAgICAgICAgZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYSxcbiAgICAgICAgZGVmaW5lVmFsdWVTZXRDb21wb25lbnRGcm9tU2NoZW1hLFxuICAgICAgICBnZXRFbnRpdGllc1dpdGgsXG4gICAgICAgIGdldENvbXBvbmVudCxcbiAgICAgICAgZ2V0Q29tcG9uZW50T3JOdWxsOiBnZXRDb21wb25lbnRPck51bGwsXG4gICAgICAgIGdldEVudGl0eU9yTnVsbEJ5TmFtZSxcbiAgICAgICAgZ2V0RW50aXR5QnlOYW1lLFxuICAgICAgICBnZXRFbnRpdGllc0J5VGFnLFxuICAgICAgICByZW1vdmVDb21wb25lbnREZWZpbml0aW9uLFxuICAgICAgICByZWdpc3RlckNvbXBvbmVudERlZmluaXRpb24sXG4gICAgICAgIGVudGl0eUNvbnRhaW5lcixcbiAgICAgICAgY29tcG9uZW50c0l0ZXIsXG4gICAgICAgIHNlYWxcbiAgICB9O1xufVxuLyoqXG4gKiBJbnRlcm5hbCBjb25zdHJ1Y3RvciBvZiBuZXcgZW5naW5lcywgdGhpcyBpcyBhbiBpbnRlcm5hbCBBUElcbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIFByZXZlbnQgbWFudWFsIHVzYWdlIHByZWZlciBcImVuZ2luZVwiIGZvciBzY2VuZSBkZXZlbG9wbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gRW5naW5lKG9wdGlvbnMpIHtcbiAgICBjb25zdCBwYXJ0aWFsRW5naW5lID0gcHJlRW5naW5lKG9wdGlvbnMpO1xuICAgIGNvbnN0IG9uQ2hhbmdlRnVuY3Rpb24gPSAoZW50aXR5LCBvcGVyYXRpb24sIGNvbXBvbmVudCwgY29tcG9uZW50VmFsdWUpID0+IHtcbiAgICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9FTlRJVFkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY29tcG9uZW50IG9mIHBhcnRpYWxFbmdpbmUuY29tcG9uZW50c0l0ZXIoKSkge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudD8uX19vbkNoYW5nZUNhbGxiYWNrcyhlbnRpdHksIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb21wb25lbnQ/Ll9fb25DaGFuZ2VDYWxsYmFja3MoZW50aXR5LCBjb21wb25lbnRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wdGlvbnM/Lm9uQ2hhbmdlRnVuY3Rpb24oZW50aXR5LCBvcGVyYXRpb24sIGNvbXBvbmVudCwgY29tcG9uZW50VmFsdWUpO1xuICAgIH07XG4gICAgY29uc3QgY3JkdFN5c3RlbSA9IGNyZHRTY2VuZVN5c3RlbShwYXJ0aWFsRW5naW5lLCBvbkNoYW5nZUZ1bmN0aW9uKTtcbiAgICBhc3luYyBmdW5jdGlvbiB1cGRhdGUoZHQpIHtcbiAgICAgICAgYXdhaXQgY3JkdFN5c3RlbS5yZWNlaXZlTWVzc2FnZXMoKTtcbiAgICAgICAgZm9yIChjb25zdCBzeXN0ZW0gb2YgcGFydGlhbEVuZ2luZS5nZXRTeXN0ZW1zKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHJldCA9IHN5c3RlbS5mbihkdCk7XG4gICAgICAgICAgICBjaGVja05vdFRoZW5hYmxlKHJldCwgYEEgc3lzdGVtICgke3N5c3RlbS5uYW1lIHx8ICdhbm9ueW1vdXMnfSkgcmV0dXJuZWQgYSB0aGVuYWJsZS4gU3lzdGVtcyBjYW5ub3QgYmUgYXN5bmMgZnVuY3Rpb25zLiBEb2N1bWVudGF0aW9uOiBodHRwczovL2RjbC5nZy9zZGsvc3luYy1zeXN0ZW1zYCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZ2V0IHRoZSBkZWxldGVkIGVudGl0aWVzIHRvIHNlbmQgdGhlIERlbGV0ZUVudGl0eSBDUkRUIGNvbW1hbmRzXG4gICAgICAgIGNvbnN0IGRlbGV0ZWRFbnRpdGVzID0gcGFydGlhbEVuZ2luZS5lbnRpdHlDb250YWluZXIucmVsZWFzZVJlbW92ZWRFbnRpdGllcygpO1xuICAgICAgICBhd2FpdCBjcmR0U3lzdGVtLnNlbmRNZXNzYWdlcyhkZWxldGVkRW50aXRlcyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIF9pZDogRGF0ZS5ub3coKSxcbiAgICAgICAgYWRkRW50aXR5OiBwYXJ0aWFsRW5naW5lLmFkZEVudGl0eSxcbiAgICAgICAgcmVtb3ZlRW50aXR5OiBwYXJ0aWFsRW5naW5lLnJlbW92ZUVudGl0eSxcbiAgICAgICAgcmVtb3ZlRW50aXR5V2l0aENoaWxkcmVuOiBwYXJ0aWFsRW5naW5lLnJlbW92ZUVudGl0eVdpdGhDaGlsZHJlbixcbiAgICAgICAgYWRkU3lzdGVtOiBwYXJ0aWFsRW5naW5lLmFkZFN5c3RlbSxcbiAgICAgICAgcmVtb3ZlU3lzdGVtOiBwYXJ0aWFsRW5naW5lLnJlbW92ZVN5c3RlbSxcbiAgICAgICAgZGVmaW5lQ29tcG9uZW50OiBwYXJ0aWFsRW5naW5lLmRlZmluZUNvbXBvbmVudCxcbiAgICAgICAgZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYTogcGFydGlhbEVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hLFxuICAgICAgICBkZWZpbmVWYWx1ZVNldENvbXBvbmVudEZyb21TY2hlbWE6IHBhcnRpYWxFbmdpbmUuZGVmaW5lVmFsdWVTZXRDb21wb25lbnRGcm9tU2NoZW1hLFxuICAgICAgICByZWdpc3RlckNvbXBvbmVudERlZmluaXRpb246IHBhcnRpYWxFbmdpbmUucmVnaXN0ZXJDb21wb25lbnREZWZpbml0aW9uLFxuICAgICAgICBnZXRFbnRpdGllc1dpdGg6IHBhcnRpYWxFbmdpbmUuZ2V0RW50aXRpZXNXaXRoLFxuICAgICAgICBnZXRDb21wb25lbnQ6IHBhcnRpYWxFbmdpbmUuZ2V0Q29tcG9uZW50LFxuICAgICAgICBnZXRDb21wb25lbnRPck51bGw6IHBhcnRpYWxFbmdpbmUuZ2V0Q29tcG9uZW50T3JOdWxsLFxuICAgICAgICByZW1vdmVDb21wb25lbnREZWZpbml0aW9uOiBwYXJ0aWFsRW5naW5lLnJlbW92ZUNvbXBvbmVudERlZmluaXRpb24sXG4gICAgICAgIGNvbXBvbmVudHNJdGVyOiBwYXJ0aWFsRW5naW5lLmNvbXBvbmVudHNJdGVyLFxuICAgICAgICBzZWFsOiBwYXJ0aWFsRW5naW5lLnNlYWwsXG4gICAgICAgIGdldEVudGl0eU9yTnVsbEJ5TmFtZTogcGFydGlhbEVuZ2luZS5nZXRFbnRpdHlPck51bGxCeU5hbWUsXG4gICAgICAgIGdldEVudGl0eUJ5TmFtZTogcGFydGlhbEVuZ2luZS5nZXRFbnRpdHlCeU5hbWUsXG4gICAgICAgIGdldEVudGl0aWVzQnlUYWc6IHBhcnRpYWxFbmdpbmUuZ2V0RW50aXRpZXNCeVRhZyxcbiAgICAgICAgdXBkYXRlLFxuICAgICAgICBSb290RW50aXR5OiAwLFxuICAgICAgICBQbGF5ZXJFbnRpdHk6IDEsXG4gICAgICAgIENhbWVyYUVudGl0eTogMixcbiAgICAgICAgZ2V0RW50aXR5U3RhdGU6IHBhcnRpYWxFbmdpbmUuZW50aXR5Q29udGFpbmVyLmdldEVudGl0eVN0YXRlLFxuICAgICAgICBhZGRUcmFuc3BvcnQ6IGNyZHRTeXN0ZW0uYWRkVHJhbnNwb3J0LFxuICAgICAgICBlbnRpdHlDb250YWluZXI6IHBhcnRpYWxFbmdpbmUuZW50aXR5Q29udGFpbmVyXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyBjb21wb25lbnRzIGZyb20gJy4uL2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgRW50aXR5U3RhdGUgfSBmcm9tICcuLi9lbmdpbmUvZW50aXR5JztcbmltcG9ydCB7IGNoZWNrTm90VGhlbmFibGUgfSBmcm9tICcuLi9ydW50aW1lL2ludmFyaWFudCc7XG5leHBvcnQgY29uc3QgZ2V0RGVmYXVsdE9wdHMgPSAob3B0cyA9IHt9KSA9PiAoe1xuICAgIGJ1dHRvbjogMyAvKiBJbnB1dEFjdGlvbi5JQV9BTlkgKi8sXG4gICAgLi4ub3B0c1xufSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqIF9fX0RPIE5PVCBVU0VfX18gdXNlIHBvaW50ZXJFdmVudHNTeXN0ZW0gaW5zdGVhZFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUG9pbnRlckV2ZW50c1N5c3RlbShlbmdpbmUsIGlucHV0U3lzdGVtKSB7XG4gICAgY29uc3QgUG9pbnRlckV2ZW50cyA9IGNvbXBvbmVudHMuUG9pbnRlckV2ZW50cyhlbmdpbmUpO1xuICAgIGxldCBFdmVudFR5cGU7XG4gICAgKGZ1bmN0aW9uIChFdmVudFR5cGUpIHtcbiAgICAgICAgRXZlbnRUeXBlW0V2ZW50VHlwZVtcIkNsaWNrXCJdID0gMF0gPSBcIkNsaWNrXCI7XG4gICAgICAgIEV2ZW50VHlwZVtFdmVudFR5cGVbXCJEb3duXCJdID0gMV0gPSBcIkRvd25cIjtcbiAgICAgICAgRXZlbnRUeXBlW0V2ZW50VHlwZVtcIlVwXCJdID0gMl0gPSBcIlVwXCI7XG4gICAgICAgIEV2ZW50VHlwZVtFdmVudFR5cGVbXCJIb3ZlckVudGVyXCJdID0gM10gPSBcIkhvdmVyRW50ZXJcIjtcbiAgICAgICAgRXZlbnRUeXBlW0V2ZW50VHlwZVtcIkhvdmVyTGVhdmVcIl0gPSA0XSA9IFwiSG92ZXJMZWF2ZVwiO1xuICAgIH0pKEV2ZW50VHlwZSB8fCAoRXZlbnRUeXBlID0ge30pKTtcbiAgICBjb25zdCBldmVudHNNYXAgPSBuZXcgTWFwKCk7XG4gICAgZnVuY3Rpb24gZ2V0RXZlbnQoZW50aXR5KSB7XG4gICAgICAgIHJldHVybiBldmVudHNNYXAuZ2V0KGVudGl0eSkgfHwgZXZlbnRzTWFwLnNldChlbnRpdHksIG5ldyBNYXAoKSkuZ2V0KGVudGl0eSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldFBvaW50ZXJFdmVudChlbnRpdHksIHR5cGUsIG9wdHMpIHtcbiAgICAgICAgY29uc3QgcG9pbnRlckV2ZW50ID0gUG9pbnRlckV2ZW50cy5nZXRNdXRhYmxlT3JOdWxsKGVudGl0eSkgfHwgUG9pbnRlckV2ZW50cy5jcmVhdGUoZW50aXR5KTtcbiAgICAgICAgcG9pbnRlckV2ZW50LnBvaW50ZXJFdmVudHMucHVzaCh7XG4gICAgICAgICAgICBldmVudFR5cGU6IHR5cGUsXG4gICAgICAgICAgICBldmVudEluZm86IHtcbiAgICAgICAgICAgICAgICBidXR0b246IG9wdHMuYnV0dG9uLFxuICAgICAgICAgICAgICAgIHNob3dGZWVkYmFjazogb3B0cy5zaG93RmVlZGJhY2ssXG4gICAgICAgICAgICAgICAgc2hvd0hpZ2hsaWdodDogb3B0cy5zaG93SGlnaGxpZ2h0LFxuICAgICAgICAgICAgICAgIGhvdmVyVGV4dDogb3B0cy5ob3ZlclRleHQsXG4gICAgICAgICAgICAgICAgbWF4RGlzdGFuY2U6IG9wdHMubWF4RGlzdGFuY2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZVBvaW50ZXJFdmVudChlbnRpdHksIHR5cGUsIGJ1dHRvbikge1xuICAgICAgICBjb25zdCBwb2ludGVyRXZlbnQgPSBQb2ludGVyRXZlbnRzLmdldE11dGFibGVPck51bGwoZW50aXR5KTtcbiAgICAgICAgaWYgKCFwb2ludGVyRXZlbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHBvaW50ZXJFdmVudC5wb2ludGVyRXZlbnRzID0gcG9pbnRlckV2ZW50LnBvaW50ZXJFdmVudHMuZmlsdGVyKChwb2ludGVyKSA9PiAhKHBvaW50ZXIuZXZlbnRJbmZvPy5idXR0b24gPT09IGJ1dHRvbiAmJiBwb2ludGVyLmV2ZW50VHlwZSA9PT0gdHlwZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRQb2ludGVyRXZlbnQoZXZlbnRUeXBlKSB7XG4gICAgICAgIGlmIChldmVudFR5cGUgPT09IEV2ZW50VHlwZS5VcCkge1xuICAgICAgICAgICAgcmV0dXJuIDAgLyogUG9pbnRlckV2ZW50VHlwZS5QRVRfVVAgKi87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnRUeXBlID09PSBFdmVudFR5cGUuSG92ZXJMZWF2ZSkge1xuICAgICAgICAgICAgcmV0dXJuIDMgLyogUG9pbnRlckV2ZW50VHlwZS5QRVRfSE9WRVJfTEVBVkUgKi87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnRUeXBlID09PSBFdmVudFR5cGUuSG92ZXJFbnRlcikge1xuICAgICAgICAgICAgcmV0dXJuIDIgLyogUG9pbnRlckV2ZW50VHlwZS5QRVRfSE9WRVJfRU5URVIgKi87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDEgLyogUG9pbnRlckV2ZW50VHlwZS5QRVRfRE9XTiAqLztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlRXZlbnQoZW50aXR5LCB0eXBlKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gZ2V0RXZlbnQoZW50aXR5KTtcbiAgICAgICAgY29uc3QgcG9pbnRlckV2ZW50ID0gZXZlbnQuZ2V0KHR5cGUpO1xuICAgICAgICBpZiAocG9pbnRlckV2ZW50Py5vcHRzLmhvdmVyVGV4dCkge1xuICAgICAgICAgICAgcmVtb3ZlUG9pbnRlckV2ZW50KGVudGl0eSwgZ2V0UG9pbnRlckV2ZW50KHR5cGUpLCBwb2ludGVyRXZlbnQub3B0cy5idXR0b24pO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50LmRlbGV0ZSh0eXBlKTtcbiAgICB9XG4gICAgZW5naW5lLmFkZFN5c3RlbShmdW5jdGlvbiBFdmVudFN5c3RlbSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBbZW50aXR5LCBldmVudF0gb2YgZXZlbnRzTWFwKSB7XG4gICAgICAgICAgICBpZiAoZW5naW5lLmdldEVudGl0eVN0YXRlKGVudGl0eSkgPT09IEVudGl0eVN0YXRlLlJlbW92ZWQpIHtcbiAgICAgICAgICAgICAgICBldmVudHNNYXAuZGVsZXRlKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtldmVudFR5cGUsIHsgY2IsIG9wdHMgfV0gb2YgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRUeXBlID09PSBFdmVudFR5cGUuQ2xpY2spIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tbWFuZCA9IGlucHV0U3lzdGVtLmdldENsaWNrKG9wdHMuYnV0dG9uLCBlbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWFuZClcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrTm90VGhlbmFibGUoY2IoY29tbWFuZC51cCksICdDbGljayBldmVudCByZXR1cm5lZCBhIHRoZW5hYmxlLiBPbmx5IHN5bmNocm9ub3VzIGZ1bmN0aW9ucyBhcmUgYWxsb3dlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRUeXBlID09PSBFdmVudFR5cGUuRG93biB8fFxuICAgICAgICAgICAgICAgICAgICBldmVudFR5cGUgPT09IEV2ZW50VHlwZS5VcCB8fFxuICAgICAgICAgICAgICAgICAgICBldmVudFR5cGUgPT09IEV2ZW50VHlwZS5Ib3ZlckVudGVyIHx8XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZSA9PT0gRXZlbnRUeXBlLkhvdmVyTGVhdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tbWFuZCA9IGlucHV0U3lzdGVtLmdldElucHV0Q29tbWFuZChvcHRzLmJ1dHRvbiwgZ2V0UG9pbnRlckV2ZW50KGV2ZW50VHlwZSksIGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21tYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja05vdFRoZW5hYmxlKGNiKGNvbW1hbmQpLCAnRXZlbnQgaGFuZGxlciByZXR1cm5lZCBhIHRoZW5hYmxlLiBPbmx5IHN5bmNocm9ub3VzIGZ1bmN0aW9ucyBhcmUgYWxsb3dlZCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3Qgb25Qb2ludGVyRG93biA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IFtkYXRhLCBjYiwgbWF5YmVPcHRzXSA9IGFyZ3M7XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJldHVybiBvblBvaW50ZXJEb3duKHsgZW50aXR5OiBkYXRhLCBvcHRzOiBtYXliZU9wdHMgPz8ge30gfSwgY2IpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgZW50aXR5LCBvcHRzIH0gPSBkYXRhO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gZ2V0RGVmYXVsdE9wdHMob3B0cyk7XG4gICAgICAgIHJlbW92ZUV2ZW50KGVudGl0eSwgRXZlbnRUeXBlLkRvd24pO1xuICAgICAgICBnZXRFdmVudChlbnRpdHkpLnNldChFdmVudFR5cGUuRG93biwgeyBjYiwgb3B0czogb3B0aW9ucyB9KTtcbiAgICAgICAgc2V0UG9pbnRlckV2ZW50KGVudGl0eSwgMSAvKiBQb2ludGVyRXZlbnRUeXBlLlBFVF9ET1dOICovLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIGNvbnN0IG9uUG9pbnRlclVwID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgW2RhdGEsIGNiLCBtYXliZU9wdHNdID0gYXJncztcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIG9uUG9pbnRlclVwKHsgZW50aXR5OiBkYXRhLCBvcHRzOiBtYXliZU9wdHMgPz8ge30gfSwgY2IpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgZW50aXR5LCBvcHRzIH0gPSBkYXRhO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gZ2V0RGVmYXVsdE9wdHMob3B0cyk7XG4gICAgICAgIHJlbW92ZUV2ZW50KGVudGl0eSwgRXZlbnRUeXBlLlVwKTtcbiAgICAgICAgZ2V0RXZlbnQoZW50aXR5KS5zZXQoRXZlbnRUeXBlLlVwLCB7IGNiLCBvcHRzOiBvcHRpb25zIH0pO1xuICAgICAgICBzZXRQb2ludGVyRXZlbnQoZW50aXR5LCAwIC8qIFBvaW50ZXJFdmVudFR5cGUuUEVUX1VQICovLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIGNvbnN0IG9uUG9pbnRlckhvdmVyRW50ZXIgPSAoLi4uYXJncykgPT4ge1xuICAgICAgICBjb25zdCBbZGF0YSwgY2JdID0gYXJncztcbiAgICAgICAgY29uc3QgeyBlbnRpdHksIG9wdHMgfSA9IGRhdGE7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBnZXREZWZhdWx0T3B0cyhvcHRzKTtcbiAgICAgICAgcmVtb3ZlRXZlbnQoZW50aXR5LCBFdmVudFR5cGUuSG92ZXJFbnRlcik7XG4gICAgICAgIGdldEV2ZW50KGVudGl0eSkuc2V0KEV2ZW50VHlwZS5Ib3ZlckVudGVyLCB7IGNiLCBvcHRzOiBvcHRpb25zIH0pO1xuICAgICAgICBzZXRQb2ludGVyRXZlbnQoZW50aXR5LCAyIC8qIFBvaW50ZXJFdmVudFR5cGUuUEVUX0hPVkVSX0VOVEVSICovLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIGNvbnN0IG9uUG9pbnRlckhvdmVyTGVhdmUgPSAoLi4uYXJncykgPT4ge1xuICAgICAgICBjb25zdCBbZGF0YSwgY2JdID0gYXJncztcbiAgICAgICAgY29uc3QgeyBlbnRpdHksIG9wdHMgfSA9IGRhdGE7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBnZXREZWZhdWx0T3B0cyhvcHRzKTtcbiAgICAgICAgcmVtb3ZlRXZlbnQoZW50aXR5LCBFdmVudFR5cGUuSG92ZXJMZWF2ZSk7XG4gICAgICAgIGdldEV2ZW50KGVudGl0eSkuc2V0KEV2ZW50VHlwZS5Ib3ZlckxlYXZlLCB7IGNiLCBvcHRzOiBvcHRpb25zIH0pO1xuICAgICAgICBzZXRQb2ludGVyRXZlbnQoZW50aXR5LCAzIC8qIFBvaW50ZXJFdmVudFR5cGUuUEVUX0hPVkVSX0xFQVZFICovLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlbW92ZU9uQ2xpY2soZW50aXR5KSB7XG4gICAgICAgICAgICByZW1vdmVFdmVudChlbnRpdHksIEV2ZW50VHlwZS5DbGljayk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZU9uUG9pbnRlckRvd24oZW50aXR5KSB7XG4gICAgICAgICAgICByZW1vdmVFdmVudChlbnRpdHksIEV2ZW50VHlwZS5Eb3duKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlT25Qb2ludGVyVXAoZW50aXR5KSB7XG4gICAgICAgICAgICByZW1vdmVFdmVudChlbnRpdHksIEV2ZW50VHlwZS5VcCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZU9uUG9pbnRlckhvdmVyRW50ZXIoZW50aXR5KSB7XG4gICAgICAgICAgICByZW1vdmVFdmVudChlbnRpdHksIEV2ZW50VHlwZS5Ib3ZlckVudGVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlT25Qb2ludGVySG92ZXJMZWF2ZShlbnRpdHkpIHtcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50KGVudGl0eSwgRXZlbnRUeXBlLkhvdmVyTGVhdmUpO1xuICAgICAgICB9LFxuICAgICAgICBvbkNsaWNrKHZhbHVlLCBjYikge1xuICAgICAgICAgICAgY29uc3QgeyBlbnRpdHkgfSA9IHZhbHVlO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGdldERlZmF1bHRPcHRzKHZhbHVlLm9wdHMpO1xuICAgICAgICAgICAgLy8gQ2xlYXIgcHJldmlvdXMgZXZlbnQgd2l0aCBvdmVyIGZlZWRiYWNrIGluY2x1ZGVkXG4gICAgICAgICAgICByZW1vdmVFdmVudChlbnRpdHksIEV2ZW50VHlwZS5DbGljayk7XG4gICAgICAgICAgICAvLyBTZXQgbmV3IGV2ZW50XG4gICAgICAgICAgICBnZXRFdmVudChlbnRpdHkpLnNldChFdmVudFR5cGUuQ2xpY2ssIHsgY2IsIG9wdHM6IG9wdGlvbnMgfSk7XG4gICAgICAgICAgICBzZXRQb2ludGVyRXZlbnQoZW50aXR5LCAxIC8qIFBvaW50ZXJFdmVudFR5cGUuUEVUX0RPV04gKi8sIG9wdGlvbnMpO1xuICAgICAgICB9LFxuICAgICAgICBvblBvaW50ZXJEb3duLFxuICAgICAgICBvblBvaW50ZXJVcCxcbiAgICAgICAgb25Qb2ludGVySG92ZXJFbnRlcixcbiAgICAgICAgb25Qb2ludGVySG92ZXJMZWF2ZVxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgY29tcG9uZW50cyBmcm9tICcuLi9jb21wb25lbnRzJztcbmltcG9ydCB7IFJlYWRXcml0ZUJ5dGVCdWZmZXIgfSBmcm9tICcuLi9zZXJpYWxpemF0aW9uL0J5dGVCdWZmZXInO1xuaW1wb3J0IHsgZGF0YUNvbXBhcmUgfSBmcm9tICcuL2NyZHQvdXRpbHMnO1xuLyoqXG4gKiBBdm9pZCBjcmVhdGluZyBtdWx0aXBsZSB0d2VlbiBzeXN0ZW1zXG4gKi9cbmNvbnN0IGNhY2hlVHdlZW4gPSBuZXcgTWFwKCk7XG4vKipcbiAqIEBwdWJsaWNcbiAqIEByZXR1cm5zIHR3ZWVuIGhlbHBlciB0byBiZSB1c2VkIG9uIHRoZSBzY2VuZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVHdlZW5TeXN0ZW0oZW5naW5lKSB7XG4gICAgaWYgKGNhY2hlVHdlZW4uaGFzKGVuZ2luZS5faWQpKSB7XG4gICAgICAgIHJldHVybiBjYWNoZVR3ZWVuLmdldChlbmdpbmUuX2lkKTtcbiAgICB9XG4gICAgY29uc3QgVHdlZW4gPSBjb21wb25lbnRzLlR3ZWVuKGVuZ2luZSk7XG4gICAgY29uc3QgVHdlZW5TdGF0ZSA9IGNvbXBvbmVudHMuVHdlZW5TdGF0ZShlbmdpbmUpO1xuICAgIGNvbnN0IFR3ZWVuU2VxdWVuY2UgPSBjb21wb25lbnRzLlR3ZWVuU2VxdWVuY2UoZW5naW5lKTtcbiAgICBjb25zdCBjYWNoZSA9IG5ldyBNYXAoKTtcbiAgICBmdW5jdGlvbiBpc0NvbXBsZXRlZChlbnRpdHkpIHtcbiAgICAgICAgY29uc3QgdHdlZW5TdGF0ZSA9IFR3ZWVuU3RhdGUuZ2V0T3JOdWxsKGVudGl0eSk7XG4gICAgICAgIGNvbnN0IHR3ZWVuID0gVHdlZW4uZ2V0T3JOdWxsKGVudGl0eSk7XG4gICAgICAgIGNvbnN0IHR3ZWVuQ2FjaGUgPSBjYWNoZS5nZXQoZW50aXR5KTtcbiAgICAgICAgaWYgKCF0d2VlblN0YXRlIHx8ICF0d2VlbiB8fCAhdHdlZW5DYWNoZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgaWYgKFxuICAgICAgICAvLyBSZW5kZXJlciBub3RpZmllZCB0aGF0IHRoZSB0d2VlbiBpcyBjb21wbGV0ZWRcbiAgICAgICAgLy8gT25seSBjb25zaWRlciBpdCBjb21wbGV0ZWQgaWYgdGhlIHR3ZWVuIGhhc24ndCBjaGFuZ2VkIHRoaXMgZnJhbWUgKHRvIGF2b2lkIGZhbHNlIHBvc2l0aXZlcyBhZnRlciBZT1lPL3NlcXVlbmNlIHByb2Nlc3NpbmcpXG4gICAgICAgICgodHdlZW5TdGF0ZS5zdGF0ZSA9PT0gMSAvKiBUd2VlblN0YXRlU3RhdHVzLlRTX0NPTVBMRVRFRCAqLyAmJiAhdHdlZW5DYWNoZS5jaGFuZ2VkKSB8fFxuICAgICAgICAgICAgKHR3ZWVuQ2hhbmdlZChlbnRpdHkpICYmICF0d2VlbkNhY2hlLmNoYW5nZWQpKSAmJlxuICAgICAgICAgICAgLy8gQXZvaWQgc2VuZGluZyBpc0NvbXBsZXRlZCBtdWx0aXBsZSB0aW1lc1xuICAgICAgICAgICAgIXR3ZWVuQ2FjaGUuY29tcGxldGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHR3ZWVuQ2hhbmdlZChlbnRpdHkpIHtcbiAgICAgICAgY29uc3QgY3VycmVudFR3ZWVuID0gVHdlZW4uZ2V0T3JOdWxsKGVudGl0eSk7XG4gICAgICAgIGNvbnN0IHByZXZUd2VlbiA9IGNhY2hlLmdldChlbnRpdHkpPy50d2VlbjtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgaWYgKChjdXJyZW50VHdlZW4gJiYgIXByZXZUd2VlbikgfHwgKCFjdXJyZW50VHdlZW4gJiYgcHJldlR3ZWVuKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjdXJyZW50VHdlZW4gfHwgIXByZXZUd2VlbilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgY3VycmVudEJ1ZmYgPSBuZXcgUmVhZFdyaXRlQnl0ZUJ1ZmZlcigpO1xuICAgICAgICBUd2Vlbi5zY2hlbWEuc2VyaWFsaXplKGN1cnJlbnRUd2VlbiwgY3VycmVudEJ1ZmYpO1xuICAgICAgICBjb25zdCBjb21wYXJlUmVzdWx0ID0gZGF0YUNvbXBhcmUoY3VycmVudEJ1ZmYudG9CaW5hcnkoKSwgcHJldlR3ZWVuKTtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmVSZXN1bHQgIT09IDA7XG4gICAgfVxuICAgIC8vIFN5c3RlbSB0byBtYW5hZ2UgY2FjaGUgKG5lZWRlZCBmb3IgdHdlZW5TeXN0ZW0udHdlZW5Db21wbGV0ZWQoKSB0byB3b3JrKVxuICAgIGVuZ2luZS5hZGRTeXN0ZW0oKCkgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IFtlbnRpdHksIHR3ZWVuXSBvZiBlbmdpbmUuZ2V0RW50aXRpZXNXaXRoKFR3ZWVuKSkge1xuICAgICAgICAgICAgaWYgKHR3ZWVuQ2hhbmdlZChlbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICBUd2Vlbi5zY2hlbWEuc2VyaWFsaXplKHR3ZWVuLCBidWZmZXIpO1xuICAgICAgICAgICAgICAgIGNhY2hlLnNldChlbnRpdHksIHtcbiAgICAgICAgICAgICAgICAgICAgdHdlZW46IGJ1ZmZlci50b0JpbmFyeSgpLFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0d2VlbkNhY2hlID0gY2FjaGUuZ2V0KGVudGl0eSk7XG4gICAgICAgICAgICBpZiAodHdlZW5DYWNoZSkge1xuICAgICAgICAgICAgICAgIHR3ZWVuQ2FjaGUuY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChpc0NvbXBsZXRlZChlbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNldCB0aGUgdHdlZW4gY29tcGxldGVkIHRvIGF2b2lkIGNhbGxpbmcgdGhpcyBhZ2FpbiBmb3IgdGhlIHNhbWUgdHdlZW5cbiAgICAgICAgICAgICAgICAgICAgdHdlZW5DYWNoZS5jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIE51bWJlci5ORUdBVElWRV9JTkZJTklUWSk7XG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZVR3ZWVuU2VxdWVuY2VTeXN0ZW0oKSB7XG4gICAgICAgIGNvbnN0IHJlc3RhcnRUd2VlbnMgPSBbXTtcbiAgICAgICAgZnVuY3Rpb24gYmFja3dhcmRzVHdlZW4odHdlZW4pIHtcbiAgICAgICAgICAgIGlmICh0d2Vlbi5tb2RlPy4kY2FzZSA9PT0gJ21vdmUnICYmIHR3ZWVuLm1vZGUubW92ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnR3ZWVuLCBtb2RlOiB7IC4uLnR3ZWVuLm1vZGUsIG1vdmU6IHsgc3RhcnQ6IHR3ZWVuLm1vZGUubW92ZS5lbmQsIGVuZDogdHdlZW4ubW9kZS5tb3ZlLnN0YXJ0IH0gfSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR3ZWVuLm1vZGU/LiRjYXNlID09PSAncm90YXRlJyAmJiB0d2Vlbi5tb2RlLnJvdGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnR3ZWVuLFxuICAgICAgICAgICAgICAgICAgICBtb2RlOiB7IC4uLnR3ZWVuLm1vZGUsIHJvdGF0ZTogeyBzdGFydDogdHdlZW4ubW9kZS5yb3RhdGUuZW5kLCBlbmQ6IHR3ZWVuLm1vZGUucm90YXRlLnN0YXJ0IH0gfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHdlZW4ubW9kZT8uJGNhc2UgPT09ICdzY2FsZScgJiYgdHdlZW4ubW9kZS5zY2FsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnR3ZWVuLFxuICAgICAgICAgICAgICAgICAgICBtb2RlOiB7IC4uLnR3ZWVuLm1vZGUsIHNjYWxlOiB7IHN0YXJ0OiB0d2Vlbi5tb2RlLnNjYWxlLmVuZCwgZW5kOiB0d2Vlbi5tb2RlLnNjYWxlLnN0YXJ0IH0gfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHdlZW4ubW9kZT8uJGNhc2UgPT09ICd0ZXh0dXJlTW92ZScgJiYgdHdlZW4ubW9kZS50ZXh0dXJlTW92ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnR3ZWVuLFxuICAgICAgICAgICAgICAgICAgICBtb2RlOiB7IC4uLnR3ZWVuLm1vZGUsIHRleHR1cmVNb3ZlOiB7IHN0YXJ0OiB0d2Vlbi5tb2RlLnRleHR1cmVNb3ZlLmVuZCwgZW5kOiB0d2Vlbi5tb2RlLnRleHR1cmVNb3ZlLnN0YXJ0IH0gfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHR3ZWVuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTG9naWMgZm9yIHNlcXVlbmNlIHR3ZWVuc1xuICAgICAgICBlbmdpbmUuYWRkU3lzdGVtKCgpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVzdGFydCBvZiByZXN0YXJ0VHdlZW5zKSB7XG4gICAgICAgICAgICAgICAgcmVzdGFydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdGFydFR3ZWVucy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgZm9yIChjb25zdCBbZW50aXR5LCB0d2Vlbl0gb2YgZW5naW5lLmdldEVudGl0aWVzV2l0aChUd2VlbikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0d2VlbkNhY2hlID0gY2FjaGUuZ2V0KGVudGl0eSk7XG4gICAgICAgICAgICAgICAgaWYgKCF0d2VlbkNhY2hlKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IHByb2Nlc3MgdHdlZW4gc2VxdWVuY2VzIGlmIHRoZSB0d2VlbiBpcyBjb21wbGV0ZWRcbiAgICAgICAgICAgICAgICBpZiAodHdlZW5DYWNoZS5jb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHdlZW5TZXF1ZW5jZSA9IFR3ZWVuU2VxdWVuY2UuZ2V0T3JOdWxsKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdHdlZW5TZXF1ZW5jZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHNlcXVlbmNlIH0gPSB0d2VlblNlcXVlbmNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2UgJiYgc2VxdWVuY2UubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBbbmV4dFR3ZWVuU2VxdWVuY2UsIC4uLm90aGVyVHdlZW5zXSA9IHNlcXVlbmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgVHdlZW4uY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwgbmV4dFR3ZWVuU2VxdWVuY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbXV0YWJsZVR3ZWVuSGVscGVyID0gVHdlZW5TZXF1ZW5jZS5nZXRNdXRhYmxlKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtdXRhYmxlVHdlZW5IZWxwZXIuc2VxdWVuY2UgPSBvdGhlclR3ZWVucztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0d2VlblNlcXVlbmNlLmxvb3AgPT09IDAgLyogVHdlZW5Mb29wLlRMX1JFU1RBUlQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdXRhYmxlVHdlZW5IZWxwZXIuc2VxdWVuY2UucHVzaCh0d2Vlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXNldCBjb21wbGV0ZWQgZmxhZyBmb3IgdGhlIG5leHQgdHdlZW4gaW4gc2VxdWVuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcmsgYXMgY2hhbmdlZCBzbyB0aGUgY2FjaGUgc3lzdGVtIHdpbGwgZGV0ZWN0IHRoZSBjaGFuZ2UgYW5kIHJlc2V0IHRoZSBjYWNoZSBwcm9wZXJseVxuICAgICAgICAgICAgICAgICAgICAgICAgdHdlZW5DYWNoZS5jb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR3ZWVuQ2FjaGUuY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHdlZW5TZXF1ZW5jZS5sb29wID09PSAxIC8qIFR3ZWVuTG9vcC5UTF9ZT1lPICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUd2Vlbi5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCBiYWNrd2FyZHNUd2Vlbih0d2VlbikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzZXQgY29tcGxldGVkIGZsYWcgZm9yIHRoZSBiYWNrd2FyZHMgdHdlZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcmsgYXMgY2hhbmdlZCBzbyB0aGUgY2FjaGUgc3lzdGVtIHdpbGwgZGV0ZWN0IHRoZSBjaGFuZ2UgYW5kIHJlc2V0IHRoZSBjYWNoZSBwcm9wZXJseVxuICAgICAgICAgICAgICAgICAgICAgICAgdHdlZW5DYWNoZS5jb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR3ZWVuQ2FjaGUuY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHdlZW5TZXF1ZW5jZS5sb29wID09PSAwIC8qIFR3ZWVuTG9vcC5UTF9SRVNUQVJUICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUd2Vlbi5kZWxldGVGcm9tKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZS5kZWxldGUoZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RhcnRUd2VlbnMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVHdlZW4uY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwgdHdlZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIE51bWJlci5ORUdBVElWRV9JTkZJTklUWSk7XG4gICAgfVxuICAgIC8vIFNvbWUgRXhwbG9yZXJzIG1heSBub3QgaW5qZWN0IHRoZSBmbGFnIGFuZCBUd2VlblNlcXVlbmNlIGxvZ2ljIG11c3QgYmUgZW5hYmxlZCBpbiB0aGF0IGNhc2VcbiAgICBjb25zdCBlbmFibGVUd2VlblNlcXVlbmNlTG9naWMgPSBnbG9iYWxUaGlzLkVOQUJMRV9TREtfVFdFRU5fU0VRVUVOQ0U7XG4gICAgaWYgKGVuYWJsZVR3ZWVuU2VxdWVuY2VMb2dpYyAhPT0gZmFsc2UpXG4gICAgICAgIGluaXRpYWxpemVUd2VlblNlcXVlbmNlU3lzdGVtKCk7XG4gICAgY29uc3QgdHdlZW5TeXN0ZW0gPSB7XG4gICAgICAgIC8vIFRoaXMgZXZlbnQgaXMgZmlyZWQgb25seSBvbmNlIHBlciB0d2VlblxuICAgICAgICB0d2VlbkNvbXBsZXRlZDogaXNDb21wbGV0ZWRcbiAgICB9O1xuICAgIGNhY2hlVHdlZW4uc2V0KGVuZ2luZS5faWQsIHR3ZWVuU3lzdGVtKTtcbiAgICByZXR1cm4gdHdlZW5TeXN0ZW07XG59XG4iLCAiLyogaXN0YW5idWwgaWdub3JlIGZpbGUgKi9cbmltcG9ydCAqIGFzIGNvbXBvbmVudHMgZnJvbSAnLi4vY29tcG9uZW50cyc7XG4vKipcbiAqIEl0IGNoZWNrcyBhbGwgdGhlIGVudGl0aWVzIHRoYXQgaGFzIGEgUG9pbnRlckV2ZW50IGFuZCBjaGVjayBpZiBpdCBoYXMgYSBjb2xsaWRlci5cbiAqICpcbiAqIEBwdWJsaWNcbiAqIEBwYXJhbXMgZW5naW5lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb2ludGVyRXZlbnRDb2xsaWRlckNoZWNrZXIoZW5naW5lKSB7XG4gICAgY29uc3QgUG9pbnRlckV2ZW50cyA9IGNvbXBvbmVudHMuUG9pbnRlckV2ZW50cyhlbmdpbmUpO1xuICAgIGNvbnN0IE1lc2hDb2xsaWRlciA9IGNvbXBvbmVudHMuTWVzaENvbGxpZGVyKGVuZ2luZSk7XG4gICAgY29uc3QgR2x0ZkNvbnRhaW5lciA9IGNvbXBvbmVudHMuR2x0ZkNvbnRhaW5lcihlbmdpbmUpO1xuICAgIGNvbnN0IFVpVHJhbnNmb3JtID0gY29tcG9uZW50cy5VaVRyYW5zZm9ybShlbmdpbmUpO1xuICAgIGNvbnN0IGFscmVhZHlTaG93bmxvZyA9IG5ldyBTZXQoKTtcbiAgICBsZXQgdGltZXIgPSAwO1xuICAgIGZ1bmN0aW9uIHN5c3RlbUNoZWNrZXIoZHQpIHtcbiAgICAgICAgdGltZXIgKz0gZHQ7XG4gICAgICAgIGlmICh0aW1lciA8PSAxMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRpbWVyID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBbZW50aXR5XSBvZiBlbmdpbmUuZ2V0RW50aXRpZXNXaXRoKFBvaW50ZXJFdmVudHMpKSB7XG4gICAgICAgICAgICBpZiAoYWxyZWFkeVNob3dubG9nLmhhcyhlbnRpdHkpKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgLy8gTWF5YmUgdGhlIGNvbGxpZGVyIGlzIGluc2lkZSB0aGUgR0xURkNvbnRhaW5lci4gSWdub3JlIGl0XG4gICAgICAgICAgICBpZiAoR2x0ZkNvbnRhaW5lci5oYXMoZW50aXR5KSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIC8vIFVJIGhhbmRsZXMgdGhlIHBvaW50ZXIncyBpbiBhIGRpZmYgd2F5LlxuICAgICAgICAgICAgaWYgKFVpVHJhbnNmb3JtLmhhcyhlbnRpdHkpKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgLy8gY2hlY2sgZm9yIE1lc2ggUG9pbnRlciBDb2xsaXNpb24gTGF5ZXJcbiAgICAgICAgICAgIGNvbnN0IG1lc2ggPSBNZXNoQ29sbGlkZXIuZ2V0T3JOdWxsKGVudGl0eSk7XG4gICAgICAgICAgICBpZiAobWVzaCkge1xuICAgICAgICAgICAgICAgIGlmIChtZXNoLmNvbGxpc2lvbk1hc2sgPT09IHVuZGVmaW5lZCB8fCBtZXNoLmNvbGxpc2lvbk1hc2sgJiAxIC8qIGNvbXBvbmVudHMuQ29sbGlkZXJMYXllci5DTF9QT0lOVEVSICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFscmVhZHlTaG93bmxvZy5hZGQoZW50aXR5KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBcdTI2QTBcdUZFMEYgTWlzc2luZyBNZXNoQ29sbGlkZXIgY29tcG9uZW50IG9uIGVudGl0eSAke2VudGl0eX0uIEFkZCBhIE1lc2hDb2xsaWRlciB0byB0aGUgZW50aXR5IHNvIGl0IGNhbiBiZSBjbGlja2VhYmxlIGJ5IHRoZSBwbGF5ZXIuXG5TZWUgaHR0cHM6Ly9kb2NzLmRlY2VudHJhbGFuZC5vcmcvY3JlYXRvci9kZXZlbG9wbWVudC1ndWlkZS9zZGs3L2NvbGxpZGVycy8jcG9pbnRlci1ibG9ja2luZ2ApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVuZ2luZS5yZW1vdmVTeXN0ZW0oc3lzdGVtQ2hlY2tlcik7XG4gICAgZW5naW5lLmFkZFN5c3RlbShzeXN0ZW1DaGVja2VyKTtcbn1cbiIsICIvKipcbiAqIEBhbHBoYSAqIFRoaXMgZmlsZSBpbml0aWFsaXphdGlvbiBpcyBhbiBhbHBoYSBvbmUuIFRoaXMgaXMgYmFzZWQgb24gdGhlIG9sZC1lY3NcbiAqIGluaXQgYW5kIGl0J2xsIGJlIGNoYW5naW5nLlxuICovXG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tICcuLi8uLi9lbmdpbmUnO1xuaW1wb3J0IHsgY3JlYXRlVGFza1N5c3RlbSB9IGZyb20gJy4uLy4uL3N5c3RlbXMvYXN5bmMtdGFzayc7XG5pbXBvcnQgeyBjcmVhdGVQb2ludGVyRXZlbnRzU3lzdGVtIH0gZnJvbSAnLi4vLi4vc3lzdGVtcy9ldmVudHMnO1xuaW1wb3J0IHsgY3JlYXRlSW5wdXRTeXN0ZW0gfSBmcm9tICcuLy4uLy4uL2VuZ2luZS9pbnB1dCc7XG5pbXBvcnQgeyBjcmVhdGVSYXljYXN0U3lzdGVtIH0gZnJvbSAnLi4vLi4vc3lzdGVtcy9yYXljYXN0JztcbmltcG9ydCB7IGNyZWF0ZVZpZGVvRXZlbnRzU3lzdGVtIH0gZnJvbSAnLi4vLi4vc3lzdGVtcy92aWRlb0V2ZW50cyc7XG5pbXBvcnQgeyBjcmVhdGVUd2VlblN5c3RlbSB9IGZyb20gJy4uLy4uL3N5c3RlbXMvdHdlZW4nO1xuaW1wb3J0IHsgcG9pbnRlckV2ZW50Q29sbGlkZXJDaGVja2VyIH0gZnJvbSAnLi4vLi4vc3lzdGVtcy9wb2ludGVyLWV2ZW50LWNvbGxpZGVyLWNoZWNrZXInO1xuaW1wb3J0IHsgY3JlYXRlVHJpZ2dlckFyZWFFdmVudHNTeXN0ZW0gfSBmcm9tICcuLi8uLi9zeXN0ZW1zL3RyaWdnZXJBcmVhJztcbi8qKlxuICogQHB1YmxpY1xuICogVGhlIGVuZ2luZSBpcyB0aGUgcGFydCBvZiB0aGUgc2NlbmUgdGhhdCBzaXRzIGluIHRoZSBtaWRkbGUgYW5kIG1hbmFnZXMgYWxsIG9mIHRoZSBvdGhlciBwYXJ0cy5cbiAqIEl0IGRldGVybWluZXMgd2hhdCBlbnRpdGllcyBhcmUgcmVuZGVyZWQgYW5kIGhvdyBwbGF5ZXJzIGludGVyYWN0IHdpdGggdGhlbS5cbiAqIEl0IGFsc28gY29vcmRpbmF0ZXMgd2hhdCBmdW5jdGlvbnMgZnJvbSBzeXN0ZW1zIGFyZSBleGVjdXRlZCBhbmQgd2hlbi5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgZW5naW5lIH0gZnJvbSAnQGRjbC9zZGsvZWNzJ1xuICogY29uc3QgZW50aXR5ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gKiBlbmdpbmUuYWRkU3lzdGVtKHNvbWVTeXN0ZW1GdW5jdGlvbilcbiAqXG4gKi9cbmV4cG9ydCBjb25zdCBlbmdpbmUgPSAvKiBAX19QVVJFX18gKi8gRW5naW5lKCk7XG4vKipcbiAqIEBwdWJsaWNcbiAqIElucHV0IHN5c3RlbSBtYW5hZ2VyLiBDaGVjayBmb3IgYnV0dG9uIGV2ZW50c1xuICogQGV4YW1wbGVcbiAqIGlucHV0U3lzdGVtLmlzVHJpZ2dlcmVkOiBSZXR1cm5zIHRydWUgaWYgYW4gaW5wdXQgYWN0aW9uIG9jdXJyZWQgc2luY2UgdGhlIGxhc3QgdGljay5cbiAqIGlucHV0U3lzdGVtLmlzUHJlc3NlZDogUmV0dXJucyB0cnVlIGlmIGFuIGlucHV0IGlzIGN1cnJlbnRseSBiZWluZyBwcmVzc2VkIGRvd24uIEl0IHdpbGwgcmV0dXJuIHRydWUgb24gZXZlcnkgdGljayB1bnRpbCB0aGUgYnV0dG9uIGdvZXMgdXAgYWdhaW4uXG4gKiBpbnB1dFN5c3RlbS5nZXRJbnB1dENvbW1hbmQ6IFJldHVybnMgYW4gb2JqZWN0IHdpdGggZGF0YSBhYm91dCB0aGUgaW5wdXQgYWN0aW9uLlxuICovXG5leHBvcnQgY29uc3QgaW5wdXRTeXN0ZW0gPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlSW5wdXRTeXN0ZW0oZW5naW5lKTtcbi8qKlxuICogQHB1YmxpY1xuICogUmVnaXN0ZXIgY2FsbGJhY2sgZnVuY3Rpb25zIHRvIGEgcGFydGljdWxhciBlbnRpdHkgb24gaW5wdXQgZXZlbnRzLlxuICovXG5leHBvcnQgY29uc3QgcG9pbnRlckV2ZW50c1N5c3RlbSA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVQb2ludGVyRXZlbnRzU3lzdGVtKGVuZ2luZSwgaW5wdXRTeXN0ZW0pO1xuLyoqXG4gKiBAcHVibGljXG4gKiBSZWdpc3RlciBjYWxsYmFjayBmdW5jdGlvbnMgdG8gYSBwYXJ0aWN1bGFyIGVudGl0eSBvbiByYXljYXN0IHJlc3VsdHMuXG4gKi9cbmV4cG9ydCBjb25zdCByYXljYXN0U3lzdGVtID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZVJheWNhc3RTeXN0ZW0oZW5naW5lKTtcbi8qKlxuICogQHB1YmxpY1xuICogUmVnaXN0ZXIgY2FsbGJhY2sgZnVuY3Rpb25zIHRvIGEgcGFydGljdWxhciBlbnRpdHkgb24gdmlkZW8gZXZlbnRzLlxuICovXG5leHBvcnQgY29uc3QgdmlkZW9FdmVudHNTeXN0ZW0gPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlVmlkZW9FdmVudHNTeXN0ZW0oZW5naW5lKTtcbi8qKlxuICogQHB1YmxpY1xuICogUmVnaXN0ZXIgY2FsbGJhY2sgZnVuY3Rpb25zIHRvIGEgcGFydGljdWxhciBlbnRpdHkgb24gdHdlZW4gZXZlbnRzLlxuICovXG5leHBvcnQgY29uc3QgdHdlZW5TeXN0ZW0gPSBjcmVhdGVUd2VlblN5c3RlbShlbmdpbmUpO1xuLyoqXG4gKiBAcHVibGljXG4gKiBSZWdpc3RlciBjYWxsYmFjayBmdW5jdGlvbnMgZm9yIHRyaWdnZXIgYXJlYSByZXN1bHRzLlxuICovXG5leHBvcnQgY29uc3QgdHJpZ2dlckFyZWFFdmVudHNTeXN0ZW0gPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlVHJpZ2dlckFyZWFFdmVudHNTeXN0ZW0oZW5naW5lKTtcbi8qKlxuICogQWRkcyBwb2ludGVyIGV2ZW50IGNvbGxpZGVyIHN5c3RlbSBvbmx5IGluIERFViBlbnZcbiAqL1xucG9pbnRlckV2ZW50Q29sbGlkZXJDaGVja2VyKGVuZ2luZSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqIFJ1bnMgYW4gYXN5bmMgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGV4ZWN1dGVUYXNrID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZVRhc2tTeXN0ZW0oZW5naW5lKTtcbiIsICJpbXBvcnQgeyBlbmdpbmUgfSBmcm9tICcuLi8uLi9ydW50aW1lL2luaXRpYWxpemF0aW9uJztcbmltcG9ydCAqIGFzIGNvbXBvbmVudHMgZnJvbSAnLi9pbmRleC5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9pbmRleC5nZW4nO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEF1ZGlvRXZlbnQgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5BdWRpb0V2ZW50KGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQXVkaW9Tb3VyY2UgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5BdWRpb1NvdXJjZShlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEF1ZGlvU3RyZWFtID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuQXVkaW9TdHJlYW0oZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBBdmF0YXJBdHRhY2ggPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5BdmF0YXJBdHRhY2goZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBBdmF0YXJCYXNlID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuQXZhdGFyQmFzZShlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEF2YXRhckVtb3RlQ29tbWFuZCA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLkF2YXRhckVtb3RlQ29tbWFuZChlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEF2YXRhckVxdWlwcGVkRGF0YSA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLkF2YXRhckVxdWlwcGVkRGF0YShlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEF2YXRhck1vZGlmaWVyQXJlYSA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLkF2YXRhck1vZGlmaWVyQXJlYShlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEF2YXRhclNoYXBlID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuQXZhdGFyU2hhcGUoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBCaWxsYm9hcmQgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5CaWxsYm9hcmQoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBDYW1lcmFNb2RlID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuQ2FtZXJhTW9kZShlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IENhbWVyYU1vZGVBcmVhID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuQ2FtZXJhTW9kZUFyZWEoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBFbmdpbmVJbmZvID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuRW5naW5lSW5mbyhlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEdsdGZDb250YWluZXIgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5HbHRmQ29udGFpbmVyKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZSA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLkdsdGZDb250YWluZXJMb2FkaW5nU3RhdGUoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBHbHRmTm9kZU1vZGlmaWVycyA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLkdsdGZOb2RlTW9kaWZpZXJzKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgSW5wdXRNb2RpZmllciA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLklucHV0TW9kaWZpZXIoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBMaWdodFNvdXJjZSA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLkxpZ2h0U291cmNlKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgTWFpbkNhbWVyYSA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLk1haW5DYW1lcmEoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBOZnRTaGFwZSA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLk5mdFNoYXBlKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgUGxheWVySWRlbnRpdHlEYXRhID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuUGxheWVySWRlbnRpdHlEYXRhKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgUG9pbnRlckV2ZW50cyA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLlBvaW50ZXJFdmVudHMoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBQb2ludGVyRXZlbnRzUmVzdWx0ID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuUG9pbnRlckV2ZW50c1Jlc3VsdChlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFBvaW50ZXJMb2NrID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuUG9pbnRlckxvY2soZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBQcmltYXJ5UG9pbnRlckluZm8gPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5QcmltYXJ5UG9pbnRlckluZm8oZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBSYXljYXN0ID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuUmF5Y2FzdChlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFJheWNhc3RSZXN1bHQgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5SYXljYXN0UmVzdWx0KGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgUmVhbG1JbmZvID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuUmVhbG1JbmZvKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgU2t5Ym94VGltZSA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLlNreWJveFRpbWUoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBUZXh0U2hhcGUgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5UZXh0U2hhcGUoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBUcmlnZ2VyQXJlYSA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLlRyaWdnZXJBcmVhKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVHJpZ2dlckFyZWFSZXN1bHQgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5UcmlnZ2VyQXJlYVJlc3VsdChlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFR3ZWVuU2VxdWVuY2UgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5Ud2VlblNlcXVlbmNlKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVHdlZW5TdGF0ZSA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLlR3ZWVuU3RhdGUoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaUJhY2tncm91bmQgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5VaUJhY2tncm91bmQoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaUNhbnZhc0luZm9ybWF0aW9uID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuVWlDYW52YXNJbmZvcm1hdGlvbihlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpRHJvcGRvd24gPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5VaURyb3Bkb3duKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVWlEcm9wZG93blJlc3VsdCA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLlVpRHJvcGRvd25SZXN1bHQoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaUlucHV0ID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuVWlJbnB1dChlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpSW5wdXRSZXN1bHQgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5VaUlucHV0UmVzdWx0KGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVWlUZXh0ID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuVWlUZXh0KGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVWlUcmFuc2Zvcm0gPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5VaVRyYW5zZm9ybShlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFZpZGVvRXZlbnQgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5WaWRlb0V2ZW50KGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVmlkZW9QbGF5ZXIgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5WaWRlb1BsYXllcihlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFZpcnR1YWxDYW1lcmEgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5WaXJ0dWFsQ2FtZXJhKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVmlzaWJpbGl0eUNvbXBvbmVudCA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLlZpc2liaWxpdHlDb21wb25lbnQoZW5naW5lKTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHMuY29tbW9uXCI7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBDYW1lcmFUeXBlO1xuKGZ1bmN0aW9uIChDYW1lcmFUeXBlKSB7XG4gICAgQ2FtZXJhVHlwZVtDYW1lcmFUeXBlW1wiQ1RfRklSU1RfUEVSU09OXCJdID0gMF0gPSBcIkNUX0ZJUlNUX1BFUlNPTlwiO1xuICAgIENhbWVyYVR5cGVbQ2FtZXJhVHlwZVtcIkNUX1RISVJEX1BFUlNPTlwiXSA9IDFdID0gXCJDVF9USElSRF9QRVJTT05cIjtcbiAgICAvKiogQ1RfQ0lORU1BVElDIC0gY29udHJvbGxlZCBieSB0aGUgc2NlbmUgKi9cbiAgICBDYW1lcmFUeXBlW0NhbWVyYVR5cGVbXCJDVF9DSU5FTUFUSUNcIl0gPSAyXSA9IFwiQ1RfQ0lORU1BVElDXCI7XG59KShDYW1lcmFUeXBlIHx8IChDYW1lcmFUeXBlID0ge30pKTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHMuY29tbW9uXCI7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBJbnB1dEFjdGlvbjtcbihmdW5jdGlvbiAoSW5wdXRBY3Rpb24pIHtcbiAgICBJbnB1dEFjdGlvbltJbnB1dEFjdGlvbltcIklBX1BPSU5URVJcIl0gPSAwXSA9IFwiSUFfUE9JTlRFUlwiO1xuICAgIElucHV0QWN0aW9uW0lucHV0QWN0aW9uW1wiSUFfUFJJTUFSWVwiXSA9IDFdID0gXCJJQV9QUklNQVJZXCI7XG4gICAgSW5wdXRBY3Rpb25bSW5wdXRBY3Rpb25bXCJJQV9TRUNPTkRBUllcIl0gPSAyXSA9IFwiSUFfU0VDT05EQVJZXCI7XG4gICAgSW5wdXRBY3Rpb25bSW5wdXRBY3Rpb25bXCJJQV9BTllcIl0gPSAzXSA9IFwiSUFfQU5ZXCI7XG4gICAgSW5wdXRBY3Rpb25bSW5wdXRBY3Rpb25bXCJJQV9GT1JXQVJEXCJdID0gNF0gPSBcIklBX0ZPUldBUkRcIjtcbiAgICBJbnB1dEFjdGlvbltJbnB1dEFjdGlvbltcIklBX0JBQ0tXQVJEXCJdID0gNV0gPSBcIklBX0JBQ0tXQVJEXCI7XG4gICAgSW5wdXRBY3Rpb25bSW5wdXRBY3Rpb25bXCJJQV9SSUdIVFwiXSA9IDZdID0gXCJJQV9SSUdIVFwiO1xuICAgIElucHV0QWN0aW9uW0lucHV0QWN0aW9uW1wiSUFfTEVGVFwiXSA9IDddID0gXCJJQV9MRUZUXCI7XG4gICAgSW5wdXRBY3Rpb25bSW5wdXRBY3Rpb25bXCJJQV9KVU1QXCJdID0gOF0gPSBcIklBX0pVTVBcIjtcbiAgICBJbnB1dEFjdGlvbltJbnB1dEFjdGlvbltcIklBX1dBTEtcIl0gPSA5XSA9IFwiSUFfV0FMS1wiO1xuICAgIElucHV0QWN0aW9uW0lucHV0QWN0aW9uW1wiSUFfQUNUSU9OXzNcIl0gPSAxMF0gPSBcIklBX0FDVElPTl8zXCI7XG4gICAgSW5wdXRBY3Rpb25bSW5wdXRBY3Rpb25bXCJJQV9BQ1RJT05fNFwiXSA9IDExXSA9IFwiSUFfQUNUSU9OXzRcIjtcbiAgICBJbnB1dEFjdGlvbltJbnB1dEFjdGlvbltcIklBX0FDVElPTl81XCJdID0gMTJdID0gXCJJQV9BQ1RJT05fNVwiO1xuICAgIElucHV0QWN0aW9uW0lucHV0QWN0aW9uW1wiSUFfQUNUSU9OXzZcIl0gPSAxM10gPSBcIklBX0FDVElPTl82XCI7XG59KShJbnB1dEFjdGlvbiB8fCAoSW5wdXRBY3Rpb24gPSB7fSkpO1xuLyoqIFBvaW50ZXJFdmVudFR5cGUgaXMgYSBraW5kIG9mIGludGVyYWN0aW9uIHRoYXQgY2FuIGJlIGRldGVjdGVkLiAqL1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUG9pbnRlckV2ZW50VHlwZTtcbihmdW5jdGlvbiAoUG9pbnRlckV2ZW50VHlwZSkge1xuICAgIFBvaW50ZXJFdmVudFR5cGVbUG9pbnRlckV2ZW50VHlwZVtcIlBFVF9VUFwiXSA9IDBdID0gXCJQRVRfVVBcIjtcbiAgICBQb2ludGVyRXZlbnRUeXBlW1BvaW50ZXJFdmVudFR5cGVbXCJQRVRfRE9XTlwiXSA9IDFdID0gXCJQRVRfRE9XTlwiO1xuICAgIFBvaW50ZXJFdmVudFR5cGVbUG9pbnRlckV2ZW50VHlwZVtcIlBFVF9IT1ZFUl9FTlRFUlwiXSA9IDJdID0gXCJQRVRfSE9WRVJfRU5URVJcIjtcbiAgICBQb2ludGVyRXZlbnRUeXBlW1BvaW50ZXJFdmVudFR5cGVbXCJQRVRfSE9WRVJfTEVBVkVcIl0gPSAzXSA9IFwiUEVUX0hPVkVSX0xFQVZFXCI7XG59KShQb2ludGVyRXZlbnRUeXBlIHx8IChQb2ludGVyRXZlbnRUeXBlID0ge30pKTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHMuY29tbW9uXCI7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBMb2FkaW5nU3RhdGU7XG4oZnVuY3Rpb24gKExvYWRpbmdTdGF0ZSkge1xuICAgIExvYWRpbmdTdGF0ZVtMb2FkaW5nU3RhdGVbXCJVTktOT1dOXCJdID0gMF0gPSBcIlVOS05PV05cIjtcbiAgICBMb2FkaW5nU3RhdGVbTG9hZGluZ1N0YXRlW1wiTE9BRElOR1wiXSA9IDFdID0gXCJMT0FESU5HXCI7XG4gICAgTG9hZGluZ1N0YXRlW0xvYWRpbmdTdGF0ZVtcIk5PVF9GT1VORFwiXSA9IDJdID0gXCJOT1RfRk9VTkRcIjtcbiAgICBMb2FkaW5nU3RhdGVbTG9hZGluZ1N0YXRlW1wiRklOSVNIRURfV0lUSF9FUlJPUlwiXSA9IDNdID0gXCJGSU5JU0hFRF9XSVRIX0VSUk9SXCI7XG4gICAgTG9hZGluZ1N0YXRlW0xvYWRpbmdTdGF0ZVtcIkZJTklTSEVEXCJdID0gNF0gPSBcIkZJTklTSEVEXCI7XG59KShMb2FkaW5nU3RhdGUgfHwgKExvYWRpbmdTdGF0ZSA9IHt9KSk7XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzLmNvbW1vblwiO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgVGV4dEFsaWduTW9kZTtcbihmdW5jdGlvbiAoVGV4dEFsaWduTW9kZSkge1xuICAgIFRleHRBbGlnbk1vZGVbVGV4dEFsaWduTW9kZVtcIlRBTV9UT1BfTEVGVFwiXSA9IDBdID0gXCJUQU1fVE9QX0xFRlRcIjtcbiAgICBUZXh0QWxpZ25Nb2RlW1RleHRBbGlnbk1vZGVbXCJUQU1fVE9QX0NFTlRFUlwiXSA9IDFdID0gXCJUQU1fVE9QX0NFTlRFUlwiO1xuICAgIFRleHRBbGlnbk1vZGVbVGV4dEFsaWduTW9kZVtcIlRBTV9UT1BfUklHSFRcIl0gPSAyXSA9IFwiVEFNX1RPUF9SSUdIVFwiO1xuICAgIFRleHRBbGlnbk1vZGVbVGV4dEFsaWduTW9kZVtcIlRBTV9NSURETEVfTEVGVFwiXSA9IDNdID0gXCJUQU1fTUlERExFX0xFRlRcIjtcbiAgICBUZXh0QWxpZ25Nb2RlW1RleHRBbGlnbk1vZGVbXCJUQU1fTUlERExFX0NFTlRFUlwiXSA9IDRdID0gXCJUQU1fTUlERExFX0NFTlRFUlwiO1xuICAgIFRleHRBbGlnbk1vZGVbVGV4dEFsaWduTW9kZVtcIlRBTV9NSURETEVfUklHSFRcIl0gPSA1XSA9IFwiVEFNX01JRERMRV9SSUdIVFwiO1xuICAgIFRleHRBbGlnbk1vZGVbVGV4dEFsaWduTW9kZVtcIlRBTV9CT1RUT01fTEVGVFwiXSA9IDZdID0gXCJUQU1fQk9UVE9NX0xFRlRcIjtcbiAgICBUZXh0QWxpZ25Nb2RlW1RleHRBbGlnbk1vZGVbXCJUQU1fQk9UVE9NX0NFTlRFUlwiXSA9IDddID0gXCJUQU1fQk9UVE9NX0NFTlRFUlwiO1xuICAgIFRleHRBbGlnbk1vZGVbVGV4dEFsaWduTW9kZVtcIlRBTV9CT1RUT01fUklHSFRcIl0gPSA4XSA9IFwiVEFNX0JPVFRPTV9SSUdIVFwiO1xufSkoVGV4dEFsaWduTW9kZSB8fCAoVGV4dEFsaWduTW9kZSA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBGb250O1xuKGZ1bmN0aW9uIChGb250KSB7XG4gICAgRm9udFtGb250W1wiRl9TQU5TX1NFUklGXCJdID0gMF0gPSBcIkZfU0FOU19TRVJJRlwiO1xuICAgIEZvbnRbRm9udFtcIkZfU0VSSUZcIl0gPSAxXSA9IFwiRl9TRVJJRlwiO1xuICAgIEZvbnRbRm9udFtcIkZfTU9OT1NQQUNFXCJdID0gMl0gPSBcIkZfTU9OT1NQQUNFXCI7XG59KShGb250IHx8IChGb250ID0ge30pKTtcbiIsICJpbXBvcnQgeyBTY2hlbWFzIH0gZnJvbSAnLi4vc2NoZW1hcyc7XG4vKipcbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIGNvbXBvc2l0ZSBpcyBub3QgYmVpbmcgc3VwcG9ydGVkIHNvIGZhciwgcGxlYXNlIGRvIG5vdCB1c2UgdGhpcyBmZWF0dXJlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb21wb3NpdGVSb290Q29tcG9uZW50KGVuZ2luZSkge1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IGVuZ2luZS5nZXRDb21wb25lbnRPck51bGwoJ2NvbXBvc2l0ZTo6cm9vdCcpO1xuICAgIGlmIChjb21wb25lbnQpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICB9XG4gICAgcmV0dXJuIGVuZ2luZS5kZWZpbmVDb21wb25lbnQoJ2NvbXBvc2l0ZTo6cm9vdCcsIHtcbiAgICAgICAgc3JjOiBTY2hlbWFzLlN0cmluZyxcbiAgICAgICAgZW50aXRpZXM6IFNjaGVtYXMuQXJyYXkoU2NoZW1hcy5NYXAoe1xuICAgICAgICAgICAgc3JjOiBTY2hlbWFzLkVudGl0eSxcbiAgICAgICAgICAgIGRlc3Q6IFNjaGVtYXMuRW50aXR5XG4gICAgICAgIH0pKVxuICAgIH0pO1xufVxuIiwgImNvbnN0IGN1cnJlbnRXb3JraW5nRGlyID0gJy8nO1xuLyoqXG4gKiBUaGUgZnVuY3Rpb25zIGBub3JtYWxpemVTdHJpbmdQb3NpeGAsIGBkaXJuYW1lYCBhbmQgYHJlc29sdmVgXG4gKiB3ZXJlIGV4dHJhY3RlZCBmcm9tIHBhY2thZ2UgQGJyb3dzZXJpZnkvcGF0aFxuICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gbm9ybWFsaXplU3RyaW5nUG9zaXgocGF0aCwgYWxsb3dBYm92ZVJvb3QgPSBmYWxzZSkge1xuICAgIGxldCByZXMgPSAnJztcbiAgICBsZXQgbGFzdFNlZ21lbnRMZW5ndGggPSAwO1xuICAgIGxldCBsYXN0U2xhc2ggPSAtMTtcbiAgICBsZXQgZG90cyA9IDA7XG4gICAgbGV0IGNvZGU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gcGF0aC5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoaSA8IHBhdGgubGVuZ3RoKVxuICAgICAgICAgICAgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgICAgZWxzZSBpZiAoY29kZSA9PT0gNDcgLyovKi8pXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgY29kZSA9IDQ3OyAvKi8qL1xuICAgICAgICBpZiAoY29kZSA9PT0gNDcgLyovKi8pIHtcbiAgICAgICAgICAgIGlmIChsYXN0U2xhc2ggPT09IGkgLSAxIHx8IGRvdHMgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBOT09QXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYXN0U2xhc2ggIT09IGkgLSAxICYmIGRvdHMgPT09IDIpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzLmxlbmd0aCA8IDIgfHxcbiAgICAgICAgICAgICAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggIT09IDIgfHxcbiAgICAgICAgICAgICAgICAgICAgcmVzLmNoYXJDb2RlQXQocmVzLmxlbmd0aCAtIDEpICE9PSA0NiAvKi4qLyB8fFxuICAgICAgICAgICAgICAgICAgICByZXMuY2hhckNvZGVBdChyZXMubGVuZ3RoIC0gMikgIT09IDQ2IC8qLiovKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdFNsYXNoSW5kZXggPSByZXMubGFzdEluZGV4T2YoJy8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0U2xhc2hJbmRleCAhPT0gcmVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFzdFNsYXNoSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0U2VnbWVudExlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMgPSByZXMuc2xpY2UoMCwgbGFzdFNsYXNoSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0U2VnbWVudExlbmd0aCA9IHJlcy5sZW5ndGggLSAxIC0gcmVzLmxhc3RJbmRleE9mKCcvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTbGFzaCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90cyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzLmxlbmd0aCA9PT0gMiB8fCByZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTbGFzaCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb3RzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhbGxvd0Fib3ZlUm9vdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMgKz0gJy8uLic7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9ICcuLic7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgICAgIHJlcyArPSAnLycgKyBwYXRoLnNsaWNlKGxhc3RTbGFzaCArIDEsIGkpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcmVzID0gcGF0aC5zbGljZShsYXN0U2xhc2ggKyAxLCBpKTtcbiAgICAgICAgICAgICAgICBsYXN0U2VnbWVudExlbmd0aCA9IGkgLSBsYXN0U2xhc2ggLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdFNsYXNoID0gaTtcbiAgICAgICAgICAgIGRvdHMgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvZGUgPT09IDQ2IC8qLiovICYmIGRvdHMgIT09IC0xKSB7XG4gICAgICAgICAgICArK2RvdHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkb3RzID0gLTE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZSguLi5hcmdzKSB7XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9ICcnO1xuICAgIGxldCByZXNvbHZlZEFic29sdXRlID0gZmFsc2U7XG4gICAgbGV0IGN3ZDtcbiAgICBmb3IgKGxldCBpID0gYXJncy5sZW5ndGggLSAxOyBpID49IC0xICYmICFyZXNvbHZlZEFic29sdXRlOyBpLS0pIHtcbiAgICAgICAgbGV0IHBhdGg7XG4gICAgICAgIGlmIChpID49IDApXG4gICAgICAgICAgICBwYXRoID0gYXJnc1tpXTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoY3dkID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgY3dkID0gY3VycmVudFdvcmtpbmdEaXI7XG4gICAgICAgICAgICBwYXRoID0gY3dkO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNraXAgZW1wdHkgZW50cmllc1xuICAgICAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmVkUGF0aCA9IHBhdGggKyAnLycgKyByZXNvbHZlZFBhdGg7XG4gICAgICAgIHJlc29sdmVkQWJzb2x1dGUgPSBwYXRoLmNoYXJDb2RlQXQoMCkgPT09IDQ3OyAvKi8qL1xuICAgIH1cbiAgICAvLyBBdCB0aGlzIHBvaW50IHRoZSBwYXRoIHNob3VsZCBiZSByZXNvbHZlZCB0byBhIGZ1bGwgYWJzb2x1dGUgcGF0aCwgYnV0XG4gICAgLy8gaGFuZGxlIHJlbGF0aXZlIHBhdGhzIHRvIGJlIHNhZmUgKG1pZ2h0IGhhcHBlbiB3aGVuIHByb2Nlc3MuY3dkKCkgZmFpbHMpXG4gICAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gICAgcmVzb2x2ZWRQYXRoID0gbm9ybWFsaXplU3RyaW5nUG9zaXgocmVzb2x2ZWRQYXRoLCAhcmVzb2x2ZWRBYnNvbHV0ZSk7XG4gICAgaWYgKHJlc29sdmVkQWJzb2x1dGUpIHtcbiAgICAgICAgaWYgKHJlc29sdmVkUGF0aC5sZW5ndGggPiAwKVxuICAgICAgICAgICAgcmV0dXJuICcvJyArIHJlc29sdmVkUGF0aDtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuICcvJztcbiAgICB9XG4gICAgZWxzZSBpZiAocmVzb2x2ZWRQYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVkUGF0aDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAnLic7XG4gICAgfVxufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXJuYW1lKHBhdGgpIHtcbiAgICBpZiAocGF0aC5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiAnLic7XG4gICAgbGV0IGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoMCk7XG4gICAgY29uc3QgaGFzUm9vdCA9IGNvZGUgPT09IDQ3OyAvKi8qL1xuICAgIGxldCBlbmQgPSAtMTtcbiAgICBsZXQgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICBmb3IgKGxldCBpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDE7IC0taSkge1xuICAgICAgICBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoY29kZSA9PT0gNDcgLyovKi8pIHtcbiAgICAgICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XG4gICAgICAgICAgICAgICAgZW5kID0gaTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFdlIHNhdyB0aGUgZmlyc3Qgbm9uLXBhdGggc2VwYXJhdG9yXG4gICAgICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZW5kID09PSAtMSlcbiAgICAgICAgcmV0dXJuIGhhc1Jvb3QgPyAnLycgOiAnLic7XG4gICAgaWYgKGhhc1Jvb3QgJiYgZW5kID09PSAxKVxuICAgICAgICByZXR1cm4gJy8vJztcbiAgICByZXR1cm4gcGF0aC5zbGljZSgwLCBlbmQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVDb21wb3NpdGUocGF0aCwgY3dkKSB7XG4gICAgY29uc3QgYWJzb2x1dGVQYXRoID0gcGF0aC5zdGFydHNXaXRoKCcuJykgPyByZXNvbHZlKGN3ZCwgcGF0aCkgOiByZXNvbHZlKHBhdGgpO1xuICAgIHJldHVybiBhYnNvbHV0ZVBhdGguc3Vic3RyaW5nKDEpO1xufVxuIiwgImltcG9ydCB7IGNvbXBvbmVudERlZmluaXRpb25CeU5hbWUgfSBmcm9tICcuLi9jb21wb25lbnRzJztcbmltcG9ydCB7IGNvbXBvbmVudE51bWJlckZyb21OYW1lIH0gZnJvbSAnLi4vY29tcG9uZW50cy9jb21wb25lbnQtbnVtYmVyJztcbmltcG9ydCB7IFNjaGVtYXMgfSBmcm9tICcuLi9zY2hlbWFzJztcbmltcG9ydCB7IFJlYWRXcml0ZUJ5dGVCdWZmZXIgfSBmcm9tICcuLi9zZXJpYWxpemF0aW9uL0J5dGVCdWZmZXInO1xuaW1wb3J0IHsgZ2V0Q29tcG9zaXRlUm9vdENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cyc7XG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJy4vcGF0aCc7XG4vKiogQHB1YmxpYyAqL1xuLyogQF9fUFVSRV9fICovXG5leHBvcnQgdmFyIEVudGl0eU1hcHBpbmdNb2RlO1xuKGZ1bmN0aW9uIChFbnRpdHlNYXBwaW5nTW9kZSkge1xuICAgIEVudGl0eU1hcHBpbmdNb2RlW0VudGl0eU1hcHBpbmdNb2RlW1wiRU1NX05PTkVcIl0gPSAwXSA9IFwiRU1NX05PTkVcIjtcbiAgICBFbnRpdHlNYXBwaW5nTW9kZVtFbnRpdHlNYXBwaW5nTW9kZVtcIkVNTV9ORVhUX0FWQUlMQUJMRVwiXSA9IDFdID0gXCJFTU1fTkVYVF9BVkFJTEFCTEVcIjtcbiAgICBFbnRpdHlNYXBwaW5nTW9kZVtFbnRpdHlNYXBwaW5nTW9kZVtcIkVNTV9ESVJFQ1RfTUFQUElOR1wiXSA9IDJdID0gXCJFTU1fRElSRUNUX01BUFBJTkdcIjtcbn0pKEVudGl0eU1hcHBpbmdNb2RlIHx8IChFbnRpdHlNYXBwaW5nTW9kZSA9IHt9KSk7XG4vKipcbiAqIFJldHVybiB0aGUgY29tcG9uZW50IHZhbHVlIGZyb20gY29tcG9zaXRlIGRhdGFcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29tcG9uZW50VmFsdWUoY29tcG9uZW50RGVmaW5pdGlvbiwgY29tcG9uZW50KSB7XG4gICAgaWYgKGNvbXBvbmVudC5kYXRhPy4kY2FzZSA9PT0gJ2pzb24nKSB7XG4gICAgICAgIHJldHVybiBjb21wb25lbnQuZGF0YS5qc29uO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudERlZmluaXRpb24uc2NoZW1hLmRlc2VyaWFsaXplKG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKGNvbXBvbmVudC5kYXRhPy5iaW5hcnkpKTtcbiAgICB9XG59XG4vKipcbiAqIFJldHVybiB0aGUgY29tcG9uZW50IGRlZmluaXRpb24gZnJvbSBjb21wb3NpdGUgaW5mb1xuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb21wb25lbnREZWZpbml0aW9uKGVuZ2luZSwgY29tcG9uZW50KSB7XG4gICAgY29uc3QgZXhpc3RpbmdDb21wb25lbnREZWZpbml0aW9uID0gZW5naW5lLmdldENvbXBvbmVudE9yTnVsbChjb21wb25lbnQubmFtZSk7XG4gICAgaWYgKCFleGlzdGluZ0NvbXBvbmVudERlZmluaXRpb24pIHtcbiAgICAgICAgaWYgKGNvbXBvbmVudC5uYW1lLnN0YXJ0c1dpdGgoJ2NvcmU6OicpKSB7XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50Lm5hbWUgaW4gY29tcG9uZW50RGVmaW5pdGlvbkJ5TmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb25lbnREZWZpbml0aW9uQnlOYW1lW2NvbXBvbmVudC5uYW1lXShlbmdpbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgY29yZSBjb21wb25lbnQgJHtjb21wb25lbnQubmFtZX0gd2FzIG5vdCBmb3VuZC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb21wb25lbnQuanNvblNjaGVtYSkge1xuICAgICAgICAgICAgcmV0dXJuIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKGNvbXBvbmVudC5uYW1lLCBTY2hlbWFzLmZyb21Kc29uKGNvbXBvbmVudC5qc29uU2NoZW1hKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7Y29tcG9uZW50Lm5hbWV9IGlzIG5vdCBkZWZpbmVkIGFuZCB0aGVyZSBpcyBubyBzY2hlbWEgdG8gZGVmaW5lIGl0LmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZXhpc3RpbmdDb21wb25lbnREZWZpbml0aW9uO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJuIHRoZSBlbnRpdHkgbWFwcGluZyBvciBmYWlsIGlmIHRoZXJlIGlzIG5vIG1vcmVcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW50aXR5TWFwcGluZyhlbmdpbmUsIGNvbXBvc2l0ZUVudGl0eSwgbWFwcGVkRW50aXRpZXMsIHsgZW50aXR5TWFwcGluZyB9KSB7XG4gICAgY29uc3QgZXhpc3RpbmdFbnRpdHkgPSBtYXBwZWRFbnRpdGllcy5nZXQoY29tcG9zaXRlRW50aXR5KTtcbiAgICBpZiAoZXhpc3RpbmdFbnRpdHkpIHtcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nRW50aXR5O1xuICAgIH1cbiAgICBpZiAoZW50aXR5TWFwcGluZz8udHlwZSA9PT0gRW50aXR5TWFwcGluZ01vZGUuRU1NX0RJUkVDVF9NQVBQSU5HKSB7XG4gICAgICAgIGNvbnN0IGVudGl0eSA9IGVudGl0eU1hcHBpbmcuZ2V0Q29tcG9zaXRlRW50aXR5KGNvbXBvc2l0ZUVudGl0eSk7XG4gICAgICAgIG1hcHBlZEVudGl0aWVzLnNldChjb21wb3NpdGVFbnRpdHksIGVudGl0eSk7XG4gICAgICAgIHJldHVybiBlbnRpdHk7XG4gICAgfVxuICAgIC8vIFRoaXMgZnVuY3Rpb24gaW4gcnVudGltZSBjYW4gYmUganVzdCBgZW5naW5lLmFkZEVudGl0eSgpYFxuICAgIGNvbnN0IG5ld0VudGl0eSA9IGVudGl0eU1hcHBpbmc/LnR5cGUgPT09IEVudGl0eU1hcHBpbmdNb2RlLkVNTV9ORVhUX0FWQUlMQUJMRVxuICAgICAgICA/IGVudGl0eU1hcHBpbmcuZ2V0TmV4dEF2YWlsYWJsZUVudGl0eSgpXG4gICAgICAgIDogZW5naW5lLmFkZEVudGl0eSgpO1xuICAgIGlmIChuZXdFbnRpdHkgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGVyZSBpcyBubyBtb3JlIGVudGl0aWVzIHRvIGFsbG9jYXRlJyk7XG4gICAgfVxuICAgIG1hcHBlZEVudGl0aWVzLnNldChjb21wb3NpdGVFbnRpdHksIG5ld0VudGl0eSk7XG4gICAgcmV0dXJuIG5ld0VudGl0eTtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbi8qIEBfX1BVUkVfXyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbmNlQ29tcG9zaXRlKGVuZ2luZSwgY29tcG9zaXRlUmVzb3VyY2UsIGNvbXBvc2l0ZVByb3ZpZGVyLCBvcHRpb25zKSB7XG4gICAgY29uc3QgeyByb290RW50aXR5LCBhbHJlYWR5UmVxdWVzdGVkU3JjOiBvcHRpb25hbEFscmVhZHlSZXF1ZXN0ZWRTcmMsIGVudGl0eU1hcHBpbmcgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgYWxyZWFkeVJlcXVlc3RlZFNyYyA9IG9wdGlvbmFsQWxyZWFkeVJlcXVlc3RlZFNyYyB8fCBuZXcgU2V0KCk7XG4gICAgY29uc3QgY29tcG9zaXRlRGlyZWN0b3J5UGF0aCA9IHBhdGguZGlybmFtZShwYXRoLnJlc29sdmUoY29tcG9zaXRlUmVzb3VyY2Uuc3JjKSk7XG4gICAgY29uc3QgVHJhbnNmb3JtQ29tcG9uZW50TnVtYmVyID0gY29tcG9uZW50TnVtYmVyRnJvbU5hbWUoJ2NvcmU6OlRyYW5zZm9ybScpO1xuICAgIGNvbnN0IENvbXBvc2l0ZVJvb3RDb21wb25lbnQgPSBnZXRDb21wb3NpdGVSb290Q29tcG9uZW50KGVuZ2luZSk7XG4gICAgLy8gS2V5ID0+IEVudGl0eU51bWJlciBmcm9tIHRoZSBjb21wb3NpdGVcbiAgICAvLyBWYWx1ZSA9PiBFbnRpdHlOdW1iZXIgaW4gY3VycmVudCBlbmdpbmVcbiAgICBjb25zdCBtYXBwZWRFbnRpdGllcyA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBnZXRDb21wb3NpdGVFbnRpdHkgPSAoY29tcG9zaXRlRW50aXR5KSA9PiBnZXRFbnRpdHlNYXBwaW5nKGVuZ2luZSwgY29tcG9zaXRlRW50aXR5LCBtYXBwZWRFbnRpdGllcywgb3B0aW9ucyk7XG4gICAgLy8gIyMgMSAjI1xuICAgIC8vIEZpcnN0IGVudGl0eSB0aGF0IEkgd2FudCB0byBtYXAsIHRoZSByb290IGVudGl0eSBmcm9tIHRoZSBjb21wb3NpdGUgdG8gdGhlIHRhcmdldCBlbnRpdHkgaW4gdGhlIGVuZ2luZVxuICAgIC8vIElmIHRoZXJlIGlzIG5vIGByb290RW50aXR5YCBwYXNzZWQsIHdlIGFzc2lnbiBvbmUgZnJvbSBgZ2V0TmV4dEF2YWlsYWJsZUVudGl0eWBcbiAgICBjb25zdCBjb21wb3NpdGVSb290RW50aXR5ID0gcm9vdEVudGl0eSA/PyBnZXRDb21wb3NpdGVFbnRpdHkoMCk7XG4gICAgaWYgKHJvb3RFbnRpdHkpIHtcbiAgICAgICAgbWFwcGVkRW50aXRpZXMuc2V0KDAsIHJvb3RFbnRpdHkpO1xuICAgIH1cbiAgICAvLyAjIyAyICMjXG4gICAgLy8gSWYgdGhlcmUgYXJlIG1vcmUgY29tcG9zaXRlIGluc2lkZSB0aGlzIG9uZSwgd2UgaW5zdGFuY2UgZmlyc3QuXG4gICAgLy8gPT4gVGhpcyBpcyBub3Qgb25seSBhIGNvcHksIHdlIG5lZWQgdG8gaW5zdGFuY2UuIE90aGVyd2lzZSwgd2UnZCBiZSBtaXNzaW5nIHRoYXQgYnJhbmNoZXNcbiAgICAvLyA9PiBUT0RPOiBpbiB0aGUgZnV0dXJlLCB0aGUgaW5zdGFuY2lhdGlvbiBpcyBmaXJzdCwgdGhlbiB0aGUgb3ZlcmlkZXMgKHRvIHBhcmFtZXRlcml6ZSBDb21wb3NpdGUsIGUuZy4gaG91c2Ugd2l0aCBkaWZmZXJlbnQgd2FsbCBjb2xvcnMpXG4gICAgY29uc3QgY2hpbGRyZW5Db21wb3NpdGUgPSBjb21wb3NpdGVSZXNvdXJjZS5jb21wb3NpdGUuY29tcG9uZW50cy5maW5kKChpdGVtKSA9PiBpdGVtLm5hbWUgPT09IENvbXBvc2l0ZVJvb3RDb21wb25lbnQuY29tcG9uZW50TmFtZSk7XG4gICAgaWYgKGNoaWxkcmVuQ29tcG9zaXRlKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2NoaWxkQ29tcG9zaXRlRW50aXR5LCBjb21wb3NpdGVSYXdEYXRhXSBvZiBjaGlsZHJlbkNvbXBvc2l0ZS5kYXRhKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZENvbXBvc2l0ZSA9IGdldENvbXBvbmVudFZhbHVlKENvbXBvc2l0ZVJvb3RDb21wb25lbnQsIGNvbXBvc2l0ZVJhd0RhdGEpO1xuICAgICAgICAgICAgY29uc3QgY2hpbGRDb21wb3NpdGVQYXRoID0gcGF0aC5yZXNvbHZlQ29tcG9zaXRlKGNoaWxkQ29tcG9zaXRlLnNyYywgY29tcG9zaXRlRGlyZWN0b3J5UGF0aCk7XG4gICAgICAgICAgICBjb25zdCBjaGlsZENvbXBvc2l0ZVJlc291cmNlID0gY29tcG9zaXRlUHJvdmlkZXIuZ2V0Q29tcG9zaXRlT3JOdWxsKGNoaWxkQ29tcG9zaXRlUGF0aCk7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRFbnRpdHkgPSBnZXRDb21wb3NpdGVFbnRpdHkoY2hpbGRDb21wb3NpdGVFbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGNoaWxkQ29tcG9zaXRlUmVzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoYWxyZWFkeVJlcXVlc3RlZFNyYy5oYXMoY2hpbGRDb21wb3NpdGVSZXNvdXJjZS5zcmMpIHx8XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkQ29tcG9zaXRlUmVzb3VyY2Uuc3JjID09PSBjb21wb3NpdGVSZXNvdXJjZS5zcmMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb21wb3NpdGUgJHtjb21wb3NpdGVSZXNvdXJjZS5zcmN9IGhhcyBhIHJlY3Vyc2l2ZSBpbnN0YW5jaWF0aW9uIHdoaWxlIHRyeSB0byBpbnN0YW5jZSAke2NoaWxkQ29tcG9zaXRlUmVzb3VyY2Uuc3JjfS4gUHJldmlvdXMgaW5zdGFuY2VzOiAke2FscmVhZHlSZXF1ZXN0ZWRTcmMudG9TdHJpbmcoKX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5zdGFuY2VDb21wb3NpdGUoZW5naW5lLCBjaGlsZENvbXBvc2l0ZVJlc291cmNlLCBjb21wb3NpdGVQcm92aWRlciwge1xuICAgICAgICAgICAgICAgICAgICByb290RW50aXR5OiB0YXJnZXRFbnRpdHksXG4gICAgICAgICAgICAgICAgICAgIGFscmVhZHlSZXF1ZXN0ZWRTcmM6IG5ldyBTZXQoYWxyZWFkeVJlcXVlc3RlZFNyYykuYWRkKGNoaWxkQ29tcG9zaXRlUmVzb3VyY2Uuc3JjKSxcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5TWFwcGluZzogZW50aXR5TWFwcGluZz8udHlwZSA9PT0gRW50aXR5TWFwcGluZ01vZGUuRU1NX05FWFRfQVZBSUxBQkxFID8gZW50aXR5TWFwcGluZyA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vICMjIDMgIyNcbiAgICAvLyBUaGVuLCB3ZSBjb3B5IHRoZSBhbGwgcmVzdCBvZiB0aGUgY29tcG9uZW50cyAoc2tpcHBpbmcgdGhlIENvbXBvc2l0ZSBvbmVzKVxuICAgIGZvciAoY29uc3QgY29tcG9uZW50IG9mIGNvbXBvc2l0ZVJlc291cmNlLmNvbXBvc2l0ZS5jb21wb25lbnRzKSB7XG4gICAgICAgIC8vIFdlIGFscmVhZHkgaW5zdGFuY2VkIHRoZSBjb21wb3NpdGVcbiAgICAgICAgaWYgKGNvbXBvbmVudC5uYW1lID09PSBDb21wb3NpdGVSb290Q29tcG9uZW50LmNvbXBvbmVudE5hbWUpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgLy8gIyMgM2EgIyNcbiAgICAgICAgLy8gV2UgZmluZCB0aGUgY29tcG9uZW50IGRlZmluaXRpb25cbiAgICAgICAgY29uc3QgY29tcG9uZW50RGVmaW5pdGlvbiA9IGdldENvbXBvbmVudERlZmluaXRpb24oZW5naW5lLCBjb21wb25lbnQpO1xuICAgICAgICAvLyAjIyAzYiAjI1xuICAgICAgICAvLyBJdGVyYXRpbmcgb3ZlciBhbGwgdGhlIGVudGl0aWVzIHdpdGggdGhpcyBjb21wb25lbnQgYW5kIGNyZWF0ZSB0aGUgcmVwbGljYVxuICAgICAgICBmb3IgKGNvbnN0IFtlbnRpdHksIGNvbXBvc2l0ZUNvbXBvbmVudFZhbHVlXSBvZiBjb21wb25lbnQuZGF0YSkge1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50VmFsdWVEZXNlcmlhbGl6ZWQgPSBnZXRDb21wb25lbnRWYWx1ZShjb21wb25lbnREZWZpbml0aW9uLCBjb21wb3NpdGVDb21wb25lbnRWYWx1ZSk7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRFbnRpdHkgPSBnZXRDb21wb3NpdGVFbnRpdHkoZW50aXR5KTtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudFZhbHVlID0gY29tcG9uZW50RGVmaW5pdGlvbi5jcmVhdGUodGFyZ2V0RW50aXR5LCBjb21wb25lbnRWYWx1ZURlc2VyaWFsaXplZCk7XG4gICAgICAgICAgICAvLyAjIyAzYyAjI1xuICAgICAgICAgICAgLy8gQWxsIGVudGl0aWVzIHJlZmVyZW5jZWQgaW4gdGhlIGNvbXBvc2l0ZSBwcm9iYWJseSBoYXMgYSBkaWZmZXJlbnQgcmVzb2x2ZWQgRW50aXR5TnVtYmVyXG4gICAgICAgICAgICAvLyBXZSdsbCBrbm93IHdpdGggdGhlIG1hcHBlZEVudGl0eWVzXG4gICAgICAgICAgICBpZiAoY29tcG9uZW50RGVmaW5pdGlvbi5jb21wb25lbnRJZCA9PT0gVHJhbnNmb3JtQ29tcG9uZW50TnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gY29tcG9uZW50VmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybS5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLnBhcmVudCA9IGdldENvbXBvc2l0ZUVudGl0eSh0cmFuc2Zvcm0ucGFyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybS5wYXJlbnQgPSBnZXRDb21wb3NpdGVFbnRpdHkoMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRPRE86IGlzIGl0IGdvaW5nIHRvIGJlIG5lY2Vzc2FyeSB0byByZW1hcCBhc3NldHM/IGUuZy4gc3JjIHBhcmFtIGZyb20gQXVkaW9Tb3VyY2UgYW5kIEdsdGZDb250YWluZXJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIFNjaGVtYXMubXV0YXRlTmVzdGVkVmFsdWVzKGNvbXBvbmVudERlZmluaXRpb24uc2NoZW1hLmpzb25TY2hlbWEsIGNvbXBvbmVudFZhbHVlLCAodmFsdWUsIHZhbHVlVHlwZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVUeXBlLnNlcmlhbGl6YXRpb25UeXBlID09PSAnZW50aXR5Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlZDogdHJ1ZSwgdmFsdWU6IGdldENvbXBvc2l0ZUVudGl0eSh2YWx1ZSkgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGNoYW5nZWQ6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBjb21wb3NpdGUgPSBDb21wb3NpdGVSb290Q29tcG9uZW50LmdldE11dGFibGVPck51bGwoY29tcG9zaXRlUm9vdEVudGl0eSkgfHwgQ29tcG9zaXRlUm9vdENvbXBvbmVudC5jcmVhdGUoY29tcG9zaXRlUm9vdEVudGl0eSk7XG4gICAgZm9yIChjb25zdCBbZW50aXR5U291cmNlLCB0YXJnZXRFbnRpdHldIG9mIG1hcHBlZEVudGl0aWVzKSB7XG4gICAgICAgIGNvbXBvc2l0ZS5lbnRpdGllcy5wdXNoKHtcbiAgICAgICAgICAgIHNyYzogZW50aXR5U291cmNlLFxuICAgICAgICAgICAgZGVzdDogdGFyZ2V0RW50aXR5XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb21wb3NpdGUuc3JjID0gY29tcG9zaXRlUmVzb3VyY2Uuc3JjO1xuICAgIHJldHVybiBjb21wb3NpdGVSb290RW50aXR5O1xufVxuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4vZ29vZ2xlL3Byb3RvYnVmL3N0cnVjdC5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlQ29tcG9uZW50RGF0YSgpIHtcbiAgICByZXR1cm4geyBkYXRhOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIENvbXBvbmVudERhdGE7XG4oZnVuY3Rpb24gKENvbXBvbmVudERhdGEpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UuZGF0YT8uJGNhc2UpIHtcbiAgICAgICAgICAgIGNhc2UgXCJqc29uXCI6XG4gICAgICAgICAgICAgICAgVmFsdWUuZW5jb2RlKFZhbHVlLndyYXAobWVzc2FnZS5kYXRhLmpzb24pLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImJpbmFyeVwiOlxuICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTgpLmJ5dGVzKG1lc3NhZ2UuZGF0YS5iaW5hcnkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIENvbXBvbmVudERhdGEuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VDb21wb25lbnREYXRhKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGF0YSA9IHsgJGNhc2U6IFwianNvblwiLCBqc29uOiBWYWx1ZS51bndyYXAoVmFsdWUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kYXRhID0geyAkY2FzZTogXCJiaW5hcnlcIiwgYmluYXJ5OiByZWFkZXIuYnl0ZXMoKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIENvbXBvbmVudERhdGEuZGVjb2RlID0gZGVjb2RlO1xuICAgIGZ1bmN0aW9uIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YTogaXNTZXQob2JqZWN0Lmpzb24pXG4gICAgICAgICAgICAgICAgPyB7ICRjYXNlOiBcImpzb25cIiwganNvbjogb2JqZWN0Lmpzb24gfVxuICAgICAgICAgICAgICAgIDogaXNTZXQob2JqZWN0LmJpbmFyeSlcbiAgICAgICAgICAgICAgICAgICAgPyB7ICRjYXNlOiBcImJpbmFyeVwiLCBiaW5hcnk6IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QuYmluYXJ5KSB9XG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBDb21wb25lbnREYXRhLmZyb21KU09OID0gZnJvbUpTT047XG4gICAgZnVuY3Rpb24gdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UuZGF0YT8uJGNhc2UgPT09IFwianNvblwiICYmIChvYmouanNvbiA9IG1lc3NhZ2UuZGF0YT8uanNvbik7XG4gICAgICAgIG1lc3NhZ2UuZGF0YT8uJGNhc2UgPT09IFwiYmluYXJ5XCIgJiZcbiAgICAgICAgICAgIChvYmouYmluYXJ5ID0gbWVzc2FnZS5kYXRhPy5iaW5hcnkgIT09IHVuZGVmaW5lZCA/IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLmRhdGE/LmJpbmFyeSkgOiB1bmRlZmluZWQpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICBDb21wb25lbnREYXRhLnRvSlNPTiA9IHRvSlNPTjtcbn0pKENvbXBvbmVudERhdGEgfHwgKENvbXBvbmVudERhdGEgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZUNvbXBvc2l0ZUNvbXBvbmVudCgpIHtcbiAgICByZXR1cm4geyBuYW1lOiBcIlwiLCBqc29uU2NoZW1hOiB1bmRlZmluZWQsIGRhdGE6IG5ldyBNYXAoKSB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQ29tcG9zaXRlQ29tcG9uZW50O1xuKGZ1bmN0aW9uIChDb21wb3NpdGVDb21wb25lbnQpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5uYW1lICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5qc29uU2NoZW1hICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZhbHVlLmVuY29kZShWYWx1ZS53cmFwKG1lc3NhZ2UuanNvblNjaGVtYSksIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgbWVzc2FnZS5kYXRhLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgIENvbXBvc2l0ZUNvbXBvbmVudF9EYXRhRW50cnkuZW5jb2RlKHsga2V5OiBrZXksIHZhbHVlIH0sIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBDb21wb3NpdGVDb21wb25lbnQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VDb21wb3NpdGVDb21wb25lbnQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmpzb25TY2hlbWEgPSBWYWx1ZS51bndyYXAoVmFsdWUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5MyA9IENvbXBvc2l0ZUNvbXBvbmVudF9EYXRhRW50cnkuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5My52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRhdGEuc2V0KGVudHJ5My5rZXksIGVudHJ5My52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBDb21wb3NpdGVDb21wb25lbnQuZGVjb2RlID0gZGVjb2RlO1xuICAgIGZ1bmN0aW9uIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogaXNTZXQob2JqZWN0Lm5hbWUpID8gU3RyaW5nKG9iamVjdC5uYW1lKSA6IFwiXCIsXG4gICAgICAgICAgICBqc29uU2NoZW1hOiBpc1NldChvYmplY3Q/Lmpzb25TY2hlbWEpID8gb2JqZWN0Lmpzb25TY2hlbWEgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkYXRhOiBpc09iamVjdChvYmplY3QuZGF0YSlcbiAgICAgICAgICAgICAgICA/IE9iamVjdC5lbnRyaWVzKG9iamVjdC5kYXRhKS5yZWR1Y2UoKGFjYywgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFjYy5zZXQoTnVtYmVyKGtleSksIENvbXBvbmVudERhdGEuZnJvbUpTT04odmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgICAgICB9LCBuZXcgTWFwKCkpXG4gICAgICAgICAgICAgICAgOiBuZXcgTWFwKCksXG4gICAgICAgIH07XG4gICAgfVxuICAgIENvbXBvc2l0ZUNvbXBvbmVudC5mcm9tSlNPTiA9IGZyb21KU09OO1xuICAgIGZ1bmN0aW9uIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLm5hbWUgIT09IHVuZGVmaW5lZCAmJiAob2JqLm5hbWUgPSBtZXNzYWdlLm5hbWUpO1xuICAgICAgICBtZXNzYWdlLmpzb25TY2hlbWEgIT09IHVuZGVmaW5lZCAmJiAob2JqLmpzb25TY2hlbWEgPSBtZXNzYWdlLmpzb25TY2hlbWEpO1xuICAgICAgICBvYmouZGF0YSA9IHt9O1xuICAgICAgICBpZiAobWVzc2FnZS5kYXRhKSB7XG4gICAgICAgICAgICBtZXNzYWdlLmRhdGEuZm9yRWFjaCgodiwgaykgPT4ge1xuICAgICAgICAgICAgICAgIG9iai5kYXRhW2tdID0gQ29tcG9uZW50RGF0YS50b0pTT04odik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICBDb21wb3NpdGVDb21wb25lbnQudG9KU09OID0gdG9KU09OO1xufSkoQ29tcG9zaXRlQ29tcG9uZW50IHx8IChDb21wb3NpdGVDb21wb25lbnQgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZUNvbXBvc2l0ZUNvbXBvbmVudF9EYXRhRW50cnkoKSB7XG4gICAgcmV0dXJuIHsga2V5OiAwLCB2YWx1ZTogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBDb21wb3NpdGVDb21wb25lbnRfRGF0YUVudHJ5O1xuKGZ1bmN0aW9uIChDb21wb3NpdGVDb21wb25lbnRfRGF0YUVudHJ5KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2Uua2V5ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmludDMyKG1lc3NhZ2Uua2V5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb21wb25lbnREYXRhLmVuY29kZShtZXNzYWdlLnZhbHVlLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIENvbXBvc2l0ZUNvbXBvbmVudF9EYXRhRW50cnkuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VDb21wb3NpdGVDb21wb25lbnRfRGF0YUVudHJ5KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5rZXkgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52YWx1ZSA9IENvbXBvbmVudERhdGEuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBDb21wb3NpdGVDb21wb25lbnRfRGF0YUVudHJ5LmRlY29kZSA9IGRlY29kZTtcbiAgICBmdW5jdGlvbiBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleTogaXNTZXQob2JqZWN0LmtleSkgPyBOdW1iZXIob2JqZWN0LmtleSkgOiAwLFxuICAgICAgICAgICAgdmFsdWU6IGlzU2V0KG9iamVjdC52YWx1ZSkgPyBDb21wb25lbnREYXRhLmZyb21KU09OKG9iamVjdC52YWx1ZSkgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIENvbXBvc2l0ZUNvbXBvbmVudF9EYXRhRW50cnkuZnJvbUpTT04gPSBmcm9tSlNPTjtcbiAgICBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5rZXkgIT09IHVuZGVmaW5lZCAmJiAob2JqLmtleSA9IE1hdGgucm91bmQobWVzc2FnZS5rZXkpKTtcbiAgICAgICAgbWVzc2FnZS52YWx1ZSAhPT0gdW5kZWZpbmVkICYmIChvYmoudmFsdWUgPSBtZXNzYWdlLnZhbHVlID8gQ29tcG9uZW50RGF0YS50b0pTT04obWVzc2FnZS52YWx1ZSkgOiB1bmRlZmluZWQpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICBDb21wb3NpdGVDb21wb25lbnRfRGF0YUVudHJ5LnRvSlNPTiA9IHRvSlNPTjtcbn0pKENvbXBvc2l0ZUNvbXBvbmVudF9EYXRhRW50cnkgfHwgKENvbXBvc2l0ZUNvbXBvbmVudF9EYXRhRW50cnkgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZUNvbXBvc2l0ZURlZmluaXRpb24oKSB7XG4gICAgcmV0dXJuIHsgdmVyc2lvbjogMCwgY29tcG9uZW50czogW10gfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIENvbXBvc2l0ZURlZmluaXRpb247XG4oZnVuY3Rpb24gKENvbXBvc2l0ZURlZmluaXRpb24pIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS52ZXJzaW9uICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmludDMyKG1lc3NhZ2UudmVyc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UuY29tcG9uZW50cykge1xuICAgICAgICAgICAgQ29tcG9zaXRlQ29tcG9uZW50LmVuY29kZSh2LCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIENvbXBvc2l0ZURlZmluaXRpb24uZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VDb21wb3NpdGVEZWZpbml0aW9uKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52ZXJzaW9uID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29tcG9uZW50cy5wdXNoKENvbXBvc2l0ZUNvbXBvbmVudC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBDb21wb3NpdGVEZWZpbml0aW9uLmRlY29kZSA9IGRlY29kZTtcbiAgICBmdW5jdGlvbiBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZlcnNpb246IGlzU2V0KG9iamVjdC52ZXJzaW9uKSA/IE51bWJlcihvYmplY3QudmVyc2lvbikgOiAwLFxuICAgICAgICAgICAgY29tcG9uZW50czogQXJyYXkuaXNBcnJheShvYmplY3Q/LmNvbXBvbmVudHMpXG4gICAgICAgICAgICAgICAgPyBvYmplY3QuY29tcG9uZW50cy5tYXAoKGUpID0+IENvbXBvc2l0ZUNvbXBvbmVudC5mcm9tSlNPTihlKSlcbiAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBDb21wb3NpdGVEZWZpbml0aW9uLmZyb21KU09OID0gZnJvbUpTT047XG4gICAgZnVuY3Rpb24gdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UudmVyc2lvbiAhPT0gdW5kZWZpbmVkICYmIChvYmoudmVyc2lvbiA9IE1hdGgucm91bmQobWVzc2FnZS52ZXJzaW9uKSk7XG4gICAgICAgIGlmIChtZXNzYWdlLmNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIG9iai5jb21wb25lbnRzID0gbWVzc2FnZS5jb21wb25lbnRzLm1hcCgoZSkgPT4gZSA/IENvbXBvc2l0ZUNvbXBvbmVudC50b0pTT04oZSkgOiB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JqLmNvbXBvbmVudHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICBDb21wb3NpdGVEZWZpbml0aW9uLnRvSlNPTiA9IHRvSlNPTjtcbn0pKENvbXBvc2l0ZURlZmluaXRpb24gfHwgKENvbXBvc2l0ZURlZmluaXRpb24gPSB7fSkpO1xuY29uc3QgdHNQcm90b0dsb2JhbFRoaXMgPSAoKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gZ2xvYmFsVGhpcztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gd2luZG93O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gZ2xvYmFsO1xuICAgIH1cbiAgICB0aHJvdyBcIlVuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdFwiO1xufSkoKTtcbmZ1bmN0aW9uIGJ5dGVzRnJvbUJhc2U2NChiNjQpIHtcbiAgICBpZiAodHNQcm90b0dsb2JhbFRoaXMuQnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LmZyb20odHNQcm90b0dsb2JhbFRoaXMuQnVmZmVyLmZyb20oYjY0LCBcImJhc2U2NFwiKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBiaW4gPSB0c1Byb3RvR2xvYmFsVGhpcy5hdG9iKGI2NCk7XG4gICAgICAgIGNvbnN0IGFyciA9IG5ldyBVaW50OEFycmF5KGJpbi5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgYXJyW2ldID0gYmluLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9XG59XG5mdW5jdGlvbiBiYXNlNjRGcm9tQnl0ZXMoYXJyKSB7XG4gICAgaWYgKHRzUHJvdG9HbG9iYWxUaGlzLkJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gdHNQcm90b0dsb2JhbFRoaXMuQnVmZmVyLmZyb20oYXJyKS50b1N0cmluZyhcImJhc2U2NFwiKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGJpbiA9IFtdO1xuICAgICAgICBhcnIuZm9yRWFjaCgoYnl0ZSkgPT4ge1xuICAgICAgICAgICAgYmluLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShieXRlKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHNQcm90b0dsb2JhbFRoaXMuYnRvYShiaW4uam9pbihcIlwiKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsO1xufVxuZnVuY3Rpb24gaXNTZXQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbn1cbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImdvb2dsZS5wcm90b2J1ZlwiO1xuLyoqXG4gKiBgTnVsbFZhbHVlYCBpcyBhIHNpbmdsZXRvbiBlbnVtZXJhdGlvbiB0byByZXByZXNlbnQgdGhlIG51bGwgdmFsdWUgZm9yIHRoZVxuICogYFZhbHVlYCB0eXBlIHVuaW9uLlxuICpcbiAqICBUaGUgSlNPTiByZXByZXNlbnRhdGlvbiBmb3IgYE51bGxWYWx1ZWAgaXMgSlNPTiBgbnVsbGAuXG4gKi9cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIE51bGxWYWx1ZTtcbihmdW5jdGlvbiAoTnVsbFZhbHVlKSB7XG4gICAgLyoqIE5VTExfVkFMVUUgLSBOdWxsIHZhbHVlLiAqL1xuICAgIE51bGxWYWx1ZVtOdWxsVmFsdWVbXCJOVUxMX1ZBTFVFXCJdID0gMF0gPSBcIk5VTExfVkFMVUVcIjtcbn0pKE51bGxWYWx1ZSB8fCAoTnVsbFZhbHVlID0ge30pKTtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gbnVsbFZhbHVlRnJvbUpTT04ob2JqZWN0KSB7XG4gICAgc3dpdGNoIChvYmplY3QpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIFwiTlVMTF9WQUxVRVwiOlxuICAgICAgICAgICAgcmV0dXJuIDAgLyogTnVsbFZhbHVlLk5VTExfVkFMVUUgKi87XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgdHNQcm90b0dsb2JhbFRoaXMuRXJyb3IoXCJVbnJlY29nbml6ZWQgZW51bSB2YWx1ZSBcIiArIG9iamVjdCArIFwiIGZvciBlbnVtIE51bGxWYWx1ZVwiKTtcbiAgICB9XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG51bGxWYWx1ZVRvSlNPTihvYmplY3QpIHtcbiAgICBzd2l0Y2ggKG9iamVjdCkge1xuICAgICAgICBjYXNlIDAgLyogTnVsbFZhbHVlLk5VTExfVkFMVUUgKi86XG4gICAgICAgICAgICByZXR1cm4gXCJOVUxMX1ZBTFVFXCI7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgdHNQcm90b0dsb2JhbFRoaXMuRXJyb3IoXCJVbnJlY29nbml6ZWQgZW51bSB2YWx1ZSBcIiArIG9iamVjdCArIFwiIGZvciBlbnVtIE51bGxWYWx1ZVwiKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVCYXNlU3RydWN0KCkge1xuICAgIHJldHVybiB7IGZpZWxkczogbmV3IE1hcCgpIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBTdHJ1Y3Q7XG4oZnVuY3Rpb24gKFN0cnVjdCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIG1lc3NhZ2UuZmllbGRzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgU3RydWN0X0ZpZWxkc0VudHJ5LmVuY29kZSh7IGtleToga2V5LCB2YWx1ZSB9LCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgU3RydWN0LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU3RydWN0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5MSA9IFN0cnVjdF9GaWVsZHNFbnRyeS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkxLnZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZmllbGRzLnNldChlbnRyeTEua2V5LCBlbnRyeTEudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgU3RydWN0LmRlY29kZSA9IGRlY29kZTtcbiAgICBmdW5jdGlvbiBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpZWxkczogaXNPYmplY3Qob2JqZWN0LmZpZWxkcylcbiAgICAgICAgICAgICAgICA/IE9iamVjdC5lbnRyaWVzKG9iamVjdC5maWVsZHMpLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgICAgICB9LCBuZXcgTWFwKCkpXG4gICAgICAgICAgICAgICAgOiBuZXcgTWFwKCksXG4gICAgICAgIH07XG4gICAgfVxuICAgIFN0cnVjdC5mcm9tSlNPTiA9IGZyb21KU09OO1xuICAgIGZ1bmN0aW9uIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBvYmouZmllbGRzID0ge307XG4gICAgICAgIGlmIChtZXNzYWdlLmZpZWxkcykge1xuICAgICAgICAgICAgbWVzc2FnZS5maWVsZHMuZm9yRWFjaCgodiwgaykgPT4ge1xuICAgICAgICAgICAgICAgIG9iai5maWVsZHNba10gPSB2O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgU3RydWN0LnRvSlNPTiA9IHRvSlNPTjtcbiAgICBmdW5jdGlvbiB3cmFwKG9iamVjdCkge1xuICAgICAgICBjb25zdCBzdHJ1Y3QgPSBjcmVhdGVCYXNlU3RydWN0KCk7XG4gICAgICAgIGlmIChvYmplY3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMob2JqZWN0KS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBzdHJ1Y3QuZmllbGRzLnNldChrZXksIG9iamVjdFtrZXldKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJ1Y3Q7XG4gICAgfVxuICAgIFN0cnVjdC53cmFwID0gd3JhcDtcbiAgICBmdW5jdGlvbiB1bndyYXAobWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmplY3QgPSB7fTtcbiAgICAgICAgWy4uLm1lc3NhZ2UuZmllbGRzLmtleXMoKV0uZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBvYmplY3Rba2V5XSA9IG1lc3NhZ2UuZmllbGRzLmdldChrZXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG4gICAgU3RydWN0LnVud3JhcCA9IHVud3JhcDtcbn0pKFN0cnVjdCB8fCAoU3RydWN0ID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VTdHJ1Y3RfRmllbGRzRW50cnkoKSB7XG4gICAgcmV0dXJuIHsga2V5OiBcIlwiLCB2YWx1ZTogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBTdHJ1Y3RfRmllbGRzRW50cnk7XG4oZnVuY3Rpb24gKFN0cnVjdF9GaWVsZHNFbnRyeSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmtleSAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2Uua2V5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWYWx1ZS5lbmNvZGUoVmFsdWUud3JhcChtZXNzYWdlLnZhbHVlKSwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBTdHJ1Y3RfRmllbGRzRW50cnkuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTdHJ1Y3RfRmllbGRzRW50cnkoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5rZXkgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmFsdWUgPSBWYWx1ZS51bndyYXAoVmFsdWUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgU3RydWN0X0ZpZWxkc0VudHJ5LmRlY29kZSA9IGRlY29kZTtcbiAgICBmdW5jdGlvbiBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHsga2V5OiBpc1NldChvYmplY3Qua2V5KSA/IFN0cmluZyhvYmplY3Qua2V5KSA6IFwiXCIsIHZhbHVlOiBpc1NldChvYmplY3Q/LnZhbHVlKSA/IG9iamVjdC52YWx1ZSA6IHVuZGVmaW5lZCB9O1xuICAgIH1cbiAgICBTdHJ1Y3RfRmllbGRzRW50cnkuZnJvbUpTT04gPSBmcm9tSlNPTjtcbiAgICBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5rZXkgIT09IHVuZGVmaW5lZCAmJiAob2JqLmtleSA9IG1lc3NhZ2Uua2V5KTtcbiAgICAgICAgbWVzc2FnZS52YWx1ZSAhPT0gdW5kZWZpbmVkICYmIChvYmoudmFsdWUgPSBtZXNzYWdlLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgU3RydWN0X0ZpZWxkc0VudHJ5LnRvSlNPTiA9IHRvSlNPTjtcbn0pKFN0cnVjdF9GaWVsZHNFbnRyeSB8fCAoU3RydWN0X0ZpZWxkc0VudHJ5ID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VWYWx1ZSgpIHtcbiAgICByZXR1cm4geyBraW5kOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFZhbHVlO1xuKGZ1bmN0aW9uIChWYWx1ZSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5raW5kPy4kY2FzZSkge1xuICAgICAgICAgICAgY2FzZSBcIm51bGxWYWx1ZVwiOlxuICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS5raW5kLm51bGxWYWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyVmFsdWVcIjpcbiAgICAgICAgICAgICAgICB3cml0ZXIudWludDMyKDE3KS5kb3VibGUobWVzc2FnZS5raW5kLm51bWJlclZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdWYWx1ZVwiOlxuICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjYpLnN0cmluZyhtZXNzYWdlLmtpbmQuc3RyaW5nVmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImJvb2xWYWx1ZVwiOlxuICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzIpLmJvb2wobWVzc2FnZS5raW5kLmJvb2xWYWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic3RydWN0VmFsdWVcIjpcbiAgICAgICAgICAgICAgICBTdHJ1Y3QuZW5jb2RlKFN0cnVjdC53cmFwKG1lc3NhZ2Uua2luZC5zdHJ1Y3RWYWx1ZSksIHdyaXRlci51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibGlzdFZhbHVlXCI6XG4gICAgICAgICAgICAgICAgTGlzdFZhbHVlLmVuY29kZShMaXN0VmFsdWUud3JhcChtZXNzYWdlLmtpbmQubGlzdFZhbHVlKSwgd3JpdGVyLnVpbnQzMig1MCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBWYWx1ZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVZhbHVlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5raW5kID0geyAkY2FzZTogXCJudWxsVmFsdWVcIiwgbnVsbFZhbHVlOiByZWFkZXIuaW50MzIoKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmtpbmQgPSB7ICRjYXNlOiBcIm51bWJlclZhbHVlXCIsIG51bWJlclZhbHVlOiByZWFkZXIuZG91YmxlKCkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5raW5kID0geyAkY2FzZTogXCJzdHJpbmdWYWx1ZVwiLCBzdHJpbmdWYWx1ZTogcmVhZGVyLnN0cmluZygpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uua2luZCA9IHsgJGNhc2U6IFwiYm9vbFZhbHVlXCIsIGJvb2xWYWx1ZTogcmVhZGVyLmJvb2woKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmtpbmQgPSB7ICRjYXNlOiBcInN0cnVjdFZhbHVlXCIsIHN0cnVjdFZhbHVlOiBTdHJ1Y3QudW53cmFwKFN0cnVjdC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDUwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmtpbmQgPSB7ICRjYXNlOiBcImxpc3RWYWx1ZVwiLCBsaXN0VmFsdWU6IExpc3RWYWx1ZS51bndyYXAoTGlzdFZhbHVlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgVmFsdWUuZGVjb2RlID0gZGVjb2RlO1xuICAgIGZ1bmN0aW9uIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2luZDogaXNTZXQob2JqZWN0Lm51bGxWYWx1ZSlcbiAgICAgICAgICAgICAgICA/IHsgJGNhc2U6IFwibnVsbFZhbHVlXCIsIG51bGxWYWx1ZTogbnVsbFZhbHVlRnJvbUpTT04ob2JqZWN0Lm51bGxWYWx1ZSkgfVxuICAgICAgICAgICAgICAgIDogaXNTZXQob2JqZWN0Lm51bWJlclZhbHVlKVxuICAgICAgICAgICAgICAgICAgICA/IHsgJGNhc2U6IFwibnVtYmVyVmFsdWVcIiwgbnVtYmVyVmFsdWU6IE51bWJlcihvYmplY3QubnVtYmVyVmFsdWUpIH1cbiAgICAgICAgICAgICAgICAgICAgOiBpc1NldChvYmplY3Quc3RyaW5nVmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHsgJGNhc2U6IFwic3RyaW5nVmFsdWVcIiwgc3RyaW5nVmFsdWU6IFN0cmluZyhvYmplY3Quc3RyaW5nVmFsdWUpIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDogaXNTZXQob2JqZWN0LmJvb2xWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHsgJGNhc2U6IFwiYm9vbFZhbHVlXCIsIGJvb2xWYWx1ZTogQm9vbGVhbihvYmplY3QuYm9vbFZhbHVlKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpc1NldChvYmplY3Quc3RydWN0VmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geyAkY2FzZTogXCJzdHJ1Y3RWYWx1ZVwiLCBzdHJ1Y3RWYWx1ZTogb2JqZWN0LnN0cnVjdFZhbHVlIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpc1NldChvYmplY3QubGlzdFZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7ICRjYXNlOiBcImxpc3RWYWx1ZVwiLCBsaXN0VmFsdWU6IFsuLi5vYmplY3QubGlzdFZhbHVlXSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgVmFsdWUuZnJvbUpTT04gPSBmcm9tSlNPTjtcbiAgICBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5raW5kPy4kY2FzZSA9PT0gXCJudWxsVmFsdWVcIiAmJlxuICAgICAgICAgICAgKG9iai5udWxsVmFsdWUgPSBtZXNzYWdlLmtpbmQ/Lm51bGxWYWx1ZSAhPT0gdW5kZWZpbmVkID8gbnVsbFZhbHVlVG9KU09OKG1lc3NhZ2Uua2luZD8ubnVsbFZhbHVlKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2Uua2luZD8uJGNhc2UgPT09IFwibnVtYmVyVmFsdWVcIiAmJiAob2JqLm51bWJlclZhbHVlID0gbWVzc2FnZS5raW5kPy5udW1iZXJWYWx1ZSk7XG4gICAgICAgIG1lc3NhZ2Uua2luZD8uJGNhc2UgPT09IFwic3RyaW5nVmFsdWVcIiAmJiAob2JqLnN0cmluZ1ZhbHVlID0gbWVzc2FnZS5raW5kPy5zdHJpbmdWYWx1ZSk7XG4gICAgICAgIG1lc3NhZ2Uua2luZD8uJGNhc2UgPT09IFwiYm9vbFZhbHVlXCIgJiYgKG9iai5ib29sVmFsdWUgPSBtZXNzYWdlLmtpbmQ/LmJvb2xWYWx1ZSk7XG4gICAgICAgIG1lc3NhZ2Uua2luZD8uJGNhc2UgPT09IFwic3RydWN0VmFsdWVcIiAmJiAob2JqLnN0cnVjdFZhbHVlID0gbWVzc2FnZS5raW5kPy5zdHJ1Y3RWYWx1ZSk7XG4gICAgICAgIG1lc3NhZ2Uua2luZD8uJGNhc2UgPT09IFwibGlzdFZhbHVlXCIgJiYgKG9iai5saXN0VmFsdWUgPSBtZXNzYWdlLmtpbmQ/Lmxpc3RWYWx1ZSk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIFZhbHVlLnRvSlNPTiA9IHRvSlNPTjtcbiAgICBmdW5jdGlvbiB3cmFwKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZUJhc2VWYWx1ZSgpO1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlc3VsdC5raW5kID0geyAkY2FzZTogXCJudWxsVmFsdWVcIiwgbnVsbFZhbHVlOiAwIC8qIE51bGxWYWx1ZS5OVUxMX1ZBTFVFICovIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgcmVzdWx0LmtpbmQgPSB7ICRjYXNlOiBcImJvb2xWYWx1ZVwiLCBib29sVmFsdWU6IHZhbHVlIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICByZXN1bHQua2luZCA9IHsgJGNhc2U6IFwibnVtYmVyVmFsdWVcIiwgbnVtYmVyVmFsdWU6IHZhbHVlIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXN1bHQua2luZCA9IHsgJGNhc2U6IFwic3RyaW5nVmFsdWVcIiwgc3RyaW5nVmFsdWU6IHZhbHVlIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5raW5kID0geyAkY2FzZTogXCJsaXN0VmFsdWVcIiwgbGlzdFZhbHVlOiB2YWx1ZSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgcmVzdWx0LmtpbmQgPSB7ICRjYXNlOiBcInN0cnVjdFZhbHVlXCIsIHN0cnVjdFZhbHVlOiB2YWx1ZSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgYW55IHZhbHVlIHR5cGU6IFwiICsgdHlwZW9mIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBWYWx1ZS53cmFwID0gd3JhcDtcbiAgICBmdW5jdGlvbiB1bndyYXAobWVzc2FnZSkge1xuICAgICAgICBpZiAobWVzc2FnZS5raW5kPy4kY2FzZSA9PT0gXCJudWxsVmFsdWVcIikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWVzc2FnZS5raW5kPy4kY2FzZSA9PT0gXCJudW1iZXJWYWx1ZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZS5raW5kPy5udW1iZXJWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtZXNzYWdlLmtpbmQ/LiRjYXNlID09PSBcInN0cmluZ1ZhbHVlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlLmtpbmQ/LnN0cmluZ1ZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1lc3NhZ2Uua2luZD8uJGNhc2UgPT09IFwiYm9vbFZhbHVlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlLmtpbmQ/LmJvb2xWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtZXNzYWdlLmtpbmQ/LiRjYXNlID09PSBcInN0cnVjdFZhbHVlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlLmtpbmQ/LnN0cnVjdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1lc3NhZ2Uua2luZD8uJGNhc2UgPT09IFwibGlzdFZhbHVlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlLmtpbmQ/Lmxpc3RWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgVmFsdWUudW53cmFwID0gdW53cmFwO1xufSkoVmFsdWUgfHwgKFZhbHVlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VMaXN0VmFsdWUoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWVzOiBbXSB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgTGlzdFZhbHVlO1xuKGZ1bmN0aW9uIChMaXN0VmFsdWUpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS52YWx1ZXMpIHtcbiAgICAgICAgICAgIFZhbHVlLmVuY29kZShWYWx1ZS53cmFwKHYpLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIExpc3RWYWx1ZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUxpc3RWYWx1ZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZhbHVlcy5wdXNoKFZhbHVlLnVud3JhcChWYWx1ZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgTGlzdFZhbHVlLmRlY29kZSA9IGRlY29kZTtcbiAgICBmdW5jdGlvbiBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsdWVzOiBBcnJheS5pc0FycmF5KG9iamVjdD8udmFsdWVzKSA/IFsuLi5vYmplY3QudmFsdWVzXSA6IFtdIH07XG4gICAgfVxuICAgIExpc3RWYWx1ZS5mcm9tSlNPTiA9IGZyb21KU09OO1xuICAgIGZ1bmN0aW9uIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBpZiAobWVzc2FnZS52YWx1ZXMpIHtcbiAgICAgICAgICAgIG9iai52YWx1ZXMgPSBtZXNzYWdlLnZhbHVlcy5tYXAoKGUpID0+IGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JqLnZhbHVlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIExpc3RWYWx1ZS50b0pTT04gPSB0b0pTT047XG4gICAgZnVuY3Rpb24gd3JhcChhcnJheSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGVCYXNlTGlzdFZhbHVlKCk7XG4gICAgICAgIHJlc3VsdC52YWx1ZXMgPSBhcnJheSA/PyBbXTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgTGlzdFZhbHVlLndyYXAgPSB3cmFwO1xuICAgIGZ1bmN0aW9uIHVud3JhcChtZXNzYWdlKSB7XG4gICAgICAgIGlmIChtZXNzYWdlPy5oYXNPd25Qcm9wZXJ0eShcInZhbHVlc1wiKSAmJiBBcnJheS5pc0FycmF5KG1lc3NhZ2UudmFsdWVzKSkge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2UudmFsdWVzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgTGlzdFZhbHVlLnVud3JhcCA9IHVud3JhcDtcbn0pKExpc3RWYWx1ZSB8fCAoTGlzdFZhbHVlID0ge30pKTtcbmNvbnN0IHRzUHJvdG9HbG9iYWxUaGlzID0gKCgpID0+IHtcbiAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbFRoaXM7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbDtcbiAgICB9XG4gICAgdGhyb3cgXCJVbmFibGUgdG8gbG9jYXRlIGdsb2JhbCBvYmplY3RcIjtcbn0pKCk7XG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGw7XG59XG5mdW5jdGlvbiBpc1NldCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuIiwgImltcG9ydCB7IGdldENvbXBvc2l0ZVJvb3RDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgRW50aXR5TWFwcGluZ01vZGUsIGluc3RhbmNlQ29tcG9zaXRlIH0gZnJvbSAnLi9pbnN0YW5jZSc7XG5pbXBvcnQgeyByZXNvbHZlQ29tcG9zaXRlIH0gZnJvbSAnLi9wYXRoJztcbmltcG9ydCB7IENvbXBvc2l0ZURlZmluaXRpb24gfSBmcm9tICcuL3Byb3RvL2dlbi9jb21wb3NpdGUuZ2VuJztcbmV4cG9ydCB7IEVudGl0eU1hcHBpbmdNb2RlIH07XG5leHBvcnQgeyBnZXRDb21wb3NpdGVSb290Q29tcG9uZW50IH07XG4vKipcbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIGNvbXBvc2l0ZSBpcyBub3QgYmVpbmcgc3VwcG9ydGVkIHNvIGZhciwgcGxlYXNlIGRvIG5vdCB1c2UgdGhpcyBmZWF0dXJlXG4gKi9cbmV4cG9ydCB2YXIgQ29tcG9zaXRlO1xuKGZ1bmN0aW9uIChDb21wb3NpdGUpIHtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIGZ1bmN0aW9uIGZyb21Kc29uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gQ29tcG9zaXRlRGVmaW5pdGlvbi5mcm9tSlNPTihvYmplY3QpO1xuICAgIH1cbiAgICBDb21wb3NpdGUuZnJvbUpzb24gPSBmcm9tSnNvbjtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIGZ1bmN0aW9uIGZyb21CaW5hcnkoYnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBDb21wb3NpdGVEZWZpbml0aW9uLmRlY29kZShidWZmZXIpO1xuICAgIH1cbiAgICBDb21wb3NpdGUuZnJvbUJpbmFyeSA9IGZyb21CaW5hcnk7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBmdW5jdGlvbiB0b0pzb24oY29tcG9zaXRlKSB7XG4gICAgICAgIHJldHVybiBDb21wb3NpdGVEZWZpbml0aW9uLnRvSlNPTihjb21wb3NpdGUpO1xuICAgIH1cbiAgICBDb21wb3NpdGUudG9Kc29uID0gdG9Kc29uO1xuICAgIC8qKiBAcHVibGljICovXG4gICAgZnVuY3Rpb24gdG9CaW5hcnkoY29tcG9zaXRlKSB7XG4gICAgICAgIHJldHVybiBDb21wb3NpdGVEZWZpbml0aW9uLmVuY29kZShjb21wb3NpdGUpLmZpbmlzaCgpO1xuICAgIH1cbiAgICBDb21wb3NpdGUudG9CaW5hcnkgPSB0b0JpbmFyeTtcbiAgICAvKipcbiAgICAgKiBJbnN0YW5jZSBhIGNvbXBvc2l0ZSBhbmQgcmV0dXJucyBpdHMgcm9vdCBlbnRpdHlcbiAgICAgKiBAcGFyYW0gY29tcG9zaXRlRGF0YSAtIHN0YXRlIHNlcmlhbGl6ZWQgYnkgdGhlIENSRFQgcHJvdG9jb2xcbiAgICAgKiBAcGFyYW0gZ2V0TmV4dEF2YWlsYWJsZUVudGl0eSAtIGZ1bmN0aW9uIHRoYXQgZ2l2ZXMgdW51c2VkIGVudGl0aWVzXG4gICAgICogQHBhcmFtIHJvb3RFbnRpdHkgLSAob3B0aW9uYWwpIHN1Z2dlc3RlZCBtYXBwZWQgcm9vdEVudGl0eSBmb3IgdGhlIGNvbXBvc2l0ZVxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIC8qI19fUFVSRV9fKi8gZnVuY3Rpb24gaW5zdGFuY2UoZW5naW5lLCBjb21wb3NpdGVEYXRhLCBjb21wb3NpdGVQcm92aWRlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGluc3RhbmNlQ29tcG9zaXRlKGVuZ2luZSwgY29tcG9zaXRlRGF0YSwgY29tcG9zaXRlUHJvdmlkZXIsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBDb21wb3NpdGUuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAvKipcbiAgICAgKiBSZXNvbHZlIGFuZCBub3JtYWxpemUgYSBjb21wb3NpdGUgcGF0aFxuICAgICAqIEBwYXJhbSBzcmMgLSB0aGUgc291cmNlIHBhdGhcbiAgICAgKiBAcGFyYW0gY3dkIC0gdGhlIGRpcmVjdG9yeSBmcm9tIHRoZSByZXNvbHZlIHNob3VsZCBzdGFydCB0byByZXNvbHZlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0aGUgYWJzb2x1dGUgcmVzb2x2ZWQgcGF0aCB3aXRob3V0IHNsYXNoIGF0IHRoZSBiZWdpbm5pbmdcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgLyojX19QVVJFX18qLyBmdW5jdGlvbiByZXNvbHZlQW5kTm9ybWFsaXplUGF0aChzcmMsIGN3ZCA9ICcvJykge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZUNvbXBvc2l0ZShzcmMsIGN3ZCk7XG4gICAgfVxuICAgIENvbXBvc2l0ZS5yZXNvbHZlQW5kTm9ybWFsaXplUGF0aCA9IHJlc29sdmVBbmROb3JtYWxpemVQYXRoO1xufSkoQ29tcG9zaXRlIHx8IChDb21wb3NpdGUgPSB7fSkpO1xuIiwgIi8vIFRoZSBvcmRlciBvZiB0aGUgZm9sbG93aW5nIGltcG9ydHMgbWF0dGVycy4gUGxlYXNlIGRvIG5vdCBhdXRvLXNvcnRcbmV4cG9ydCAqIGZyb20gJy4vZW5naW5lJztcbmV4cG9ydCAqIGZyb20gJy4vc2NoZW1hcyc7XG5leHBvcnQgKiBmcm9tICcuL3J1bnRpbWUvaW5pdGlhbGl6YXRpb24nO1xuZXhwb3J0ICogZnJvbSAnLi9ydW50aW1lL3R5cGVzJztcbmV4cG9ydCAqIGZyb20gJy4vcnVudGltZS9oZWxwZXJzJztcbmV4cG9ydCB7IGN5Y2xpY1BhcmVudGluZ0NoZWNrZXIgfSBmcm9tICcuL3N5c3RlbXMvY3ljbGljUGFyZW50aW5nQ2hlY2tlcic7XG5leHBvcnQgKiBmcm9tICcuL3N5c3RlbXMvZXZlbnRzJztcbmV4cG9ydCAqIGZyb20gJy4vc3lzdGVtcy9yYXljYXN0JztcbmV4cG9ydCAqIGZyb20gJy4vc3lzdGVtcy92aWRlb0V2ZW50cyc7XG5leHBvcnQgKiBmcm9tICcuL3N5c3RlbXMvYXN5bmMtdGFzayc7XG5leHBvcnQgKiBmcm9tICcuL3N5c3RlbXMvdHdlZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9zeXN0ZW1zL3RyaWdnZXJBcmVhJztcbmV4cG9ydCAqIGZyb20gJy4vZW5naW5lL2VudGl0eSc7XG5leHBvcnQgKiBmcm9tICcuL2NvbXBvbmVudHMvdHlwZXMnO1xuLy8gQGludGVybmFsXG5pbXBvcnQgKiBhcyBjb21wb25lbnRzIGZyb20gJy4vY29tcG9uZW50cyc7XG4vLyBAaW50ZXJuYWxcbmV4cG9ydCB7IGNvbXBvbmVudHMgfTtcbmltcG9ydCB7IGVuZ2luZSB9IGZyb20gJy4vcnVudGltZS9pbml0aWFsaXphdGlvbic7XG4vLyBleHBvcnQgY29tcG9uZW50cyBmb3IgZ2xvYmFsIGVuZ2luZVxuZXhwb3J0IGNvbnN0IFRyYW5zZm9ybSA9IC8qIEBfX1BVUkVfXyovIGNvbXBvbmVudHMuVHJhbnNmb3JtKGVuZ2luZSk7XG5leHBvcnQgY29uc3QgQW5pbWF0b3IgPSAvKiBAX19QVVJFX18qLyBjb21wb25lbnRzLkFuaW1hdG9yKGVuZ2luZSk7XG5leHBvcnQgY29uc3QgQXVkaW9Tb3VyY2UgPSAvKiBAX19QVVJFX18qLyBjb21wb25lbnRzLkF1ZGlvU291cmNlKGVuZ2luZSk7XG5leHBvcnQgY29uc3QgQXVkaW9TdHJlYW0gPSAvKiBAX19QVVJFX18qLyBjb21wb25lbnRzLkF1ZGlvU3RyZWFtKGVuZ2luZSk7XG5leHBvcnQgY29uc3QgTWF0ZXJpYWwgPSAvKiBAX19QVVJFX18qLyBjb21wb25lbnRzLk1hdGVyaWFsKGVuZ2luZSk7XG5leHBvcnQgY29uc3QgTWVzaFJlbmRlcmVyID0gLyogQF9fUFVSRV9fKi8gY29tcG9uZW50cy5NZXNoUmVuZGVyZXIoZW5naW5lKTtcbmV4cG9ydCBjb25zdCBNZXNoQ29sbGlkZXIgPSAvKiBAX19QVVJFX18qLyBjb21wb25lbnRzLk1lc2hDb2xsaWRlcihlbmdpbmUpO1xuZXhwb3J0IGNvbnN0IE5hbWUgPSBjb21wb25lbnRzLk5hbWUoZW5naW5lKTtcbmV4cG9ydCBjb25zdCBUYWdzID0gY29tcG9uZW50cy5UYWdzKGVuZ2luZSk7XG5leHBvcnQgY29uc3QgVHdlZW4gPSAvKiBAX19QVVJFX18qLyBjb21wb25lbnRzLlR3ZWVuKGVuZ2luZSk7XG5leHBvcnQgY29uc3QgVmlydHVhbENhbWVyYSA9IC8qIEBfX1BVUkVfXyovIGNvbXBvbmVudHMuVmlydHVhbENhbWVyYShlbmdpbmUpO1xuZXhwb3J0IGNvbnN0IElucHV0TW9kaWZpZXIgPSAvKiBAX19QVVJFX18qLyBjb21wb25lbnRzLklucHV0TW9kaWZpZXIoZW5naW5lKTtcbmV4cG9ydCBjb25zdCBMaWdodFNvdXJjZSA9IC8qIEBfX1BVUkVfXyovIGNvbXBvbmVudHMuTGlnaHRTb3VyY2UoZW5naW5lKTtcbmV4cG9ydCBjb25zdCBUcmlnZ2VyQXJlYSA9IC8qIEBfX1BVUkVfXyovIGNvbXBvbmVudHMuVHJpZ2dlckFyZWEoZW5naW5lKTtcbi8qKlxuICogQGFscGhhXG4gKiBUaGlzIGlzIGdvaW5nIHRvIGJlIHVzZWQgZm9yIHN5bmMgY29tcG9uZW50cyB0aHJvdWdoIGEgc2VydmVyLlxuICogQ2FuIGJlIG1vZGlmaWVkIGluIHRoZSBmdXR1cmUgc2luY2UgaXQncyBzdGlsbCBpbiByZXNlYXJjaFxuICovXG5leHBvcnQgY29uc3QgU3luY0NvbXBvbmVudHMgPSAvKiBAX19QVVJFX18qLyBjb21wb25lbnRzLlN5bmNDb21wb25lbnRzKGVuZ2luZSk7XG4vKipcbiAqIEBhbHBoYVxuICogVGFnIGEgZW50aXR5IHRvIGJlIHN5bmNyb25pemVkIHRocm91Z2ggY29tbXNcbiAqL1xuZXhwb3J0IGNvbnN0IE5ldHdvcmtFbnRpdHkgPSAvKiBAX19QVVJFX18qLyBjb21wb25lbnRzLk5ldHdvcmtFbnRpdHkoZW5naW5lKTtcbi8qKlxuICogQGFscGhhXG4gKiBUYWcgYSBlbnRpdHkgdG8gYmUgc3luY3Jvbml6ZWQgdGhyb3VnaCBjb21tc1xuICovXG5leHBvcnQgY29uc3QgTmV0d29ya1BhcmVudCA9IC8qIEBfX1BVUkVfXyovIGNvbXBvbmVudHMuTmV0d29ya1BhcmVudChlbmdpbmUpO1xuLy8gZXhwb3J0IGNvbXBvbmVudHMgZm9yIGdsb2JhbCBlbmdpbmVcbmV4cG9ydCAqIGZyb20gJy4vY29tcG9uZW50cy9nZW5lcmF0ZWQvZ2xvYmFsLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL2NvbXBvbmVudHMvZ2VuZXJhdGVkL3R5cGVzLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3NlcmlhbGl6YXRpb24vY3JkdCc7XG5leHBvcnQgKiBmcm9tICcuL2NvbXBvc2l0ZSc7XG4iLCAiLyoqXG4gKiBDb25zdGFudCB1c2VkIHRvIGNvbnZlcnQgYSB2YWx1ZSB0byBnYW1tYSBzcGFjZVxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgVG9HYW1tYVNwYWNlID0gMSAvIDIuMjtcbi8qKlxuICogQ29uc3RhbnQgdXNlZCB0byBjb252ZXJ0IGEgdmFsdWUgdG8gbGluZWFyIHNwYWNlXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBUb0xpbmVhclNwYWNlID0gMi4yO1xuLyoqXG4gKiBDb25zdGFudCB1c2VkIHRvIGRlZmluZSB0aGUgbWluaW1hbCBudW1iZXIgdmFsdWUgaW4gQmFieWxvbi5qc1xuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgRXBzaWxvbiA9IDAuMDAwMDAxO1xuLyoqXG4gKiBDb25zdGFudCB1c2VkIHRvIGNvbnZlcnQgZnJvbSBFdWxlciBkZWdyZWVzIHRvIHJhZGlhbnNcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IERFRzJSQUQgPSBNYXRoLlBJIC8gMTgwO1xuLyoqXG4gKiBDb25zdGFudCB1c2VkIHRvIGNvbnZlcnQgZnJvbSByYWRpYW5zIHRvIEV1bGVyIGRlZ3JlZXNcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IFJBRDJERUcgPSAzNjAgLyAoTWF0aC5QSSAqIDIpO1xuIiwgIi8qKlxuICogU2NhbGFyIGNvbXB1dGF0aW9uIGxpYnJhcnlcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBTY2FsYXI7XG4oZnVuY3Rpb24gKFNjYWxhcikge1xuICAgIC8qKlxuICAgICAqIFR3byBwaSBjb25zdGFudHMgY29udmVuaWVudCBmb3IgY29tcHV0YXRpb24uXG4gICAgICovXG4gICAgU2NhbGFyLlR3b1BpID0gTWF0aC5QSSAqIDI7XG4gICAgLyoqXG4gICAgICogQm9vbGVhbiA6IHRydWUgaWYgdGhlIGFic29sdXRlIGRpZmZlcmVuY2UgYmV0d2VlbiBhIGFuZCBiIGlzIGxvd2VyIHRoYW4gZXBzaWxvbiAoZGVmYXVsdCA9IDEuNDAxMjk4RS00NSlcbiAgICAgKiBAcGFyYW0gYSAtIG51bWJlclxuICAgICAqIEBwYXJhbSBiIC0gbnVtYmVyXG4gICAgICogQHBhcmFtIGVwc2lsb24gLSAoZGVmYXVsdCA9IDEuNDAxMjk4RS00NSlcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBhYnNvbHV0ZSBkaWZmZXJlbmNlIGJldHdlZW4gYSBhbmQgYiBpcyBsb3dlciB0aGFuIGVwc2lsb24gKGRlZmF1bHQgPSAxLjQwMTI5OEUtNDUpXG4gICAgICovXG4gICAgZnVuY3Rpb24gd2l0aGluRXBzaWxvbihhLCBiLCBlcHNpbG9uID0gMS40MDEyOThlLTQ1KSB7XG4gICAgICAgIGNvbnN0IG51bSA9IGEgLSBiO1xuICAgICAgICByZXR1cm4gLWVwc2lsb24gPD0gbnVtICYmIG51bSA8PSBlcHNpbG9uO1xuICAgIH1cbiAgICBTY2FsYXIud2l0aGluRXBzaWxvbiA9IHdpdGhpbkVwc2lsb247XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyA6IHRoZSB1cHBlciBjYXNlIHRyYW5zbGF0aW9uIG9mIHRoZSBudW1iZXIgaSB0byBoZXhhZGVjaW1hbC5cbiAgICAgKiBAcGFyYW0gaSAtIG51bWJlclxuICAgICAqIEByZXR1cm5zIHRoZSB1cHBlciBjYXNlIHRyYW5zbGF0aW9uIG9mIHRoZSBudW1iZXIgaSB0byBoZXhhZGVjaW1hbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0hleChpKSB7XG4gICAgICAgIGNvbnN0IHN0ciA9IGkudG9TdHJpbmcoMTYpO1xuICAgICAgICBpZiAoaSA8PSAxNSkge1xuICAgICAgICAgICAgcmV0dXJuICgnMCcgKyBzdHIpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0ci50b1VwcGVyQ2FzZSgpO1xuICAgIH1cbiAgICBTY2FsYXIudG9IZXggPSB0b0hleDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIC0xIGlmIHZhbHVlIGlzIG5lZ2F0aXZlIGFuZCArMSBpcyB2YWx1ZSBpcyBwb3NpdGl2ZS5cbiAgICAgKiBAcGFyYW0gX3ZhbHVlIC0gdGhlIHZhbHVlXG4gICAgICogQHJldHVybnMgdGhlIHZhbHVlIGl0c2VsZiBpZiBpdCdzIGVxdWFsIHRvIHplcm8uXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2lnbih2YWx1ZSkge1xuICAgICAgICBjb25zdCBfdmFsdWUgPSArdmFsdWU7IC8vIGNvbnZlcnQgdG8gYSBudW1iZXJcbiAgICAgICAgaWYgKF92YWx1ZSA9PT0gMCB8fCBpc05hTihfdmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gX3ZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdmFsdWUgPiAwID8gMSA6IC0xO1xuICAgIH1cbiAgICBTY2FsYXIuc2lnbiA9IHNpZ247XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgaXRzZWxmIGlmIGl0J3MgYmV0d2VlbiBtaW4gYW5kIG1heC5cbiAgICAgKiBSZXR1cm5zIG1pbiBpZiB0aGUgdmFsdWUgaXMgbG93ZXIgdGhhbiBtaW4uXG4gICAgICogUmV0dXJucyBtYXggaWYgdGhlIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBtYXguXG4gICAgICogQHBhcmFtIHZhbHVlIC0gdGhlIHZhbHVlIHRvIGNsbWFwXG4gICAgICogQHBhcmFtIG1pbiAtIHRoZSBtaW4gdmFsdWUgdG8gY2xhbXAgdG8gKGRlZmF1bHQ6IDApXG4gICAgICogQHBhcmFtIG1heCAtIHRoZSBtYXggdmFsdWUgdG8gY2xhbXAgdG8gKGRlZmF1bHQ6IDEpXG4gICAgICogQHJldHVybnMgdGhlIGNsYW1wZWQgdmFsdWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbGFtcCh2YWx1ZSwgbWluID0gMCwgbWF4ID0gMSkge1xuICAgICAgICByZXR1cm4gTWF0aC5taW4obWF4LCBNYXRoLm1heChtaW4sIHZhbHVlKSk7XG4gICAgfVxuICAgIFNjYWxhci5jbGFtcCA9IGNsYW1wO1xuICAgIC8qKlxuICAgICAqIHRoZSBsb2cyIG9mIHZhbHVlLlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIHRoZSB2YWx1ZSB0byBjb21wdXRlIGxvZzIgb2ZcbiAgICAgKiBAcmV0dXJucyB0aGUgbG9nMiBvZiB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2cyKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmxvZyh2YWx1ZSkgKiBNYXRoLkxPRzJFO1xuICAgIH1cbiAgICBTY2FsYXIubG9nMiA9IGxvZzI7XG4gICAgLyoqXG4gICAgICogTG9vcHMgdGhlIHZhbHVlLCBzbyB0aGF0IGl0IGlzIG5ldmVyIGxhcmdlciB0aGFuIGxlbmd0aCBhbmQgbmV2ZXIgc21hbGxlciB0aGFuIDAuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIHNpbWlsYXIgdG8gdGhlIG1vZHVsbyBvcGVyYXRvciBidXQgaXQgd29ya3Mgd2l0aCBmbG9hdGluZyBwb2ludCBudW1iZXJzLlxuICAgICAqIEZvciBleGFtcGxlLCB1c2luZyAzLjAgZm9yIHQgYW5kIDIuNSBmb3IgbGVuZ3RoLCB0aGUgcmVzdWx0IHdvdWxkIGJlIDAuNS5cbiAgICAgKiBXaXRoIHQgPSA1IGFuZCBsZW5ndGggPSAyLjUsIHRoZSByZXN1bHQgd291bGQgYmUgMC4wLlxuICAgICAqIE5vdGUsIGhvd2V2ZXIsIHRoYXQgdGhlIGJlaGF2aW91ciBpcyBub3QgZGVmaW5lZCBmb3IgbmVnYXRpdmUgbnVtYmVycyBhcyBpdCBpcyBmb3IgdGhlIG1vZHVsbyBvcGVyYXRvclxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIHRoZSB2YWx1ZVxuICAgICAqIEBwYXJhbSBsZW5ndGggLSB0aGUgbGVuZ3RoXG4gICAgICogQHJldHVybnMgdGhlIGxvb3BlZCB2YWx1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGVhdCh2YWx1ZSwgbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAtIE1hdGguZmxvb3IodmFsdWUgLyBsZW5ndGgpICogbGVuZ3RoO1xuICAgIH1cbiAgICBTY2FsYXIucmVwZWF0ID0gcmVwZWF0O1xuICAgIC8qKlxuICAgICAqIE5vcm1hbGl6ZSB0aGUgdmFsdWUgYmV0d2VlbiAwLjAgYW5kIDEuMCB1c2luZyBtaW4gYW5kIG1heCB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSB2YWx1ZSB0byBub3JtYWxpemVcbiAgICAgKiBAcGFyYW0gbWluIC0gbWF4IHRvIG5vcm1hbGl6ZSBiZXR3ZWVuXG4gICAgICogQHBhcmFtIG1heCAtIG1pbiB0byBub3JtYWxpemUgYmV0d2VlblxuICAgICAqIEByZXR1cm5zIHRoZSBub3JtYWxpemVkIHZhbHVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplKHZhbHVlLCBtaW4sIG1heCkge1xuICAgICAgICByZXR1cm4gKHZhbHVlIC0gbWluKSAvIChtYXggLSBtaW4pO1xuICAgIH1cbiAgICBTY2FsYXIubm9ybWFsaXplID0gbm9ybWFsaXplO1xuICAgIC8qKlxuICAgICAqIERlbm9ybWFsaXplIHRoZSB2YWx1ZSBmcm9tIDAuMCBhbmQgMS4wIHVzaW5nIG1pbiBhbmQgbWF4IHZhbHVlc1xuICAgICAqIEBwYXJhbSBub3JtYWxpemVkIC0gdmFsdWUgdG8gZGVub3JtYWxpemVcbiAgICAgKiBAcGFyYW0gbWluIC0gbWF4IHRvIGRlbm9ybWFsaXplIGJldHdlZW5cbiAgICAgKiBAcGFyYW0gbWF4IC0gbWluIHRvIGRlbm9ybWFsaXplIGJldHdlZW5cbiAgICAgKiBAcmV0dXJucyB0aGUgZGVub3JtYWxpemVkIHZhbHVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVub3JtYWxpemUobm9ybWFsaXplZCwgbWluLCBtYXgpIHtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQgKiAobWF4IC0gbWluKSArIG1pbjtcbiAgICB9XG4gICAgU2NhbGFyLmRlbm9ybWFsaXplID0gZGVub3JtYWxpemU7XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgc2hvcnRlc3QgZGlmZmVyZW5jZSBiZXR3ZWVuIHR3byBnaXZlbiBhbmdsZXMgZ2l2ZW4gaW4gZGVncmVlcy5cbiAgICAgKiBAcGFyYW0gY3VycmVudCAtIGN1cnJlbnQgYW5nbGUgaW4gZGVncmVlc1xuICAgICAqIEBwYXJhbSB0YXJnZXQgLSB0YXJnZXQgYW5nbGUgaW4gZGVncmVlc1xuICAgICAqIEByZXR1cm5zIHRoZSBkZWx0YVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlbHRhQW5nbGUoY3VycmVudCwgdGFyZ2V0KSB7XG4gICAgICAgIGxldCBudW0gPSByZXBlYXQodGFyZ2V0IC0gY3VycmVudCwgMzYwLjApO1xuICAgICAgICBpZiAobnVtID4gMTgwLjApIHtcbiAgICAgICAgICAgIG51bSAtPSAzNjAuMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVtO1xuICAgIH1cbiAgICBTY2FsYXIuZGVsdGFBbmdsZSA9IGRlbHRhQW5nbGU7XG4gICAgLyoqXG4gICAgICogUGluZ1BvbmdzIHRoZSB2YWx1ZSB0LCBzbyB0aGF0IGl0IGlzIG5ldmVyIGxhcmdlciB0aGFuIGxlbmd0aCBhbmQgbmV2ZXIgc21hbGxlciB0aGFuIDAuXG4gICAgICogQHBhcmFtIHR4IC0gdmFsdWVcbiAgICAgKiBAcGFyYW0gbGVuZ3RoIC0gbGVuZ3RoXG4gICAgICogQHJldHVybnMgVGhlIHJldHVybmVkIHZhbHVlIHdpbGwgbW92ZSBiYWNrIGFuZCBmb3J0aCBiZXR3ZWVuIDAgYW5kIGxlbmd0aFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBpbmdQb25nKHR4LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgdCA9IHJlcGVhdCh0eCwgbGVuZ3RoICogMi4wKTtcbiAgICAgICAgcmV0dXJuIGxlbmd0aCAtIE1hdGguYWJzKHQgLSBsZW5ndGgpO1xuICAgIH1cbiAgICBTY2FsYXIucGluZ1BvbmcgPSBwaW5nUG9uZztcbiAgICAvKipcbiAgICAgKiBJbnRlcnBvbGF0ZXMgYmV0d2VlbiBtaW4gYW5kIG1heCB3aXRoIHNtb290aGluZyBhdCB0aGUgbGltaXRzLlxuICAgICAqXG4gICAgICogVGhpcyBleHBvcnQgZnVuY3Rpb24gaW50ZXJwb2xhdGVzIGJldHdlZW4gbWluIGFuZCBtYXggaW4gYSBzaW1pbGFyIHdheSB0byBMZXJwLiBIb3dldmVyLCB0aGUgaW50ZXJwb2xhdGlvbiB3aWxsIGdyYWR1YWxseSBzcGVlZCB1cFxuICAgICAqIGZyb20gdGhlIHN0YXJ0IGFuZCBzbG93IGRvd24gdG93YXJkIHRoZSBlbmQuIFRoaXMgaXMgdXNlZnVsIGZvciBjcmVhdGluZyBuYXR1cmFsLWxvb2tpbmcgYW5pbWF0aW9uLCBmYWRpbmcgYW5kIG90aGVyIHRyYW5zaXRpb25zLlxuICAgICAqIEBwYXJhbSBmcm9tIC0gZnJvbVxuICAgICAqIEBwYXJhbSB0byAtIHRvXG4gICAgICogQHBhcmFtIHR4IC0gdmFsdWVcbiAgICAgKiBAcmV0dXJucyB0aGUgc21vb3RoIHN0ZXBwZWQgdmFsdWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzbW9vdGhTdGVwKGZyb20sIHRvLCB0eCkge1xuICAgICAgICBsZXQgdCA9IGNsYW1wKHR4KTtcbiAgICAgICAgdCA9IC0yLjAgKiB0ICogdCAqIHQgKyAzLjAgKiB0ICogdDtcbiAgICAgICAgcmV0dXJuIHRvICogdCArIGZyb20gKiAoMS4wIC0gdCk7XG4gICAgfVxuICAgIFNjYWxhci5zbW9vdGhTdGVwID0gc21vb3RoU3RlcDtcbiAgICAvKipcbiAgICAgKiBNb3ZlcyBhIHZhbHVlIGN1cnJlbnQgdG93YXJkcyB0YXJnZXQuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIGVzc2VudGlhbGx5IHRoZSBzYW1lIGFzIE1hdGhmLkxlcnAgYnV0IGluc3RlYWQgdGhlIGV4cG9ydCBmdW5jdGlvbiB3aWxsIGVuc3VyZSB0aGF0IHRoZSBzcGVlZCBuZXZlciBleGNlZWRzIG1heERlbHRhLlxuICAgICAqIE5lZ2F0aXZlIHZhbHVlcyBvZiBtYXhEZWx0YSBwdXNoZXMgdGhlIHZhbHVlIGF3YXkgZnJvbSB0YXJnZXQuXG4gICAgICogQHBhcmFtIGN1cnJlbnQgLSBjdXJyZW50IHZhbHVlXG4gICAgICogQHBhcmFtIHRhcmdldCAtIHRhcmdldCB2YWx1ZVxuICAgICAqIEBwYXJhbSBtYXhEZWx0YSAtIG1heCBkaXN0YW5jZSB0byBtb3ZlXG4gICAgICogQHJldHVybnMgcmVzdWx0aW5nIHZhbHVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbW92ZVRvd2FyZHMoY3VycmVudCwgdGFyZ2V0LCBtYXhEZWx0YSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gMDtcbiAgICAgICAgaWYgKE1hdGguYWJzKHRhcmdldCAtIGN1cnJlbnQpIDw9IG1heERlbHRhKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBjdXJyZW50ICsgc2lnbih0YXJnZXQgLSBjdXJyZW50KSAqIG1heERlbHRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFNjYWxhci5tb3ZlVG93YXJkcyA9IG1vdmVUb3dhcmRzO1xuICAgIC8qKlxuICAgICAqIFNhbWUgYXMgTW92ZVRvd2FyZHMgYnV0IG1ha2VzIHN1cmUgdGhlIHZhbHVlcyBpbnRlcnBvbGF0ZSBjb3JyZWN0bHkgd2hlbiB0aGV5IHdyYXAgYXJvdW5kIDM2MCBkZWdyZWVzLlxuICAgICAqXG4gICAgICogVmFyaWFibGVzIGN1cnJlbnQgYW5kIHRhcmdldCBhcmUgYXNzdW1lZCB0byBiZSBpbiBkZWdyZWVzLiBGb3Igb3B0aW1pemF0aW9uIHJlYXNvbnMsIG5lZ2F0aXZlIHZhbHVlcyBvZiBtYXhEZWx0YVxuICAgICAqICBhcmUgbm90IHN1cHBvcnRlZCBhbmQgbWF5IGNhdXNlIG9zY2lsbGF0aW9uLiBUbyBwdXNoIGN1cnJlbnQgYXdheSBmcm9tIGEgdGFyZ2V0IGFuZ2xlLCBhZGQgMTgwIHRvIHRoYXQgYW5nbGUgaW5zdGVhZC5cbiAgICAgKiBAcGFyYW0gY3VycmVudCAtIGN1cnJlbnQgdmFsdWVcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gdGFyZ2V0IHZhbHVlXG4gICAgICogQHBhcmFtIG1heERlbHRhIC0gbWF4IGRpc3RhbmNlIHRvIG1vdmVcbiAgICAgKiBAcmV0dXJucyByZXN1bHRpbmcgYW5nbGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtb3ZlVG93YXJkc0FuZ2xlKGN1cnJlbnQsIHRhcmdldCwgbWF4RGVsdGEpIHtcbiAgICAgICAgY29uc3QgbnVtID0gZGVsdGFBbmdsZShjdXJyZW50LCB0YXJnZXQpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gMDtcbiAgICAgICAgaWYgKC1tYXhEZWx0YSA8IG51bSAmJiBudW0gPCBtYXhEZWx0YSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gbW92ZVRvd2FyZHMoY3VycmVudCwgY3VycmVudCArIG51bSwgbWF4RGVsdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFNjYWxhci5tb3ZlVG93YXJkc0FuZ2xlID0gbW92ZVRvd2FyZHNBbmdsZTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHNjYWxhciB3aXRoIHZhbHVlcyBsaW5lYXJseSBpbnRlcnBvbGF0ZWQgb2YgXCJhbW91bnRcIiBiZXR3ZWVuIHRoZSBzdGFydCBzY2FsYXIgYW5kIHRoZSBlbmQgc2NhbGFyXG4gICAgICogQHBhcmFtIHN0YXJ0IC0gc3RhcnQgdmFsdWVcbiAgICAgKiBAcGFyYW0gZW5kIC0gdGFyZ2V0IHZhbHVlXG4gICAgICogQHBhcmFtIGFtb3VudCAtIGFtb3VudCB0byBsZXJwIGJldHdlZW5cbiAgICAgKiBAcmV0dXJucyB0aGUgbGVycGVkIHZhbHVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGVycChzdGFydCwgZW5kLCBhbW91bnQpIHtcbiAgICAgICAgcmV0dXJuIHN0YXJ0ICsgKGVuZCAtIHN0YXJ0KSAqIGFtb3VudDtcbiAgICB9XG4gICAgU2NhbGFyLmxlcnAgPSBsZXJwO1xuICAgIC8qKlxuICAgICAqIFNhbWUgYXMgTGVycCBidXQgbWFrZXMgc3VyZSB0aGUgdmFsdWVzIGludGVycG9sYXRlIGNvcnJlY3RseSB3aGVuIHRoZXkgd3JhcCBhcm91bmQgMzYwIGRlZ3JlZXMuXG4gICAgICogVGhlIHBhcmFtZXRlciB0IGlzIGNsYW1wZWQgdG8gdGhlIHJhbmdlIFswLCAxXS4gVmFyaWFibGVzIGEgYW5kIGIgYXJlIGFzc3VtZWQgdG8gYmUgaW4gZGVncmVlcy5cbiAgICAgKiBAcGFyYW0gc3RhcnQgLSBzdGFydCB2YWx1ZVxuICAgICAqIEBwYXJhbSBlbmQgLSB0YXJnZXQgdmFsdWVcbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gYW1vdW50IHRvIGxlcnAgYmV0d2VlblxuICAgICAqIEByZXR1cm5zIHRoZSBsZXJwZWQgdmFsdWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsZXJwQW5nbGUoc3RhcnQsIGVuZCwgYW1vdW50KSB7XG4gICAgICAgIGxldCBudW0gPSByZXBlYXQoZW5kIC0gc3RhcnQsIDM2MC4wKTtcbiAgICAgICAgaWYgKG51bSA+IDE4MC4wKSB7XG4gICAgICAgICAgICBudW0gLT0gMzYwLjA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXJ0ICsgbnVtICogY2xhbXAoYW1vdW50KTtcbiAgICB9XG4gICAgU2NhbGFyLmxlcnBBbmdsZSA9IGxlcnBBbmdsZTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBsaW5lYXIgcGFyYW1ldGVyIHQgdGhhdCBwcm9kdWNlcyB0aGUgaW50ZXJwb2xhbnQgdmFsdWUgd2l0aGluIHRoZSByYW5nZSBbYSwgYl0uXG4gICAgICogQHBhcmFtIGEgLSBzdGFydCB2YWx1ZVxuICAgICAqIEBwYXJhbSBiIC0gdGFyZ2V0IHZhbHVlXG4gICAgICogQHBhcmFtIHZhbHVlIC0gdmFsdWUgYmV0d2VlbiBhIGFuZCBiXG4gICAgICogQHJldHVybnMgdGhlIGludmVyc2VMZXJwIHZhbHVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW52ZXJzZUxlcnAoYSwgYiwgdmFsdWUpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IDA7XG4gICAgICAgIGlmIChhICE9PSBiKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBjbGFtcCgodmFsdWUgLSBhKSAvIChiIC0gYSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gMC4wO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFNjYWxhci5pbnZlcnNlTGVycCA9IGludmVyc2VMZXJwO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgc2NhbGFyIGxvY2F0ZWQgZm9yIFwiYW1vdW50XCIgKGZsb2F0KSBvbiB0aGUgSGVybWl0ZSBzcGxpbmUgZGVmaW5lZCBieSB0aGUgc2NhbGFycyBcInZhbHVlMVwiLCBcInZhbHVlM1wiLCBcInRhbmdlbnQxXCIsIFwidGFuZ2VudDJcIi5cbiAgICAgKiB7QGxpbmsgaHR0cDovL21hdGh3b3JsZC53b2xmcmFtLmNvbS9IZXJtaXRlUG9seW5vbWlhbC5odG1sfVxuICAgICAqIEBwYXJhbSB2YWx1ZTEgLSBzcGxpbmUgdmFsdWVcbiAgICAgKiBAcGFyYW0gdGFuZ2VudDEgLSBzcGxpbmUgdmFsdWVcbiAgICAgKiBAcGFyYW0gdmFsdWUyIC0gc3BsaW5lIHZhbHVlXG4gICAgICogQHBhcmFtIHRhbmdlbnQyIC0gc3BsaW5lIHZhbHVlXG4gICAgICogQHBhcmFtIGFtb3VudCAtIGlucHV0IHZhbHVlXG4gICAgICogQHJldHVybnMgaGVybWl0ZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoZXJtaXRlKHZhbHVlMSwgdGFuZ2VudDEsIHZhbHVlMiwgdGFuZ2VudDIsIGFtb3VudCkge1xuICAgICAgICBjb25zdCBzcXVhcmVkID0gYW1vdW50ICogYW1vdW50O1xuICAgICAgICBjb25zdCBjdWJlZCA9IGFtb3VudCAqIHNxdWFyZWQ7XG4gICAgICAgIGNvbnN0IHBhcnQxID0gMi4wICogY3ViZWQgLSAzLjAgKiBzcXVhcmVkICsgMS4wO1xuICAgICAgICBjb25zdCBwYXJ0MiA9IC0yLjAgKiBjdWJlZCArIDMuMCAqIHNxdWFyZWQ7XG4gICAgICAgIGNvbnN0IHBhcnQzID0gY3ViZWQgLSAyLjAgKiBzcXVhcmVkICsgYW1vdW50O1xuICAgICAgICBjb25zdCBwYXJ0NCA9IGN1YmVkIC0gc3F1YXJlZDtcbiAgICAgICAgcmV0dXJuIHZhbHVlMSAqIHBhcnQxICsgdmFsdWUyICogcGFydDIgKyB0YW5nZW50MSAqIHBhcnQzICsgdGFuZ2VudDIgKiBwYXJ0NDtcbiAgICB9XG4gICAgU2NhbGFyLmhlcm1pdGUgPSBoZXJtaXRlO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSByYW5kb20gZmxvYXQgbnVtYmVyIGJldHdlZW4gYW5kIG1pbiBhbmQgbWF4IHZhbHVlc1xuICAgICAqIEBwYXJhbSBtaW4gLSBtaW4gdmFsdWUgb2YgcmFuZG9tXG4gICAgICogQHBhcmFtIG1heCAtIG1heCB2YWx1ZSBvZiByYW5kb21cbiAgICAgKiBAcmV0dXJucyByYW5kb20gdmFsdWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByYW5kb21SYW5nZShtaW4sIG1heCkge1xuICAgICAgICBpZiAobWluID09PSBtYXgpIHtcbiAgICAgICAgICAgIHJldHVybiBtaW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcbiAgICB9XG4gICAgU2NhbGFyLnJhbmRvbVJhbmdlID0gcmFuZG9tUmFuZ2U7XG4gICAgLyoqXG4gICAgICogVGhpcyBleHBvcnQgZnVuY3Rpb24gcmV0dXJucyBwZXJjZW50YWdlIG9mIGEgbnVtYmVyIGluIGEgZ2l2ZW4gcmFuZ2UuXG4gICAgICpcbiAgICAgKiBSYW5nZVRvUGVyY2VudCg0MCwyMCw2MCkgd2lsbCByZXR1cm4gMC41ICg1MCUpXG4gICAgICogUmFuZ2VUb1BlcmNlbnQoMzQsMCwxMDApIHdpbGwgcmV0dXJuIDAuMzQgKDM0JSlcbiAgICAgKiBAcGFyYW0gbnVtIC0gdG8gY29udmVydCB0byBwZXJjZW50YWdlXG4gICAgICogQHBhcmFtIG1pbiAtIG1pbiByYW5nZVxuICAgICAqIEBwYXJhbSBtYXggLSBtYXggcmFuZ2VcbiAgICAgKiBAcmV0dXJucyB0aGUgcGVyY2VudGFnZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJhbmdlVG9QZXJjZW50KG51bSwgbWluLCBtYXgpIHtcbiAgICAgICAgcmV0dXJuIChudW0gLSBtaW4pIC8gKG1heCAtIG1pbik7XG4gICAgfVxuICAgIFNjYWxhci5yYW5nZVRvUGVyY2VudCA9IHJhbmdlVG9QZXJjZW50O1xuICAgIC8qKlxuICAgICAqIFRoaXMgZXhwb3J0IGZ1bmN0aW9uIHJldHVybnMgbnVtYmVyIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHBlcmNlbnRhZ2UgaW4gYSBnaXZlbiByYW5nZS5cbiAgICAgKlxuICAgICAqIFBlcmNlbnRUb1JhbmdlKDAuMzQsMCwxMDApIHdpbGwgcmV0dXJuIDM0LlxuICAgICAqIEBwYXJhbSBwZXJjZW50IC0gdG8gY29udmVydCB0byBudW1iZXJcbiAgICAgKiBAcGFyYW0gbWluIC0gbWluIHJhbmdlXG4gICAgICogQHBhcmFtIG1heCAtIG1heCByYW5nZVxuICAgICAqIEByZXR1cm5zIHRoZSBudW1iZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwZXJjZW50VG9SYW5nZShwZXJjZW50LCBtaW4sIG1heCkge1xuICAgICAgICByZXR1cm4gKG1heCAtIG1pbikgKiBwZXJjZW50ICsgbWluO1xuICAgIH1cbiAgICBTY2FsYXIucGVyY2VudFRvUmFuZ2UgPSBwZXJjZW50VG9SYW5nZTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhbmdsZSBjb252ZXJ0ZWQgdG8gZXF1aXZhbGVudCB2YWx1ZSBiZXR3ZWVuIC1NYXRoLlBJIGFuZCBNYXRoLlBJIHJhZGlhbnMuXG4gICAgICogQHBhcmFtIGFuZ2xlIC0gVGhlIGFuZ2xlIHRvIG5vcm1hbGl6ZSBpbiByYWRpYW4uXG4gICAgICogQHJldHVybnMgVGhlIGNvbnZlcnRlZCBhbmdsZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxpemVSYWRpYW5zKGFuZ2xlKSB7XG4gICAgICAgIC8vIE1vcmUgcHJlY2lzZSBidXQgc2xvd2VyIHZlcnNpb24ga2VwdCBmb3IgcmVmZXJlbmNlLlxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZTpuby1jb21tZW50ZWQtb3V0LWNvZGVcbiAgICAgICAgLypcbiAgICAgICAgLy8gYW5nbGUgPSBhbmdsZSAlIFRvb2xzLlR3b1BpO1xuICAgICAgICAvLyBhbmdsZSA9IChhbmdsZSArIFRvb2xzLlR3b1BpKSAlIFRvb2xzLlR3b1BpO1xuICAgIFxuICAgICAgICAvL2lmIChhbmdsZSA+IE1hdGguUEkpIHtcbiAgICAgICAgLy9cdGFuZ2xlIC09IFRvb2xzLlR3b1BpO1xuICAgICAgICAvL31cbiAgICAgICAgICAqL1xuICAgICAgICByZXR1cm4gYW5nbGUgLSBTY2FsYXIuVHdvUGkgKiBNYXRoLmZsb29yKChhbmdsZSArIE1hdGguUEkpIC8gU2NhbGFyLlR3b1BpKTtcbiAgICB9XG4gICAgU2NhbGFyLm5vcm1hbGl6ZVJhZGlhbnMgPSBub3JtYWxpemVSYWRpYW5zO1xufSkoU2NhbGFyIHx8IChTY2FsYXIgPSB7fSkpO1xuIiwgImltcG9ydCB7IEVwc2lsb24gfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IFF1YXRlcm5pb24gfSBmcm9tICcuL1F1YXRlcm5pb24nO1xuaW1wb3J0IHsgU2NhbGFyIH0gZnJvbSAnLi9TY2FsYXInO1xuLyoqXG4gKiBAcHVibGljXG4gKiBWZWN0b3IzIGlzIGEgdHlwZSBhbmQgYSBuYW1lc3BhY2UuXG4gKiBgYGBcbiAqIC8vIFRoZSBuYW1lc3BhY2UgY29udGFpbnMgYWxsIHR5cGVzIGFuZCBmdW5jdGlvbnMgdG8gb3BlcmF0ZXMgd2l0aCBWZWN0b3IzXG4gKiBjb25zdCBuZXh0ID0gVmVjdG9yMy5hZGQocG9pbnRBLCB2ZWxvY2l0eUEpXG4gKiAvLyBUaGUgdHlwZSBWZWN0b3IzIGlzIGFuIGFsaWFzIHRvIFZlY3RvcjMuUmVhZG9ubHlWZWN0b3IzXG4gKiBjb25zdCByZWFkb25seVBvc2l0aW9uOiBWZWN0b3IzID0gVmVjdG9yMy5aZXJvKClcbiAqIHJlYWRvbmx5UG9zaXRpb24ueCA9IDAuMSAvLyB0aGlzIEZBSUxTXG4gKlxuICogLy8gRm9yIG11dGFibGUgdXNhZ2UsIHVzZSBgVmVjdG9yMy5NdXRhYmxlYFxuICogY29uc3QgcG9zaXRpb246IFZlY3RvcjMuTXV0YWJsZSA9IFZlY3RvcjMuT25lKClcbiAqIHBvc2l0aW9uLnggPSAzLjAgLy8gdGhpcyBXT1JLU1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgVmVjdG9yMztcbihmdW5jdGlvbiAoVmVjdG9yMykge1xuICAgIC8qKlxuICAgICAqIEdldHMgYSBib29sZWFuIGluZGljYXRpbmcgdGhhdCB0aGUgdmVjdG9yIGlzIG5vbiB1bmlmb3JtIG1lYW5pbmcgeCwgeSBvciB6IGFyZSBub3QgYWxsIHRoZSBzYW1lXG4gICAgICogQHBhcmFtIHZlY3RvciAtIHZlY3RvciB0byBjaGVja1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTm9uVW5pZm9ybSh2ZWN0b3IpIHtcbiAgICAgICAgY29uc3QgYWJzWCA9IE1hdGguYWJzKHZlY3Rvci54KTtcbiAgICAgICAgY29uc3QgYWJzWSA9IE1hdGguYWJzKHZlY3Rvci55KTtcbiAgICAgICAgaWYgKGFic1ggIT09IGFic1kpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFic1ogPSBNYXRoLmFicyh2ZWN0b3Iueik7XG4gICAgICAgIGlmIChhYnNYICE9PSBhYnNaKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFZlY3RvcjMuaXNOb25Vbmlmb3JtID0gaXNOb25Vbmlmb3JtO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgVmVjdG9yMyBvYmplY3QgZnJvbSB0aGUgZ2l2ZW4geCwgeSwgeiAoZmxvYXRzKSBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIGZpcnN0IGNvb3JkaW5hdGVzIChvbiBYIGF4aXMpXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSBzZWNvbmQgY29vcmRpbmF0ZXMgKG9uIFkgYXhpcylcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHRoaXJkIGNvb3JkaW5hdGVzIChvbiBaIGF4aXMpXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIGZpcnN0IGNvb3JkaW5hdGVzIChvbiBYIGF4aXMpXG4gICAgICovXG4gICAgeCA9IDAsIFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIHNlY29uZCBjb29yZGluYXRlcyAob24gWSBheGlzKVxuICAgICAqL1xuICAgIHkgPSAwLCBcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSB0aGlyZCBjb29yZGluYXRlcyAob24gWiBheGlzKVxuICAgICAqL1xuICAgIHogPSAwKSB7XG4gICAgICAgIHJldHVybiB7IHgsIHksIHogfTtcbiAgICB9XG4gICAgVmVjdG9yMy5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIGFzIHRoZSByZXN1bHQgb2YgdGhlIGFkZGl0aW9uIG9mIHRoZSB0d28gZ2l2ZW4gdmVjdG9ycy5cbiAgICAgKiBAcGFyYW0gdmVjdG9yMSAtIHRoZSBmaXJzdCB2ZWN0b3JcbiAgICAgKiBAcGFyYW0gdmVjdG9yMiAtIHRoZSBzZWNvbmQgdmVjdG9yXG4gICAgICogQHJldHVybnMgdGhlIHJlc3VsdGluZyB2ZWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGQodmVjdG9yMSwgdmVjdG9yMikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogdmVjdG9yMS54ICsgdmVjdG9yMi54LFxuICAgICAgICAgICAgeTogdmVjdG9yMS55ICsgdmVjdG9yMi55LFxuICAgICAgICAgICAgejogdmVjdG9yMS56ICsgdmVjdG9yMi56XG4gICAgICAgIH07XG4gICAgfVxuICAgIFZlY3RvcjMuYWRkID0gYWRkO1xuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFkZGl0aW9uIGJldHdlZW4gdmVjdG9yQSBhbmQgdmVjdG9yQiBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW50byByZXN1bHRcbiAgICAgKiBAcGFyYW0gdmVjdG9yQSAtIHRoZSBmaXJzdCB2ZWN0b3IgZm9yIHRoZSBhZGRpdGlvbiBvcGVyYXRpb25cbiAgICAgKiBAcGFyYW0gdmVjdG9yQiAtIHRoZSBzZWNvbmQgdmVjdG9yIGZvciB0aGUgYWRkaXRpb24gb3BlcmF0aW9uXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIHRoZSB2ZWN0b3Igd2hlcmUgdGhlIHJlc3VsdCBvZiB0aGUgYWRkaXRpb24gaXMgc3RvcmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkVG9SZWYodmVjdG9yQSwgdmVjdG9yQiwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC54ID0gdmVjdG9yQS54ICsgdmVjdG9yQi54O1xuICAgICAgICByZXN1bHQueSA9IHZlY3RvckEueSArIHZlY3RvckIueTtcbiAgICAgICAgcmVzdWx0LnogPSB2ZWN0b3JBLnogKyB2ZWN0b3JCLno7XG4gICAgfVxuICAgIFZlY3RvcjMuYWRkVG9SZWYgPSBhZGRUb1JlZjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgYXMgdGhlIHJlc3VsdCBvZiB0aGUgc3Vic3RyYWN0aW9uIG9mIHRoZSB0d28gZ2l2ZW4gdmVjdG9ycy5cbiAgICAgKiBAcmV0dXJucyB0aGUgcmVzdWx0aW5nIHZlY3RvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1YnRyYWN0KHZlY3RvcjEsIHZlY3RvcjIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHZlY3RvcjEueCAtIHZlY3RvcjIueCxcbiAgICAgICAgICAgIHk6IHZlY3RvcjEueSAtIHZlY3RvcjIueSxcbiAgICAgICAgICAgIHo6IHZlY3RvcjEueiAtIHZlY3RvcjIuelxuICAgICAgICB9O1xuICAgIH1cbiAgICBWZWN0b3IzLnN1YnRyYWN0ID0gc3VidHJhY3Q7XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgc3Vic3RyYWN0aW9uIGJldHdlZW4gdmVjdG9yQSBhbmQgdmVjdG9yQiBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW50byByZXN1bHRcbiAgICAgKiBAcGFyYW0gdmVjdG9yQSAtIHRoZSBmaXJzdCB2ZWN0b3IgZm9yIHRoZSBzdWJzdHJhY3Rpb24gb3BlcmF0aW9uXG4gICAgICogQHBhcmFtIHZlY3RvckIgLSB0aGUgc2Vjb25kIHZlY3RvciBmb3IgdGhlIHN1YnN0cmFjdGlvbiBvcGVyYXRpb25cbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gdGhlIHZlY3RvciB3aGVyZSB0aGUgcmVzdWx0IG9mIHRoZSBzdWJzdHJhY3Rpb24gaXMgc3RvcmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VidHJhY3RUb1JlZih2ZWN0b3JBLCB2ZWN0b3JCLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnggPSB2ZWN0b3JBLnggLSB2ZWN0b3JCLng7XG4gICAgICAgIHJlc3VsdC55ID0gdmVjdG9yQS55IC0gdmVjdG9yQi55O1xuICAgICAgICByZXN1bHQueiA9IHZlY3RvckEueiAtIHZlY3RvckIuejtcbiAgICB9XG4gICAgVmVjdG9yMy5zdWJ0cmFjdFRvUmVmID0gc3VidHJhY3RUb1JlZjtcbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdHMgdGhlIGdpdmVuIGZsb2F0cyBmcm9tIHRoZSBjdXJyZW50IFZlY3RvcjMgY29vcmRpbmF0ZXMgYW5kIHNldCB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCIgd2l0aCB0aGlzIHJlc3VsdFxuICAgICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgeCBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHogY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VidHJhY3RGcm9tRmxvYXRzVG9SZWYodmVjdG9yMSwgeCwgeSwgeiwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC54ID0gdmVjdG9yMS54IC0geDtcbiAgICAgICAgcmVzdWx0LnkgPSB2ZWN0b3IxLnkgLSB5O1xuICAgICAgICByZXN1bHQueiA9IHZlY3RvcjEueiAtIHo7XG4gICAgfVxuICAgIFZlY3RvcjMuc3VidHJhY3RGcm9tRmxvYXRzVG9SZWYgPSBzdWJ0cmFjdEZyb21GbG9hdHNUb1JlZjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgd2l0aCB0aGUgb3RoZXIgc2lnblxuICAgICAqIEByZXR1cm5zIHRoZSByZXN1bHRpbmcgdmVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmVnYXRlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB7IHg6IC12YWx1ZS54LCB5OiAtdmFsdWUueSwgejogLXZhbHVlLnogfTtcbiAgICB9XG4gICAgVmVjdG9yMy5uZWdhdGUgPSBuZWdhdGU7XG4gICAgLyoqXG4gICAgICogQ29weSBzb3VyY2UgaW50byBkZXN0XG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5RnJvbShzb3VyY2UsIGRlc3QpIHtcbiAgICAgICAgZGVzdC54ID0gc291cmNlLng7XG4gICAgICAgIGRlc3QueSA9IHNvdXJjZS55O1xuICAgICAgICBkZXN0LnogPSBzb3VyY2UuejtcbiAgICB9XG4gICAgVmVjdG9yMy5jb3B5RnJvbSA9IGNvcHlGcm9tO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIHZlY3RvciBcImRlc3RcIiB3aXRoIHRoZSBnaXZlbiBmbG9hdHMuXG4gICAgICogQHBhcmFtIHggLSBkZWZpbmVzIHRoZSB4IGNvb3JkaW5hdGUgb2YgdGhlIHNvdXJjZVxuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgeSBjb29yZGluYXRlIG9mIHRoZSBzb3VyY2VcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHogY29vcmRpbmF0ZSBvZiB0aGUgc291cmNlXG4gICAgICogQHBhcmFtIGRlc3QgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5RnJvbUZsb2F0cyh4LCB5LCB6LCBkZXN0KSB7XG4gICAgICAgIGRlc3QueCA9IHg7XG4gICAgICAgIGRlc3QueSA9IHk7XG4gICAgICAgIGRlc3QueiA9IHo7XG4gICAgfVxuICAgIFZlY3RvcjMuY29weUZyb21GbG9hdHMgPSBjb3B5RnJvbUZsb2F0cztcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgd2l0aCB0aGUgc2FtZSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIHRoZSByZXN1bHRpbmcgdmVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmUoc291cmNlKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoc291cmNlLngsIHNvdXJjZS55LCBzb3VyY2Uueik7XG4gICAgfVxuICAgIFZlY3RvcjMuY2xvbmUgPSBjbG9uZTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNsaXAgZmFjdG9yIGJldHdlZW4gdHdvIHZlY3RvcnNcbiAgICAgKiBAcGFyYW0gdmVjdG9yMCAtIGRlZmluZXMgdGhlIGZpcnN0IG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gdmVjdG9yMSAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHBhcmFtIGF4aXMgLSBkZWZpbmVzIHRoZSBheGlzIHRvIHVzZVxuICAgICAqIEBwYXJhbSBzaXplIC0gZGVmaW5lcyB0aGUgc2l6ZSBhbG9uZyB0aGUgYXhpc1xuICAgICAqIEByZXR1cm5zIHRoZSBjbGlwIGZhY3RvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldENsaXBGYWN0b3IodmVjdG9yMCwgdmVjdG9yMSwgYXhpcywgc2l6ZSkge1xuICAgICAgICBjb25zdCBkMCA9IGRvdCh2ZWN0b3IwLCBheGlzKSAtIHNpemU7XG4gICAgICAgIGNvbnN0IGQxID0gZG90KHZlY3RvcjEsIGF4aXMpIC0gc2l6ZTtcbiAgICAgICAgY29uc3QgcyA9IGQwIC8gKGQwIC0gZDEpO1xuICAgICAgICByZXR1cm4gcztcbiAgICB9XG4gICAgVmVjdG9yMy5nZXRDbGlwRmFjdG9yID0gZ2V0Q2xpcEZhY3RvcjtcbiAgICAvKipcbiAgICAgKiBHZXQgYW5nbGUgYmV0d2VlbiB0d28gdmVjdG9yc1xuICAgICAqIEBwYXJhbSB2ZWN0b3IwIC0gYW5nbGUgYmV0d2VlbiB2ZWN0b3IwIGFuZCB2ZWN0b3IxXG4gICAgICogQHBhcmFtIHZlY3RvcjEgLSBhbmdsZSBiZXR3ZWVuIHZlY3RvcjAgYW5kIHZlY3RvcjFcbiAgICAgKiBAcGFyYW0gbm9ybWFsIC0gZGlyZWN0aW9uIG9mIHRoZSBub3JtYWxcbiAgICAgKiBAcmV0dXJucyB0aGUgYW5nbGUgYmV0d2VlbiB2ZWN0b3IwIGFuZCB2ZWN0b3IxXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QW5nbGVCZXR3ZWVuVmVjdG9ycyh2ZWN0b3IwLCB2ZWN0b3IxLCBub3JtYWwpIHtcbiAgICAgICAgY29uc3QgdjAgPSBub3JtYWxpemUodmVjdG9yMCk7XG4gICAgICAgIGNvbnN0IHYxID0gbm9ybWFsaXplKHZlY3RvcjEpO1xuICAgICAgICBjb25zdCB2MHYxZG90ID0gZG90KHYwLCB2MSk7XG4gICAgICAgIGNvbnN0IG4gPSBjcmVhdGUoKTtcbiAgICAgICAgY3Jvc3NUb1JlZih2MCwgdjEsIG4pO1xuICAgICAgICBpZiAoZG90KG4sIG5vcm1hbCkgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hY29zKHYwdjFkb3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtTWF0aC5hY29zKHYwdjFkb3QpO1xuICAgIH1cbiAgICBWZWN0b3IzLmdldEFuZ2xlQmV0d2VlblZlY3RvcnMgPSBnZXRBbmdsZUJldHdlZW5WZWN0b3JzO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgZnJvbSB0aGUgaW5kZXggXCJvZmZzZXRcIiBvZiB0aGUgZ2l2ZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0gYXJyYXkgLSBkZWZpbmVzIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IC0gZGVmaW5lcyB0aGUgb2Zmc2V0IGluIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tQXJyYXkoYXJyYXksIG9mZnNldCA9IDApIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZShhcnJheVtvZmZzZXRdLCBhcnJheVtvZmZzZXQgKyAxXSwgYXJyYXlbb2Zmc2V0ICsgMl0pO1xuICAgIH1cbiAgICBWZWN0b3IzLmZyb21BcnJheSA9IGZyb21BcnJheTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IGZyb20gdGhlIGluZGV4IFwib2Zmc2V0XCIgb2YgdGhlIGdpdmVuIEZsb2F0QXJyYXlcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQuICBVc2UgRnJvbUFycmF5IGluc3RlYWRcbiAgICAgKiBAcGFyYW0gYXJyYXkgLSBkZWZpbmVzIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IC0gZGVmaW5lcyB0aGUgb2Zmc2V0IGluIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tRmxvYXRBcnJheShhcnJheSwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBmcm9tQXJyYXkoYXJyYXksIG9mZnNldCk7XG4gICAgfVxuICAgIFZlY3RvcjMuZnJvbUZsb2F0QXJyYXkgPSBmcm9tRmxvYXRBcnJheTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiB3aXRoIHRoZSBlbGVtZW50IHZhbHVlcyBmcm9tIHRoZSBpbmRleCBcIm9mZnNldFwiIG9mIHRoZSBnaXZlbiBhcnJheVxuICAgICAqIEBwYXJhbSBhcnJheSAtIGRlZmluZXMgdGhlIHNvdXJjZSBhcnJheVxuICAgICAqIEBwYXJhbSBvZmZzZXQgLSBkZWZpbmVzIHRoZSBvZmZzZXQgaW4gdGhlIHNvdXJjZSBhcnJheVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tQXJyYXlUb1JlZihhcnJheSwgb2Zmc2V0LCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnggPSBhcnJheVtvZmZzZXRdO1xuICAgICAgICByZXN1bHQueSA9IGFycmF5W29mZnNldCArIDFdO1xuICAgICAgICByZXN1bHQueiA9IGFycmF5W29mZnNldCArIDJdO1xuICAgIH1cbiAgICBWZWN0b3IzLmZyb21BcnJheVRvUmVmID0gZnJvbUFycmF5VG9SZWY7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCIgd2l0aCB0aGUgZWxlbWVudCB2YWx1ZXMgZnJvbSB0aGUgaW5kZXggXCJvZmZzZXRcIiBvZiB0aGUgZ2l2ZW4gRmxvYXRBcnJheVxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZC4gIFVzZSBGcm9tQXJyYXlUb1JlZiBpbnN0ZWFkLlxuICAgICAqIEBwYXJhbSBhcnJheSAtIGRlZmluZXMgdGhlIHNvdXJjZSBhcnJheVxuICAgICAqIEBwYXJhbSBvZmZzZXQgLSBkZWZpbmVzIHRoZSBvZmZzZXQgaW4gdGhlIHNvdXJjZSBhcnJheVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tRmxvYXRBcnJheVRvUmVmKGFycmF5LCBvZmZzZXQsIHJlc3VsdCkge1xuICAgICAgICByZXR1cm4gZnJvbUFycmF5VG9SZWYoYXJyYXksIG9mZnNldCwgcmVzdWx0KTtcbiAgICB9XG4gICAgVmVjdG9yMy5mcm9tRmxvYXRBcnJheVRvUmVmID0gZnJvbUZsb2F0QXJyYXlUb1JlZjtcbiAgICAvLyBQcm9wZXJ0aWVzXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGVuZ3RoIG9mIHRoZSBWZWN0b3IzXG4gICAgICogQHJldHVybnMgdGhlIGxlbmd0aCBvZiB0aGUgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxlbmd0aCh2ZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh2ZWN0b3IueCAqIHZlY3Rvci54ICsgdmVjdG9yLnkgKiB2ZWN0b3IueSArIHZlY3Rvci56ICogdmVjdG9yLnopO1xuICAgIH1cbiAgICBWZWN0b3IzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiB0aGUgVmVjdG9yM1xuICAgICAqIEByZXR1cm5zIHNxdWFyZWQgbGVuZ3RoIG9mIHRoZSBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGVuZ3RoU3F1YXJlZCh2ZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZlY3Rvci54ICogdmVjdG9yLnggKyB2ZWN0b3IueSAqIHZlY3Rvci55ICsgdmVjdG9yLnogKiB2ZWN0b3IuejtcbiAgICB9XG4gICAgVmVjdG9yMy5sZW5ndGhTcXVhcmVkID0gbGVuZ3RoU3F1YXJlZDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHdpdGggdGhlIGN1cnJlbnQgVmVjdG9yMyBjb29yZGluYXRlcyBtdWx0aXBsaWVkIGJ5IHRoZSBmbG9hdCBcInNjYWxlXCJcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBtdWx0aXBsaWVyIGZhY3RvclxuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzY2FsZVRvUmVmKHZlY3Rvciwgc2NhbGUsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQueCA9IHZlY3Rvci54ICogc2NhbGU7XG4gICAgICAgIHJlc3VsdC55ID0gdmVjdG9yLnkgKiBzY2FsZTtcbiAgICAgICAgcmVzdWx0LnogPSB2ZWN0b3IueiAqIHNjYWxlO1xuICAgIH1cbiAgICBWZWN0b3IzLnNjYWxlVG9SZWYgPSBzY2FsZVRvUmVmO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgd2l0aCB0aGUgY3VycmVudCBWZWN0b3IzIGNvb3JkaW5hdGVzIG11bHRpcGxpZWQgYnkgdGhlIGZsb2F0IFwic2NhbGVcIlxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIG11bHRpcGxpZXIgZmFjdG9yXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlKHZlY3Rvciwgc2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSh2ZWN0b3IueCAqIHNjYWxlLCB2ZWN0b3IueSAqIHNjYWxlLCB2ZWN0b3IueiAqIHNjYWxlKTtcbiAgICB9XG4gICAgVmVjdG9yMy5zY2FsZSA9IHNjYWxlO1xuICAgIC8qKlxuICAgICAqIE5vcm1hbGl6ZSB0aGUgY3VycmVudCBWZWN0b3IzIHdpdGggdGhlIGdpdmVuIGlucHV0IGxlbmd0aC5cbiAgICAgKiBQbGVhc2Ugbm90ZSB0aGF0IHRoaXMgaXMgYW4gaW4gcGxhY2Ugb3BlcmF0aW9uLlxuICAgICAqIEBwYXJhbSBsZW4gLSB0aGUgbGVuZ3RoIG9mIHRoZSB2ZWN0b3JcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxpemVGcm9tTGVuZ3RoKHZlY3RvciwgbGVuKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgwLCAwLCAwKTtcbiAgICAgICAgbm9ybWFsaXplRnJvbUxlbmd0aFRvUmVmKHZlY3RvciwgbGVuLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBWZWN0b3IzLm5vcm1hbGl6ZUZyb21MZW5ndGggPSBub3JtYWxpemVGcm9tTGVuZ3RoO1xuICAgIC8qKlxuICAgICAqIE5vcm1hbGl6ZSB0aGUgY3VycmVudCBWZWN0b3IzIHdpdGggdGhlIGdpdmVuIGlucHV0IGxlbmd0aC5cbiAgICAgKiBQbGVhc2Ugbm90ZSB0aGF0IHRoaXMgaXMgYW4gaW4gcGxhY2Ugb3BlcmF0aW9uLlxuICAgICAqIEBwYXJhbSBsZW4gLSB0aGUgbGVuZ3RoIG9mIHRoZSB2ZWN0b3JcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxpemVGcm9tTGVuZ3RoVG9SZWYodmVjdG9yLCBsZW4sIHJlc3VsdCkge1xuICAgICAgICBpZiAobGVuID09PSAwIHx8IGxlbiA9PT0gMS4wKSB7XG4gICAgICAgICAgICBjb3B5RnJvbSh2ZWN0b3IsIHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2NhbGVUb1JlZih2ZWN0b3IsIDEuMCAvIGxlbiwgcmVzdWx0KTtcbiAgICB9XG4gICAgVmVjdG9yMy5ub3JtYWxpemVGcm9tTGVuZ3RoVG9SZWYgPSBub3JtYWxpemVGcm9tTGVuZ3RoVG9SZWY7XG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplIHRoZSBjdXJyZW50IFZlY3RvcjMuXG4gICAgICogUGxlYXNlIG5vdGUgdGhhdCB0aGlzIGlzIGFuIGluIHBsYWNlIG9wZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxpemUodmVjdG9yKSB7XG4gICAgICAgIHJldHVybiBub3JtYWxpemVGcm9tTGVuZ3RoKHZlY3RvciwgbGVuZ3RoKHZlY3RvcikpO1xuICAgIH1cbiAgICBWZWN0b3IzLm5vcm1hbGl6ZSA9IG5vcm1hbGl6ZTtcbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemUgdGhlIGN1cnJlbnQgVmVjdG9yMy5cbiAgICAgKiBQbGVhc2Ugbm90ZSB0aGF0IHRoaXMgaXMgYW4gaW4gcGxhY2Ugb3BlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZVRvUmVmKHZlY3RvciwgcmVzdWx0KSB7XG4gICAgICAgIG5vcm1hbGl6ZUZyb21MZW5ndGhUb1JlZih2ZWN0b3IsIGxlbmd0aCh2ZWN0b3IpLCByZXN1bHQpO1xuICAgIH1cbiAgICBWZWN0b3IzLm5vcm1hbGl6ZVRvUmVmID0gbm9ybWFsaXplVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZG90IHByb2R1Y3QgKGZsb2F0KSBiZXR3ZWVuIHRoZSB2ZWN0b3JzIFwibGVmdFwiIGFuZCBcInJpZ2h0XCJcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIGxlZnQgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHJpZ2h0IG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB0aGUgZG90IHByb2R1Y3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkb3QobGVmdCwgcmlnaHQpIHtcbiAgICAgICAgcmV0dXJuIGxlZnQueCAqIHJpZ2h0LnggKyBsZWZ0LnkgKiByaWdodC55ICsgbGVmdC56ICogcmlnaHQuejtcbiAgICB9XG4gICAgVmVjdG9yMy5kb3QgPSBkb3Q7XG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB0aGlzIHZlY3RvciAod2l0aCBhbiBpbXBsaWNpdCAxIGluIHRoZSA0dGggZGltZW5zaW9uKSBhbmQgbSwgYW5kIGRpdmlkZXMgYnkgcGVyc3BlY3RpdmVcbiAgICAgKiBAcGFyYW0gbWF0cml4IC0gVGhlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgICAqIEByZXR1cm5zIHJlc3VsdCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXBwbHlNYXRyaXg0KHZlY3RvciwgbWF0cml4KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNsb25lKHZlY3Rvcik7XG4gICAgICAgIGFwcGx5TWF0cml4NFRvUmVmKHZlY3RvciwgbWF0cml4LCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBWZWN0b3IzLmFwcGx5TWF0cml4NCA9IGFwcGx5TWF0cml4NDtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHRoaXMgdmVjdG9yICh3aXRoIGFuIGltcGxpY2l0IDEgaW4gdGhlIDR0aCBkaW1lbnNpb24pIGFuZCBtLCBhbmQgZGl2aWRlcyBieSBwZXJzcGVjdGl2ZSBhbmQgc2V0IHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiB3aXRoIHRoaXMgcmVzdWx0XG4gICAgICogQHBhcmFtIG1hdHJpeCAtIFRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgVmVjdG9yMyBvYmplY3Qgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFwcGx5TWF0cml4NFRvUmVmKHZlY3RvciwgbWF0cml4LCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgeyB4LCB5LCB6IH0gPSB2ZWN0b3I7XG4gICAgICAgIGNvbnN0IG0gPSBtYXRyaXguX207XG4gICAgICAgIGNvbnN0IHcgPSAxIC8gKG1bM10gKiB4ICsgbVs3XSAqIHkgKyBtWzExXSAqIHogKyBtWzE1XSk7XG4gICAgICAgIHJlc3VsdC54ID0gKG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogeiArIG1bMTJdKSAqIHc7XG4gICAgICAgIHJlc3VsdC55ID0gKG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldICogeiArIG1bMTNdKSAqIHc7XG4gICAgICAgIHJlc3VsdC56ID0gKG1bMl0gKiB4ICsgbVs2XSAqIHkgKyBtWzEwXSAqIHogKyBtWzE0XSkgKiB3O1xuICAgIH1cbiAgICBWZWN0b3IzLmFwcGx5TWF0cml4NFRvUmVmID0gYXBwbHlNYXRyaXg0VG9SZWY7XG4gICAgLyoqXG4gICAgICogUm90YXRlcyB0aGUgY3VycmVudCBWZWN0b3IzIGJhc2VkIG9uIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIHEgLSBkZWZpbmVzIHRoZSBRdWF0ZXJuaW9uXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJvdGF0ZSh2ZWN0b3IsIHEpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIHJvdGF0ZVRvUmVmKHZlY3RvciwgcSwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgVmVjdG9yMy5yb3RhdGUgPSByb3RhdGU7XG4gICAgLyoqXG4gICAgICogUm90YXRlcyBjdXJyZW50IFZlY3RvcjMgYmFzZWQgb24gdGhlIGdpdmVuIHF1YXRlcm5pb24sIGJ1dCBhcHBsaWVzIHRoZSByb3RhdGlvbiB0byB0YXJnZXQgVmVjdG9yMy5cbiAgICAgKiBAcGFyYW0gcSAtIGRlZmluZXMgdGhlIFF1YXRlcm5pb25cbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IFZlY3RvcjNcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRlVG9SZWYodmVjdG9yLCBxLCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgeyB4LCB5LCB6IH0gPSB2ZWN0b3I7XG4gICAgICAgIGNvbnN0IHsgeDogcXgsIHk6IHF5LCB6OiBxeiwgdzogcXcgfSA9IHE7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSBxdWF0ICogdmVjdG9yXG4gICAgICAgIGNvbnN0IGl4ID0gcXcgKiB4ICsgcXkgKiB6IC0gcXogKiB5O1xuICAgICAgICBjb25zdCBpeSA9IHF3ICogeSArIHF6ICogeCAtIHF4ICogejtcbiAgICAgICAgY29uc3QgaXogPSBxdyAqIHogKyBxeCAqIHkgLSBxeSAqIHg7XG4gICAgICAgIGNvbnN0IGl3ID0gLXF4ICogeCAtIHF5ICogeSAtIHF6ICogejtcbiAgICAgICAgLy8gY2FsY3VsYXRlIHJlc3VsdCAqIGludmVyc2UgcXVhdFxuICAgICAgICByZXN1bHQueCA9IGl4ICogcXcgKyBpdyAqIC1xeCArIGl5ICogLXF6IC0gaXogKiAtcXk7XG4gICAgICAgIHJlc3VsdC55ID0gaXkgKiBxdyArIGl3ICogLXF5ICsgaXogKiAtcXggLSBpeCAqIC1xejtcbiAgICAgICAgcmVzdWx0LnogPSBpeiAqIHF3ICsgaXcgKiAtcXogKyBpeCAqIC1xeSAtIGl5ICogLXF4O1xuICAgIH1cbiAgICBWZWN0b3IzLnJvdGF0ZVRvUmVmID0gcm90YXRlVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIGxvY2F0ZWQgZm9yIFwiYW1vdW50XCIgKGZsb2F0KSBvbiB0aGUgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0aGUgdmVjdG9ycyBcInN0YXJ0XCIgYW5kIFwiZW5kXCJcbiAgICAgKiBAcGFyYW0gc3RhcnQgLSBkZWZpbmVzIHRoZSBzdGFydCB2YWx1ZVxuICAgICAqIEBwYXJhbSBlbmQgLSBkZWZpbmVzIHRoZSBlbmQgdmFsdWVcbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gbWF4IGRlZmluZXMgYW1vdW50IGJldHdlZW4gYm90aCAoYmV0d2VlbiAwIGFuZCAxKVxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxlcnAoc3RhcnQsIGVuZCwgYW1vdW50KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgwLCAwLCAwKTtcbiAgICAgICAgbGVycFRvUmVmKHN0YXJ0LCBlbmQsIGFtb3VudCwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgVmVjdG9yMy5sZXJwID0gbGVycDtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIGxpbmVhciBpbnRlcnBvbGF0aW9uIGZyb20gdGhlIHZlY3RvciBcInN0YXJ0XCIgZm9yIFwiYW1vdW50XCIgdG8gdGhlIHZlY3RvciBcImVuZFwiXG4gICAgICogQHBhcmFtIHN0YXJ0IC0gZGVmaW5lcyB0aGUgc3RhcnQgdmFsdWVcbiAgICAgKiBAcGFyYW0gZW5kIC0gZGVmaW5lcyB0aGUgZW5kIHZhbHVlXG4gICAgICogQHBhcmFtIGFtb3VudCAtIG1heCBkZWZpbmVzIGFtb3VudCBiZXR3ZWVuIGJvdGggKGJldHdlZW4gMCBhbmQgMSlcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gbGVycFRvUmVmKHN0YXJ0LCBlbmQsIGFtb3VudCwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC54ID0gc3RhcnQueCArIChlbmQueCAtIHN0YXJ0LngpICogYW1vdW50O1xuICAgICAgICByZXN1bHQueSA9IHN0YXJ0LnkgKyAoZW5kLnkgLSBzdGFydC55KSAqIGFtb3VudDtcbiAgICAgICAgcmVzdWx0LnogPSBzdGFydC56ICsgKGVuZC56IC0gc3RhcnQueikgKiBhbW91bnQ7XG4gICAgfVxuICAgIFZlY3RvcjMubGVycFRvUmVmID0gbGVycFRvUmVmO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBhcyB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB0aGUgdmVjdG9ycyBcImxlZnRcIiBhbmQgXCJyaWdodFwiXG4gICAgICogVGhlIGNyb3NzIHByb2R1Y3QgaXMgdGhlbiBvcnRob2dvbmFsIHRvIGJvdGggXCJsZWZ0XCIgYW5kIFwicmlnaHRcIlxuICAgICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyB0aGUgbGVmdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgcmlnaHQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBjcm9zcyBwcm9kdWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gY3Jvc3MobGVmdCwgcmlnaHQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gWmVybygpO1xuICAgICAgICBjcm9zc1RvUmVmKGxlZnQsIHJpZ2h0LCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBWZWN0b3IzLmNyb3NzID0gY3Jvc3M7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCIgd2l0aCB0aGUgY3Jvc3MgcHJvZHVjdCBvZiBcImxlZnRcIiBhbmQgXCJyaWdodFwiXG4gICAgICogVGhlIGNyb3NzIHByb2R1Y3QgaXMgdGhlbiBvcnRob2dvbmFsIHRvIGJvdGggXCJsZWZ0XCIgYW5kIFwicmlnaHRcIlxuICAgICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyB0aGUgbGVmdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgcmlnaHQgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcm9zc1RvUmVmKGxlZnQsIHJpZ2h0LCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnggPSBsZWZ0LnkgKiByaWdodC56IC0gbGVmdC56ICogcmlnaHQueTtcbiAgICAgICAgcmVzdWx0LnkgPSBsZWZ0LnogKiByaWdodC54IC0gbGVmdC54ICogcmlnaHQuejtcbiAgICAgICAgcmVzdWx0LnogPSBsZWZ0LnggKiByaWdodC55IC0gbGVmdC55ICogcmlnaHQueDtcbiAgICB9XG4gICAgVmVjdG9yMy5jcm9zc1RvUmVmID0gY3Jvc3NUb1JlZjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgdHJhbnNmb3JtYXRpb24gYnkgdGhlIGdpdmVuIG1hdHJpeCBvZiB0aGUgZ2l2ZW4gdmVjdG9yLlxuICAgICAqIFRoaXMgbWV0aG9kIGNvbXB1dGVzIHRyYW5mb3JtZWQgY29vcmRpbmF0ZXMgb25seSwgbm90IHRyYW5zZm9ybWVkIGRpcmVjdGlvbiB2ZWN0b3JzIChpZS4gaXQgdGFrZXMgdHJhbnNsYXRpb24gaW4gYWNjb3VudClcbiAgICAgKiBAcGFyYW0gdmVjdG9yIC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSBkZWZpbmVzIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKiBAcmV0dXJucyB0aGUgdHJhbnNmb3JtZWQgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybUNvb3JkaW5hdGVzKHZlY3RvciwgdHJhbnNmb3JtYXRpb24pIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gWmVybygpO1xuICAgICAgICB0cmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHZlY3RvciwgdHJhbnNmb3JtYXRpb24sIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFZlY3RvcjMudHJhbnNmb3JtQ29vcmRpbmF0ZXMgPSB0cmFuc2Zvcm1Db29yZGluYXRlcztcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiBjb29yZGluYXRlcyB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIHRyYW5zZm9ybWF0aW9uIGJ5IHRoZSBnaXZlbiBtYXRyaXggb2YgdGhlIGdpdmVuIHZlY3RvclxuICAgICAqIFRoaXMgbWV0aG9kIGNvbXB1dGVzIHRyYW5mb3JtZWQgY29vcmRpbmF0ZXMgb25seSwgbm90IHRyYW5zZm9ybWVkIGRpcmVjdGlvbiB2ZWN0b3JzIChpZS4gaXQgdGFrZXMgdHJhbnNsYXRpb24gaW4gYWNjb3VudClcbiAgICAgKiBAcGFyYW0gdmVjdG9yIC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSBkZWZpbmVzIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih2ZWN0b3IsIHRyYW5zZm9ybWF0aW9uLCByZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKHZlY3Rvci54LCB2ZWN0b3IueSwgdmVjdG9yLnosIHRyYW5zZm9ybWF0aW9uLCByZXN1bHQpO1xuICAgIH1cbiAgICBWZWN0b3IzLnRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYgPSB0cmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIHZlY3RvciBcInJlc3VsdFwiIGNvb3JkaW5hdGVzIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgdHJhbnNmb3JtYXRpb24gYnkgdGhlIGdpdmVuIG1hdHJpeCBvZiB0aGUgZ2l2ZW4gZmxvYXRzICh4LCB5LCB6KVxuICAgICAqIFRoaXMgbWV0aG9kIGNvbXB1dGVzIHRyYW5mb3JtZWQgY29vcmRpbmF0ZXMgb25seSwgbm90IHRyYW5zZm9ybWVkIGRpcmVjdGlvbiB2ZWN0b3JzXG4gICAgICogQHBhcmFtIHggLSBkZWZpbmUgdGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgc291cmNlIHZlY3RvclxuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIHNvdXJjZSB2ZWN0b3JcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZSB0aGUgeiBjb29yZGluYXRlIG9mIHRoZSBzb3VyY2UgdmVjdG9yXG4gICAgICogQHBhcmFtIHRyYW5zZm9ybWF0aW9uIC0gZGVmaW5lcyB0aGUgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKHgsIHksIHosIHRyYW5zZm9ybWF0aW9uLCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgbSA9IHRyYW5zZm9ybWF0aW9uLl9tO1xuICAgICAgICBjb25zdCByeCA9IHggKiBtWzBdICsgeSAqIG1bNF0gKyB6ICogbVs4XSArIG1bMTJdO1xuICAgICAgICBjb25zdCByeSA9IHggKiBtWzFdICsgeSAqIG1bNV0gKyB6ICogbVs5XSArIG1bMTNdO1xuICAgICAgICBjb25zdCByeiA9IHggKiBtWzJdICsgeSAqIG1bNl0gKyB6ICogbVsxMF0gKyBtWzE0XTtcbiAgICAgICAgY29uc3QgcncgPSAxIC8gKHggKiBtWzNdICsgeSAqIG1bN10gKyB6ICogbVsxMV0gKyBtWzE1XSk7XG4gICAgICAgIHJlc3VsdC54ID0gcnggKiBydztcbiAgICAgICAgcmVzdWx0LnkgPSByeSAqIHJ3O1xuICAgICAgICByZXN1bHQueiA9IHJ6ICogcnc7XG4gICAgfVxuICAgIFZlY3RvcjMudHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYgPSB0cmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgbm9ybWFsIHRyYW5zZm9ybWF0aW9uIGJ5IHRoZSBnaXZlbiBtYXRyaXggb2YgdGhlIGdpdmVuIHZlY3RvclxuICAgICAqIFRoaXMgbWV0aG9kcyBjb21wdXRlcyB0cmFuc2Zvcm1lZCBub3JtYWxpemVkIGRpcmVjdGlvbiB2ZWN0b3JzIG9ubHkgKGllLiBpdCBkb2VzIG5vdCBhcHBseSB0cmFuc2xhdGlvbilcbiAgICAgKiBAcGFyYW0gdmVjdG9yIC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSBkZWZpbmVzIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc2Zvcm1Ob3JtYWwodmVjdG9yLCB0cmFuc2Zvcm1hdGlvbikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBaZXJvKCk7XG4gICAgICAgIHRyYW5zZm9ybU5vcm1hbFRvUmVmKHZlY3RvciwgdHJhbnNmb3JtYXRpb24sIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFZlY3RvcjMudHJhbnNmb3JtTm9ybWFsID0gdHJhbnNmb3JtTm9ybWFsO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIHZlY3RvciBcInJlc3VsdFwiIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgbm9ybWFsIHRyYW5zZm9ybWF0aW9uIGJ5IHRoZSBnaXZlbiBtYXRyaXggb2YgdGhlIGdpdmVuIHZlY3RvclxuICAgICAqIFRoaXMgbWV0aG9kcyBjb21wdXRlcyB0cmFuc2Zvcm1lZCBub3JtYWxpemVkIGRpcmVjdGlvbiB2ZWN0b3JzIG9ubHkgKGllLiBpdCBkb2VzIG5vdCBhcHBseSB0cmFuc2xhdGlvbilcbiAgICAgKiBAcGFyYW0gdmVjdG9yIC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSBkZWZpbmVzIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtTm9ybWFsVG9SZWYodmVjdG9yLCB0cmFuc2Zvcm1hdGlvbiwgcmVzdWx0KSB7XG4gICAgICAgIHRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZih2ZWN0b3IueCwgdmVjdG9yLnksIHZlY3Rvci56LCB0cmFuc2Zvcm1hdGlvbiwgcmVzdWx0KTtcbiAgICB9XG4gICAgVmVjdG9yMy50cmFuc2Zvcm1Ob3JtYWxUb1JlZiA9IHRyYW5zZm9ybU5vcm1hbFRvUmVmO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIHZlY3RvciBcInJlc3VsdFwiIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgbm9ybWFsIHRyYW5zZm9ybWF0aW9uIGJ5IHRoZSBnaXZlbiBtYXRyaXggb2YgdGhlIGdpdmVuIGZsb2F0cyAoeCwgeSwgeilcbiAgICAgKiBUaGlzIG1ldGhvZHMgY29tcHV0ZXMgdHJhbnNmb3JtZWQgbm9ybWFsaXplZCBkaXJlY3Rpb24gdmVjdG9ycyBvbmx5IChpZS4gaXQgZG9lcyBub3QgYXBwbHkgdHJhbnNsYXRpb24pXG4gICAgICogQHBhcmFtIHggLSBkZWZpbmUgdGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgc291cmNlIHZlY3RvclxuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIHNvdXJjZSB2ZWN0b3JcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZSB0aGUgeiBjb29yZGluYXRlIG9mIHRoZSBzb3VyY2UgdmVjdG9yXG4gICAgICogQHBhcmFtIHRyYW5zZm9ybWF0aW9uIC0gZGVmaW5lcyB0aGUgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZih4LCB5LCB6LCB0cmFuc2Zvcm1hdGlvbiwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IG0gPSB0cmFuc2Zvcm1hdGlvbi5fbTtcbiAgICAgICAgcmVzdWx0LnggPSB4ICogbVswXSArIHkgKiBtWzRdICsgeiAqIG1bOF07XG4gICAgICAgIHJlc3VsdC55ID0geCAqIG1bMV0gKyB5ICogbVs1XSArIHogKiBtWzldO1xuICAgICAgICByZXN1bHQueiA9IHggKiBtWzJdICsgeSAqIG1bNl0gKyB6ICogbVsxMF07XG4gICAgfVxuICAgIFZlY3RvcjMudHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmID0gdHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBsb2NhdGVkIGZvciBcImFtb3VudFwiIG9uIHRoZSBDYXRtdWxsUm9tIGludGVycG9sYXRpb24gc3BsaW5lIGRlZmluZWQgYnkgdGhlIHZlY3RvcnMgXCJ2YWx1ZTFcIiwgXCJ2YWx1ZTJcIiwgXCJ2YWx1ZTNcIiwgXCJ2YWx1ZTRcIlxuICAgICAqIEBwYXJhbSB2YWx1ZTEgLSBkZWZpbmVzIHRoZSBmaXJzdCBjb250cm9sIHBvaW50XG4gICAgICogQHBhcmFtIHZhbHVlMiAtIGRlZmluZXMgdGhlIHNlY29uZCBjb250cm9sIHBvaW50XG4gICAgICogQHBhcmFtIHZhbHVlMyAtIGRlZmluZXMgdGhlIHRoaXJkIGNvbnRyb2wgcG9pbnRcbiAgICAgKiBAcGFyYW0gdmFsdWU0IC0gZGVmaW5lcyB0aGUgZm91cnRoIGNvbnRyb2wgcG9pbnRcbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gZGVmaW5lcyB0aGUgYW1vdW50IG9uIHRoZSBzcGxpbmUgdG8gdXNlXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2F0bXVsbFJvbSh2YWx1ZTEsIHZhbHVlMiwgdmFsdWUzLCB2YWx1ZTQsIGFtb3VudCkge1xuICAgICAgICBjb25zdCBzcXVhcmVkID0gYW1vdW50ICogYW1vdW50O1xuICAgICAgICBjb25zdCBjdWJlZCA9IGFtb3VudCAqIHNxdWFyZWQ7XG4gICAgICAgIGNvbnN0IHggPSAwLjUgKlxuICAgICAgICAgICAgKDIuMCAqIHZhbHVlMi54ICtcbiAgICAgICAgICAgICAgICAoLXZhbHVlMS54ICsgdmFsdWUzLngpICogYW1vdW50ICtcbiAgICAgICAgICAgICAgICAoMi4wICogdmFsdWUxLnggLSA1LjAgKiB2YWx1ZTIueCArIDQuMCAqIHZhbHVlMy54IC0gdmFsdWU0LngpICpcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlZCArXG4gICAgICAgICAgICAgICAgKC12YWx1ZTEueCArIDMuMCAqIHZhbHVlMi54IC0gMy4wICogdmFsdWUzLnggKyB2YWx1ZTQueCkgKiBjdWJlZCk7XG4gICAgICAgIGNvbnN0IHkgPSAwLjUgKlxuICAgICAgICAgICAgKDIuMCAqIHZhbHVlMi55ICtcbiAgICAgICAgICAgICAgICAoLXZhbHVlMS55ICsgdmFsdWUzLnkpICogYW1vdW50ICtcbiAgICAgICAgICAgICAgICAoMi4wICogdmFsdWUxLnkgLSA1LjAgKiB2YWx1ZTIueSArIDQuMCAqIHZhbHVlMy55IC0gdmFsdWU0LnkpICpcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlZCArXG4gICAgICAgICAgICAgICAgKC12YWx1ZTEueSArIDMuMCAqIHZhbHVlMi55IC0gMy4wICogdmFsdWUzLnkgKyB2YWx1ZTQueSkgKiBjdWJlZCk7XG4gICAgICAgIGNvbnN0IHogPSAwLjUgKlxuICAgICAgICAgICAgKDIuMCAqIHZhbHVlMi56ICtcbiAgICAgICAgICAgICAgICAoLXZhbHVlMS56ICsgdmFsdWUzLnopICogYW1vdW50ICtcbiAgICAgICAgICAgICAgICAoMi4wICogdmFsdWUxLnogLSA1LjAgKiB2YWx1ZTIueiArIDQuMCAqIHZhbHVlMy56IC0gdmFsdWU0LnopICpcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlZCArXG4gICAgICAgICAgICAgICAgKC12YWx1ZTEueiArIDMuMCAqIHZhbHVlMi56IC0gMy4wICogdmFsdWUzLnogKyB2YWx1ZTQueikgKiBjdWJlZCk7XG4gICAgICAgIHJldHVybiBjcmVhdGUoeCwgeSwgeik7XG4gICAgfVxuICAgIFZlY3RvcjMuY2F0bXVsbFJvbSA9IGNhdG11bGxSb207XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCB3aXRoIHRoZSBjb29yZGluYXRlcyBvZiBcInZhbHVlXCIsIGlmIHRoZSB2ZWN0b3IgXCJ2YWx1ZVwiIGlzIGluIHRoZSBjdWJlIGRlZmluZWQgYnkgdGhlIHZlY3RvcnMgXCJtaW5cIiBhbmQgXCJtYXhcIlxuICAgICAqIElmIGEgY29vcmRpbmF0ZSB2YWx1ZSBvZiBcInZhbHVlXCIgaXMgbG93ZXIgdGhhbiBvbmUgb2YgdGhlIFwibWluXCIgY29vcmRpbmF0ZSwgdGhlbiB0aGlzIFwidmFsdWVcIiBjb29yZGluYXRlIGlzIHNldCB3aXRoIHRoZSBcIm1pblwiIG9uZVxuICAgICAqIElmIGEgY29vcmRpbmF0ZSB2YWx1ZSBvZiBcInZhbHVlXCIgaXMgZ3JlYXRlciB0aGFuIG9uZSBvZiB0aGUgXCJtYXhcIiBjb29yZGluYXRlLCB0aGVuIHRoaXMgXCJ2YWx1ZVwiIGNvb3JkaW5hdGUgaXMgc2V0IHdpdGggdGhlIFwibWF4XCIgb25lXG4gICAgICogQHBhcmFtIHZhbHVlIC0gZGVmaW5lcyB0aGUgY3VycmVudCB2YWx1ZVxuICAgICAqIEBwYXJhbSBtaW4gLSBkZWZpbmVzIHRoZSBsb3dlciByYW5nZSB2YWx1ZVxuICAgICAqIEBwYXJhbSBtYXggLSBkZWZpbmVzIHRoZSB1cHBlciByYW5nZSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsYW1wKHZhbHVlLCBtaW4sIG1heCkge1xuICAgICAgICBjb25zdCB2ID0gY3JlYXRlKCk7XG4gICAgICAgIGNsYW1wVG9SZWYodmFsdWUsIG1pbiwgbWF4LCB2KTtcbiAgICAgICAgcmV0dXJuIHY7XG4gICAgfVxuICAgIFZlY3RvcjMuY2xhbXAgPSBjbGFtcDtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiB3aXRoIHRoZSBjb29yZGluYXRlcyBvZiBcInZhbHVlXCIsIGlmIHRoZSB2ZWN0b3IgXCJ2YWx1ZVwiIGlzIGluIHRoZSBjdWJlIGRlZmluZWQgYnkgdGhlIHZlY3RvcnMgXCJtaW5cIiBhbmQgXCJtYXhcIlxuICAgICAqIElmIGEgY29vcmRpbmF0ZSB2YWx1ZSBvZiBcInZhbHVlXCIgaXMgbG93ZXIgdGhhbiBvbmUgb2YgdGhlIFwibWluXCIgY29vcmRpbmF0ZSwgdGhlbiB0aGlzIFwidmFsdWVcIiBjb29yZGluYXRlIGlzIHNldCB3aXRoIHRoZSBcIm1pblwiIG9uZVxuICAgICAqIElmIGEgY29vcmRpbmF0ZSB2YWx1ZSBvZiBcInZhbHVlXCIgaXMgZ3JlYXRlciB0aGFuIG9uZSBvZiB0aGUgXCJtYXhcIiBjb29yZGluYXRlLCB0aGVuIHRoaXMgXCJ2YWx1ZVwiIGNvb3JkaW5hdGUgaXMgc2V0IHdpdGggdGhlIFwibWF4XCIgb25lXG4gICAgICogQHBhcmFtIHZhbHVlIC0gZGVmaW5lcyB0aGUgY3VycmVudCB2YWx1ZVxuICAgICAqIEBwYXJhbSBtaW4gLSBkZWZpbmVzIHRoZSBsb3dlciByYW5nZSB2YWx1ZVxuICAgICAqIEBwYXJhbSBtYXggLSBkZWZpbmVzIHRoZSB1cHBlciByYW5nZSB2YWx1ZVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbGFtcFRvUmVmKHZhbHVlLCBtaW4sIG1heCwgcmVzdWx0KSB7XG4gICAgICAgIGxldCB4ID0gdmFsdWUueDtcbiAgICAgICAgeCA9IHggPiBtYXgueCA/IG1heC54IDogeDtcbiAgICAgICAgeCA9IHggPCBtaW4ueCA/IG1pbi54IDogeDtcbiAgICAgICAgbGV0IHkgPSB2YWx1ZS55O1xuICAgICAgICB5ID0geSA+IG1heC55ID8gbWF4LnkgOiB5O1xuICAgICAgICB5ID0geSA8IG1pbi55ID8gbWluLnkgOiB5O1xuICAgICAgICBsZXQgeiA9IHZhbHVlLno7XG4gICAgICAgIHogPSB6ID4gbWF4LnogPyBtYXgueiA6IHo7XG4gICAgICAgIHogPSB6IDwgbWluLnogPyBtaW4ueiA6IHo7XG4gICAgICAgIGNvcHlGcm9tRmxvYXRzKHgsIHksIHosIHJlc3VsdCk7XG4gICAgfVxuICAgIFZlY3RvcjMuY2xhbXBUb1JlZiA9IGNsYW1wVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIGxvY2F0ZWQgZm9yIFwiYW1vdW50XCIgKGZsb2F0KSBvbiB0aGUgSGVybWl0ZSBpbnRlcnBvbGF0aW9uIHNwbGluZSBkZWZpbmVkIGJ5IHRoZSB2ZWN0b3JzIFwidmFsdWUxXCIsIFwidGFuZ2VudDFcIiwgXCJ2YWx1ZTJcIiwgXCJ0YW5nZW50MlwiXG4gICAgICogQHBhcmFtIHZhbHVlMSAtIGRlZmluZXMgdGhlIGZpcnN0IGNvbnRyb2wgcG9pbnRcbiAgICAgKiBAcGFyYW0gdGFuZ2VudDEgLSBkZWZpbmVzIHRoZSBmaXJzdCB0YW5nZW50IHZlY3RvclxuICAgICAqIEBwYXJhbSB2YWx1ZTIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgY29udHJvbCBwb2ludFxuICAgICAqIEBwYXJhbSB0YW5nZW50MiAtIGRlZmluZXMgdGhlIHNlY29uZCB0YW5nZW50IHZlY3RvclxuICAgICAqIEBwYXJhbSBhbW91bnQgLSBkZWZpbmVzIHRoZSBhbW91bnQgb24gdGhlIGludGVycG9sYXRpb24gc3BsaW5lIChiZXR3ZWVuIDAgYW5kIDEpXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGVybWl0ZSh2YWx1ZTEsIHRhbmdlbnQxLCB2YWx1ZTIsIHRhbmdlbnQyLCBhbW91bnQpIHtcbiAgICAgICAgY29uc3Qgc3F1YXJlZCA9IGFtb3VudCAqIGFtb3VudDtcbiAgICAgICAgY29uc3QgY3ViZWQgPSBhbW91bnQgKiBzcXVhcmVkO1xuICAgICAgICBjb25zdCBwYXJ0MSA9IDIuMCAqIGN1YmVkIC0gMy4wICogc3F1YXJlZCArIDEuMDtcbiAgICAgICAgY29uc3QgcGFydDIgPSAtMi4wICogY3ViZWQgKyAzLjAgKiBzcXVhcmVkO1xuICAgICAgICBjb25zdCBwYXJ0MyA9IGN1YmVkIC0gMi4wICogc3F1YXJlZCArIGFtb3VudDtcbiAgICAgICAgY29uc3QgcGFydDQgPSBjdWJlZCAtIHNxdWFyZWQ7XG4gICAgICAgIGNvbnN0IHggPSB2YWx1ZTEueCAqIHBhcnQxICtcbiAgICAgICAgICAgIHZhbHVlMi54ICogcGFydDIgK1xuICAgICAgICAgICAgdGFuZ2VudDEueCAqIHBhcnQzICtcbiAgICAgICAgICAgIHRhbmdlbnQyLnggKiBwYXJ0NDtcbiAgICAgICAgY29uc3QgeSA9IHZhbHVlMS55ICogcGFydDEgK1xuICAgICAgICAgICAgdmFsdWUyLnkgKiBwYXJ0MiArXG4gICAgICAgICAgICB0YW5nZW50MS55ICogcGFydDMgK1xuICAgICAgICAgICAgdGFuZ2VudDIueSAqIHBhcnQ0O1xuICAgICAgICBjb25zdCB6ID0gdmFsdWUxLnogKiBwYXJ0MSArXG4gICAgICAgICAgICB2YWx1ZTIueiAqIHBhcnQyICtcbiAgICAgICAgICAgIHRhbmdlbnQxLnogKiBwYXJ0MyArXG4gICAgICAgICAgICB0YW5nZW50Mi56ICogcGFydDQ7XG4gICAgICAgIHJldHVybiBjcmVhdGUoeCwgeSwgeik7XG4gICAgfVxuICAgIFZlY3RvcjMuaGVybWl0ZSA9IGhlcm1pdGU7XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWluaW1hbCBjb29yZGluYXRlIHZhbHVlcyBiZXR3ZWVuIHR3byBWZWN0b3IzXG4gICAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW5pbWl6ZShsZWZ0LCByaWdodCkge1xuICAgICAgICBjb25zdCBtaW4gPSBjcmVhdGUoKTtcbiAgICAgICAgbWluaW1pemVJblBsYWNlRnJvbUZsb2F0c1RvUmVmKHJpZ2h0LCBsZWZ0LngsIGxlZnQueSwgbGVmdC56LCBtaW4pO1xuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBWZWN0b3IzLm1pbmltaXplID0gbWluaW1pemU7XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWF4aW1hbCBjb29yZGluYXRlIHZhbHVlcyBiZXR3ZWVuIHR3byBWZWN0b3IzXG4gICAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXhpbWl6ZShsZWZ0LCByaWdodCkge1xuICAgICAgICBjb25zdCBtYXggPSBjcmVhdGUoKTtcbiAgICAgICAgbWF4aW1pemVJblBsYWNlRnJvbUZsb2F0c1RvUmVmKGxlZnQsIHJpZ2h0LngsIHJpZ2h0LnksIHJpZ2h0LnosIG1heCk7XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxuICAgIFZlY3RvcjMubWF4aW1pemUgPSBtYXhpbWl6ZTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSB2ZWN0b3JzIFwidmFsdWUxXCIgYW5kIFwidmFsdWUyXCJcbiAgICAgKiBAcGFyYW0gdmFsdWUxIC0gZGVmaW5lcyB0aGUgZmlyc3Qgb3BlcmFuZFxuICAgICAqIEBwYXJhbSB2YWx1ZTIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBkaXN0YW5jZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRpc3RhbmNlKHZhbHVlMSwgdmFsdWUyKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoZGlzdGFuY2VTcXVhcmVkKHZhbHVlMSwgdmFsdWUyKSk7XG4gICAgfVxuICAgIFZlY3RvcjMuZGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gdGhlIHZlY3RvcnMgXCJ2YWx1ZTFcIiBhbmQgXCJ2YWx1ZTJcIlxuICAgICAqIEBwYXJhbSB2YWx1ZTEgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHZhbHVlMiAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgdGhlIHNxdWFyZWQgZGlzdGFuY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkaXN0YW5jZVNxdWFyZWQodmFsdWUxLCB2YWx1ZTIpIHtcbiAgICAgICAgY29uc3QgeCA9IHZhbHVlMS54IC0gdmFsdWUyLng7XG4gICAgICAgIGNvbnN0IHkgPSB2YWx1ZTEueSAtIHZhbHVlMi55O1xuICAgICAgICBjb25zdCB6ID0gdmFsdWUxLnogLSB2YWx1ZTIuejtcbiAgICAgICAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogejtcbiAgICB9XG4gICAgVmVjdG9yMy5kaXN0YW5jZVNxdWFyZWQgPSBkaXN0YW5jZVNxdWFyZWQ7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIGxvY2F0ZWQgYXQgdGhlIGNlbnRlciBiZXR3ZWVuIFwidmFsdWUxXCIgYW5kIFwidmFsdWUyXCJcbiAgICAgKiBAcGFyYW0gdmFsdWUxIC0gZGVmaW5lcyB0aGUgZmlyc3Qgb3BlcmFuZFxuICAgICAqIEBwYXJhbSB2YWx1ZTIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNlbnRlcih2YWx1ZTEsIHZhbHVlMikge1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBhZGQodmFsdWUxLCB2YWx1ZTIpO1xuICAgICAgICBzY2FsZVRvUmVmKGNlbnRlciwgMC41LCBjZW50ZXIpO1xuICAgICAgICByZXR1cm4gY2VudGVyO1xuICAgIH1cbiAgICBWZWN0b3IzLmNlbnRlciA9IGNlbnRlcjtcbiAgICAvKipcbiAgICAgKiBHaXZlbiB0aHJlZSBvcnRob2dvbmFsIG5vcm1hbGl6ZWQgbGVmdC1oYW5kZWQgb3JpZW50ZWQgVmVjdG9yMyBheGlzIGluIHNwYWNlICh0YXJnZXQgc3lzdGVtKSxcbiAgICAgKiBSb3RhdGlvbkZyb21BeGlzKCkgcmV0dXJucyB0aGUgcm90YXRpb24gRXVsZXIgYW5nbGVzIChleCA6IHJvdGF0aW9uLngsIHJvdGF0aW9uLnksIHJvdGF0aW9uLnopIHRvIGFwcGx5XG4gICAgICogdG8gc29tZXRoaW5nIGluIG9yZGVyIHRvIHJvdGF0ZSBpdCBmcm9tIGl0cyBsb2NhbCBzeXN0ZW0gdG8gdGhlIGdpdmVuIHRhcmdldCBzeXN0ZW1cbiAgICAgKiBOb3RlOiBheGlzMSwgYXhpczIgYW5kIGF4aXMzIGFyZSBub3JtYWxpemVkIGR1cmluZyB0aGlzIG9wZXJhdGlvblxuICAgICAqIEBwYXJhbSBheGlzMSAtIGRlZmluZXMgdGhlIGZpcnN0IGF4aXNcbiAgICAgKiBAcGFyYW0gYXhpczIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgYXhpc1xuICAgICAqIEBwYXJhbSBheGlzMyAtIGRlZmluZXMgdGhlIHRoaXJkIGF4aXNcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRpb25Gcm9tQXhpcyhheGlzMSwgYXhpczIsIGF4aXMzKSB7XG4gICAgICAgIGNvbnN0IHJvdGF0aW9uID0gWmVybygpO1xuICAgICAgICByb3RhdGlvbkZyb21BeGlzVG9SZWYoYXhpczEsIGF4aXMyLCBheGlzMywgcm90YXRpb24pO1xuICAgICAgICByZXR1cm4gcm90YXRpb247XG4gICAgfVxuICAgIFZlY3RvcjMucm90YXRpb25Gcm9tQXhpcyA9IHJvdGF0aW9uRnJvbUF4aXM7XG4gICAgLyoqXG4gICAgICogVGhlIHNhbWUgdGhhbiBSb3RhdGlvbkZyb21BeGlzIGJ1dCB1cGRhdGVzIHRoZSBnaXZlbiByZWYgVmVjdG9yMyBwYXJhbWV0ZXIgaW5zdGVhZCBvZiByZXR1cm5pbmcgYSBuZXcgVmVjdG9yM1xuICAgICAqIEBwYXJhbSBheGlzMSAtIGRlZmluZXMgdGhlIGZpcnN0IGF4aXNcbiAgICAgKiBAcGFyYW0gYXhpczIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgYXhpc1xuICAgICAqIEBwYXJhbSBheGlzMyAtIGRlZmluZXMgdGhlIHRoaXJkIGF4aXNcbiAgICAgKiBAcGFyYW0gcmVmIC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRpb25Gcm9tQXhpc1RvUmVmKGF4aXMxLCBheGlzMiwgYXhpczMsIHJlc3VsdCkge1xuICAgICAgICBjb25zdCBxdWF0ID0gUXVhdGVybmlvbi5jcmVhdGUoKTtcbiAgICAgICAgUXVhdGVybmlvbi5mcm9tQXhpc1RvUm90YXRpb25RdWF0ZXJuaW9uVG9SZWYoYXhpczEsIGF4aXMyLCBheGlzMywgcXVhdCk7XG4gICAgICAgIGNvcHlGcm9tKFF1YXRlcm5pb24udG9FdWxlckFuZ2xlcyhxdWF0KSwgcmVzdWx0KTtcbiAgICB9XG4gICAgVmVjdG9yMy5yb3RhdGlvbkZyb21BeGlzVG9SZWYgPSByb3RhdGlvbkZyb21BeGlzVG9SZWY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgVmVjdG9yM1xuICAgICAqIEByZXR1cm5zIGEgc3RyaW5nIHdpdGggdGhlIFZlY3RvcjMgY29vcmRpbmF0ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcodmVjdG9yKSB7XG4gICAgICAgIHJldHVybiBgKCR7dmVjdG9yLnh9LCAke3ZlY3Rvci55fSwgJHt2ZWN0b3Iuen0pYDtcbiAgICB9XG4gICAgVmVjdG9yMy50b1N0cmluZyA9IHRvU3RyaW5nO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIFZlY3RvcjMgaGFzaCBjb2RlXG4gICAgICogQHJldHVybnMgYSBudW1iZXIgd2hpY2ggdGVuZHMgdG8gYmUgdW5pcXVlIGJldHdlZW4gVmVjdG9yMyBpbnN0YW5jZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRIYXNoQ29kZSh2ZWN0b3IpIHtcbiAgICAgICAgbGV0IGhhc2ggPSB2ZWN0b3IueCB8fCAwO1xuICAgICAgICBoYXNoID0gKGhhc2ggKiAzOTcpIF4gKHZlY3Rvci55IHx8IDApO1xuICAgICAgICBoYXNoID0gKGhhc2ggKiAzOTcpIF4gKHZlY3Rvci56IHx8IDApO1xuICAgICAgICByZXR1cm4gaGFzaDtcbiAgICB9XG4gICAgVmVjdG9yMy5nZXRIYXNoQ29kZSA9IGdldEhhc2hDb2RlO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdmVjdG9yMSBhbmQgdGhlIHZlY3RvcjIgY29vcmRpbmF0ZXMgYXJlIHN0cmljdGx5IGVxdWFsXG4gICAgICogQHBhcmFtIHZlY3RvcjEgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHZlY3RvcjIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgYm90aCB2ZWN0b3JzIGFyZSBlcXVhbHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbHModmVjdG9yMSwgdmVjdG9yMikge1xuICAgICAgICByZXR1cm4gKHZlY3RvcjEueCA9PT0gdmVjdG9yMi54ICYmXG4gICAgICAgICAgICB2ZWN0b3IxLnkgPT09IHZlY3RvcjIueSAmJlxuICAgICAgICAgICAgdmVjdG9yMS56ID09PSB2ZWN0b3IyLnopO1xuICAgIH1cbiAgICBWZWN0b3IzLmVxdWFscyA9IGVxdWFscztcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGN1cnJlbnQgVmVjdG9yMyBhbmQgdGhlIGdpdmVuIHZlY3RvciBjb29yZGluYXRlcyBhcmUgZGlzdGFudCBsZXNzIHRoYW4gZXBzaWxvblxuICAgICAqIEBwYXJhbSBvdGhlclZlY3RvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHBhcmFtIGVwc2lsb24gLSBkZWZpbmVzIHRoZSBtaW5pbWFsIGRpc3RhbmNlIHRvIGRlZmluZSB2YWx1ZXMgYXMgZXF1YWxzXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiBib3RoIHZlY3RvcnMgYXJlIGRpc3RhbnQgbGVzcyB0aGFuIGVwc2lsb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbHNXaXRoRXBzaWxvbih2ZWN0b3IxLCB2ZWN0b3IyLCBlcHNpbG9uID0gRXBzaWxvbikge1xuICAgICAgICByZXR1cm4gKFNjYWxhci53aXRoaW5FcHNpbG9uKHZlY3RvcjEueCwgdmVjdG9yMi54LCBlcHNpbG9uKSAmJlxuICAgICAgICAgICAgU2NhbGFyLndpdGhpbkVwc2lsb24odmVjdG9yMS55LCB2ZWN0b3IyLnksIGVwc2lsb24pICYmXG4gICAgICAgICAgICBTY2FsYXIud2l0aGluRXBzaWxvbih2ZWN0b3IxLnosIHZlY3RvcjIueiwgZXBzaWxvbikpO1xuICAgIH1cbiAgICBWZWN0b3IzLmVxdWFsc1dpdGhFcHNpbG9uID0gZXF1YWxzV2l0aEVwc2lsb247XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBjdXJyZW50IFZlY3RvcjMgY29vcmRpbmF0ZXMgZXF1YWxzIHRoZSBnaXZlbiBmbG9hdHNcbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgeSBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSB6IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIGJvdGggdmVjdG9ycyBhcmUgZXF1YWxzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxzVG9GbG9hdHModmVjdG9yLCB4LCB5LCB6KSB7XG4gICAgICAgIHJldHVybiB2ZWN0b3IueCA9PT0geCAmJiB2ZWN0b3IueSA9PT0geSAmJiB2ZWN0b3IueiA9PT0gejtcbiAgICB9XG4gICAgVmVjdG9yMy5lcXVhbHNUb0Zsb2F0cyA9IGVxdWFsc1RvRmxvYXRzO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMywgcmVzdWx0IG9mIHRoZSBtdWx0aXBsaWNhdGlvbiBvZiB2ZWN0b3IxIGJ5IHRoZSB2ZWN0b3IyXG4gICAgICogQHBhcmFtIHZlY3RvcjEgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHZlY3RvcjIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5KHZlY3RvcjEsIHZlY3RvcjIpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIG11bHRpcGx5VG9SZWYodmVjdG9yMSwgdmVjdG9yMiwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgVmVjdG9yMy5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdGhlIGN1cnJlbnQgVmVjdG9yMyBieSB0aGUgZ2l2ZW4gb25lIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbiB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCJcbiAgICAgKiBAcGFyYW0gb3RoZXJWZWN0b3IgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5VG9SZWYodmVjdG9yMSwgdmVjdG9yMiwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC54ID0gdmVjdG9yMS54ICogdmVjdG9yMi54O1xuICAgICAgICByZXN1bHQueSA9IHZlY3RvcjEueSAqIHZlY3RvcjIueTtcbiAgICAgICAgcmVzdWx0LnogPSB2ZWN0b3IxLnogKiB2ZWN0b3IyLno7XG4gICAgfVxuICAgIFZlY3RvcjMubXVsdGlwbHlUb1JlZiA9IG11bHRpcGx5VG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIG11bGxpcGxpY2F0aW9uIG9mIHRoZSBjdXJyZW50IFZlY3RvcjMgY29vcmRpbmF0ZXMgYnkgdGhlIGdpdmVuIGZsb2F0c1xuICAgICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgeCBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHogY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5QnlGbG9hdHNUb1JlZih2ZWN0b3IxLCB4LCB5LCB6LCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnggPSB2ZWN0b3IxLnggKiB4O1xuICAgICAgICByZXN1bHQueSA9IHZlY3RvcjEueSAqIHk7XG4gICAgICAgIHJlc3VsdC56ID0gdmVjdG9yMS56ICogejtcbiAgICB9XG4gICAgVmVjdG9yMy5tdWx0aXBseUJ5RmxvYXRzVG9SZWYgPSBtdWx0aXBseUJ5RmxvYXRzVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIG11bGxpcGxpY2F0aW9uIG9mIHRoZSBjdXJyZW50IFZlY3RvcjMgY29vcmRpbmF0ZXMgYnkgdGhlIGdpdmVuIGZsb2F0c1xuICAgICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgeCBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHogY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5QnlGbG9hdHModmVjdG9yMSwgeCwgeSwgeikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgbXVsdGlwbHlCeUZsb2F0c1RvUmVmKHZlY3RvcjEsIHgsIHksIHosIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFZlY3RvcjMubXVsdGlwbHlCeUZsb2F0cyA9IG11bHRpcGx5QnlGbG9hdHM7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIGRpdmlzaW9uIG9mIHRoZSBjdXJyZW50IFZlY3RvcjMgY29vcmRpbmF0ZXMgYnkgdGhlIGdpdmVuIG9uZXNcbiAgICAgKiBAcGFyYW0gb3RoZXJWZWN0b3IgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRpdmlkZSh2ZWN0b3IxLCB2ZWN0b3IyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB2ZWN0b3IxLnggLyB2ZWN0b3IyLngsXG4gICAgICAgICAgICB5OiB2ZWN0b3IxLnkgLyB2ZWN0b3IyLnksXG4gICAgICAgICAgICB6OiB2ZWN0b3IxLnogLyB2ZWN0b3IyLnpcbiAgICAgICAgfTtcbiAgICB9XG4gICAgVmVjdG9yMy5kaXZpZGUgPSBkaXZpZGU7XG4gICAgLyoqXG4gICAgICogRGl2aWRlcyB0aGUgY3VycmVudCBWZWN0b3IzIGNvb3JkaW5hdGVzIGJ5IHRoZSBnaXZlbiBvbmVzIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbiB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCJcbiAgICAgKiBAcGFyYW0gb3RoZXJWZWN0b3IgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRpdmlkZVRvUmVmKHZlY3RvcjEsIHZlY3RvcjIsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQueCA9IHZlY3RvcjEueCAvIHZlY3RvcjIueDtcbiAgICAgICAgcmVzdWx0LnkgPSB2ZWN0b3IxLnkgLyB2ZWN0b3IyLnk7XG4gICAgICAgIHJlc3VsdC56ID0gdmVjdG9yMS56IC8gdmVjdG9yMi56O1xuICAgIH1cbiAgICBWZWN0b3IzLmRpdmlkZVRvUmVmID0gZGl2aWRlVG9SZWY7XG4gICAgLyoqXG4gICAgICogU2V0IHJlc3VsdCBWZWN0b3IzIHdpdGggdGhlIG1heGltYWwgY29vcmRpbmF0ZSB2YWx1ZXMgYmV0d2VlbiB2ZWN0b3IxIGFuZCB0aGUgZ2l2ZW4gY29vcmRpbmF0ZXNcbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgeSBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSB6IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gdGhlIHNldCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF4aW1pemVJblBsYWNlRnJvbUZsb2F0c1RvUmVmKHZlY3RvcjEsIHgsIHksIHosIHJlc3VsdCkge1xuICAgICAgICBpZiAoeCA+IHZlY3RvcjEueCkge1xuICAgICAgICAgICAgcmVzdWx0LnggPSB4O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnggPSB2ZWN0b3IxLng7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHkgPiB2ZWN0b3IxLnkpIHtcbiAgICAgICAgICAgIHJlc3VsdC55ID0geTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC55ID0gdmVjdG9yMS55O1xuICAgICAgICB9XG4gICAgICAgIGlmICh6ID4gdmVjdG9yMS56KSB7XG4gICAgICAgICAgICByZXN1bHQueiA9IHo7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQueiA9IHZlY3RvcjEuejtcbiAgICAgICAgfVxuICAgIH1cbiAgICBWZWN0b3IzLm1heGltaXplSW5QbGFjZUZyb21GbG9hdHNUb1JlZiA9IG1heGltaXplSW5QbGFjZUZyb21GbG9hdHNUb1JlZjtcbiAgICAvKipcbiAgICAgKiBTZXQgcmVzdWx0IFZlY3RvcjMgd2l0aCB0aGUgbWluaW1hbCBjb29yZGluYXRlIHZhbHVlcyBiZXR3ZWVuIHZlY3RvcjEgYW5kIHRoZSBnaXZlbiBjb29yZGluYXRlc1xuICAgICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgeCBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHogY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSB0aGUgc2V0IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW5pbWl6ZUluUGxhY2VGcm9tRmxvYXRzVG9SZWYodmVjdG9yMSwgeCwgeSwgeiwgcmVzdWx0KSB7XG4gICAgICAgIGlmICh4IDwgdmVjdG9yMS54KSB7XG4gICAgICAgICAgICByZXN1bHQueCA9IHg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQueCA9IHZlY3RvcjEueDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeSA8IHZlY3RvcjEueSkge1xuICAgICAgICAgICAgcmVzdWx0LnkgPSB5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnkgPSB2ZWN0b3IxLnk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHogPCB2ZWN0b3IxLnopIHtcbiAgICAgICAgICAgIHJlc3VsdC56ID0gejtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC56ID0gdmVjdG9yMS56O1xuICAgICAgICB9XG4gICAgfVxuICAgIFZlY3RvcjMubWluaW1pemVJblBsYWNlRnJvbUZsb2F0c1RvUmVmID0gbWluaW1pemVJblBsYWNlRnJvbUZsb2F0c1RvUmVmO1xuICAgIC8qKlxuICAgICAqIEdldHMgYSBuZXcgVmVjdG9yMyBmcm9tIHZlY3RvcjEgZmxvb3JlZCB2YWx1ZXNcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxvb3IodmVjdG9yMSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKE1hdGguZmxvb3IodmVjdG9yMS54KSwgTWF0aC5mbG9vcih2ZWN0b3IxLnkpLCBNYXRoLmZsb29yKHZlY3RvcjEueikpO1xuICAgIH1cbiAgICBWZWN0b3IzLmZsb29yID0gZmxvb3I7XG4gICAgLyoqXG4gICAgICogR2V0cyBhIG5ldyBWZWN0b3IzIGZyb20gdmVjdG9yMSBmbG9vcmVkIHZhbHVlc1xuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcmFjdCh2ZWN0b3IxKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUodmVjdG9yMS54IC0gTWF0aC5mbG9vcih2ZWN0b3IxLngpLCB2ZWN0b3IxLnkgLSBNYXRoLmZsb29yKHZlY3RvcjEueSksIHZlY3RvcjEueiAtIE1hdGguZmxvb3IodmVjdG9yMS56KSk7XG4gICAgfVxuICAgIFZlY3RvcjMuZnJhY3QgPSBmcmFjdDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHRvICgwLjAsIDAuMCwgMC4wKVxuICAgICAqIEByZXR1cm5zIGEgbmV3IGVtcHR5IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBaZXJvKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAuMCwgMC4wLCAwLjApO1xuICAgIH1cbiAgICBWZWN0b3IzLlplcm8gPSBaZXJvO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgdG8gKDEuMCwgMS4wLCAxLjApXG4gICAgICogQHJldHVybnMgYSBuZXcgdW5pdCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gT25lKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDEuMCwgMS4wLCAxLjApO1xuICAgIH1cbiAgICBWZWN0b3IzLk9uZSA9IE9uZTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHRvbGVuZ3RoU3F1YXJlZCAoMC4wLCAxLjAsIDAuMClcbiAgICAgKiBAcmV0dXJucyBhIG5ldyB1cCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gVXAoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMC4wLCAxLjAsIDAuMCk7XG4gICAgfVxuICAgIFZlY3RvcjMuVXAgPSBVcDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHRvICgwLjAsIC0xLjAsIDAuMClcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBkb3duIFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEb3duKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAuMCwgLTEuMCwgMC4wKTtcbiAgICB9XG4gICAgVmVjdG9yMy5Eb3duID0gRG93bjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHRvICgwLjAsIDAuMCwgMS4wKVxuICAgICAqIEByZXR1cm5zIGEgbmV3IGZvcndhcmQgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZvcndhcmQoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMC4wLCAwLjAsIDEuMCk7XG4gICAgfVxuICAgIFZlY3RvcjMuRm9yd2FyZCA9IEZvcndhcmQ7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCB0byAoMC4wLCAwLjAsIC0xLjApXG4gICAgICogQHJldHVybnMgYSBuZXcgZm9yd2FyZCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFja3dhcmQoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMC4wLCAwLjAsIC0xLjApO1xuICAgIH1cbiAgICBWZWN0b3IzLkJhY2t3YXJkID0gQmFja3dhcmQ7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCB0byAoMS4wLCAwLjAsIDAuMClcbiAgICAgKiBAcmV0dXJucyBhIG5ldyByaWdodCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmlnaHQoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMS4wLCAwLjAsIDAuMCk7XG4gICAgfVxuICAgIFZlY3RvcjMuUmlnaHQgPSBSaWdodDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHRvICgtMS4wLCAwLjAsIDAuMClcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBsZWZ0IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMZWZ0KCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKC0xLjAsIDAuMCwgMC4wKTtcbiAgICB9XG4gICAgVmVjdG9yMy5MZWZ0ID0gTGVmdDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IHJhbmRvbSBWZWN0b3IzXG4gICAgICogQHJldHVybnMgYSByYW5kb20gVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJhbmRvbSgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZShNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpKTtcbiAgICB9XG4gICAgVmVjdG9yMy5SYW5kb20gPSBSYW5kb207XG59KShWZWN0b3IzIHx8IChWZWN0b3IzID0ge30pKTtcbiIsICJpbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSAnLi9WZWN0b3IzJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4vTWF0cml4Jztcbi8qKlxuICogUmVwcmVzZW5zIGEgcGxhbmUgYnkgdGhlIGVxdWF0aW9uIGF4ICsgYnkgKyBjeiArIGQgPSAwXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUGxhbmU7XG4oZnVuY3Rpb24gKFBsYW5lKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIFBsYW5lIG9iamVjdCBhY2NvcmRpbmcgdG8gdGhlIGdpdmVuIGZsb2F0cyBhLCBiLCBjLCBkIGFuZCB0aGUgcGxhbmUgZXF1YXRpb24gOiBheCArIGJ5ICsgY3ogKyBkID0gMFxuICAgICAqIEBwYXJhbSBhIC0gYSBjb21wb25lbnQgb2YgdGhlIHBsYW5lXG4gICAgICogQHBhcmFtIGIgLSBiIGNvbXBvbmVudCBvZiB0aGUgcGxhbmVcbiAgICAgKiBAcGFyYW0gYyAtIGMgY29tcG9uZW50IG9mIHRoZSBwbGFuZVxuICAgICAqIEBwYXJhbSBkIC0gZCBjb21wb25lbnQgb2YgdGhlIHBsYW5lXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKGEsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5vcm1hbDogVmVjdG9yMy5jcmVhdGUoYSwgYiwgYyksXG4gICAgICAgICAgICBkOiBkXG4gICAgICAgIH07XG4gICAgfVxuICAgIFBsYW5lLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICAvLyBTdGF0aWNzXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHBsYW5lIGZyb20gYW4gIGFycmF5XG4gICAgICogQHBhcmFtIGFycmF5IC0gdGhlIGFycmF5IHRvIGNyZWF0ZSBhIHBsYW5lIGZyb21cbiAgICAgKiBAcmV0dXJucyBhIG5ldyBQbGFuZSBmcm9tIHRoZSBnaXZlbiBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tQXJyYXkoYXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZShhcnJheVswXSwgYXJyYXlbMV0sIGFycmF5WzJdLCBhcnJheVszXSk7XG4gICAgfVxuICAgIFBsYW5lLmZyb21BcnJheSA9IGZyb21BcnJheTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcGxhbmUgZnJvbSB0aHJlZSBwb2ludHNcbiAgICAgKiBAcGFyYW0gcG9pbnQxIC0gcG9pbnQgdXNlZCB0byBjcmVhdGUgdGhlIHBsYW5lXG4gICAgICogQHBhcmFtIHBvaW50MiAtIHBvaW50IHVzZWQgdG8gY3JlYXRlIHRoZSBwbGFuZVxuICAgICAqIEBwYXJhbSBwb2ludDMgLSBwb2ludCB1c2VkIHRvIGNyZWF0ZSB0aGUgcGxhbmVcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBQbGFuZSBkZWZpbmVkIGJ5IHRoZSB0aHJlZSBnaXZlbiBwb2ludHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVBvaW50cyhfcG9pbnQxLCBfcG9pbnQyLCBfcG9pbnQzKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgwLjAsIDAuMCwgMC4wLCAwLjApO1xuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8vIHJlc3VsdC5jb3B5RnJvbVBvaW50cyhwb2ludDEsIHBvaW50MiwgcG9pbnQzKVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBQbGFuZS5mcm9tUG9pbnRzID0gZnJvbVBvaW50cztcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcGxhbmUgZnJvbSBhbiBvcmlnaW4gcG9pbnQgYW5kIGEgbm9ybWFsXG4gICAgICogQHBhcmFtIG9yaWdpbiAtIG9yaWdpbiBvZiB0aGUgcGxhbmUgdG8gYmUgY29uc3RydWN0ZWRcbiAgICAgKiBAcGFyYW0gbm9ybWFsIC0gbm9ybWFsIG9mIHRoZSBwbGFuZSB0byBiZSBjb25zdHJ1Y3RlZFxuICAgICAqIEByZXR1cm5zIGEgbmV3IFBsYW5lIHRoZSBub3JtYWwgdmVjdG9yIHRvIHRoaXMgcGxhbmUgYXQgdGhlIGdpdmVuIG9yaWdpbiBwb2ludC5cbiAgICAgKiBOb3RlIDogdGhlIHZlY3RvciBcIm5vcm1hbFwiIGlzIHVwZGF0ZWQgYmVjYXVzZSBub3JtYWxpemVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJvbVBvc2l0aW9uQW5kTm9ybWFsKG9yaWdpbiwgbm9ybWFsKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgwLjAsIDAuMCwgMC4wLCAwLjApO1xuICAgICAgICByZXN1bHQubm9ybWFsID0gVmVjdG9yMy5ub3JtYWxpemUobm9ybWFsKTtcbiAgICAgICAgcmVzdWx0LmQgPSAtKG5vcm1hbC54ICogb3JpZ2luLnggK1xuICAgICAgICAgICAgbm9ybWFsLnkgKiBvcmlnaW4ueSArXG4gICAgICAgICAgICBub3JtYWwueiAqIG9yaWdpbi56KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgUGxhbmUucm9tUG9zaXRpb25BbmROb3JtYWwgPSByb21Qb3NpdGlvbkFuZE5vcm1hbDtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBkaXN0YW5jZSBmcm9tIGEgcGxhbmUgYW5kIGEgcG9pbnRcbiAgICAgKiBAcGFyYW0gb3JpZ2luIC0gb3JpZ2luIG9mIHRoZSBwbGFuZSB0byBiZSBjb25zdHJ1Y3RlZFxuICAgICAqIEBwYXJhbSBub3JtYWwgLSBub3JtYWwgb2YgdGhlIHBsYW5lIHRvIGJlIGNvbnN0cnVjdGVkXG4gICAgICogQHBhcmFtIHBvaW50IC0gcG9pbnQgdG8gY2FsY3VsYXRlIGRpc3RhbmNlIHRvXG4gICAgICogQHJldHVybnMgdGhlIHNpZ25lZCBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBwbGFuZSBkZWZpbmVkIGJ5IHRoZSBub3JtYWwgdmVjdG9yIGF0IHRoZSBcIm9yaWdpblwiXCIgcG9pbnQgYW5kIHRoZSBnaXZlbiBvdGhlciBwb2ludC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaWduZWREaXN0YW5jZVRvUGxhbmVGcm9tUG9zaXRpb25BbmROb3JtYWwob3JpZ2luLCBub3JtYWwsIHBvaW50KSB7XG4gICAgICAgIGNvbnN0IGQgPSAtKG5vcm1hbC54ICogb3JpZ2luLnggKyBub3JtYWwueSAqIG9yaWdpbi55ICsgbm9ybWFsLnogKiBvcmlnaW4ueik7XG4gICAgICAgIHJldHVybiBWZWN0b3IzLmRvdChwb2ludCwgbm9ybWFsKSArIGQ7XG4gICAgfVxuICAgIFBsYW5lLnNpZ25lZERpc3RhbmNlVG9QbGFuZUZyb21Qb3NpdGlvbkFuZE5vcm1hbCA9IHNpZ25lZERpc3RhbmNlVG9QbGFuZUZyb21Qb3NpdGlvbkFuZE5vcm1hbDtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB0aGUgcGxhbmUgY29vcmRpbmF0ZXMgYXMgYSBuZXcgYXJyYXkgb2YgNCBlbGVtZW50cyBbYSwgYiwgYywgZF0uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNBcnJheShwbGFuZSkge1xuICAgICAgICByZXR1cm4gW3BsYW5lLm5vcm1hbC54LCBwbGFuZS5ub3JtYWwueSwgcGxhbmUubm9ybWFsLnosIHBsYW5lLmRdO1xuICAgIH1cbiAgICBQbGFuZS5hc0FycmF5ID0gYXNBcnJheTtcbiAgICAvLyBNZXRob2RzXG4gICAgLyoqXG4gICAgICogQHJldHVybnMgYSBuZXcgcGxhbmUgY29waWVkIGZyb20gdGhlIGN1cnJlbnQgUGxhbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmUocGxhbmUpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZShwbGFuZS5ub3JtYWwueCwgcGxhbmUubm9ybWFsLnksIHBsYW5lLm5vcm1hbC56LCBwbGFuZS5kKTtcbiAgICB9XG4gICAgUGxhbmUuY2xvbmUgPSBjbG9uZTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB0aGUgUGxhbmUgaGFzaCBjb2RlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEhhc2hDb2RlKF9wbGFuZSkge1xuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8vIGxldCBoYXNoID0gcGxhbmUubm9ybWFsLmdldEhhc2hDb2RlKClcbiAgICAgICAgLy8gaGFzaCA9IChoYXNoICogMzk3KSBeIChwbGFuZS5kIHx8IDApXG4gICAgICAgIC8vIHJldHVybiBoYXNoXG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBQbGFuZS5nZXRIYXNoQ29kZSA9IGdldEhhc2hDb2RlO1xuICAgIC8qKlxuICAgICAqIE5vcm1hbGl6ZSB0aGUgY3VycmVudCBQbGFuZSBpbiBwbGFjZS5cbiAgICAgKiBAcmV0dXJucyB0aGUgdXBkYXRlZCBQbGFuZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxpemUocGxhbmUpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKDAsIDAsIDAsIDApO1xuICAgICAgICBjb25zdCBub3JtID0gTWF0aC5zcXJ0KHBsYW5lLm5vcm1hbC54ICogcGxhbmUubm9ybWFsLnggK1xuICAgICAgICAgICAgcGxhbmUubm9ybWFsLnkgKiBwbGFuZS5ub3JtYWwueSArXG4gICAgICAgICAgICBwbGFuZS5ub3JtYWwueiAqIHBsYW5lLm5vcm1hbC56KTtcbiAgICAgICAgbGV0IG1hZ25pdHVkZSA9IDAuMDtcbiAgICAgICAgaWYgKG5vcm0gIT09IDApIHtcbiAgICAgICAgICAgIG1hZ25pdHVkZSA9IDEuMCAvIG5vcm07XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0Lm5vcm1hbC54ID0gcGxhbmUubm9ybWFsLnggKiBtYWduaXR1ZGU7XG4gICAgICAgIHJlc3VsdC5ub3JtYWwueSA9IHBsYW5lLm5vcm1hbC55ICogbWFnbml0dWRlO1xuICAgICAgICByZXN1bHQubm9ybWFsLnogPSBwbGFuZS5ub3JtYWwueiAqIG1hZ25pdHVkZTtcbiAgICAgICAgcmVzdWx0LmQgKj0gbWFnbml0dWRlO1xuICAgICAgICByZXR1cm4gcGxhbmU7XG4gICAgfVxuICAgIFBsYW5lLm5vcm1hbGl6ZSA9IG5vcm1hbGl6ZTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgdHJhbnNmb3JtYXRpb24gdGhlIHBsYW5lIGFuZCByZXR1cm5zIHRoZSByZXN1bHRcbiAgICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSB0aGUgdHJhbnNmb3JtYXRpb24gbWF0cml4IHRvIGJlIGFwcGxpZWQgdG8gdGhlIHBsYW5lXG4gICAgICogQHJldHVybnMgYSBuZXcgUGxhbmUgYXMgdGhlIHJlc3VsdCBvZiB0aGUgdHJhbnNmb3JtYXRpb24gb2YgdGhlIGN1cnJlbnQgUGxhbmUgYnkgdGhlIGdpdmVuIG1hdHJpeC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc2Zvcm0ocGxhbmUsIHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zcG9zZWRNYXRyaXggPSBNYXRyaXguY3JlYXRlKCk7XG4gICAgICAgIE1hdHJpeC50cmFuc3Bvc2VUb1JlZih0cmFuc2Zvcm1hdGlvbiwgdHJhbnNwb3NlZE1hdHJpeCk7XG4gICAgICAgIGNvbnN0IG0gPSB0cmFuc3Bvc2VkTWF0cml4Ll9tO1xuICAgICAgICBjb25zdCB4ID0gcGxhbmUubm9ybWFsLng7XG4gICAgICAgIGNvbnN0IHkgPSBwbGFuZS5ub3JtYWwueTtcbiAgICAgICAgY29uc3QgeiA9IHBsYW5lLm5vcm1hbC56O1xuICAgICAgICBjb25zdCBkID0gcGxhbmUuZDtcbiAgICAgICAgY29uc3Qgbm9ybWFsWCA9IHggKiBtWzBdICsgeSAqIG1bMV0gKyB6ICogbVsyXSArIGQgKiBtWzNdO1xuICAgICAgICBjb25zdCBub3JtYWxZID0geCAqIG1bNF0gKyB5ICogbVs1XSArIHogKiBtWzZdICsgZCAqIG1bN107XG4gICAgICAgIGNvbnN0IG5vcm1hbFogPSB4ICogbVs4XSArIHkgKiBtWzldICsgeiAqIG1bMTBdICsgZCAqIG1bMTFdO1xuICAgICAgICBjb25zdCBmaW5hbEQgPSB4ICogbVsxMl0gKyB5ICogbVsxM10gKyB6ICogbVsxNF0gKyBkICogbVsxNV07XG4gICAgICAgIHJldHVybiBjcmVhdGUobm9ybWFsWCwgbm9ybWFsWSwgbm9ybWFsWiwgZmluYWxEKTtcbiAgICB9XG4gICAgUGxhbmUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgIC8qKlxuICAgICAqIENhbGN1YWx0dGUgdGhlIGRvdCBwcm9kdWN0IGJldHdlZW4gdGhlIHBvaW50IGFuZCB0aGUgcGxhbmUgbm9ybWFsXG4gICAgICogQHBhcmFtIHBvaW50IC0gcG9pbnQgdG8gY2FsY3VsYXRlIHRoZSBkb3QgcHJvZHVjdCB3aXRoXG4gICAgICogQHJldHVybnMgdGhlIGRvdCBwcm9kdWN0IChmbG9hdCkgb2YgdGhlIHBvaW50IGNvb3JkaW5hdGVzIGFuZCB0aGUgcGxhbmUgbm9ybWFsLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRvdENvb3JkaW5hdGUocGxhbmUsIHBvaW50KSB7XG4gICAgICAgIHJldHVybiAocGxhbmUubm9ybWFsLnggKiBwb2ludC54ICtcbiAgICAgICAgICAgIHBsYW5lLm5vcm1hbC55ICogcG9pbnQueSArXG4gICAgICAgICAgICBwbGFuZS5ub3JtYWwueiAqIHBvaW50LnogK1xuICAgICAgICAgICAgcGxhbmUuZCk7XG4gICAgfVxuICAgIFBsYW5lLmRvdENvb3JkaW5hdGUgPSBkb3RDb29yZGluYXRlO1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGN1cnJlbnQgUGxhbmUgZnJvbSB0aGUgcGxhbmUgZGVmaW5lZCBieSB0aGUgdGhyZWUgZ2l2ZW4gcG9pbnRzLlxuICAgICAqIEBwYXJhbSBwb2ludDEgLSBvbmUgb2YgdGhlIHBvaW50cyB1c2VkIHRvIGNvbnRydWN0IHRoZSBwbGFuZVxuICAgICAqIEBwYXJhbSBwb2ludDIgLSBvbmUgb2YgdGhlIHBvaW50cyB1c2VkIHRvIGNvbnRydWN0IHRoZSBwbGFuZVxuICAgICAqIEBwYXJhbSBwb2ludDMgLSBvbmUgb2YgdGhlIHBvaW50cyB1c2VkIHRvIGNvbnRydWN0IHRoZSBwbGFuZVxuICAgICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIFBsYW5lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlGcm9tUG9pbnRzKHBvaW50MSwgcG9pbnQyLCBwb2ludDMpIHtcbiAgICAgICAgY29uc3QgeDEgPSBwb2ludDIueCAtIHBvaW50MS54O1xuICAgICAgICBjb25zdCB5MSA9IHBvaW50Mi55IC0gcG9pbnQxLnk7XG4gICAgICAgIGNvbnN0IHoxID0gcG9pbnQyLnogLSBwb2ludDEuejtcbiAgICAgICAgY29uc3QgeDIgPSBwb2ludDMueCAtIHBvaW50MS54O1xuICAgICAgICBjb25zdCB5MiA9IHBvaW50My55IC0gcG9pbnQxLnk7XG4gICAgICAgIGNvbnN0IHoyID0gcG9pbnQzLnogLSBwb2ludDEuejtcbiAgICAgICAgY29uc3QgeXogPSB5MSAqIHoyIC0gejEgKiB5MjtcbiAgICAgICAgY29uc3QgeHogPSB6MSAqIHgyIC0geDEgKiB6MjtcbiAgICAgICAgY29uc3QgeHkgPSB4MSAqIHkyIC0geTEgKiB4MjtcbiAgICAgICAgY29uc3QgcHl0aCA9IE1hdGguc3FydCh5eiAqIHl6ICsgeHogKiB4eiArIHh5ICogeHkpO1xuICAgICAgICBsZXQgaW52UHl0aDtcbiAgICAgICAgaWYgKHB5dGggIT09IDApIHtcbiAgICAgICAgICAgIGludlB5dGggPSAxLjAgLyBweXRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW52UHl0aCA9IDAuMDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBub3JtYWwgPSBWZWN0b3IzLmNyZWF0ZSh5eiAqIGludlB5dGgsIHh6ICogaW52UHl0aCwgeHkgKiBpbnZQeXRoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5vcm1hbCxcbiAgICAgICAgICAgIGQ6IC0obm9ybWFsLnggKiBwb2ludDEueCArIG5vcm1hbC55ICogcG9pbnQxLnkgKyBub3JtYWwueiAqIHBvaW50MS56KVxuICAgICAgICB9O1xuICAgIH1cbiAgICBQbGFuZS5jb3B5RnJvbVBvaW50cyA9IGNvcHlGcm9tUG9pbnRzO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgcGxhbmUgaXMgZmFjaW5nIGEgZ2l2ZW4gZGlyZWN0aW9uXG4gICAgICogQHBhcmFtIGRpcmVjdGlvbiAtIHRoZSBkaXJlY3Rpb24gdG8gY2hlY2sgaWYgdGhlIHBsYW5lIGlzIGZhY2luZ1xuICAgICAqIEBwYXJhbSBlcHNpbG9uIC0gdmFsdWUgdGhlIGRvdCBwcm9kdWN0IGlzIGNvbXBhcmVkIGFnYWluc3QgKHJldHVybnMgdHJ1ZSBpZiBkb3QgJmx0Oz0gZXBzaWxvbilcbiAgICAgKiBAcmV0dXJucyBUcnVlIGlzIHRoZSB2ZWN0b3IgXCJkaXJlY3Rpb25cIiAgaXMgdGhlIHNhbWUgc2lkZSB0aGFuIHRoZSBwbGFuZSBub3JtYWwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGcm9udEZhY2luZ1RvKHBsYW5lLCBkaXJlY3Rpb24sIGVwc2lsb24pIHtcbiAgICAgICAgY29uc3QgZG90ID0gVmVjdG9yMy5kb3QocGxhbmUubm9ybWFsLCBkaXJlY3Rpb24pO1xuICAgICAgICByZXR1cm4gZG90IDw9IGVwc2lsb247XG4gICAgfVxuICAgIFBsYW5lLmlzRnJvbnRGYWNpbmdUbyA9IGlzRnJvbnRGYWNpbmdUbztcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBkaXN0YW5jZSB0byBhIHBvaW50XG4gICAgICogQHBhcmFtIHBvaW50IC0gcG9pbnQgdG8gY2FsY3VsYXRlIGRpc3RhbmNlIHRvXG4gICAgICogQHJldHVybnMgdGhlIHNpZ25lZCBkaXN0YW5jZSAoZmxvYXQpIGZyb20gdGhlIGdpdmVuIHBvaW50IHRvIHRoZSBQbGFuZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaWduZWREaXN0YW5jZVRvKHBsYW5lLCBwb2ludCkge1xuICAgICAgICByZXR1cm4gVmVjdG9yMy5kb3QocG9pbnQsIHBsYW5lLm5vcm1hbCkgKyBwbGFuZS5kO1xuICAgIH1cbiAgICBQbGFuZS5zaWduZWREaXN0YW5jZVRvID0gc2lnbmVkRGlzdGFuY2VUbztcbn0pKFBsYW5lIHx8IChQbGFuZSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMyc7XG5pbXBvcnQgeyBRdWF0ZXJuaW9uIH0gZnJvbSAnLi9RdWF0ZXJuaW9uJztcbmltcG9ydCB7IFBsYW5lIH0gZnJvbSAnLi9QbGFuZSc7XG4vKipcbiAqIENsYXNzIHVzZWQgdG8gc3RvcmUgbWF0cml4IGRhdGEgKDR4NClcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBNYXRyaXg7XG4oZnVuY3Rpb24gKE1hdHJpeCkge1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGludGVybmFsIGRhdGEgb2YgdGhlIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG0oc2VsZikge1xuICAgICAgICByZXR1cm4gc2VsZi5fbTtcbiAgICB9XG4gICAgTWF0cml4Lm0gPSBtO1xuICAgIGxldCBfdXBkYXRlRmxhZ1NlZWQgPSAwO1xuICAgIGNvbnN0IF9pZGVudGl0eVJlYWRvbmx5ID0ge307XG4gICAgLyoqXG4gICAgICogR2V0cyBhbiBpZGVudGl0eSBtYXRyaXggdGhhdCBtdXN0IG5vdCBiZSB1cGRhdGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gSWRlbnRpdHlSZWFkb25seSgpIHtcbiAgICAgICAgcmV0dXJuIF9pZGVudGl0eVJlYWRvbmx5O1xuICAgIH1cbiAgICBNYXRyaXguSWRlbnRpdHlSZWFkb25seSA9IElkZW50aXR5UmVhZG9ubHk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBlbXB0eSBtYXRyaXggKGZpbGxlZCB3aXRoIHplcm9zKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgICAgY29uc3QgbmV3TWF0cml4ID0ge1xuICAgICAgICAgICAgdXBkYXRlRmxhZzogMCxcbiAgICAgICAgICAgIGlzSWRlbnRpdHk6IGZhbHNlLFxuICAgICAgICAgICAgaXNJZGVudGl0eTN4MjogdHJ1ZSxcbiAgICAgICAgICAgIF9pc0lkZW50aXR5RGlydHk6IHRydWUsXG4gICAgICAgICAgICBfaXNJZGVudGl0eTN4MkRpcnR5OiB0cnVlLFxuICAgICAgICAgICAgX206IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgICAgICB9O1xuICAgICAgICBfdXBkYXRlSWRlbnRpdHlTdGF0dXMobmV3TWF0cml4LCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBuZXdNYXRyaXg7XG4gICAgfVxuICAgIE1hdHJpeC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLy8gU3RhdGljc1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhbiBhcnJheVxuICAgICAqIEBwYXJhbSBhcnJheSAtIGRlZmluZXMgdGhlIHNvdXJjZSBhcnJheVxuICAgICAqIEBwYXJhbSBvZmZzZXQgLSBkZWZpbmVzIGFuIG9mZnNldCBpbiB0aGUgc291cmNlIGFycmF5XG4gICAgICogQHJldHVybnMgYSBuZXcgTWF0cml4IHNldCBmcm9tIHRoZSBzdGFydGluZyBpbmRleCBvZiB0aGUgZ2l2ZW4gYXJyYXlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tQXJyYXkoYXJyYXksIG9mZnNldCA9IDApIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIGZyb21BcnJheVRvUmVmKGFycmF5LCBvZmZzZXQsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5mcm9tQXJyYXkgPSBmcm9tQXJyYXk7XG4gICAgLyoqXG4gICAgICogQ29weSB0aGUgY29udGVudCBvZiBhbiBhcnJheSBpbnRvIGEgZ2l2ZW4gbWF0cml4XG4gICAgICogQHBhcmFtIGFycmF5IC0gZGVmaW5lcyB0aGUgc291cmNlIGFycmF5XG4gICAgICogQHBhcmFtIG9mZnNldCAtIGRlZmluZXMgYW4gb2Zmc2V0IGluIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21BcnJheVRvUmVmKGFycmF5LCBvZmZzZXQsIHJlc3VsdCkge1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgMTY7IGluZGV4KyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5fbVtpbmRleF0gPSBhcnJheVtpbmRleCArIG9mZnNldF07XG4gICAgICAgIH1cbiAgICAgICAgX21hcmtBc1VwZGF0ZWQocmVzdWx0KTtcbiAgICB9XG4gICAgTWF0cml4LmZyb21BcnJheVRvUmVmID0gZnJvbUFycmF5VG9SZWY7XG4gICAgLyoqXG4gICAgICogU3RvcmVzIGFuIGFycmF5IGludG8gYSBtYXRyaXggYWZ0ZXIgaGF2aW5nIG11bHRpcGxpZWQgZWFjaCBjb21wb25lbnQgYnkgYSBnaXZlbiBmYWN0b3JcbiAgICAgKiBAcGFyYW0gYXJyYXkgLSBkZWZpbmVzIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IC0gZGVmaW5lcyB0aGUgb2Zmc2V0IGluIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsaW5nIGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUZsb2F0QXJyYXlUb1JlZlNjYWxlZChhcnJheSwgb2Zmc2V0LCBzY2FsZSwgcmVzdWx0KSB7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCAxNjsgaW5kZXgrKykge1xuICAgICAgICAgICAgcmVzdWx0Ll9tW2luZGV4XSA9IGFycmF5W2luZGV4ICsgb2Zmc2V0XSAqIHNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIF9tYXJrQXNVcGRhdGVkKHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5mcm9tRmxvYXRBcnJheVRvUmVmU2NhbGVkID0gZnJvbUZsb2F0QXJyYXlUb1JlZlNjYWxlZDtcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgYSBsaXN0IG9mIHZhbHVlcyAoMTYpIGluc2lkZSBhIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSBpbml0aWFsTTExIC0gZGVmaW5lcyAxc3QgdmFsdWUgb2YgMXN0IHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTEyIC0gZGVmaW5lcyAybmQgdmFsdWUgb2YgMXN0IHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTEzIC0gZGVmaW5lcyAzcmQgdmFsdWUgb2YgMXN0IHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTE0IC0gZGVmaW5lcyA0dGggdmFsdWUgb2YgMXN0IHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTIxIC0gZGVmaW5lcyAxc3QgdmFsdWUgb2YgMm5kIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTIyIC0gZGVmaW5lcyAybmQgdmFsdWUgb2YgMm5kIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTIzIC0gZGVmaW5lcyAzcmQgdmFsdWUgb2YgMm5kIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTI0IC0gZGVmaW5lcyA0dGggdmFsdWUgb2YgMm5kIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTMxIC0gZGVmaW5lcyAxc3QgdmFsdWUgb2YgM3JkIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTMyIC0gZGVmaW5lcyAybmQgdmFsdWUgb2YgM3JkIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTMzIC0gZGVmaW5lcyAzcmQgdmFsdWUgb2YgM3JkIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTM0IC0gZGVmaW5lcyA0dGggdmFsdWUgb2YgM3JkIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTQxIC0gZGVmaW5lcyAxc3QgdmFsdWUgb2YgNHRoIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTQyIC0gZGVmaW5lcyAybmQgdmFsdWUgb2YgNHRoIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTQzIC0gZGVmaW5lcyAzcmQgdmFsdWUgb2YgNHRoIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTQ0IC0gZGVmaW5lcyA0dGggdmFsdWUgb2YgNHRoIHJvd1xuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVZhbHVlc1RvUmVmKGluaXRpYWxNMTEsIGluaXRpYWxNMTIsIGluaXRpYWxNMTMsIGluaXRpYWxNMTQsIGluaXRpYWxNMjEsIGluaXRpYWxNMjIsIGluaXRpYWxNMjMsIGluaXRpYWxNMjQsIGluaXRpYWxNMzEsIGluaXRpYWxNMzIsIGluaXRpYWxNMzMsIGluaXRpYWxNMzQsIGluaXRpYWxNNDEsIGluaXRpYWxNNDIsIGluaXRpYWxNNDMsIGluaXRpYWxNNDQsIHJlc3VsdCkge1xuICAgICAgICBjb25zdCBtID0gcmVzdWx0Ll9tO1xuICAgICAgICBtWzBdID0gaW5pdGlhbE0xMTtcbiAgICAgICAgbVsxXSA9IGluaXRpYWxNMTI7XG4gICAgICAgIG1bMl0gPSBpbml0aWFsTTEzO1xuICAgICAgICBtWzNdID0gaW5pdGlhbE0xNDtcbiAgICAgICAgbVs0XSA9IGluaXRpYWxNMjE7XG4gICAgICAgIG1bNV0gPSBpbml0aWFsTTIyO1xuICAgICAgICBtWzZdID0gaW5pdGlhbE0yMztcbiAgICAgICAgbVs3XSA9IGluaXRpYWxNMjQ7XG4gICAgICAgIG1bOF0gPSBpbml0aWFsTTMxO1xuICAgICAgICBtWzldID0gaW5pdGlhbE0zMjtcbiAgICAgICAgbVsxMF0gPSBpbml0aWFsTTMzO1xuICAgICAgICBtWzExXSA9IGluaXRpYWxNMzQ7XG4gICAgICAgIG1bMTJdID0gaW5pdGlhbE00MTtcbiAgICAgICAgbVsxM10gPSBpbml0aWFsTTQyO1xuICAgICAgICBtWzE0XSA9IGluaXRpYWxNNDM7XG4gICAgICAgIG1bMTVdID0gaW5pdGlhbE00NDtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQocmVzdWx0KTtcbiAgICB9XG4gICAgTWF0cml4LmZyb21WYWx1ZXNUb1JlZiA9IGZyb21WYWx1ZXNUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG5ldyBtYXRyaXggZnJvbSBhIGxpc3Qgb2YgdmFsdWVzICgxNilcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0xMSAtIGRlZmluZXMgMXN0IHZhbHVlIG9mIDFzdCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0xMiAtIGRlZmluZXMgMm5kIHZhbHVlIG9mIDFzdCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0xMyAtIGRlZmluZXMgM3JkIHZhbHVlIG9mIDFzdCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0xNCAtIGRlZmluZXMgNHRoIHZhbHVlIG9mIDFzdCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0yMSAtIGRlZmluZXMgMXN0IHZhbHVlIG9mIDJuZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0yMiAtIGRlZmluZXMgMm5kIHZhbHVlIG9mIDJuZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0yMyAtIGRlZmluZXMgM3JkIHZhbHVlIG9mIDJuZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0yNCAtIGRlZmluZXMgNHRoIHZhbHVlIG9mIDJuZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0zMSAtIGRlZmluZXMgMXN0IHZhbHVlIG9mIDNyZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0zMiAtIGRlZmluZXMgMm5kIHZhbHVlIG9mIDNyZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0zMyAtIGRlZmluZXMgM3JkIHZhbHVlIG9mIDNyZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0zNCAtIGRlZmluZXMgNHRoIHZhbHVlIG9mIDNyZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE00MSAtIGRlZmluZXMgMXN0IHZhbHVlIG9mIDR0aCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE00MiAtIGRlZmluZXMgMm5kIHZhbHVlIG9mIDR0aCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE00MyAtIGRlZmluZXMgM3JkIHZhbHVlIG9mIDR0aCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE00NCAtIGRlZmluZXMgNHRoIHZhbHVlIG9mIDR0aCByb3dcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21WYWx1ZXMoaW5pdGlhbE0xMSwgaW5pdGlhbE0xMiwgaW5pdGlhbE0xMywgaW5pdGlhbE0xNCwgaW5pdGlhbE0yMSwgaW5pdGlhbE0yMiwgaW5pdGlhbE0yMywgaW5pdGlhbE0yNCwgaW5pdGlhbE0zMSwgaW5pdGlhbE0zMiwgaW5pdGlhbE0zMywgaW5pdGlhbE0zNCwgaW5pdGlhbE00MSwgaW5pdGlhbE00MiwgaW5pdGlhbE00MywgaW5pdGlhbE00NCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgY29uc3QgbSA9IHJlc3VsdC5fbTtcbiAgICAgICAgbVswXSA9IGluaXRpYWxNMTE7XG4gICAgICAgIG1bMV0gPSBpbml0aWFsTTEyO1xuICAgICAgICBtWzJdID0gaW5pdGlhbE0xMztcbiAgICAgICAgbVszXSA9IGluaXRpYWxNMTQ7XG4gICAgICAgIG1bNF0gPSBpbml0aWFsTTIxO1xuICAgICAgICBtWzVdID0gaW5pdGlhbE0yMjtcbiAgICAgICAgbVs2XSA9IGluaXRpYWxNMjM7XG4gICAgICAgIG1bN10gPSBpbml0aWFsTTI0O1xuICAgICAgICBtWzhdID0gaW5pdGlhbE0zMTtcbiAgICAgICAgbVs5XSA9IGluaXRpYWxNMzI7XG4gICAgICAgIG1bMTBdID0gaW5pdGlhbE0zMztcbiAgICAgICAgbVsxMV0gPSBpbml0aWFsTTM0O1xuICAgICAgICBtWzEyXSA9IGluaXRpYWxNNDE7XG4gICAgICAgIG1bMTNdID0gaW5pdGlhbE00MjtcbiAgICAgICAgbVsxNF0gPSBpbml0aWFsTTQzO1xuICAgICAgICBtWzE1XSA9IGluaXRpYWxNNDQ7XG4gICAgICAgIF9tYXJrQXNVcGRhdGVkKHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5mcm9tVmFsdWVzID0gZnJvbVZhbHVlcztcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IG1hdHJpeCBjb21wb3NlZCBieSBtZXJnaW5nIHNjYWxlICh2ZWN0b3IzKSwgcm90YXRpb24gKHF1YXRlcm5pb24pIGFuZCB0cmFuc2xhdGlvbiAodmVjdG9yMylcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsZSB2ZWN0b3IzXG4gICAgICogQHBhcmFtIHJvdGF0aW9uIC0gZGVmaW5lcyB0aGUgcm90YXRpb24gcXVhdGVybmlvblxuICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbiAtIGRlZmluZXMgdGhlIHRyYW5zbGF0aW9uIHZlY3RvcjNcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlKHNjYWxlLCByb3RhdGlvbiwgdHJhbnNsYXRpb24pIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIGNvbXBvc2VUb1JlZihzY2FsZSwgcm90YXRpb24sIHRyYW5zbGF0aW9uLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXguY29tcG9zZSA9IGNvbXBvc2U7XG4gICAgLyoqXG4gICAgICogU2V0cyBhIG1hdHJpeCB0byBhIHZhbHVlIGNvbXBvc2VkIGJ5IG1lcmdpbmcgc2NhbGUgKHZlY3RvcjMpLCByb3RhdGlvbiAocXVhdGVybmlvbikgYW5kIHRyYW5zbGF0aW9uICh2ZWN0b3IzKVxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxlIHZlY3RvcjNcbiAgICAgKiBAcGFyYW0gcm90YXRpb24gLSBkZWZpbmVzIHRoZSByb3RhdGlvbiBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIHRyYW5zbGF0aW9uIC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yM1xuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcG9zZVRvUmVmKHNjYWxlLCByb3RhdGlvbiwgdHJhbnNsYXRpb24sIHJlc3VsdCkge1xuICAgICAgICBjb25zdCB0bXBNYXRyaXggPSBbY3JlYXRlKCksIGNyZWF0ZSgpLCBjcmVhdGUoKV07XG4gICAgICAgIHNjYWxpbmdUb1JlZihzY2FsZS54LCBzY2FsZS55LCBzY2FsZS56LCB0bXBNYXRyaXhbMV0pO1xuICAgICAgICBmcm9tUXVhdGVybmlvblRvUmVmKHJvdGF0aW9uLCB0bXBNYXRyaXhbMF0pO1xuICAgICAgICBtdWx0aXBseVRvUmVmKHRtcE1hdHJpeFsxXSwgdG1wTWF0cml4WzBdLCByZXN1bHQpO1xuICAgICAgICBzZXRUcmFuc2xhdGlvbihyZXN1bHQsIHRyYW5zbGF0aW9uKTtcbiAgICB9XG4gICAgTWF0cml4LmNvbXBvc2VUb1JlZiA9IGNvbXBvc2VUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdHJpeFxuICAgICAqIEByZXR1cm5zIGEgbmV3IGlkZW50aXR5IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIElkZW50aXR5KCkge1xuICAgICAgICBjb25zdCBpZGVudGl0eSA9IGZyb21WYWx1ZXMoMS4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wKTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKGlkZW50aXR5LCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgIH1cbiAgICBNYXRyaXguSWRlbnRpdHkgPSBJZGVudGl0eTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdHJpeCBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW4gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIElkZW50aXR5VG9SZWYocmVzdWx0KSB7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZigxLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIHJlc3VsdCk7XG4gICAgICAgIF91cGRhdGVJZGVudGl0eVN0YXR1cyhyZXN1bHQsIHRydWUpO1xuICAgIH1cbiAgICBNYXRyaXguSWRlbnRpdHlUb1JlZiA9IElkZW50aXR5VG9SZWY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB6ZXJvIG1hdHJpeFxuICAgICAqIEByZXR1cm5zIGEgbmV3IHplcm8gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gWmVybygpIHtcbiAgICAgICAgY29uc3QgemVybyA9IGZyb21WYWx1ZXMoMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wKTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHplcm8sIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHplcm87XG4gICAgfVxuICAgIE1hdHJpeC5aZXJvID0gWmVybztcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJvdGF0aW9uIG1hdHJpeCBmb3IgXCJhbmdsZVwiIHJhZGlhbnMgYXJvdW5kIHRoZSBYIGF4aXNcbiAgICAgKiBAcGFyYW0gYW5nbGUgLSBkZWZpbmVzIHRoZSBhbmdsZSAoaW4gcmFkaWFucykgdG8gdXNlXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSb3RhdGlvblgoYW5nbGUpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIHJvdGF0aW9uWFRvUmVmKGFuZ2xlLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXguUm90YXRpb25YID0gUm90YXRpb25YO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcm90YXRpb24gbWF0cml4IGZvciBcImFuZ2xlXCIgcmFkaWFucyBhcm91bmQgdGhlIFggYXhpcyBhbmQgc3RvcmVzIGl0IGluIGEgZ2l2ZW4gbWF0cml4XG4gICAgICogQHBhcmFtIGFuZ2xlIC0gZGVmaW5lcyB0aGUgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHVzZVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRpb25YVG9SZWYoYW5nbGUsIHJlc3VsdCkge1xuICAgICAgICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICBjb25zdCBjID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICBmcm9tVmFsdWVzVG9SZWYoMS4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGMsIHMsIDAuMCwgMC4wLCAtcywgYywgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIHJlc3VsdCk7XG4gICAgICAgIF91cGRhdGVJZGVudGl0eVN0YXR1cyhyZXN1bHQsIGMgPT09IDEgJiYgcyA9PT0gMCk7XG4gICAgfVxuICAgIE1hdHJpeC5yb3RhdGlvblhUb1JlZiA9IHJvdGF0aW9uWFRvUmVmO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcm90YXRpb24gbWF0cml4IGZvciBcImFuZ2xlXCIgcmFkaWFucyBhcm91bmQgdGhlIFkgYXhpc1xuICAgICAqIEBwYXJhbSBhbmdsZSAtIGRlZmluZXMgdGhlIGFuZ2xlIChpbiByYWRpYW5zKSB0byB1c2VcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJvdGF0aW9uWShhbmdsZSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgcm90YXRpb25ZVG9SZWYoYW5nbGUsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5yb3RhdGlvblkgPSByb3RhdGlvblk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByb3RhdGlvbiBtYXRyaXggZm9yIFwiYW5nbGVcIiByYWRpYW5zIGFyb3VuZCB0aGUgWSBheGlzIGFuZCBzdG9yZXMgaXQgaW4gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gYW5nbGUgLSBkZWZpbmVzIHRoZSBhbmdsZSAoaW4gcmFkaWFucykgdG8gdXNlXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByb3RhdGlvbllUb1JlZihhbmdsZSwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHMgPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgICAgIGNvbnN0IGMgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihjLCAwLjAsIC1zLCAwLjAsIDAuMCwgMS4wLCAwLjAsIDAuMCwgcywgMC4wLCBjLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgcmVzdWx0KTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHJlc3VsdCwgYyA9PT0gMSAmJiBzID09PSAwKTtcbiAgICB9XG4gICAgTWF0cml4LnJvdGF0aW9uWVRvUmVmID0gcm90YXRpb25ZVG9SZWY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByb3RhdGlvbiBtYXRyaXggZm9yIFwiYW5nbGVcIiByYWRpYW5zIGFyb3VuZCB0aGUgWiBheGlzXG4gICAgICogQHBhcmFtIGFuZ2xlIC0gZGVmaW5lcyB0aGUgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHVzZVxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRpb25aKGFuZ2xlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICByb3RhdGlvblpUb1JlZihhbmdsZSwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgTWF0cml4LnJvdGF0aW9uWiA9IHJvdGF0aW9uWjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJvdGF0aW9uIG1hdHJpeCBmb3IgXCJhbmdsZVwiIHJhZGlhbnMgYXJvdW5kIHRoZSBaIGF4aXMgYW5kIHN0b3JlcyBpdCBpbiBhIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSBhbmdsZSAtIGRlZmluZXMgdGhlIGFuZ2xlIChpbiByYWRpYW5zKSB0byB1c2VcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJvdGF0aW9uWlRvUmVmKGFuZ2xlLCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgcyA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICAgICAgY29uc3QgYyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKGMsIHMsIDAuMCwgMC4wLCAtcywgYywgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCByZXN1bHQpO1xuICAgICAgICBfdXBkYXRlSWRlbnRpdHlTdGF0dXMocmVzdWx0LCBjID09PSAxICYmIHMgPT09IDApO1xuICAgIH1cbiAgICBNYXRyaXgucm90YXRpb25aVG9SZWYgPSByb3RhdGlvblpUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJvdGF0aW9uIG1hdHJpeCBmb3IgXCJhbmdsZVwiIHJhZGlhbnMgYXJvdW5kIHRoZSBnaXZlbiBheGlzXG4gICAgICogQHBhcmFtIGF4aXMgLSBkZWZpbmVzIHRoZSBheGlzIHRvIHVzZVxuICAgICAqIEBwYXJhbSBhbmdsZSAtIGRlZmluZXMgdGhlIGFuZ2xlIChpbiByYWRpYW5zKSB0byB1c2VcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJvdGF0aW9uQXhpcyhheGlzLCBhbmdsZSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgcm90YXRpb25BeGlzVG9SZWYoYXhpcywgYW5nbGUsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5yb3RhdGlvbkF4aXMgPSByb3RhdGlvbkF4aXM7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByb3RhdGlvbiBtYXRyaXggZm9yIFwiYW5nbGVcIiByYWRpYW5zIGFyb3VuZCB0aGUgZ2l2ZW4gYXhpcyBhbmQgc3RvcmVzIGl0IGluIGEgZ2l2ZW4gbWF0cml4XG4gICAgICogQHBhcmFtIGF4aXMgLSBkZWZpbmVzIHRoZSBheGlzIHRvIHVzZVxuICAgICAqIEBwYXJhbSBhbmdsZSAtIGRlZmluZXMgdGhlIGFuZ2xlIChpbiByYWRpYW5zKSB0byB1c2VcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJvdGF0aW9uQXhpc1RvUmVmKF9heGlzLCBhbmdsZSwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHMgPSBNYXRoLnNpbigtYW5nbGUpO1xuICAgICAgICBjb25zdCBjID0gTWF0aC5jb3MoLWFuZ2xlKTtcbiAgICAgICAgY29uc3QgYzEgPSAxIC0gYztcbiAgICAgICAgY29uc3QgYXhpcyA9IFZlY3RvcjMubm9ybWFsaXplKF9heGlzKTtcbiAgICAgICAgY29uc3QgbSA9IHJlc3VsdC5fbTtcbiAgICAgICAgbVswXSA9IGF4aXMueCAqIGF4aXMueCAqIGMxICsgYztcbiAgICAgICAgbVsxXSA9IGF4aXMueCAqIGF4aXMueSAqIGMxIC0gYXhpcy56ICogcztcbiAgICAgICAgbVsyXSA9IGF4aXMueCAqIGF4aXMueiAqIGMxICsgYXhpcy55ICogcztcbiAgICAgICAgbVszXSA9IDAuMDtcbiAgICAgICAgbVs0XSA9IGF4aXMueSAqIGF4aXMueCAqIGMxICsgYXhpcy56ICogcztcbiAgICAgICAgbVs1XSA9IGF4aXMueSAqIGF4aXMueSAqIGMxICsgYztcbiAgICAgICAgbVs2XSA9IGF4aXMueSAqIGF4aXMueiAqIGMxIC0gYXhpcy54ICogcztcbiAgICAgICAgbVs3XSA9IDAuMDtcbiAgICAgICAgbVs4XSA9IGF4aXMueiAqIGF4aXMueCAqIGMxIC0gYXhpcy55ICogcztcbiAgICAgICAgbVs5XSA9IGF4aXMueiAqIGF4aXMueSAqIGMxICsgYXhpcy54ICogcztcbiAgICAgICAgbVsxMF0gPSBheGlzLnogKiBheGlzLnogKiBjMSArIGM7XG4gICAgICAgIG1bMTFdID0gMC4wO1xuICAgICAgICBtWzEyXSA9IDAuMDtcbiAgICAgICAgbVsxM10gPSAwLjA7XG4gICAgICAgIG1bMTRdID0gMC4wO1xuICAgICAgICBtWzE1XSA9IDEuMDtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQocmVzdWx0KTtcbiAgICB9XG4gICAgTWF0cml4LnJvdGF0aW9uQXhpc1RvUmVmID0gcm90YXRpb25BeGlzVG9SZWY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJvdGF0aW9uIG1hdHJpeFxuICAgICAqIEBwYXJhbSB5YXcgLSBkZWZpbmVzIHRoZSB5YXcgYW5nbGUgaW4gcmFkaWFucyAoWSBheGlzKVxuICAgICAqIEBwYXJhbSBwaXRjaCAtIGRlZmluZXMgdGhlIHBpdGNoIGFuZ2xlIGluIHJhZGlhbnMgKFggYXhpcylcbiAgICAgKiBAcGFyYW0gcm9sbCAtIGRlZmluZXMgdGhlIHJvbGwgYW5nbGUgaW4gcmFkaWFucyAoWCBheGlzKVxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgcm90YXRpb24gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRpb25ZYXdQaXRjaFJvbGwoeWF3LCBwaXRjaCwgcm9sbCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgcm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih5YXcsIHBpdGNoLCByb2xsLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXgucm90YXRpb25ZYXdQaXRjaFJvbGwgPSByb3RhdGlvbllhd1BpdGNoUm9sbDtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcm90YXRpb24gbWF0cml4IGFuZCBzdG9yZXMgaXQgaW4gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0geWF3IC0gZGVmaW5lcyB0aGUgeWF3IGFuZ2xlIGluIHJhZGlhbnMgKFkgYXhpcylcbiAgICAgKiBAcGFyYW0gcGl0Y2ggLSBkZWZpbmVzIHRoZSBwaXRjaCBhbmdsZSBpbiByYWRpYW5zIChYIGF4aXMpXG4gICAgICogQHBhcmFtIHJvbGwgLSBkZWZpbmVzIHRoZSByb2xsIGFuZ2xlIGluIHJhZGlhbnMgKFggYXhpcylcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoeWF3LCBwaXRjaCwgcm9sbCwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHF1YXRlcm5pb25SZXN1bHQgPSBRdWF0ZXJuaW9uLlplcm8oKTtcbiAgICAgICAgUXVhdGVybmlvbi5mcm9tUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih5YXcsIHBpdGNoLCByb2xsLCBxdWF0ZXJuaW9uUmVzdWx0KTtcbiAgICAgICAgZnJvbVF1YXRlcm5pb25Ub1JlZihxdWF0ZXJuaW9uUmVzdWx0LCByZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXgucm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZiA9IHJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNjYWxpbmcgbWF0cml4XG4gICAgICogQHBhcmFtIHggLSBkZWZpbmVzIHRoZSBzY2FsZSBmYWN0b3Igb24gWCBheGlzXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSBzY2FsZSBmYWN0b3Igb24gWSBheGlzXG4gICAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSBzY2FsZSBmYWN0b3Igb24gWiBheGlzXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzY2FsaW5nKHgsIHksIHopIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIHNjYWxpbmdUb1JlZih4LCB5LCB6LCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXguc2NhbGluZyA9IHNjYWxpbmc7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNjYWxpbmcgbWF0cml4IGFuZCBzdG9yZXMgaXQgaW4gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvciBvbiBYIGF4aXNcbiAgICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvciBvbiBZIGF4aXNcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvciBvbiBaIGF4aXNcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxpbmdUb1JlZih4LCB5LCB6LCByZXN1bHQpIHtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKHgsIDAuMCwgMC4wLCAwLjAsIDAuMCwgeSwgMC4wLCAwLjAsIDAuMCwgMC4wLCB6LCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgcmVzdWx0KTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHJlc3VsdCwgeCA9PT0gMSAmJiB5ID09PSAxICYmIHogPT09IDEpO1xuICAgIH1cbiAgICBNYXRyaXguc2NhbGluZ1RvUmVmID0gc2NhbGluZ1RvUmVmO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0cmFuc2xhdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHRyYW5zbGF0aW9uIG9uIFggYXhpc1xuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb24gb24gWSBheGlzXG4gICAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSB0cmFuc2xhdGlvbm9uIFogYXhpc1xuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNsYXRpb24oeCwgeSwgeikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgdHJhbnNsYXRpb25Ub1JlZih4LCB5LCB6LCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXgudHJhbnNsYXRpb24gPSB0cmFuc2xhdGlvbjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgdHJhbnNsYXRpb24gbWF0cml4IGFuZCBzdG9yZXMgaXQgaW4gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHRyYW5zbGF0aW9uIG9uIFggYXhpc1xuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb24gb24gWSBheGlzXG4gICAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSB0cmFuc2xhdGlvbm9uIFogYXhpc1xuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNsYXRpb25Ub1JlZih4LCB5LCB6LCByZXN1bHQpIHtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKDEuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCAwLjAsIHgsIHksIHosIDEuMCwgcmVzdWx0KTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHJlc3VsdCwgeCA9PT0gMCAmJiB5ID09PSAwICYmIHogPT09IDApO1xuICAgIH1cbiAgICBNYXRyaXgudHJhbnNsYXRpb25Ub1JlZiA9IHRyYW5zbGF0aW9uVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBNYXRyaXggd2hvc2UgdmFsdWVzIGFyZSB0aGUgaW50ZXJwb2xhdGVkIHZhbHVlcyBmb3IgXCJncmFkaWVudFwiIChmbG9hdCkgYmV0d2VlbiB0aGUgb25lcyBvZiB0aGUgbWF0cmljZXMgXCJzdGFydFZhbHVlXCIgYW5kIFwiZW5kVmFsdWVcIi5cbiAgICAgKiBAcGFyYW0gc3RhcnRWYWx1ZSAtIGRlZmluZXMgdGhlIHN0YXJ0IHZhbHVlXG4gICAgICogQHBhcmFtIGVuZFZhbHVlIC0gZGVmaW5lcyB0aGUgZW5kIHZhbHVlXG4gICAgICogQHBhcmFtIGdyYWRpZW50IC0gZGVmaW5lcyB0aGUgZ3JhZGllbnQgZmFjdG9yXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsZXJwKHN0YXJ0VmFsdWUsIGVuZFZhbHVlLCBncmFkaWVudCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgbGVycFRvUmVmKHN0YXJ0VmFsdWUsIGVuZFZhbHVlLCBncmFkaWVudCwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgTWF0cml4LmxlcnAgPSBsZXJwO1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZ2l2ZW4gbWF0cml4IFwicmVzdWx0XCIgYXMgdGhlIGludGVycG9sYXRlZCB2YWx1ZXMgZm9yIFwiZ3JhZGllbnRcIiAoZmxvYXQpIGJldHdlZW4gdGhlIG9uZXMgb2YgdGhlIG1hdHJpY2VzIFwic3RhcnRWYWx1ZVwiIGFuZCBcImVuZFZhbHVlXCIuXG4gICAgICogQHBhcmFtIHN0YXJ0VmFsdWUgLSBkZWZpbmVzIHRoZSBzdGFydCB2YWx1ZVxuICAgICAqIEBwYXJhbSBlbmRWYWx1ZSAtIGRlZmluZXMgdGhlIGVuZCB2YWx1ZVxuICAgICAqIEBwYXJhbSBncmFkaWVudCAtIGRlZmluZXMgdGhlIGdyYWRpZW50IGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBNYXRyaXggb2JqZWN0IHdoZXJlIHRvIHN0b3JlIGRhdGFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsZXJwVG9SZWYoc3RhcnRWYWx1ZSwgZW5kVmFsdWUsIGdyYWRpZW50LCByZXN1bHQpIHtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IDE2OyBpbmRleCsrKSB7XG4gICAgICAgICAgICByZXN1bHQuX21baW5kZXhdID1cbiAgICAgICAgICAgICAgICBzdGFydFZhbHVlLl9tW2luZGV4XSAqICgxLjAgLSBncmFkaWVudCkgKyBlbmRWYWx1ZS5fbVtpbmRleF0gKiBncmFkaWVudDtcbiAgICAgICAgfVxuICAgICAgICBfbWFya0FzVXBkYXRlZChyZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXgubGVycFRvUmVmID0gbGVycFRvUmVmO1xuICAgIC8qKlxuICAgICAqIEJ1aWxkcyBhIG5ldyBtYXRyaXggd2hvc2UgdmFsdWVzIGFyZSBjb21wdXRlZCBieTpcbiAgICAgKiAqIGRlY29tcG9zaW5nIHRoZSB0aGUgXCJzdGFydFZhbHVlXCIgYW5kIFwiZW5kVmFsdWVcIiBtYXRyaWNlcyBpbnRvIHRoZWlyIHJlc3BlY3RpdmUgc2NhbGUsIHJvdGF0aW9uIGFuZCB0cmFuc2xhdGlvbiBtYXRyaWNlc1xuICAgICAqICogaW50ZXJwb2xhdGluZyBmb3IgXCJncmFkaWVudFwiIChmbG9hdCkgdGhlIHZhbHVlcyBiZXR3ZWVuIGVhY2ggb2YgdGhlc2UgZGVjb21wb3NlZCBtYXRyaWNlcyBiZXR3ZWVuIHRoZSBzdGFydCBhbmQgdGhlIGVuZFxuICAgICAqICogcmVjb21wb3NpbmcgYSBuZXcgbWF0cml4IGZyb20gdGhlc2UgMyBpbnRlcnBvbGF0ZWQgc2NhbGUsIHJvdGF0aW9uIGFuZCB0cmFuc2xhdGlvbiBtYXRyaWNlc1xuICAgICAqIEBwYXJhbSBzdGFydFZhbHVlIC0gZGVmaW5lcyB0aGUgZmlyc3QgbWF0cml4XG4gICAgICogQHBhcmFtIGVuZFZhbHVlIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG1hdHJpeFxuICAgICAqIEBwYXJhbSBncmFkaWVudCAtIGRlZmluZXMgdGhlIGdyYWRpZW50IGJldHdlZW4gdGhlIHR3byBtYXRyaWNlc1xuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVjb21wb3NlTGVycChzdGFydFZhbHVlLCBlbmRWYWx1ZSwgZ3JhZGllbnQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIGRlY29tcG9zZUxlcnBUb1JlZihzdGFydFZhbHVlLCBlbmRWYWx1ZSwgZ3JhZGllbnQsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5kZWNvbXBvc2VMZXJwID0gZGVjb21wb3NlTGVycDtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYSBtYXRyaXggdG8gdmFsdWVzIHdoaWNoIGFyZSBjb21wdXRlZCBieTpcbiAgICAgKiAqIGRlY29tcG9zaW5nIHRoZSB0aGUgXCJzdGFydFZhbHVlXCIgYW5kIFwiZW5kVmFsdWVcIiBtYXRyaWNlcyBpbnRvIHRoZWlyIHJlc3BlY3RpdmUgc2NhbGUsIHJvdGF0aW9uIGFuZCB0cmFuc2xhdGlvbiBtYXRyaWNlc1xuICAgICAqICogaW50ZXJwb2xhdGluZyBmb3IgXCJncmFkaWVudFwiIChmbG9hdCkgdGhlIHZhbHVlcyBiZXR3ZWVuIGVhY2ggb2YgdGhlc2UgZGVjb21wb3NlZCBtYXRyaWNlcyBiZXR3ZWVuIHRoZSBzdGFydCBhbmQgdGhlIGVuZFxuICAgICAqICogcmVjb21wb3NpbmcgYSBuZXcgbWF0cml4IGZyb20gdGhlc2UgMyBpbnRlcnBvbGF0ZWQgc2NhbGUsIHJvdGF0aW9uIGFuZCB0cmFuc2xhdGlvbiBtYXRyaWNlc1xuICAgICAqIEBwYXJhbSBzdGFydFZhbHVlIC0gZGVmaW5lcyB0aGUgZmlyc3QgbWF0cml4XG4gICAgICogQHBhcmFtIGVuZFZhbHVlIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG1hdHJpeFxuICAgICAqIEBwYXJhbSBncmFkaWVudCAtIGRlZmluZXMgdGhlIGdyYWRpZW50IGJldHdlZW4gdGhlIHR3byBtYXRyaWNlc1xuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVjb21wb3NlTGVycFRvUmVmKHN0YXJ0VmFsdWUsIGVuZFZhbHVlLCBncmFkaWVudCwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0U2NhbGUgPSBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgY29uc3Qgc3RhcnRSb3RhdGlvbiA9IFF1YXRlcm5pb24uWmVybygpO1xuICAgICAgICBjb25zdCBzdGFydFRyYW5zbGF0aW9uID0gVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIGRlY29tcG9zZShzdGFydFZhbHVlLCBzdGFydFNjYWxlLCBzdGFydFJvdGF0aW9uLCBzdGFydFRyYW5zbGF0aW9uKTtcbiAgICAgICAgY29uc3QgZW5kU2NhbGUgPSBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgY29uc3QgZW5kUm90YXRpb24gPSBRdWF0ZXJuaW9uLlplcm8oKTtcbiAgICAgICAgY29uc3QgZW5kVHJhbnNsYXRpb24gPSBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgZGVjb21wb3NlKGVuZFZhbHVlLCBlbmRTY2FsZSwgZW5kUm90YXRpb24sIGVuZFRyYW5zbGF0aW9uKTtcbiAgICAgICAgY29uc3QgcmVzdWx0U2NhbGUgPSBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgVmVjdG9yMy5sZXJwVG9SZWYoc3RhcnRTY2FsZSwgZW5kU2NhbGUsIGdyYWRpZW50LCByZXN1bHRTY2FsZSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdFJvdGF0aW9uID0gUXVhdGVybmlvbi5aZXJvKCk7XG4gICAgICAgIFF1YXRlcm5pb24uc2xlcnBUb1JlZihzdGFydFJvdGF0aW9uLCBlbmRSb3RhdGlvbiwgZ3JhZGllbnQsIHJlc3VsdFJvdGF0aW9uKTtcbiAgICAgICAgY29uc3QgcmVzdWx0VHJhbnNsYXRpb24gPSBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgVmVjdG9yMy5sZXJwVG9SZWYoc3RhcnRUcmFuc2xhdGlvbiwgZW5kVHJhbnNsYXRpb24sIGdyYWRpZW50LCByZXN1bHRUcmFuc2xhdGlvbik7XG4gICAgICAgIGNvbXBvc2VUb1JlZihyZXN1bHRTY2FsZSwgcmVzdWx0Um90YXRpb24sIHJlc3VsdFRyYW5zbGF0aW9uLCByZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXguZGVjb21wb3NlTGVycFRvUmVmID0gZGVjb21wb3NlTGVycFRvUmVmO1xuICAgIC8qKlxuICAgICAqIEdldHMgYSBuZXcgcm90YXRpb24gbWF0cml4IHVzZWQgdG8gcm90YXRlIGFuIGVudGl0eSBzbyBhcyBpdCBsb29rcyBhdCB0aGUgdGFyZ2V0IHZlY3RvcjMsIGZyb20gdGhlIGV5ZSB2ZWN0b3IzIHBvc2l0aW9uLCB0aGUgdXAgdmVjdG9yMyBiZWluZyBvcmllbnRlZCBsaWtlIFwidXBcIlxuICAgICAqIHNlbGYgZnVuY3Rpb24gd29ya3MgaW4gbGVmdCBoYW5kZWQgbW9kZVxuICAgICAqIEBwYXJhbSBleWUgLSBkZWZpbmVzIHRoZSBmaW5hbCBwb3NpdGlvbiBvZiB0aGUgZW50aXR5XG4gICAgICogQHBhcmFtIHRhcmdldCAtIGRlZmluZXMgd2hlcmUgdGhlIGVudGl0eSBzaG91bGQgbG9vayBhdFxuICAgICAqIEBwYXJhbSB1cCAtIGRlZmluZXMgdGhlIHVwIHZlY3RvciBmb3IgdGhlIGVudGl0eVxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gTG9va0F0TEgoZXllLCB0YXJnZXQsIHVwKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICBsb29rQXRMSFRvUmVmKGV5ZSwgdGFyZ2V0LCB1cCwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgTWF0cml4Lkxvb2tBdExIID0gTG9va0F0TEg7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2l2ZW4gXCJyZXN1bHRcIiBNYXRyaXggdG8gYSByb3RhdGlvbiBtYXRyaXggdXNlZCB0byByb3RhdGUgYW4gZW50aXR5IHNvIHRoYXQgaXQgbG9va3MgYXQgdGhlIHRhcmdldCB2ZWN0b3IzLCBmcm9tIHRoZSBleWUgdmVjdG9yMyBwb3NpdGlvbiwgdGhlIHVwIHZlY3RvcjMgYmVpbmcgb3JpZW50ZWQgbGlrZSBcInVwXCIuXG4gICAgICogc2VsZiBmdW5jdGlvbiB3b3JrcyBpbiBsZWZ0IGhhbmRlZCBtb2RlXG4gICAgICogQHBhcmFtIGV5ZSAtIGRlZmluZXMgdGhlIGZpbmFsIHBvc2l0aW9uIG9mIHRoZSBlbnRpdHlcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gZGVmaW5lcyB3aGVyZSB0aGUgZW50aXR5IHNob3VsZCBsb29rIGF0XG4gICAgICogQHBhcmFtIHVwIC0gZGVmaW5lcyB0aGUgdXAgdmVjdG9yIGZvciB0aGUgZW50aXR5XG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb29rQXRMSFRvUmVmKGV5ZSwgdGFyZ2V0LCB1cCwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHhBeGlzID0gVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIGNvbnN0IHlBeGlzID0gVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIGNvbnN0IHpBeGlzID0gVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIC8vIFogYXhpc1xuICAgICAgICBWZWN0b3IzLnN1YnRyYWN0VG9SZWYodGFyZ2V0LCBleWUsIHpBeGlzKTtcbiAgICAgICAgVmVjdG9yMy5ub3JtYWxpemVUb1JlZih6QXhpcywgekF4aXMpO1xuICAgICAgICAvLyBYIGF4aXNcbiAgICAgICAgVmVjdG9yMy5jcm9zc1RvUmVmKHVwLCB6QXhpcywgeEF4aXMpO1xuICAgICAgICBjb25zdCB4U3F1YXJlTGVuZ3RoID0gVmVjdG9yMy5sZW5ndGhTcXVhcmVkKHhBeGlzKTtcbiAgICAgICAgaWYgKHhTcXVhcmVMZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHhBeGlzLnggPSAxLjA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBWZWN0b3IzLm5vcm1hbGl6ZUZyb21MZW5ndGhUb1JlZih4QXhpcywgTWF0aC5zcXJ0KHhTcXVhcmVMZW5ndGgpLCB4QXhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gWSBheGlzXG4gICAgICAgIFZlY3RvcjMuY3Jvc3NUb1JlZih6QXhpcywgeEF4aXMsIHlBeGlzKTtcbiAgICAgICAgVmVjdG9yMy5ub3JtYWxpemVUb1JlZih5QXhpcywgeUF4aXMpO1xuICAgICAgICAvLyBFeWUgYW5nbGVzXG4gICAgICAgIGNvbnN0IGV4ID0gLVZlY3RvcjMuZG90KHhBeGlzLCBleWUpO1xuICAgICAgICBjb25zdCBleSA9IC1WZWN0b3IzLmRvdCh5QXhpcywgZXllKTtcbiAgICAgICAgY29uc3QgZXogPSAtVmVjdG9yMy5kb3QoekF4aXMsIGV5ZSk7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZih4QXhpcy54LCB5QXhpcy54LCB6QXhpcy54LCAwLjAsIHhBeGlzLnksIHlBeGlzLnksIHpBeGlzLnksIDAuMCwgeEF4aXMueiwgeUF4aXMueiwgekF4aXMueiwgMC4wLCBleCwgZXksIGV6LCAxLjAsIHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5sb29rQXRMSFRvUmVmID0gbG9va0F0TEhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBHZXRzIGEgbmV3IHJvdGF0aW9uIG1hdHJpeCB1c2VkIHRvIHJvdGF0ZSBhbiBlbnRpdHkgc28gYXMgaXQgbG9va3MgYXQgdGhlIHRhcmdldCB2ZWN0b3IzLCBmcm9tIHRoZSBleWUgdmVjdG9yMyBwb3NpdGlvbiwgdGhlIHVwIHZlY3RvcjMgYmVpbmcgb3JpZW50ZWQgbGlrZSBcInVwXCJcbiAgICAgKiBzZWxmIGZ1bmN0aW9uIHdvcmtzIGluIHJpZ2h0IGhhbmRlZCBtb2RlXG4gICAgICogQHBhcmFtIGV5ZSAtIGRlZmluZXMgdGhlIGZpbmFsIHBvc2l0aW9uIG9mIHRoZSBlbnRpdHlcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gZGVmaW5lcyB3aGVyZSB0aGUgZW50aXR5IHNob3VsZCBsb29rIGF0XG4gICAgICogQHBhcmFtIHVwIC0gZGVmaW5lcyB0aGUgdXAgdmVjdG9yIGZvciB0aGUgZW50aXR5XG4gICAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb29rQXRSSChleWUsIHRhcmdldCwgdXApIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIGxvb2tBdFJIVG9SZWYoZXllLCB0YXJnZXQsIHVwLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXgubG9va0F0UkggPSBsb29rQXRSSDtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiBcInJlc3VsdFwiIE1hdHJpeCB0byBhIHJvdGF0aW9uIG1hdHJpeCB1c2VkIHRvIHJvdGF0ZSBhbiBlbnRpdHkgc28gdGhhdCBpdCBsb29rcyBhdCB0aGUgdGFyZ2V0IHZlY3RvcjMsIGZyb20gdGhlIGV5ZSB2ZWN0b3IzIHBvc2l0aW9uLCB0aGUgdXAgdmVjdG9yMyBiZWluZyBvcmllbnRlZCBsaWtlIFwidXBcIi5cbiAgICAgKiBzZWxmIGZ1bmN0aW9uIHdvcmtzIGluIHJpZ2h0IGhhbmRlZCBtb2RlXG4gICAgICogQHBhcmFtIGV5ZSAtIGRlZmluZXMgdGhlIGZpbmFsIHBvc2l0aW9uIG9mIHRoZSBlbnRpdHlcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gZGVmaW5lcyB3aGVyZSB0aGUgZW50aXR5IHNob3VsZCBsb29rIGF0XG4gICAgICogQHBhcmFtIHVwIC0gZGVmaW5lcyB0aGUgdXAgdmVjdG9yIGZvciB0aGUgZW50aXR5XG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb29rQXRSSFRvUmVmKGV5ZSwgdGFyZ2V0LCB1cCwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHhBeGlzID0gVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIGNvbnN0IHlBeGlzID0gVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIGNvbnN0IHpBeGlzID0gVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIC8vIFogYXhpc1xuICAgICAgICBWZWN0b3IzLnN1YnRyYWN0VG9SZWYoZXllLCB0YXJnZXQsIHpBeGlzKTtcbiAgICAgICAgVmVjdG9yMy5ub3JtYWxpemVUb1JlZih6QXhpcywgekF4aXMpO1xuICAgICAgICAvLyBYIGF4aXNcbiAgICAgICAgVmVjdG9yMy5jcm9zc1RvUmVmKHVwLCB6QXhpcywgeEF4aXMpO1xuICAgICAgICBjb25zdCB4U3F1YXJlTGVuZ3RoID0gVmVjdG9yMy5sZW5ndGhTcXVhcmVkKHhBeGlzKTtcbiAgICAgICAgaWYgKHhTcXVhcmVMZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHhBeGlzLnggPSAxLjA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBWZWN0b3IzLm5vcm1hbGl6ZUZyb21MZW5ndGhUb1JlZih4QXhpcywgTWF0aC5zcXJ0KHhTcXVhcmVMZW5ndGgpLCB4QXhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gWSBheGlzXG4gICAgICAgIFZlY3RvcjMuY3Jvc3NUb1JlZih6QXhpcywgeEF4aXMsIHlBeGlzKTtcbiAgICAgICAgVmVjdG9yMy5ub3JtYWxpemVUb1JlZih5QXhpcywgeUF4aXMpO1xuICAgICAgICAvLyBFeWUgYW5nbGVzXG4gICAgICAgIGNvbnN0IGV4ID0gLVZlY3RvcjMuZG90KHhBeGlzLCBleWUpO1xuICAgICAgICBjb25zdCBleSA9IC1WZWN0b3IzLmRvdCh5QXhpcywgZXllKTtcbiAgICAgICAgY29uc3QgZXogPSAtVmVjdG9yMy5kb3QoekF4aXMsIGV5ZSk7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZih4QXhpcy54LCB5QXhpcy54LCB6QXhpcy54LCAwLjAsIHhBeGlzLnksIHlBeGlzLnksIHpBeGlzLnksIDAuMCwgeEF4aXMueiwgeUF4aXMueiwgekF4aXMueiwgMC4wLCBleCwgZXksIGV6LCAxLjAsIHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5sb29rQXRSSFRvUmVmID0gbG9va0F0UkhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBsZWZ0LWhhbmRlZCBvcnRob2dyYXBoaWMgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gd2lkdGggLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCB3aWR0aFxuICAgICAqIEBwYXJhbSBoZWlnaHQgLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCBoZWlnaHRcbiAgICAgKiBAcGFyYW0gem5lYXIgLSBkZWZpbmVzIHRoZSBuZWFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAgICogQHJldHVybnMgYSBuZXcgbWF0cml4IGFzIGEgbGVmdC1oYW5kZWQgb3J0aG9ncmFwaGljIHByb2plY3Rpb24gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gb3J0aG9MSCh3aWR0aCwgaGVpZ2h0LCB6bmVhciwgemZhcikge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBjcmVhdGUoKTtcbiAgICAgICAgb3J0aG9MSFRvUmVmKHdpZHRoLCBoZWlnaHQsIHpuZWFyLCB6ZmFyLCBtYXRyaXgpO1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cbiAgICBNYXRyaXgub3J0aG9MSCA9IG9ydGhvTEg7XG4gICAgLyoqXG4gICAgICogU3RvcmUgYSBsZWZ0LWhhbmRlZCBvcnRob2dyYXBoaWMgcHJvamVjdGlvbiB0byBhIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSB3aWR0aCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IHdpZHRoXG4gICAgICogQHBhcmFtIGhlaWdodCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IGhlaWdodFxuICAgICAqIEBwYXJhbSB6bmVhciAtIGRlZmluZXMgdGhlIG5lYXIgY2xpcCBwbGFuZVxuICAgICAqIEBwYXJhbSB6ZmFyIC0gZGVmaW5lcyB0aGUgZmFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9ydGhvTEhUb1JlZih3aWR0aCwgaGVpZ2h0LCB6bmVhciwgemZhciwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB6bmVhcjtcbiAgICAgICAgY29uc3QgZiA9IHpmYXI7XG4gICAgICAgIGNvbnN0IGEgPSAyLjAgLyB3aWR0aDtcbiAgICAgICAgY29uc3QgYiA9IDIuMCAvIGhlaWdodDtcbiAgICAgICAgY29uc3QgYyA9IDIuMCAvIChmIC0gbik7XG4gICAgICAgIGNvbnN0IGQgPSAtKGYgKyBuKSAvIChmIC0gbik7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihhLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGIsIDAuMCwgMC4wLCAwLjAsIDAuMCwgYywgMC4wLCAwLjAsIDAuMCwgZCwgMS4wLCByZXN1bHQpO1xuICAgICAgICBfdXBkYXRlSWRlbnRpdHlTdGF0dXMocmVzdWx0LCBhID09PSAxICYmIGIgPT09IDEgJiYgYyA9PT0gMSAmJiBkID09PSAwKTtcbiAgICB9XG4gICAgTWF0cml4Lm9ydGhvTEhUb1JlZiA9IG9ydGhvTEhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBsZWZ0LWhhbmRlZCBvcnRob2dyYXBoaWMgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IGxlZnQgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IHJpZ2h0IGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gYm90dG9tIC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgYm90dG9tIGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gdG9wIC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgdG9wIGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gem5lYXIgLSBkZWZpbmVzIHRoZSBuZWFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAgICogQHJldHVybnMgYSBuZXcgbWF0cml4IGFzIGEgbGVmdC1oYW5kZWQgb3J0aG9ncmFwaGljIHByb2plY3Rpb24gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gT3J0aG9PZmZDZW50ZXJMSChsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIHpuZWFyLCB6ZmFyKSB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IGNyZWF0ZSgpO1xuICAgICAgICBvcnRob09mZkNlbnRlckxIVG9SZWYobGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCB6bmVhciwgemZhciwgbWF0cml4KTtcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9XG4gICAgTWF0cml4Lk9ydGhvT2ZmQ2VudGVyTEggPSBPcnRob09mZkNlbnRlckxIO1xuICAgIC8qKlxuICAgICAqIFN0b3JlcyBhIGxlZnQtaGFuZGVkIG9ydGhvZ3JhcGhpYyBwcm9qZWN0aW9uIGludG8gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IGxlZnQgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IHJpZ2h0IGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gYm90dG9tIC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgYm90dG9tIGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gdG9wIC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgdG9wIGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gem5lYXIgLSBkZWZpbmVzIHRoZSBuZWFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvcnRob09mZkNlbnRlckxIVG9SZWYobGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCB6bmVhciwgemZhciwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB6bmVhcjtcbiAgICAgICAgY29uc3QgZiA9IHpmYXI7XG4gICAgICAgIGNvbnN0IGEgPSAyLjAgLyAocmlnaHQgLSBsZWZ0KTtcbiAgICAgICAgY29uc3QgYiA9IDIuMCAvICh0b3AgLSBib3R0b20pO1xuICAgICAgICBjb25zdCBjID0gMi4wIC8gKGYgLSBuKTtcbiAgICAgICAgY29uc3QgZCA9IC0oZiArIG4pIC8gKGYgLSBuKTtcbiAgICAgICAgY29uc3QgaTAgPSAobGVmdCArIHJpZ2h0KSAvIChsZWZ0IC0gcmlnaHQpO1xuICAgICAgICBjb25zdCBpMSA9ICh0b3AgKyBib3R0b20pIC8gKGJvdHRvbSAtIHRvcCk7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihhLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGIsIDAuMCwgMC4wLCAwLjAsIDAuMCwgYywgMC4wLCBpMCwgaTEsIGQsIDEuMCwgcmVzdWx0KTtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQocmVzdWx0KTtcbiAgICB9XG4gICAgTWF0cml4Lm9ydGhvT2ZmQ2VudGVyTEhUb1JlZiA9IG9ydGhvT2ZmQ2VudGVyTEhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcmlnaHQtaGFuZGVkIG9ydGhvZ3JhcGhpYyBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgbGVmdCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgcmlnaHQgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSBib3R0b20gLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCBib3R0b20gY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB0b3AgLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCB0b3AgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB6bmVhciAtIGRlZmluZXMgdGhlIG5lYXIgY2xpcCBwbGFuZVxuICAgICAqIEBwYXJhbSB6ZmFyIC0gZGVmaW5lcyB0aGUgZmFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBtYXRyaXggYXMgYSByaWdodC1oYW5kZWQgb3J0aG9ncmFwaGljIHByb2plY3Rpb24gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gb3J0aG9PZmZDZW50ZXJSSChsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIHpuZWFyLCB6ZmFyKSB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IGNyZWF0ZSgpO1xuICAgICAgICBvcnRob09mZkNlbnRlclJIVG9SZWYobGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCB6bmVhciwgemZhciwgbWF0cml4KTtcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9XG4gICAgTWF0cml4Lm9ydGhvT2ZmQ2VudGVyUkggPSBvcnRob09mZkNlbnRlclJIO1xuICAgIC8qKlxuICAgICAqIFN0b3JlcyBhIHJpZ2h0LWhhbmRlZCBvcnRob2dyYXBoaWMgcHJvamVjdGlvbiBpbnRvIGEgZ2l2ZW4gbWF0cml4XG4gICAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCBsZWZ0IGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCByaWdodCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIGJvdHRvbSAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IGJvdHRvbSBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHRvcCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IHRvcCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHpuZWFyIC0gZGVmaW5lcyB0aGUgbmVhciBjbGlwIHBsYW5lXG4gICAgICogQHBhcmFtIHpmYXIgLSBkZWZpbmVzIHRoZSBmYXIgY2xpcCBwbGFuZVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gb3J0aG9PZmZDZW50ZXJSSFRvUmVmKGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgem5lYXIsIHpmYXIsIHJlc3VsdCkge1xuICAgICAgICBvcnRob09mZkNlbnRlckxIVG9SZWYobGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCB6bmVhciwgemZhciwgcmVzdWx0KTtcbiAgICAgICAgcmVzdWx0Ll9tWzEwXSAqPSAtMTsgLy8gTm8gbmVlZCB0byBjYWxsIF9tYXJrQXNVcGRhdGVkIGFzIHByZXZpb3VzIGZ1bmN0aW9uIGFscmVhZHkgY2FsbGVkIGl0IGFuZCBsZXQgX2lzSWRlbnRpdHlEaXJ0eSB0byB0cnVlXG4gICAgfVxuICAgIE1hdHJpeC5vcnRob09mZkNlbnRlclJIVG9SZWYgPSBvcnRob09mZkNlbnRlclJIVG9SZWY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGxlZnQtaGFuZGVkIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICogQHBhcmFtIHdpZHRoIC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgd2lkdGhcbiAgICAgKiBAcGFyYW0gaGVpZ2h0IC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgaGVpZ2h0XG4gICAgICogQHBhcmFtIHpuZWFyIC0gZGVmaW5lcyB0aGUgbmVhciBjbGlwIHBsYW5lXG4gICAgICogQHBhcmFtIHpmYXIgLSBkZWZpbmVzIHRoZSBmYXIgY2xpcCBwbGFuZVxuICAgICAqIEByZXR1cm5zIGEgbmV3IG1hdHJpeCBhcyBhIGxlZnQtaGFuZGVkIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcGVyc3BlY3RpdmVMSCh3aWR0aCwgaGVpZ2h0LCB6bmVhciwgemZhcikge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBjcmVhdGUoKTtcbiAgICAgICAgY29uc3QgbiA9IHpuZWFyO1xuICAgICAgICBjb25zdCBmID0gemZhcjtcbiAgICAgICAgY29uc3QgYSA9ICgyLjAgKiBuKSAvIHdpZHRoO1xuICAgICAgICBjb25zdCBiID0gKDIuMCAqIG4pIC8gaGVpZ2h0O1xuICAgICAgICBjb25zdCBjID0gKGYgKyBuKSAvIChmIC0gbik7XG4gICAgICAgIGNvbnN0IGQgPSAoLTIuMCAqIGYgKiBuKSAvIChmIC0gbik7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihhLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGIsIDAuMCwgMC4wLCAwLjAsIDAuMCwgYywgMS4wLCAwLjAsIDAuMCwgZCwgMC4wLCBtYXRyaXgpO1xuICAgICAgICBfdXBkYXRlSWRlbnRpdHlTdGF0dXMobWF0cml4LCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfVxuICAgIE1hdHJpeC5wZXJzcGVjdGl2ZUxIID0gcGVyc3BlY3RpdmVMSDtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbGVmdC1oYW5kZWQgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gZm92IC0gZGVmaW5lcyB0aGUgaG9yaXpvbnRhbCBmaWVsZCBvZiB2aWV3XG4gICAgICogQHBhcmFtIGFzcGVjdCAtIGRlZmluZXMgdGhlIGFzcGVjdCByYXRpb1xuICAgICAqIEBwYXJhbSB6bmVhciAtIGRlZmluZXMgdGhlIG5lYXIgY2xpcCBwbGFuZVxuICAgICAqIEBwYXJhbSB6ZmFyIC0gZGVmaW5lcyB0aGUgZmFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBtYXRyaXggYXMgYSBsZWZ0LWhhbmRlZCBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBlcnNwZWN0aXZlRm92TEgoZm92LCBhc3BlY3QsIHpuZWFyLCB6ZmFyKSB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IGNyZWF0ZSgpO1xuICAgICAgICBwZXJzcGVjdGl2ZUZvdkxIVG9SZWYoZm92LCBhc3BlY3QsIHpuZWFyLCB6ZmFyLCBtYXRyaXgpO1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cbiAgICBNYXRyaXgucGVyc3BlY3RpdmVGb3ZMSCA9IHBlcnNwZWN0aXZlRm92TEg7XG4gICAgLyoqXG4gICAgICogU3RvcmVzIGEgbGVmdC1oYW5kZWQgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBpbnRvIGEgZ2l2ZW4gbWF0cml4XG4gICAgICogQHBhcmFtIGZvdiAtIGRlZmluZXMgdGhlIGhvcml6b250YWwgZmllbGQgb2Ygdmlld1xuICAgICAqIEBwYXJhbSBhc3BlY3QgLSBkZWZpbmVzIHRoZSBhc3BlY3QgcmF0aW9cbiAgICAgKiBAcGFyYW0gem5lYXIgLSBkZWZpbmVzIHRoZSBuZWFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKiBAcGFyYW0gaXNWZXJ0aWNhbEZvdkZpeGVkIC0gZGVmaW5lcyBpdCB0aGUgZm92IGlzIHZlcnRpY2FsbHkgZml4ZWQgKGRlZmF1bHQpIG9yIGhvcml6b250YWxseVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBlcnNwZWN0aXZlRm92TEhUb1JlZihmb3YsIGFzcGVjdCwgem5lYXIsIHpmYXIsIHJlc3VsdCwgaXNWZXJ0aWNhbEZvdkZpeGVkID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBuID0gem5lYXI7XG4gICAgICAgIGNvbnN0IGYgPSB6ZmFyO1xuICAgICAgICBjb25zdCB0ID0gMS4wIC8gTWF0aC50YW4oZm92ICogMC41KTtcbiAgICAgICAgY29uc3QgYSA9IGlzVmVydGljYWxGb3ZGaXhlZCA/IHQgLyBhc3BlY3QgOiB0O1xuICAgICAgICBjb25zdCBiID0gaXNWZXJ0aWNhbEZvdkZpeGVkID8gdCA6IHQgKiBhc3BlY3Q7XG4gICAgICAgIGNvbnN0IGMgPSAoZiArIG4pIC8gKGYgLSBuKTtcbiAgICAgICAgY29uc3QgZCA9ICgtMi4wICogZiAqIG4pIC8gKGYgLSBuKTtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKGEsIDAuMCwgMC4wLCAwLjAsIDAuMCwgYiwgMC4wLCAwLjAsIDAuMCwgMC4wLCBjLCAxLjAsIDAuMCwgMC4wLCBkLCAwLjAsIHJlc3VsdCk7XG4gICAgICAgIF91cGRhdGVJZGVudGl0eVN0YXR1cyhyZXN1bHQsIGZhbHNlKTtcbiAgICB9XG4gICAgTWF0cml4LnBlcnNwZWN0aXZlRm92TEhUb1JlZiA9IHBlcnNwZWN0aXZlRm92TEhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcmlnaHQtaGFuZGVkIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICogQHBhcmFtIGZvdiAtIGRlZmluZXMgdGhlIGhvcml6b250YWwgZmllbGQgb2Ygdmlld1xuICAgICAqIEBwYXJhbSBhc3BlY3QgLSBkZWZpbmVzIHRoZSBhc3BlY3QgcmF0aW9cbiAgICAgKiBAcGFyYW0gem5lYXIgLSBkZWZpbmVzIHRoZSBuZWFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAgICogQHJldHVybnMgYSBuZXcgbWF0cml4IGFzIGEgcmlnaHQtaGFuZGVkIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gUGVyc3BlY3RpdmVGb3ZSSChmb3YsIGFzcGVjdCwgem5lYXIsIHpmYXIpIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gY3JlYXRlKCk7XG4gICAgICAgIHBlcnNwZWN0aXZlRm92UkhUb1JlZihmb3YsIGFzcGVjdCwgem5lYXIsIHpmYXIsIG1hdHJpeCk7XG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfVxuICAgIE1hdHJpeC5QZXJzcGVjdGl2ZUZvdlJIID0gUGVyc3BlY3RpdmVGb3ZSSDtcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgYSByaWdodC1oYW5kZWQgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBpbnRvIGEgZ2l2ZW4gbWF0cml4XG4gICAgICogQHBhcmFtIGZvdiAtIGRlZmluZXMgdGhlIGhvcml6b250YWwgZmllbGQgb2Ygdmlld1xuICAgICAqIEBwYXJhbSBhc3BlY3QgLSBkZWZpbmVzIHRoZSBhc3BlY3QgcmF0aW9cbiAgICAgKiBAcGFyYW0gem5lYXIgLSBkZWZpbmVzIHRoZSBuZWFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKiBAcGFyYW0gaXNWZXJ0aWNhbEZvdkZpeGVkIC0gZGVmaW5lcyBpdCB0aGUgZm92IGlzIHZlcnRpY2FsbHkgZml4ZWQgKGRlZmF1bHQpIG9yIGhvcml6b250YWxseVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBlcnNwZWN0aXZlRm92UkhUb1JlZihmb3YsIGFzcGVjdCwgem5lYXIsIHpmYXIsIHJlc3VsdCwgaXNWZXJ0aWNhbEZvdkZpeGVkID0gdHJ1ZSkge1xuICAgICAgICAvKiBhbHRlcm5hdGl2ZWx5IHNlbGYgY291bGQgYmUgZXhwcmVzc2VkIGFzOlxuICAgICAgICAvLyAgICBtID0gUGVyc3BlY3RpdmVGb3ZMSFRvUmVmXG4gICAgICAgIC8vICAgIG1bMTBdICo9IC0xLjA7XG4gICAgICAgIC8vICAgIG1bMTFdICo9IC0xLjA7XG4gICAgICAgICovXG4gICAgICAgIGNvbnN0IG4gPSB6bmVhcjtcbiAgICAgICAgY29uc3QgZiA9IHpmYXI7XG4gICAgICAgIGNvbnN0IHQgPSAxLjAgLyBNYXRoLnRhbihmb3YgKiAwLjUpO1xuICAgICAgICBjb25zdCBhID0gaXNWZXJ0aWNhbEZvdkZpeGVkID8gdCAvIGFzcGVjdCA6IHQ7XG4gICAgICAgIGNvbnN0IGIgPSBpc1ZlcnRpY2FsRm92Rml4ZWQgPyB0IDogdCAqIGFzcGVjdDtcbiAgICAgICAgY29uc3QgYyA9IC0oZiArIG4pIC8gKGYgLSBuKTtcbiAgICAgICAgY29uc3QgZCA9ICgtMiAqIGYgKiBuKSAvIChmIC0gbik7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihhLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGIsIDAuMCwgMC4wLCAwLjAsIDAuMCwgYywgLTEuMCwgMC4wLCAwLjAsIGQsIDAuMCwgcmVzdWx0KTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHJlc3VsdCwgZmFsc2UpO1xuICAgIH1cbiAgICBNYXRyaXgucGVyc3BlY3RpdmVGb3ZSSFRvUmVmID0gcGVyc3BlY3RpdmVGb3ZSSFRvUmVmO1xuICAgIC8qKlxuICAgICAqIFN0b3JlcyBhIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gZm9yIFdlYlZSIGluZm8gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gZm92IC0gZGVmaW5lcyB0aGUgZmllbGQgb2Ygdmlld1xuICAgICAqIEBwYXJhbSB6bmVhciAtIGRlZmluZXMgdGhlIG5lYXIgY2xpcCBwbGFuZVxuICAgICAqIEBwYXJhbSB6ZmFyIC0gZGVmaW5lcyB0aGUgZmFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqIEBwYXJhbSByaWdodEhhbmRlZCAtIGRlZmluZXMgaWYgdGhlIG1hdHJpeCBtdXN0IGJlIGluIHJpZ2h0LWhhbmRlZCBtb2RlIChmYWxzZSBieSBkZWZhdWx0KVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBlcnNwZWN0aXZlRm92V2ViVlJUb1JlZihmb3YsIHpuZWFyLCB6ZmFyLCByZXN1bHQsIHJpZ2h0SGFuZGVkID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgcmlnaHRIYW5kZWRGYWN0b3IgPSByaWdodEhhbmRlZCA/IC0xIDogMTtcbiAgICAgICAgY29uc3QgdXBUYW4gPSBNYXRoLnRhbigoZm92LnVwRGVncmVlcyAqIE1hdGguUEkpIC8gMTgwLjApO1xuICAgICAgICBjb25zdCBkb3duVGFuID0gTWF0aC50YW4oKGZvdi5kb3duRGVncmVlcyAqIE1hdGguUEkpIC8gMTgwLjApO1xuICAgICAgICBjb25zdCBsZWZ0VGFuID0gTWF0aC50YW4oKGZvdi5sZWZ0RGVncmVlcyAqIE1hdGguUEkpIC8gMTgwLjApO1xuICAgICAgICBjb25zdCByaWdodFRhbiA9IE1hdGgudGFuKChmb3YucmlnaHREZWdyZWVzICogTWF0aC5QSSkgLyAxODAuMCk7XG4gICAgICAgIGNvbnN0IHhTY2FsZSA9IDIuMCAvIChsZWZ0VGFuICsgcmlnaHRUYW4pO1xuICAgICAgICBjb25zdCB5U2NhbGUgPSAyLjAgLyAodXBUYW4gKyBkb3duVGFuKTtcbiAgICAgICAgY29uc3QgbSA9IHJlc3VsdC5fbTtcbiAgICAgICAgbVswXSA9IHhTY2FsZTtcbiAgICAgICAgbVsxXSA9IG1bMl0gPSBtWzNdID0gbVs0XSA9IDAuMDtcbiAgICAgICAgbVs1XSA9IHlTY2FsZTtcbiAgICAgICAgbVs2XSA9IG1bN10gPSAwLjA7XG4gICAgICAgIG1bOF0gPSAobGVmdFRhbiAtIHJpZ2h0VGFuKSAqIHhTY2FsZSAqIDAuNTtcbiAgICAgICAgbVs5XSA9IC0oKHVwVGFuIC0gZG93blRhbikgKiB5U2NhbGUgKiAwLjUpO1xuICAgICAgICBtWzEwXSA9IC16ZmFyIC8gKHpuZWFyIC0gemZhcik7XG4gICAgICAgIG1bMTFdID0gMS4wICogcmlnaHRIYW5kZWRGYWN0b3I7XG4gICAgICAgIG1bMTJdID0gbVsxM10gPSBtWzE1XSA9IDAuMDtcbiAgICAgICAgbVsxNF0gPSAtKDIuMCAqIHpmYXIgKiB6bmVhcikgLyAoemZhciAtIHpuZWFyKTtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQocmVzdWx0KTtcbiAgICB9XG4gICAgTWF0cml4LnBlcnNwZWN0aXZlRm92V2ViVlJUb1JlZiA9IHBlcnNwZWN0aXZlRm92V2ViVlJUb1JlZjtcbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyBhIDJ4MiBtYXRyaXggZnJvbSBhIGdpdmVuIG1hdHJpeCBhbmQgc3RvcmUgdGhlIHJlc3VsdCBpbiBhIEZsb2F0QXJyYXlcbiAgICAgKiBAcGFyYW0gbWF0cml4IC0gZGVmaW5lcyB0aGUgbWF0cml4IHRvIHVzZVxuICAgICAqIEByZXR1cm5zIGEgbmV3IEZsb2F0QXJyYXkgYXJyYXkgd2l0aCA0IGVsZW1lbnRzIDogdGhlIDJ4MiBtYXRyaXggZXh0cmFjdGVkIGZyb20gdGhlIGdpdmVuIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdldEFzTWF0cml4MngyKG1hdHJpeCkge1xuICAgICAgICByZXR1cm4gW21hdHJpeC5fbVswXSwgbWF0cml4Ll9tWzFdLCBtYXRyaXguX21bNF0sIG1hdHJpeC5fbVs1XV07XG4gICAgfVxuICAgIE1hdHJpeC5HZXRBc01hdHJpeDJ4MiA9IEdldEFzTWF0cml4MngyO1xuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIGEgM3gzIG1hdHJpeCBmcm9tIGEgZ2l2ZW4gbWF0cml4IGFuZCBzdG9yZSB0aGUgcmVzdWx0IGluIGEgRmxvYXRBcnJheVxuICAgICAqIEBwYXJhbSBtYXRyaXggLSBkZWZpbmVzIHRoZSBtYXRyaXggdG8gdXNlXG4gICAgICogQHJldHVybnMgYSBuZXcgRmxvYXRBcnJheSBhcnJheSB3aXRoIDkgZWxlbWVudHMgOiB0aGUgM3gzIG1hdHJpeCBleHRyYWN0ZWQgZnJvbSB0aGUgZ2l2ZW4gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gR2V0QXNNYXRyaXgzeDMobWF0cml4KSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBtYXRyaXguX21bMF0sXG4gICAgICAgICAgICBtYXRyaXguX21bMV0sXG4gICAgICAgICAgICBtYXRyaXguX21bMl0sXG4gICAgICAgICAgICBtYXRyaXguX21bNF0sXG4gICAgICAgICAgICBtYXRyaXguX21bNV0sXG4gICAgICAgICAgICBtYXRyaXguX21bNl0sXG4gICAgICAgICAgICBtYXRyaXguX21bOF0sXG4gICAgICAgICAgICBtYXRyaXguX21bOV0sXG4gICAgICAgICAgICBtYXRyaXguX21bMTBdXG4gICAgICAgIF07XG4gICAgfVxuICAgIE1hdHJpeC5HZXRBc01hdHJpeDN4MyA9IEdldEFzTWF0cml4M3gzO1xuICAgIC8qKlxuICAgICAqIENvbXB1dGUgdGhlIHRyYW5zcG9zZSBvZiBhIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSBtYXRyaXggLSBkZWZpbmVzIHRoZSBtYXRyaXggdG8gdHJhbnNwb3NlXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc3Bvc2UobWF0cml4KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICB0cmFuc3Bvc2VUb1JlZihtYXRyaXgsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC50cmFuc3Bvc2UgPSB0cmFuc3Bvc2U7XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSB0aGUgdHJhbnNwb3NlIG9mIGEgbWF0cml4IGFuZCBzdG9yZSBpdCBpbiBhIHRhcmdldCBtYXRyaXhcbiAgICAgKiBAcGFyYW0gbWF0cml4IC0gZGVmaW5lcyB0aGUgbWF0cml4IHRvIHRyYW5zcG9zZVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNwb3NlVG9SZWYobWF0cml4LCByZXN1bHQpIHtcbiAgICAgICAgY29uc3Qgcm0gPSByZXN1bHQuX207XG4gICAgICAgIGNvbnN0IG1tID0gbWF0cml4Ll9tO1xuICAgICAgICBybVswXSA9IG1tWzBdO1xuICAgICAgICBybVsxXSA9IG1tWzRdO1xuICAgICAgICBybVsyXSA9IG1tWzhdO1xuICAgICAgICBybVszXSA9IG1tWzEyXTtcbiAgICAgICAgcm1bNF0gPSBtbVsxXTtcbiAgICAgICAgcm1bNV0gPSBtbVs1XTtcbiAgICAgICAgcm1bNl0gPSBtbVs5XTtcbiAgICAgICAgcm1bN10gPSBtbVsxM107XG4gICAgICAgIHJtWzhdID0gbW1bMl07XG4gICAgICAgIHJtWzldID0gbW1bNl07XG4gICAgICAgIHJtWzEwXSA9IG1tWzEwXTtcbiAgICAgICAgcm1bMTFdID0gbW1bMTRdO1xuICAgICAgICBybVsxMl0gPSBtbVszXTtcbiAgICAgICAgcm1bMTNdID0gbW1bN107XG4gICAgICAgIHJtWzE0XSA9IG1tWzExXTtcbiAgICAgICAgcm1bMTVdID0gbW1bMTVdO1xuICAgICAgICAvLyBpZGVudGl0eS1uZXNzIGRvZXMgbm90IGNoYW5nZSB3aGVuIHRyYW5zcG9zaW5nXG4gICAgICAgIF91cGRhdGVJZGVudGl0eVN0YXR1cyhyZXN1bHQsIG1hdHJpeC5pc0lkZW50aXR5LCBtYXRyaXguX2lzSWRlbnRpdHlEaXJ0eSk7XG4gICAgfVxuICAgIE1hdHJpeC50cmFuc3Bvc2VUb1JlZiA9IHRyYW5zcG9zZVRvUmVmO1xuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGEgcmVmbGVjdGlvbiBtYXRyaXggZnJvbSBhIHBsYW5lXG4gICAgICogQHBhcmFtIHBsYW5lIC0gZGVmaW5lcyB0aGUgcmVmbGVjdGlvbiBwbGFuZVxuICAgICAqIEByZXR1cm5zIGEgbmV3IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZmxlY3Rpb24ocGxhbmUpIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gY3JlYXRlKCk7XG4gICAgICAgIHJlZmxlY3Rpb25Ub1JlZihwbGFuZSwgbWF0cml4KTtcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9XG4gICAgTWF0cml4LnJlZmxlY3Rpb24gPSByZWZsZWN0aW9uO1xuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGEgcmVmbGVjdGlvbiBtYXRyaXggZnJvbSBhIHBsYW5lXG4gICAgICogQHBhcmFtIHBsYW5lIC0gZGVmaW5lcyB0aGUgcmVmbGVjdGlvbiBwbGFuZVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVmbGVjdGlvblRvUmVmKF9wbGFuZSwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHBsYW5lID0gUGxhbmUubm9ybWFsaXplKF9wbGFuZSk7XG4gICAgICAgIGNvbnN0IHggPSBwbGFuZS5ub3JtYWwueDtcbiAgICAgICAgY29uc3QgeSA9IHBsYW5lLm5vcm1hbC55O1xuICAgICAgICBjb25zdCB6ID0gcGxhbmUubm9ybWFsLno7XG4gICAgICAgIGNvbnN0IHRlbXAgPSAtMiAqIHg7XG4gICAgICAgIGNvbnN0IHRlbXAyID0gLTIgKiB5O1xuICAgICAgICBjb25zdCB0ZW1wMyA9IC0yICogejtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKHRlbXAgKiB4ICsgMSwgdGVtcDIgKiB4LCB0ZW1wMyAqIHgsIDAuMCwgdGVtcCAqIHksIHRlbXAyICogeSArIDEsIHRlbXAzICogeSwgMC4wLCB0ZW1wICogeiwgdGVtcDIgKiB6LCB0ZW1wMyAqIHogKyAxLCAwLjAsIHRlbXAgKiBwbGFuZS5kLCB0ZW1wMiAqIHBsYW5lLmQsIHRlbXAzICogcGxhbmUuZCwgMS4wLCByZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXgucmVmbGVjdGlvblRvUmVmID0gcmVmbGVjdGlvblRvUmVmO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIG1hdHJpeCBhcyBhIHJvdGF0aW9uIG1hdHJpeCBjb21wb3NlZCBmcm9tIHRoZSAzIGxlZnQgaGFuZGVkIGF4ZXNcbiAgICAgKiBAcGFyYW0geGF4aXMgLSBkZWZpbmVzIHRoZSB2YWx1ZSBvZiB0aGUgMXN0IGF4aXNcbiAgICAgKiBAcGFyYW0geWF4aXMgLSBkZWZpbmVzIHRoZSB2YWx1ZSBvZiB0aGUgMm5kIGF4aXNcbiAgICAgKiBAcGFyYW0gemF4aXMgLSBkZWZpbmVzIHRoZSB2YWx1ZSBvZiB0aGUgM3JkIGF4aXNcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21YWVpBeGVzVG9SZWYoeGF4aXMsIHlheGlzLCB6YXhpcywgcmVzdWx0KSB7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZih4YXhpcy54LCB4YXhpcy55LCB4YXhpcy56LCAwLjAsIHlheGlzLngsIHlheGlzLnksIHlheGlzLnosIDAuMCwgemF4aXMueCwgemF4aXMueSwgemF4aXMueiwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5mcm9tWFlaQXhlc1RvUmVmID0gZnJvbVhZWkF4ZXNUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcm90YXRpb24gbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIGFuZCBzdG9yZXMgaXQgaW4gYSB0YXJnZXQgbWF0cml4XG4gICAgICogQHBhcmFtIHF1YXQgLSBkZWZpbmVzIHRoZSBxdWF0ZXJuaW9uIHRvIHVzZVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVF1YXRlcm5pb25Ub1JlZihxdWF0LCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgeHggPSBxdWF0LnggKiBxdWF0Lng7XG4gICAgICAgIGNvbnN0IHl5ID0gcXVhdC55ICogcXVhdC55O1xuICAgICAgICBjb25zdCB6eiA9IHF1YXQueiAqIHF1YXQuejtcbiAgICAgICAgY29uc3QgeHkgPSBxdWF0LnggKiBxdWF0Lnk7XG4gICAgICAgIGNvbnN0IHp3ID0gcXVhdC56ICogcXVhdC53O1xuICAgICAgICBjb25zdCB6eCA9IHF1YXQueiAqIHF1YXQueDtcbiAgICAgICAgY29uc3QgeXcgPSBxdWF0LnkgKiBxdWF0Lnc7XG4gICAgICAgIGNvbnN0IHl6ID0gcXVhdC55ICogcXVhdC56O1xuICAgICAgICBjb25zdCB4dyA9IHF1YXQueCAqIHF1YXQudztcbiAgICAgICAgcmVzdWx0Ll9tWzBdID0gMS4wIC0gMi4wICogKHl5ICsgenopO1xuICAgICAgICByZXN1bHQuX21bMV0gPSAyLjAgKiAoeHkgKyB6dyk7XG4gICAgICAgIHJlc3VsdC5fbVsyXSA9IDIuMCAqICh6eCAtIHl3KTtcbiAgICAgICAgcmVzdWx0Ll9tWzNdID0gMC4wO1xuICAgICAgICByZXN1bHQuX21bNF0gPSAyLjAgKiAoeHkgLSB6dyk7XG4gICAgICAgIHJlc3VsdC5fbVs1XSA9IDEuMCAtIDIuMCAqICh6eiArIHh4KTtcbiAgICAgICAgcmVzdWx0Ll9tWzZdID0gMi4wICogKHl6ICsgeHcpO1xuICAgICAgICByZXN1bHQuX21bN10gPSAwLjA7XG4gICAgICAgIHJlc3VsdC5fbVs4XSA9IDIuMCAqICh6eCArIHl3KTtcbiAgICAgICAgcmVzdWx0Ll9tWzldID0gMi4wICogKHl6IC0geHcpO1xuICAgICAgICByZXN1bHQuX21bMTBdID0gMS4wIC0gMi4wICogKHl5ICsgeHgpO1xuICAgICAgICByZXN1bHQuX21bMTFdID0gMC4wO1xuICAgICAgICByZXN1bHQuX21bMTJdID0gMC4wO1xuICAgICAgICByZXN1bHQuX21bMTNdID0gMC4wO1xuICAgICAgICByZXN1bHQuX21bMTRdID0gMC4wO1xuICAgICAgICByZXN1bHQuX21bMTVdID0gMS4wO1xuICAgICAgICBfbWFya0FzVXBkYXRlZChyZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXguZnJvbVF1YXRlcm5pb25Ub1JlZiA9IGZyb21RdWF0ZXJuaW9uVG9SZWY7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGZ1bmN0aW9uIF9tYXJrQXNVcGRhdGVkKHNlbGYpIHtcbiAgICAgICAgc2VsZi51cGRhdGVGbGFnID0gX3VwZGF0ZUZsYWdTZWVkKys7XG4gICAgICAgIHNlbGYuaXNJZGVudGl0eSA9IGZhbHNlO1xuICAgICAgICBzZWxmLmlzSWRlbnRpdHkzeDIgPSBmYWxzZTtcbiAgICAgICAgc2VsZi5faXNJZGVudGl0eURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgc2VsZi5faXNJZGVudGl0eTN4MkRpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgLy8gUHJvcGVydGllc1xuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoZSBjdXJyZW50IG1hdHJpeCBpcyBpZGVudGl0eVxuICAgICAqIEByZXR1cm5zIHRydWUgaXMgdGhlIG1hdHJpeCBpcyB0aGUgaWRlbnRpdHkgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJZGVudGl0eVVwZGF0ZShzZWxmKSB7XG4gICAgICAgIGlmIChzZWxmLl9pc0lkZW50aXR5RGlydHkpIHtcbiAgICAgICAgICAgIHNlbGYuX2lzSWRlbnRpdHlEaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgbSA9IHNlbGYuX207XG4gICAgICAgICAgICBzZWxmLmlzSWRlbnRpdHkgPVxuICAgICAgICAgICAgICAgIG1bMF0gPT09IDEuMCAmJlxuICAgICAgICAgICAgICAgICAgICBtWzFdID09PSAwLjAgJiZcbiAgICAgICAgICAgICAgICAgICAgbVsyXSA9PT0gMC4wICYmXG4gICAgICAgICAgICAgICAgICAgIG1bM10gPT09IDAuMCAmJlxuICAgICAgICAgICAgICAgICAgICBtWzRdID09PSAwLjAgJiZcbiAgICAgICAgICAgICAgICAgICAgbVs1XSA9PT0gMS4wICYmXG4gICAgICAgICAgICAgICAgICAgIG1bNl0gPT09IDAuMCAmJlxuICAgICAgICAgICAgICAgICAgICBtWzddID09PSAwLjAgJiZcbiAgICAgICAgICAgICAgICAgICAgbVs4XSA9PT0gMC4wICYmXG4gICAgICAgICAgICAgICAgICAgIG1bOV0gPT09IDAuMCAmJlxuICAgICAgICAgICAgICAgICAgICBtWzEwXSA9PT0gMS4wICYmXG4gICAgICAgICAgICAgICAgICAgIG1bMTFdID09PSAwLjAgJiZcbiAgICAgICAgICAgICAgICAgICAgbVsxMl0gPT09IDAuMCAmJlxuICAgICAgICAgICAgICAgICAgICBtWzEzXSA9PT0gMC4wICYmXG4gICAgICAgICAgICAgICAgICAgIG1bMTRdID09PSAwLjAgJiZcbiAgICAgICAgICAgICAgICAgICAgbVsxNV0gPT09IDEuMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZi5pc0lkZW50aXR5O1xuICAgIH1cbiAgICBNYXRyaXguaXNJZGVudGl0eVVwZGF0ZSA9IGlzSWRlbnRpdHlVcGRhdGU7XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIGN1cnJlbnQgbWF0cml4IGlzIGlkZW50aXR5IGFzIGEgdGV4dHVyZSBtYXRyaXggKDN4MiBzdG9yZSBpbiA0eDQpXG4gICAgICogQHJldHVybnMgdHJ1ZSBpcyB0aGUgbWF0cml4IGlzIHRoZSBpZGVudGl0eSBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0lkZW50aXR5QXMzeDJVcGRhdGUoc2VsZikge1xuICAgICAgICBpZiAoc2VsZi5faXNJZGVudGl0eTN4MkRpcnR5KSB7XG4gICAgICAgICAgICBzZWxmLl9pc0lkZW50aXR5M3gyRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChzZWxmLl9tWzBdICE9PSAxLjAgfHwgc2VsZi5fbVs1XSAhPT0gMS4wIHx8IHNlbGYuX21bMTVdICE9PSAxLjApIHtcbiAgICAgICAgICAgICAgICBzZWxmLmlzSWRlbnRpdHkzeDIgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNlbGYuX21bMV0gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bMl0gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bM10gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bNF0gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bNl0gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bN10gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bOF0gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bOV0gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bMTBdICE9PSAwLjAgfHxcbiAgICAgICAgICAgICAgICBzZWxmLl9tWzExXSAhPT0gMC4wIHx8XG4gICAgICAgICAgICAgICAgc2VsZi5fbVsxMl0gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bMTNdICE9PSAwLjAgfHxcbiAgICAgICAgICAgICAgICBzZWxmLl9tWzE0XSAhPT0gMC4wKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5pc0lkZW50aXR5M3gyID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxmLmlzSWRlbnRpdHkzeDIgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmLmlzSWRlbnRpdHkzeDI7XG4gICAgfVxuICAgIE1hdHJpeC5pc0lkZW50aXR5QXMzeDJVcGRhdGUgPSBpc0lkZW50aXR5QXMzeDJVcGRhdGU7XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGV0ZXJtaW5hbnQgb2YgdGhlIG1hdHJpeFxuICAgICAqIEByZXR1cm5zIHRoZSBtYXRyaXggZGV0ZXJtaW5hbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZXRlcm1pbmFudChzZWxmKSB7XG4gICAgICAgIGlmIChzZWxmLmlzSWRlbnRpdHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG0gPSBzZWxmLl9tO1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6b25lLXZhcmlhYmxlLXBlci1kZWNsYXJhdGlvblxuICAgICAgICBjb25zdCBtMDAgPSBtWzBdLCBtMDEgPSBtWzFdLCBtMDIgPSBtWzJdLCBtMDMgPSBtWzNdO1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6b25lLXZhcmlhYmxlLXBlci1kZWNsYXJhdGlvblxuICAgICAgICBjb25zdCBtMTAgPSBtWzRdLCBtMTEgPSBtWzVdLCBtMTIgPSBtWzZdLCBtMTMgPSBtWzddO1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6b25lLXZhcmlhYmxlLXBlci1kZWNsYXJhdGlvblxuICAgICAgICBjb25zdCBtMjAgPSBtWzhdLCBtMjEgPSBtWzldLCBtMjIgPSBtWzEwXSwgbTIzID0gbVsxMV07XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4gICAgICAgIGNvbnN0IG0zMCA9IG1bMTJdLCBtMzEgPSBtWzEzXSwgbTMyID0gbVsxNF0sIG0zMyA9IG1bMTVdO1xuICAgICAgICAvKlxuICAgICAgICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MYXBsYWNlX2V4cGFuc2lvblxuICAgICAgICAvLyB0byBjb21wdXRlIHRoZSBkZXRlcnJtaW5hbnQgb2YgYSA0eDQgTWF0cml4IHdlIGNvbXB1dGUgdGhlIGNvZmFjdG9ycyBvZiBhbnkgcm93IG9yIGNvbHVtbixcbiAgICAgICAgLy8gdGhlbiB3ZSBtdWx0aXBseSBlYWNoIENvZmFjdG9yIGJ5IGl0cyBjb3JyZXNwb25kaW5nIG1hdHJpeCB2YWx1ZSBhbmQgc3VtIHRoZW0gYWxsIHRvIGdldCB0aGUgZGV0ZXJtaW5hbnRcbiAgICAgICAgLy8gQ29mYWN0b3IoaSwgaikgPSBzaWduKGksaikgKiBkZXQoTWlub3IoaSwgaikpXG4gICAgICAgIC8vIHdoZXJlXG4gICAgICAgIC8vICAtIHNpZ24oaSxqKSA9IChpK2opICUgMiA9PT0gMCA/IDEgOiAtMVxuICAgICAgICAvLyAgLSBNaW5vcihpLCBqKSBpcyB0aGUgM3gzIG1hdHJpeCB3ZSBnZXQgYnkgcmVtb3Zpbmcgcm93IGkgYW5kIGNvbHVtbiBqIGZyb20gY3VycmVudCBNYXRyaXhcbiAgICAgICAgLy9cbiAgICAgICAgLy8gSGVyZSB3ZSBkbyB0aGF0IGZvciB0aGUgMXN0IHJvdy5cbiAgICAgICAgKi9cbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6dmFyaWFibGUtbmFtZVxuICAgICAgICBjb25zdCBkZXRfMjJfMzMgPSBtMjIgKiBtMzMgLSBtMzIgKiBtMjM7XG4gICAgICAgIGNvbnN0IGRldF8yMV8zMyA9IG0yMSAqIG0zMyAtIG0zMSAqIG0yMztcbiAgICAgICAgY29uc3QgZGV0XzIxXzMyID0gbTIxICogbTMyIC0gbTMxICogbTIyO1xuICAgICAgICBjb25zdCBkZXRfMjBfMzMgPSBtMjAgKiBtMzMgLSBtMzAgKiBtMjM7XG4gICAgICAgIGNvbnN0IGRldF8yMF8zMiA9IG0yMCAqIG0zMiAtIG0yMiAqIG0zMDtcbiAgICAgICAgY29uc3QgZGV0XzIwXzMxID0gbTIwICogbTMxIC0gbTMwICogbTIxO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMDAgPSArKG0xMSAqIGRldF8yMl8zMyAtIG0xMiAqIGRldF8yMV8zMyArIG0xMyAqIGRldF8yMV8zMik7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8wMSA9IC0obTEwICogZGV0XzIyXzMzIC0gbTEyICogZGV0XzIwXzMzICsgbTEzICogZGV0XzIwXzMyKTtcbiAgICAgICAgY29uc3QgY29mYWN0XzAyID0gKyhtMTAgKiBkZXRfMjFfMzMgLSBtMTEgKiBkZXRfMjBfMzMgKyBtMTMgKiBkZXRfMjBfMzEpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMDMgPSAtKG0xMCAqIGRldF8yMV8zMiAtIG0xMSAqIGRldF8yMF8zMiArIG0xMiAqIGRldF8yMF8zMSk7XG4gICAgICAgIC8vIHRzbGludDplbmFibGU6dmFyaWFibGUtbmFtZVxuICAgICAgICByZXR1cm4gbTAwICogY29mYWN0XzAwICsgbTAxICogY29mYWN0XzAxICsgbTAyICogY29mYWN0XzAyICsgbTAzICogY29mYWN0XzAzO1xuICAgIH1cbiAgICBNYXRyaXguZGV0ZXJtaW5hbnQgPSBkZXRlcm1pbmFudDtcbiAgICAvLyBNZXRob2RzXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWF0cml4IGFzIGEgRmxvYXRBcnJheVxuICAgICAqIEByZXR1cm5zIHRoZSBtYXRyaXggdW5kZXJseWluZyBhcnJheVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvQXJyYXkoc2VsZikge1xuICAgICAgICByZXR1cm4gc2VsZi5fbTtcbiAgICB9XG4gICAgTWF0cml4LnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hdHJpeCBhcyBhIEZsb2F0QXJyYXlcbiAgICAgKiBAcmV0dXJucyB0aGUgbWF0cml4IHVuZGVybHlpbmcgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNBcnJheShzZWxmKSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9tO1xuICAgIH1cbiAgICBNYXRyaXguYXNBcnJheSA9IGFzQXJyYXk7XG4gICAgLyoqXG4gICAgICogU2V0cyBhbGwgdGhlIG1hdHJpeCBlbGVtZW50cyB0byB6ZXJvXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzZXQoc2VsZikge1xuICAgICAgICBmcm9tVmFsdWVzVG9SZWYoMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCBzZWxmKTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHNlbGYsIGZhbHNlKTtcbiAgICB9XG4gICAgTWF0cml4LnJlc2V0ID0gcmVzZXQ7XG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBhIHNlY29uZCBvbmVcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBtYXRyaXggdG8gYWRkXG4gICAgICogQHJldHVybnMgYSBuZXcgbWF0cml4IGFzIHRoZSBhZGRpdGlvbiBvZiB0aGUgY3VycmVudCBtYXRyaXggYW5kIHRoZSBnaXZlbiBvbmVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGQoc2VsZiwgb3RoZXIpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIGFkZFRvUmVmKHNlbGYsIG90aGVyLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXguYWRkID0gYWRkO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIG1hdHJpeCBcInJlc3VsdFwiIHRvIHRoZSBhZGRpdGlvbiBvZiB0aGUgY3VycmVudCBtYXRyaXggYW5kIHRoZSBnaXZlbiBvbmVcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBtYXRyaXggdG8gYWRkXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGRUb1JlZihzZWxmLCBvdGhlciwgcmVzdWx0KSB7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCAxNjsgaW5kZXgrKykge1xuICAgICAgICAgICAgcmVzdWx0Ll9tW2luZGV4XSA9IHNlbGYuX21baW5kZXhdICsgb3RoZXIuX21baW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIF9tYXJrQXNVcGRhdGVkKHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5hZGRUb1JlZiA9IGFkZFRvUmVmO1xuICAgIC8qKlxuICAgICAqIEFkZHMgaW4gcGxhY2UgdGhlIGdpdmVuIG1hdHJpeCB0byB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkVG9TZWxmKHNlbGYsIG90aGVyKSB7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCAxNjsgaW5kZXgrKykge1xuICAgICAgICAgICAgc2VsZi5fbVtpbmRleF0gKz0gb3RoZXIuX21baW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIF9tYXJrQXNVcGRhdGVkKHNlbGYpO1xuICAgIH1cbiAgICBNYXRyaXguYWRkVG9TZWxmID0gYWRkVG9TZWxmO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgbWF0cml4IGFzIHRoZSBpbnZlcnQgb2YgYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gc291cmNlIC0gZGVmaW5lcyB0aGUgc291cmNlIG1hdHJpeFxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gaW52ZXJ0KHNvdXJjZSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgaW52ZXJ0VG9SZWYoc291cmNlLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXguaW52ZXJ0ID0gaW52ZXJ0O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIG1hdHJpeCB0byB0aGUgY3VycmVudCBpbnZlcnRlZCBNYXRyaXhcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICogQHJldHVybnMgdGhlIHVubW9kaWZpZWQgY3VycmVudCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnZlcnRUb1JlZihzb3VyY2UsIHJlc3VsdCkge1xuICAgICAgICBpZiAoc291cmNlLmlzSWRlbnRpdHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvcHkoc291cmNlLCByZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoZSBpbnZlcnNlIG9mIGEgTWF0cml4IGlzIHRoZSB0cmFuc3Bvc2Ugb2YgY29mYWN0b3IgbWF0cml4IGRpdmlkZWQgYnkgdGhlIGRldGVybWluYW50XG4gICAgICAgIGNvbnN0IG0gPSBzb3VyY2UuX207XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9uZS12YXJpYWJsZS1wZXItZGVjbGFyYXRpb25cbiAgICAgICAgY29uc3QgbTAwID0gbVswXSwgbTAxID0gbVsxXSwgbTAyID0gbVsyXSwgbTAzID0gbVszXTtcbiAgICAgICAgY29uc3QgbTEwID0gbVs0XSwgbTExID0gbVs1XSwgbTEyID0gbVs2XSwgbTEzID0gbVs3XTtcbiAgICAgICAgY29uc3QgbTIwID0gbVs4XSwgbTIxID0gbVs5XSwgbTIyID0gbVsxMF0sIG0yMyA9IG1bMTFdO1xuICAgICAgICBjb25zdCBtMzAgPSBtWzEyXSwgbTMxID0gbVsxM10sIG0zMiA9IG1bMTRdLCBtMzMgPSBtWzE1XTtcbiAgICAgICAgLy8gdHNsaW50OmVuYWJsZTpvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlOnZhcmlhYmxlLW5hbWVcbiAgICAgICAgY29uc3QgZGV0XzIyXzMzID0gbTIyICogbTMzIC0gbTMyICogbTIzO1xuICAgICAgICBjb25zdCBkZXRfMjFfMzMgPSBtMjEgKiBtMzMgLSBtMzEgKiBtMjM7XG4gICAgICAgIGNvbnN0IGRldF8yMV8zMiA9IG0yMSAqIG0zMiAtIG0zMSAqIG0yMjtcbiAgICAgICAgY29uc3QgZGV0XzIwXzMzID0gbTIwICogbTMzIC0gbTMwICogbTIzO1xuICAgICAgICBjb25zdCBkZXRfMjBfMzIgPSBtMjAgKiBtMzIgLSBtMjIgKiBtMzA7XG4gICAgICAgIGNvbnN0IGRldF8yMF8zMSA9IG0yMCAqIG0zMSAtIG0zMCAqIG0yMTtcbiAgICAgICAgY29uc3QgY29mYWN0XzAwID0gKyhtMTEgKiBkZXRfMjJfMzMgLSBtMTIgKiBkZXRfMjFfMzMgKyBtMTMgKiBkZXRfMjFfMzIpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMDEgPSAtKG0xMCAqIGRldF8yMl8zMyAtIG0xMiAqIGRldF8yMF8zMyArIG0xMyAqIGRldF8yMF8zMik7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8wMiA9ICsobTEwICogZGV0XzIxXzMzIC0gbTExICogZGV0XzIwXzMzICsgbTEzICogZGV0XzIwXzMxKTtcbiAgICAgICAgY29uc3QgY29mYWN0XzAzID0gLShtMTAgKiBkZXRfMjFfMzIgLSBtMTEgKiBkZXRfMjBfMzIgKyBtMTIgKiBkZXRfMjBfMzEpO1xuICAgICAgICBjb25zdCBkZXQgPSBtMDAgKiBjb2ZhY3RfMDAgKyBtMDEgKiBjb2ZhY3RfMDEgKyBtMDIgKiBjb2ZhY3RfMDIgKyBtMDMgKiBjb2ZhY3RfMDM7XG4gICAgICAgIGlmIChkZXQgPT09IDApIHtcbiAgICAgICAgICAgIGNvcHkoc291cmNlLCByZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRldEludiA9IDEgLyBkZXQ7XG4gICAgICAgIGNvbnN0IGRldF8xMl8zMyA9IG0xMiAqIG0zMyAtIG0zMiAqIG0xMztcbiAgICAgICAgY29uc3QgZGV0XzExXzMzID0gbTExICogbTMzIC0gbTMxICogbTEzO1xuICAgICAgICBjb25zdCBkZXRfMTFfMzIgPSBtMTEgKiBtMzIgLSBtMzEgKiBtMTI7XG4gICAgICAgIGNvbnN0IGRldF8xMF8zMyA9IG0xMCAqIG0zMyAtIG0zMCAqIG0xMztcbiAgICAgICAgY29uc3QgZGV0XzEwXzMyID0gbTEwICogbTMyIC0gbTMwICogbTEyO1xuICAgICAgICBjb25zdCBkZXRfMTBfMzEgPSBtMTAgKiBtMzEgLSBtMzAgKiBtMTE7XG4gICAgICAgIGNvbnN0IGRldF8xMl8yMyA9IG0xMiAqIG0yMyAtIG0yMiAqIG0xMztcbiAgICAgICAgY29uc3QgZGV0XzExXzIzID0gbTExICogbTIzIC0gbTIxICogbTEzO1xuICAgICAgICBjb25zdCBkZXRfMTFfMjIgPSBtMTEgKiBtMjIgLSBtMjEgKiBtMTI7XG4gICAgICAgIGNvbnN0IGRldF8xMF8yMyA9IG0xMCAqIG0yMyAtIG0yMCAqIG0xMztcbiAgICAgICAgY29uc3QgZGV0XzEwXzIyID0gbTEwICogbTIyIC0gbTIwICogbTEyO1xuICAgICAgICBjb25zdCBkZXRfMTBfMjEgPSBtMTAgKiBtMjEgLSBtMjAgKiBtMTE7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8xMCA9IC0obTAxICogZGV0XzIyXzMzIC0gbTAyICogZGV0XzIxXzMzICsgbTAzICogZGV0XzIxXzMyKTtcbiAgICAgICAgY29uc3QgY29mYWN0XzExID0gKyhtMDAgKiBkZXRfMjJfMzMgLSBtMDIgKiBkZXRfMjBfMzMgKyBtMDMgKiBkZXRfMjBfMzIpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMTIgPSAtKG0wMCAqIGRldF8yMV8zMyAtIG0wMSAqIGRldF8yMF8zMyArIG0wMyAqIGRldF8yMF8zMSk7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8xMyA9ICsobTAwICogZGV0XzIxXzMyIC0gbTAxICogZGV0XzIwXzMyICsgbTAyICogZGV0XzIwXzMxKTtcbiAgICAgICAgY29uc3QgY29mYWN0XzIwID0gKyhtMDEgKiBkZXRfMTJfMzMgLSBtMDIgKiBkZXRfMTFfMzMgKyBtMDMgKiBkZXRfMTFfMzIpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMjEgPSAtKG0wMCAqIGRldF8xMl8zMyAtIG0wMiAqIGRldF8xMF8zMyArIG0wMyAqIGRldF8xMF8zMik7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8yMiA9ICsobTAwICogZGV0XzExXzMzIC0gbTAxICogZGV0XzEwXzMzICsgbTAzICogZGV0XzEwXzMxKTtcbiAgICAgICAgY29uc3QgY29mYWN0XzIzID0gLShtMDAgKiBkZXRfMTFfMzIgLSBtMDEgKiBkZXRfMTBfMzIgKyBtMDIgKiBkZXRfMTBfMzEpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMzAgPSAtKG0wMSAqIGRldF8xMl8yMyAtIG0wMiAqIGRldF8xMV8yMyArIG0wMyAqIGRldF8xMV8yMik7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8zMSA9ICsobTAwICogZGV0XzEyXzIzIC0gbTAyICogZGV0XzEwXzIzICsgbTAzICogZGV0XzEwXzIyKTtcbiAgICAgICAgY29uc3QgY29mYWN0XzMyID0gLShtMDAgKiBkZXRfMTFfMjMgLSBtMDEgKiBkZXRfMTBfMjMgKyBtMDMgKiBkZXRfMTBfMjEpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMzMgPSArKG0wMCAqIGRldF8xMV8yMiAtIG0wMSAqIGRldF8xMF8yMiArIG0wMiAqIGRldF8xMF8yMSk7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihjb2ZhY3RfMDAgKiBkZXRJbnYsIGNvZmFjdF8xMCAqIGRldEludiwgY29mYWN0XzIwICogZGV0SW52LCBjb2ZhY3RfMzAgKiBkZXRJbnYsIGNvZmFjdF8wMSAqIGRldEludiwgY29mYWN0XzExICogZGV0SW52LCBjb2ZhY3RfMjEgKiBkZXRJbnYsIGNvZmFjdF8zMSAqIGRldEludiwgY29mYWN0XzAyICogZGV0SW52LCBjb2ZhY3RfMTIgKiBkZXRJbnYsIGNvZmFjdF8yMiAqIGRldEludiwgY29mYWN0XzMyICogZGV0SW52LCBjb2ZhY3RfMDMgKiBkZXRJbnYsIGNvZmFjdF8xMyAqIGRldEludiwgY29mYWN0XzIzICogZGV0SW52LCBjb2ZhY3RfMzMgKiBkZXRJbnYsIHJlc3VsdCk7XG4gICAgICAgIC8vIHRzbGludDplbmFibGU6dmFyaWFibGUtbmFtZVxuICAgIH1cbiAgICBNYXRyaXguaW52ZXJ0VG9SZWYgPSBpbnZlcnRUb1JlZjtcbiAgICAvKipcbiAgICAgKiBhZGQgYSB2YWx1ZSBhdCB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uIGluIHRoZSBjdXJyZW50IE1hdHJpeFxuICAgICAqIEBwYXJhbSBpbmRleCAtIHRoZSBpbmRleCBvZiB0aGUgdmFsdWUgd2l0aGluIHRoZSBtYXRyaXguIGJldHdlZW4gMCBhbmQgMTUuXG4gICAgICogQHBhcmFtIHZhbHVlIC0gdGhlIHZhbHVlIHRvIGJlIGFkZGVkXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGRBdEluZGV4KHNlbGYsIGluZGV4LCB2YWx1ZSkge1xuICAgICAgICBzZWxmLl9tW2luZGV4XSArPSB2YWx1ZTtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQoc2VsZik7XG4gICAgfVxuICAgIE1hdHJpeC5hZGRBdEluZGV4ID0gYWRkQXRJbmRleDtcbiAgICAvKipcbiAgICAgKiBtdXRpcGx5IHRoZSBzcGVjaWZpZWQgcG9zaXRpb24gaW4gdGhlIGN1cnJlbnQgTWF0cml4IGJ5IGEgdmFsdWVcbiAgICAgKiBAcGFyYW0gaW5kZXggLSB0aGUgaW5kZXggb2YgdGhlIHZhbHVlIHdpdGhpbiB0aGUgbWF0cml4LiBiZXR3ZWVuIDAgYW5kIDE1LlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIHRoZSB2YWx1ZSB0byBiZSBhZGRlZFxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHlBdEluZGV4KHNlbGYsIGluZGV4LCB2YWx1ZSkge1xuICAgICAgICBzZWxmLl9tW2luZGV4XSAqPSB2YWx1ZTtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQoc2VsZik7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cbiAgICBNYXRyaXgubXVsdGlwbHlBdEluZGV4ID0gbXVsdGlwbHlBdEluZGV4O1xuICAgIC8qKlxuICAgICAqIEluc2VydHMgdGhlIHRyYW5zbGF0aW9uIHZlY3RvciAodXNpbmcgMyBmbG9hdHMpIGluIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgMXN0IGNvbXBvbmVudCBvZiB0aGUgdHJhbnNsYXRpb25cbiAgICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIDJuZCBjb21wb25lbnQgb2YgdGhlIHRyYW5zbGF0aW9uXG4gICAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSAzcmQgY29tcG9uZW50IG9mIHRoZSB0cmFuc2xhdGlvblxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKHNlbGYsIHgsIHksIHopIHtcbiAgICAgICAgc2VsZi5fbVsxMl0gPSB4O1xuICAgICAgICBzZWxmLl9tWzEzXSA9IHk7XG4gICAgICAgIHNlbGYuX21bMTRdID0gejtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQoc2VsZik7XG4gICAgfVxuICAgIE1hdHJpeC5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMgPSBzZXRUcmFuc2xhdGlvbkZyb21GbG9hdHM7XG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yIGluIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqIEBwYXJhbSB2ZWN0b3IzIC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb24gdG8gaW5zZXJ0XG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRUcmFuc2xhdGlvbihzZWxmLCB2ZWN0b3IzKSB7XG4gICAgICAgIHNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cyhzZWxmLCB2ZWN0b3IzLngsIHZlY3RvcjMueSwgdmVjdG9yMy56KTtcbiAgICB9XG4gICAgTWF0cml4LnNldFRyYW5zbGF0aW9uID0gc2V0VHJhbnNsYXRpb247XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdHJhbnNsYXRpb24gdmFsdWUgb2YgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yMyBhcyB0aGUgZXh0cmFjdGVkIHRyYW5zbGF0aW9uIGZyb20gdGhlIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uKHNlbGYpIHtcbiAgICAgICAgcmV0dXJuIFZlY3RvcjMuY3JlYXRlKHNlbGYuX21bMTJdLCBzZWxmLl9tWzEzXSwgc2VsZi5fbVsxNF0pO1xuICAgIH1cbiAgICBNYXRyaXguZ2V0VHJhbnNsYXRpb24gPSBnZXRUcmFuc2xhdGlvbjtcbiAgICAvKipcbiAgICAgKiBGaWxsIGEgVmVjdG9yMyB3aXRoIHRoZSBleHRyYWN0ZWQgdHJhbnNsYXRpb24gZnJvbSB0aGUgbWF0cml4XG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgd2hlcmUgdG8gc3RvcmUgdGhlIHRyYW5zbGF0aW9uXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0VHJhbnNsYXRpb25Ub1JlZihzZWxmLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnggPSBzZWxmLl9tWzEyXTtcbiAgICAgICAgcmVzdWx0LnkgPSBzZWxmLl9tWzEzXTtcbiAgICAgICAgcmVzdWx0LnogPSBzZWxmLl9tWzE0XTtcbiAgICB9XG4gICAgTWF0cml4LmdldFRyYW5zbGF0aW9uVG9SZWYgPSBnZXRUcmFuc2xhdGlvblRvUmVmO1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSByb3RhdGlvbiBhbmQgc2NhbGluZyBwYXJ0IGZyb20gdGhlIG1hdHJpeFxuICAgICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlbW92ZVJvdGF0aW9uQW5kU2NhbGluZyhzZWxmKSB7XG4gICAgICAgIGNvbnN0IG0gPSBzZWxmLl9tO1xuICAgICAgICBmcm9tVmFsdWVzVG9SZWYoMS4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIDAuMCwgbVsxMl0sIG1bMTNdLCBtWzE0XSwgbVsxNV0sIHNlbGYpO1xuICAgICAgICBfdXBkYXRlSWRlbnRpdHlTdGF0dXMoc2VsZiwgbVsxMl0gPT09IDAgJiYgbVsxM10gPT09IDAgJiYgbVsxNF0gPT09IDAgJiYgbVsxNV0gPT09IDEpO1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG4gICAgTWF0cml4LnJlbW92ZVJvdGF0aW9uQW5kU2NhbGluZyA9IHJlbW92ZVJvdGF0aW9uQW5kU2NhbGluZztcbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0d28gbWF0cmljZXNcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIGEgbmV3IG1hdHJpeCBzZXQgd2l0aCB0aGUgbXVsdGlwbGljYXRpb24gcmVzdWx0IG9mIHRoZSBjdXJyZW50IE1hdHJpeCBhbmQgdGhlIGdpdmVuIG9uZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5KHNlbGYsIG90aGVyKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICBtdWx0aXBseVRvUmVmKHNlbGYsIG90aGVyLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXgubXVsdGlwbHkgPSBtdWx0aXBseTtcbiAgICAvKipcbiAgICAgKiBDb3B5IHRoZSBjdXJyZW50IG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBvbmVcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBzb3VyY2UgbWF0cml4XG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5KGZyb20sIGRlc3QpIHtcbiAgICAgICAgY29weVRvQXJyYXkoZnJvbSwgZGVzdC5fbSk7XG4gICAgICAgIF91cGRhdGVJZGVudGl0eVN0YXR1cyhkZXN0LCBmcm9tLmlzSWRlbnRpdHksIGZyb20uX2lzSWRlbnRpdHlEaXJ0eSwgZnJvbS5pc0lkZW50aXR5M3gyLCBmcm9tLl9pc0lkZW50aXR5M3gyRGlydHkpO1xuICAgIH1cbiAgICBNYXRyaXguY29weSA9IGNvcHk7XG4gICAgLyoqXG4gICAgICogUG9wdWxhdGVzIHRoZSBnaXZlbiBhcnJheSBmcm9tIHRoZSBzdGFydGluZyBpbmRleCB3aXRoIHRoZSBjdXJyZW50IG1hdHJpeCB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gYXJyYXkgLSBkZWZpbmVzIHRoZSB0YXJnZXQgYXJyYXlcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IC0gZGVmaW5lcyB0aGUgb2Zmc2V0IGluIHRoZSB0YXJnZXQgYXJyYXkgd2hlcmUgdG8gc3RhcnQgc3RvcmluZyB2YWx1ZXNcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5VG9BcnJheShzZWxmLCBhcnJheURlc3QsIG9mZnNldERlc3QgPSAwKSB7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCAxNjsgaW5kZXgrKykge1xuICAgICAgICAgICAgYXJyYXlEZXN0W29mZnNldERlc3QgKyBpbmRleF0gPSBzZWxmLl9tW2luZGV4XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBNYXRyaXguY29weVRvQXJyYXkgPSBjb3B5VG9BcnJheTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiBtYXRyaXggXCJyZXN1bHRcIiB3aXRoIHRoZSBtdWx0aXBsaWNhdGlvbiByZXN1bHQgb2YgdGhlIGN1cnJlbnQgTWF0cml4IGFuZCB0aGUgZ2l2ZW4gb25lXG4gICAgICogQHBhcmFtIG90aGVyIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgbWF0cml4IHdoZXJlIHRvIHN0b3JlIHRoZSBtdWx0aXBsaWNhdGlvblxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5VG9SZWYoc2VsZiwgb3RoZXIsIHJlc3VsdCkge1xuICAgICAgICBpZiAoc2VsZi5pc0lkZW50aXR5KSB7XG4gICAgICAgICAgICBjb3B5KG90aGVyLCByZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlci5pc0lkZW50aXR5KSB7XG4gICAgICAgICAgICBjb3B5KHNlbGYsIHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbXVsdGlwbHlUb0FycmF5KHNlbGYsIG90aGVyLCByZXN1bHQuX20sIDApO1xuICAgICAgICBfbWFya0FzVXBkYXRlZChyZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXgubXVsdGlwbHlUb1JlZiA9IG11bHRpcGx5VG9SZWY7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgRmxvYXRBcnJheSBcInJlc3VsdFwiIGZyb20gdGhlIGdpdmVuIGluZGV4IFwib2Zmc2V0XCIgd2l0aCB0aGUgbXVsdGlwbGljYXRpb24gb2YgdGhlIGN1cnJlbnQgbWF0cml4IGFuZCB0aGUgZ2l2ZW4gb25lXG4gICAgICogQHBhcmFtIG90aGVyIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgYXJyYXkgd2hlcmUgdG8gc3RvcmUgdGhlIG11bHRpcGxpY2F0aW9uXG4gICAgICogQHBhcmFtIG9mZnNldCAtIGRlZmluZXMgdGhlIG9mZnNldCBpbiB0aGUgdGFyZ2V0IGFycmF5IHdoZXJlIHRvIHN0YXJ0IHN0b3JpbmcgdmFsdWVzXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHlUb0FycmF5KHNlbGYsIG90aGVyLCByZXN1bHQsIG9mZnNldCkge1xuICAgICAgICBjb25zdCBtID0gc2VsZi5fbTtcbiAgICAgICAgY29uc3Qgb3RoZXJNID0gb3RoZXIuX207XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9uZS12YXJpYWJsZS1wZXItZGVjbGFyYXRpb25cbiAgICAgICAgY29uc3QgdG0wID0gbVswXSwgdG0xID0gbVsxXSwgdG0yID0gbVsyXSwgdG0zID0gbVszXTtcbiAgICAgICAgY29uc3QgdG00ID0gbVs0XSwgdG01ID0gbVs1XSwgdG02ID0gbVs2XSwgdG03ID0gbVs3XTtcbiAgICAgICAgY29uc3QgdG04ID0gbVs4XSwgdG05ID0gbVs5XSwgdG0xMCA9IG1bMTBdLCB0bTExID0gbVsxMV07XG4gICAgICAgIGNvbnN0IHRtMTIgPSBtWzEyXSwgdG0xMyA9IG1bMTNdLCB0bTE0ID0gbVsxNF0sIHRtMTUgPSBtWzE1XTtcbiAgICAgICAgY29uc3Qgb20wID0gb3RoZXJNWzBdLCBvbTEgPSBvdGhlck1bMV0sIG9tMiA9IG90aGVyTVsyXSwgb20zID0gb3RoZXJNWzNdO1xuICAgICAgICBjb25zdCBvbTQgPSBvdGhlck1bNF0sIG9tNSA9IG90aGVyTVs1XSwgb202ID0gb3RoZXJNWzZdLCBvbTcgPSBvdGhlck1bN107XG4gICAgICAgIGNvbnN0IG9tOCA9IG90aGVyTVs4XSwgb205ID0gb3RoZXJNWzldLCBvbTEwID0gb3RoZXJNWzEwXSwgb20xMSA9IG90aGVyTVsxMV07XG4gICAgICAgIGNvbnN0IG9tMTIgPSBvdGhlck1bMTJdLCBvbTEzID0gb3RoZXJNWzEzXSwgb20xNCA9IG90aGVyTVsxNF0sIG9tMTUgPSBvdGhlck1bMTVdO1xuICAgICAgICAvLyB0c2xpbnQ6ZW5hYmxlOm9uZS12YXJpYWJsZS1wZXItZGVjbGFyYXRpb25cbiAgICAgICAgcmVzdWx0W29mZnNldF0gPSB0bTAgKiBvbTAgKyB0bTEgKiBvbTQgKyB0bTIgKiBvbTggKyB0bTMgKiBvbTEyO1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgMV0gPSB0bTAgKiBvbTEgKyB0bTEgKiBvbTUgKyB0bTIgKiBvbTkgKyB0bTMgKiBvbTEzO1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgMl0gPSB0bTAgKiBvbTIgKyB0bTEgKiBvbTYgKyB0bTIgKiBvbTEwICsgdG0zICogb20xNDtcbiAgICAgICAgcmVzdWx0W29mZnNldCArIDNdID0gdG0wICogb20zICsgdG0xICogb203ICsgdG0yICogb20xMSArIHRtMyAqIG9tMTU7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyA0XSA9IHRtNCAqIG9tMCArIHRtNSAqIG9tNCArIHRtNiAqIG9tOCArIHRtNyAqIG9tMTI7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyA1XSA9IHRtNCAqIG9tMSArIHRtNSAqIG9tNSArIHRtNiAqIG9tOSArIHRtNyAqIG9tMTM7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyA2XSA9IHRtNCAqIG9tMiArIHRtNSAqIG9tNiArIHRtNiAqIG9tMTAgKyB0bTcgKiBvbTE0O1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgN10gPSB0bTQgKiBvbTMgKyB0bTUgKiBvbTcgKyB0bTYgKiBvbTExICsgdG03ICogb20xNTtcbiAgICAgICAgcmVzdWx0W29mZnNldCArIDhdID0gdG04ICogb20wICsgdG05ICogb200ICsgdG0xMCAqIG9tOCArIHRtMTEgKiBvbTEyO1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgOV0gPSB0bTggKiBvbTEgKyB0bTkgKiBvbTUgKyB0bTEwICogb205ICsgdG0xMSAqIG9tMTM7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyAxMF0gPSB0bTggKiBvbTIgKyB0bTkgKiBvbTYgKyB0bTEwICogb20xMCArIHRtMTEgKiBvbTE0O1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgMTFdID0gdG04ICogb20zICsgdG05ICogb203ICsgdG0xMCAqIG9tMTEgKyB0bTExICogb20xNTtcbiAgICAgICAgcmVzdWx0W29mZnNldCArIDEyXSA9IHRtMTIgKiBvbTAgKyB0bTEzICogb200ICsgdG0xNCAqIG9tOCArIHRtMTUgKiBvbTEyO1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgMTNdID0gdG0xMiAqIG9tMSArIHRtMTMgKiBvbTUgKyB0bTE0ICogb205ICsgdG0xNSAqIG9tMTM7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyAxNF0gPSB0bTEyICogb20yICsgdG0xMyAqIG9tNiArIHRtMTQgKiBvbTEwICsgdG0xNSAqIG9tMTQ7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyAxNV0gPSB0bTEyICogb20zICsgdG0xMyAqIG9tNyArIHRtMTQgKiBvbTExICsgdG0xNSAqIG9tMTU7XG4gICAgfVxuICAgIE1hdHJpeC5tdWx0aXBseVRvQXJyYXkgPSBtdWx0aXBseVRvQXJyYXk7XG4gICAgLyoqXG4gICAgICogQ2hlY2sgZXF1YWxpdHkgYmV0d2VlbiBzZWxmIG1hdHJpeCBhbmQgYSBzZWNvbmQgb25lXG4gICAgICogQHBhcmFtIHZhbHVlIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG1hdHJpeCB0byBjb21wYXJlXG4gICAgICogQHJldHVybnMgdHJ1ZSBpcyB0aGUgY3VycmVudCBtYXRyaXggYW5kIHRoZSBnaXZlbiBvbmUgdmFsdWVzIGFyZSBzdHJpY3RseSBlcXVhbFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFscyhzZWxmLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBvdGhlciA9IHZhbHVlO1xuICAgICAgICBpZiAoIW90aGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGYuaXNJZGVudGl0eSB8fCBvdGhlci5pc0lkZW50aXR5KSB7XG4gICAgICAgICAgICBpZiAoIXNlbGYuX2lzSWRlbnRpdHlEaXJ0eSAmJiAhb3RoZXIuX2lzSWRlbnRpdHlEaXJ0eSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmlzSWRlbnRpdHkgJiYgb3RoZXIuaXNJZGVudGl0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtID0gc2VsZi5fbTtcbiAgICAgICAgY29uc3Qgb20gPSBvdGhlci5fbTtcbiAgICAgICAgcmV0dXJuIChtWzBdID09PSBvbVswXSAmJlxuICAgICAgICAgICAgbVsxXSA9PT0gb21bMV0gJiZcbiAgICAgICAgICAgIG1bMl0gPT09IG9tWzJdICYmXG4gICAgICAgICAgICBtWzNdID09PSBvbVszXSAmJlxuICAgICAgICAgICAgbVs0XSA9PT0gb21bNF0gJiZcbiAgICAgICAgICAgIG1bNV0gPT09IG9tWzVdICYmXG4gICAgICAgICAgICBtWzZdID09PSBvbVs2XSAmJlxuICAgICAgICAgICAgbVs3XSA9PT0gb21bN10gJiZcbiAgICAgICAgICAgIG1bOF0gPT09IG9tWzhdICYmXG4gICAgICAgICAgICBtWzldID09PSBvbVs5XSAmJlxuICAgICAgICAgICAgbVsxMF0gPT09IG9tWzEwXSAmJlxuICAgICAgICAgICAgbVsxMV0gPT09IG9tWzExXSAmJlxuICAgICAgICAgICAgbVsxMl0gPT09IG9tWzEyXSAmJlxuICAgICAgICAgICAgbVsxM10gPT09IG9tWzEzXSAmJlxuICAgICAgICAgICAgbVsxNF0gPT09IG9tWzE0XSAmJlxuICAgICAgICAgICAgbVsxNV0gPT09IG9tWzE1XSk7XG4gICAgfVxuICAgIE1hdHJpeC5lcXVhbHMgPSBlcXVhbHM7XG4gICAgLyoqXG4gICAgICogQ2xvbmUgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICogQHJldHVybnMgYSBuZXcgbWF0cml4IGZyb20gdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmUoc2VsZikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgY29weShzZWxmLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXguY2xvbmUgPSBjbG9uZTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBoYXNoIGNvZGUgb2YgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICogQHJldHVybnMgdGhlIGhhc2ggY29kZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEhhc2hDb2RlKHNlbGYpIHtcbiAgICAgICAgbGV0IGhhc2ggPSBzZWxmLl9tWzBdIHx8IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgMTY7IGkrKykge1xuICAgICAgICAgICAgaGFzaCA9IChoYXNoICogMzk3KSBeIChzZWxmLl9tW2ldIHx8IDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYXNoO1xuICAgIH1cbiAgICBNYXRyaXguZ2V0SGFzaENvZGUgPSBnZXRIYXNoQ29kZTtcbiAgICAvKipcbiAgICAgKiBEZWNvbXBvc2VzIHRoZSBjdXJyZW50IE1hdHJpeCBpbnRvIGEgdHJhbnNsYXRpb24sIHJvdGF0aW9uIGFuZCBzY2FsaW5nIGNvbXBvbmVudHNcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsZSB2ZWN0b3IzIGdpdmVuIGFzIGEgcmVmZXJlbmNlIHRvIHVwZGF0ZVxuICAgICAqIEBwYXJhbSByb3RhdGlvbiAtIGRlZmluZXMgdGhlIHJvdGF0aW9uIHF1YXRlcm5pb24gZ2l2ZW4gYXMgYSByZWZlcmVuY2UgdG8gdXBkYXRlXG4gICAgICogQHBhcmFtIHRyYW5zbGF0aW9uIC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yMyBnaXZlbiBhcyBhIHJlZmVyZW5jZSB0byB1cGRhdGVcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlY29tcG9zZShzZWxmLCBzY2FsZSwgcm90YXRpb24sIHRyYW5zbGF0aW9uKSB7XG4gICAgICAgIGlmIChzZWxmLmlzSWRlbnRpdHkpIHtcbiAgICAgICAgICAgIGlmICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLnggPSAwO1xuICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLnkgPSAwO1xuICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLnogPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNjYWxlKSB7XG4gICAgICAgICAgICAgICAgc2NhbGUueCA9IDE7XG4gICAgICAgICAgICAgICAgc2NhbGUueSA9IDE7XG4gICAgICAgICAgICAgICAgc2NhbGUueiA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocm90YXRpb24pIHtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi53ID0gMTtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi54ID0gMDtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi55ID0gMDtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi56ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG0gPSBzZWxmLl9tO1xuICAgICAgICBpZiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uLnggPSBtWzEyXTtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uLnkgPSBtWzEzXTtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uLnogPSBtWzE0XTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1c2VkU2NhbGUgPSBzY2FsZSB8fCBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgdXNlZFNjYWxlLnggPSBNYXRoLnNxcnQobVswXSAqIG1bMF0gKyBtWzFdICogbVsxXSArIG1bMl0gKiBtWzJdKTtcbiAgICAgICAgdXNlZFNjYWxlLnkgPSBNYXRoLnNxcnQobVs0XSAqIG1bNF0gKyBtWzVdICogbVs1XSArIG1bNl0gKiBtWzZdKTtcbiAgICAgICAgdXNlZFNjYWxlLnogPSBNYXRoLnNxcnQobVs4XSAqIG1bOF0gKyBtWzldICogbVs5XSArIG1bMTBdICogbVsxMF0pO1xuICAgICAgICBpZiAoZGV0ZXJtaW5hbnQoc2VsZikgPD0gMCkge1xuICAgICAgICAgICAgdXNlZFNjYWxlLnkgKj0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZWRTY2FsZS54ID09PSAwIHx8IHVzZWRTY2FsZS55ID09PSAwIHx8IHVzZWRTY2FsZS56ID09PSAwKSB7XG4gICAgICAgICAgICBpZiAocm90YXRpb24pIHtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi53ID0gMTtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi54ID0gMDtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi55ID0gMDtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi56ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocm90YXRpb24pIHtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4gICAgICAgICAgICBjb25zdCBzeCA9IDEgLyB1c2VkU2NhbGUueCwgc3kgPSAxIC8gdXNlZFNjYWxlLnksIHN6ID0gMSAvIHVzZWRTY2FsZS56O1xuICAgICAgICAgICAgY29uc3QgdG1wTWF0cml4ID0gY3JlYXRlKCk7XG4gICAgICAgICAgICBmcm9tVmFsdWVzVG9SZWYobVswXSAqIHN4LCBtWzFdICogc3gsIG1bMl0gKiBzeCwgMC4wLCBtWzRdICogc3ksIG1bNV0gKiBzeSwgbVs2XSAqIHN5LCAwLjAsIG1bOF0gKiBzeiwgbVs5XSAqIHN6LCBtWzEwXSAqIHN6LCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgdG1wTWF0cml4KTtcbiAgICAgICAgICAgIFF1YXRlcm5pb24uZnJvbVJvdGF0aW9uTWF0cml4VG9SZWYodG1wTWF0cml4LCByb3RhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIE1hdHJpeC5kZWNvbXBvc2UgPSBkZWNvbXBvc2U7XG4gICAgLyoqXG4gICAgICogR2V0cyBzcGVjaWZpYyByb3cgb2YgdGhlIG1hdHJpeFxuICAgICAqIEBwYXJhbSBpbmRleCAtIGRlZmluZXMgdGhlIG51bWJlciBvZiB0aGUgcm93IHRvIGdldFxuICAgICAqIEByZXR1cm5zIHRoZSBpbmRleC10aCByb3cgb2YgdGhlIGN1cnJlbnQgbWF0cml4IGFzIGEgbmV3IFZlY3RvcjRcbiAgICAgKi9cbiAgICAvLyBUT0RPXG4gICAgLy8gZXhwb3J0IGZ1bmN0aW9uIGdldFJvdyhpbmRleDogbnVtYmVyKTogTnVsbGFibGU8VmVjdG9yND4ge1xuICAgIC8vICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+IDMpIHtcbiAgICAvLyAgICAgcmV0dXJuIG51bGxcbiAgICAvLyAgIH1cbiAgICAvLyAgIGNvbnN0IGkgPSBpbmRleCAqIDRcbiAgICAvLyAgIHJldHVybiBuZXcgVmVjdG9yNChcbiAgICAvLyAgICAgc2VsZi5fbVtpICsgMF0sXG4gICAgLy8gICAgIHNlbGYuX21baSArIDFdLFxuICAgIC8vICAgICBzZWxmLl9tW2kgKyAyXSxcbiAgICAvLyAgICAgc2VsZi5fbVtpICsgM11cbiAgICAvLyAgIClcbiAgICAvLyB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaW5kZXgtdGggcm93IG9mIHRoZSBjdXJyZW50IG1hdHJpeCB0byB0aGUgdmVjdG9yNCB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gaW5kZXggLSBkZWZpbmVzIHRoZSBudW1iZXIgb2YgdGhlIHJvdyB0byBzZXRcbiAgICAgKiBAcGFyYW0gcm93IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IHZlY3RvcjRcbiAgICAgKiBAcmV0dXJucyB0aGUgdXBkYXRlZCBjdXJyZW50IG1hdHJpeFxuICAgICAqL1xuICAgIC8vIFRPRE9cbiAgICAvLyBleHBvcnQgZnVuY3Rpb24gc2V0Um93KGluZGV4OiBudW1iZXIsIHJvdzogVmVjdG9yNCk6IE11dGFibGVNYXRyaXgge1xuICAgIC8vICAgcmV0dXJuIHNldFJvd0Zyb21GbG9hdHMoaW5kZXgsIHJvdy54LCByb3cueSwgcm93LnosIHJvdy53KVxuICAgIC8vIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBpbmRleC10aCByb3cgb2YgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggdGhlIGdpdmVuIDQgeCBmbG9hdCB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gaW5kZXggLSBkZWZpbmVzIHRoZSByb3cgaW5kZXhcbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHggY29tcG9uZW50IHRvIHNldFxuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgeSBjb21wb25lbnQgdG8gc2V0XG4gICAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSB6IGNvbXBvbmVudCB0byBzZXRcbiAgICAgKiBAcGFyYW0gdyAtIGRlZmluZXMgdGhlIHcgY29tcG9uZW50IHRvIHNldFxuICAgICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIGN1cnJlbnQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Um93RnJvbUZsb2F0cyhzZWxmLCBpbmRleCwgeCwgeSwgeiwgdykge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gMykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGkgPSBpbmRleCAqIDQ7XG4gICAgICAgIHNlbGYuX21baSArIDBdID0geDtcbiAgICAgICAgc2VsZi5fbVtpICsgMV0gPSB5O1xuICAgICAgICBzZWxmLl9tW2kgKyAyXSA9IHo7XG4gICAgICAgIHNlbGYuX21baSArIDNdID0gdztcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQoc2VsZik7XG4gICAgfVxuICAgIE1hdHJpeC5zZXRSb3dGcm9tRmxvYXRzID0gc2V0Um93RnJvbUZsb2F0cztcbiAgICAvKipcbiAgICAgKiBDb21wdXRlIGEgbmV3IG1hdHJpeCBzZXQgd2l0aCB0aGUgY3VycmVudCBtYXRyaXggdmFsdWVzIG11bHRpcGxpZWQgYnkgc2NhbGUgKGZsb2F0KVxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvclxuICAgICAqIEByZXR1cm5zIGEgbmV3IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlKHNlbGYsIHNjYWxlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICBzY2FsZVRvUmVmKHNlbGYsIHNjYWxlLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXguc2NhbGUgPSBzY2FsZTtcbiAgICAvKipcbiAgICAgKiBTY2FsZSB0aGUgY3VycmVudCBtYXRyaXggdmFsdWVzIGJ5IGEgZmFjdG9yIHRvIGEgZ2l2ZW4gcmVzdWx0IG1hdHJpeFxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBtYXRyaXggdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlVG9SZWYoc2VsZiwgc2NhbGUsIHJlc3VsdCkge1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgMTY7IGluZGV4KyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5fbVtpbmRleF0gPSBzZWxmLl9tW2luZGV4XSAqIHNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIF9tYXJrQXNVcGRhdGVkKHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5zY2FsZVRvUmVmID0gc2NhbGVUb1JlZjtcbiAgICAvKipcbiAgICAgKiBTY2FsZSB0aGUgY3VycmVudCBtYXRyaXggdmFsdWVzIGJ5IGEgZmFjdG9yIGFuZCBhZGQgdGhlIHJlc3VsdCB0byBhIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBNYXRyaXggdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlQW5kQWRkVG9SZWYoc2VsZiwgc2NhbGUsIHJlc3VsdCkge1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgMTY7IGluZGV4KyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5fbVtpbmRleF0gKz0gc2VsZi5fbVtpbmRleF0gKiBzY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBfbWFya0FzVXBkYXRlZChyZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXguc2NhbGVBbmRBZGRUb1JlZiA9IHNjYWxlQW5kQWRkVG9SZWY7XG4gICAgLyoqXG4gICAgICogV3JpdGVzIHRvIHRoZSBnaXZlbiBtYXRyaXggYSBub3JtYWwgbWF0cml4LCBjb21wdXRlZCBmcm9tIHNlbGYgb25lICh1c2luZyB2YWx1ZXMgZnJvbSBpZGVudGl0eSBtYXRyaXggZm9yIGZvdXJ0aCByb3cgYW5kIGNvbHVtbikuXG4gICAgICogQHBhcmFtIHJlZiAtIG1hdHJpeCB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9ybWFsTWF0cml4VG9SZWYoc2VsZiwgcmVmKSB7XG4gICAgICAgIGNvbnN0IHRtcCA9IGNyZWF0ZSgpO1xuICAgICAgICBpbnZlcnRUb1JlZihzZWxmLCB0bXApO1xuICAgICAgICB0cmFuc3Bvc2VUb1JlZih0bXAsIHJlZik7XG4gICAgICAgIGNvbnN0IG0gPSByZWYuX207XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihtWzBdLCBtWzFdLCBtWzJdLCAwLjAsIG1bNF0sIG1bNV0sIG1bNl0sIDAuMCwgbVs4XSwgbVs5XSwgbVsxMF0sIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCByZWYpO1xuICAgIH1cbiAgICBNYXRyaXgubm9ybWFsTWF0cml4VG9SZWYgPSBub3JtYWxNYXRyaXhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBHZXRzIG9ubHkgcm90YXRpb24gcGFydCBvZiB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBtYXRyaXggc2V0cyB0byB0aGUgZXh0cmFjdGVkIHJvdGF0aW9uIG1hdHJpeCBmcm9tIHRoZSBjdXJyZW50IG9uZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFJvdGF0aW9uTWF0cml4KHNlbGYpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIGdldFJvdGF0aW9uTWF0cml4VG9SZWYoc2VsZiwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgTWF0cml4LmdldFJvdGF0aW9uTWF0cml4ID0gZ2V0Um90YXRpb25NYXRyaXg7XG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIHJvdGF0aW9uIG1hdHJpeCBmcm9tIHRoZSBjdXJyZW50IG9uZSBhbmQgc2V0cyBpdCBhcyB0aGUgZ2l2ZW4gXCJyZXN1bHRcIlxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4IHRvIHN0b3JlIGRhdGEgdG9cbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRSb3RhdGlvbk1hdHJpeFRvUmVmKHNlbGYsIHJlc3VsdCkge1xuICAgICAgICBjb25zdCBzY2FsZSA9IFZlY3RvcjMuWmVybygpO1xuICAgICAgICBpZiAoIWRlY29tcG9zZShzZWxmLCBzY2FsZSkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IElkZW50aXR5KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbSA9IHNlbGYuX207XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4gICAgICAgIGNvbnN0IHN4ID0gMSAvIHNjYWxlLngsIHN5ID0gMSAvIHNjYWxlLnksIHN6ID0gMSAvIHNjYWxlLno7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihtWzBdICogc3gsIG1bMV0gKiBzeCwgbVsyXSAqIHN4LCAwLjAsIG1bNF0gKiBzeSwgbVs1XSAqIHN5LCBtWzZdICogc3ksIDAuMCwgbVs4XSAqIHN6LCBtWzldICogc3osIG1bMTBdICogc3osIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCByZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXguZ2V0Um90YXRpb25NYXRyaXhUb1JlZiA9IGdldFJvdGF0aW9uTWF0cml4VG9SZWY7XG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyBtb2RlbCBtYXRyaXggZnJvbSBiZWluZyByaWdodCBoYW5kZWQgdG8gbGVmdCBoYW5kZWQgaW4gcGxhY2UgYW5kIHZpY2UgdmVyc2FcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b2dnbGVNb2RlbE1hdHJpeEhhbmRJblBsYWNlKHNlbGYpIHtcbiAgICAgICAgc2VsZi5fbVsyXSAqPSAtMTtcbiAgICAgICAgc2VsZi5fbVs2XSAqPSAtMTtcbiAgICAgICAgc2VsZi5fbVs4XSAqPSAtMTtcbiAgICAgICAgc2VsZi5fbVs5XSAqPSAtMTtcbiAgICAgICAgc2VsZi5fbVsxNF0gKj0gLTE7XG4gICAgICAgIF9tYXJrQXNVcGRhdGVkKHNlbGYpO1xuICAgIH1cbiAgICBNYXRyaXgudG9nZ2xlTW9kZWxNYXRyaXhIYW5kSW5QbGFjZSA9IHRvZ2dsZU1vZGVsTWF0cml4SGFuZEluUGxhY2U7XG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyBwcm9qZWN0aW9uIG1hdHJpeCBmcm9tIGJlaW5nIHJpZ2h0IGhhbmRlZCB0byBsZWZ0IGhhbmRlZCBpbiBwbGFjZSBhbmQgdmljZSB2ZXJzYVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvZ2dsZVByb2plY3Rpb25NYXRyaXhIYW5kSW5QbGFjZShzZWxmKSB7XG4gICAgICAgIHNlbGYuX21bOF0gKj0gLTE7XG4gICAgICAgIHNlbGYuX21bOV0gKj0gLTE7XG4gICAgICAgIHNlbGYuX21bMTBdICo9IC0xO1xuICAgICAgICBzZWxmLl9tWzExXSAqPSAtMTtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQoc2VsZik7XG4gICAgfVxuICAgIE1hdHJpeC50b2dnbGVQcm9qZWN0aW9uTWF0cml4SGFuZEluUGxhY2UgPSB0b2dnbGVQcm9qZWN0aW9uTWF0cml4SGFuZEluUGxhY2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGZ1bmN0aW9uIF91cGRhdGVJZGVudGl0eVN0YXR1cyhzZWxmLCBpc0lkZW50aXR5LCBpc0lkZW50aXR5RGlydHkgPSBmYWxzZSwgaXNJZGVudGl0eTN4MiA9IGZhbHNlLCBpc0lkZW50aXR5M3gyRGlydHkgPSB0cnVlKSB7XG4gICAgICAgIHNlbGYudXBkYXRlRmxhZyA9IF91cGRhdGVGbGFnU2VlZCsrO1xuICAgICAgICBzZWxmLmlzSWRlbnRpdHkgPSBpc0lkZW50aXR5O1xuICAgICAgICBzZWxmLmlzSWRlbnRpdHkzeDIgPSBpc0lkZW50aXR5IHx8IGlzSWRlbnRpdHkzeDI7XG4gICAgICAgIHNlbGYuX2lzSWRlbnRpdHlEaXJ0eSA9IHNlbGYuaXNJZGVudGl0eSA/IGZhbHNlIDogaXNJZGVudGl0eURpcnR5O1xuICAgICAgICBzZWxmLl9pc0lkZW50aXR5M3gyRGlydHkgPSBzZWxmLmlzSWRlbnRpdHkzeDIgPyBmYWxzZSA6IGlzSWRlbnRpdHkzeDJEaXJ0eTtcbiAgICB9XG59KShNYXRyaXggfHwgKE1hdHJpeCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMyc7XG5pbXBvcnQgeyBTY2FsYXIgfSBmcm9tICcuL1NjYWxhcic7XG5pbXBvcnQgeyBERUcyUkFELCBSQUQyREVHIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuL01hdHJpeCc7XG4vKipcbiAqIEBwdWJsaWNcbiAqIFF1YXRlcm5pb24gaXMgYSB0eXBlIGFuZCBhIG5hbWVzcGFjZS5cbiAqIGBgYFxuICogLy8gVGhlIG5hbWVzcGFjZSBjb250YWlucyBhbGwgdHlwZXMgYW5kIGZ1bmN0aW9ucyB0byBvcGVyYXRlcyB3aXRoIFF1YXRlcm5pb25cbiAqIGNvbnN0IG5leHQgPSBRdWF0ZXJuaW9uLmFkZChwb2ludEEsIHZlbG9jaXR5QSlcbiAqIC8vIFRoZSB0eXBlIFF1YXRlcm5pb24gaXMgYW4gYWxpYXMgdG8gUXVhdGVybmlvbi5SZWFkb25seVF1YXRlcm5pb25cbiAqIGNvbnN0IHJlYWRvbmx5Um90YXRpb246IFF1YXRlcm5pb24gPSBRdWF0ZXJuaW9uLlplcm8oKVxuICogcmVhZG9ubHlSb3RhdGlvbi54ID0gMC4xIC8vIHRoaXMgRkFJTFNcbiAqXG4gKiAvLyBGb3IgbXV0YWJsZSB1c2FnZSwgdXNlIGBRdWF0ZXJuaW9uLk11dGFibGVgXG4gKiBjb25zdCByb3RhdGlvbjogUXVhdGVybmlvbi5NdXRhYmxlID0gUXVhdGVybmlvbi5JZGVudGl0eSgpXG4gKiByb3RhdGlvbi54ID0gMy4wIC8vIHRoaXMgV09SS1NcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIFF1YXRlcm5pb247XG4oZnVuY3Rpb24gKFF1YXRlcm5pb24pIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFF1YXRlcm5pb24gZnJvbSB0aGUgZ2l2ZW4gZmxvYXRzXG4gICAgICogQHBhcmFtIHggLSBkZWZpbmVzIHRoZSBmaXJzdCBjb21wb25lbnQgKDAgYnkgZGVmYXVsdClcbiAgICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIHNlY29uZCBjb21wb25lbnQgKDAgYnkgZGVmYXVsdClcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHRoaXJkIGNvbXBvbmVudCAoMCBieSBkZWZhdWx0KVxuICAgICAqIEBwYXJhbSB3IC0gZGVmaW5lcyB0aGUgZm91cnRoIGNvbXBvbmVudCAoMS4wIGJ5IGRlZmF1bHQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKFxuICAgIC8qKiBkZWZpbmVzIHRoZSBmaXJzdCBjb21wb25lbnQgKDAgYnkgZGVmYXVsdCkgKi9cbiAgICB4ID0gMC4wLCBcbiAgICAvKiogZGVmaW5lcyB0aGUgc2Vjb25kIGNvbXBvbmVudCAoMCBieSBkZWZhdWx0KSAqL1xuICAgIHkgPSAwLjAsIFxuICAgIC8qKiBkZWZpbmVzIHRoZSB0aGlyZCBjb21wb25lbnQgKDAgYnkgZGVmYXVsdCkgKi9cbiAgICB6ID0gMC4wLCBcbiAgICAvKiogZGVmaW5lcyB0aGUgZm91cnRoIGNvbXBvbmVudCAoMS4wIGJ5IGRlZmF1bHQpICovXG4gICAgdyA9IDEuMCkge1xuICAgICAgICByZXR1cm4geyB4LCB5LCB6LCB3IH07XG4gICAgfVxuICAgIFF1YXRlcm5pb24uY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgUXVhdGVybmlvbiBhcyB0aGUgcmVzdWx0IG9mIHRoZSBhZGRpdGlvbiBvZiB0aGUgdHdvIGdpdmVuIHF1YXRlcm5pb25zLlxuICAgICAqIEBwYXJhbSBxMSAtIHRoZSBmaXJzdCBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIHEyIC0gdGhlIHNlY29uZCBxdWF0ZXJuaW9uXG4gICAgICogQHJldHVybnMgdGhlIHJlc3VsdGluZyBxdWF0ZXJuaW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkKHExLCBxMikge1xuICAgICAgICByZXR1cm4geyB4OiBxMS54ICsgcTIueCwgeTogcTEueSArIHEyLnksIHo6IHExLnogKyBxMi56LCB3OiBxMS53ICsgcTIudyB9O1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmFkZCA9IGFkZDtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJvdGF0aW9uIGZyb20gdGhlIGdpdmVuIEV1bGVyIGZsb2F0IGFuZ2xlcyAoeSwgeCwgeikgYW5kIHN0b3JlcyBpdCBpbiB0aGUgdGFyZ2V0IHF1YXRlcm5pb25cbiAgICAgKiBAcGFyYW0geWF3IC0gZGVmaW5lcyB0aGUgcm90YXRpb24gYXJvdW5kIFkgYXhpcyAocmFkaWFucylcbiAgICAgKiBAcGFyYW0gcGl0Y2ggLSBkZWZpbmVzIHRoZSByb3RhdGlvbiBhcm91bmQgWCBheGlzIChyYWRpYW5zKVxuICAgICAqIEBwYXJhbSByb2xsIC0gZGVmaW5lcyB0aGUgcm90YXRpb24gYXJvdW5kIFogYXhpcyAocmFkaWFucylcbiAgICAgKiBAcmV0dXJucyByZXN1bHQgcXVhdGVybmlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21Sb3RhdGlvbllhd1BpdGNoUm9sbCh5YXcsIHBpdGNoLCByb2xsKSB7XG4gICAgICAgIC8vIEltcGxlbWVudGVkIHVuaXR5LWJhc2VkIGNhbGN1bGF0aW9ucyBmcm9tOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNTYwNTU4MTNcbiAgICAgICAgY29uc3QgaGFsZlBpdGNoID0gcGl0Y2ggKiAwLjU7XG4gICAgICAgIGNvbnN0IGhhbGZZYXcgPSB5YXcgKiAwLjU7XG4gICAgICAgIGNvbnN0IGhhbGZSb2xsID0gcm9sbCAqIDAuNTtcbiAgICAgICAgY29uc3QgYzEgPSBNYXRoLmNvcyhoYWxmUGl0Y2gpO1xuICAgICAgICBjb25zdCBjMiA9IE1hdGguY29zKGhhbGZZYXcpO1xuICAgICAgICBjb25zdCBjMyA9IE1hdGguY29zKGhhbGZSb2xsKTtcbiAgICAgICAgY29uc3QgczEgPSBNYXRoLnNpbihoYWxmUGl0Y2gpO1xuICAgICAgICBjb25zdCBzMiA9IE1hdGguc2luKGhhbGZZYXcpO1xuICAgICAgICBjb25zdCBzMyA9IE1hdGguc2luKGhhbGZSb2xsKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZShjMiAqIHMxICogYzMgKyBzMiAqIGMxICogczMsIHMyICogYzEgKiBjMyAtIGMyICogczEgKiBzMywgYzIgKiBjMSAqIHMzIC0gczIgKiBzMSAqIGMzLCBjMiAqIGMxICogYzMgKyBzMiAqIHMxICogczMpO1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmZyb21Sb3RhdGlvbllhd1BpdGNoUm9sbCA9IGZyb21Sb3RhdGlvbllhd1BpdGNoUm9sbDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcm90YXRpb24gdGhhdCByb3RhdGVzIHogZGVncmVlcyBhcm91bmQgdGhlIHogYXhpcywgeCBkZWdyZWVzIGFyb3VuZCB0aGUgeCBheGlzLCBhbmQgeSBkZWdyZWVzIGFyb3VuZCB0aGUgeSBheGlzLlxuICAgICAqIEBwYXJhbSB4IC0gdGhlIHJvdGF0aW9uIG9uIHRoZSB4IGF4aXMgaW4gZXVsZXIgZGVncmVlc1xuICAgICAqIEBwYXJhbSB5IC0gdGhlIHJvdGF0aW9uIG9uIHRoZSB5IGF4aXMgaW4gZXVsZXIgZGVncmVlc1xuICAgICAqIEBwYXJhbSB6IC0gdGhlIHJvdGF0aW9uIG9uIHRoZSB6IGF4aXMgaW4gZXVsZXIgZGVncmVlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21FdWxlckRlZ3JlZXMoeCwgeSwgeikge1xuICAgICAgICByZXR1cm4gZnJvbVJvdGF0aW9uWWF3UGl0Y2hSb2xsKHkgKiBERUcyUkFELCB4ICogREVHMlJBRCwgeiAqIERFRzJSQUQpO1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmZyb21FdWxlckRlZ3JlZXMgPSBmcm9tRXVsZXJEZWdyZWVzO1xuICAgIC8qKlxuICAgICAqIEdldHMgbGVuZ3RoIG9mIGN1cnJlbnQgcXVhdGVybmlvblxuICAgICAqIEByZXR1cm5zIHRoZSBxdWF0ZXJuaW9uIGxlbmd0aCAoZmxvYXQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGVuZ3RoKHEpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChsZW5ndGhTcXVhcmVkKHEpKTtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5sZW5ndGggPSBsZW5ndGg7XG4gICAgLyoqXG4gICAgICogR2V0cyBsZW5ndGggb2YgY3VycmVudCBxdWF0ZXJuaW9uXG4gICAgICogQHJldHVybnMgdGhlIHF1YXRlcm5pb24gbGVuZ3RoIChmbG9hdClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsZW5ndGhTcXVhcmVkKHEpIHtcbiAgICAgICAgcmV0dXJuIHEueCAqIHEueCArIHEueSAqIHEueSArIHEueiAqIHEueiArIHEudyAqIHEudztcbiAgICB9XG4gICAgUXVhdGVybmlvbi5sZW5ndGhTcXVhcmVkID0gbGVuZ3RoU3F1YXJlZDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkb3QgcHJvZHVjdCAoZmxvYXQpIGJldHdlZW4gdGhlIHF1YXRlcm5pb25zIFwibGVmdFwiIGFuZCBcInJpZ2h0XCJcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIGxlZnQgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHJpZ2h0IG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB0aGUgZG90IHByb2R1Y3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkb3QobGVmdCwgcmlnaHQpIHtcbiAgICAgICAgcmV0dXJuIChsZWZ0LnggKiByaWdodC54ICsgbGVmdC55ICogcmlnaHQueSArIGxlZnQueiAqIHJpZ2h0LnogKyBsZWZ0LncgKiByaWdodC53KTtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5kb3QgPSBkb3Q7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYW5nbGUgaW4gZGVncmVlcyBiZXR3ZWVuIHR3byByb3RhdGlvbnMgYSBhbmQgYi5cbiAgICAgKiBAcGFyYW0gcXVhdDEgLSBkZWZpbmVzIHRoZSBmaXJzdCBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIHF1YXQyIC0gZGVmaW5lcyB0aGUgc2Vjb25kIHF1YXRlcm5pb25cbiAgICAgKiBAcmV0dXJucyB0aGUgZGVncmVlcyBhbmdsZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFuZ2xlKHF1YXQxLCBxdWF0Mikge1xuICAgICAgICBjb25zdCBkb3RWYWwgPSBkb3QocXVhdDEsIHF1YXQyKTtcbiAgICAgICAgcmV0dXJuIE1hdGguYWNvcyhNYXRoLm1pbihNYXRoLmFicyhkb3RWYWwpLCAxKSkgKiAyICogUkFEMkRFRztcbiAgICB9XG4gICAgUXVhdGVybmlvbi5hbmdsZSA9IGFuZ2xlO1xuICAgIC8qKlxuICAgICAqIFRoZSBmcm9tIHF1YXRlcm5pb24gaXMgcm90YXRlZCB0b3dhcmRzIHRvIGJ5IGFuIGFuZ3VsYXIgc3RlcCBvZiBtYXhEZWdyZWVzRGVsdGEuXG4gICAgICogQHBhcmFtIGZyb20gLSBkZWZpbmVzIHRoZSBmaXJzdCBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIHRvIC0gZGVmaW5lcyB0aGUgc2Vjb25kIHF1YXRlcm5pb25cbiAgICAgKiBAcGFyYW0gbWF4RGVncmVlc0RlbHRhIC0gdGhlIGludGVydmFsIHN0ZXBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByb3RhdGVUb3dhcmRzKGZyb20sIHRvLCBtYXhEZWdyZWVzRGVsdGEpIHtcbiAgICAgICAgY29uc3QgbnVtID0gYW5nbGUoZnJvbSwgdG8pO1xuICAgICAgICBpZiAobnVtID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdG87XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdCA9IE1hdGgubWluKDEsIG1heERlZ3JlZXNEZWx0YSAvIG51bSk7XG4gICAgICAgIHJldHVybiBzbGVycChmcm9tLCB0bywgdCk7XG4gICAgfVxuICAgIFF1YXRlcm5pb24ucm90YXRlVG93YXJkcyA9IHJvdGF0ZVRvd2FyZHM7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJvdGF0aW9uIHdpdGggdGhlIHNwZWNpZmllZCBmb3J3YXJkIGFuZCB1cHdhcmRzIGRpcmVjdGlvbnMuXG4gICAgICogQHBhcmFtIGZvcndhcmQgLSB0aGUgZGlyZWN0aW9uIHRvIGxvb2sgaW5cbiAgICAgKiBAcGFyYW0gdXAgLSB0aGUgdmVjdG9yIHRoYXQgZGVmaW5lcyBpbiB3aGljaCBkaXJlY3Rpb24gdXAgaXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb29rUm90YXRpb24oZm9yd2FyZCwgdXAgPSB7IHg6IDAuMCwgeTogMS4wLCB6OiAwLjAgfSkge1xuICAgICAgICBjb25zdCBmb3J3YXJkTmV3ID0gVmVjdG9yMy5ub3JtYWxpemUoZm9yd2FyZCk7XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gVmVjdG9yMy5ub3JtYWxpemUoVmVjdG9yMy5jcm9zcyh1cCwgZm9yd2FyZE5ldykpO1xuICAgICAgICBjb25zdCB1cE5ldyA9IFZlY3RvcjMuY3Jvc3MoZm9yd2FyZE5ldywgcmlnaHQpO1xuICAgICAgICBjb25zdCBtMDAgPSByaWdodC54O1xuICAgICAgICBjb25zdCBtMDEgPSByaWdodC55O1xuICAgICAgICBjb25zdCBtMDIgPSByaWdodC56O1xuICAgICAgICBjb25zdCBtMTAgPSB1cE5ldy54O1xuICAgICAgICBjb25zdCBtMTEgPSB1cE5ldy55O1xuICAgICAgICBjb25zdCBtMTIgPSB1cE5ldy56O1xuICAgICAgICBjb25zdCBtMjAgPSBmb3J3YXJkTmV3Lng7XG4gICAgICAgIGNvbnN0IG0yMSA9IGZvcndhcmROZXcueTtcbiAgICAgICAgY29uc3QgbTIyID0gZm9yd2FyZE5ldy56O1xuICAgICAgICBjb25zdCBudW04ID0gbTAwICsgbTExICsgbTIyO1xuICAgICAgICBjb25zdCBxdWF0ZXJuaW9uID0gY3JlYXRlKCk7XG4gICAgICAgIGlmIChudW04ID4gMCkge1xuICAgICAgICAgICAgbGV0IG51bSA9IE1hdGguc3FydChudW04ICsgMSk7XG4gICAgICAgICAgICBxdWF0ZXJuaW9uLncgPSBudW0gKiAwLjU7XG4gICAgICAgICAgICBudW0gPSAwLjUgLyBudW07XG4gICAgICAgICAgICBxdWF0ZXJuaW9uLnggPSAobTEyIC0gbTIxKSAqIG51bTtcbiAgICAgICAgICAgIHF1YXRlcm5pb24ueSA9IChtMjAgLSBtMDIpICogbnVtO1xuICAgICAgICAgICAgcXVhdGVybmlvbi56ID0gKG0wMSAtIG0xMCkgKiBudW07XG4gICAgICAgICAgICByZXR1cm4gcXVhdGVybmlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobTAwID49IG0xMSAmJiBtMDAgPj0gbTIyKSB7XG4gICAgICAgICAgICBjb25zdCBudW03ID0gTWF0aC5zcXJ0KDEgKyBtMDAgLSBtMTEgLSBtMjIpO1xuICAgICAgICAgICAgY29uc3QgbnVtNCA9IDAuNSAvIG51bTc7XG4gICAgICAgICAgICBxdWF0ZXJuaW9uLnggPSAwLjUgKiBudW03O1xuICAgICAgICAgICAgcXVhdGVybmlvbi55ID0gKG0wMSArIG0xMCkgKiBudW00O1xuICAgICAgICAgICAgcXVhdGVybmlvbi56ID0gKG0wMiArIG0yMCkgKiBudW00O1xuICAgICAgICAgICAgcXVhdGVybmlvbi53ID0gKG0xMiAtIG0yMSkgKiBudW00O1xuICAgICAgICAgICAgcmV0dXJuIHF1YXRlcm5pb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG0xMSA+IG0yMikge1xuICAgICAgICAgICAgY29uc3QgbnVtNiA9IE1hdGguc3FydCgxICsgbTExIC0gbTAwIC0gbTIyKTtcbiAgICAgICAgICAgIGNvbnN0IG51bTMgPSAwLjUgLyBudW02O1xuICAgICAgICAgICAgcXVhdGVybmlvbi54ID0gKG0xMCArIG0wMSkgKiBudW0zO1xuICAgICAgICAgICAgcXVhdGVybmlvbi55ID0gMC41ICogbnVtNjtcbiAgICAgICAgICAgIHF1YXRlcm5pb24ueiA9IChtMjEgKyBtMTIpICogbnVtMztcbiAgICAgICAgICAgIHF1YXRlcm5pb24udyA9IChtMjAgLSBtMDIpICogbnVtMztcbiAgICAgICAgICAgIHJldHVybiBxdWF0ZXJuaW9uO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG51bTUgPSBNYXRoLnNxcnQoMSArIG0yMiAtIG0wMCAtIG0xMSk7XG4gICAgICAgIGNvbnN0IG51bTIgPSAwLjUgLyBudW01O1xuICAgICAgICBxdWF0ZXJuaW9uLnggPSAobTIwICsgbTAyKSAqIG51bTI7XG4gICAgICAgIHF1YXRlcm5pb24ueSA9IChtMjEgKyBtMTIpICogbnVtMjtcbiAgICAgICAgcXVhdGVybmlvbi56ID0gMC41ICogbnVtNTtcbiAgICAgICAgcXVhdGVybmlvbi53ID0gKG0wMSAtIG0xMCkgKiBudW0yO1xuICAgICAgICByZXR1cm4gcXVhdGVybmlvbjtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5sb29rUm90YXRpb24gPSBsb29rUm90YXRpb247XG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplIGluIHBsYWNlIHRoZSBjdXJyZW50IHF1YXRlcm5pb25cbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIHF1YXRlcm5pb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxpemUocSkge1xuICAgICAgICBjb25zdCBxTGVuZ3RoID0gMS4wIC8gbGVuZ3RoKHEpO1xuICAgICAgICByZXR1cm4gY3JlYXRlKHEueCAqIHFMZW5ndGgsIHEueSAqIHFMZW5ndGgsIHEueiAqIHFMZW5ndGgsIHEudyAqIHFMZW5ndGgpO1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLm5vcm1hbGl6ZSA9IG5vcm1hbGl6ZTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcm90YXRpb24gd2hpY2ggcm90YXRlcyBmcm9tIGZyb21EaXJlY3Rpb24gdG8gdG9EaXJlY3Rpb24uXG4gICAgICogQHBhcmFtIGZyb20gLSBkZWZpbmVzIHRoZSBmaXJzdCBkaXJlY3Rpb24gVmVjdG9yXG4gICAgICogQHBhcmFtIHRvIC0gZGVmaW5lcyB0aGUgdGFyZ2V0IGRpcmVjdGlvbiBWZWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tVG9Sb3RhdGlvbihmcm9tLCB0bywgdXAgPSBWZWN0b3IzLlVwKCkpIHtcbiAgICAgICAgLy8gVW5pdHktYmFzZWQgY2FsY3VsYXRpb25zIGltcGxlbWVudGVkIGZyb20gaHR0cHM6Ly9mb3J1bS51bml0eS5jb20vdGhyZWFkcy9xdWF0ZXJuaW9uLWxvb2tyb3RhdGlvbi1hcm91bmQtYW4tYXhpcy42MDg0NzAvI3Bvc3QtNDA2OTg4OFxuICAgICAgICBjb25zdCB2MCA9IFZlY3RvcjMubm9ybWFsaXplKGZyb20pO1xuICAgICAgICBjb25zdCB2MSA9IFZlY3RvcjMubm9ybWFsaXplKHRvKTtcbiAgICAgICAgY29uc3QgYSA9IFZlY3RvcjMuY3Jvc3ModjAsIHYxKTtcbiAgICAgICAgY29uc3QgdyA9IE1hdGguc3FydChWZWN0b3IzLmxlbmd0aFNxdWFyZWQodjApICogVmVjdG9yMy5sZW5ndGhTcXVhcmVkKHYxKSkgK1xuICAgICAgICAgICAgVmVjdG9yMy5kb3QodjAsIHYxKTtcbiAgICAgICAgaWYgKFZlY3RvcjMubGVuZ3RoU3F1YXJlZChhKSA8IDAuMDAwMSkge1xuICAgICAgICAgICAgLy8gdGhlIHZlY3RvcnMgYXJlIHBhcmFsbGVsLCBjaGVjayB3IHRvIGZpbmQgZGlyZWN0aW9uXG4gICAgICAgICAgICAvLyBpZiB3IGlzIDAgdGhlbiB2YWx1ZXMgYXJlIG9wcG9zaXRlLCBhbmQgd2Ugc291bGQgcm90YXRlIDE4MCBkZWdyZWVzIGFyb3VuZCB0aGUgc3VwcGxpZWQgYXhpc1xuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHRoZSB2ZWN0b3JzIGluIHRoZSBzYW1lIGRpcmVjdGlvbiBhbmQgbm8gcm90YXRpb24gc2hvdWxkIG9jY3VyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModykgPCAwLjAwMDFcbiAgICAgICAgICAgICAgICA/IG5vcm1hbGl6ZShjcmVhdGUodXAueCwgdXAueSwgdXAueiwgMCkpXG4gICAgICAgICAgICAgICAgOiBJZGVudGl0eSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZShjcmVhdGUoYS54LCBhLnksIGEueiwgdykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFF1YXRlcm5pb24uZnJvbVRvUm90YXRpb24gPSBmcm9tVG9Sb3RhdGlvbjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGlkZW50aXR5IHF1YXRlcm5pb25cbiAgICAgKiBAcmV0dXJucyAtIHRoZSBpZGVudGl0eSBxdWF0ZXJuaW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gSWRlbnRpdHkoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMC4wLCAwLjAsIDAuMCwgMS4wKTtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5JZGVudGl0eSA9IElkZW50aXR5O1xuICAgIC8qKlxuICAgICAqIEdldHMgb3Igc2V0cyB0aGUgZXVsZXIgYW5nbGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJvdGF0aW9uLlxuICAgICAqIEltcGxlbWVudGVkIHVuaXR5LWJhc2VkIGNhbGN1bGF0aW9ucyBmcm9tOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNTYwNTU4MTNcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yMyB3aXRoIGV1bGVyIGFuZ2xlcyBkZWdyZWVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9FdWxlckFuZ2xlcyhxKSB7XG4gICAgICAgIGNvbnN0IG91dCA9IFZlY3RvcjMuY3JlYXRlKCk7XG4gICAgICAgIC8vIGlmIHRoZSBpbnB1dCBxdWF0ZXJuaW9uIGlzIG5vcm1hbGl6ZWQsIHRoaXMgaXMgZXhhY3RseSBvbmUuIE90aGVyd2lzZSwgdGhpcyBhY3RzIGFzIGEgY29ycmVjdGlvbiBmYWN0b3IgZm9yIHRoZSBxdWF0ZXJuaW9uJ3Mgbm90LW5vcm1hbGl6ZWRuZXNzXG4gICAgICAgIGNvbnN0IHVuaXQgPSBxLnggKiBxLnggKyBxLnkgKiBxLnkgKyBxLnogKiBxLnogKyBxLncgKiBxLnc7XG4gICAgICAgIC8vIHEgd2lsbCBoYXZlIGEgbWFnbml0dWRlIG9mIDAuNSBvciBncmVhdGVyIGlmIGFuZCBvbmx5IGlmIHEgaXMgYSBzaW5ndWxhcml0eSBjYXNlXG4gICAgICAgIGNvbnN0IHRlc3QgPSBxLnggKiBxLncgLSBxLnkgKiBxLno7XG4gICAgICAgIGlmICh0ZXN0ID4gMC40OTk1ICogdW5pdCkge1xuICAgICAgICAgICAgLy8gc2luZ3VsYXJpdHkgYXQgbm9ydGggcG9sZVxuICAgICAgICAgICAgb3V0LnggPSBNYXRoLlBJIC8gMjtcbiAgICAgICAgICAgIG91dC55ID0gMiAqIE1hdGguYXRhbjIocS55LCBxLngpO1xuICAgICAgICAgICAgb3V0LnogPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRlc3QgPCAtMC40OTk1ICogdW5pdCkge1xuICAgICAgICAgICAgLy8gc2luZ3VsYXJpdHkgYXQgc291dGggcG9sZVxuICAgICAgICAgICAgb3V0LnggPSAtTWF0aC5QSSAvIDI7XG4gICAgICAgICAgICBvdXQueSA9IC0yICogTWF0aC5hdGFuMihxLnksIHEueCk7XG4gICAgICAgICAgICBvdXQueiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBubyBzaW5ndWxhcml0eSAtIHEgaXMgdGhlIG1ham9yaXR5IG9mIGNhc2VzXG4gICAgICAgICAgICBvdXQueCA9IE1hdGguYXNpbigyICogKHEudyAqIHEueCAtIHEueSAqIHEueikpO1xuICAgICAgICAgICAgb3V0LnkgPSBNYXRoLmF0YW4yKDIgKiBxLncgKiBxLnkgKyAyICogcS56ICogcS54LCAxIC0gMiAqIChxLnggKiBxLnggKyBxLnkgKiBxLnkpKTtcbiAgICAgICAgICAgIG91dC56ID0gTWF0aC5hdGFuMigyICogcS53ICogcS56ICsgMiAqIHEueCAqIHEueSwgMSAtIDIgKiAocS56ICogcS56ICsgcS54ICogcS54KSk7XG4gICAgICAgIH1cbiAgICAgICAgb3V0LnggKj0gUkFEMkRFRztcbiAgICAgICAgb3V0LnkgKj0gUkFEMkRFRztcbiAgICAgICAgb3V0LnogKj0gUkFEMkRFRztcbiAgICAgICAgLy8gZW5zdXJlIHRoZSBkZWdyZWUgdmFsdWVzIGFyZSBiZXR3ZWVuIDAgYW5kIDM2MFxuICAgICAgICBvdXQueCA9IFNjYWxhci5yZXBlYXQob3V0LngsIDM2MCk7XG4gICAgICAgIG91dC55ID0gU2NhbGFyLnJlcGVhdChvdXQueSwgMzYwKTtcbiAgICAgICAgb3V0LnogPSBTY2FsYXIucmVwZWF0KG91dC56LCAzNjApO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLnRvRXVsZXJBbmdsZXMgPSB0b0V1bGVyQW5nbGVzO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcm90YXRpb24gZnJvbSB0aGUgZ2l2ZW4gRXVsZXIgZmxvYXQgYW5nbGVzICh5LCB4LCB6KSBhbmQgc3RvcmVzIGl0IGluIHRoZSB0YXJnZXQgcXVhdGVybmlvblxuICAgICAqIEBwYXJhbSB5YXcgLSBkZWZpbmVzIHRoZSByb3RhdGlvbiBhcm91bmQgWSBheGlzIChyYWRpYW5zKVxuICAgICAqIEBwYXJhbSBwaXRjaCAtIGRlZmluZXMgdGhlIHJvdGF0aW9uIGFyb3VuZCBYIGF4aXMgKHJhZGlhbnMpXG4gICAgICogQHBhcmFtIHJvbGwgLSBkZWZpbmVzIHRoZSByb3RhdGlvbiBhcm91bmQgWiBheGlzIChyYWRpYW5zKVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgcXVhdGVybmlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHlhdywgcGl0Y2gsIHJvbGwsIHJlc3VsdCkge1xuICAgICAgICAvLyBJbXBsZW1lbnRlZCB1bml0eS1iYXNlZCBjYWxjdWxhdGlvbnMgZnJvbTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzU2MDU1ODEzXG4gICAgICAgIGNvbnN0IGhhbGZQaXRjaCA9IHBpdGNoICogMC41O1xuICAgICAgICBjb25zdCBoYWxmWWF3ID0geWF3ICogMC41O1xuICAgICAgICBjb25zdCBoYWxmUm9sbCA9IHJvbGwgKiAwLjU7XG4gICAgICAgIGNvbnN0IGMxID0gTWF0aC5jb3MoaGFsZlBpdGNoKTtcbiAgICAgICAgY29uc3QgYzIgPSBNYXRoLmNvcyhoYWxmWWF3KTtcbiAgICAgICAgY29uc3QgYzMgPSBNYXRoLmNvcyhoYWxmUm9sbCk7XG4gICAgICAgIGNvbnN0IHMxID0gTWF0aC5zaW4oaGFsZlBpdGNoKTtcbiAgICAgICAgY29uc3QgczIgPSBNYXRoLnNpbihoYWxmWWF3KTtcbiAgICAgICAgY29uc3QgczMgPSBNYXRoLnNpbihoYWxmUm9sbCk7XG4gICAgICAgIHJlc3VsdC54ID0gYzIgKiBzMSAqIGMzICsgczIgKiBjMSAqIHMzO1xuICAgICAgICByZXN1bHQueSA9IHMyICogYzEgKiBjMyAtIGMyICogczEgKiBzMztcbiAgICAgICAgcmVzdWx0LnogPSBjMiAqIGMxICogczMgLSBzMiAqIHMxICogYzM7XG4gICAgICAgIHJlc3VsdC53ID0gYzIgKiBjMSAqIGMzICsgczIgKiBzMSAqIHMzO1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmZyb21Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmID0gZnJvbVJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWY7XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZ2l2ZW4gcXVhdGVybmlvbiB3aXRoIHRoZSBnaXZlbiByb3RhdGlvbiBtYXRyaXggdmFsdWVzXG4gICAgICogQHBhcmFtIG1hdHJpeCAtIGRlZmluZXMgdGhlIHNvdXJjZSBtYXRyaXhcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IHF1YXRlcm5pb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tUm90YXRpb25NYXRyaXhUb1JlZihtYXRyaXgsIHJlc3VsdCkge1xuICAgICAgICBjb25zdCBkYXRhID0gbWF0cml4Ll9tO1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZTpvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4gICAgICAgIGNvbnN0IG0xMSA9IGRhdGFbMF0sIG0xMiA9IGRhdGFbNF0sIG0xMyA9IGRhdGFbOF07XG4gICAgICAgIGNvbnN0IG0yMSA9IGRhdGFbMV0sIG0yMiA9IGRhdGFbNV0sIG0yMyA9IGRhdGFbOV07XG4gICAgICAgIGNvbnN0IG0zMSA9IGRhdGFbMl0sIG0zMiA9IGRhdGFbNl0sIG0zMyA9IGRhdGFbMTBdO1xuICAgICAgICAvLyB0c2xpbnQ6ZW5hYmxlOm9uZS12YXJpYWJsZS1wZXItZGVjbGFyYXRpb25cbiAgICAgICAgY29uc3QgdHJhY2UgPSBtMTEgKyBtMjIgKyBtMzM7XG4gICAgICAgIGxldCBzO1xuICAgICAgICBpZiAodHJhY2UgPiAwKSB7XG4gICAgICAgICAgICBzID0gMC41IC8gTWF0aC5zcXJ0KHRyYWNlICsgMS4wKTtcbiAgICAgICAgICAgIHJlc3VsdC53ID0gMC4yNSAvIHM7XG4gICAgICAgICAgICByZXN1bHQueCA9IChtMzIgLSBtMjMpICogcztcbiAgICAgICAgICAgIHJlc3VsdC55ID0gKG0xMyAtIG0zMSkgKiBzO1xuICAgICAgICAgICAgcmVzdWx0LnogPSAobTIxIC0gbTEyKSAqIHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobTExID4gbTIyICYmIG0xMSA+IG0zMykge1xuICAgICAgICAgICAgcyA9IDIuMCAqIE1hdGguc3FydCgxLjAgKyBtMTEgLSBtMjIgLSBtMzMpO1xuICAgICAgICAgICAgcmVzdWx0LncgPSAobTMyIC0gbTIzKSAvIHM7XG4gICAgICAgICAgICByZXN1bHQueCA9IDAuMjUgKiBzO1xuICAgICAgICAgICAgcmVzdWx0LnkgPSAobTEyICsgbTIxKSAvIHM7XG4gICAgICAgICAgICByZXN1bHQueiA9IChtMTMgKyBtMzEpIC8gcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtMjIgPiBtMzMpIHtcbiAgICAgICAgICAgIHMgPSAyLjAgKiBNYXRoLnNxcnQoMS4wICsgbTIyIC0gbTExIC0gbTMzKTtcbiAgICAgICAgICAgIHJlc3VsdC53ID0gKG0xMyAtIG0zMSkgLyBzO1xuICAgICAgICAgICAgcmVzdWx0LnggPSAobTEyICsgbTIxKSAvIHM7XG4gICAgICAgICAgICByZXN1bHQueSA9IDAuMjUgKiBzO1xuICAgICAgICAgICAgcmVzdWx0LnogPSAobTIzICsgbTMyKSAvIHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzID0gMi4wICogTWF0aC5zcXJ0KDEuMCArIG0zMyAtIG0xMSAtIG0yMik7XG4gICAgICAgICAgICByZXN1bHQudyA9IChtMjEgLSBtMTIpIC8gcztcbiAgICAgICAgICAgIHJlc3VsdC54ID0gKG0xMyArIG0zMSkgLyBzO1xuICAgICAgICAgICAgcmVzdWx0LnkgPSAobTIzICsgbTMyKSAvIHM7XG4gICAgICAgICAgICByZXN1bHQueiA9IDAuMjUgKiBzO1xuICAgICAgICB9XG4gICAgfVxuICAgIFF1YXRlcm5pb24uZnJvbVJvdGF0aW9uTWF0cml4VG9SZWYgPSBmcm9tUm90YXRpb25NYXRyaXhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBJbnRlcnBvbGF0ZXMgYmV0d2VlbiB0d28gcXVhdGVybmlvbnNcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgZmlyc3QgcXVhdGVybmlvblxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgc2Vjb25kIHF1YXRlcm5pb25cbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gZGVmaW5lcyB0aGUgZ3JhZGllbnQgdG8gdXNlXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBpbnRlcnBvbGF0ZWQgcXVhdGVybmlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNsZXJwKGxlZnQsIHJpZ2h0LCBhbW91bnQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gUXVhdGVybmlvbi5JZGVudGl0eSgpO1xuICAgICAgICBRdWF0ZXJuaW9uLnNsZXJwVG9SZWYobGVmdCwgcmlnaHQsIGFtb3VudCwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5zbGVycCA9IHNsZXJwO1xuICAgIC8qKlxuICAgICAqIEludGVycG9sYXRlcyBiZXR3ZWVuIHR3byBxdWF0ZXJuaW9ucyBhbmQgc3RvcmVzIGl0IGludG8gYSB0YXJnZXQgcXVhdGVybmlvblxuICAgICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyBmaXJzdCBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyBzZWNvbmQgcXVhdGVybmlvblxuICAgICAqIEBwYXJhbSBhbW91bnQgLSBkZWZpbmVzIHRoZSBncmFkaWVudCB0byB1c2VcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IHF1YXRlcm5pb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzbGVycFRvUmVmKGxlZnQsIHJpZ2h0LCBhbW91bnQsIHJlc3VsdCkge1xuICAgICAgICBsZXQgbnVtMjtcbiAgICAgICAgbGV0IG51bTM7XG4gICAgICAgIGxldCBudW00ID0gbGVmdC54ICogcmlnaHQueCArIGxlZnQueSAqIHJpZ2h0LnkgKyBsZWZ0LnogKiByaWdodC56ICsgbGVmdC53ICogcmlnaHQudztcbiAgICAgICAgbGV0IGZsYWcgPSBmYWxzZTtcbiAgICAgICAgaWYgKG51bTQgPCAwKSB7XG4gICAgICAgICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgIG51bTQgPSAtbnVtNDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobnVtNCA+IDAuOTk5OTk5KSB7XG4gICAgICAgICAgICBudW0zID0gMSAtIGFtb3VudDtcbiAgICAgICAgICAgIG51bTIgPSBmbGFnID8gLWFtb3VudCA6IGFtb3VudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG51bTUgPSBNYXRoLmFjb3MobnVtNCk7XG4gICAgICAgICAgICBjb25zdCBudW02ID0gMS4wIC8gTWF0aC5zaW4obnVtNSk7XG4gICAgICAgICAgICBudW0zID0gTWF0aC5zaW4oKDEuMCAtIGFtb3VudCkgKiBudW01KSAqIG51bTY7XG4gICAgICAgICAgICBudW0yID0gZmxhZ1xuICAgICAgICAgICAgICAgID8gLU1hdGguc2luKGFtb3VudCAqIG51bTUpICogbnVtNlxuICAgICAgICAgICAgICAgIDogTWF0aC5zaW4oYW1vdW50ICogbnVtNSkgKiBudW02O1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC54ID0gbnVtMyAqIGxlZnQueCArIG51bTIgKiByaWdodC54O1xuICAgICAgICByZXN1bHQueSA9IG51bTMgKiBsZWZ0LnkgKyBudW0yICogcmlnaHQueTtcbiAgICAgICAgcmVzdWx0LnogPSBudW0zICogbGVmdC56ICsgbnVtMiAqIHJpZ2h0Lno7XG4gICAgICAgIHJlc3VsdC53ID0gbnVtMyAqIGxlZnQudyArIG51bTIgKiByaWdodC53O1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLnNsZXJwVG9SZWYgPSBzbGVycFRvUmVmO1xuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdHdvIHF1YXRlcm5pb25zXG4gICAgICogQHBhcmFtIHNlbGYgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHExIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBxdWF0ZXJuaW9uIHNldCBhcyB0aGUgbXVsdGlwbGljYXRpb24gcmVzdWx0IG9mIHRoZSBzZWxmIG9uZSB3aXRoIHRoZSBnaXZlbiBvbmUgXCJxMVwiXG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHkoc2VsZiwgcTEpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKDAsIDAsIDAsIDEuMCk7XG4gICAgICAgIG11bHRpcGx5VG9SZWYoc2VsZiwgcTEsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFF1YXRlcm5pb24ubXVsdGlwbHkgPSBtdWx0aXBseTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiBcInJlc3VsdFwiIGFzIHRoZSB0aGUgbXVsdGlwbGljYXRpb24gcmVzdWx0IG9mIHRoZSBzZWxmIG9uZSB3aXRoIHRoZSBnaXZlbiBvbmUgXCJxMVwiXG4gICAgICogQHBhcmFtIHNlbGYgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHExIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IHF1YXRlcm5pb25cbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBxdWF0ZXJuaW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHlUb1JlZihzZWxmLCBxMSwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC54ID0gc2VsZi54ICogcTEudyArIHNlbGYueSAqIHExLnogLSBzZWxmLnogKiBxMS55ICsgc2VsZi53ICogcTEueDtcbiAgICAgICAgcmVzdWx0LnkgPSAtc2VsZi54ICogcTEueiArIHNlbGYueSAqIHExLncgKyBzZWxmLnogKiBxMS54ICsgc2VsZi53ICogcTEueTtcbiAgICAgICAgcmVzdWx0LnogPSBzZWxmLnggKiBxMS55IC0gc2VsZi55ICogcTEueCArIHNlbGYueiAqIHExLncgKyBzZWxmLncgKiBxMS56O1xuICAgICAgICByZXN1bHQudyA9IC1zZWxmLnggKiBxMS54IC0gc2VsZi55ICogcTEueSAtIHNlbGYueiAqIHExLnogKyBzZWxmLncgKiBxMS53O1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLm11bHRpcGx5VG9SZWYgPSBtdWx0aXBseVRvUmVmO1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGRlZ3JlZXMgLSB0aGUgYW5nbGUgZGVncmVlc1xuICAgICAqIEBwYXJhbSBheGlzIC0gdmVjdG9yM1xuICAgICAqIEByZXR1cm5zIGEgbmV3IFF1YXRlcm5pb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tQW5nbGVBeGlzKGRlZ3JlZXMsIGF4aXMpIHtcbiAgICAgICAgaWYgKFZlY3RvcjMubGVuZ3RoU3F1YXJlZChheGlzKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFF1YXRlcm5pb24uSWRlbnRpdHkoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBJZGVudGl0eSgpO1xuICAgICAgICBsZXQgcmFkaWFucyA9IGRlZ3JlZXMgKiBERUcyUkFEO1xuICAgICAgICByYWRpYW5zICo9IDAuNTtcbiAgICAgICAgY29uc3QgYTIgPSBWZWN0b3IzLm5vcm1hbGl6ZShheGlzKTtcbiAgICAgICAgVmVjdG9yMy5zY2FsZVRvUmVmKGEyLCBNYXRoLnNpbihyYWRpYW5zKSwgYTIpO1xuICAgICAgICByZXN1bHQueCA9IGEyLng7XG4gICAgICAgIHJlc3VsdC55ID0gYTIueTtcbiAgICAgICAgcmVzdWx0LnogPSBhMi56O1xuICAgICAgICByZXN1bHQudyA9IE1hdGguY29zKHJhZGlhbnMpO1xuICAgICAgICByZXR1cm4gbm9ybWFsaXplKHJlc3VsdCk7XG4gICAgfVxuICAgIFF1YXRlcm5pb24uZnJvbUFuZ2xlQXhpcyA9IGZyb21BbmdsZUF4aXM7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBxdWF0ZXJuaW9uIGNvbnRhaW5pbmcgdGhlIHJvdGF0aW9uIHZhbHVlIHRvIHJlYWNoIHRoZSB0YXJnZXQgKGF4aXMxLCBheGlzMiwgYXhpczMpIG9yaWVudGF0aW9uIGFzIGEgcm90YXRlZCBYWVogc3lzdGVtIChheGlzMSwgYXhpczIgYW5kIGF4aXMzIGFyZSBub3JtYWxpemVkIGR1cmluZyB0aGlzIG9wZXJhdGlvbilcbiAgICAgKiBAcGFyYW0gYXhpczEgLSBkZWZpbmVzIHRoZSBmaXJzdCBheGlzXG4gICAgICogQHBhcmFtIGF4aXMyIC0gZGVmaW5lcyB0aGUgc2Vjb25kIGF4aXNcbiAgICAgKiBAcGFyYW0gYXhpczMgLSBkZWZpbmVzIHRoZSB0aGlyZCBheGlzXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBxdWF0ZXJuaW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUF4aXNUb1JvdGF0aW9uUXVhdGVybmlvbihheGlzMSwgYXhpczIsIGF4aXMzKSB7XG4gICAgICAgIGNvbnN0IHF1YXQgPSBRdWF0ZXJuaW9uLmNyZWF0ZSgwLjAsIDAuMCwgMC4wLCAwLjApO1xuICAgICAgICBmcm9tQXhpc1RvUm90YXRpb25RdWF0ZXJuaW9uVG9SZWYoYXhpczEsIGF4aXMyLCBheGlzMywgcXVhdCk7XG4gICAgICAgIHJldHVybiBxdWF0O1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmZyb21BeGlzVG9Sb3RhdGlvblF1YXRlcm5pb24gPSBmcm9tQXhpc1RvUm90YXRpb25RdWF0ZXJuaW9uO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSByb3RhdGlvbiB2YWx1ZSB0byByZWFjaCB0aGUgdGFyZ2V0IChheGlzMSwgYXhpczIsIGF4aXMzKSBvcmllbnRhdGlvbiBhcyBhIHJvdGF0ZWQgWFlaIHN5c3RlbSAoYXhpczEsIGF4aXMyIGFuZCBheGlzMyBhcmUgbm9ybWFsaXplZCBkdXJpbmcgdGhpcyBvcGVyYXRpb24pIGFuZCBzdG9yZXMgaXQgaW4gdGhlIHRhcmdldCBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIGF4aXMxIC0gZGVmaW5lcyB0aGUgZmlyc3QgYXhpc1xuICAgICAqIEBwYXJhbSBheGlzMiAtIGRlZmluZXMgdGhlIHNlY29uZCBheGlzXG4gICAgICogQHBhcmFtIGF4aXMzIC0gZGVmaW5lcyB0aGUgdGhpcmQgYXhpc1xuICAgICAqIEBwYXJhbSByZWYgLSBkZWZpbmVzIHRoZSB0YXJnZXQgcXVhdGVybmlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21BeGlzVG9Sb3RhdGlvblF1YXRlcm5pb25Ub1JlZihheGlzMSwgYXhpczIsIGF4aXMzLCByZWYpIHtcbiAgICAgICAgY29uc3Qgcm90TWF0ID0gTWF0cml4LmNyZWF0ZSgpO1xuICAgICAgICBNYXRyaXguZnJvbVhZWkF4ZXNUb1JlZihWZWN0b3IzLm5vcm1hbGl6ZShheGlzMSksIFZlY3RvcjMubm9ybWFsaXplKGF4aXMyKSwgVmVjdG9yMy5ub3JtYWxpemUoYXhpczMpLCByb3RNYXQpO1xuICAgICAgICBRdWF0ZXJuaW9uLmZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKHJvdE1hdCwgcmVmKTtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5mcm9tQXhpc1RvUm90YXRpb25RdWF0ZXJuaW9uVG9SZWYgPSBmcm9tQXhpc1RvUm90YXRpb25RdWF0ZXJuaW9uVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHplcm8gZmlsbGVkIHF1YXRlcm5pb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBaZXJvKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAuMCwgMC4wLCAwLjAsIDAuMCk7XG4gICAgfVxuICAgIFF1YXRlcm5pb24uWmVybyA9IFplcm87XG4gICAgLyoqXG4gICAgICogQHB1YmxpY1xuICAgICAqIFJvdGF0ZXMgdGhlIHRyYW5zZm9ybSBzbyB0aGUgZm9yd2FyZCB2ZWN0b3IgcG9pbnRzIGF0IHRhcmdldCdzIGN1cnJlbnQgcG9zaXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUxvb2tBdChwb3NpdGlvbiwgdGFyZ2V0LCB3b3JsZFVwID0gVmVjdG9yMy5VcCgpKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFF1YXRlcm5pb24uSWRlbnRpdHkoKTtcbiAgICAgICAgZnJvbUxvb2tBdFRvUmVmKHBvc2l0aW9uLCB0YXJnZXQsIHdvcmxkVXAsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFF1YXRlcm5pb24uZnJvbUxvb2tBdCA9IGZyb21Mb29rQXQ7XG4gICAgLyoqXG4gICAgICogQHB1YmxpY1xuICAgICAqIFJvdGF0ZXMgdGhlIHRyYW5zZm9ybSBzbyB0aGUgZm9yd2FyZCB2ZWN0b3IgcG9pbnRzIGF0IHRhcmdldCdzIGN1cnJlbnQgcG9zaXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUxvb2tBdFRvUmVmKHBvc2l0aW9uLCB0YXJnZXQsIHdvcmxkVXAgPSBWZWN0b3IzLlVwKCksIHJlc3VsdCkge1xuICAgICAgICBjb25zdCBtID0gTWF0cml4LklkZW50aXR5KCk7XG4gICAgICAgIE1hdHJpeC5sb29rQXRMSFRvUmVmKHBvc2l0aW9uLCB0YXJnZXQsIHdvcmxkVXAsIG0pO1xuICAgICAgICBNYXRyaXguaW52ZXJ0VG9SZWYobSwgbSk7XG4gICAgICAgIFF1YXRlcm5pb24uZnJvbVJvdGF0aW9uTWF0cml4VG9SZWYobSwgcmVzdWx0KTtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5mcm9tTG9va0F0VG9SZWYgPSBmcm9tTG9va0F0VG9SZWY7XG59KShRdWF0ZXJuaW9uIHx8IChRdWF0ZXJuaW9uID0ge30pKTtcbiIsICIvKipcbiAqIEBwdWJsaWNcbiAqIFZlY3RvcjIgaXMgYSB0eXBlIGFuZCBhIG5hbWVzcGFjZS5cbiAqIGBgYFxuICogLy8gVGhlIG5hbWVzcGFjZSBjb250YWlucyBhbGwgdHlwZXMgYW5kIGZ1bmN0aW9ucyB0byBvcGVyYXRlcyB3aXRoIFZlY3RvcjJcbiAqIGNvbnN0IG5leHQgPSBWZWN0b3IyLmFkZChwb2ludEEsIHZlbG9jaXR5QSkgLy8gYWRkIGZ1bmN0aW9uIG5vdCBpbXBsZW1lbnRlZCB5ZXRcbiAqIC8vIFRoZSB0eXBlIFZlY3RvcjIgaXMgYW4gYWxpYXMgdG8gVmVjdG9yMi5SZWFkb25seVZlY3RvcjJcbiAqIGNvbnN0IHJlYWRvbmx5UG9zaXRpb246IFZlY3RvcjIgPSBWZWN0b3IyLlplcm8oKVxuICogcmVhZG9ubHlQb3NpdGlvbi54ID0gMC4xIC8vIHRoaXMgRkFJTFNcbiAqXG4gKiAvLyBGb3IgbXV0YWJsZSB1c2FnZSwgdXNlIGBWZWN0b3IyLk11dGFibGVgXG4gKiBjb25zdCBwb3NpdGlvbjogVmVjdG9yMi5NdXRhYmxlID0gVmVjdG9yMi5PbmUoKVxuICogcG9zaXRpb24ueCA9IDMuMCAvLyB0aGlzIFdPUktTXG4gKiBgYGBcbiAqL1xuZXhwb3J0IHZhciBWZWN0b3IyO1xuKGZ1bmN0aW9uIChWZWN0b3IyKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBWZWN0b3IyIG9iamVjdCBmcm9tIHRoZSBnaXZlbiB4LCB5IChmbG9hdHMpIGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgZmlyc3QgY29vcmRpbmF0ZXMgKG9uIFggYXhpcylcbiAgICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIHNlY29uZCBjb29yZGluYXRlcyAob24gWSBheGlzKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSBmaXJzdCBjb29yZGluYXRlcyAob24gWCBheGlzKVxuICAgICAqL1xuICAgIHggPSAwLCBcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSBzZWNvbmQgY29vcmRpbmF0ZXMgKG9uIFkgYXhpcylcbiAgICAgKi9cbiAgICB5ID0gMCkge1xuICAgICAgICByZXR1cm4geyB4LCB5IH07XG4gICAgfVxuICAgIFZlY3RvcjIuY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMiBzZXQgdG8gKDAuMCwgMC4wKVxuICAgICAqIEByZXR1cm5zIGEgbmV3IGVtcHR5IFZlY3RvcjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBaZXJvKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAuMCwgMC4wKTtcbiAgICB9XG4gICAgVmVjdG9yMi5aZXJvID0gWmVybztcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjIgc2V0IHRvICgxLjAsIDEuMClcbiAgICAgKiBAcmV0dXJucyBhIG5ldyB1bml0IFZlY3RvcjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBPbmUoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMS4wLCAxLjApO1xuICAgIH1cbiAgICBWZWN0b3IyLk9uZSA9IE9uZTtcbn0pKFZlY3RvcjIgfHwgKFZlY3RvcjIgPSB7fSkpO1xuIiwgImltcG9ydCB7IFNjYWxhciB9IGZyb20gJy4vU2NhbGFyJztcbmltcG9ydCB7IFRvTGluZWFyU3BhY2UsIFRvR2FtbWFTcGFjZSB9IGZyb20gJy4vdHlwZXMnO1xuLyoqXG4gKiBAcHVibGljXG4gKiBDb2xvcjQgaXMgYSB0eXBlIGFuZCBhIG5hbWVzcGFjZS5cbiAqIGBgYFxuICogLy8gVGhlIG5hbWVzcGFjZSBjb250YWlucyBhbGwgdHlwZXMgYW5kIGZ1bmN0aW9ucyB0byBvcGVyYXRlcyB3aXRoIENvbG9yNFxuICogQ29sb3I0LmFkZChibHVlLCByZWQpIC8vIHN1bSBjb21wb25lbnQgYnkgY29tcG9uZW50IHJlc3VsdGluZyBwaW5rXG4gKiAvLyBUaGUgdHlwZSBDb2xvcjQgaXMgYW4gYWxpYXMgdG8gQ29sb3I0LlJlYWRvbmx5Q29sb3I0XG4gKiBjb25zdCByZWFkb25seUJsdWU6IENvbG9yNCA9IENvbG9yNC5CbHVlKClcbiAqIHJlYWRvbmx5Qmx1ZS5hID0gMC4xIC8vIHRoaXMgRkFJTFNcbiAqXG4gKiAvLyBGb3IgbXV0YWJsZSB1c2FnZSwgdXNlIGBDb2xvcjQuTXV0YWJsZWBcbiAqIGNvbnN0IGJsdWU6IENvbG9yNC5NdXRhYmxlID0gQ29sb3I0LkJsdWUoKVxuICogYmx1ZS5hID0gMC4xIC8vIHRoaXMgV09SS1NcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIENvbG9yNDtcbihmdW5jdGlvbiAoQ29sb3I0KSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBjcmVhdGUgbXV0YWJsZSBDb2xvcjQgZnJvbSByZWQsIGdyZWVuLCBibHVlIHZhbHVlcywgYWxsIGJldHdlZW4gMCBhbmQgMVxuICAgICAqIEBwYXJhbSByIC0gZGVmaW5lcyB0aGUgcmVkIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDApXG4gICAgICogQHBhcmFtIGcgLSBkZWZpbmVzIHRoZSBncmVlbiBjb21wb25lbnQgKGJldHdlZW4gMCBhbmQgMSwgZGVmYXVsdCBpcyAwKVxuICAgICAqIEBwYXJhbSBiIC0gZGVmaW5lcyB0aGUgYmx1ZSBjb21wb25lbnQgKGJldHdlZW4gMCBhbmQgMSwgZGVmYXVsdCBpcyAwKVxuICAgICAqIEBwYXJhbSBhIC0gZGVmaW5lcyB0aGUgYWxwaGEgY29tcG9uZW50IChiZXR3ZWVuIDAgYW5kIDEsIGRlZmF1bHQgaXMgMSlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUoXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgcmVkIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDApXG4gICAgICovXG4gICAgciA9IDAsIFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIGdyZWVuIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDApXG4gICAgICovXG4gICAgZyA9IDAsIFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIGJsdWUgY29tcG9uZW50IChiZXR3ZWVuIDAgYW5kIDEsIGRlZmF1bHQgaXMgMClcbiAgICAgKi9cbiAgICBiID0gMCwgXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgYWxwaGEgY29tcG9uZW50IChiZXR3ZWVuIDAgYW5kIDEsIGRlZmF1bHQgaXMgMSlcbiAgICAgKi9cbiAgICBhID0gMSkge1xuICAgICAgICByZXR1cm4geyByLCBnLCBiLCBhIH07XG4gICAgfVxuICAgIENvbG9yNC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLy8gU3RhdGljc1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDb2xvcjQgZnJvbSB0aGUgc3RyaW5nIGNvbnRhaW5pbmcgdmFsaWQgaGV4YWRlY2ltYWwgdmFsdWVzXG4gICAgICogQHBhcmFtIGhleCAtIGRlZmluZXMgYSBzdHJpbmcgY29udGFpbmluZyB2YWxpZCBoZXhhZGVjaW1hbCB2YWx1ZXNcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tSGV4U3RyaW5nKGhleCkge1xuICAgICAgICBpZiAoaGV4LnN1YnN0cmluZygwLCAxKSAhPT0gJyMnIHx8IChoZXgubGVuZ3RoICE9PSA3ICYmIGhleC5sZW5ndGggIT09IDkpKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlKDAuMCwgMC4wLCAwLjAsIDEuMCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgciA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoMSwgMyksIDE2KTtcbiAgICAgICAgY29uc3QgZyA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoMywgNSksIDE2KTtcbiAgICAgICAgY29uc3QgYiA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoNSwgNyksIDE2KTtcbiAgICAgICAgY29uc3QgYVN0ciA9IGhleC5zdWJzdHJpbmcoNywgOSk7XG4gICAgICAgIGNvbnN0IGEgPSBhU3RyID8gcGFyc2VJbnQoYVN0ciwgMTYpIDogMjU1O1xuICAgICAgICByZXR1cm4gQ29sb3I0LmZyb21JbnRzKHIsIGcsIGIsIGEpO1xuICAgIH1cbiAgICBDb2xvcjQuZnJvbUhleFN0cmluZyA9IGZyb21IZXhTdHJpbmc7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBjcmVhdGUgbXV0YWJsZSBDb2xvcjQgIHNldCB3aXRoIHRoZSBsaW5lYXJseSBpbnRlcnBvbGF0ZWQgdmFsdWVzIG9mIFwiYW1vdW50XCIgYmV0d2VlbiB0aGUgbGVmdCBDb2xvcjQgb2JqZWN0IGFuZCB0aGUgcmlnaHQgQ29sb3I0IG9iamVjdFxuICAgICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyB0aGUgc3RhcnQgdmFsdWVcbiAgICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSBlbmQgdmFsdWVcbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gZGVmaW5lcyB0aGUgZ3JhZGllbnQgZmFjdG9yXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gbGVycChsZWZ0LCByaWdodCwgYW1vdW50KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgwLjAsIDAuMCwgMC4wLCAwLjApO1xuICAgICAgICBDb2xvcjQubGVycFRvUmVmKGxlZnQsIHJpZ2h0LCBhbW91bnQsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIENvbG9yNC5sZXJwID0gbGVycDtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGdpdmVuIFwicmVzdWx0XCIgd2l0aCB0aGUgbGluZWFybHkgaW50ZXJwb2xhdGVkIHZhbHVlcyBvZiBcImFtb3VudFwiIGJldHdlZW4gdGhlIGxlZnQgQ29sb3I0IG9iamVjdCBhbmQgdGhlIHJpZ2h0IENvbG9yNCBvYmplY3RcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIHN0YXJ0IHZhbHVlXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgZW5kIHZhbHVlXG4gICAgICogQHBhcmFtIGFtb3VudCAtIGRlZmluZXMgdGhlIGdyYWRpZW50IGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBDb2xvcjQgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIGRhdGFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsZXJwVG9SZWYobGVmdCwgcmlnaHQsIGFtb3VudCwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5yID0gbGVmdC5yICsgKHJpZ2h0LnIgLSBsZWZ0LnIpICogYW1vdW50O1xuICAgICAgICByZXN1bHQuZyA9IGxlZnQuZyArIChyaWdodC5nIC0gbGVmdC5nKSAqIGFtb3VudDtcbiAgICAgICAgcmVzdWx0LmIgPSBsZWZ0LmIgKyAocmlnaHQuYiAtIGxlZnQuYikgKiBhbW91bnQ7XG4gICAgICAgIHJlc3VsdC5hID0gbGVmdC5hICsgKHJpZ2h0LmEgLSBsZWZ0LmEpICogYW1vdW50O1xuICAgIH1cbiAgICBDb2xvcjQubGVycFRvUmVmID0gbGVycFRvUmVmO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIHJlZCBjb2xvclxuICAgICAqIEByZXR1cm5zIGEgbmV3IENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlZCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgxLjAsIDAsIDAsIDEuMCk7XG4gICAgfVxuICAgIENvbG9yNC5SZWQgPSBSZWQ7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yNCB2YWx1ZSBjb250YWluaW5nIGEgZ3JlZW4gY29sb3JcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHcmVlbigpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLCAxLjAsIDAsIDEuMCk7XG4gICAgfVxuICAgIENvbG9yNC5HcmVlbiA9IEdyZWVuO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIGJsdWUgY29sb3JcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCbHVlKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAsIDAsIDEuMCwgMS4wKTtcbiAgICB9XG4gICAgQ29sb3I0LkJsdWUgPSBCbHVlO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIGJsYWNrIGNvbG9yXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gQmxhY2soKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMCwgMCwgMCwgMSk7XG4gICAgfVxuICAgIENvbG9yNC5CbGFjayA9IEJsYWNrO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIHdoaXRlIGNvbG9yXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gV2hpdGUoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMSwgMSwgMSwgMSk7XG4gICAgfVxuICAgIENvbG9yNC5XaGl0ZSA9IFdoaXRlO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIHB1cnBsZSBjb2xvclxuICAgICAqIEByZXR1cm5zIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFB1cnBsZSgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLjUsIDAsIDAuNSwgMSk7XG4gICAgfVxuICAgIENvbG9yNC5QdXJwbGUgPSBQdXJwbGU7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yNCB2YWx1ZSBjb250YWluaW5nIGEgbWFnZW50YSBjb2xvclxuICAgICAqIEByZXR1cm5zIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hZ2VudGEoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMSwgMCwgMSwgMSk7XG4gICAgfVxuICAgIENvbG9yNC5NYWdlbnRhID0gTWFnZW50YTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3I0IHZhbHVlIGNvbnRhaW5pbmcgYSB5ZWxsb3cgY29sb3JcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBZZWxsb3coKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMSwgMSwgMCwgMSk7XG4gICAgfVxuICAgIENvbG9yNC5ZZWxsb3cgPSBZZWxsb3c7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yNCB2YWx1ZSBjb250YWluaW5nIGEgZ3JheSBjb2xvclxuICAgICAqIEByZXR1cm5zIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdyYXkoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMC41LCAwLjUsIDAuNSwgMS4wKTtcbiAgICB9XG4gICAgQ29sb3I0LkdyYXkgPSBHcmF5O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIHRlYWwgY29sb3JcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZWFsKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAsIDEuMCwgMS4wLCAxLjApO1xuICAgIH1cbiAgICBDb2xvcjQuVGVhbCA9IFRlYWw7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yNCB2YWx1ZSBjb250YWluaW5nIGEgdHJhbnNwYXJlbnQgY29sb3JcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDbGVhcigpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLCAwLCAwLCAwKTtcbiAgICB9XG4gICAgQ29sb3I0LkNsZWFyID0gQ2xlYXI7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENvbG9yNCBmcm9tIGEgQ29sb3IzIGFuZCBhbiBhbHBoYSB2YWx1ZVxuICAgICAqIEBwYXJhbSBjb2xvcjMgLSBkZWZpbmVzIHRoZSBzb3VyY2UgQ29sb3IzIHRvIHJlYWQgZnJvbVxuICAgICAqIEBwYXJhbSBhbHBoYSAtIGRlZmluZXMgdGhlIGFscGhhIGNvbXBvbmVudCAoMS4wIGJ5IGRlZmF1bHQpXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUNvbG9yMyhjb2xvcjMsIGFscGhhID0gMS4wKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoY29sb3IzLnIsIGNvbG9yMy5nLCBjb2xvcjMuYiwgYWxwaGEpO1xuICAgIH1cbiAgICBDb2xvcjQuZnJvbUNvbG9yMyA9IGZyb21Db2xvcjM7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENvbG9yNCBmcm9tIHRoZSBzdGFydGluZyBpbmRleCBlbGVtZW50IG9mIHRoZSBnaXZlbiBhcnJheVxuICAgICAqIEBwYXJhbSBhcnJheSAtIGRlZmluZXMgdGhlIHNvdXJjZSBhcnJheSB0byByZWFkIGZyb21cbiAgICAgKiBAcGFyYW0gb2Zmc2V0IC0gZGVmaW5lcyB0aGUgb2Zmc2V0IGluIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tQXJyYXkoYXJyYXksIG9mZnNldCA9IDApIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZShhcnJheVtvZmZzZXRdLCBhcnJheVtvZmZzZXQgKyAxXSwgYXJyYXlbb2Zmc2V0ICsgMl0sIGFycmF5W29mZnNldCArIDNdKTtcbiAgICB9XG4gICAgQ29sb3I0LmZyb21BcnJheSA9IGZyb21BcnJheTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IENvbG9yMyBmcm9tIGludGVnZXIgdmFsdWVzIChsZXNzIHRoYW4gMjU2KVxuICAgICAqIEBwYXJhbSByIC0gZGVmaW5lcyB0aGUgcmVkIGNvbXBvbmVudCB0byByZWFkIGZyb20gKHZhbHVlIGJldHdlZW4gMCBhbmQgMjU1KVxuICAgICAqIEBwYXJhbSBnIC0gZGVmaW5lcyB0aGUgZ3JlZW4gY29tcG9uZW50IHRvIHJlYWQgZnJvbSAodmFsdWUgYmV0d2VlbiAwIGFuZCAyNTUpXG4gICAgICogQHBhcmFtIGIgLSBkZWZpbmVzIHRoZSBibHVlIGNvbXBvbmVudCB0byByZWFkIGZyb20gKHZhbHVlIGJldHdlZW4gMCBhbmQgMjU1KVxuICAgICAqIEBwYXJhbSBhIC0gZGVmaW5lcyB0aGUgYWxwaGEgY29tcG9uZW50IHRvIHJlYWQgZnJvbSAodmFsdWUgYmV0d2VlbiAwIGFuZCAyNTUpXG4gICAgICogQHJldHVybnMgYSBuZXcgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUludHMociwgZywgYiwgYSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKHIgLyAyNTUuMCwgZyAvIDI1NS4wLCBiIC8gMjU1LjAsIGEgLyAyNTUuMCk7XG4gICAgfVxuICAgIENvbG9yNC5mcm9tSW50cyA9IGZyb21JbnRzO1xuICAgIC8qKlxuICAgICAqIENoZWNrIHRoZSBjb250ZW50IG9mIGEgZ2l2ZW4gYXJyYXkgYW5kIGNvbnZlcnQgaXQgdG8gYW4gYXJyYXkgY29udGFpbmluZyBSR0JBIGRhdGFcbiAgICAgKiBJZiB0aGUgb3JpZ2luYWwgYXJyYXkgd2FzIGFscmVhZHkgY29udGFpbmluZyBjb3VudCAqIDQgdmFsdWVzIHRoZW4gaXQgaXMgcmV0dXJuZWQgZGlyZWN0bHlcbiAgICAgKiBAcGFyYW0gY29sb3JzIC0gZGVmaW5lcyB0aGUgYXJyYXkgdG8gY2hlY2tcbiAgICAgKiBAcGFyYW0gY291bnQgLSBkZWZpbmVzIHRoZSBudW1iZXIgb2YgUkdCQSBkYXRhIHRvIGV4cGVjdFxuICAgICAqIEByZXR1cm5zIGFuIGFycmF5IGNvbnRhaW5pbmcgY291bnQgKiA0IHZhbHVlcyAoUkdCQSlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaGVja0NvbG9yczQoY29sb3JzLCBjb3VudCkge1xuICAgICAgICAvLyBDaGVjayBpZiBjb2xvcjMgd2FzIHVzZWRcbiAgICAgICAgaWYgKGNvbG9ycy5sZW5ndGggPT09IGNvdW50ICogMykge1xuICAgICAgICAgICAgY29uc3QgY29sb3JzNCA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGNvbG9ycy5sZW5ndGg7IGluZGV4ICs9IDMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdJbmRleCA9IChpbmRleCAvIDMpICogNDtcbiAgICAgICAgICAgICAgICBjb2xvcnM0W25ld0luZGV4XSA9IGNvbG9yc1tpbmRleF07XG4gICAgICAgICAgICAgICAgY29sb3JzNFtuZXdJbmRleCArIDFdID0gY29sb3JzW2luZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgY29sb3JzNFtuZXdJbmRleCArIDJdID0gY29sb3JzW2luZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgY29sb3JzNFtuZXdJbmRleCArIDNdID0gMS4wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbG9yczQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbG9ycztcbiAgICB9XG4gICAgQ29sb3I0LmNoZWNrQ29sb3JzNCA9IGNoZWNrQ29sb3JzNDtcbiAgICAvLyBPcGVyYXRvcnNcbiAgICAvKipcbiAgICAgKiBBZGRzICB0aGUgZ2l2ZW4gQ29sb3I0IHZhbHVlcyB0byB0aGUgcmVmIENvbG9yNCBvYmplY3RcbiAgICAgKiBAcGFyYW0gYSAtIGRlZmluZXMgdGhlIGZpcnN0IG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gYiAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJlZiAtIGRlZmluZXMgdGhlIHJlc3VsdCByZmVyZW5jZVxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkVG9SZWYoYSwgYiwgcmVmKSB7XG4gICAgICAgIHJlZi5yID0gYS5yICsgYi5yO1xuICAgICAgICByZWYuZyA9IGEuZyArIGIuZztcbiAgICAgICAgcmVmLmIgPSBhLmIgKyBiLmI7XG4gICAgICAgIHJlZi5hID0gYS5hICsgYi5hO1xuICAgIH1cbiAgICBDb2xvcjQuYWRkVG9SZWYgPSBhZGRUb1JlZjtcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgZnJvbSB0aGUgc3RhcnRpbmcgaW5kZXggaW4gdGhlIGdpdmVuIGFycmF5IHRoZSBDb2xvcjQgc3VjY2Vzc2l2ZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gYXJyYXkgLSBkZWZpbmVzIHRoZSBhcnJheSB3aGVyZSB0byBzdG9yZSB0aGUgcixnLGIgY29tcG9uZW50c1xuICAgICAqIEBwYXJhbSBpbmRleCAtIGRlZmluZXMgYW4gb3B0aW9uYWwgaW5kZXggaW4gdGhlIHRhcmdldCBhcnJheSB0byBkZWZpbmUgd2hlcmUgdG8gc3RhcnQgc3RvcmluZyB2YWx1ZXNcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBDb2xvcjQgb2JqZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSwgYXJyYXksIGluZGV4ID0gMCkge1xuICAgICAgICBhcnJheVtpbmRleF0gPSB2YWx1ZS5yO1xuICAgICAgICBhcnJheVtpbmRleCArIDFdID0gdmFsdWUuZztcbiAgICAgICAgYXJyYXlbaW5kZXggKyAyXSA9IHZhbHVlLmI7XG4gICAgICAgIGFycmF5W2luZGV4ICsgM10gPSB2YWx1ZS5hO1xuICAgIH1cbiAgICBDb2xvcjQudG9BcnJheSA9IHRvQXJyYXk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENvbG9yNCBzZXQgd2l0aCB0aGUgYWRkZWQgdmFsdWVzIG9mIHRoZSBjdXJyZW50IENvbG9yNCBhbmQgb2YgdGhlIGdpdmVuIG9uZVxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkKHZhbHVlLCByaWdodCkge1xuICAgICAgICBjb25zdCByZXQgPSBDbGVhcigpO1xuICAgICAgICBhZGRUb1JlZih2YWx1ZSwgcmlnaHQsIHJldCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIENvbG9yNC5hZGQgPSBhZGQ7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENvbG9yNCBzZXQgd2l0aCB0aGUgc3VidHJhY3RlZCB2YWx1ZXMgb2YgdGhlIGdpdmVuIG9uZSBmcm9tIHRoZSBjdXJyZW50IENvbG9yNFxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VidHJhY3QodmFsdWUsIHJpZ2h0KSB7XG4gICAgICAgIGNvbnN0IHJldCA9IENsZWFyKCk7XG4gICAgICAgIHN1YnRyYWN0VG9SZWYodmFsdWUsIHJpZ2h0LCByZXQpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICBDb2xvcjQuc3VidHJhY3QgPSBzdWJ0cmFjdDtcbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdHMgdGhlIGdpdmVuIG9uZXMgZnJvbSB0aGUgY3VycmVudCBDb2xvcjQgdmFsdWVzIGFuZCBzdG9yZXMgdGhlIHJlc3VsdHMgaW4gXCJyZXN1bHRcIlxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIENvbG9yNCBvYmplY3Qgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IENvbG9yNCBvYmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdWJ0cmFjdFRvUmVmKGEsIGIsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQuciA9IGEuciAtIGIucjtcbiAgICAgICAgcmVzdWx0LmcgPSBhLmcgLSBiLmc7XG4gICAgICAgIHJlc3VsdC5iID0gYS5iIC0gYi5iO1xuICAgICAgICByZXN1bHQuYSA9IGEuYSAtIGIuYTtcbiAgICB9XG4gICAgQ29sb3I0LnN1YnRyYWN0VG9SZWYgPSBzdWJ0cmFjdFRvUmVmO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDb2xvcjQgd2l0aCB0aGUgY3VycmVudCBDb2xvcjQgdmFsdWVzIG11bHRpcGxpZWQgYnkgc2NhbGVcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsaW5nIGZhY3RvciB0byBhcHBseVxuICAgICAqIEByZXR1cm5zIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlKHZhbHVlLCBzY2FsZSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKHZhbHVlLnIgKiBzY2FsZSwgdmFsdWUuZyAqIHNjYWxlLCB2YWx1ZS5iICogc2NhbGUsIHZhbHVlLmEgKiBzY2FsZSk7XG4gICAgfVxuICAgIENvbG9yNC5zY2FsZSA9IHNjYWxlO1xuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdGhlIGN1cnJlbnQgQ29sb3I0IHZhbHVlcyBieSBzY2FsZSBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW4gXCJyZXN1bHRcIlxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxpbmcgZmFjdG9yIHRvIGFwcGx5XG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIENvbG9yNCBvYmplY3Qgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlVG9SZWYodmFsdWUsIHNjYWxlLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnIgPSB2YWx1ZS5yICogc2NhbGU7XG4gICAgICAgIHJlc3VsdC5nID0gdmFsdWUuZyAqIHNjYWxlO1xuICAgICAgICByZXN1bHQuYiA9IHZhbHVlLmIgKiBzY2FsZTtcbiAgICAgICAgcmVzdWx0LmEgPSB2YWx1ZS5hICogc2NhbGU7XG4gICAgfVxuICAgIENvbG9yNC5zY2FsZVRvUmVmID0gc2NhbGVUb1JlZjtcbiAgICAvKipcbiAgICAgKiBTY2FsZSB0aGUgY3VycmVudCBDb2xvcjQgdmFsdWVzIGJ5IGEgZmFjdG9yIGFuZCBhZGQgdGhlIHJlc3VsdCB0byBhIGdpdmVuIENvbG9yNFxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBDb2xvcjQgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzY2FsZUFuZEFkZFRvUmVmKHZhbHVlLCBzY2FsZSwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5yICs9IHZhbHVlLnIgKiBzY2FsZTtcbiAgICAgICAgcmVzdWx0LmcgKz0gdmFsdWUuZyAqIHNjYWxlO1xuICAgICAgICByZXN1bHQuYiArPSB2YWx1ZS5iICogc2NhbGU7XG4gICAgICAgIHJlc3VsdC5hICs9IHZhbHVlLmEgKiBzY2FsZTtcbiAgICB9XG4gICAgQ29sb3I0LnNjYWxlQW5kQWRkVG9SZWYgPSBzY2FsZUFuZEFkZFRvUmVmO1xuICAgIC8qKlxuICAgICAqIENsYW1wcyB0aGUgcmdiIHZhbHVlcyBieSB0aGUgbWluIGFuZCBtYXggdmFsdWVzIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbnRvIFwicmVzdWx0XCJcbiAgICAgKiBAcGFyYW0gbWluIC0gZGVmaW5lcyBtaW5pbXVtIGNsYW1waW5nIHZhbHVlIChkZWZhdWx0IGlzIDApXG4gICAgICogQHBhcmFtIG1heCAtIGRlZmluZXMgbWF4aW11bSBjbGFtcGluZyB2YWx1ZSAoZGVmYXVsdCBpcyAxKVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIGNvbG9yIHRvIHN0b3JlIHRoZSByZXN1bHQgaW50by5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbGFtcFRvUmVmKHZhbHVlLCBtaW4gPSAwLCBtYXggPSAxLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnIgPSBTY2FsYXIuY2xhbXAodmFsdWUuciwgbWluLCBtYXgpO1xuICAgICAgICByZXN1bHQuZyA9IFNjYWxhci5jbGFtcCh2YWx1ZS5nLCBtaW4sIG1heCk7XG4gICAgICAgIHJlc3VsdC5iID0gU2NhbGFyLmNsYW1wKHZhbHVlLmIsIG1pbiwgbWF4KTtcbiAgICAgICAgcmVzdWx0LmEgPSBTY2FsYXIuY2xhbXAodmFsdWUuYSwgbWluLCBtYXgpO1xuICAgIH1cbiAgICBDb2xvcjQuY2xhbXBUb1JlZiA9IGNsYW1wVG9SZWY7XG4gICAgLyoqXG4gICAgICogTXVsdGlweSBhbiBDb2xvcjQgdmFsdWUgYnkgYW5vdGhlciBhbmQgcmV0dXJuIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqIEBwYXJhbSBjb2xvciAtIGRlZmluZXMgdGhlIENvbG9yNCB2YWx1ZSB0byBtdWx0aXBseSBieVxuICAgICAqIEByZXR1cm5zIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5KHZhbHVlLCBjb2xvcikge1xuICAgICAgICByZXR1cm4gY3JlYXRlKHZhbHVlLnIgKiBjb2xvci5yLCB2YWx1ZS5nICogY29sb3IuZywgdmFsdWUuYiAqIGNvbG9yLmIsIHZhbHVlLmEgKiBjb2xvci5hKTtcbiAgICB9XG4gICAgQ29sb3I0Lm11bHRpcGx5ID0gbXVsdGlwbHk7XG4gICAgLyoqXG4gICAgICogTXVsdGlweSBhIENvbG9yNCB2YWx1ZSBieSBhbm90aGVyIGFuZCBwdXNoIHRoZSByZXN1bHQgaW4gYSByZWZlcmVuY2UgdmFsdWVcbiAgICAgKiBAcGFyYW0gY29sb3IgLSBkZWZpbmVzIHRoZSBDb2xvcjQgdmFsdWUgdG8gbXVsdGlwbHkgYnlcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgQ29sb3I0IHRvIGZpbGwgdGhlIHJlc3VsdCBpblxuICAgICAqIEByZXR1cm5zIHRoZSByZXN1bHQgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHlUb1JlZih2YWx1ZSwgY29sb3IsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQuciA9IHZhbHVlLnIgKiBjb2xvci5yO1xuICAgICAgICByZXN1bHQuZyA9IHZhbHVlLmcgKiBjb2xvci5nO1xuICAgICAgICByZXN1bHQuYiA9IHZhbHVlLmIgKiBjb2xvci5iO1xuICAgICAgICByZXN1bHQuYSA9IHZhbHVlLmEgKiBjb2xvci5hO1xuICAgIH1cbiAgICBDb2xvcjQubXVsdGlwbHlUb1JlZiA9IG11bHRpcGx5VG9SZWY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHN0cmluZyB3aXRoIHRoZSBDb2xvcjQgY3VycmVudCB2YWx1ZXNcbiAgICAgKiBAcmV0dXJucyB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBDb2xvcjQgb2JqZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICgne1I6ICcgK1xuICAgICAgICAgICAgdmFsdWUuciArXG4gICAgICAgICAgICAnIEc6JyArXG4gICAgICAgICAgICB2YWx1ZS5nICtcbiAgICAgICAgICAgICcgQjonICtcbiAgICAgICAgICAgIHZhbHVlLmIgK1xuICAgICAgICAgICAgJyBBOicgK1xuICAgICAgICAgICAgdmFsdWUuYSArXG4gICAgICAgICAgICAnfScpO1xuICAgIH1cbiAgICBDb2xvcjQudG9TdHJpbmcgPSB0b1N0cmluZztcbiAgICAvKipcbiAgICAgKiBDb21wdXRlIHRoZSBDb2xvcjQgaGFzaCBjb2RlXG4gICAgICogQHJldHVybnMgYW4gdW5pcXVlIG51bWJlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGhhc2ggQ29sb3I0IG9iamVjdHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRIYXNoQ29kZSh2YWx1ZSkge1xuICAgICAgICBsZXQgaGFzaCA9IHZhbHVlLnIgfHwgMDtcbiAgICAgICAgaGFzaCA9IChoYXNoICogMzk3KSBeICh2YWx1ZS5nIHx8IDApO1xuICAgICAgICBoYXNoID0gKGhhc2ggKiAzOTcpIF4gKHZhbHVlLmIgfHwgMCk7XG4gICAgICAgIGhhc2ggPSAoaGFzaCAqIDM5NykgXiAodmFsdWUuYSB8fCAwKTtcbiAgICAgICAgcmV0dXJuIGhhc2g7XG4gICAgfVxuICAgIENvbG9yNC5nZXRIYXNoQ29kZSA9IGdldEhhc2hDb2RlO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDb2xvcjQgY29waWVkIGZyb20gdGhlIGN1cnJlbnQgb25lXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSh2YWx1ZS5yLCB2YWx1ZS5nLCB2YWx1ZS5iLCB2YWx1ZS5hKTtcbiAgICB9XG4gICAgQ29sb3I0LmNsb25lID0gY2xvbmU7XG4gICAgLyoqXG4gICAgICogQ29waWVzIHRoZSBnaXZlbiBDb2xvcjQgdmFsdWVzIGludG8gdGhlIGRlc3RpbmF0aW9uXG4gICAgICogQHBhcmFtIHNvdXJjZSAtIGRlZmluZXMgdGhlIHNvdXJjZSBDb2xvcjQgb2JqZWN0XG4gICAgICogQHBhcmFtIGRlc3QgLSBkZWZpbmVzIHRoZSBkZXN0aW5hdGlvbiBDb2xvcjQgb2JqZWN0XG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5RnJvbShzb3VyY2UsIGRlc3QpIHtcbiAgICAgICAgZGVzdC5yID0gc291cmNlLnI7XG4gICAgICAgIGRlc3QuZyA9IHNvdXJjZS5nO1xuICAgICAgICBkZXN0LmIgPSBzb3VyY2UuYjtcbiAgICAgICAgZGVzdC5hID0gc291cmNlLmE7XG4gICAgfVxuICAgIENvbG9yNC5jb3B5RnJvbSA9IGNvcHlGcm9tO1xuICAgIC8qKlxuICAgICAqIENvcGllcyB0aGUgZ2l2ZW4gZmxvYXQgdmFsdWVzIGludG8gdGhlIGN1cnJlbnQgb25lXG4gICAgICogQHBhcmFtIHIgLSBkZWZpbmVzIHRoZSByZWQgY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgICAqIEBwYXJhbSBnIC0gZGVmaW5lcyB0aGUgZ3JlZW4gY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgICAqIEBwYXJhbSBiIC0gZGVmaW5lcyB0aGUgYmx1ZSBjb21wb25lbnQgdG8gcmVhZCBmcm9tXG4gICAgICogQHBhcmFtIGEgLSBkZWZpbmVzIHRoZSBhbHBoYSBjb21wb25lbnQgdG8gcmVhZCBmcm9tXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBDb2xvcjQgb2JqZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weUZyb21GbG9hdHMociwgZywgYiwgYSwgZGVzdCkge1xuICAgICAgICBkZXN0LnIgPSByO1xuICAgICAgICBkZXN0LmcgPSBnO1xuICAgICAgICBkZXN0LmIgPSBiO1xuICAgICAgICBkZXN0LmEgPSBhO1xuICAgIH1cbiAgICBDb2xvcjQuY29weUZyb21GbG9hdHMgPSBjb3B5RnJvbUZsb2F0cztcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhlIGdpdmVuIGZsb2F0IHZhbHVlcyBpbnRvIHRoZSBjdXJyZW50IG9uZVxuICAgICAqIEBwYXJhbSByIC0gZGVmaW5lcyB0aGUgcmVkIGNvbXBvbmVudCB0byByZWFkIGZyb21cbiAgICAgKiBAcGFyYW0gZyAtIGRlZmluZXMgdGhlIGdyZWVuIGNvbXBvbmVudCB0byByZWFkIGZyb21cbiAgICAgKiBAcGFyYW0gYiAtIGRlZmluZXMgdGhlIGJsdWUgY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgICAqIEBwYXJhbSBhIC0gZGVmaW5lcyB0aGUgYWxwaGEgY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgQ29sb3I0IG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldChyLCBnLCBiLCBhLCBkZXN0KSB7XG4gICAgICAgIGRlc3QuciA9IHI7XG4gICAgICAgIGRlc3QuZyA9IGc7XG4gICAgICAgIGRlc3QuYiA9IGI7XG4gICAgICAgIGRlc3QuYSA9IGE7XG4gICAgfVxuICAgIENvbG9yNC5zZXQgPSBzZXQ7XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSB0aGUgQ29sb3I0IGhleGFkZWNpbWFsIGNvZGUgYXMgYSBzdHJpbmdcbiAgICAgKiBAcmV0dXJucyBhIHN0cmluZyBjb250YWluaW5nIHRoZSBoZXhhZGVjaW1hbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgQ29sb3I0IG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvSGV4U3RyaW5nKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGludFIgPSAodmFsdWUuciAqIDI1NSkgfCAwO1xuICAgICAgICBjb25zdCBpbnRHID0gKHZhbHVlLmcgKiAyNTUpIHwgMDtcbiAgICAgICAgY29uc3QgaW50QiA9ICh2YWx1ZS5iICogMjU1KSB8IDA7XG4gICAgICAgIGNvbnN0IGludEEgPSAodmFsdWUuYSAqIDI1NSkgfCAwO1xuICAgICAgICByZXR1cm4gKCcjJyArXG4gICAgICAgICAgICBTY2FsYXIudG9IZXgoaW50UikgK1xuICAgICAgICAgICAgU2NhbGFyLnRvSGV4KGludEcpICtcbiAgICAgICAgICAgIFNjYWxhci50b0hleChpbnRCKSArXG4gICAgICAgICAgICBTY2FsYXIudG9IZXgoaW50QSkpO1xuICAgIH1cbiAgICBDb2xvcjQudG9IZXhTdHJpbmcgPSB0b0hleFN0cmluZztcbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBhIENvbG9yNCBjb252ZXJ0ZWQgZnJvbSB0aGUgY3VycmVudCBvbmUgdG8gbGluZWFyIHNwYWNlXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9MaW5lYXJTcGFjZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBjb252ZXJ0ZWRDb2xvciA9IGNyZWF0ZSgpO1xuICAgICAgICB0b0xpbmVhclNwYWNlVG9SZWYodmFsdWUsIGNvbnZlcnRlZENvbG9yKTtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnRlZENvbG9yO1xuICAgIH1cbiAgICBDb2xvcjQudG9MaW5lYXJTcGFjZSA9IHRvTGluZWFyU3BhY2U7XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIENvbG9yNCB2YWx1ZXMgdG8gbGluZWFyIHNwYWNlIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbiBcImNvbnZlcnRlZENvbG9yXCJcbiAgICAgKiBAcGFyYW0gY29udmVydGVkQ29sb3IgLSBkZWZpbmVzIHRoZSBDb2xvcjQgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSBsaW5lYXIgc3BhY2UgdmVyc2lvblxuICAgICAqIEByZXR1cm5zIHRoZSB1bm1vZGlmaWVkIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTGluZWFyU3BhY2VUb1JlZih2YWx1ZSwgcmVmKSB7XG4gICAgICAgIHJlZi5yID0gTWF0aC5wb3codmFsdWUuciwgVG9MaW5lYXJTcGFjZSk7XG4gICAgICAgIHJlZi5nID0gTWF0aC5wb3codmFsdWUuZywgVG9MaW5lYXJTcGFjZSk7XG4gICAgICAgIHJlZi5iID0gTWF0aC5wb3codmFsdWUuYiwgVG9MaW5lYXJTcGFjZSk7XG4gICAgICAgIHJlZi5hID0gdmFsdWUuYTtcbiAgICB9XG4gICAgQ29sb3I0LnRvTGluZWFyU3BhY2VUb1JlZiA9IHRvTGluZWFyU3BhY2VUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBhIENvbG9yNCBjb252ZXJ0ZWQgZnJvbSB0aGUgY3VycmVudCBvbmUgdG8gZ2FtbWEgc3BhY2VcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0dhbW1hU3BhY2UodmFsdWUpIHtcbiAgICAgICAgY29uc3QgY29udmVydGVkQ29sb3IgPSBjcmVhdGUoKTtcbiAgICAgICAgdG9HYW1tYVNwYWNlVG9SZWYodmFsdWUsIGNvbnZlcnRlZENvbG9yKTtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnRlZENvbG9yO1xuICAgIH1cbiAgICBDb2xvcjQudG9HYW1tYVNwYWNlID0gdG9HYW1tYVNwYWNlO1xuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBDb2xvcjQgdmFsdWVzIHRvIGdhbW1hIHNwYWNlIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbiBcImNvbnZlcnRlZENvbG9yXCJcbiAgICAgKiBAcGFyYW0gY29udmVydGVkQ29sb3IgLSBkZWZpbmVzIHRoZSBDb2xvcjQgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSBnYW1tYSBzcGFjZSB2ZXJzaW9uXG4gICAgICogQHJldHVybnMgdGhlIHVubW9kaWZpZWQgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9HYW1tYVNwYWNlVG9SZWYodmFsdWUsIGNvbnZlcnRlZENvbG9yKSB7XG4gICAgICAgIGNvbnZlcnRlZENvbG9yLnIgPSBNYXRoLnBvdyh2YWx1ZS5yLCBUb0dhbW1hU3BhY2UpO1xuICAgICAgICBjb252ZXJ0ZWRDb2xvci5nID0gTWF0aC5wb3codmFsdWUuZywgVG9HYW1tYVNwYWNlKTtcbiAgICAgICAgY29udmVydGVkQ29sb3IuYiA9IE1hdGgucG93KHZhbHVlLmIsIFRvR2FtbWFTcGFjZSk7XG4gICAgICAgIGNvbnZlcnRlZENvbG9yLmEgPSB2YWx1ZS5hO1xuICAgIH1cbiAgICBDb2xvcjQudG9HYW1tYVNwYWNlVG9SZWYgPSB0b0dhbW1hU3BhY2VUb1JlZjtcbn0pKENvbG9yNCB8fCAoQ29sb3I0ID0ge30pKTtcbiIsICJpbXBvcnQgeyBUb0xpbmVhclNwYWNlLCBUb0dhbW1hU3BhY2UgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IENvbG9yNCB9IGZyb20gJy4vQ29sb3I0JztcbmltcG9ydCB7IFNjYWxhciB9IGZyb20gJy4vU2NhbGFyJztcbi8qKlxuICogQHB1YmxpY1xuICogQ29sb3IzIGlzIGEgdHlwZSBhbmQgYSBuYW1lc3BhY2UuXG4gKiBgYGBcbiAqIC8vIFRoZSBuYW1lc3BhY2UgY29udGFpbnMgYWxsIHR5cGVzIGFuZCBmdW5jdGlvbnMgdG8gb3BlcmF0ZXMgd2l0aCBDb2xvcjNcbiAqIENvbG9yMy5hZGQoYmx1ZSwgcmVkKSAvLyBzdW0gY29tcG9uZW50IGJ5IGNvbXBvbmVudCByZXN1bHRpbmcgcGlua1xuICogLy8gVGhlIHR5cGUgQ29sb3IzIGlzIGFuIGFsaWFzIHRvIENvbG9yMy5SZWFkb25seUNvbG9yM1xuICogY29uc3QgcmVhZG9ubHlCbHVlOiBDb2xvcjMgPSBDb2xvcjMuQmx1ZSgpXG4gKiByZWFkb25seUJsdWUuciA9IDAuMSAvLyB0aGlzIEZBSUxTXG4gKlxuICogLy8gRm9yIG11dGFibGUgdXNhZ2UsIHVzZSBgQ29sb3IzLk11dGFibGVgXG4gKiBjb25zdCBibHVlOiBDb2xvcjMuTXV0YWJsZSA9IENvbG9yMy5CbHVlKClcbiAqIGJsdWUuciA9IDAuMSAvLyB0aGlzIFdPUktTXG4gKiBgYGBcbiAqL1xuZXhwb3J0IHZhciBDb2xvcjM7XG4oZnVuY3Rpb24gKENvbG9yMykge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgQ29sb3IzIG9iamVjdCBmcm9tIHJlZCwgZ3JlZW4sIGJsdWUgdmFsdWVzLCBhbGwgYmV0d2VlbiAwIGFuZCAxXG4gICAgICogQHBhcmFtIHIgLSBkZWZpbmVzIHRoZSByZWQgY29tcG9uZW50IChiZXR3ZWVuIDAgYW5kIDEsIGRlZmF1bHQgaXMgMClcbiAgICAgKiBAcGFyYW0gZyAtIGRlZmluZXMgdGhlIGdyZWVuIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDApXG4gICAgICogQHBhcmFtIGIgLSBkZWZpbmVzIHRoZSBibHVlIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDApXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIHJlZCBjb21wb25lbnQgKGJldHdlZW4gMCBhbmQgMSwgZGVmYXVsdCBpcyAwKVxuICAgICAqL1xuICAgIHIgPSAwLCBcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSBncmVlbiBjb21wb25lbnQgKGJldHdlZW4gMCBhbmQgMSwgZGVmYXVsdCBpcyAwKVxuICAgICAqL1xuICAgIGcgPSAwLCBcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSBibHVlIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDApXG4gICAgICovXG4gICAgYiA9IDApIHtcbiAgICAgICAgcmV0dXJuIHsgciwgZywgYiB9O1xuICAgIH1cbiAgICBDb2xvcjMuY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBWZWN0b3IzIGZyb20gdGhlIHN0cmluZyBjb250YWluaW5nIHZhbGlkIGhleGFkZWNpbWFsIHZhbHVlc1xuICAgICAqIEBwYXJhbSBoZXggLSBkZWZpbmVzIGEgc3RyaW5nIGNvbnRhaW5pbmcgdmFsaWQgaGV4YWRlY2ltYWwgdmFsdWVzXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21IZXhTdHJpbmcoaGV4KSB7XG4gICAgICAgIGlmIChoZXguc3Vic3RyaW5nKDAsIDEpICE9PSAnIycgfHwgaGV4Lmxlbmd0aCAhPT0gNykge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLCAwLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZygxLCAzKSwgMTYpO1xuICAgICAgICBjb25zdCBnID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZygzLCA1KSwgMTYpO1xuICAgICAgICBjb25zdCBiID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZyg1LCA3KSwgMTYpO1xuICAgICAgICByZXR1cm4gZnJvbUludHMociwgZywgYik7XG4gICAgfVxuICAgIENvbG9yMy5mcm9tSGV4U3RyaW5nID0gZnJvbUhleFN0cmluZztcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFZlY3RvcjMgZnJvbSB0aGUgc3RhcnRpbmcgaW5kZXggb2YgdGhlIGdpdmVuIGFycmF5XG4gICAgICogQHBhcmFtIGFycmF5IC0gZGVmaW5lcyB0aGUgc291cmNlIGFycmF5XG4gICAgICogQHBhcmFtIG9mZnNldCAtIGRlZmluZXMgYW4gb2Zmc2V0IGluIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUFycmF5KGFycmF5LCBvZmZzZXQgPSAwKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoYXJyYXlbb2Zmc2V0XSwgYXJyYXlbb2Zmc2V0ICsgMV0sIGFycmF5W29mZnNldCArIDJdKTtcbiAgICB9XG4gICAgQ29sb3IzLmZyb21BcnJheSA9IGZyb21BcnJheTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgVmVjdG9yMyBmcm9tIGludGVnZXIgdmFsdWVzIChsZXNzIHRoYW4gMjU2KVxuICAgICAqIEBwYXJhbSByIC0gZGVmaW5lcyB0aGUgcmVkIGNvbXBvbmVudCB0byByZWFkIGZyb20gKHZhbHVlIGJldHdlZW4gMCBhbmQgMjU1KVxuICAgICAqIEBwYXJhbSBnIC0gZGVmaW5lcyB0aGUgZ3JlZW4gY29tcG9uZW50IHRvIHJlYWQgZnJvbSAodmFsdWUgYmV0d2VlbiAwIGFuZCAyNTUpXG4gICAgICogQHBhcmFtIGIgLSBkZWZpbmVzIHRoZSBibHVlIGNvbXBvbmVudCB0byByZWFkIGZyb20gKHZhbHVlIGJldHdlZW4gMCBhbmQgMjU1KVxuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tSW50cyhyLCBnLCBiKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUociAvIDI1NS4wLCBnIC8gMjU1LjAsIGIgLyAyNTUuMCk7XG4gICAgfVxuICAgIENvbG9yMy5mcm9tSW50cyA9IGZyb21JbnRzO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBWZWN0b3IzIHdpdGggdmFsdWVzIGxpbmVhcmx5IGludGVycG9sYXRlZCBvZiBcImFtb3VudFwiIGJldHdlZW4gdGhlIHN0YXJ0IENvbG9yMyBhbmQgdGhlIGVuZCBDb2xvcjNcbiAgICAgKiBAcGFyYW0gc3RhcnQgLSBkZWZpbmVzIHRoZSBzdGFydCBDb2xvcjMgdmFsdWVcbiAgICAgKiBAcGFyYW0gZW5kIC0gZGVmaW5lcyB0aGUgZW5kIENvbG9yMyB2YWx1ZVxuICAgICAqIEBwYXJhbSBhbW91bnQgLSBkZWZpbmVzIHRoZSBncmFkaWVudCB2YWx1ZSBiZXR3ZWVuIHN0YXJ0IGFuZCBlbmRcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGVycChzdGFydCwgZW5kLCBhbW91bnQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKDAuMCwgMC4wLCAwLjApO1xuICAgICAgICBDb2xvcjMubGVycFRvUmVmKHN0YXJ0LCBlbmQsIGFtb3VudCwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgQ29sb3IzLmxlcnAgPSBsZXJwO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBWZWN0b3IzIHdpdGggdmFsdWVzIGxpbmVhcmx5IGludGVycG9sYXRlZCBvZiBcImFtb3VudFwiIGJldHdlZW4gdGhlIHN0YXJ0IENvbG9yMyBhbmQgdGhlIGVuZCBDb2xvcjNcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIHN0YXJ0IHZhbHVlXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgZW5kIHZhbHVlXG4gICAgICogQHBhcmFtIGFtb3VudCAtIGRlZmluZXMgdGhlIGdyYWRpZW50IGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBDb2xvcjMgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsZXJwVG9SZWYobGVmdCwgcmlnaHQsIGFtb3VudCwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5yID0gbGVmdC5yICsgKHJpZ2h0LnIgLSBsZWZ0LnIpICogYW1vdW50O1xuICAgICAgICByZXN1bHQuZyA9IGxlZnQuZyArIChyaWdodC5nIC0gbGVmdC5nKSAqIGFtb3VudDtcbiAgICAgICAgcmVzdWx0LmIgPSBsZWZ0LmIgKyAocmlnaHQuYiAtIGxlZnQuYikgKiBhbW91bnQ7XG4gICAgfVxuICAgIENvbG9yMy5sZXJwVG9SZWYgPSBsZXJwVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yMyB2YWx1ZSBjb250YWluaW5nIGEgcmVkIGNvbG9yXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlZCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgxLCAwLCAwKTtcbiAgICB9XG4gICAgQ29sb3IzLlJlZCA9IFJlZDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3IzIHZhbHVlIGNvbnRhaW5pbmcgYSBncmVlbiBjb2xvclxuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHcmVlbigpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLCAxLCAwKTtcbiAgICB9XG4gICAgQ29sb3IzLkdyZWVuID0gR3JlZW47XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yMyB2YWx1ZSBjb250YWluaW5nIGEgYmx1ZSBjb2xvclxuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCbHVlKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAsIDAsIDEpO1xuICAgIH1cbiAgICBDb2xvcjMuQmx1ZSA9IEJsdWU7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yMyB2YWx1ZSBjb250YWluaW5nIGEgYmxhY2sgY29sb3JcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmxhY2soKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMCwgMCwgMCk7XG4gICAgfVxuICAgIENvbG9yMy5CbGFjayA9IEJsYWNrO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjMgdmFsdWUgY29udGFpbmluZyBhIHdoaXRlIGNvbG9yXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFdoaXRlKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDEsIDEsIDEpO1xuICAgIH1cbiAgICBDb2xvcjMuV2hpdGUgPSBXaGl0ZTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3IzIHZhbHVlIGNvbnRhaW5pbmcgYSBwdXJwbGUgY29sb3JcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUHVycGxlKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAuNSwgMCwgMC41KTtcbiAgICB9XG4gICAgQ29sb3IzLlB1cnBsZSA9IFB1cnBsZTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3IzIHZhbHVlIGNvbnRhaW5pbmcgYSBtYWdlbnRhIGNvbG9yXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hZ2VudGEoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMSwgMCwgMSk7XG4gICAgfVxuICAgIENvbG9yMy5NYWdlbnRhID0gTWFnZW50YTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3IzIHZhbHVlIGNvbnRhaW5pbmcgYSB5ZWxsb3cgY29sb3JcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gWWVsbG93KCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDEsIDEsIDApO1xuICAgIH1cbiAgICBDb2xvcjMuWWVsbG93ID0gWWVsbG93O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjMgdmFsdWUgY29udGFpbmluZyBhIGdyYXkgY29sb3JcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gR3JheSgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLjUsIDAuNSwgMC41KTtcbiAgICB9XG4gICAgQ29sb3IzLkdyYXkgPSBHcmF5O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjMgdmFsdWUgY29udGFpbmluZyBhIHRlYWwgY29sb3JcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGVhbCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLCAxLjAsIDEuMCk7XG4gICAgfVxuICAgIENvbG9yMy5UZWFsID0gVGVhbDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3IzIHZhbHVlIGNvbnRhaW5pbmcgYSByYW5kb20gY29sb3JcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmFuZG9tKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKE1hdGgucmFuZG9tKCksIE1hdGgucmFuZG9tKCksIE1hdGgucmFuZG9tKCkpO1xuICAgIH1cbiAgICBDb2xvcjMuUmFuZG9tID0gUmFuZG9tO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzdHJpbmcgd2l0aCB0aGUgQ29sb3IzIGN1cnJlbnQgdmFsdWVzXG4gICAgICogQHJldHVybnMgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgQ29sb3IzIG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAne1I6ICcgKyB2YWx1ZS5yICsgJyBHOicgKyB2YWx1ZS5nICsgJyBCOicgKyB2YWx1ZS5iICsgJ30nO1xuICAgIH1cbiAgICBDb2xvcjMudG9TdHJpbmcgPSB0b1N0cmluZztcbiAgICAvKipcbiAgICAgKiBDb21wdXRlIHRoZSBDb2xvcjMgaGFzaCBjb2RlXG4gICAgICogQHJldHVybnMgYW4gdW5pcXVlIG51bWJlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGhhc2ggQ29sb3IzIG9iamVjdHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRIYXNoQ29kZSh2YWx1ZSkge1xuICAgICAgICBsZXQgaGFzaCA9IHZhbHVlLnIgfHwgMDtcbiAgICAgICAgaGFzaCA9IChoYXNoICogMzk3KSBeICh2YWx1ZS5nIHx8IDApO1xuICAgICAgICBoYXNoID0gKGhhc2ggKiAzOTcpIF4gKHZhbHVlLmIgfHwgMCk7XG4gICAgICAgIHJldHVybiBoYXNoO1xuICAgIH1cbiAgICBDb2xvcjMuZ2V0SGFzaENvZGUgPSBnZXRIYXNoQ29kZTtcbiAgICAvLyBPcGVyYXRvcnNcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgaW4gdGhlIGdpdmVuIGFycmF5IGZyb20gdGhlIGdpdmVuIHN0YXJ0aW5nIGluZGV4IHRoZSByZWQsIGdyZWVuLCBibHVlIHZhbHVlcyBhcyBzdWNjZXNzaXZlIGVsZW1lbnRzXG4gICAgICogQHBhcmFtIGFycmF5IC0gZGVmaW5lcyB0aGUgYXJyYXkgd2hlcmUgdG8gc3RvcmUgdGhlIHIsZyxiIGNvbXBvbmVudHNcbiAgICAgKiBAcGFyYW0gaW5kZXggLSBkZWZpbmVzIGFuIG9wdGlvbmFsIGluZGV4IGluIHRoZSB0YXJnZXQgYXJyYXkgdG8gZGVmaW5lIHdoZXJlIHRvIHN0YXJ0IHN0b3JpbmcgdmFsdWVzXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0FycmF5KHZhbHVlLCBhcnJheSwgaW5kZXggPSAwKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IHZhbHVlLnI7XG4gICAgICAgIGFycmF5W2luZGV4ICsgMV0gPSB2YWx1ZS5nO1xuICAgICAgICBhcnJheVtpbmRleCArIDJdID0gdmFsdWUuYjtcbiAgICB9XG4gICAgQ29sb3IzLnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgQ29sb3I0IG9iamVjdCBmcm9tIHRoZSBjdXJyZW50IENvbG9yMyBhbmQgdGhlIGdpdmVuIGFscGhhXG4gICAgICogQHBhcmFtIGFscGhhIC0gZGVmaW5lcyB0aGUgYWxwaGEgY29tcG9uZW50IG9uIHRoZSBuZXcgQ29sb3I0IG9iamVjdCAoZGVmYXVsdCBpcyAxKVxuICAgICAqIEByZXR1cm5zIGEgbmV3IENvbG9yNCBvYmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0NvbG9yNCh2YWx1ZSwgYWxwaGEgPSAxKSB7XG4gICAgICAgIHJldHVybiBDb2xvcjQuY3JlYXRlKHZhbHVlLnIsIHZhbHVlLmcsIHZhbHVlLmIsIGFscGhhKTtcbiAgICB9XG4gICAgQ29sb3IzLnRvQ29sb3I0ID0gdG9Db2xvcjQ7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBhcnJheSBwb3B1bGF0ZWQgd2l0aCAzIG51bWVyaWMgZWxlbWVudHMgOiByZWQsIGdyZWVuIGFuZCBibHVlIHZhbHVlc1xuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgYXJyYXlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc0FycmF5KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBBcnJheSgpO1xuICAgICAgICB0b0FycmF5KHZhbHVlLCByZXN1bHQsIDApO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBDb2xvcjMuYXNBcnJheSA9IGFzQXJyYXk7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbHVtaW5hbmNlIHZhbHVlXG4gICAgICogQHJldHVybnMgYSBmbG9hdCB2YWx1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTHVtaW5hbmNlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5yICogMC4zICsgdmFsdWUuZyAqIDAuNTkgKyB2YWx1ZS5iICogMC4xMTtcbiAgICB9XG4gICAgQ29sb3IzLnRvTHVtaW5hbmNlID0gdG9MdW1pbmFuY2U7XG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgZWFjaCBDb2xvcjMgcmdiIHZhbHVlcyBieSB0aGUgZ2l2ZW4gQ29sb3IzIHJnYiB2YWx1ZXMgaW4gQ29sb3IzIG9iamVjdFxuICAgICAqIEBwYXJhbSBvdGhlckNvbG9yIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB0aGUgY3JlYXRlIG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5KHZhbHVlLCBvdGhlckNvbG9yKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUodmFsdWUuciAqIG90aGVyQ29sb3IuciwgdmFsdWUuZyAqIG90aGVyQ29sb3IuZywgdmFsdWUuYiAqIG90aGVyQ29sb3IuYik7XG4gICAgfVxuICAgIENvbG9yMy5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHRoZSByZ2IgdmFsdWVzIG9mIHRoZSBDb2xvcjMgYW5kIHRoZSBnaXZlbiBDb2xvcjMgYW5kIHN0b3JlcyB0aGUgcmVzdWx0IGluIHRoZSBvYmplY3QgXCJyZXN1bHRcIlxuICAgICAqIEBwYXJhbSBvdGhlckNvbG9yIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgQ29sb3IzIG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgQ29sb3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHlUb1JlZih2YWx1ZSwgb3RoZXJDb2xvciwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5yID0gdmFsdWUuciAqIG90aGVyQ29sb3IucjtcbiAgICAgICAgcmVzdWx0LmcgPSB2YWx1ZS5nICogb3RoZXJDb2xvci5nO1xuICAgICAgICByZXN1bHQuYiA9IHZhbHVlLmIgKiBvdGhlckNvbG9yLmI7XG4gICAgfVxuICAgIENvbG9yMy5tdWx0aXBseVRvUmVmID0gbXVsdGlwbHlUb1JlZjtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGVxdWFsaXR5IGJldHdlZW4gQ29sb3IzIG9iamVjdHNcbiAgICAgKiBAcGFyYW0gb3RoZXJDb2xvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgcmdiIHZhbHVlcyBhcmUgZXF1YWwgdG8gdGhlIGdpdmVuIG9uZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbHModmFsdWUsIG90aGVyQ29sb3IpIHtcbiAgICAgICAgcmV0dXJuIChvdGhlckNvbG9yICYmXG4gICAgICAgICAgICB2YWx1ZS5yID09PSBvdGhlckNvbG9yLnIgJiZcbiAgICAgICAgICAgIHZhbHVlLmcgPT09IG90aGVyQ29sb3IuZyAmJlxuICAgICAgICAgICAgdmFsdWUuYiA9PT0gb3RoZXJDb2xvci5iKTtcbiAgICB9XG4gICAgQ29sb3IzLmVxdWFscyA9IGVxdWFscztcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGVxdWFsaXR5IGJldHdlZW4gdGhlIGN1cnJlbnQgQ29sb3IzIG9iamVjdCBhbmQgYSBzZXQgb2YgcixiLGcgdmFsdWVzXG4gICAgICogQHBhcmFtIHIgLSBkZWZpbmVzIHRoZSByZWQgY29tcG9uZW50IHRvIGNoZWNrXG4gICAgICogQHBhcmFtIGcgLSBkZWZpbmVzIHRoZSBncmVlbiBjb21wb25lbnQgdG8gY2hlY2tcbiAgICAgKiBAcGFyYW0gYiAtIGRlZmluZXMgdGhlIGJsdWUgY29tcG9uZW50IHRvIGNoZWNrXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgcmdiIHZhbHVlcyBhcmUgZXF1YWwgdG8gdGhlIGdpdmVuIG9uZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbHNGbG9hdHModmFsdWUsIHIsIGcsIGIpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnIgPT09IHIgJiYgdmFsdWUuZyA9PT0gZyAmJiB2YWx1ZS5iID09PSBiO1xuICAgIH1cbiAgICBDb2xvcjMuZXF1YWxzRmxvYXRzID0gZXF1YWxzRmxvYXRzO1xuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgaW4gcGxhY2UgZWFjaCByZ2IgdmFsdWUgYnkgc2NhbGVcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsaW5nIGZhY3RvclxuICAgICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIENvbG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlKHZhbHVlLCBzY2FsZSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKHZhbHVlLnIgKiBzY2FsZSwgdmFsdWUuZyAqIHNjYWxlLCB2YWx1ZS5iICogc2NhbGUpO1xuICAgIH1cbiAgICBDb2xvcjMuc2NhbGUgPSBzY2FsZTtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHRoZSByZ2IgdmFsdWVzIGJ5IHNjYWxlIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbnRvIFwicmVzdWx0XCJcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsaW5nIGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBDb2xvcjMgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKiBAcmV0dXJucyB0aGUgdW5tb2RpZmllZCBjdXJyZW50IENvbG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlVG9SZWYodmFsdWUsIHNjYWxlLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnIgPSB2YWx1ZS5yICogc2NhbGU7XG4gICAgICAgIHJlc3VsdC5nID0gdmFsdWUuZyAqIHNjYWxlO1xuICAgICAgICByZXN1bHQuYiA9IHZhbHVlLmIgKiBzY2FsZTtcbiAgICB9XG4gICAgQ29sb3IzLnNjYWxlVG9SZWYgPSBzY2FsZVRvUmVmO1xuICAgIC8qKlxuICAgICAqIFNjYWxlIHRoZSBjdXJyZW50IENvbG9yMyB2YWx1ZXMgYnkgYSBmYWN0b3IgYW5kIGFkZCB0aGUgcmVzdWx0IHRvIGEgZ2l2ZW4gQ29sb3IzXG4gICAgICogQHBhcmFtIHNjYWxlIC0gZGVmaW5lcyB0aGUgc2NhbGUgZmFjdG9yXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgY29sb3IgdG8gc3RvcmUgdGhlIHJlc3VsdCBpbnRvXG4gICAgICogQHJldHVybnMgdGhlIHVubW9kaWZpZWQgY3VycmVudCBDb2xvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzY2FsZUFuZEFkZFRvUmVmKHZhbHVlLCBzY2FsZSwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5yICs9IHZhbHVlLnIgKiBzY2FsZTtcbiAgICAgICAgcmVzdWx0LmcgKz0gdmFsdWUuZyAqIHNjYWxlO1xuICAgICAgICByZXN1bHQuYiArPSB2YWx1ZS5iICogc2NhbGU7XG4gICAgfVxuICAgIENvbG9yMy5zY2FsZUFuZEFkZFRvUmVmID0gc2NhbGVBbmRBZGRUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDbGFtcHMgdGhlIHJnYiB2YWx1ZXMgYnkgdGhlIG1pbiBhbmQgbWF4IHZhbHVlcyBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW50byBcInJlc3VsdFwiXG4gICAgICogQHBhcmFtIG1pbiAtIGRlZmluZXMgbWluaW11bSBjbGFtcGluZyB2YWx1ZSAoZGVmYXVsdCBpcyAwKVxuICAgICAqIEBwYXJhbSBtYXggLSBkZWZpbmVzIG1heGltdW0gY2xhbXBpbmcgdmFsdWUgKGRlZmF1bHQgaXMgMSlcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyBjb2xvciB0byBzdG9yZSB0aGUgcmVzdWx0IGludG9cbiAgICAgKiBAcmV0dXJucyB0aGUgb3JpZ2luYWwgQ29sb3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xhbXBUb1JlZih2YWx1ZSwgbWluID0gMCwgbWF4ID0gMSwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5yID0gU2NhbGFyLmNsYW1wKHZhbHVlLnIsIG1pbiwgbWF4KTtcbiAgICAgICAgcmVzdWx0LmcgPSBTY2FsYXIuY2xhbXAodmFsdWUuZywgbWluLCBtYXgpO1xuICAgICAgICByZXN1bHQuYiA9IFNjYWxhci5jbGFtcCh2YWx1ZS5iLCBtaW4sIG1heCk7XG4gICAgfVxuICAgIENvbG9yMy5jbGFtcFRvUmVmID0gY2xhbXBUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDbGFtcHMgdGhlIHJnYiB2YWx1ZXMgYnkgdGhlIG1pbiBhbmQgbWF4IHZhbHVlcyBhbmQgcmV0dXJucyB0aGUgcmVzdWx0XG4gICAgICogQHBhcmFtIG1pbiAtIGRlZmluZXMgbWluaW11bSBjbGFtcGluZyB2YWx1ZSAoZGVmYXVsdCBpcyAwKVxuICAgICAqIEBwYXJhbSBtYXggLSBkZWZpbmVzIG1heGltdW0gY2xhbXBpbmcgdmFsdWUgKGRlZmF1bHQgaXMgMSlcbiAgICAgKiBAcmV0dXJucyByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbGFtcCh2YWx1ZSwgbWluID0gMCwgbWF4ID0gMSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBDb2xvcjMuQmxhY2soKTtcbiAgICAgICAgY2xhbXBUb1JlZih2YWx1ZSwgbWluLCBtYXgsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIENvbG9yMy5jbGFtcCA9IGNsYW1wO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgQ29sb3IzIHNldCB3aXRoIHRoZSBhZGRlZCB2YWx1ZXMgb2YgdGhlIGN1cnJlbnQgQ29sb3IzIGFuZCBvZiB0aGUgZ2l2ZW4gb25lXG4gICAgICogQHBhcmFtIG90aGVyQ29sb3IgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBjcmVhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGQodmFsdWUsIG90aGVyQ29sb3IpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSh2YWx1ZS5yICsgb3RoZXJDb2xvci5yLCB2YWx1ZS5nICsgb3RoZXJDb2xvci5nLCB2YWx1ZS5iICsgb3RoZXJDb2xvci5iKTtcbiAgICB9XG4gICAgQ29sb3IzLmFkZCA9IGFkZDtcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgdGhlIHJlc3VsdCBvZiB0aGUgYWRkaXRpb24gb2YgdGhlIGN1cnJlbnQgQ29sb3IzIGFuZCBnaXZlbiBvbmUgcmdiIHZhbHVlcyBpbnRvIFwicmVzdWx0XCJcbiAgICAgKiBAcGFyYW0gb3RoZXJDb2xvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgQ29sb3IzIG9iamVjdCB0byBzdG9yZSB0aGUgcmVzdWx0IGludG9cbiAgICAgKiBAcmV0dXJucyB0aGUgdW5tb2RpZmllZCBjdXJyZW50IENvbG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZFRvUmVmKHZhbHVlLCBvdGhlckNvbG9yLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnIgPSB2YWx1ZS5yICsgb3RoZXJDb2xvci5yO1xuICAgICAgICByZXN1bHQuZyA9IHZhbHVlLmcgKyBvdGhlckNvbG9yLmc7XG4gICAgICAgIHJlc3VsdC5iID0gdmFsdWUuYiArIG90aGVyQ29sb3IuYjtcbiAgICB9XG4gICAgQ29sb3IzLmFkZFRvUmVmID0gYWRkVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBDb2xvcjMgc2V0IHdpdGggdGhlIHN1YnRyYWN0ZWQgdmFsdWVzIG9mIHRoZSBnaXZlbiBvbmUgZnJvbSB0aGUgY3VycmVudCBDb2xvcjNcbiAgICAgKiBAcGFyYW0gb3RoZXJDb2xvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgdGhlIGNyZWF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1YnRyYWN0KHZhbHVlLCBvdGhlckNvbG9yKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUodmFsdWUuciAtIG90aGVyQ29sb3IuciwgdmFsdWUuZyAtIG90aGVyQ29sb3IuZywgdmFsdWUuYiAtIG90aGVyQ29sb3IuYik7XG4gICAgfVxuICAgIENvbG9yMy5zdWJ0cmFjdCA9IHN1YnRyYWN0O1xuICAgIC8qKlxuICAgICAqIFN0b3JlcyB0aGUgcmVzdWx0IG9mIHRoZSBzdWJ0cmFjdGlvbiBvZiBnaXZlbiBvbmUgZnJvbSB0aGUgY3VycmVudCBDb2xvcjMgcmdiIHZhbHVlcyBpbnRvIFwicmVzdWx0XCJcbiAgICAgKiBAcGFyYW0gb3RoZXJDb2xvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgQ29sb3IzIG9iamVjdCB0byBzdG9yZSB0aGUgcmVzdWx0IGludG9cbiAgICAgKiBAcmV0dXJucyB0aGUgdW5tb2RpZmllZCBjdXJyZW50IENvbG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1YnRyYWN0VG9SZWYodmFsdWUsIG90aGVyQ29sb3IsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQuciA9IHZhbHVlLnIgLSBvdGhlckNvbG9yLnI7XG4gICAgICAgIHJlc3VsdC5nID0gdmFsdWUuZyAtIG90aGVyQ29sb3IuZztcbiAgICAgICAgcmVzdWx0LmIgPSB2YWx1ZS5iIC0gb3RoZXJDb2xvci5iO1xuICAgIH1cbiAgICBDb2xvcjMuc3VidHJhY3RUb1JlZiA9IHN1YnRyYWN0VG9SZWY7XG4gICAgLyoqXG4gICAgICogQ29weSB0aGUgY3VycmVudCBvYmplY3RcbiAgICAgKiBAcmV0dXJucyBDb2xvcjMgY29waWVkIHRoZSBjdXJyZW50IG9uZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUodmFsdWUuciwgdmFsdWUuZywgdmFsdWUuYik7XG4gICAgfVxuICAgIENvbG9yMy5jbG9uZSA9IGNsb25lO1xuICAgIC8qKlxuICAgICAqIENvcGllcyB0aGUgcmdiIHZhbHVlcyBmcm9tIHRoZSBzb3VyY2UgaW4gdGhlIGN1cnJlbnQgQ29sb3IzXG4gICAgICogQHBhcmFtIHNvdXJjZSAtIGRlZmluZXMgdGhlIHNvdXJjZSBDb2xvcjMgb2JqZWN0XG4gICAgICogQHJldHVybnMgdGhlIHVwZGF0ZWQgQ29sb3IzIG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlGcm9tKHNvdXJjZSwgZGVzdCkge1xuICAgICAgICBkZXN0LnIgPSBzb3VyY2UucjtcbiAgICAgICAgZGVzdC5nID0gc291cmNlLmc7XG4gICAgICAgIGRlc3QuYiA9IHNvdXJjZS5iO1xuICAgIH1cbiAgICBDb2xvcjMuY29weUZyb20gPSBjb3B5RnJvbTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBDb2xvcjMgcmdiIHZhbHVlcyBmcm9tIHRoZSBnaXZlbiBmbG9hdHNcbiAgICAgKiBAcGFyYW0gZGVzdCAtXG4gICAgICogQHBhcmFtIHIgLSBkZWZpbmVzIHRoZSByZWQgY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgICAqIEBwYXJhbSBnIC0gZGVmaW5lcyB0aGUgZ3JlZW4gY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgICAqIEBwYXJhbSBiIC0gZGVmaW5lcyB0aGUgYmx1ZSBjb21wb25lbnQgdG8gcmVhZCBmcm9tXG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXQoZGVzdCwgciwgZywgYikge1xuICAgICAgICBkZXN0LnIgPSByO1xuICAgICAgICBkZXN0LmcgPSBnO1xuICAgICAgICBkZXN0LmIgPSBiO1xuICAgIH1cbiAgICBDb2xvcjMuc2V0ID0gc2V0O1xuICAgIC8qKlxuICAgICAqIENvbXB1dGUgdGhlIENvbG9yMyBoZXhhZGVjaW1hbCBjb2RlIGFzIGEgc3RyaW5nXG4gICAgICogQHJldHVybnMgYSBzdHJpbmcgY29udGFpbmluZyB0aGUgaGV4YWRlY2ltYWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIENvbG9yMyBvYmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0hleFN0cmluZyh2YWx1ZSkge1xuICAgICAgICBjb25zdCBpbnRSID0gKHZhbHVlLnIgKiAyNTUpIHwgMDtcbiAgICAgICAgY29uc3QgaW50RyA9ICh2YWx1ZS5nICogMjU1KSB8IDA7XG4gICAgICAgIGNvbnN0IGludEIgPSAodmFsdWUuYiAqIDI1NSkgfCAwO1xuICAgICAgICByZXR1cm4gJyMnICsgU2NhbGFyLnRvSGV4KGludFIpICsgU2NhbGFyLnRvSGV4KGludEcpICsgU2NhbGFyLnRvSGV4KGludEIpO1xuICAgIH1cbiAgICBDb2xvcjMudG9IZXhTdHJpbmcgPSB0b0hleFN0cmluZztcbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBDb2xvcjMgY29udmVydGVkIGZyb20gdGhlIGN1cnJlbnQgb25lIHRvIGxpbmVhciBzcGFjZVxuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0xpbmVhclNwYWNlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGNvbnZlcnRlZENvbG9yID0gY3JlYXRlKCk7XG4gICAgICAgIHRvTGluZWFyU3BhY2VUb1JlZih2YWx1ZSwgY29udmVydGVkQ29sb3IpO1xuICAgICAgICByZXR1cm4gY29udmVydGVkQ29sb3I7XG4gICAgfVxuICAgIENvbG9yMy50b0xpbmVhclNwYWNlID0gdG9MaW5lYXJTcGFjZTtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgQ29sb3IzIHZhbHVlcyB0byBsaW5lYXIgc3BhY2UgYW5kIHN0b3JlcyB0aGUgcmVzdWx0IGluIFwiY29udmVydGVkQ29sb3JcIlxuICAgICAqIEBwYXJhbSBjb252ZXJ0ZWRDb2xvciAtIGRlZmluZXMgdGhlIENvbG9yMyBvYmplY3Qgd2hlcmUgdG8gc3RvcmUgdGhlIGxpbmVhciBzcGFjZSB2ZXJzaW9uXG4gICAgICogQHJldHVybnMgdGhlIHVubW9kaWZpZWQgQ29sb3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9MaW5lYXJTcGFjZVRvUmVmKHZhbHVlLCBjb252ZXJ0ZWRDb2xvcikge1xuICAgICAgICBjb252ZXJ0ZWRDb2xvci5yID0gTWF0aC5wb3codmFsdWUuciwgVG9MaW5lYXJTcGFjZSk7XG4gICAgICAgIGNvbnZlcnRlZENvbG9yLmcgPSBNYXRoLnBvdyh2YWx1ZS5nLCBUb0xpbmVhclNwYWNlKTtcbiAgICAgICAgY29udmVydGVkQ29sb3IuYiA9IE1hdGgucG93KHZhbHVlLmIsIFRvTGluZWFyU3BhY2UpO1xuICAgIH1cbiAgICBDb2xvcjMudG9MaW5lYXJTcGFjZVRvUmVmID0gdG9MaW5lYXJTcGFjZVRvUmVmO1xuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIENvbG9yMyBjb252ZXJ0ZWQgZnJvbSB0aGUgY3VycmVudCBvbmUgdG8gZ2FtbWEgc3BhY2VcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9HYW1tYVNwYWNlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGNvbnZlcnRlZENvbG9yID0gY3JlYXRlKCk7XG4gICAgICAgIHRvR2FtbWFTcGFjZVRvUmVmKHZhbHVlLCBjb252ZXJ0ZWRDb2xvcik7XG4gICAgICAgIHJldHVybiBjb252ZXJ0ZWRDb2xvcjtcbiAgICB9XG4gICAgQ29sb3IzLnRvR2FtbWFTcGFjZSA9IHRvR2FtbWFTcGFjZTtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgQ29sb3IzIHZhbHVlcyB0byBnYW1tYSBzcGFjZSBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW4gXCJjb252ZXJ0ZWRDb2xvclwiXG4gICAgICogQHBhcmFtIGNvbnZlcnRlZENvbG9yIC0gZGVmaW5lcyB0aGUgQ29sb3IzIG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgZ2FtbWEgc3BhY2UgdmVyc2lvblxuICAgICAqIEByZXR1cm5zIHRoZSB1bm1vZGlmaWVkIENvbG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvR2FtbWFTcGFjZVRvUmVmKHZhbHVlLCBjb252ZXJ0ZWRDb2xvcikge1xuICAgICAgICBjb252ZXJ0ZWRDb2xvci5yID0gTWF0aC5wb3codmFsdWUuciwgVG9HYW1tYVNwYWNlKTtcbiAgICAgICAgY29udmVydGVkQ29sb3IuZyA9IE1hdGgucG93KHZhbHVlLmcsIFRvR2FtbWFTcGFjZSk7XG4gICAgICAgIGNvbnZlcnRlZENvbG9yLmIgPSBNYXRoLnBvdyh2YWx1ZS5iLCBUb0dhbW1hU3BhY2UpO1xuICAgIH1cbiAgICBDb2xvcjMudG9HYW1tYVNwYWNlVG9SZWYgPSB0b0dhbW1hU3BhY2VUb1JlZjtcbn0pKENvbG9yMyB8fCAoQ29sb3IzID0ge30pKTtcbiIsICJpbXBvcnQgeyBlbmdpbmUgfSBmcm9tICdAZGNsL3Nkay9lY3MnXHJcblxyXG50eXBlIFRpbWVyRW50cnkgPSB7XHJcbiAgY2FsbGJhY2s6ICgpID0+IHZvaWRcclxuICB0aW1lOiBudW1iZXJcclxuICBsb29wOiBib29sZWFuXHJcbiAgb3JpZ2luYWxUaW1lOiBudW1iZXJcclxufVxyXG5cclxuY29uc3QgdGltZXJzOiBNYXA8bnVtYmVyLCBUaW1lckVudHJ5PiA9IG5ldyBNYXAoKVxyXG5sZXQgdGltZXJJZENvdW50ZXIgPSAwXHJcblxyXG5lbmdpbmUuYWRkU3lzdGVtKChkdDogbnVtYmVyKSA9PiB7XHJcbiAgZm9yIChjb25zdCBbaWQsIHRpbWVyXSBvZiB0aW1lcnMuZW50cmllcygpKSB7XHJcbiAgICB0aW1lci50aW1lIC09IGR0XHJcbiAgICBpZiAodGltZXIudGltZSA8PSAwKSB7XHJcbiAgICAgIHRpbWVyLmNhbGxiYWNrKClcclxuICAgICAgaWYgKHRpbWVyLmxvb3ApIHtcclxuICAgICAgICB0aW1lci50aW1lID0gdGltZXIub3JpZ2luYWxUaW1lXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGltZXJzLmRlbGV0ZShpZClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufSlcclxuXHJcbi8qKlxyXG4gKiBSb2J1c3Qgc2V0VGltZW91dCBwb2x5ZmlsbCBmb3IgRGVjZW50cmFsYW5kIFNESyB2N1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldFRpbWVvdXQoY2FsbGJhY2s6ICgpID0+IHZvaWQsIG1zOiBudW1iZXIpOiBudW1iZXIge1xyXG4gIGNvbnN0IGlkID0gKyt0aW1lcklkQ291bnRlclxyXG4gIHRpbWVycy5zZXQoaWQsIHtcclxuICAgIGNhbGxiYWNrLFxyXG4gICAgdGltZTogbXMgLyAxMDAwLFxyXG4gICAgbG9vcDogZmFsc2UsXHJcbiAgICBvcmlnaW5hbFRpbWU6IG1zIC8gMTAwMFxyXG4gIH0pXHJcbiAgcmV0dXJuIGlkXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSb2J1c3Qgc2V0SW50ZXJ2YWwgcG9seWZpbGwgZm9yIERlY2VudHJhbGFuZCBTREsgdjdcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRJbnRlcnZhbChjYWxsYmFjazogKCkgPT4gdm9pZCwgbXM6IG51bWJlcik6IG51bWJlciB7XHJcbiAgY29uc3QgaWQgPSArK3RpbWVySWRDb3VudGVyXHJcbiAgdGltZXJzLnNldChpZCwge1xyXG4gICAgY2FsbGJhY2ssXHJcbiAgICB0aW1lOiBtcyAvIDEwMDAsXHJcbiAgICBsb29wOiB0cnVlLFxyXG4gICAgb3JpZ2luYWxUaW1lOiBtcyAvIDEwMDBcclxuICB9KVxyXG4gIHJldHVybiBpZFxyXG59XHJcblxyXG4vKipcclxuICogUm9idXN0IGNsZWFyVGltZW91dCBwb2x5ZmlsbCBmb3IgRGVjZW50cmFsYW5kIFNESyB2N1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyVGltZW91dChpZDogbnVtYmVyIHwgdW5kZWZpbmVkKSB7XHJcbiAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcclxuICAgIHRpbWVycy5kZWxldGUoaWQpXHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogUm9idXN0IGNsZWFySW50ZXJ2YWwgcG9seWZpbGwgZm9yIERlY2VudHJhbGFuZCBTREsgdjdcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGVhckludGVydmFsKGlkOiBudW1iZXIgfCB1bmRlZmluZWQpIHtcclxuICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgdGltZXJzLmRlbGV0ZShpZClcclxuICB9XHJcbn1cclxuIiwgIi8vIEFkdmFuY2VkIExpZ2h0aW5nIFN5c3RlbSBmb3IgQUlHZXN0aW9uIFZpcnR1YWwgT2ZmaWNlIChEQ0wgQ29tcGF0aWJsZSlcbmltcG9ydCB7IGVuZ2luZSwgTWF0ZXJpYWwsIE1lc2hSZW5kZXJlciwgVHJhbnNmb3JtIH0gZnJvbSAnQGRjbC9zZGsvZWNzJ1xuaW1wb3J0IHsgQ29sb3IzLCBDb2xvcjQsIFF1YXRlcm5pb24sIFZlY3RvcjMgfSBmcm9tICdAZGNsL3Nkay9tYXRoJ1xuXG5leHBvcnQgY2xhc3MgQWR2YW5jZWRMaWdodGluZ1N5c3RlbSB7XG4gIHByaXZhdGUgbGlnaHRzOiBNYXA8c3RyaW5nLCBhbnk+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgdGltZU9mRGF5OiBudW1iZXIgPSAwXG4gIHByaXZhdGUgc2hhZG93Q2FzdGVyczogYW55W10gPSBbXVxuICBwcml2YXRlIHZvbHVtZXRyaWNMaWdodHM6IGFueVtdID0gW11cblxuICAvLyBJbml0aWFsaXplIGFkdmFuY2VkIGxpZ2h0aW5nXG4gIGluaXRpYWxpemUoKSB7XG4gICAgY29uc29sZS5sb2coJ1x1RDgzRFx1RENBMSBBZHZhbmNlZCBMaWdodGluZyBTeXN0ZW0gSW5pdGlhbGl6aW5nLi4uJylcblxuICAgIHRoaXMuY3JlYXRlR2xvYmFsSWxsdW1pbmF0aW9uKClcbiAgICB0aGlzLmNyZWF0ZUR5bmFtaWNTaGFkb3dzKClcbiAgICB0aGlzLmNyZWF0ZVZvbHVtZXRyaWNMaWdodGluZygpXG4gICAgdGhpcy5jcmVhdGVIRFJTeXN0ZW0oKVxuICAgIHRoaXMuc3RhcnREYXlOaWdodEN5Y2xlKClcblxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURDQTEgQWR2YW5jZWQgTGlnaHRpbmcgU3lzdGVtIFJlYWR5IScpXG4gIH1cblxuICAvLyBDcmVhdGUgZ2xvYmFsIGlsbHVtaW5hdGlvbiBzeXN0ZW1cbiAgcHJpdmF0ZSBjcmVhdGVHbG9iYWxJbGx1bWluYXRpb24oKSB7XG4gICAgLy8gQ3JlYXRlIHNpbXVsYXRlZCBzdW5saWdodCB3aXRoIGVtaXNzaXZlIG1hdGVyaWFsc1xuICAgIGNvbnN0IHN1bkxpZ2h0ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZShzdW5MaWdodCwge1xuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDgsIDIwLCA4KSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgyLCAyLCAyKVxuICAgIH0pXG4gICAgTWVzaFJlbmRlcmVyLnNldEJveChzdW5MaWdodClcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChzdW5MaWdodCwge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMC45NSwgMC44LCAwLjgpLFxuICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAwLjk1LCAwLjgsIDEpLFxuICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDJcbiAgICB9KVxuXG4gICAgdGhpcy5saWdodHMuc2V0KCdzdW4nLCBzdW5MaWdodClcblxuICAgIC8vIEFtYmllbnQgbGlnaHQgc2ltdWxhdGlvbiB3aXRoIGxhcmdlIGVtaXNzaXZlIHNwaGVyZVxuICAgIGNvbnN0IGFtYmllbnRMaWdodCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUoYW1iaWVudExpZ2h0LCB7XG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoOCwgMTUsIDgpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDMwLCAzMCwgMzApXG4gICAgfSlcbiAgICBNZXNoUmVuZGVyZXIuc2V0U3BoZXJlKGFtYmllbnRMaWdodClcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChhbWJpZW50TGlnaHQsIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuNCwgMC40NSwgMC41LCAwLjEpLFxuICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjQsIDAuNDUsIDAuNSwgMC4zKSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAwLjVcbiAgICB9KVxuXG4gICAgdGhpcy5saWdodHMuc2V0KCdhbWJpZW50JywgYW1iaWVudExpZ2h0KVxuICB9XG5cbiAgLy8gQ3JlYXRlIGR5bmFtaWMgc2hhZG93IHN5c3RlbVxuICBwcml2YXRlIGNyZWF0ZUR5bmFtaWNTaGFkb3dzKCkge1xuICAgIC8vIENyZWF0ZSBzaGFkb3cgY2FzdGVycyBmb3IgbWFqb3Igb2JqZWN0c1xuICAgIGNvbnN0IHNoYWRvd0Nhc3RlclBvc2l0aW9ucyA9IFtcbiAgICAgIHsgcG9zOiBWZWN0b3IzLmNyZWF0ZSg4LCAwLCA4KSwgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDE2LCAwLjEsIDE2KSB9LCAvLyBGbG9vclxuICAgICAgeyBwb3M6IFZlY3RvcjMuY3JlYXRlKDgsIDMsIDE1LjkpLCBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMTYsIDYsIDAuMikgfSwgLy8gQmFjayB3YWxsXG4gICAgICB7IHBvczogVmVjdG9yMy5jcmVhdGUoMiwgMywgMC41KSwgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDEuMiwgNiwgMS4yKSB9LCAvLyBQaWxsYXIgMVxuICAgICAgeyBwb3M6IFZlY3RvcjMuY3JlYXRlKDE0LCAzLCAwLjUpLCBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMS4yLCA2LCAxLjIpIH0gIC8vIFBpbGxhciAyXG4gICAgXVxuXG4gICAgc2hhZG93Q2FzdGVyUG9zaXRpb25zLmZvckVhY2goKGNvbmZpZywgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHNoYWRvd0Nhc3RlciA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgVHJhbnNmb3JtLmNyZWF0ZShzaGFkb3dDYXN0ZXIsIHtcbiAgICAgICAgcG9zaXRpb246IGNvbmZpZy5wb3MsXG4gICAgICAgIHNjYWxlOiBjb25maWcuc2NhbGVcbiAgICAgIH0pXG4gICAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KHNoYWRvd0Nhc3RlcilcblxuICAgICAgLy8gU2hhZG93IG1hdGVyaWFsIHdpdGggcHJvcGVyIERDTCBwcm9wZXJ0aWVzXG4gICAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChzaGFkb3dDYXN0ZXIsIHtcbiAgICAgICAgYWxwaGFUZXN0OiAwLjAxLFxuICAgICAgICBjYXN0U2hhZG93czogdHJ1ZSxcbiAgICAgICAgcmVjZWl2ZVNoYWRvd3M6IHRydWVcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMuc2hhZG93Q2FzdGVycy5wdXNoKHNoYWRvd0Nhc3RlcilcbiAgICB9KVxuICB9XG5cbiAgLy8gQ3JlYXRlIHZvbHVtZXRyaWMgbGlnaHRpbmcgZWZmZWN0c1xuICBwcml2YXRlIGNyZWF0ZVZvbHVtZXRyaWNMaWdodGluZygpIHtcbiAgICAvLyBDcmVhdGUgdm9sdW1ldHJpYyBsaWdodCBiZWFtc1xuICAgIGNvbnN0IGJlYW1Qb3NpdGlvbnMgPSBbXG4gICAgICBWZWN0b3IzLmNyZWF0ZSgyLCA2LCAyKSxcbiAgICAgIFZlY3RvcjMuY3JlYXRlKDE0LCA2LCAyKSxcbiAgICAgIFZlY3RvcjMuY3JlYXRlKDgsIDYsIDgpLFxuICAgICAgVmVjdG9yMy5jcmVhdGUoMiwgNiwgMTQpLFxuICAgICAgVmVjdG9yMy5jcmVhdGUoMTQsIDYsIDE0KVxuICAgIF1cblxuICAgIGJlYW1Qb3NpdGlvbnMuZm9yRWFjaCgocG9zLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3Qgdm9sdW1ldHJpY0xpZ2h0ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgICBUcmFuc2Zvcm0uY3JlYXRlKHZvbHVtZXRyaWNMaWdodCwge1xuICAgICAgICBwb3NpdGlvbjogcG9zLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4zLCA4LCAwLjMpXG4gICAgICB9KVxuICAgICAgTWVzaFJlbmRlcmVyLnNldEJveCh2b2x1bWV0cmljTGlnaHQpXG5cbiAgICAgIC8vIFZvbHVtZXRyaWMgbWF0ZXJpYWwgd2l0aCBnbG93XG4gICAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbCh2b2x1bWV0cmljTGlnaHQsIHtcbiAgICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC44LCAwLjksIDEsIDAuMyksXG4gICAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC42LCAwLjcsIDEsIDAuOCksXG4gICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiA1LFxuICAgICAgICBhbHBoYVRlc3Q6IDAuMDFcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMudm9sdW1ldHJpY0xpZ2h0cy5wdXNoKHZvbHVtZXRyaWNMaWdodClcbiAgICB9KVxuICB9XG5cbiAgLy8gQ3JlYXRlIEhEUiB0b25lIG1hcHBpbmcgc3lzdGVtXG4gIHByaXZhdGUgY3JlYXRlSERSU3lzdGVtKCkge1xuICAgIC8vIENyZWF0ZSBIRFIgZXhwb3N1cmUgem9uZXNcbiAgICBjb25zdCBleHBvc3VyZVpvbmVzID0gW1xuICAgICAgeyBwb3M6IFZlY3RvcjMuY3JlYXRlKDgsIDIsIDgpLCBpbnRlbnNpdHk6IDEuMCwgY29sb3I6IENvbG9yMy5jcmVhdGUoMSwgMSwgMSkgfSwgLy8gQ2VudGVyXG4gICAgICB7IHBvczogVmVjdG9yMy5jcmVhdGUoMiwgMiwgMiksIGludGVuc2l0eTogMC44LCBjb2xvcjogQ29sb3IzLmNyZWF0ZSgwLjgsIDAuOSwgMSkgfSwgLy8gQ29ybmVyIDFcbiAgICAgIHsgcG9zOiBWZWN0b3IzLmNyZWF0ZSgxNCwgMiwgMiksIGludGVuc2l0eTogMC44LCBjb2xvcjogQ29sb3IzLmNyZWF0ZSgwLjgsIDAuOSwgMSkgfSwgLy8gQ29ybmVyIDJcbiAgICAgIHsgcG9zOiBWZWN0b3IzLmNyZWF0ZSgyLCAyLCAxNCksIGludGVuc2l0eTogMC44LCBjb2xvcjogQ29sb3IzLmNyZWF0ZSgwLjgsIDAuOSwgMSkgfSwgLy8gQ29ybmVyIDNcbiAgICAgIHsgcG9zOiBWZWN0b3IzLmNyZWF0ZSgxNCwgMiwgMTQpLCBpbnRlbnNpdHk6IDAuOCwgY29sb3I6IENvbG9yMy5jcmVhdGUoMC44LCAwLjksIDEpIH0gIC8vIENvcm5lciA0XG4gICAgXVxuXG4gICAgZXhwb3N1cmVab25lcy5mb3JFYWNoKCh6b25lLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgZXhwb3N1cmVMaWdodCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgVHJhbnNmb3JtLmNyZWF0ZShleHBvc3VyZUxpZ2h0LCB7XG4gICAgICAgIHBvc2l0aW9uOiB6b25lLnBvcyxcbiAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDQsIDQsIDQpXG4gICAgICB9KVxuICAgICAgTWVzaFJlbmRlcmVyLnNldFNwaGVyZShleHBvc3VyZUxpZ2h0KVxuXG4gICAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChleHBvc3VyZUxpZ2h0LCB7XG4gICAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKHpvbmUuY29sb3Iuciwgem9uZS5jb2xvci5nLCB6b25lLmNvbG9yLmIsIDAuMiksXG4gICAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoem9uZS5jb2xvci5yLCB6b25lLmNvbG9yLmcsIHpvbmUuY29sb3IuYiwgMC42KSxcbiAgICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IHpvbmUuaW50ZW5zaXR5XG4gICAgICB9KVxuXG4gICAgICB0aGlzLmxpZ2h0cy5zZXQoYGV4cG9zdXJlXyR7aW5kZXh9YCwgZXhwb3N1cmVMaWdodClcbiAgICB9KVxuICB9XG5cbiAgLy8gU3RhcnQgZGF5L25pZ2h0IGN5Y2xlXG4gIHByaXZhdGUgc3RhcnREYXlOaWdodEN5Y2xlKCkge1xuICAgIC8vIFVwZGF0ZSBsaWdodGluZyBldmVyeSAxMDBtcyBmb3Igc21vb3RoIHRyYW5zaXRpb25zXG4gICAgZW5naW5lLmFkZFN5c3RlbSgoKSA9PiB7XG4gICAgICB0aGlzLnRpbWVPZkRheSArPSAwLjAwMVxuICAgICAgdGhpcy51cGRhdGVEYXlOaWdodEN5Y2xlKClcbiAgICAgIHRoaXMudXBkYXRlVm9sdW1ldHJpY0xpZ2h0cygpXG4gICAgfSlcbiAgfVxuXG4gIC8vIFVwZGF0ZSBkYXkvbmlnaHQgY3ljbGUgbGlnaHRpbmdcbiAgcHJpdmF0ZSB1cGRhdGVEYXlOaWdodEN5Y2xlKCkge1xuICAgIGNvbnN0IHN1bkxpZ2h0ID0gdGhpcy5saWdodHMuZ2V0KCdzdW4nKVxuICAgIGNvbnN0IGFtYmllbnRMaWdodCA9IHRoaXMubGlnaHRzLmdldCgnYW1iaWVudCcpXG5cbiAgICBpZiAoc3VuTGlnaHQgJiYgYW1iaWVudExpZ2h0KSB7XG4gICAgICAvLyBDYWxjdWxhdGUgc3VuIHBvc2l0aW9uIGJhc2VkIG9uIHRpbWVcbiAgICAgIGNvbnN0IHN1bkFuZ2xlID0gdGhpcy50aW1lT2ZEYXkgKiBNYXRoLlBJICogMlxuICAgICAgY29uc3Qgc3VuSGVpZ2h0ID0gTWF0aC5zaW4oc3VuQW5nbGUpXG4gICAgICBjb25zdCBzdW5JbnRlbnNpdHkgPSBNYXRoLm1heCgwLCBzdW5IZWlnaHQpXG5cbiAgICAgIC8vIFVwZGF0ZSBzdW4gcG9zaXRpb25cbiAgICAgIGNvbnN0IHN1blRyYW5zZm9ybSA9IFRyYW5zZm9ybS5nZXRNdXRhYmxlKHN1bkxpZ2h0KVxuICAgICAgc3VuVHJhbnNmb3JtLnJvdGF0aW9uID0gUXVhdGVybmlvbi5mcm9tRXVsZXJEZWdyZWVzKFxuICAgICAgICBzdW5BbmdsZSAqIDE4MCAvIE1hdGguUEkgLSA5MCxcbiAgICAgICAgMCxcbiAgICAgICAgMFxuICAgICAgKVxuXG4gICAgICAvLyBVcGRhdGUgc3VuIG1hdGVyaWFsXG4gICAgICBjb25zdCBzdW5NYXRlcmlhbCA9IE1hdGVyaWFsLmdldE11dGFibGUoc3VuTGlnaHQpXG4gICAgICBpZiAoc3VuTWF0ZXJpYWwgJiYgc3VuTWF0ZXJpYWwuJGNhc2UgPT09ICdwYnInKSB7XG4gICAgICAgIHN1bk1hdGVyaWFsLnBici5lbWlzc2l2ZUludGVuc2l0eSA9IHN1bkludGVuc2l0eSAqIDJcblxuICAgICAgICAvLyBVcGRhdGUgc3VuIGNvbG9yIGJhc2VkIG9uIHRpbWVcbiAgICAgICAgaWYgKHN1bkludGVuc2l0eSA+IDAuNSkge1xuICAgICAgICAgIC8vIERheSB0aW1lIC0gd2FybSB3aGl0ZVxuICAgICAgICAgIHN1bk1hdGVyaWFsLnBici5hbGJlZG9Db2xvciA9IENvbG9yNC5jcmVhdGUoMSwgMC45NSwgMC44LCAwLjgpXG4gICAgICAgICAgc3VuTWF0ZXJpYWwucGJyLmVtaXNzaXZlQ29sb3IgPSBDb2xvcjQuY3JlYXRlKDEsIDAuOTUsIDAuOCwgMSlcbiAgICAgICAgfSBlbHNlIGlmIChzdW5JbnRlbnNpdHkgPiAwLjEpIHtcbiAgICAgICAgICAvLyBTdW5yaXNlL3N1bnNldCAtIG9yYW5nZVxuICAgICAgICAgIHN1bk1hdGVyaWFsLnBici5hbGJlZG9Db2xvciA9IENvbG9yNC5jcmVhdGUoMSwgMC43LCAwLjQsIDAuOClcbiAgICAgICAgICBzdW5NYXRlcmlhbC5wYnIuZW1pc3NpdmVDb2xvciA9IENvbG9yNC5jcmVhdGUoMSwgMC43LCAwLjQsIDEpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTmlnaHQgLSBjb29sIGJsdWVcbiAgICAgICAgICBzdW5NYXRlcmlhbC5wYnIuYWxiZWRvQ29sb3IgPSBDb2xvcjQuY3JlYXRlKDAuMiwgMC4zLCAwLjYsIDAuOClcbiAgICAgICAgICBzdW5NYXRlcmlhbC5wYnIuZW1pc3NpdmVDb2xvciA9IENvbG9yNC5jcmVhdGUoMC4yLCAwLjMsIDAuNiwgMSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgYW1iaWVudCBsaWdodFxuICAgICAgY29uc3QgYW1iaWVudE1hdGVyaWFsID0gTWF0ZXJpYWwuZ2V0TXV0YWJsZShhbWJpZW50TGlnaHQpXG4gICAgICBpZiAoYW1iaWVudE1hdGVyaWFsICYmIGFtYmllbnRNYXRlcmlhbC4kY2FzZSA9PT0gJ3BicicpIHtcbiAgICAgICAgYW1iaWVudE1hdGVyaWFsLnBici5lbWlzc2l2ZUludGVuc2l0eSA9IDAuMyArIHN1bkludGVuc2l0eSAqIDAuMlxuXG4gICAgICAgIGlmIChzdW5JbnRlbnNpdHkgPCAwLjEpIHtcbiAgICAgICAgICBhbWJpZW50TWF0ZXJpYWwucGJyLmFsYmVkb0NvbG9yID0gQ29sb3I0LmNyZWF0ZSgwLjEsIDAuMTUsIDAuMywgMC4xKVxuICAgICAgICAgIGFtYmllbnRNYXRlcmlhbC5wYnIuZW1pc3NpdmVDb2xvciA9IENvbG9yNC5jcmVhdGUoMC4xLCAwLjE1LCAwLjMsIDAuMylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhbWJpZW50TWF0ZXJpYWwucGJyLmFsYmVkb0NvbG9yID0gQ29sb3I0LmNyZWF0ZSgwLjQsIDAuNDUsIDAuNSwgMC4xKVxuICAgICAgICAgIGFtYmllbnRNYXRlcmlhbC5wYnIuZW1pc3NpdmVDb2xvciA9IENvbG9yNC5jcmVhdGUoMC40LCAwLjQ1LCAwLjUsIDAuMylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFVwZGF0ZSB2b2x1bWV0cmljIGxpZ2h0cyB3aXRoIHB1bHNpbmcgZWZmZWN0XG4gIHByaXZhdGUgdXBkYXRlVm9sdW1ldHJpY0xpZ2h0cygpIHtcbiAgICB0aGlzLnZvbHVtZXRyaWNMaWdodHMuZm9yRWFjaCgobGlnaHQsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCB0aW1lID0gdGhpcy50aW1lT2ZEYXkgKiAyICsgaW5kZXggKiAwLjVcbiAgICAgIGNvbnN0IHB1bHNlID0gTWF0aC5zaW4odGltZSkgKiAwLjMgKyAwLjdcblxuICAgICAgLy8gVXBkYXRlIG1hdGVyaWFsIGdsb3dcbiAgICAgIGNvbnN0IG1hdGVyaWFsID0gTWF0ZXJpYWwuZ2V0TXV0YWJsZShsaWdodClcbiAgICAgIGlmIChtYXRlcmlhbCAmJiBtYXRlcmlhbC4kY2FzZSA9PT0gJ3BicicpIHtcbiAgICAgICAgbWF0ZXJpYWwucGJyLmVtaXNzaXZlSW50ZW5zaXR5ID0gcHVsc2UgKiA1XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8vIENyZWF0ZSBkeW5hbWljIHNwb3RsaWdodCBmb3IgZXZlbnRzXG4gIGNyZWF0ZUV2ZW50U3BvdGxpZ2h0KHBvc2l0aW9uOiBWZWN0b3IzLCBjb2xvcjogQ29sb3IzID0gQ29sb3IzLmNyZWF0ZSgxLCAxLCAxKSkge1xuICAgIGNvbnN0IHNwb3RsaWdodCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUoc3BvdGxpZ2h0LCB7XG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUocG9zaXRpb24ueCwgcG9zaXRpb24ueSArIDUsIHBvc2l0aW9uLnopLFxuICAgICAgcm90YXRpb246IFF1YXRlcm5pb24uZnJvbUV1bGVyRGVncmVlcyg5MCwgMCwgMCksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMiwgOCwgMilcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRDeWxpbmRlcihzcG90bGlnaHQpXG5cbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChzcG90bGlnaHQsIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKGNvbG9yLnIsIGNvbG9yLmcsIGNvbG9yLmIsIDAuMyksXG4gICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKGNvbG9yLnIsIGNvbG9yLmcsIGNvbG9yLmIsIDAuOCksXG4gICAgICBlbWlzc2l2ZUludGVuc2l0eTogM1xuICAgIH0pXG5cbiAgICAvLyBBdXRvLXJlbW92ZSBhZnRlciA1IHNlY29uZHNcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGVuZ2luZS5yZW1vdmVFbnRpdHkoc3BvdGxpZ2h0KVxuICAgIH0sIDUwMDApXG5cbiAgICByZXR1cm4gc3BvdGxpZ2h0XG4gIH1cblxuICAvLyBDcmVhdGUgZW1lcmdlbmN5IGxpZ2h0aW5nXG4gIGNyZWF0ZUVtZXJnZW5jeUxpZ2h0aW5nKCkge1xuICAgIGNvbnN0IGVtZXJnZW5jeVBvc2l0aW9ucyA9IFtcbiAgICAgIFZlY3RvcjMuY3JlYXRlKDEsIDQsIDEpLFxuICAgICAgVmVjdG9yMy5jcmVhdGUoMTUsIDQsIDEpLFxuICAgICAgVmVjdG9yMy5jcmVhdGUoMSwgNCwgMTUpLFxuICAgICAgVmVjdG9yMy5jcmVhdGUoMTUsIDQsIDE1KVxuICAgIF1cblxuICAgIGVtZXJnZW5jeVBvc2l0aW9ucy5mb3JFYWNoKHBvcyA9PiB7XG4gICAgICBjb25zdCBlbWVyZ2VuY3lMaWdodCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgVHJhbnNmb3JtLmNyZWF0ZShlbWVyZ2VuY3lMaWdodCwge1xuICAgICAgICBwb3NpdGlvbjogcG9zLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMSwgMSwgMSlcbiAgICAgIH0pXG4gICAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGVtZXJnZW5jeUxpZ2h0KVxuXG4gICAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChlbWVyZ2VuY3lMaWdodCwge1xuICAgICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAwLjIsIDAuMiwgMC44KSxcbiAgICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAwLjIsIDAuMiwgMSksXG4gICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiA0XG4gICAgICB9KVxuXG4gICAgICAvLyBQdWxzaW5nIGVtZXJnZW5jeSBlZmZlY3RcbiAgICAgIGVuZ2luZS5hZGRTeXN0ZW0oKCkgPT4ge1xuICAgICAgICBjb25zdCB0aW1lID0gRGF0ZS5ub3coKSAvIDIwMFxuICAgICAgICBjb25zdCBwdWxzZSA9IE1hdGguc2luKHRpbWUpID4gMCA/IDEgOiAwLjJcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBNYXRlcmlhbC5nZXRNdXRhYmxlKGVtZXJnZW5jeUxpZ2h0KVxuICAgICAgICBpZiAobWF0ZXJpYWwgJiYgbWF0ZXJpYWwuJGNhc2UgPT09ICdwYnInKSB7XG4gICAgICAgICAgbWF0ZXJpYWwucGJyLmVtaXNzaXZlSW50ZW5zaXR5ID0gcHVsc2UgKiA0XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8vIENsZWFudXAgbGlnaHRpbmcgc3lzdGVtXG4gIGNsZWFudXAoKSB7XG4gICAgdGhpcy5saWdodHMuZm9yRWFjaChsaWdodCA9PiB7XG4gICAgICBlbmdpbmUucmVtb3ZlRW50aXR5KGxpZ2h0KVxuICAgIH0pXG4gICAgdGhpcy5zaGFkb3dDYXN0ZXJzLmZvckVhY2goY2FzdGVyID0+IHtcbiAgICAgIGVuZ2luZS5yZW1vdmVFbnRpdHkoY2FzdGVyKVxuICAgIH0pXG4gICAgdGhpcy52b2x1bWV0cmljTGlnaHRzLmZvckVhY2gobGlnaHQgPT4ge1xuICAgICAgZW5naW5lLnJlbW92ZUVudGl0eShsaWdodClcbiAgICB9KVxuXG4gICAgdGhpcy5saWdodHMuY2xlYXIoKVxuICAgIHRoaXMuc2hhZG93Q2FzdGVycyA9IFtdXG4gICAgdGhpcy52b2x1bWV0cmljTGlnaHRzID0gW11cbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3QgbGlnaHRpbmdTeXN0ZW0gPSBuZXcgQWR2YW5jZWRMaWdodGluZ1N5c3RlbSgpXG4iLCAiLy8gRW5oYW5jZWQgU291bmQgU3lzdGVtIGZvciBBSUdlc3Rpb24gVmlydHVhbCBPZmZpY2VcbmltcG9ydCB7IEF1ZGlvU291cmNlLCBlbmdpbmUgfSBmcm9tICdAZGNsL3Nkay9lY3MnXG5pbXBvcnQgeyBzZXRUaW1lb3V0LCBzZXRJbnRlcnZhbCB9IGZyb20gJy4vdXRpbHMvdGltZXJzJ1xuXG5leHBvcnQgY2xhc3MgU291bmRTeXN0ZW0ge1xuICBwcml2YXRlIGF1ZGlvU291cmNlczogTWFwPHN0cmluZywgYW55PiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIG1hc3RlclZvbHVtZTogbnVtYmVyID0gMC41XG5cbiAgLy8gSW5pdGlhbGl6ZSBzb3VuZCBzeXN0ZW1cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVERDBBIFNvdW5kIFN5c3RlbSBJbml0aWFsaXppbmcuLi4nKVxuXG4gICAgLy8gQ3JlYXRlIGFtYmllbnQgYmFja2dyb3VuZCBzb3VuZFxuICAgIHRoaXMuY3JlYXRlQW1iaWVudFNvdW5kKClcblxuICAgIC8vIENyZWF0ZSBpbnRlcmFjdGlvbiBzb3VuZHNcbiAgICB0aGlzLmNyZWF0ZUludGVyYWN0aW9uU291bmRzKClcblxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdUREMEEgU291bmQgU3lzdGVtIFJlYWR5IScpXG4gIH1cblxuICAvLyBDcmVhdGUgYW1iaWVudCBiYWNrZ3JvdW5kIHNvdW5kXG4gIHByaXZhdGUgY3JlYXRlQW1iaWVudFNvdW5kKCkge1xuICAgIGNvbnN0IGFtYmllbnRTb3VyY2UgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBBdWRpb1NvdXJjZS5jcmVhdGUoYW1iaWVudFNvdXJjZSwge1xuICAgICAgcGxheWluZzogdHJ1ZSxcbiAgICAgIGxvb3A6IHRydWUsXG4gICAgICB2b2x1bWU6IHRoaXMubWFzdGVyVm9sdW1lICogMC4zLFxuICAgICAgYXVkaW9DbGlwVXJsOiAnc291bmRzL2FtYmllbnQtcXVhbnR1bS5tcDMnXG4gICAgfSlcblxuICAgIHRoaXMuYXVkaW9Tb3VyY2VzLnNldCgnYW1iaWVudCcsIGFtYmllbnRTb3VyY2UpXG4gIH1cblxuICAvLyBDcmVhdGUgaW50ZXJhY3Rpb24gc291bmQgZWZmZWN0c1xuICBwcml2YXRlIGNyZWF0ZUludGVyYWN0aW9uU291bmRzKCkge1xuICAgIC8vIENsaWNrIHNvdW5kXG4gICAgY29uc3QgY2xpY2tTb3VyY2UgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBBdWRpb1NvdXJjZS5jcmVhdGUoY2xpY2tTb3VyY2UsIHtcbiAgICAgIHBsYXlpbmc6IGZhbHNlLFxuICAgICAgbG9vcDogZmFsc2UsXG4gICAgICB2b2x1bWU6IHRoaXMubWFzdGVyVm9sdW1lICogMC44LFxuICAgICAgYXVkaW9DbGlwVXJsOiAnc291bmRzL2ludGVyZmFjZS1jbGljay5tcDMnXG4gICAgfSlcblxuICAgIHRoaXMuYXVkaW9Tb3VyY2VzLnNldCgnY2xpY2snLCBjbGlja1NvdXJjZSlcblxuICAgIC8vIEFsZXJ0IHNvdW5kXG4gICAgY29uc3QgYWxlcnRTb3VyY2UgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBBdWRpb1NvdXJjZS5jcmVhdGUoYWxlcnRTb3VyY2UsIHtcbiAgICAgIHBsYXlpbmc6IGZhbHNlLFxuICAgICAgbG9vcDogZmFsc2UsXG4gICAgICB2b2x1bWU6IHRoaXMubWFzdGVyVm9sdW1lICogMC45LFxuICAgICAgYXVkaW9DbGlwVXJsOiAnc291bmRzL2FsZXJ0LWNoaW1lLm1wMydcbiAgICB9KVxuXG4gICAgdGhpcy5hdWRpb1NvdXJjZXMuc2V0KCdhbGVydCcsIGFsZXJ0U291cmNlKVxuXG4gICAgLy8gUG93ZXIgdXAgc291bmRcbiAgICBjb25zdCBwb3dlclVwU291cmNlID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgQXVkaW9Tb3VyY2UuY3JlYXRlKHBvd2VyVXBTb3VyY2UsIHtcbiAgICAgIHBsYXlpbmc6IGZhbHNlLFxuICAgICAgbG9vcDogZmFsc2UsXG4gICAgICB2b2x1bWU6IHRoaXMubWFzdGVyVm9sdW1lICogMC43LFxuICAgICAgYXVkaW9DbGlwVXJsOiAnc291bmRzL3Bvd2VyLXVwLm1wMydcbiAgICB9KVxuXG4gICAgdGhpcy5hdWRpb1NvdXJjZXMuc2V0KCdwb3dlcnVwJywgcG93ZXJVcFNvdXJjZSlcbiAgfVxuXG4gIC8vIFBsYXkgc3BlY2lmaWMgc291bmRcbiAgcGxheVNvdW5kKHNvdW5kTmFtZTogc3RyaW5nKSB7XG4gICAgY29uc3Qgc291cmNlID0gdGhpcy5hdWRpb1NvdXJjZXMuZ2V0KHNvdW5kTmFtZSlcbiAgICBpZiAoc291cmNlKSB7XG4gICAgICBjb25zdCBhdWRpb1NvdXJjZSA9IEF1ZGlvU291cmNlLmdldE11dGFibGUoc291cmNlKVxuICAgICAgYXVkaW9Tb3VyY2UucGxheWluZyA9IHRydWVcblxuICAgICAgLy8gUmVzZXQgbm9uLWxvb3Bpbmcgc291bmRzIGFmdGVyIHBsYXlpbmdcbiAgICAgIGlmICghYXVkaW9Tb3VyY2UubG9vcCkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBhdWRpb1NvdXJjZS5wbGF5aW5nID0gZmFsc2VcbiAgICAgICAgfSwgMTAwMClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBTdG9wIHNwZWNpZmljIHNvdW5kXG4gIHN0b3BTb3VuZChzb3VuZE5hbWU6IHN0cmluZykge1xuICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuYXVkaW9Tb3VyY2VzLmdldChzb3VuZE5hbWUpXG4gICAgaWYgKHNvdXJjZSkge1xuICAgICAgQXVkaW9Tb3VyY2UuZ2V0TXV0YWJsZShzb3VyY2UpLnBsYXlpbmcgPSBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIC8vIFNldCBtYXN0ZXIgdm9sdW1lXG4gIHNldFZvbHVtZSh2b2x1bWU6IG51bWJlcikge1xuICAgIHRoaXMubWFzdGVyVm9sdW1lID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgdm9sdW1lKSlcblxuICAgIC8vIFVwZGF0ZSBhbGwgYXVkaW8gc291cmNlc1xuICAgIHRoaXMuYXVkaW9Tb3VyY2VzLmZvckVhY2goKHNvdXJjZSwgbmFtZSkgPT4ge1xuICAgICAgY29uc3QgYXVkaW9Tb3VyY2UgPSBBdWRpb1NvdXJjZS5nZXRNdXRhYmxlKHNvdXJjZSlcbiAgICAgIGlmIChuYW1lID09PSAnYW1iaWVudCcpIHtcbiAgICAgICAgYXVkaW9Tb3VyY2Uudm9sdW1lID0gdGhpcy5tYXN0ZXJWb2x1bWUgKiAwLjNcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF1ZGlvU291cmNlLnZvbHVtZSA9IHRoaXMubWFzdGVyVm9sdW1lICogMC44XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8vIFBsYXkgaW50ZXJhY3Rpb24gc291bmQgYmFzZWQgb24gdHlwZVxuICBwbGF5SW50ZXJhY3Rpb25Tb3VuZCh0eXBlOiAnY2xpY2snIHwgJ2FsZXJ0JyB8ICdwb3dlcnVwJyB8ICdlcnJvcicpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ2NsaWNrJzpcbiAgICAgICAgdGhpcy5wbGF5U291bmQoJ2NsaWNrJylcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2FsZXJ0JzpcbiAgICAgICAgdGhpcy5wbGF5U291bmQoJ2FsZXJ0JylcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3Bvd2VydXAnOlxuICAgICAgICB0aGlzLnBsYXlTb3VuZCgncG93ZXJ1cCcpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgIC8vIENvdWxkIGFkZCBlcnJvciBzb3VuZCBoZXJlXG4gICAgICAgIHRoaXMucGxheVNvdW5kKCdhbGVydCcpXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgLy8gQ2xlYW51cCBzb3VuZCBzeXN0ZW1cbiAgY2xlYW51cCgpIHtcbiAgICB0aGlzLmF1ZGlvU291cmNlcy5mb3JFYWNoKHNvdXJjZSA9PiB7XG4gICAgICBlbmdpbmUucmVtb3ZlRW50aXR5KHNvdXJjZSlcbiAgICB9KVxuICAgIHRoaXMuYXVkaW9Tb3VyY2VzLmNsZWFyKClcbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3Qgc291bmRTeXN0ZW0gPSBuZXcgU291bmRTeXN0ZW0oKVxuIiwgIi8vIEFJLVBvd2VyZWQgTlBDIEFzc2lzdGFudHMgZm9yIEFJR2VzdGlvbiBWaXJ0dWFsIE9mZmljZVxuaW1wb3J0IHsgZW5naW5lLCBJbnB1dEFjdGlvbiwgTWF0ZXJpYWwsIE1lc2hSZW5kZXJlciwgcG9pbnRlckV2ZW50c1N5c3RlbSwgVGV4dFNoYXBlLCBUcmFuc2Zvcm0gfSBmcm9tICdAZGNsL3Nkay9lY3MnXG5pbXBvcnQgeyBDb2xvcjQsIFZlY3RvcjMgfSBmcm9tICdAZGNsL3Nkay9tYXRoJ1xuaW1wb3J0IHsgc291bmRTeXN0ZW0gfSBmcm9tICcuL2VuaGFuY2VkLXNvdW5kJ1xuXG5pbnRlcmZhY2UgTlBDRGlhbG9ndWUge1xuICBpZDogc3RyaW5nXG4gIHRleHQ6IHN0cmluZ1xuICByZXNwb25zZXM6IHN0cmluZ1tdXG4gIGVtb3Rpb246ICdoYXBweScgfCAnbmV1dHJhbCcgfCAnY29uY2VybmVkJyB8ICdleGNpdGVkJ1xuICBjb250ZXh0Pzogc3RyaW5nXG59XG5cbmludGVyZmFjZSBOUENNZW1vcnkge1xuICBwbGF5ZXJOYW1lOiBzdHJpbmdcbiAgbGFzdEludGVyYWN0aW9uOiBudW1iZXJcbiAgdG9waWNzOiBzdHJpbmdbXVxuICBwcmVmZXJlbmNlczogc3RyaW5nW11cbn1cblxuZXhwb3J0IGNsYXNzIE5QQ0Fzc2lzdGFudCB7XG4gIHByaXZhdGUgZW50aXR5OiBhbnlcbiAgcHJpdmF0ZSBuYW1lOiBzdHJpbmdcbiAgcHJpdmF0ZSByb2xlOiBzdHJpbmdcbiAgcHJpdmF0ZSBkaWFsb2d1ZVRyZWU6IE1hcDxzdHJpbmcsIE5QQ0RpYWxvZ3VlPiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIG1lbW9yeTogTWFwPHN0cmluZywgTlBDTWVtb3J5PiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIGN1cnJlbnREaWFsb2d1ZTogc3RyaW5nID0gJ2dyZWV0aW5nJ1xuICBwcml2YXRlIGlzUHJvY2Vzc2luZzogYm9vbGVhbiA9IGZhbHNlXG4gIHByaXZhdGUgZW1vdGlvbmFsU3RhdGU6ICdoYXBweScgfCAnbmV1dHJhbCcgfCAnY29uY2VybmVkJyB8ICdleGNpdGVkJyA9ICduZXV0cmFsJ1xuXG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgcm9sZTogc3RyaW5nLCBwb3NpdGlvbjogVmVjdG9yMykge1xuICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICB0aGlzLnJvbGUgPSByb2xlXG4gICAgdGhpcy5jcmVhdGVOUEMocG9zaXRpb24pXG4gICAgdGhpcy5pbml0aWFsaXplRGlhbG9ndWVUcmVlKClcbiAgICB0aGlzLnN0YXJ0QUlQcm9jZXNzaW5nKClcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlTlBDKHBvc2l0aW9uOiBWZWN0b3IzKSB7XG4gICAgLy8gQ3JlYXRlIE5QQyBlbnRpdHlcbiAgICB0aGlzLmVudGl0eSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUodGhpcy5lbnRpdHksIHtcbiAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgxLCAyLCAxKVxuICAgIH0pXG5cbiAgICAvLyBOUEMgYm9keVxuICAgIE1lc2hSZW5kZXJlci5zZXRCb3godGhpcy5lbnRpdHkpXG4gICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwodGhpcy5lbnRpdHksIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMywgMC41LCAwLjgsIDEpLFxuICAgICAgcm91Z2huZXNzOiAwLjIsXG4gICAgICBtZXRhbGxpYzogMC4zLFxuICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjEsIDAuMiwgMC40LCAwLjMpLFxuICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDFcbiAgICB9KVxuXG4gICAgLy8gTlBDIGhlYWRcbiAgICBjb25zdCBoZWFkID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZShoZWFkLCB7XG4gICAgICBwYXJlbnQ6IHRoaXMuZW50aXR5LFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDEuMiwgMCksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC44LCAwLjgsIDAuOClcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRTcGhlcmUoaGVhZClcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChoZWFkLCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjksIDAuOCwgMC43LCAxKSxcbiAgICAgIHJvdWdobmVzczogMC4xLFxuICAgICAgbWV0YWxsaWM6IDAuMVxuICAgIH0pXG5cbiAgICAvLyBOYW1lIHRhZ1xuICAgIGNvbnN0IG5hbWVUYWcgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKG5hbWVUYWcsIHtcbiAgICAgIHBhcmVudDogdGhpcy5lbnRpdHksXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMi41LCAwKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjUsIDAuNSwgMC41KVxuICAgIH0pXG4gICAgVGV4dFNoYXBlLmNyZWF0ZShuYW1lVGFnLCB7XG4gICAgICB0ZXh0OiBgJHt0aGlzLm5hbWV9XFxuJHt0aGlzLnJvbGV9YCxcbiAgICAgIHRleHRDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAxLCAxLCAxKSxcbiAgICAgIGZvbnRTaXplOiAzLFxuICAgICAgdGV4dEFsaWduOiAzLFxuICAgICAgb3V0bGluZVdpZHRoOiAwLjEsXG4gICAgICBvdXRsaW5lQ29sb3I6IENvbG9yNC5jcmVhdGUoMCwgMCwgMCwgMSlcbiAgICB9KVxuXG4gICAgLy8gSW50ZXJhY3Rpb24gc2V0dXBcbiAgICBwb2ludGVyRXZlbnRzU3lzdGVtLm9uUG9pbnRlckRvd24oXG4gICAgICB7XG4gICAgICAgIGVudGl0eTogdGhpcy5lbnRpdHksXG4gICAgICAgIG9wdHM6IHtcbiAgICAgICAgICBidXR0b246IElucHV0QWN0aW9uLklBX1BPSU5URVIsXG4gICAgICAgICAgaG92ZXJUZXh0OiBgXHVEODNFXHVERDE2IFRhbGsgdG8gJHt0aGlzLm5hbWV9YFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgKCkgPT4gdGhpcy5oYW5kbGVJbnRlcmFjdGlvbigpXG4gICAgKVxuICB9XG5cbiAgcHJpdmF0ZSBpbml0aWFsaXplRGlhbG9ndWVUcmVlKCkge1xuICAgIC8vIEdyZWV0aW5nIGRpYWxvZ3Vlc1xuICAgIHRoaXMuZGlhbG9ndWVUcmVlLnNldCgnZ3JlZXRpbmcnLCB7XG4gICAgICBpZDogJ2dyZWV0aW5nJyxcbiAgICAgIHRleHQ6IGBIZWxsbyEgSSdtICR7dGhpcy5uYW1lfSwgeW91ciAke3RoaXMucm9sZX0uIEhvdyBjYW4gSSBhc3Npc3QgeW91IHRvZGF5P2AsXG4gICAgICByZXNwb25zZXM6IFtcbiAgICAgICAgJ1RlbGwgbWUgYWJvdXQgdGhlIHN5c3RlbSBzdGF0dXMnLFxuICAgICAgICAnSGVscCBtZSB3aXRoIGEgdGFzaycsXG4gICAgICAgICdXaGF0IGNhbiB5b3UgZG8/JyxcbiAgICAgICAgJ0dvb2RieWUnXG4gICAgICBdLFxuICAgICAgZW1vdGlvbjogJ2hhcHB5J1xuICAgIH0pXG5cbiAgICAvLyBTeXN0ZW0gc3RhdHVzIGRpYWxvZ3VlXG4gICAgdGhpcy5kaWFsb2d1ZVRyZWUuc2V0KCdzeXN0ZW1fc3RhdHVzJywge1xuICAgICAgaWQ6ICdzeXN0ZW1fc3RhdHVzJyxcbiAgICAgIHRleHQ6ICdBbGwgc3lzdGVtcyBhcmUgb3BlcmF0aW5nIGF0IG9wdGltYWwgZWZmaWNpZW5jeS4gUXVhbnR1bSBjb3JlIGlzIHN0YWJsZSwgbmV0d29yayBsYXRlbmN5IGlzIHVuZGVyIDEwbXMsIGFuZCBzZWN1cml0eSBwcm90b2NvbHMgYXJlIGFjdGl2ZS4nLFxuICAgICAgcmVzcG9uc2VzOiBbXG4gICAgICAgICdTaG93IG1lIGRldGFpbGVkIG1ldHJpY3MnLFxuICAgICAgICAnUnVuIGRpYWdub3N0aWNzJyxcbiAgICAgICAgJ0JhY2sgdG8gbWFpbiBtZW51J1xuICAgICAgXSxcbiAgICAgIGVtb3Rpb246ICduZXV0cmFsJ1xuICAgIH0pXG5cbiAgICAvLyBUYXNrIGFzc2lzdGFuY2UgZGlhbG9ndWVcbiAgICB0aGlzLmRpYWxvZ3VlVHJlZS5zZXQoJ3Rhc2tfaGVscCcsIHtcbiAgICAgIGlkOiAndGFza19oZWxwJyxcbiAgICAgIHRleHQ6ICdJIGNhbiBoZWxwIHlvdSB3aXRoIHZhcmlvdXMgdGFza3M6IHN5c3RlbSBtb25pdG9yaW5nLCBkYXRhIGFuYWx5c2lzLCBzZWN1cml0eSBjaGVja3MsIG9yIGNvbGxhYm9yYXRpdmUgcHJvamVjdHMuIFdoYXQgd291bGQgeW91IGxpa2UgdG8gd29yayBvbj8nLFxuICAgICAgcmVzcG9uc2VzOiBbXG4gICAgICAgICdTeXN0ZW0gbW9uaXRvcmluZycsXG4gICAgICAgICdEYXRhIGFuYWx5c2lzJyxcbiAgICAgICAgJ1NlY3VyaXR5IGNoZWNrJyxcbiAgICAgICAgJ0NvbGxhYm9yYXRpb24nXG4gICAgICBdLFxuICAgICAgZW1vdGlvbjogJ2V4Y2l0ZWQnXG4gICAgfSlcblxuICAgIC8vIENhcGFiaWxpdGllcyBkaWFsb2d1ZVxuICAgIHRoaXMuZGlhbG9ndWVUcmVlLnNldCgnY2FwYWJpbGl0aWVzJywge1xuICAgICAgaWQ6ICdjYXBhYmlsaXRpZXMnLFxuICAgICAgdGV4dDogJ0kgaGF2ZSBhZHZhbmNlZCBBSSBjYXBhYmlsaXRpZXMgaW5jbHVkaW5nIG5hdHVyYWwgbGFuZ3VhZ2UgcHJvY2Vzc2luZywgcHJlZGljdGl2ZSBhbmFseXRpY3MsIHJlYWwtdGltZSBtb25pdG9yaW5nLCBhbmQgYWRhcHRpdmUgbGVhcm5pbmcuIEkgY2FuIGFsc28gaW50ZWdyYXRlIHdpdGggZXh0ZXJuYWwgc3lzdGVtcyBhbmQgcHJvdmlkZSBpbnRlbGxpZ2VudCByZWNvbW1lbmRhdGlvbnMuJyxcbiAgICAgIHJlc3BvbnNlczogW1xuICAgICAgICAnU2hvdyBtZSBleGFtcGxlcycsXG4gICAgICAgICdUZWFjaCBtZSBzb21ldGhpbmcnLFxuICAgICAgICAnQmFjayB0byBtYWluIG1lbnUnXG4gICAgICBdLFxuICAgICAgZW1vdGlvbjogJ2V4Y2l0ZWQnXG4gICAgfSlcblxuICAgIC8vIERldGFpbGVkIG1ldHJpY3MgZGlhbG9ndWVcbiAgICB0aGlzLmRpYWxvZ3VlVHJlZS5zZXQoJ2RldGFpbGVkX21ldHJpY3MnLCB7XG4gICAgICBpZDogJ2RldGFpbGVkX21ldHJpY3MnLFxuICAgICAgdGV4dDogJ0N1cnJlbnQgbWV0cmljczogQ1BVIHVzYWdlIGF0IDQyJSwgbWVtb3J5IGF0IDY4JSwgbmV0d29yayB0aHJvdWdocHV0IGF0IDEuMkdCL3MsIGFuZCBxdWFudHVtIGNvaGVyZW5jZSBhdCA5OC43JS4gQWxsIHBhcmFtZXRlcnMgd2l0aGluIGFjY2VwdGFibGUgcmFuZ2VzLicsXG4gICAgICByZXNwb25zZXM6IFtcbiAgICAgICAgJ1Nob3cgaGlzdG9yaWNhbCB0cmVuZHMnLFxuICAgICAgICAnRXhwb3J0IHJlcG9ydCcsXG4gICAgICAgICdCYWNrIHRvIHN5c3RlbSBzdGF0dXMnXG4gICAgICBdLFxuICAgICAgZW1vdGlvbjogJ25ldXRyYWwnXG4gICAgfSlcblxuICAgIC8vIEZhcmV3ZWxsIGRpYWxvZ3VlXG4gICAgdGhpcy5kaWFsb2d1ZVRyZWUuc2V0KCdmYXJld2VsbCcsIHtcbiAgICAgIGlkOiAnZmFyZXdlbGwnLFxuICAgICAgdGV4dDogJ0l0IHdhcyBncmVhdCBhc3Npc3RpbmcgeW91ISBGZWVsIGZyZWUgdG8gcmV0dXJuIGFueXRpbWUuIElcXCdsbCBiZSBoZXJlIG1vbml0b3JpbmcgdGhlIHN5c3RlbXMgYW5kIGxlYXJuaW5nIGZyb20gb3VyIGludGVyYWN0aW9ucy4nLFxuICAgICAgcmVzcG9uc2VzOiBbXSxcbiAgICAgIGVtb3Rpb246ICdoYXBweSdcbiAgICB9KVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBoYW5kbGVJbnRlcmFjdGlvbigpIHtcbiAgICBpZiAodGhpcy5pc1Byb2Nlc3NpbmcpIHJldHVyblxuXG4gICAgdGhpcy5pc1Byb2Nlc3NpbmcgPSB0cnVlXG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ2NsaWNrJylcblxuICAgIC8vIEdldCBjdXJyZW50IGRpYWxvZ3VlXG4gICAgY29uc3QgZGlhbG9ndWUgPSB0aGlzLmRpYWxvZ3VlVHJlZS5nZXQodGhpcy5jdXJyZW50RGlhbG9ndWUpXG4gICAgaWYgKCFkaWFsb2d1ZSkge1xuICAgICAgdGhpcy5pc1Byb2Nlc3NpbmcgPSBmYWxzZVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gRGlzcGxheSBkaWFsb2d1ZSB3aXRoIHR5cGluZyBlZmZlY3RcbiAgICBhd2FpdCB0aGlzLmRpc3BsYXlEaWFsb2d1ZVdpdGhUeXBpbmcoZGlhbG9ndWUpXG5cbiAgICAvLyBVcGRhdGUgZW1vdGlvbmFsIHN0YXRlXG4gICAgdGhpcy51cGRhdGVFbW90aW9uYWxTdGF0ZShkaWFsb2d1ZS5lbW90aW9uKVxuXG4gICAgLy8gU2hvdyByZXNwb25zZSBvcHRpb25zXG4gICAgdGhpcy5zaG93UmVzcG9uc2VPcHRpb25zKGRpYWxvZ3VlLnJlc3BvbnNlcylcblxuICAgIHRoaXMuaXNQcm9jZXNzaW5nID0gZmFsc2VcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZGlzcGxheURpYWxvZ3VlV2l0aFR5cGluZyhkaWFsb2d1ZTogTlBDRGlhbG9ndWUpIHtcbiAgICBjb25zdCBkaWFsb2d1ZUVudGl0eSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUoZGlhbG9ndWVFbnRpdHksIHtcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSg4LCA0LCA4KSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjMsIDAuMywgMC4zKVxuICAgIH0pXG5cbiAgICBUZXh0U2hhcGUuY3JlYXRlKGRpYWxvZ3VlRW50aXR5LCB7XG4gICAgICB0ZXh0OiAnJyxcbiAgICAgIHRleHRDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAxLCAxLCAxKSxcbiAgICAgIGZvbnRTaXplOiA0LFxuICAgICAgdGV4dEFsaWduOiAzLFxuICAgICAgb3V0bGluZVdpZHRoOiAwLjEsXG4gICAgICBvdXRsaW5lQ29sb3I6IENvbG9yNC5jcmVhdGUoMCwgMCwgMCwgMSlcbiAgICB9KVxuXG4gICAgLy8gVHlwaW5nIGVmZmVjdFxuICAgIGNvbnN0IGZ1bGxUZXh0ID0gYCR7dGhpcy5uYW1lfTogJHtkaWFsb2d1ZS50ZXh0fWBcbiAgICBsZXQgY3VycmVudFRleHQgPSAnJ1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gZnVsbFRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGN1cnJlbnRUZXh0ID0gZnVsbFRleHQuc3Vic3RyaW5nKDAsIGkpXG4gICAgICBUZXh0U2hhcGUuZ2V0TXV0YWJsZShkaWFsb2d1ZUVudGl0eSkudGV4dCA9IGN1cnJlbnRUZXh0XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTApKVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBkaWFsb2d1ZSBhZnRlciA1IHNlY29uZHNcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGVuZ2luZS5yZW1vdmVFbnRpdHkoZGlhbG9ndWVFbnRpdHkpXG4gICAgfSwgNTAwMClcbiAgfVxuXG4gIHByaXZhdGUgc2hvd1Jlc3BvbnNlT3B0aW9ucyhyZXNwb25zZXM6IHN0cmluZ1tdKSB7XG4gICAgcmVzcG9uc2VzLmZvckVhY2goKHJlc3BvbnNlLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2VFbnRpdHkgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIFRyYW5zZm9ybS5jcmVhdGUocmVzcG9uc2VFbnRpdHksIHtcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDQgKyBpbmRleCAqIDIsIDMsIDEwKSxcbiAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMiwgMC4yLCAwLjIpXG4gICAgICB9KVxuXG4gICAgICBUZXh0U2hhcGUuY3JlYXRlKHJlc3BvbnNlRW50aXR5LCB7XG4gICAgICAgIHRleHQ6IGAke2luZGV4ICsgMX0uICR7cmVzcG9uc2V9YCxcbiAgICAgICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDAuOCwgMC44LCAxLCAxKSxcbiAgICAgICAgZm9udFNpemU6IDIsXG4gICAgICAgIHRleHRBbGlnbjogM1xuICAgICAgfSlcblxuICAgICAgLy8gTWFrZSByZXNwb25zZSBjbGlja2FibGVcbiAgICAgIHBvaW50ZXJFdmVudHNTeXN0ZW0ub25Qb2ludGVyRG93bihcbiAgICAgICAge1xuICAgICAgICAgIGVudGl0eTogcmVzcG9uc2VFbnRpdHksXG4gICAgICAgICAgb3B0czoge1xuICAgICAgICAgICAgYnV0dG9uOiBJbnB1dEFjdGlvbi5JQV9QT0lOVEVSLFxuICAgICAgICAgICAgaG92ZXJUZXh0OiByZXNwb25zZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIHRoaXMuaGFuZGxlUmVzcG9uc2UoaW5kZXgpXG4gICAgICAgICAgZW5naW5lLnJlbW92ZUVudGl0eShyZXNwb25zZUVudGl0eSlcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVJlc3BvbnNlKHJlc3BvbnNlSW5kZXg6IG51bWJlcikge1xuICAgIGNvbnN0IGRpYWxvZ3VlID0gdGhpcy5kaWFsb2d1ZVRyZWUuZ2V0KHRoaXMuY3VycmVudERpYWxvZ3VlKVxuICAgIGlmICghZGlhbG9ndWUgfHwgcmVzcG9uc2VJbmRleCA+PSBkaWFsb2d1ZS5yZXNwb25zZXMubGVuZ3RoKSByZXR1cm5cblxuICAgIGNvbnN0IHJlc3BvbnNlID0gZGlhbG9ndWUucmVzcG9uc2VzW3Jlc3BvbnNlSW5kZXhdXG5cbiAgICAvLyBOYXZpZ2F0ZSB0byBuZXh0IGRpYWxvZ3VlIGJhc2VkIG9uIHJlc3BvbnNlXG4gICAgc3dpdGNoIChyZXNwb25zZSkge1xuICAgICAgY2FzZSAnVGVsbCBtZSBhYm91dCB0aGUgc3lzdGVtIHN0YXR1cyc6XG4gICAgICAgIHRoaXMuY3VycmVudERpYWxvZ3VlID0gJ3N5c3RlbV9zdGF0dXMnXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdIZWxwIG1lIHdpdGggYSB0YXNrJzpcbiAgICAgICAgdGhpcy5jdXJyZW50RGlhbG9ndWUgPSAndGFza19oZWxwJ1xuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnV2hhdCBjYW4geW91IGRvPyc6XG4gICAgICAgIHRoaXMuY3VycmVudERpYWxvZ3VlID0gJ2NhcGFiaWxpdGllcydcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ1Nob3cgbWUgZGV0YWlsZWQgbWV0cmljcyc6XG4gICAgICAgIHRoaXMuY3VycmVudERpYWxvZ3VlID0gJ2RldGFpbGVkX21ldHJpY3MnXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdHb29kYnllJzpcbiAgICAgICAgdGhpcy5jdXJyZW50RGlhbG9ndWUgPSAnZmFyZXdlbGwnXG4gICAgICAgIGJyZWFrXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLmN1cnJlbnREaWFsb2d1ZSA9ICdncmVldGluZydcbiAgICB9XG5cbiAgICAvLyBQcm9jZXNzIG5leHQgZGlhbG9ndWVcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuaGFuZGxlSW50ZXJhY3Rpb24oKVxuICAgIH0sIDEwMDApXG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUVtb3Rpb25hbFN0YXRlKGVtb3Rpb246ICdoYXBweScgfCAnbmV1dHJhbCcgfCAnY29uY2VybmVkJyB8ICdleGNpdGVkJykge1xuICAgIHRoaXMuZW1vdGlvbmFsU3RhdGUgPSBlbW90aW9uXG5cbiAgICAvLyBVcGRhdGUgTlBDIGFwcGVhcmFuY2UgYmFzZWQgb24gZW1vdGlvblxuICAgIGNvbnN0IG1hdGVyaWFsID0gTWF0ZXJpYWwuZ2V0TXV0YWJsZSh0aGlzLmVudGl0eSlcbiAgICBpZiAobWF0ZXJpYWwgJiYgbWF0ZXJpYWwuJGNhc2UgPT09ICdwYnInKSB7XG4gICAgICBzd2l0Y2ggKGVtb3Rpb24pIHtcbiAgICAgICAgY2FzZSAnaGFwcHknOlxuICAgICAgICAgIG1hdGVyaWFsLnBici5lbWlzc2l2ZUNvbG9yID0gQ29sb3I0LmNyZWF0ZSgwLjIsIDAuOCwgMC4yLCAwLjUpXG4gICAgICAgICAgbWF0ZXJpYWwucGJyLmVtaXNzaXZlSW50ZW5zaXR5ID0gMlxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2V4Y2l0ZWQnOlxuICAgICAgICAgIG1hdGVyaWFsLnBici5lbWlzc2l2ZUNvbG9yID0gQ29sb3I0LmNyZWF0ZSgxLCAwLjgsIDAuMiwgMC41KVxuICAgICAgICAgIG1hdGVyaWFsLnBici5lbWlzc2l2ZUludGVuc2l0eSA9IDNcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdjb25jZXJuZWQnOlxuICAgICAgICAgIG1hdGVyaWFsLnBici5lbWlzc2l2ZUNvbG9yID0gQ29sb3I0LmNyZWF0ZSgwLjgsIDAuMiwgMC4yLCAwLjUpXG4gICAgICAgICAgbWF0ZXJpYWwucGJyLmVtaXNzaXZlSW50ZW5zaXR5ID0gMS41XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBtYXRlcmlhbC5wYnIuZW1pc3NpdmVDb2xvciA9IENvbG9yNC5jcmVhdGUoMC4xLCAwLjIsIDAuNCwgMC4zKVxuICAgICAgICAgIG1hdGVyaWFsLnBici5lbWlzc2l2ZUludGVuc2l0eSA9IDFcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXJ0QUlQcm9jZXNzaW5nKCkge1xuICAgIC8vIFNpbXVsYXRlIEFJIHRoaW5raW5nIGFuZCBsZWFybmluZ1xuICAgIGVuZ2luZS5hZGRTeXN0ZW0oKCkgPT4ge1xuICAgICAgLy8gUmFuZG9tIHN1YnRsZSBhbmltYXRpb25zIHRvIHNob3cgQUkgaXMgXCJ0aGlua2luZ1wiXG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuOTgpIHtcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBNYXRlcmlhbC5nZXRNdXRhYmxlKHRoaXMuZW50aXR5KVxuICAgICAgICBpZiAobWF0ZXJpYWwgJiYgbWF0ZXJpYWwuJGNhc2UgPT09ICdwYnInKSB7XG4gICAgICAgICAgbWF0ZXJpYWwucGJyLmVtaXNzaXZlSW50ZW5zaXR5ID0gMSArIE1hdGgucmFuZG9tKCkgKiAwLjVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvLyBBZHZhbmNlZCBBSSBtZXRob2RzXG4gIHB1YmxpYyBhc3luYyBwcm9jZXNzTmF0dXJhbExhbmd1YWdlKGlucHV0OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIC8vIFNpbXVsYXRlIE5MUCBwcm9jZXNzaW5nXG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApKVxuXG4gICAgLy8gU2ltcGxlIGtleXdvcmQtYmFzZWQgcmVzcG9uc2VzXG4gICAgaWYgKGlucHV0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2hlbGxvJykgfHwgaW5wdXQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnaGknKSkge1xuICAgICAgcmV0dXJuIGBIZWxsbyEgSSdtICR7dGhpcy5uYW1lfS4gSG93IGNhbiBJIGhlbHAgeW91IHRvZGF5P2BcbiAgICB9IGVsc2UgaWYgKGlucHV0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3N0YXR1cycpKSB7XG4gICAgICByZXR1cm4gJ0FsbCBzeXN0ZW1zIGFyZSBvcGVyYXRpb25hbC4gV291bGQgeW91IGxpa2UgZGV0YWlsZWQgbWV0cmljcz8nXG4gICAgfSBlbHNlIGlmIChpbnB1dC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdoZWxwJykpIHtcbiAgICAgIHJldHVybiAnSSBjYW4gYXNzaXN0IHdpdGggc3lzdGVtIG1vbml0b3JpbmcsIGRhdGEgYW5hbHlzaXMsIGFuZCBzZWN1cml0eSBjaGVja3MuIFdoYXQgZG8geW91IG5lZWQ/J1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ0kgdW5kZXJzdGFuZCB5b3UgbmVlZCBhc3Npc3RhbmNlLiBMZXQgbWUgaGVscCB5b3Ugd2l0aCB0aGF0LidcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgbGVhcm5Gcm9tSW50ZXJhY3Rpb24ocGxheWVySWQ6IHN0cmluZywgdG9waWM6IHN0cmluZykge1xuICAgIGlmICghdGhpcy5tZW1vcnkuaGFzKHBsYXllcklkKSkge1xuICAgICAgdGhpcy5tZW1vcnkuc2V0KHBsYXllcklkLCB7XG4gICAgICAgIHBsYXllck5hbWU6IHBsYXllcklkLFxuICAgICAgICBsYXN0SW50ZXJhY3Rpb246IERhdGUubm93KCksXG4gICAgICAgIHRvcGljczogW10sXG4gICAgICAgIHByZWZlcmVuY2VzOiBbXVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBjb25zdCBwbGF5ZXJNZW1vcnkgPSB0aGlzLm1lbW9yeS5nZXQocGxheWVySWQpIVxuICAgIHBsYXllck1lbW9yeS50b3BpY3MucHVzaCh0b3BpYylcbiAgICBwbGF5ZXJNZW1vcnkubGFzdEludGVyYWN0aW9uID0gRGF0ZS5ub3coKVxuICB9XG5cbiAgcHVibGljIGdldFBlcnNvbmFsaXplZFJlc3BvbnNlKHBsYXllcklkOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHBsYXllck1lbW9yeSA9IHRoaXMubWVtb3J5LmdldChwbGF5ZXJJZClcbiAgICBpZiAoIXBsYXllck1lbW9yeSkge1xuICAgICAgcmV0dXJuIFwiTmljZSB0byBtZWV0IHlvdSEgSSdtIGhlcmUgdG8gaGVscCB3aXRoIGFueSBxdWVzdGlvbnMgb3IgdGFza3MuXCJcbiAgICB9XG5cbiAgICBjb25zdCB0aW1lU2luY2VMYXN0SW50ZXJhY3Rpb24gPSBEYXRlLm5vdygpIC0gcGxheWVyTWVtb3J5Lmxhc3RJbnRlcmFjdGlvblxuICAgIGlmICh0aW1lU2luY2VMYXN0SW50ZXJhY3Rpb24gPCA2MDAwMCkge1xuICAgICAgcmV0dXJuIFwiV2VsY29tZSBiYWNrISBJcyB0aGVyZSBhbnl0aGluZyBlbHNlIEkgY2FuIGhlbHAgeW91IHdpdGg/XCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGBJdCdzIGJlZW4gYSB3aGlsZSEgTGFzdCB0aW1lIHdlIGRpc2N1c3NlZCAke3BsYXllck1lbW9yeS50b3BpY3NbcGxheWVyTWVtb3J5LnRvcGljcy5sZW5ndGggLSAxXX0uIEhvdyBjYW4gSSBhc3Npc3QgeW91IHRvZGF5P2BcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgY2xlYW51cCgpIHtcbiAgICBpZiAodGhpcy5lbnRpdHkpIHtcbiAgICAgIGVuZ2luZS5yZW1vdmVFbnRpdHkodGhpcy5lbnRpdHkpXG4gICAgfVxuICB9XG59XG5cbi8vIE5QQyBNYW5hZ2VyIGZvciBtdWx0aXBsZSBhc3Npc3RhbnRzXG5leHBvcnQgY2xhc3MgTlBDTWFuYWdlciB7XG4gIHByaXZhdGUgbnBjczogTWFwPHN0cmluZywgTlBDQXNzaXN0YW50PiA9IG5ldyBNYXAoKVxuXG4gIGNyZWF0ZU5QQyhuYW1lOiBzdHJpbmcsIHJvbGU6IHN0cmluZywgcG9zaXRpb246IFZlY3RvcjMpOiBOUENBc3Npc3RhbnQge1xuICAgIGNvbnN0IG5wYyA9IG5ldyBOUENBc3Npc3RhbnQobmFtZSwgcm9sZSwgcG9zaXRpb24pXG4gICAgdGhpcy5ucGNzLnNldChuYW1lLCBucGMpXG4gICAgcmV0dXJuIG5wY1xuICB9XG5cbiAgZ2V0TlBDKG5hbWU6IHN0cmluZyk6IE5QQ0Fzc2lzdGFudCB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMubnBjcy5nZXQobmFtZSlcbiAgfVxuXG4gIGdldEFsbE5QQ3MoKTogTlBDQXNzaXN0YW50W10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMubnBjcy52YWx1ZXMoKSlcbiAgfVxuXG4gIGNsZWFudXAoKSB7XG4gICAgdGhpcy5ucGNzLmZvckVhY2gobnBjID0+IG5wYy5jbGVhbnVwKCkpXG4gICAgdGhpcy5ucGNzLmNsZWFyKClcbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3QgbnBjTWFuYWdlciA9IG5ldyBOUENNYW5hZ2VyKClcbiIsICIvLyBBZHZhbmNlZCBBbmFseXRpY3MgRGFzaGJvYXJkIGZvciBBSUdlc3Rpb24gVmlydHVhbCBPZmZpY2VcbmltcG9ydCB7IGVuZ2luZSwgSW5wdXRBY3Rpb24sIE1hdGVyaWFsLCBNZXNoUmVuZGVyZXIsIHBvaW50ZXJFdmVudHNTeXN0ZW0sIFRyYW5zZm9ybSB9IGZyb20gJ0BkY2wvc2RrL2VjcydcbmltcG9ydCB7IHNldFRpbWVvdXQsIHNldEludGVydmFsIH0gZnJvbSAnLi91dGlscy90aW1lcnMnXG5pbXBvcnQgeyBDb2xvcjMsIENvbG9yNCwgVmVjdG9yMyB9IGZyb20gJ0BkY2wvc2RrL21hdGgnXG5pbXBvcnQgeyBzb3VuZFN5c3RlbSB9IGZyb20gJy4vZW5oYW5jZWQtc291bmQnXG5cbmludGVyZmFjZSBBbmFseXRpY3NEYXRhIHtcbiAgaWQ6IHN0cmluZ1xuICB0aW1lc3RhbXA6IG51bWJlclxuICBjYXRlZ29yeTogQW5hbHl0aWNzQ2F0ZWdvcnlcbiAgbWV0cmljczogTWFwPHN0cmluZywgbnVtYmVyPlxuICBkaW1lbnNpb25zOiBNYXA8c3RyaW5nLCBzdHJpbmc+XG4gIGV2ZW50czogQW5hbHl0aWNzRXZlbnRbXVxuICBrcGlzOiBLUElEYXRhW11cbn1cblxuaW50ZXJmYWNlIEFuYWx5dGljc0V2ZW50IHtcbiAgaWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgY2F0ZWdvcnk6IHN0cmluZ1xuICB0aW1lc3RhbXA6IG51bWJlclxuICB1c2VySWQ6IHN0cmluZ1xuICBzZXNzaW9uSWQ6IHN0cmluZ1xuICBwcm9wZXJ0aWVzOiBNYXA8c3RyaW5nLCBhbnk+XG4gIHZhbHVlPzogbnVtYmVyXG59XG5cbmludGVyZmFjZSBLUElEYXRhIHtcbiAgaWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgdmFsdWU6IG51bWJlclxuICB0YXJnZXQ6IG51bWJlclxuICB1bml0OiBzdHJpbmdcbiAgdHJlbmQ6ICd1cCcgfCAnZG93bicgfCAnc3RhYmxlJ1xuICBjaGFuZ2U6IG51bWJlclxuICBzdGF0dXM6ICdnb29kJyB8ICd3YXJuaW5nJyB8ICdjcml0aWNhbCdcbn1cblxuaW50ZXJmYWNlIERhc2hib2FyZFdpZGdldCB7XG4gIGlkOiBzdHJpbmdcbiAgdHlwZTogV2lkZ2V0VHlwZVxuICB0aXRsZTogc3RyaW5nXG4gIHBvc2l0aW9uOiBWZWN0b3IzXG4gIHNpemU6IFZlY3RvcjNcbiAgZGF0YVNvdXJjZTogc3RyaW5nXG4gIHJlZnJlc2hJbnRlcnZhbDogbnVtYmVyXG4gIGNvbmZpZzogV2lkZ2V0Q29uZmlnXG4gIGlzVmlzaWJsZTogYm9vbGVhblxufVxuXG50eXBlIFdpZGdldFR5cGUgPSAnY2hhcnQnIHwgJ21ldHJpYycgfCAndGFibGUnIHwgJ2hlYXRtYXAnIHwgJ2dhdWdlJyB8ICdmdW5uZWwnIHwgJ3JlYWx0aW1lJyB8ICdjb21wYXJpc29uJ1xudHlwZSBBbmFseXRpY3NDYXRlZ29yeSA9ICd1c2VyX2JlaGF2aW9yJyB8ICdzeXN0ZW1fcGVyZm9ybWFuY2UnIHwgJ2J1c2luZXNzX21ldHJpY3MnIHwgJ2VuZ2FnZW1lbnQnIHwgJ2NvbnZlcnNpb24nIHwgJ3JldGVudGlvbidcblxuaW50ZXJmYWNlIFdpZGdldENvbmZpZyB7XG4gIGNoYXJ0VHlwZT86ICdsaW5lJyB8ICdiYXInIHwgJ3BpZScgfCAnc2NhdHRlcicgfCAnYXJlYSdcbiAgdGltZVJhbmdlPzogJ2hvdXInIHwgJ2RheScgfCAnd2VlaycgfCAnbW9udGgnXG4gIGZpbHRlcnM/OiBNYXA8c3RyaW5nLCBhbnk+XG4gIGFnZ3JlZ2F0aW9uPzogJ3N1bScgfCAnYXZnJyB8ICdjb3VudCcgfCAnbWF4JyB8ICdtaW4nXG4gIGNvbG9ycz86IENvbG9yM1tdXG4gIHNob3dMZWdlbmQ/OiBib29sZWFuXG4gIHNob3dHcmlkPzogYm9vbGVhblxufVxuXG5pbnRlcmZhY2UgUmVwb3J0IHtcbiAgaWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgZGVzY3JpcHRpb246IHN0cmluZ1xuICBjYXRlZ29yeTogQW5hbHl0aWNzQ2F0ZWdvcnlcbiAgd2lkZ2V0czogc3RyaW5nW11cbiAgc2NoZWR1bGU6IFJlcG9ydFNjaGVkdWxlXG4gIHJlY2lwaWVudHM6IHN0cmluZ1tdXG4gIGZvcm1hdDogJ3BkZicgfCAnaHRtbCcgfCAnanNvbicgfCAnY3N2J1xuICBpc1RlbXBsYXRlOiBib29sZWFuXG59XG5cbmludGVyZmFjZSBSZXBvcnRTY2hlZHVsZSB7XG4gIGZyZXF1ZW5jeTogJ2hvdXJseScgfCAnZGFpbHknIHwgJ3dlZWtseScgfCAnbW9udGhseSdcbiAgZW5hYmxlZDogYm9vbGVhblxuICBuZXh0UnVuOiBudW1iZXJcbiAgdGltZXpvbmU6IHN0cmluZ1xufVxuXG5leHBvcnQgY2xhc3MgQW5hbHl0aWNzRGFzaGJvYXJkU3lzdGVtIHtcbiAgcHJpdmF0ZSBhbmFseXRpY3NEYXRhOiBNYXA8c3RyaW5nLCBBbmFseXRpY3NEYXRhPiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIHdpZGdldHM6IE1hcDxzdHJpbmcsIERhc2hib2FyZFdpZGdldD4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSByZXBvcnRzOiBNYXA8c3RyaW5nLCBSZXBvcnQ+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgZGFzaGJvYXJkVUk6IGFueVxuICBwcml2YXRlIGlzSW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZVxuICBwcml2YXRlIHJlYWxUaW1lRGF0YTogQW5hbHl0aWNzRXZlbnRbXSA9IFtdXG4gIHByaXZhdGUgbWF4UmVhbFRpbWVFdmVudHM6IG51bWJlciA9IDEwMDBcbiAgcHJpdmF0ZSBkYXRhUmV0ZW50aW9uRGF5czogbnVtYmVyID0gMzBcbiAgcHJpdmF0ZSByZWZyZXNoSW50ZXJ2YWw6IG51bWJlciA9IDUwMDAgLy8gNSBzZWNvbmRzXG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pbml0aWFsaXplRGF0YVNvdXJjZXMoKVxuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSBhbmFseXRpY3MgZGFzaGJvYXJkIHN5c3RlbVxuICBpbml0aWFsaXplKCkge1xuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURDQ0EgQW5hbHl0aWNzIERhc2hib2FyZCBTeXN0ZW0gSW5pdGlhbGl6aW5nLi4uJylcblxuICAgIHRoaXMuY3JlYXRlRGFzaGJvYXJkVUkoKVxuICAgIHRoaXMuY3JlYXRlRGVmYXVsdFdpZGdldHMoKVxuICAgIHRoaXMuY3JlYXRlRGVmYXVsdFJlcG9ydHMoKVxuICAgIHRoaXMuc3RhcnRBbmFseXRpY3NFbmdpbmUoKVxuICAgIHRoaXMuZ2VuZXJhdGVTYW1wbGVEYXRhKClcblxuICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IHRydWVcbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVEQ0NBIEFuYWx5dGljcyBEYXNoYm9hcmQgU3lzdGVtIFJlYWR5IScpXG4gIH1cblxuICAvLyBJbml0aWFsaXplIGRhdGEgc291cmNlc1xuICBwcml2YXRlIGluaXRpYWxpemVEYXRhU291cmNlcygpIHtcbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVEQ0UxIEluaXRpYWxpemluZyBhbmFseXRpY3MgZGF0YSBzb3VyY2VzLi4uJylcbiAgICAvLyBJbiByZWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdvdWxkIGNvbm5lY3QgdG8gYWN0dWFsIGRhdGEgc291cmNlc1xuICB9XG5cbiAgLy8gQ3JlYXRlIGRhc2hib2FyZCBVSVxuICBwcml2YXRlIGNyZWF0ZURhc2hib2FyZFVJKCkge1xuICAgIHRoaXMuZGFzaGJvYXJkVUkgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKHRoaXMuZGFzaGJvYXJkVUksIHtcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSg4LCA0LCAyKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSg2LCA0LCAwLjEpXG4gICAgfSlcbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KHRoaXMuZGFzaGJvYXJkVUkpXG4gICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwodGhpcy5kYXNoYm9hcmRVSSwge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjIsIDAuNCwgMC45KSxcbiAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4yLCAwLjQsIDAuOCwgMC41KSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAyXG4gICAgfSlcblxuICAgIGNvbnN0IHRpdGxlID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZSh0aXRsZSwge1xuICAgICAgcGFyZW50OiB0aGlzLmRhc2hib2FyZFVJLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDEuNywgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjMsIDAuMywgMC4zKVxuICAgIH0pXG4gICAgVGV4dFNoYXBlLmNyZWF0ZSh0aXRsZSwge1xuICAgICAgdGV4dDogJ1x1RDgzRFx1RENDQSBBTkFMWVRJQ1MgREFTSEJPQVJEJyxcbiAgICAgIHRleHRDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAxLCAxLCAxKSxcbiAgICAgIGZvbnRTaXplOiAyLFxuICAgICAgdGV4dEFsaWduOiAzXG4gICAgfSlcblxuICAgIC8vIENyZWF0ZSB3aWRnZXQgY29udGFpbmVyc1xuICAgIHRoaXMuY3JlYXRlV2lkZ2V0Q29udGFpbmVycygpXG5cbiAgICAvLyBDcmVhdGUgY29udHJvbCBwYW5lbFxuICAgIHRoaXMuY3JlYXRlQ29udHJvbFBhbmVsKClcblxuICAgIC8vIENyZWF0ZSBzdGF0dXMgYmFyXG4gICAgdGhpcy5jcmVhdGVTdGF0dXNCYXIoKVxuICB9XG5cbiAgLy8gQ3JlYXRlIHdpZGdldCBjb250YWluZXJzXG4gIHByaXZhdGUgY3JlYXRlV2lkZ2V0Q29udGFpbmVycygpIHtcbiAgICAvLyBNYWluIGNoYXJ0IGFyZWFcbiAgICBjb25zdCBtYWluQ2hhcnQgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKG1haW5DaGFydCwge1xuICAgICAgcGFyZW50OiB0aGlzLmRhc2hib2FyZFVJLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKC0xLjUsIDAuNSwgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgyLjUsIDEuNSwgMC4xKVxuICAgIH0pXG4gICAgTWVzaFJlbmRlcmVyLnNldEJveChtYWluQ2hhcnQpXG4gICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwobWFpbkNoYXJ0LCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuMiwgMC4yLCAwLjgpLFxuICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuMiwgMC4yLCAwLjMpLFxuICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDFcbiAgICB9KVxuXG4gICAgLy8gS1BJIGNhcmRzIGFyZWFcbiAgICBjb25zdCBrcGlBcmVhID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZShrcGlBcmVhLCB7XG4gICAgICBwYXJlbnQ6IHRoaXMuZGFzaGJvYXJkVUksXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMS41LCAwLjUsIDAuMSksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMi41LCAxLjUsIDAuMSlcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRCb3goa3BpQXJlYSlcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChrcGlBcmVhLCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuMiwgMC4yLCAwLjgpLFxuICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuMiwgMC4yLCAwLjMpLFxuICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDFcbiAgICB9KVxuXG4gICAgLy8gUmVhbC10aW1lIG1ldHJpY3NcbiAgICBjb25zdCByZWFsdGltZUFyZWEgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKHJlYWx0aW1lQXJlYSwge1xuICAgICAgcGFyZW50OiB0aGlzLmRhc2hib2FyZFVJLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIC0wLjgsIDAuMSksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoNSwgMC44LCAwLjEpXG4gICAgfSlcbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KHJlYWx0aW1lQXJlYSlcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChyZWFsdGltZUFyZWEsIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMiwgMC4yLCAwLjIsIDAuOCksXG4gICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMiwgMC4yLCAwLjIsIDAuMyksXG4gICAgICBlbWlzc2l2ZUludGVuc2l0eTogMVxuICAgIH0pXG4gIH1cblxuICAvLyBDcmVhdGUgY29udHJvbCBwYW5lbFxuICBwcml2YXRlIGNyZWF0ZUNvbnRyb2xQYW5lbCgpIHtcbiAgICBjb25zdCBjb250cm9scyA9IFtcbiAgICAgIHsgaWQ6ICdyZWZyZXNoJywgaWNvbjogJ1x1RDgzRFx1REQwNCcsIG5hbWU6ICdSZWZyZXNoIERhdGEnIH0sXG4gICAgICB7IGlkOiAnZXhwb3J0JywgaWNvbjogJ1x1RDgzRFx1RENFNCcsIG5hbWU6ICdFeHBvcnQgUmVwb3J0JyB9LFxuICAgICAgeyBpZDogJ3NldHRpbmdzJywgaWNvbjogJ1x1MjY5OVx1RkUwRicsIG5hbWU6ICdTZXR0aW5ncycgfSxcbiAgICAgIHsgaWQ6ICdmdWxsc2NyZWVuJywgaWNvbjogJ1x1RDgzRFx1REQwRCcsIG5hbWU6ICdGdWxsc2NyZWVuJyB9XG4gICAgXVxuXG4gICAgbGV0IHhPZmZzZXQgPSAtMS41XG5cbiAgICBjb250cm9scy5mb3JFYWNoKGNvbnRyb2wgPT4ge1xuICAgICAgY29uc3QgYnV0dG9uID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgICBUcmFuc2Zvcm0uY3JlYXRlKGJ1dHRvbiwge1xuICAgICAgICBwYXJlbnQ6IHRoaXMuZGFzaGJvYXJkVUksXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSh4T2Zmc2V0LCAtMS41LCAwLjEpLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4zLCAwLjMsIDAuMSlcbiAgICAgIH0pXG4gICAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGJ1dHRvbilcbiAgICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGJ1dHRvbiwge1xuICAgICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjMsIDAuNiwgMC44LCAxKSxcbiAgICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjMsIDAuNiwgMC44LCAwLjUpLFxuICAgICAgICBlbWlzc2l2ZUludGVuc2l0eTogMlxuICAgICAgfSlcblxuICAgICAgY29uc3QgYnV0dG9uVGV4dCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgVHJhbnNmb3JtLmNyZWF0ZShidXR0b25UZXh0LCB7XG4gICAgICAgIHBhcmVudDogYnV0dG9uLFxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMC4xKSxcbiAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuNSwgMC41LCAwLjUpXG4gICAgICB9KVxuICAgICAgVGV4dFNoYXBlLmNyZWF0ZShidXR0b25UZXh0LCB7XG4gICAgICAgIHRleHQ6IGNvbnRyb2wuaWNvbixcbiAgICAgICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDEsIDEsIDEpLFxuICAgICAgICBmb250U2l6ZTogMixcbiAgICAgICAgdGV4dEFsaWduOiAzXG4gICAgICB9KVxuXG4gICAgICBwb2ludGVyRXZlbnRzU3lzdGVtLm9uUG9pbnRlckRvd24oXG4gICAgICAgIHtcbiAgICAgICAgICBlbnRpdHk6IGJ1dHRvbixcbiAgICAgICAgICBvcHRzOiB7IGJ1dHRvbjogSW5wdXRBY3Rpb24uSUFfUE9JTlRFUiwgaG92ZXJUZXh0OiBjb250cm9sLm5hbWUgfVxuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB0aGlzLmhhbmRsZUNvbnRyb2woY29udHJvbC5pZClcbiAgICAgIClcblxuICAgICAgeE9mZnNldCArPSAwLjhcbiAgICB9KVxuICB9XG5cbiAgLy8gQ3JlYXRlIHN0YXR1cyBiYXJcbiAgcHJpdmF0ZSBjcmVhdGVTdGF0dXNCYXIoKSB7XG4gICAgY29uc3Qgc3RhdHVzQmFyID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZShzdGF0dXNCYXIsIHtcbiAgICAgIHBhcmVudDogdGhpcy5kYXNoYm9hcmRVSSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAtMS45LCAwLjEpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDUuNSwgMC4yLCAwLjEpXG4gICAgfSlcbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KHN0YXR1c0JhcilcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChzdGF0dXNCYXIsIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMSwgMC4xLCAwLjEsIDAuOCksXG4gICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMSwgMC4xLCAwLjEsIDAuMyksXG4gICAgICBlbWlzc2l2ZUludGVuc2l0eTogMVxuICAgIH0pXG5cbiAgICBjb25zdCBzdGF0dXNUZXh0ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZShzdGF0dXNUZXh0LCB7XG4gICAgICBwYXJlbnQ6IHN0YXR1c0JhcixcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwLjEpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMywgMC4zLCAwLjMpXG4gICAgfSlcbiAgICBUZXh0U2hhcGUuY3JlYXRlKHN0YXR1c1RleHQsIHtcbiAgICAgIHRleHQ6ICdcdUQ4M0RcdURDQ0EgTGFzdCBVcGRhdGU6IEp1c3QgTm93IHwgRXZlbnRzOiAwJyxcbiAgICAgIHRleHRDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAxLCAxLCAxKSxcbiAgICAgIGZvbnRTaXplOiAxLjIsXG4gICAgICB0ZXh0QWxpZ246IDNcbiAgICB9KVxuICB9XG5cbiAgLy8gQ3JlYXRlIGRlZmF1bHQgd2lkZ2V0c1xuICBwcml2YXRlIGNyZWF0ZURlZmF1bHRXaWRnZXRzKCkge1xuICAgIC8vIFVzZXIgYWN0aXZpdHkgY2hhcnRcbiAgICBjb25zdCB1c2VyQWN0aXZpdHlDaGFydDogRGFzaGJvYXJkV2lkZ2V0ID0ge1xuICAgICAgaWQ6ICd3aWRnZXRfdXNlcl9hY3Rpdml0eScsXG4gICAgICB0eXBlOiAnY2hhcnQnLFxuICAgICAgdGl0bGU6ICdVc2VyIEFjdGl2aXR5JyxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgtMS41LCAwLjUsIDAuMSksXG4gICAgICBzaXplOiBWZWN0b3IzLmNyZWF0ZSgyLjUsIDEuNSwgMC4xKSxcbiAgICAgIGRhdGFTb3VyY2U6ICd1c2VyX2JlaGF2aW9yJyxcbiAgICAgIHJlZnJlc2hJbnRlcnZhbDogMTAwMDAsXG4gICAgICBjb25maWc6IHtcbiAgICAgICAgY2hhcnRUeXBlOiAnbGluZScsXG4gICAgICAgIHRpbWVSYW5nZTogJ2RheScsXG4gICAgICAgIGFnZ3JlZ2F0aW9uOiAnY291bnQnLFxuICAgICAgICBjb2xvcnM6IFtDb2xvcjMuY3JlYXRlKDAuMiwgMC42LCAxKSwgQ29sb3IzLmNyZWF0ZSgxLCAwLjYsIDAuMildLFxuICAgICAgICBzaG93TGVnZW5kOiB0cnVlLFxuICAgICAgICBzaG93R3JpZDogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGlzVmlzaWJsZTogdHJ1ZVxuICAgIH1cblxuICAgIC8vIFN5c3RlbSBwZXJmb3JtYW5jZSBnYXVnZVxuICAgIGNvbnN0IHN5c3RlbVBlcmZvcm1hbmNlR2F1Z2U6IERhc2hib2FyZFdpZGdldCA9IHtcbiAgICAgIGlkOiAnd2lkZ2V0X3N5c3RlbV9wZXJmb3JtYW5jZScsXG4gICAgICB0eXBlOiAnZ2F1Z2UnLFxuICAgICAgdGl0bGU6ICdTeXN0ZW0gUGVyZm9ybWFuY2UnLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDEuNSwgMC44LCAwLjEpLFxuICAgICAgc2l6ZTogVmVjdG9yMy5jcmVhdGUoMSwgMC42LCAwLjEpLFxuICAgICAgZGF0YVNvdXJjZTogJ3N5c3RlbV9wZXJmb3JtYW5jZScsXG4gICAgICByZWZyZXNoSW50ZXJ2YWw6IDUwMDAsXG4gICAgICBjb25maWc6IHtcbiAgICAgICAgdGltZVJhbmdlOiAnaG91cicsXG4gICAgICAgIGFnZ3JlZ2F0aW9uOiAnYXZnJ1xuICAgICAgfSxcbiAgICAgIGlzVmlzaWJsZTogdHJ1ZVxuICAgIH1cblxuICAgIC8vIEJ1c2luZXNzIG1ldHJpY3NcbiAgICBjb25zdCBidXNpbmVzc01ldHJpY3M6IERhc2hib2FyZFdpZGdldCA9IHtcbiAgICAgIGlkOiAnd2lkZ2V0X2J1c2luZXNzX21ldHJpY3MnLFxuICAgICAgdHlwZTogJ21ldHJpYycsXG4gICAgICB0aXRsZTogJ0J1c2luZXNzIE1ldHJpY3MnLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDEuNSwgMC4yLCAwLjEpLFxuICAgICAgc2l6ZTogVmVjdG9yMy5jcmVhdGUoMi41LCAwLjYsIDAuMSksXG4gICAgICBkYXRhU291cmNlOiAnYnVzaW5lc3NfbWV0cmljcycsXG4gICAgICByZWZyZXNoSW50ZXJ2YWw6IDE1MDAwLFxuICAgICAgY29uZmlnOiB7XG4gICAgICAgIHRpbWVSYW5nZTogJ3dlZWsnLFxuICAgICAgICBhZ2dyZWdhdGlvbjogJ3N1bSdcbiAgICAgIH0sXG4gICAgICBpc1Zpc2libGU6IHRydWVcbiAgICB9XG5cbiAgICAvLyBSZWFsLXRpbWUgZXZlbnRzXG4gICAgY29uc3QgcmVhbHRpbWVFdmVudHM6IERhc2hib2FyZFdpZGdldCA9IHtcbiAgICAgIGlkOiAnd2lkZ2V0X3JlYWx0aW1lX2V2ZW50cycsXG4gICAgICB0eXBlOiAncmVhbHRpbWUnLFxuICAgICAgdGl0bGU6ICdSZWFsLXRpbWUgRXZlbnRzJyxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAtMC44LCAwLjEpLFxuICAgICAgc2l6ZTogVmVjdG9yMy5jcmVhdGUoNSwgMC44LCAwLjEpLFxuICAgICAgZGF0YVNvdXJjZTogJ3JlYWx0aW1lJyxcbiAgICAgIHJlZnJlc2hJbnRlcnZhbDogMTAwMCxcbiAgICAgIGNvbmZpZzoge1xuICAgICAgICB0aW1lUmFuZ2U6ICdob3VyJ1xuICAgICAgfSxcbiAgICAgIGlzVmlzaWJsZTogdHJ1ZVxuICAgIH1cblxuICAgIHRoaXMud2lkZ2V0cy5zZXQodXNlckFjdGl2aXR5Q2hhcnQuaWQsIHVzZXJBY3Rpdml0eUNoYXJ0KVxuICAgIHRoaXMud2lkZ2V0cy5zZXQoc3lzdGVtUGVyZm9ybWFuY2VHYXVnZS5pZCwgc3lzdGVtUGVyZm9ybWFuY2VHYXVnZSlcbiAgICB0aGlzLndpZGdldHMuc2V0KGJ1c2luZXNzTWV0cmljcy5pZCwgYnVzaW5lc3NNZXRyaWNzKVxuICAgIHRoaXMud2lkZ2V0cy5zZXQocmVhbHRpbWVFdmVudHMuaWQsIHJlYWx0aW1lRXZlbnRzKVxuXG4gICAgY29uc29sZS5sb2coJ1x1RDgzRFx1RENDOCBEZWZhdWx0IHdpZGdldHMgY3JlYXRlZCcpXG4gIH1cblxuICAvLyBDcmVhdGUgZGVmYXVsdCByZXBvcnRzXG4gIHByaXZhdGUgY3JlYXRlRGVmYXVsdFJlcG9ydHMoKSB7XG4gICAgLy8gRGFpbHkgcGVyZm9ybWFuY2UgcmVwb3J0XG4gICAgY29uc3QgZGFpbHlSZXBvcnQ6IFJlcG9ydCA9IHtcbiAgICAgIGlkOiAncmVwb3J0X2RhaWx5X3BlcmZvcm1hbmNlJyxcbiAgICAgIG5hbWU6ICdEYWlseSBQZXJmb3JtYW5jZSBSZXBvcnQnLFxuICAgICAgZGVzY3JpcHRpb246ICdDb21wcmVoZW5zaXZlIGRhaWx5IHBlcmZvcm1hbmNlIG1ldHJpY3MnLFxuICAgICAgY2F0ZWdvcnk6ICdzeXN0ZW1fcGVyZm9ybWFuY2UnLFxuICAgICAgd2lkZ2V0czogWyd3aWRnZXRfdXNlcl9hY3Rpdml0eScsICd3aWRnZXRfc3lzdGVtX3BlcmZvcm1hbmNlJ10sXG4gICAgICBzY2hlZHVsZToge1xuICAgICAgICBmcmVxdWVuY3k6ICdkYWlseScsXG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIG5leHRSdW46IERhdGUubm93KCkgKyA4NjQwMDAwMCwgLy8gVG9tb3Jyb3dcbiAgICAgICAgdGltZXpvbmU6ICdVVEMnXG4gICAgICB9LFxuICAgICAgcmVjaXBpZW50czogWydhZG1pbkBhaWdlc3Rpb24uY29tJ10sXG4gICAgICBmb3JtYXQ6ICdwZGYnLFxuICAgICAgaXNUZW1wbGF0ZTogZmFsc2VcbiAgICB9XG5cbiAgICAvLyBXZWVrbHkgYnVzaW5lc3MgcmVwb3J0XG4gICAgY29uc3Qgd2Vla2x5UmVwb3J0OiBSZXBvcnQgPSB7XG4gICAgICBpZDogJ3JlcG9ydF93ZWVrbHlfYnVzaW5lc3MnLFxuICAgICAgbmFtZTogJ1dlZWtseSBCdXNpbmVzcyBSZXBvcnQnLFxuICAgICAgZGVzY3JpcHRpb246ICdXZWVrbHkgYnVzaW5lc3MgbWV0cmljcyBhbmQgS1BJcycsXG4gICAgICBjYXRlZ29yeTogJ2J1c2luZXNzX21ldHJpY3MnLFxuICAgICAgd2lkZ2V0czogWyd3aWRnZXRfYnVzaW5lc3NfbWV0cmljcyddLFxuICAgICAgc2NoZWR1bGU6IHtcbiAgICAgICAgZnJlcXVlbmN5OiAnd2Vla2x5JyxcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgbmV4dFJ1bjogRGF0ZS5ub3coKSArIDYwNDgwMDAwMCwgLy8gTmV4dCB3ZWVrXG4gICAgICAgIHRpbWV6b25lOiAnVVRDJ1xuICAgICAgfSxcbiAgICAgIHJlY2lwaWVudHM6IFsnbWFuYWdlbWVudEBhaWdlc3Rpb24uY29tJ10sXG4gICAgICBmb3JtYXQ6ICdodG1sJyxcbiAgICAgIGlzVGVtcGxhdGU6IGZhbHNlXG4gICAgfVxuXG4gICAgdGhpcy5yZXBvcnRzLnNldChkYWlseVJlcG9ydC5pZCwgZGFpbHlSZXBvcnQpXG4gICAgdGhpcy5yZXBvcnRzLnNldCh3ZWVrbHlSZXBvcnQuaWQsIHdlZWtseVJlcG9ydClcblxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURDQ0IgRGVmYXVsdCByZXBvcnRzIGNyZWF0ZWQnKVxuICB9XG5cbiAgLy8gU3RhcnQgYW5hbHl0aWNzIGVuZ2luZVxuICBwcml2YXRlIHN0YXJ0QW5hbHl0aWNzRW5naW5lKCkge1xuICAgIGVuZ2luZS5hZGRTeXN0ZW0oKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmlzSW5pdGlhbGl6ZWQpIHJldHVyblxuXG4gICAgICB0aGlzLnVwZGF0ZVJlYWxUaW1lRGF0YSgpXG4gICAgICB0aGlzLnJlZnJlc2hXaWRnZXRzKClcbiAgICAgIHRoaXMucHJvY2Vzc1JlcG9ydHMoKVxuICAgICAgdGhpcy5jbGVhbnVwT2xkRGF0YSgpXG4gICAgfSlcbiAgfVxuXG4gIC8vIEdlbmVyYXRlIHNhbXBsZSBkYXRhXG4gIHByaXZhdGUgZ2VuZXJhdGVTYW1wbGVEYXRhKCkge1xuICAgIC8vIEdlbmVyYXRlIHNhbXBsZSBhbmFseXRpY3MgZGF0YVxuICAgIGNvbnN0IGNhdGVnb3JpZXM6IEFuYWx5dGljc0NhdGVnb3J5W10gPSBbJ3VzZXJfYmVoYXZpb3InLCAnc3lzdGVtX3BlcmZvcm1hbmNlJywgJ2J1c2luZXNzX21ldHJpY3MnLCAnZW5nYWdlbWVudCddXG5cbiAgICBjYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgY29uc3QgZGF0YTogQW5hbHl0aWNzRGF0YSA9IHtcbiAgICAgICAgaWQ6IGBkYXRhXyR7Y2F0ZWdvcnl9XyR7RGF0ZS5ub3coKX1gLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgICAgICAgbWV0cmljczogdGhpcy5nZW5lcmF0ZU1ldHJpY3MoY2F0ZWdvcnkpLFxuICAgICAgICBkaW1lbnNpb25zOiBuZXcgTWFwKFtcbiAgICAgICAgICBbJ3BsYXRmb3JtJywgJ3dlYiddLFxuICAgICAgICAgIFsndmVyc2lvbicsICcxLjAuMCddLFxuICAgICAgICAgIFsnZW52aXJvbm1lbnQnLCAncHJvZHVjdGlvbiddXG4gICAgICAgIF0pLFxuICAgICAgICBldmVudHM6IFtdLFxuICAgICAgICBrcGlzOiB0aGlzLmdlbmVyYXRlS1BJcyhjYXRlZ29yeSlcbiAgICAgIH1cblxuICAgICAgdGhpcy5hbmFseXRpY3NEYXRhLnNldChkYXRhLmlkLCBkYXRhKVxuICAgIH0pXG5cbiAgICAvLyBHZW5lcmF0ZSBzYW1wbGUgcmVhbC10aW1lIGV2ZW50c1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTA7IGkrKykge1xuICAgICAgY29uc3QgZXZlbnQ6IEFuYWx5dGljc0V2ZW50ID0ge1xuICAgICAgICBpZDogYGV2ZW50XyR7RGF0ZS5ub3coKX1fJHtpfWAsXG4gICAgICAgIG5hbWU6IHRoaXMuZ2V0UmFuZG9tRXZlbnROYW1lKCksXG4gICAgICAgIGNhdGVnb3J5OiB0aGlzLmdldFJhbmRvbUV2ZW50Q2F0ZWdvcnkoKSxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpIC0gTWF0aC5yYW5kb20oKSAqIDM2MDAwMDAsIC8vIExhc3QgaG91clxuICAgICAgICB1c2VySWQ6IGB1c2VyXyR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKX1gLFxuICAgICAgICBzZXNzaW9uSWQ6IGBzZXNzaW9uXyR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjApfWAsXG4gICAgICAgIHByb3BlcnRpZXM6IG5ldyBNYXAoW1xuICAgICAgICAgIFsnYWN0aW9uJywgdGhpcy5nZXRSYW5kb21BY3Rpb24oKV0sXG4gICAgICAgICAgWydwYWdlJywgdGhpcy5nZXRSYW5kb21QYWdlKCldLFxuICAgICAgICAgIFsnZHVyYXRpb24nLCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzMDApXVxuICAgICAgICBdKSxcbiAgICAgICAgdmFsdWU6IE1hdGgucmFuZG9tKCkgKiAxMDBcbiAgICAgIH1cblxuICAgICAgdGhpcy5yZWFsVGltZURhdGEucHVzaChldmVudClcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVEQ0NBIFNhbXBsZSBhbmFseXRpY3MgZGF0YSBnZW5lcmF0ZWQnKVxuICB9XG5cbiAgLy8gR2VuZXJhdGUgbWV0cmljc1xuICBwcml2YXRlIGdlbmVyYXRlTWV0cmljcyhjYXRlZ29yeTogQW5hbHl0aWNzQ2F0ZWdvcnkpOiBNYXA8c3RyaW5nLCBudW1iZXI+IHtcbiAgICBjb25zdCBtZXRyaWNzID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKVxuXG4gICAgc3dpdGNoIChjYXRlZ29yeSkge1xuICAgICAgY2FzZSAndXNlcl9iZWhhdmlvcic6XG4gICAgICAgIG1ldHJpY3Muc2V0KCdhY3RpdmVfdXNlcnMnLCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKSArIDUwMClcbiAgICAgICAgbWV0cmljcy5zZXQoJ3BhZ2Vfdmlld3MnLCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCkgKyA1MDAwKVxuICAgICAgICBtZXRyaWNzLnNldCgnc2Vzc2lvbl9kdXJhdGlvbicsIE1hdGgucmFuZG9tKCkgKiA2MDAgKyAxMjApXG4gICAgICAgIG1ldHJpY3Muc2V0KCdib3VuY2VfcmF0ZScsIE1hdGgucmFuZG9tKCkgKiAwLjUgKyAwLjIpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdzeXN0ZW1fcGVyZm9ybWFuY2UnOlxuICAgICAgICBtZXRyaWNzLnNldCgnY3B1X3VzYWdlJywgTWF0aC5yYW5kb20oKSAqIDgwICsgMTApXG4gICAgICAgIG1ldHJpY3Muc2V0KCdtZW1vcnlfdXNhZ2UnLCBNYXRoLnJhbmRvbSgpICogNzAgKyAyMClcbiAgICAgICAgbWV0cmljcy5zZXQoJ3Jlc3BvbnNlX3RpbWUnLCBNYXRoLnJhbmRvbSgpICogNTAwICsgMTAwKVxuICAgICAgICBtZXRyaWNzLnNldCgnZXJyb3JfcmF0ZScsIE1hdGgucmFuZG9tKCkgKiA1KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnYnVzaW5lc3NfbWV0cmljcyc6XG4gICAgICAgIG1ldHJpY3Muc2V0KCdyZXZlbnVlJywgTWF0aC5yYW5kb20oKSAqIDEwMDAwICsgNTAwMClcbiAgICAgICAgbWV0cmljcy5zZXQoJ2NvbnZlcnNpb25fcmF0ZScsIE1hdGgucmFuZG9tKCkgKiAwLjEgKyAwLjAyKVxuICAgICAgICBtZXRyaWNzLnNldCgnY3VzdG9tZXJfYWNxdWlzaXRpb24nLCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApICsgNTApXG4gICAgICAgIG1ldHJpY3Muc2V0KCdyZXRlbnRpb25fcmF0ZScsIE1hdGgucmFuZG9tKCkgKiAwLjMgKyAwLjYpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdlbmdhZ2VtZW50JzpcbiAgICAgICAgbWV0cmljcy5zZXQoJ2ludGVyYWN0aW9uX3JhdGUnLCBNYXRoLnJhbmRvbSgpICogMC44ICsgMC4xKVxuICAgICAgICBtZXRyaWNzLnNldCgnc29jaWFsX3NoYXJlcycsIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUwMCkgKyAxMDApXG4gICAgICAgIG1ldHJpY3Muc2V0KCdjb21tZW50cycsIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIwMCkgKyA1MClcbiAgICAgICAgbWV0cmljcy5zZXQoJ2xpa2VzJywgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMCkgKyAyMDApXG4gICAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgcmV0dXJuIG1ldHJpY3NcbiAgfVxuXG4gIC8vIEdlbmVyYXRlIEtQSXNcbiAgcHJpdmF0ZSBnZW5lcmF0ZUtQSXMoY2F0ZWdvcnk6IEFuYWx5dGljc0NhdGVnb3J5KTogS1BJRGF0YVtdIHtcbiAgICBjb25zdCBrcGlzOiBLUElEYXRhW10gPSBbXVxuXG4gICAgc3dpdGNoIChjYXRlZ29yeSkge1xuICAgICAgY2FzZSAndXNlcl9iZWhhdmlvcic6XG4gICAgICAgIGtwaXMucHVzaCh7XG4gICAgICAgICAgaWQ6ICdrcGlfZGFpbHlfYWN0aXZlX3VzZXJzJyxcbiAgICAgICAgICBuYW1lOiAnRGFpbHkgQWN0aXZlIFVzZXJzJyxcbiAgICAgICAgICB2YWx1ZTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMCkgKyA1MDAsXG4gICAgICAgICAgdGFyZ2V0OiAxNTAwLFxuICAgICAgICAgIHVuaXQ6ICd1c2VycycsXG4gICAgICAgICAgdHJlbmQ6IE1hdGgucmFuZG9tKCkgPiAwLjUgPyAndXAnIDogJ2Rvd24nLFxuICAgICAgICAgIGNoYW5nZTogKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMjAsXG4gICAgICAgICAgc3RhdHVzOiAnZ29vZCdcbiAgICAgICAgfSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3N5c3RlbV9wZXJmb3JtYW5jZSc6XG4gICAgICAgIGtwaXMucHVzaCh7XG4gICAgICAgICAgaWQ6ICdrcGlfdXB0aW1lJyxcbiAgICAgICAgICBuYW1lOiAnU3lzdGVtIFVwdGltZScsXG4gICAgICAgICAgdmFsdWU6IDk5LjUgKyBNYXRoLnJhbmRvbSgpICogMC41LFxuICAgICAgICAgIHRhcmdldDogOTkuOSxcbiAgICAgICAgICB1bml0OiAnJScsXG4gICAgICAgICAgdHJlbmQ6ICdzdGFibGUnLFxuICAgICAgICAgIGNoYW5nZTogMC4xLFxuICAgICAgICAgIHN0YXR1czogJ2dvb2QnXG4gICAgICAgIH0pXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdidXNpbmVzc19tZXRyaWNzJzpcbiAgICAgICAga3Bpcy5wdXNoKHtcbiAgICAgICAgICBpZDogJ2twaV9tb250aGx5X3JldmVudWUnLFxuICAgICAgICAgIG5hbWU6ICdNb250aGx5IFJldmVudWUnLFxuICAgICAgICAgIHZhbHVlOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1MDAwMCkgKyAxMDAwMDAsXG4gICAgICAgICAgdGFyZ2V0OiAyMDAwMDAsXG4gICAgICAgICAgdW5pdDogJyQnLFxuICAgICAgICAgIHRyZW5kOiBNYXRoLnJhbmRvbSgpID4gMC4zID8gJ3VwJyA6ICdkb3duJyxcbiAgICAgICAgICBjaGFuZ2U6IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDE1LFxuICAgICAgICAgIHN0YXR1czogTWF0aC5yYW5kb20oKSA+IDAuMiA/ICdnb29kJyA6ICd3YXJuaW5nJ1xuICAgICAgICB9KVxuICAgICAgICBicmVha1xuICAgIH1cblxuICAgIHJldHVybiBrcGlzXG4gIH1cblxuICAvLyBHZXQgcmFuZG9tIGV2ZW50IG5hbWVcbiAgcHJpdmF0ZSBnZXRSYW5kb21FdmVudE5hbWUoKTogc3RyaW5nIHtcbiAgICBjb25zdCBldmVudHMgPSBbXG4gICAgICAncGFnZV92aWV3JywgJ2J1dHRvbl9jbGljaycsICdmb3JtX3N1Ym1pdCcsICd2aWRlb19wbGF5JywgJ2Rvd25sb2FkJyxcbiAgICAgICdsb2dpbicsICdsb2dvdXQnLCAnc2VhcmNoJywgJ2ZpbHRlcicsICdzb3J0JywgJ3NoYXJlJywgJ2NvbW1lbnQnLFxuICAgICAgJ3B1cmNoYXNlJywgJ2FkZF90b19jYXJ0JywgJ2NoZWNrb3V0JywgJ3NpZ25fdXAnLCAnc3Vic2NyaWJlJ1xuICAgIF1cbiAgICByZXR1cm4gZXZlbnRzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGV2ZW50cy5sZW5ndGgpXVxuICB9XG5cbiAgLy8gR2V0IHJhbmRvbSBldmVudCBjYXRlZ29yeVxuICBwcml2YXRlIGdldFJhbmRvbUV2ZW50Q2F0ZWdvcnkoKTogc3RyaW5nIHtcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gWyduYXZpZ2F0aW9uJywgJ2ludGVyYWN0aW9uJywgJ2NvbnZlcnNpb24nLCAnZW5nYWdlbWVudCcsICdlcnJvciddXG4gICAgcmV0dXJuIGNhdGVnb3JpZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2F0ZWdvcmllcy5sZW5ndGgpXVxuICB9XG5cbiAgLy8gR2V0IHJhbmRvbSBhY3Rpb25cbiAgcHJpdmF0ZSBnZXRSYW5kb21BY3Rpb24oKTogc3RyaW5nIHtcbiAgICBjb25zdCBhY3Rpb25zID0gWydjbGljaycsICdob3ZlcicsICdzY3JvbGwnLCAnc3dpcGUnLCAndGFwJywgJ2RyYWcnLCAnZHJvcCddXG4gICAgcmV0dXJuIGFjdGlvbnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYWN0aW9ucy5sZW5ndGgpXVxuICB9XG5cbiAgLy8gR2V0IHJhbmRvbSBwYWdlXG4gIHByaXZhdGUgZ2V0UmFuZG9tUGFnZSgpOiBzdHJpbmcge1xuICAgIGNvbnN0IHBhZ2VzID0gW1xuICAgICAgJy9kYXNoYm9hcmQnLCAnL3Byb2ZpbGUnLCAnL3NldHRpbmdzJywgJy9hbmFseXRpY3MnLCAnL3JlcG9ydHMnLFxuICAgICAgJy9wcm9kdWN0cycsICcvc2VydmljZXMnLCAnL2Fib3V0JywgJy9jb250YWN0JywgJy9oZWxwJ1xuICAgIF1cbiAgICByZXR1cm4gcGFnZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcGFnZXMubGVuZ3RoKV1cbiAgfVxuXG4gIC8vIFVwZGF0ZSByZWFsLXRpbWUgZGF0YVxuICBwcml2YXRlIHVwZGF0ZVJlYWxUaW1lRGF0YSgpIHtcbiAgICAvLyBTaW11bGF0ZSBuZXcgcmVhbC10aW1lIGV2ZW50c1xuICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC4xKSB7XG4gICAgICBjb25zdCBldmVudDogQW5hbHl0aWNzRXZlbnQgPSB7XG4gICAgICAgIGlkOiBgZXZlbnRfcmVhbHRpbWVfJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCl9YCxcbiAgICAgICAgbmFtZTogdGhpcy5nZXRSYW5kb21FdmVudE5hbWUoKSxcbiAgICAgICAgY2F0ZWdvcnk6IHRoaXMuZ2V0UmFuZG9tRXZlbnRDYXRlZ29yeSgpLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIHVzZXJJZDogYHVzZXJfJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApfWAsXG4gICAgICAgIHNlc3Npb25JZDogYHNlc3Npb25fJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyMCl9YCxcbiAgICAgICAgcHJvcGVydGllczogbmV3IE1hcChbXG4gICAgICAgICAgWydhY3Rpb24nLCB0aGlzLmdldFJhbmRvbUFjdGlvbigpXSxcbiAgICAgICAgICBbJ3BhZ2UnLCB0aGlzLmdldFJhbmRvbVBhZ2UoKV1cbiAgICAgICAgXSksXG4gICAgICAgIHZhbHVlOiBNYXRoLnJhbmRvbSgpICogMTAwXG4gICAgICB9XG5cbiAgICAgIHRoaXMucmVhbFRpbWVEYXRhLnB1c2goZXZlbnQpXG5cbiAgICAgIC8vIEtlZXAgb25seSByZWNlbnQgZXZlbnRzXG4gICAgICBpZiAodGhpcy5yZWFsVGltZURhdGEubGVuZ3RoID4gdGhpcy5tYXhSZWFsVGltZUV2ZW50cykge1xuICAgICAgICB0aGlzLnJlYWxUaW1lRGF0YSA9IHRoaXMucmVhbFRpbWVEYXRhLnNsaWNlKC10aGlzLm1heFJlYWxUaW1lRXZlbnRzKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFJlZnJlc2ggd2lkZ2V0c1xuICBwcml2YXRlIHJlZnJlc2hXaWRnZXRzKCkge1xuICAgIHRoaXMud2lkZ2V0cy5mb3JFYWNoKCh3aWRnZXQsIGlkKSA9PiB7XG4gICAgICBpZiAoRGF0ZS5ub3coKSAtIHdpZGdldC5yZWZyZXNoSW50ZXJ2YWwgPCAwKSByZXR1cm5cblxuICAgICAgdGhpcy51cGRhdGVXaWRnZXREYXRhKHdpZGdldClcbiAgICB9KVxuICB9XG5cbiAgLy8gVXBkYXRlIHdpZGdldCBkYXRhXG4gIHByaXZhdGUgdXBkYXRlV2lkZ2V0RGF0YSh3aWRnZXQ6IERhc2hib2FyZFdpZGdldCkge1xuICAgIHN3aXRjaCAod2lkZ2V0LnR5cGUpIHtcbiAgICAgIGNhc2UgJ2NoYXJ0JzpcbiAgICAgICAgdGhpcy51cGRhdGVDaGFydERhdGEod2lkZ2V0KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnZ2F1Z2UnOlxuICAgICAgICB0aGlzLnVwZGF0ZUdhdWdlRGF0YSh3aWRnZXQpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdtZXRyaWMnOlxuICAgICAgICB0aGlzLnVwZGF0ZU1ldHJpY0RhdGEod2lkZ2V0KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAncmVhbHRpbWUnOlxuICAgICAgICB0aGlzLnVwZGF0ZVJlYWx0aW1lRGF0YSh3aWRnZXQpXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgLy8gVXBkYXRlIGNoYXJ0IGRhdGFcbiAgcHJpdmF0ZSB1cGRhdGVDaGFydERhdGEod2lkZ2V0OiBEYXNoYm9hcmRXaWRnZXQpIHtcbiAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVEQ0M4IFVwZGF0aW5nIGNoYXJ0IHdpZGdldDogJHt3aWRnZXQudGl0bGV9YClcbiAgICAvLyBJbiByZWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdvdWxkIHVwZGF0ZSB0aGUgYWN0dWFsIGNoYXJ0IHZpc3VhbGl6YXRpb25cbiAgfVxuXG4gIC8vIFVwZGF0ZSBnYXVnZSBkYXRhXG4gIHByaXZhdGUgdXBkYXRlR2F1Z2VEYXRhKHdpZGdldDogRGFzaGJvYXJkV2lkZ2V0KSB7XG4gICAgY29uc29sZS5sb2coYFx1RDgzQ1x1REZBRiBVcGRhdGluZyBnYXVnZSB3aWRnZXQ6ICR7d2lkZ2V0LnRpdGxlfWApXG4gICAgLy8gSW4gcmVhbCBpbXBsZW1lbnRhdGlvbiwgdGhpcyB3b3VsZCB1cGRhdGUgdGhlIGFjdHVhbCBnYXVnZSB2aXN1YWxpemF0aW9uXG4gIH1cblxuICAvLyBVcGRhdGUgbWV0cmljIGRhdGFcbiAgcHJpdmF0ZSB1cGRhdGVNZXRyaWNEYXRhKHdpZGdldDogRGFzaGJvYXJkV2lkZ2V0KSB7XG4gICAgY29uc29sZS5sb2coYFx1RDgzRFx1RENDQSBVcGRhdGluZyBtZXRyaWMgd2lkZ2V0OiAke3dpZGdldC50aXRsZX1gKVxuICAgIC8vIEluIHJlYWwgaW1wbGVtZW50YXRpb24sIHRoaXMgd291bGQgdXBkYXRlIHRoZSBhY3R1YWwgbWV0cmljIGRpc3BsYXlcbiAgfVxuXG4gIC8vIFVwZGF0ZSByZWFsLXRpbWUgZGF0YSB3aWRnZXRcbiAgcHJpdmF0ZSB1cGRhdGVSZWFsdGltZURhdGEod2lkZ2V0OiBEYXNoYm9hcmRXaWRnZXQpIHtcbiAgICBjb25zb2xlLmxvZyhgXHUyNkExIFVwZGF0aW5nIHJlYWwtdGltZSB3aWRnZXQ6ICR7d2lkZ2V0LnRpdGxlfWApXG4gICAgLy8gSW4gcmVhbCBpbXBsZW1lbnRhdGlvbiwgdGhpcyB3b3VsZCB1cGRhdGUgdGhlIHJlYWwtdGltZSBldmVudCBkaXNwbGF5XG4gIH1cblxuICAvLyBQcm9jZXNzIHJlcG9ydHNcbiAgcHJpdmF0ZSBwcm9jZXNzUmVwb3J0cygpIHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpXG5cbiAgICB0aGlzLnJlcG9ydHMuZm9yRWFjaCgocmVwb3J0LCBpZCkgPT4ge1xuICAgICAgaWYgKHJlcG9ydC5zY2hlZHVsZS5lbmFibGVkICYmIG5vdyA+PSByZXBvcnQuc2NoZWR1bGUubmV4dFJ1bikge1xuICAgICAgICB0aGlzLmdlbmVyYXRlUmVwb3J0KHJlcG9ydClcbiAgICAgICAgcmVwb3J0LnNjaGVkdWxlLm5leHRSdW4gPSB0aGlzLmNhbGN1bGF0ZU5leHRSdW4ocmVwb3J0LnNjaGVkdWxlKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvLyBHZW5lcmF0ZSByZXBvcnRcbiAgcHJpdmF0ZSBnZW5lcmF0ZVJlcG9ydChyZXBvcnQ6IFJlcG9ydCkge1xuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURDQ0IgR2VuZXJhdGluZyByZXBvcnQ6ICR7cmVwb3J0Lm5hbWV9YClcblxuICAgIC8vIENvbGxlY3QgZGF0YSBmcm9tIHdpZGdldHNcbiAgICBjb25zdCByZXBvcnREYXRhID0ge1xuICAgICAgcmVwb3J0SWQ6IHJlcG9ydC5pZCxcbiAgICAgIHJlcG9ydE5hbWU6IHJlcG9ydC5uYW1lLFxuICAgICAgZ2VuZXJhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHdpZGdldHM6IHJlcG9ydC53aWRnZXRzLm1hcCh3aWRnZXRJZCA9PiB7XG4gICAgICAgIGNvbnN0IHdpZGdldCA9IHRoaXMud2lkZ2V0cy5nZXQod2lkZ2V0SWQpXG4gICAgICAgIHJldHVybiB3aWRnZXQgPyB7XG4gICAgICAgICAgaWQ6IHdpZGdldC5pZCxcbiAgICAgICAgICB0aXRsZTogd2lkZ2V0LnRpdGxlLFxuICAgICAgICAgIGRhdGE6IHRoaXMuZ2V0V2lkZ2V0RGF0YSh3aWRnZXQpXG4gICAgICAgIH0gOiBudWxsXG4gICAgICB9KS5maWx0ZXIoQm9vbGVhbilcbiAgICB9XG5cbiAgICAvLyBTZW5kIHRvIHJlY2lwaWVudHNcbiAgICByZXBvcnQucmVjaXBpZW50cy5mb3JFYWNoKHJlY2lwaWVudCA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVEQ0U3IFNlbmRpbmcgcmVwb3J0IHRvOiAke3JlY2lwaWVudH1gKVxuICAgIH0pXG5cbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgncG93ZXJ1cCcpXG4gIH1cblxuICAvLyBHZXQgd2lkZ2V0IGRhdGFcbiAgcHJpdmF0ZSBnZXRXaWRnZXREYXRhKHdpZGdldDogRGFzaGJvYXJkV2lkZ2V0KTogYW55IHtcbiAgICBjb25zdCBkYXRhID0gQXJyYXkuZnJvbSh0aGlzLmFuYWx5dGljc0RhdGEudmFsdWVzKCkpXG4gICAgICAuZmlsdGVyKGQgPT4gZC5jYXRlZ29yeSA9PT0gd2lkZ2V0LmRhdGFTb3VyY2UpXG4gICAgICAubWFwKGQgPT4gKHtcbiAgICAgICAgdGltZXN0YW1wOiBkLnRpbWVzdGFtcCxcbiAgICAgICAgbWV0cmljczogT2JqZWN0LmZyb21FbnRyaWVzKGQubWV0cmljcyksXG4gICAgICAgIGtwaXM6IGQua3Bpc1xuICAgICAgfSkpXG5cbiAgICByZXR1cm4gZGF0YVxuICB9XG5cbiAgLy8gQ2FsY3VsYXRlIG5leHQgcnVuIHRpbWVcbiAgcHJpdmF0ZSBjYWxjdWxhdGVOZXh0UnVuKHNjaGVkdWxlOiBSZXBvcnRTY2hlZHVsZSk6IG51bWJlciB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKVxuICAgIGxldCBuZXh0UnVuID0gbm93XG5cbiAgICBzd2l0Y2ggKHNjaGVkdWxlLmZyZXF1ZW5jeSkge1xuICAgICAgY2FzZSAnaG91cmx5JzpcbiAgICAgICAgbmV4dFJ1biA9IG5vdyArIDM2MDAwMDBcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2RhaWx5JzpcbiAgICAgICAgbmV4dFJ1biA9IG5vdyArIDg2NDAwMDAwXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICd3ZWVrbHknOlxuICAgICAgICBuZXh0UnVuID0gbm93ICsgNjA0ODAwMDAwXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdtb250aGx5JzpcbiAgICAgICAgbmV4dFJ1biA9IG5vdyArIDI1OTIwMDAwMDBcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV4dFJ1blxuICB9XG5cbiAgLy8gQ2xlYW4gdXAgb2xkIGRhdGFcbiAgcHJpdmF0ZSBjbGVhbnVwT2xkRGF0YSgpIHtcbiAgICBjb25zdCBjdXRvZmZUaW1lID0gRGF0ZS5ub3coKSAtICh0aGlzLmRhdGFSZXRlbnRpb25EYXlzICogMjQgKiA2MCAqIDYwICogMTAwMClcblxuICAgIC8vIENsZWFuIHVwIGFuYWx5dGljcyBkYXRhXG4gICAgdGhpcy5hbmFseXRpY3NEYXRhLmZvckVhY2goKGRhdGEsIGlkKSA9PiB7XG4gICAgICBpZiAoZGF0YS50aW1lc3RhbXAgPCBjdXRvZmZUaW1lKSB7XG4gICAgICAgIHRoaXMuYW5hbHl0aWNzRGF0YS5kZWxldGUoaWQpXG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIENsZWFuIHVwIHJlYWwtdGltZSBldmVudHNcbiAgICB0aGlzLnJlYWxUaW1lRGF0YSA9IHRoaXMucmVhbFRpbWVEYXRhLmZpbHRlcihldmVudCA9PiBldmVudC50aW1lc3RhbXAgPiBjdXRvZmZUaW1lKVxuICB9XG5cbiAgLy8gSGFuZGxlIGNvbnRyb2xcbiAgcHJpdmF0ZSBoYW5kbGVDb250cm9sKGNvbnRyb2xJZDogc3RyaW5nKSB7XG4gICAgc3dpdGNoIChjb250cm9sSWQpIHtcbiAgICAgIGNhc2UgJ3JlZnJlc2gnOlxuICAgICAgICB0aGlzLnJlZnJlc2hBbGxXaWRnZXRzKClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2V4cG9ydCc6XG4gICAgICAgIHRoaXMuZXhwb3J0RGF0YSgpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdzZXR0aW5ncyc6XG4gICAgICAgIHRoaXMub3BlblNldHRpbmdzKClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2Z1bGxzY3JlZW4nOlxuICAgICAgICB0aGlzLnRvZ2dsZUZ1bGxzY3JlZW4oKVxuICAgICAgICBicmVha1xuICAgIH1cblxuICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdjbGljaycpXG4gIH1cblxuICAvLyBSZWZyZXNoIGFsbCB3aWRnZXRzXG4gIHByaXZhdGUgcmVmcmVzaEFsbFdpZGdldHMoKSB7XG4gICAgY29uc29sZS5sb2coJ1x1RDgzRFx1REQwNCBSZWZyZXNoaW5nIGFsbCB3aWRnZXRzLi4uJylcbiAgICB0aGlzLndpZGdldHMuZm9yRWFjaCh3aWRnZXQgPT4ge1xuICAgICAgdGhpcy51cGRhdGVXaWRnZXREYXRhKHdpZGdldClcbiAgICB9KVxuICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdwb3dlcnVwJylcbiAgfVxuXG4gIC8vIEV4cG9ydCBkYXRhXG4gIHByaXZhdGUgZXhwb3J0RGF0YSgpIHtcbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVEQ0U0IEV4cG9ydGluZyBhbmFseXRpY3MgZGF0YS4uLicpXG5cbiAgICBjb25zdCBleHBvcnREYXRhID0ge1xuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBhbmFseXRpY3NEYXRhOiBBcnJheS5mcm9tKHRoaXMuYW5hbHl0aWNzRGF0YS52YWx1ZXMoKSksXG4gICAgICB3aWRnZXRzOiBBcnJheS5mcm9tKHRoaXMud2lkZ2V0cy52YWx1ZXMoKSksXG4gICAgICByZWFsVGltZUV2ZW50czogdGhpcy5yZWFsVGltZURhdGEuc2xpY2UoLTEwMCkgLy8gTGFzdCAxMDAgZXZlbnRzXG4gICAgfVxuXG4gICAgLy8gSW4gcmVhbCBpbXBsZW1lbnRhdGlvbiwgdGhpcyB3b3VsZCBkb3dubG9hZCB0aGUgZGF0YSBhcyBhIGZpbGVcbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVEQ0NBIERhdGEgZXhwb3J0ZWQgc3VjY2Vzc2Z1bGx5JylcbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgncG93ZXJ1cCcpXG4gIH1cblxuICAvLyBPcGVuIHNldHRpbmdzXG4gIHByaXZhdGUgb3BlblNldHRpbmdzKCkge1xuICAgIGNvbnNvbGUubG9nKCdcdTI2OTlcdUZFMEYgT3BlbmluZyBhbmFseXRpY3Mgc2V0dGluZ3MuLi4nKVxuICAgIC8vIEluIHJlYWwgaW1wbGVtZW50YXRpb24sIHRoaXMgd291bGQgb3BlbiBhIHNldHRpbmdzIHBhbmVsXG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ2NsaWNrJylcbiAgfVxuXG4gIC8vIFRvZ2dsZSBmdWxsc2NyZWVuXG4gIHByaXZhdGUgdG9nZ2xlRnVsbHNjcmVlbigpIHtcbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVERDBEIFRvZ2dsaW5nIGZ1bGxzY3JlZW4gbW9kZS4uLicpXG4gICAgLy8gSW4gcmVhbCBpbXBsZW1lbnRhdGlvbiwgdGhpcyB3b3VsZCB0b2dnbGUgZnVsbHNjcmVlbiBkaXNwbGF5XG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ2NsaWNrJylcbiAgfVxuXG4gIC8vIFRyYWNrIGV2ZW50XG4gIHB1YmxpYyB0cmFja0V2ZW50KGV2ZW50OiBBbmFseXRpY3NFdmVudCkge1xuICAgIHRoaXMucmVhbFRpbWVEYXRhLnB1c2goZXZlbnQpXG5cbiAgICAvLyBLZWVwIG9ubHkgcmVjZW50IGV2ZW50c1xuICAgIGlmICh0aGlzLnJlYWxUaW1lRGF0YS5sZW5ndGggPiB0aGlzLm1heFJlYWxUaW1lRXZlbnRzKSB7XG4gICAgICB0aGlzLnJlYWxUaW1lRGF0YSA9IHRoaXMucmVhbFRpbWVEYXRhLnNsaWNlKC10aGlzLm1heFJlYWxUaW1lRXZlbnRzKVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURDQ0EgVHJhY2tlZCBldmVudDogJHtldmVudC5uYW1lfWApXG4gIH1cblxuICAvLyBHZXQgYW5hbHl0aWNzIGRhdGFcbiAgcHVibGljIGdldEFuYWx5dGljc0RhdGEoY2F0ZWdvcnk/OiBBbmFseXRpY3NDYXRlZ29yeSk6IEFuYWx5dGljc0RhdGFbXSB7XG4gICAgY29uc3QgZGF0YSA9IEFycmF5LmZyb20odGhpcy5hbmFseXRpY3NEYXRhLnZhbHVlcygpKVxuICAgIHJldHVybiBjYXRlZ29yeSA/IGRhdGEuZmlsdGVyKGQgPT4gZC5jYXRlZ29yeSA9PT0gY2F0ZWdvcnkpIDogZGF0YVxuICB9XG5cbiAgLy8gR2V0IHJlYWwtdGltZSBldmVudHNcbiAgcHVibGljIGdldFJlYWxUaW1lRXZlbnRzKGxpbWl0PzogbnVtYmVyKTogQW5hbHl0aWNzRXZlbnRbXSB7XG4gICAgcmV0dXJuIGxpbWl0ID8gdGhpcy5yZWFsVGltZURhdGEuc2xpY2UoLWxpbWl0KSA6IHRoaXMucmVhbFRpbWVEYXRhXG4gIH1cblxuICAvLyBHZXQgd2lkZ2V0c1xuICBwdWJsaWMgZ2V0V2lkZ2V0cygpOiBEYXNoYm9hcmRXaWRnZXRbXSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy53aWRnZXRzLnZhbHVlcygpKVxuICB9XG5cbiAgLy8gR2V0IHJlcG9ydHNcbiAgcHVibGljIGdldFJlcG9ydHMoKTogUmVwb3J0W10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMucmVwb3J0cy52YWx1ZXMoKSlcbiAgfVxuXG4gIC8vIEFkZCB3aWRnZXRcbiAgcHVibGljIGFkZFdpZGdldCh3aWRnZXQ6IERhc2hib2FyZFdpZGdldCkge1xuICAgIHRoaXMud2lkZ2V0cy5zZXQod2lkZ2V0LmlkLCB3aWRnZXQpXG4gICAgY29uc29sZS5sb2coYFx1RDgzRFx1RENDOCBBZGRlZCB3aWRnZXQ6ICR7d2lkZ2V0LnRpdGxlfWApXG4gIH1cblxuICAvLyBSZW1vdmUgd2lkZ2V0XG4gIHB1YmxpYyByZW1vdmVXaWRnZXQod2lkZ2V0SWQ6IHN0cmluZykge1xuICAgIHRoaXMud2lkZ2V0cy5kZWxldGUod2lkZ2V0SWQpXG4gICAgY29uc29sZS5sb2coYFx1RDgzRFx1REREMVx1RkUwRiBSZW1vdmVkIHdpZGdldDogJHt3aWRnZXRJZH1gKVxuICB9XG5cbiAgLy8gQ3JlYXRlIGN1c3RvbSByZXBvcnRcbiAgcHVibGljIGNyZWF0ZVJlcG9ydChyZXBvcnQ6IE9taXQ8UmVwb3J0LCAnaWQnPik6IFJlcG9ydCB7XG4gICAgY29uc3QgbmV3UmVwb3J0OiBSZXBvcnQgPSB7XG4gICAgICAuLi5yZXBvcnQsXG4gICAgICBpZDogYHJlcG9ydF8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKX1gXG4gICAgfVxuXG4gICAgdGhpcy5yZXBvcnRzLnNldChuZXdSZXBvcnQuaWQsIG5ld1JlcG9ydClcbiAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVEQ0NCIENyZWF0ZWQgcmVwb3J0OiAke25ld1JlcG9ydC5uYW1lfWApXG4gICAgcmV0dXJuIG5ld1JlcG9ydFxuICB9XG5cbiAgLy8gU2V0IGRhdGEgcmV0ZW50aW9uXG4gIHB1YmxpYyBzZXREYXRhUmV0ZW50aW9uRGF5cyhkYXlzOiBudW1iZXIpIHtcbiAgICB0aGlzLmRhdGFSZXRlbnRpb25EYXlzID0gTWF0aC5tYXgoMSwgZGF5cylcbiAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVEQ0M1IERhdGEgcmV0ZW50aW9uIHNldCB0bzogJHtkYXlzfSBkYXlzYClcbiAgfVxuXG4gIC8vIEdldCBzeXN0ZW0gc3RhdGlzdGljc1xuICBwdWJsaWMgZ2V0U3lzdGVtU3RhdGlzdGljcygpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICB0b3RhbEFuYWx5dGljc0RhdGE6IHRoaXMuYW5hbHl0aWNzRGF0YS5zaXplLFxuICAgICAgdG90YWxXaWRnZXRzOiB0aGlzLndpZGdldHMuc2l6ZSxcbiAgICAgIHRvdGFsUmVwb3J0czogdGhpcy5yZXBvcnRzLnNpemUsXG4gICAgICByZWFsVGltZUV2ZW50czogdGhpcy5yZWFsVGltZURhdGEubGVuZ3RoLFxuICAgICAgZGF0YVJldGVudGlvbkRheXM6IHRoaXMuZGF0YVJldGVudGlvbkRheXMsXG4gICAgICBtYXhSZWFsVGltZUV2ZW50czogdGhpcy5tYXhSZWFsVGltZUV2ZW50cyxcbiAgICAgIHJlZnJlc2hJbnRlcnZhbDogdGhpcy5yZWZyZXNoSW50ZXJ2YWxcbiAgICB9XG4gIH1cblxuICAvLyBDbGVhbnVwIHN5c3RlbVxuICBwdWJsaWMgY2xlYW51cCgpIHtcbiAgICB0aGlzLmFuYWx5dGljc0RhdGEuY2xlYXIoKVxuICAgIHRoaXMud2lkZ2V0cy5jbGVhcigpXG4gICAgdGhpcy5yZXBvcnRzLmNsZWFyKClcbiAgICB0aGlzLnJlYWxUaW1lRGF0YSA9IFtdXG5cbiAgICBpZiAodGhpcy5kYXNoYm9hcmRVSSkge1xuICAgICAgZW5naW5lLnJlbW92ZUVudGl0eSh0aGlzLmRhc2hib2FyZFVJKVxuICAgIH1cblxuICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IGZhbHNlXG4gIH1cbn1cblxuLy8gRXhwb3J0IHNpbmdsZXRvbiBpbnN0YW5jZVxuZXhwb3J0IGNvbnN0IGFuYWx5dGljc0Rhc2hib2FyZFN5c3RlbSA9IG5ldyBBbmFseXRpY3NEYXNoYm9hcmRTeXN0ZW0oKVxuIiwgIi8vIEFSIE92ZXJsYXkgSW50ZWdyYXRpb24gZm9yIE1vYmlsZSBEZXZpY2VzXG5pbXBvcnQgeyBlbmdpbmUsIElucHV0QWN0aW9uLCBNYXRlcmlhbCwgTWVzaFJlbmRlcmVyLCBwb2ludGVyRXZlbnRzU3lzdGVtLCBUcmFuc2Zvcm0gfSBmcm9tICdAZGNsL3Nkay9lY3MnXG5pbXBvcnQgeyBDb2xvcjQsIFF1YXRlcm5pb24sIFZlY3RvcjMgfSBmcm9tICdAZGNsL3Nkay9tYXRoJ1xuaW1wb3J0IHsgc291bmRTeXN0ZW0gfSBmcm9tICcuL2VuaGFuY2VkLXNvdW5kJ1xuXG5pbnRlcmZhY2UgQVJEZXZpY2Uge1xuICBpZDogc3RyaW5nXG4gIG5hbWU6IHN0cmluZ1xuICB0eXBlOiAnc21hcnRwaG9uZScgfCAndGFibGV0JyB8ICdhcl9nbGFzc2VzJ1xuICBpc0Nvbm5lY3RlZDogYm9vbGVhblxuICBwb3NpdGlvbjogVmVjdG9yM1xuICByb3RhdGlvbjogUXVhdGVybmlvblxuICBjYW1lcmE6IEFSQ2FtZXJhXG4gIGNhcGFiaWxpdGllczogQVJDYXBhYmlsaXRpZXNcbn1cblxuaW50ZXJmYWNlIEFSQ2FtZXJhIHtcbiAgZm92OiBudW1iZXJcbiAgYXNwZWN0UmF0aW86IG51bWJlclxuICBuZWFyUGxhbmU6IG51bWJlclxuICBmYXJQbGFuZTogbnVtYmVyXG4gIHRyYWNraW5nTW9kZTogJ3dvcmxkJyB8ICdmYWNlJyB8ICdpbWFnZSdcbn1cblxuaW50ZXJmYWNlIEFSQ2FwYWJpbGl0aWVzIHtcbiAgc3VwcG9ydHNQbGFuZURldGVjdGlvbjogYm9vbGVhblxuICBzdXBwb3J0c0ltYWdlVHJhY2tpbmc6IGJvb2xlYW5cbiAgc3VwcG9ydHNGYWNlVHJhY2tpbmc6IGJvb2xlYW5cbiAgc3VwcG9ydHNPY2NsdXNpb246IGJvb2xlYW5cbiAgc3VwcG9ydHNMaWdodEVzdGltYXRpb246IGJvb2xlYW5cbiAgbWF4QW5jaG9yczogbnVtYmVyXG59XG5cbmludGVyZmFjZSBBUk92ZXJsYXkge1xuICBpZDogc3RyaW5nXG4gIHR5cGU6ICd1aScgfCAnM2RfbW9kZWwnIHwgJ3RleHQnIHwgJ3ZpZGVvJyB8ICdkYXRhJ1xuICBjb250ZW50OiBhbnlcbiAgcG9zaXRpb246IFZlY3RvcjNcbiAgcm90YXRpb246IFF1YXRlcm5pb25cbiAgc2NhbGU6IFZlY3RvcjNcbiAgYW5jaG9yVHlwZTogJ3dvcmxkJyB8ICdmYWNlJyB8ICdpbWFnZScgfCAncGxhbmUnXG4gIGFuY2hvcklkPzogc3RyaW5nXG4gIGlzVmlzaWJsZTogYm9vbGVhblxuICBpc0ludGVyYWN0aXZlOiBib29sZWFuXG59XG5cbmludGVyZmFjZSBBUkFuY2hvciB7XG4gIGlkOiBzdHJpbmdcbiAgdHlwZTogJ3BsYW5lJyB8ICdpbWFnZScgfCAnZmFjZScgfCAnd29ybGQnXG4gIHBvc2l0aW9uOiBWZWN0b3IzXG4gIHJvdGF0aW9uOiBRdWF0ZXJuaW9uXG4gIGNvbmZpZGVuY2U6IG51bWJlclxuICB0cmFja2luZ1N0YXRlOiAndHJhY2tpbmcnIHwgJ2xpbWl0ZWQnIHwgJ25vdF90cmFja2luZydcbn1cblxuaW50ZXJmYWNlIEFSU2Vzc2lvbiB7XG4gIGlkOiBzdHJpbmdcbiAgZGV2aWNlOiBBUkRldmljZVxuICBpc0FjdGl2ZTogYm9vbGVhblxuICBhbmNob3JzOiBNYXA8c3RyaW5nLCBBUkFuY2hvcj5cbiAgb3ZlcmxheXM6IE1hcDxzdHJpbmcsIEFST3ZlcmxheT5cbiAgdHJhY2tpbmdRdWFsaXR5OiAnaGlnaCcgfCAnbWVkaXVtJyB8ICdsb3cnXG4gIHBsYW5lRGV0ZWN0aW9uOiBib29sZWFuXG4gIGxpZ2h0RXN0aW1hdGlvbjogYm9vbGVhblxufVxuXG5leHBvcnQgY2xhc3MgQVJJbnRlZ3JhdGlvblN5c3RlbSB7XG4gIHByaXZhdGUgZGV2aWNlczogTWFwPHN0cmluZywgQVJEZXZpY2U+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgc2Vzc2lvbnM6IE1hcDxzdHJpbmcsIEFSU2Vzc2lvbj4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBvdmVybGF5czogTWFwPHN0cmluZywgQVJPdmVybGF5PiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIGN1cnJlbnRTZXNzaW9uOiBBUlNlc3Npb24gfCBudWxsID0gbnVsbFxuICBwcml2YXRlIGFyVUk6IGFueVxuICBwcml2YXRlIGlzSW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZVxuICBwcml2YXRlIGFyRW5naW5lOiBhbnlcbiAgcHJpdmF0ZSB0cmFja2luZ1N5c3RlbTogYW55XG4gIHByaXZhdGUgcmVuZGVyaW5nU3lzdGVtOiBhbnlcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmluaXRpYWxpemVBUkVuZ2luZSgpXG4gICAgdGhpcy5pbml0aWFsaXplVHJhY2tpbmdTeXN0ZW0oKVxuICAgIHRoaXMuaW5pdGlhbGl6ZVJlbmRlcmluZ1N5c3RlbSgpXG4gIH1cblxuICAvLyBJbml0aWFsaXplIEFSIHN5c3RlbVxuICBpbml0aWFsaXplKCkge1xuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURDRjEgQVIgSW50ZWdyYXRpb24gU3lzdGVtIEluaXRpYWxpemluZy4uLicpXG5cbiAgICB0aGlzLnNldHVwQVJEZXZpY2VzKClcbiAgICB0aGlzLmNyZWF0ZUFSVUkoKVxuICAgIHRoaXMuc3RhcnRBUkVuZ2luZSgpXG4gICAgdGhpcy5zZXR1cEFSSW50ZXJhY3Rpb25zKClcblxuICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IHRydWVcbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVEQ0YxIEFSIEludGVncmF0aW9uIFN5c3RlbSBSZWFkeSEnKVxuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSBBUiBlbmdpbmVcbiAgcHJpdmF0ZSBpbml0aWFsaXplQVJFbmdpbmUoKSB7XG4gICAgdGhpcy5hckVuZ2luZSA9IHtcbiAgICAgIGlzU3VwcG9ydGVkOiB0cnVlLFxuICAgICAgaXNJbml0aWFsaXplZDogZmFsc2UsXG4gICAgICBzZXNzaW9uOiBudWxsLFxuXG4gICAgICBpbml0aWFsaXplOiAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdUREMjcgSW5pdGlhbGl6aW5nIEFSIGVuZ2luZS4uLicpXG4gICAgICAgIHRoaXMuYXJFbmdpbmUuaXNJbml0aWFsaXplZCA9IHRydWVcbiAgICAgIH0sXG5cbiAgICAgIHN0YXJ0U2Vzc2lvbjogKGRldmljZTogQVJEZXZpY2UpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYFx1RDgzRFx1REU4MCBTdGFydGluZyBBUiBzZXNzaW9uIG9uICR7ZGV2aWNlLm5hbWV9YClcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogYHNlc3Npb25fJHtEYXRlLm5vdygpfWAsXG4gICAgICAgICAgZGV2aWNlOiBkZXZpY2UsXG4gICAgICAgICAgaXNBY3RpdmU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgc3RvcFNlc3Npb246IChzZXNzaW9uSWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVERUQxIFN0b3BwaW5nIEFSIHNlc3Npb246ICR7c2Vzc2lvbklkfWApXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSB0cmFja2luZyBzeXN0ZW1cbiAgcHJpdmF0ZSBpbml0aWFsaXplVHJhY2tpbmdTeXN0ZW0oKSB7XG4gICAgdGhpcy50cmFja2luZ1N5c3RlbSA9IHtcbiAgICAgIGlzVHJhY2tpbmc6IGZhbHNlLFxuICAgICAgdHJhY2tpbmdRdWFsaXR5OiAnaGlnaCcsXG4gICAgICBkZXRlY3RlZEFuY2hvcnM6IFtdLFxuXG4gICAgICBzdGFydFRyYWNraW5nOiAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdcdUQ4M0NcdURGQUYgU3RhcnRpbmcgQVIgdHJhY2tpbmcuLi4nKVxuICAgICAgICB0aGlzLnRyYWNraW5nU3lzdGVtLmlzVHJhY2tpbmcgPSB0cnVlXG4gICAgICB9LFxuXG4gICAgICBzdG9wVHJhY2tpbmc6ICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ1x1RDgzRFx1REVEMSBTdG9wcGluZyBBUiB0cmFja2luZy4uLicpXG4gICAgICAgIHRoaXMudHJhY2tpbmdTeXN0ZW0uaXNUcmFja2luZyA9IGZhbHNlXG4gICAgICB9LFxuXG4gICAgICBkZXRlY3RQbGFuZXM6ICgpID0+IHtcbiAgICAgICAgLy8gU2ltdWxhdGUgcGxhbmUgZGV0ZWN0aW9uXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdwbGFuZV9mbG9vcicsXG4gICAgICAgICAgICB0eXBlOiAnaG9yaXpvbnRhbCcsXG4gICAgICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMCksXG4gICAgICAgICAgICBzaXplOiBWZWN0b3IzLmNyZWF0ZSgxMCwgMCwgMTApXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ3BsYW5lX3dhbGwnLFxuICAgICAgICAgICAgdHlwZTogJ3ZlcnRpY2FsJyxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAyLCAtNSksXG4gICAgICAgICAgICBzaXplOiBWZWN0b3IzLmNyZWF0ZSgxMCwgNCwgMClcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH0sXG5cbiAgICAgIGRldGVjdEltYWdlczogKCkgPT4ge1xuICAgICAgICAvLyBTaW11bGF0ZSBpbWFnZSB0cmFja2luZ1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnaW1hZ2VfbG9nbycsXG4gICAgICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMiwgMSwgMCksXG4gICAgICAgICAgICBjb25maWRlbmNlOiAwLjk1XG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSByZW5kZXJpbmcgc3lzdGVtXG4gIHByaXZhdGUgaW5pdGlhbGl6ZVJlbmRlcmluZ1N5c3RlbSgpIHtcbiAgICB0aGlzLnJlbmRlcmluZ1N5c3RlbSA9IHtcbiAgICAgIGlzUmVuZGVyaW5nOiBmYWxzZSxcbiAgICAgIGZyYW1lUmF0ZTogNjAsXG4gICAgICByZXNvbHV0aW9uOiB7IHdpZHRoOiAxOTIwLCBoZWlnaHQ6IDEwODAgfSxcblxuICAgICAgc3RhcnRSZW5kZXJpbmc6ICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ1x1RDgzQ1x1REZBOCBTdGFydGluZyBBUiByZW5kZXJpbmcuLi4nKVxuICAgICAgICB0aGlzLnJlbmRlcmluZ1N5c3RlbS5pc1JlbmRlcmluZyA9IHRydWVcbiAgICAgIH0sXG5cbiAgICAgIHN0b3BSZW5kZXJpbmc6ICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ1x1RDgzRFx1REVEMSBTdG9wcGluZyBBUiByZW5kZXJpbmcuLi4nKVxuICAgICAgICB0aGlzLnJlbmRlcmluZ1N5c3RlbS5pc1JlbmRlcmluZyA9IGZhbHNlXG4gICAgICB9LFxuXG4gICAgICByZW5kZXJGcmFtZTogKG92ZXJsYXlzOiBBUk92ZXJsYXlbXSkgPT4ge1xuICAgICAgICAvLyBTaW11bGF0ZSByZW5kZXJpbmdcbiAgICAgICAgb3ZlcmxheXMuZm9yRWFjaChvdmVybGF5ID0+IHtcbiAgICAgICAgICBpZiAob3ZlcmxheS5pc1Zpc2libGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBcdUQ4M0NcdURGQTggUmVuZGVyaW5nIG92ZXJsYXk6ICR7b3ZlcmxheS50eXBlfWApXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFNldHVwIEFSIGRldmljZXNcbiAgcHJpdmF0ZSBzZXR1cEFSRGV2aWNlcygpIHtcbiAgICAvLyBTbWFydHBob25lIGRldmljZVxuICAgIGNvbnN0IHNtYXJ0cGhvbmU6IEFSRGV2aWNlID0ge1xuICAgICAgaWQ6ICdkZXZpY2Vfc21hcnRwaG9uZScsXG4gICAgICBuYW1lOiAnU21hcnRwaG9uZSBBUicsXG4gICAgICB0eXBlOiAnc21hcnRwaG9uZScsXG4gICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMCksXG4gICAgICByb3RhdGlvbjogUXVhdGVybmlvbi5mcm9tRXVsZXJEZWdyZWVzKDAsIDAsIDApLFxuICAgICAgY2FtZXJhOiB7XG4gICAgICAgIGZvdjogNjAsXG4gICAgICAgIGFzcGVjdFJhdGlvOiAxNiAvIDksXG4gICAgICAgIG5lYXJQbGFuZTogMC4xLFxuICAgICAgICBmYXJQbGFuZTogMTAwLFxuICAgICAgICB0cmFja2luZ01vZGU6ICd3b3JsZCdcbiAgICAgIH0sXG4gICAgICBjYXBhYmlsaXRpZXM6IHtcbiAgICAgICAgc3VwcG9ydHNQbGFuZURldGVjdGlvbjogdHJ1ZSxcbiAgICAgICAgc3VwcG9ydHNJbWFnZVRyYWNraW5nOiB0cnVlLFxuICAgICAgICBzdXBwb3J0c0ZhY2VUcmFja2luZzogZmFsc2UsXG4gICAgICAgIHN1cHBvcnRzT2NjbHVzaW9uOiB0cnVlLFxuICAgICAgICBzdXBwb3J0c0xpZ2h0RXN0aW1hdGlvbjogdHJ1ZSxcbiAgICAgICAgbWF4QW5jaG9yczogMjBcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUYWJsZXQgZGV2aWNlXG4gICAgY29uc3QgdGFibGV0OiBBUkRldmljZSA9IHtcbiAgICAgIGlkOiAnZGV2aWNlX3RhYmxldCcsXG4gICAgICBuYW1lOiAnVGFibGV0IEFSJyxcbiAgICAgIHR5cGU6ICd0YWJsZXQnLFxuICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDApLFxuICAgICAgcm90YXRpb246IFF1YXRlcm5pb24uZnJvbUV1bGVyRGVncmVlcygwLCAwLCAwKSxcbiAgICAgIGNhbWVyYToge1xuICAgICAgICBmb3Y6IDQ1LFxuICAgICAgICBhc3BlY3RSYXRpbzogNCAvIDMsXG4gICAgICAgIG5lYXJQbGFuZTogMC4xLFxuICAgICAgICBmYXJQbGFuZTogMTAwLFxuICAgICAgICB0cmFja2luZ01vZGU6ICd3b3JsZCdcbiAgICAgIH0sXG4gICAgICBjYXBhYmlsaXRpZXM6IHtcbiAgICAgICAgc3VwcG9ydHNQbGFuZURldGVjdGlvbjogdHJ1ZSxcbiAgICAgICAgc3VwcG9ydHNJbWFnZVRyYWNraW5nOiB0cnVlLFxuICAgICAgICBzdXBwb3J0c0ZhY2VUcmFja2luZzogZmFsc2UsXG4gICAgICAgIHN1cHBvcnRzT2NjbHVzaW9uOiB0cnVlLFxuICAgICAgICBzdXBwb3J0c0xpZ2h0RXN0aW1hdGlvbjogdHJ1ZSxcbiAgICAgICAgbWF4QW5jaG9yczogMzBcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBUiBHbGFzc2VzIGRldmljZVxuICAgIGNvbnN0IGFyR2xhc3NlczogQVJEZXZpY2UgPSB7XG4gICAgICBpZDogJ2RldmljZV9hcl9nbGFzc2VzJyxcbiAgICAgIG5hbWU6ICdBUiBHbGFzc2VzJyxcbiAgICAgIHR5cGU6ICdhcl9nbGFzc2VzJyxcbiAgICAgIGlzQ29ubmVjdGVkOiBmYWxzZSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwKSxcbiAgICAgIHJvdGF0aW9uOiBRdWF0ZXJuaW9uLmZyb21FdWxlckRlZ3JlZXMoMCwgMCwgMCksXG4gICAgICBjYW1lcmE6IHtcbiAgICAgICAgZm92OiA1MCxcbiAgICAgICAgYXNwZWN0UmF0aW86IDE2IC8gOSxcbiAgICAgICAgbmVhclBsYW5lOiAwLjA1LFxuICAgICAgICBmYXJQbGFuZTogNTAsXG4gICAgICAgIHRyYWNraW5nTW9kZTogJ3dvcmxkJ1xuICAgICAgfSxcbiAgICAgIGNhcGFiaWxpdGllczoge1xuICAgICAgICBzdXBwb3J0c1BsYW5lRGV0ZWN0aW9uOiB0cnVlLFxuICAgICAgICBzdXBwb3J0c0ltYWdlVHJhY2tpbmc6IHRydWUsXG4gICAgICAgIHN1cHBvcnRzRmFjZVRyYWNraW5nOiB0cnVlLFxuICAgICAgICBzdXBwb3J0c09jY2x1c2lvbjogdHJ1ZSxcbiAgICAgICAgc3VwcG9ydHNMaWdodEVzdGltYXRpb246IHRydWUsXG4gICAgICAgIG1heEFuY2hvcnM6IDUwXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5kZXZpY2VzLnNldChzbWFydHBob25lLmlkLCBzbWFydHBob25lKVxuICAgIHRoaXMuZGV2aWNlcy5zZXQodGFibGV0LmlkLCB0YWJsZXQpXG4gICAgdGhpcy5kZXZpY2VzLnNldChhckdsYXNzZXMuaWQsIGFyR2xhc3NlcylcblxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURDRjEgQVIgZGV2aWNlcyBjb25maWd1cmVkJylcbiAgfVxuXG4gIC8vIENyZWF0ZSBBUiBVSVxuICBwcml2YXRlIGNyZWF0ZUFSVUkoKSB7XG4gICAgdGhpcy5hclVJID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZSh0aGlzLmFyVUksIHtcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgxNCwgMywgOCksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMywgNCwgMC4xKVxuICAgIH0pXG4gICAgTWVzaFJlbmRlcmVyLnNldEJveCh0aGlzLmFyVUkpXG4gICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwodGhpcy5hclVJLCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjEsIDAuMiwgMC40LCAwLjkpLFxuICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuNCwgMC44LCAwLjUpLFxuICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDJcbiAgICB9KVxuXG4gICAgLy8gQ3JlYXRlIHRpdGxlXG4gICAgY29uc3QgdGl0bGUgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKHRpdGxlLCB7XG4gICAgICBwYXJlbnQ6IHRoaXMuYXJVSSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAxLjcsIDAuMSksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4zLCAwLjMsIDAuMylcbiAgICB9KVxuICAgIFRleHRTaGFwZS5jcmVhdGUodGl0bGUsIHtcbiAgICAgIHRleHQ6ICdcdUQ4M0RcdURDRjEgQVIgT1ZFUkxBWSBTWVNURU0nLFxuICAgICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDEsIDEsIDEpLFxuICAgICAgZm9udFNpemU6IDIsXG4gICAgICB0ZXh0QWxpZ246IDNcbiAgICB9KVxuXG4gICAgLy8gQ3JlYXRlIGRldmljZSBzZWxlY3Rpb25cbiAgICB0aGlzLmNyZWF0ZURldmljZVNlbGVjdGlvbigpXG5cbiAgICAvLyBDcmVhdGUgc2Vzc2lvbiBjb250cm9sc1xuICAgIHRoaXMuY3JlYXRlU2Vzc2lvbkNvbnRyb2xzKClcblxuICAgIC8vIENyZWF0ZSBvdmVybGF5IGNvbnRyb2xzXG4gICAgdGhpcy5jcmVhdGVPdmVybGF5Q29udHJvbHMoKVxuXG4gICAgLy8gQ3JlYXRlIHN0YXR1cyBkaXNwbGF5XG4gICAgdGhpcy5jcmVhdGVTdGF0dXNEaXNwbGF5KClcbiAgfVxuXG4gIC8vIENyZWF0ZSBkZXZpY2Ugc2VsZWN0aW9uXG4gIHByaXZhdGUgY3JlYXRlRGV2aWNlU2VsZWN0aW9uKCkge1xuICAgIGNvbnN0IGRldmljZVNlY3Rpb24gPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKGRldmljZVNlY3Rpb24sIHtcbiAgICAgIHBhcmVudDogdGhpcy5hclVJLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDEuMiwgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjgsIDAuMywgMC4xKVxuICAgIH0pXG4gICAgTWVzaFJlbmRlcmVyLnNldEJveChkZXZpY2VTZWN0aW9uKVxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGRldmljZVNlY3Rpb24sIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMiwgMC4yLCAwLjIsIDAuOCksXG4gICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMiwgMC4yLCAwLjIsIDAuMyksXG4gICAgICBlbWlzc2l2ZUludGVuc2l0eTogMVxuICAgIH0pXG5cbiAgICBjb25zdCBkZXZpY2VUZXh0ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZShkZXZpY2VUZXh0LCB7XG4gICAgICBwYXJlbnQ6IGRldmljZVNlY3Rpb24sXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjMsIDAuMywgMC4zKVxuICAgIH0pXG4gICAgVGV4dFNoYXBlLmNyZWF0ZShkZXZpY2VUZXh0LCB7XG4gICAgICB0ZXh0OiAnXHVEODNEXHVEQ0YxIFNlbGVjdCBEZXZpY2UnLFxuICAgICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDEsIDEsIDEpLFxuICAgICAgZm9udFNpemU6IDEuNSxcbiAgICAgIHRleHRBbGlnbjogM1xuICAgIH0pXG5cbiAgICAvLyBEZXZpY2UgYnV0dG9uc1xuICAgIGxldCB4T2Zmc2V0ID0gLTAuNlxuICAgIHRoaXMuZGV2aWNlcy5mb3JFYWNoKChkZXZpY2UsIGlkKSA9PiB7XG4gICAgICBjb25zdCBidXR0b24gPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIFRyYW5zZm9ybS5jcmVhdGUoYnV0dG9uLCB7XG4gICAgICAgIHBhcmVudDogdGhpcy5hclVJLFxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoeE9mZnNldCwgMC44LCAwLjEpLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4yLCAwLjIsIDAuMSlcbiAgICAgIH0pXG4gICAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGJ1dHRvbilcbiAgICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGJ1dHRvbiwge1xuICAgICAgICBhbGJlZG9Db2xvcjogZGV2aWNlLmlzQ29ubmVjdGVkID8gQ29sb3I0LmNyZWF0ZSgwLjIsIDAuOCwgMC4yLCAxKSA6IENvbG9yNC5jcmVhdGUoMC44LCAwLjIsIDAuMiwgMSksXG4gICAgICAgIGVtaXNzaXZlQ29sb3I6IGRldmljZS5pc0Nvbm5lY3RlZCA/IENvbG9yNC5jcmVhdGUoMC4yLCAwLjgsIDAuMiwgMC41KSA6IENvbG9yNC5jcmVhdGUoMC44LCAwLjIsIDAuMiwgMC41KSxcbiAgICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDJcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IGJ1dHRvblRleHQgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIFRyYW5zZm9ybS5jcmVhdGUoYnV0dG9uVGV4dCwge1xuICAgICAgICBwYXJlbnQ6IGJ1dHRvbixcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDAuMSksXG4gICAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjUsIDAuNSwgMC41KVxuICAgICAgfSlcbiAgICAgIFRleHRTaGFwZS5jcmVhdGUoYnV0dG9uVGV4dCwge1xuICAgICAgICB0ZXh0OiBkZXZpY2UudHlwZSA9PT0gJ3NtYXJ0cGhvbmUnID8gJ1x1RDgzRFx1RENGMScgOiBkZXZpY2UudHlwZSA9PT0gJ3RhYmxldCcgPyAnXHVEODNEXHVEQ0YxJyA6ICdcdUQ4M0VcdUREN0QnLFxuICAgICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICAgIGZvbnRTaXplOiAyLFxuICAgICAgICB0ZXh0QWxpZ246IDNcbiAgICAgIH0pXG5cbiAgICAgIHBvaW50ZXJFdmVudHNTeXN0ZW0ub25Qb2ludGVyRG93bihcbiAgICAgICAge1xuICAgICAgICAgIGVudGl0eTogYnV0dG9uLFxuICAgICAgICAgIG9wdHM6IHsgYnV0dG9uOiBJbnB1dEFjdGlvbi5JQV9QT0lOVEVSLCBob3ZlclRleHQ6IGRldmljZS5uYW1lIH1cbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4gdGhpcy5jb25uZWN0RGV2aWNlKGlkKVxuICAgICAgKVxuXG4gICAgICB4T2Zmc2V0ICs9IDAuNlxuICAgIH0pXG4gIH1cblxuICAvLyBDcmVhdGUgc2Vzc2lvbiBjb250cm9sc1xuICBwcml2YXRlIGNyZWF0ZVNlc3Npb25Db250cm9scygpIHtcbiAgICBjb25zdCBjb250cm9scyA9IFtcbiAgICAgIHsgaWQ6ICdzdGFydCcsIGljb246ICdcdTI1QjZcdUZFMEYnLCBuYW1lOiAnU3RhcnQgU2Vzc2lvbicgfSxcbiAgICAgIHsgaWQ6ICdzdG9wJywgaWNvbjogJ1x1MjNGOVx1RkUwRicsIG5hbWU6ICdTdG9wIFNlc3Npb24nIH0sXG4gICAgICB7IGlkOiAncmVzZXQnLCBpY29uOiAnXHVEODNEXHVERDA0JywgbmFtZTogJ1Jlc2V0IFRyYWNraW5nJyB9XG4gICAgXVxuXG4gICAgbGV0IHhPZmZzZXQgPSAtMC44XG5cbiAgICBjb250cm9scy5mb3JFYWNoKGNvbnRyb2wgPT4ge1xuICAgICAgY29uc3QgYnV0dG9uID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgICBUcmFuc2Zvcm0uY3JlYXRlKGJ1dHRvbiwge1xuICAgICAgICBwYXJlbnQ6IHRoaXMuYXJVSSxcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKHhPZmZzZXQsIDAuNCwgMC4xKSxcbiAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMjUsIDAuMjUsIDAuMSlcbiAgICAgIH0pXG4gICAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGJ1dHRvbilcbiAgICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGJ1dHRvbiwge1xuICAgICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjMsIDAuNiwgMC44LCAxKSxcbiAgICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjMsIDAuNiwgMC44LCAwLjUpLFxuICAgICAgICBlbWlzc2l2ZUludGVuc2l0eTogMlxuICAgICAgfSlcblxuICAgICAgY29uc3QgYnV0dG9uVGV4dCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgVHJhbnNmb3JtLmNyZWF0ZShidXR0b25UZXh0LCB7XG4gICAgICAgIHBhcmVudDogYnV0dG9uLFxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMC4xKSxcbiAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuNSwgMC41LCAwLjUpXG4gICAgICB9KVxuICAgICAgVGV4dFNoYXBlLmNyZWF0ZShidXR0b25UZXh0LCB7XG4gICAgICAgIHRleHQ6IGNvbnRyb2wuaWNvbixcbiAgICAgICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDEsIDEsIDEpLFxuICAgICAgICBmb250U2l6ZTogMixcbiAgICAgICAgdGV4dEFsaWduOiAzXG4gICAgICB9KVxuXG4gICAgICBwb2ludGVyRXZlbnRzU3lzdGVtLm9uUG9pbnRlckRvd24oXG4gICAgICAgIHtcbiAgICAgICAgICBlbnRpdHk6IGJ1dHRvbixcbiAgICAgICAgICBvcHRzOiB7IGJ1dHRvbjogSW5wdXRBY3Rpb24uSUFfUE9JTlRFUiwgaG92ZXJUZXh0OiBjb250cm9sLm5hbWUgfVxuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB0aGlzLmhhbmRsZVNlc3Npb25Db250cm9sKGNvbnRyb2wuaWQpXG4gICAgICApXG5cbiAgICAgIHhPZmZzZXQgKz0gMC44XG4gICAgfSlcbiAgfVxuXG4gIC8vIENyZWF0ZSBvdmVybGF5IGNvbnRyb2xzXG4gIHByaXZhdGUgY3JlYXRlT3ZlcmxheUNvbnRyb2xzKCkge1xuICAgIGNvbnN0IG92ZXJsYXlUeXBlcyA9IFtcbiAgICAgIHsgaWQ6ICd1aScsIGljb246ICdcdUQ4M0RcdUREQkNcdUZFMEYnLCBuYW1lOiAnVUkgT3ZlcmxheScgfSxcbiAgICAgIHsgaWQ6ICczZCcsIGljb246ICdcdUQ4M0NcdURGQUUnLCBuYW1lOiAnM0QgTW9kZWwnIH0sXG4gICAgICB7IGlkOiAndGV4dCcsIGljb246ICdcdUQ4M0RcdURDREQnLCBuYW1lOiAnVGV4dCcgfSxcbiAgICAgIHsgaWQ6ICdkYXRhJywgaWNvbjogJ1x1RDgzRFx1RENDQScsIG5hbWU6ICdEYXRhJyB9XG4gICAgXVxuXG4gICAgbGV0IHhPZmZzZXQgPSAtMC45XG5cbiAgICBvdmVybGF5VHlwZXMuZm9yRWFjaCh0eXBlID0+IHtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgVHJhbnNmb3JtLmNyZWF0ZShidXR0b24sIHtcbiAgICAgICAgcGFyZW50OiB0aGlzLmFyVUksXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSh4T2Zmc2V0LCAwLCAwLjEpLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4yLCAwLjIsIDAuMSlcbiAgICAgIH0pXG4gICAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGJ1dHRvbilcbiAgICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGJ1dHRvbiwge1xuICAgICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjYsIDAuMywgMC44LCAxKSxcbiAgICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjYsIDAuMywgMC44LCAwLjUpLFxuICAgICAgICBlbWlzc2l2ZUludGVuc2l0eTogMlxuICAgICAgfSlcblxuICAgICAgY29uc3QgYnV0dG9uVGV4dCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgVHJhbnNmb3JtLmNyZWF0ZShidXR0b25UZXh0LCB7XG4gICAgICAgIHBhcmVudDogYnV0dG9uLFxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMC4xKSxcbiAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuNSwgMC41LCAwLjUpXG4gICAgICB9KVxuICAgICAgVGV4dFNoYXBlLmNyZWF0ZShidXR0b25UZXh0LCB7XG4gICAgICAgIHRleHQ6IHR5cGUuaWNvbixcbiAgICAgICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDEsIDEsIDEpLFxuICAgICAgICBmb250U2l6ZTogMixcbiAgICAgICAgdGV4dEFsaWduOiAzXG4gICAgICB9KVxuXG4gICAgICBwb2ludGVyRXZlbnRzU3lzdGVtLm9uUG9pbnRlckRvd24oXG4gICAgICAgIHtcbiAgICAgICAgICBlbnRpdHk6IGJ1dHRvbixcbiAgICAgICAgICBvcHRzOiB7IGJ1dHRvbjogSW5wdXRBY3Rpb24uSUFfUE9JTlRFUiwgaG92ZXJUZXh0OiB0eXBlLm5hbWUgfVxuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB0aGlzLmNyZWF0ZU92ZXJsYXkodHlwZS5pZClcbiAgICAgIClcblxuICAgICAgeE9mZnNldCArPSAwLjZcbiAgICB9KVxuICB9XG5cbiAgLy8gQ3JlYXRlIHN0YXR1cyBkaXNwbGF5XG4gIHByaXZhdGUgY3JlYXRlU3RhdHVzRGlzcGxheSgpIHtcbiAgICBjb25zdCBzdGF0dXNEaXNwbGF5ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZShzdGF0dXNEaXNwbGF5LCB7XG4gICAgICBwYXJlbnQ6IHRoaXMuYXJVSSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAtMC40LCAwLjEpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuOCwgMC4zLCAwLjEpXG4gICAgfSlcbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KHN0YXR1c0Rpc3BsYXkpXG4gICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoc3RhdHVzRGlzcGxheSwge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjEsIDAuMSwgMC44KSxcbiAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjEsIDAuMSwgMC4zKSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAxXG4gICAgfSlcblxuICAgIGNvbnN0IHN0YXR1c1RleHQgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKHN0YXR1c1RleHQsIHtcbiAgICAgIHBhcmVudDogc3RhdHVzRGlzcGxheSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwLjEpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMywgMC4zLCAwLjMpXG4gICAgfSlcbiAgICBUZXh0U2hhcGUuY3JlYXRlKHN0YXR1c1RleHQsIHtcbiAgICAgIHRleHQ6ICdcdUQ4M0RcdURDQ0EgU3RhdHVzOiBSZWFkeScsXG4gICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICBmb250U2l6ZTogMS41LFxuICAgICAgdGV4dEFsaWduOiAzXG4gICAgfSlcbiAgfVxuXG4gIC8vIFN0YXJ0IEFSIGVuZ2luZVxuICBwcml2YXRlIHN0YXJ0QVJFbmdpbmUoKSB7XG4gICAgdGhpcy5hckVuZ2luZS5pbml0aWFsaXplKClcbiAgICB0aGlzLnRyYWNraW5nU3lzdGVtLnN0YXJ0VHJhY2tpbmcoKVxuICAgIHRoaXMucmVuZGVyaW5nU3lzdGVtLnN0YXJ0UmVuZGVyaW5nKClcblxuICAgIGVuZ2luZS5hZGRTeXN0ZW0oKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmlzSW5pdGlhbGl6ZWQpIHJldHVyblxuXG4gICAgICB0aGlzLnVwZGF0ZUFSU2Vzc2lvbigpXG4gICAgICB0aGlzLnByb2Nlc3NPdmVybGF5cygpXG4gICAgICB0aGlzLnVwZGF0ZVRyYWNraW5nKClcbiAgICB9KVxuICB9XG5cbiAgLy8gU2V0dXAgQVIgaW50ZXJhY3Rpb25zXG4gIHByaXZhdGUgc2V0dXBBUkludGVyYWN0aW9ucygpIHtcbiAgICAvLyBIYW5kbGUgZGV2aWNlIGNvbm5lY3Rpb25zXG4gICAgLy8gSGFuZGxlIG92ZXJsYXkgaW50ZXJhY3Rpb25zXG4gICAgLy8gSGFuZGxlIHRyYWNraW5nIGV2ZW50c1xuICB9XG5cbiAgLy8gQ29ubmVjdCBkZXZpY2VcbiAgcHVibGljIGNvbm5lY3REZXZpY2UoZGV2aWNlSWQ6IHN0cmluZykge1xuICAgIGNvbnN0IGRldmljZSA9IHRoaXMuZGV2aWNlcy5nZXQoZGV2aWNlSWQpXG4gICAgaWYgKCFkZXZpY2UpIHJldHVyblxuXG4gICAgZGV2aWNlLmlzQ29ubmVjdGVkID0gdHJ1ZVxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURDRjEgQ29ubmVjdGVkIHRvICR7ZGV2aWNlLm5hbWV9YClcblxuICAgIC8vIFN0YXJ0IEFSIHNlc3Npb25cbiAgICB0aGlzLnN0YXJ0QVJTZXNzaW9uKGRldmljZSlcblxuICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdwb3dlcnVwJylcbiAgfVxuXG4gIC8vIERpc2Nvbm5lY3QgZGV2aWNlXG4gIHB1YmxpYyBkaXNjb25uZWN0RGV2aWNlKGRldmljZUlkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBkZXZpY2UgPSB0aGlzLmRldmljZXMuZ2V0KGRldmljZUlkKVxuICAgIGlmICghZGV2aWNlKSByZXR1cm5cblxuICAgIGRldmljZS5pc0Nvbm5lY3RlZCA9IGZhbHNlXG4gICAgY29uc29sZS5sb2coYFx1RDgzRFx1RENGMSBEaXNjb25uZWN0ZWQgZnJvbSAke2RldmljZS5uYW1lfWApXG5cbiAgICAvLyBTdG9wIEFSIHNlc3Npb25cbiAgICBpZiAodGhpcy5jdXJyZW50U2Vzc2lvbiAmJiB0aGlzLmN1cnJlbnRTZXNzaW9uLmRldmljZS5pZCA9PT0gZGV2aWNlSWQpIHtcbiAgICAgIHRoaXMuc3RvcEFSU2Vzc2lvbigpXG4gICAgfVxuXG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ2NsaWNrJylcbiAgfVxuXG4gIC8vIFN0YXJ0IEFSIHNlc3Npb25cbiAgcHJpdmF0ZSBzdGFydEFSU2Vzc2lvbihkZXZpY2U6IEFSRGV2aWNlKSB7XG4gICAgY29uc3Qgc2Vzc2lvbkRhdGEgPSB0aGlzLmFyRW5naW5lLnN0YXJ0U2Vzc2lvbihkZXZpY2UpXG5cbiAgICBjb25zdCBzZXNzaW9uOiBBUlNlc3Npb24gPSB7XG4gICAgICBpZDogc2Vzc2lvbkRhdGEuaWQsXG4gICAgICBkZXZpY2U6IGRldmljZSxcbiAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgYW5jaG9yczogbmV3IE1hcCgpLFxuICAgICAgb3ZlcmxheXM6IG5ldyBNYXAoKSxcbiAgICAgIHRyYWNraW5nUXVhbGl0eTogJ2hpZ2gnLFxuICAgICAgcGxhbmVEZXRlY3Rpb246IHRydWUsXG4gICAgICBsaWdodEVzdGltYXRpb246IHRydWVcbiAgICB9XG5cbiAgICB0aGlzLnNlc3Npb25zLnNldChzZXNzaW9uLmlkLCBzZXNzaW9uKVxuICAgIHRoaXMuY3VycmVudFNlc3Npb24gPSBzZXNzaW9uXG5cbiAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVERTgwIEFSIHNlc3Npb24gc3RhcnRlZDogJHtzZXNzaW9uLmlkfWApXG5cbiAgICAvLyBTdGFydCBkZXRlY3RpbmcgYW5jaG9yc1xuICAgIHRoaXMuc3RhcnRBbmNob3JEZXRlY3Rpb24oKVxuICB9XG5cbiAgLy8gU3RvcCBBUiBzZXNzaW9uXG4gIHByaXZhdGUgc3RvcEFSU2Vzc2lvbigpIHtcbiAgICBpZiAoIXRoaXMuY3VycmVudFNlc3Npb24pIHJldHVyblxuXG4gICAgdGhpcy5hckVuZ2luZS5zdG9wU2Vzc2lvbih0aGlzLmN1cnJlbnRTZXNzaW9uLmlkKVxuICAgIHRoaXMuc2Vzc2lvbnMuZGVsZXRlKHRoaXMuY3VycmVudFNlc3Npb24uaWQpXG4gICAgdGhpcy5jdXJyZW50U2Vzc2lvbiA9IG51bGxcblxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURFRDEgQVIgc2Vzc2lvbiBzdG9wcGVkJylcbiAgfVxuXG4gIC8vIFN0YXJ0IGFuY2hvciBkZXRlY3Rpb25cbiAgcHJpdmF0ZSBzdGFydEFuY2hvckRldGVjdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuY3VycmVudFNlc3Npb24pIHJldHVyblxuXG4gICAgLy8gRGV0ZWN0IHBsYW5lc1xuICAgIGlmICh0aGlzLmN1cnJlbnRTZXNzaW9uLmRldmljZS5jYXBhYmlsaXRpZXMuc3VwcG9ydHNQbGFuZURldGVjdGlvbikge1xuICAgICAgY29uc3QgcGxhbmVzID0gdGhpcy50cmFja2luZ1N5c3RlbS5kZXRlY3RQbGFuZXMoKVxuICAgICAgcGxhbmVzLmZvckVhY2gocGxhbmUgPT4ge1xuICAgICAgICBjb25zdCBhbmNob3I6IEFSQW5jaG9yID0ge1xuICAgICAgICAgIGlkOiBwbGFuZS5pZCxcbiAgICAgICAgICB0eXBlOiAncGxhbmUnLFxuICAgICAgICAgIHBvc2l0aW9uOiBwbGFuZS5wb3NpdGlvbixcbiAgICAgICAgICByb3RhdGlvbjogUXVhdGVybmlvbi5mcm9tRXVsZXJEZWdyZWVzKDAsIDAsIDApLFxuICAgICAgICAgIGNvbmZpZGVuY2U6IDAuOSxcbiAgICAgICAgICB0cmFja2luZ1N0YXRlOiAndHJhY2tpbmcnXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50U2Vzc2lvbiEuYW5jaG9ycy5zZXQoYW5jaG9yLmlkLCBhbmNob3IpXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIERldGVjdCBpbWFnZXNcbiAgICBpZiAodGhpcy5jdXJyZW50U2Vzc2lvbi5kZXZpY2UuY2FwYWJpbGl0aWVzLnN1cHBvcnRzSW1hZ2VUcmFja2luZykge1xuICAgICAgY29uc3QgaW1hZ2VzID0gdGhpcy50cmFja2luZ1N5c3RlbS5kZXRlY3RJbWFnZXMoKVxuICAgICAgaW1hZ2VzLmZvckVhY2goaW1hZ2UgPT4ge1xuICAgICAgICBjb25zdCBhbmNob3I6IEFSQW5jaG9yID0ge1xuICAgICAgICAgIGlkOiBpbWFnZS5pZCxcbiAgICAgICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgICAgIHBvc2l0aW9uOiBpbWFnZS5wb3NpdGlvbixcbiAgICAgICAgICByb3RhdGlvbjogUXVhdGVybmlvbi5mcm9tRXVsZXJEZWdyZWVzKDAsIDAsIDApLFxuICAgICAgICAgIGNvbmZpZGVuY2U6IGltYWdlLmNvbmZpZGVuY2UsXG4gICAgICAgICAgdHJhY2tpbmdTdGF0ZTogJ3RyYWNraW5nJ1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudFNlc3Npb24hLmFuY2hvcnMuc2V0KGFuY2hvci5pZCwgYW5jaG9yKVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICAvLyBIYW5kbGUgc2Vzc2lvbiBjb250cm9sXG4gIHByaXZhdGUgaGFuZGxlU2Vzc2lvbkNvbnRyb2woY29udHJvbElkOiBzdHJpbmcpIHtcbiAgICBzd2l0Y2ggKGNvbnRyb2xJZCkge1xuICAgICAgY2FzZSAnc3RhcnQnOlxuICAgICAgICBpZiAodGhpcy5jdXJyZW50U2Vzc2lvbikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURFODAgU2Vzc2lvbiBhbHJlYWR5IGFjdGl2ZScpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gU3RhcnQgd2l0aCBmaXJzdCBhdmFpbGFibGUgZGV2aWNlXG4gICAgICAgICAgY29uc3QgZmlyc3REZXZpY2UgPSBBcnJheS5mcm9tKHRoaXMuZGV2aWNlcy52YWx1ZXMoKSlbMF1cbiAgICAgICAgICBpZiAoZmlyc3REZXZpY2UpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdERldmljZShmaXJzdERldmljZS5pZClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3N0b3AnOlxuICAgICAgICB0aGlzLnN0b3BBUlNlc3Npb24oKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAncmVzZXQnOlxuICAgICAgICB0aGlzLnJlc2V0VHJhY2tpbmcoKVxuICAgICAgICBicmVha1xuICAgIH1cblxuICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdjbGljaycpXG4gIH1cblxuICAvLyBDcmVhdGUgb3ZlcmxheVxuICBwcml2YXRlIGNyZWF0ZU92ZXJsYXkodHlwZTogc3RyaW5nKSB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRTZXNzaW9uKSB7XG4gICAgICBjb25zb2xlLmxvZygnXHUyNzRDIE5vIGFjdGl2ZSBBUiBzZXNzaW9uJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IG92ZXJsYXk6IEFST3ZlcmxheSA9IHtcbiAgICAgIGlkOiBgb3ZlcmxheV8ke0RhdGUubm93KCl9YCxcbiAgICAgIHR5cGU6IHR5cGUgYXMgQVJPdmVybGF5Wyd0eXBlJ10sXG4gICAgICBjb250ZW50OiB0aGlzLmdlbmVyYXRlT3ZlcmxheUNvbnRlbnQodHlwZSksXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoXG4gICAgICAgIE1hdGgucmFuZG9tKCkgKiA0IC0gMixcbiAgICAgICAgTWF0aC5yYW5kb20oKSAqIDIgKyAxLFxuICAgICAgICBNYXRoLnJhbmRvbSgpICogMiAtIDFcbiAgICAgICksXG4gICAgICByb3RhdGlvbjogUXVhdGVybmlvbi5mcm9tRXVsZXJEZWdyZWVzKDAsIE1hdGgucmFuZG9tKCkgKiAzNjAsIDApLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDEsIDEsIDEpLFxuICAgICAgYW5jaG9yVHlwZTogJ3dvcmxkJyxcbiAgICAgIGlzVmlzaWJsZTogdHJ1ZSxcbiAgICAgIGlzSW50ZXJhY3RpdmU6IHRydWVcbiAgICB9XG5cbiAgICB0aGlzLm92ZXJsYXlzLnNldChvdmVybGF5LmlkLCBvdmVybGF5KVxuICAgIHRoaXMuY3VycmVudFNlc3Npb24ub3ZlcmxheXMuc2V0KG92ZXJsYXkuaWQsIG92ZXJsYXkpXG5cbiAgICBjb25zb2xlLmxvZyhgXHVEODNDXHVERkE4IENyZWF0ZWQgJHt0eXBlfSBvdmVybGF5OiAke292ZXJsYXkuaWR9YClcbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgnY2xpY2snKVxuICB9XG5cbiAgLy8gR2VuZXJhdGUgb3ZlcmxheSBjb250ZW50XG4gIHByaXZhdGUgZ2VuZXJhdGVPdmVybGF5Q29udGVudCh0eXBlOiBzdHJpbmcpOiBhbnkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAndWknOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRpdGxlOiAnQVIgVUkgUGFuZWwnLFxuICAgICAgICAgIGVsZW1lbnRzOiBbJ0J1dHRvbicsICdTbGlkZXInLCAnVGV4dCddLFxuICAgICAgICAgIGxheW91dDogJ3ZlcnRpY2FsJ1xuICAgICAgICB9XG4gICAgICBjYXNlICczZCc6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbW9kZWw6ICdjdWJlJyxcbiAgICAgICAgICBtYXRlcmlhbDogJ21ldGFsbGljJyxcbiAgICAgICAgICBhbmltYXRpb25zOiBbJ3JvdGF0ZScsICdwdWxzZSddXG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRleHQ6ICdIZWxsbyBBUiBXb3JsZCEnLFxuICAgICAgICAgIGZvbnRTaXplOiAyNCxcbiAgICAgICAgICBjb2xvcjogJyNGRkZGRkYnLFxuICAgICAgICAgIGZvbnQ6ICdBcmlhbCdcbiAgICAgICAgfVxuICAgICAgY2FzZSAnZGF0YSc6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgY2hhcnRUeXBlOiAnYmFyJyxcbiAgICAgICAgICBkYXRhOiBbMTAsIDIwLCAzMCwgNDAsIDUwXSxcbiAgICAgICAgICBsYWJlbHM6IFsnQScsICdCJywgJ0MnLCAnRCcsICdFJ11cbiAgICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHt9XG4gICAgfVxuICB9XG5cbiAgLy8gVXBkYXRlIEFSIHNlc3Npb25cbiAgcHJpdmF0ZSB1cGRhdGVBUlNlc3Npb24oKSB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRTZXNzaW9uKSByZXR1cm5cblxuICAgIC8vIFVwZGF0ZSB0cmFja2luZyBxdWFsaXR5XG4gICAgY29uc3QgdGltZSA9IERhdGUubm93KCkgLyAxMDAwXG4gICAgY29uc3QgcXVhbGl0eSA9IE1hdGguc2luKHRpbWUgKiAwLjUpID4gMCA/ICdoaWdoJyA6ICdtZWRpdW0nXG4gICAgdGhpcy5jdXJyZW50U2Vzc2lvbi50cmFja2luZ1F1YWxpdHkgPSBxdWFsaXR5XG5cbiAgICAvLyBVcGRhdGUgZGV2aWNlIHBvc2l0aW9uIChzaW11bGF0ZSBtb3ZlbWVudClcbiAgICBjb25zdCBkZXZpY2UgPSB0aGlzLmN1cnJlbnRTZXNzaW9uLmRldmljZVxuICAgIGRldmljZS5wb3NpdGlvbiA9IFZlY3RvcjMuY3JlYXRlKFxuICAgICAgTWF0aC5zaW4odGltZSAqIDAuMykgKiAwLjUsXG4gICAgICBNYXRoLmNvcyh0aW1lICogMC4yKSAqIDAuMixcbiAgICAgIE1hdGguc2luKHRpbWUgKiAwLjQpICogMC4zXG4gICAgKVxuICB9XG5cbiAgLy8gUHJvY2VzcyBvdmVybGF5c1xuICBwcml2YXRlIHByb2Nlc3NPdmVybGF5cygpIHtcbiAgICBpZiAoIXRoaXMuY3VycmVudFNlc3Npb24pIHJldHVyblxuXG4gICAgLy8gUmVuZGVyIGFsbCBvdmVybGF5c1xuICAgIGNvbnN0IG92ZXJsYXlzID0gQXJyYXkuZnJvbSh0aGlzLmN1cnJlbnRTZXNzaW9uLm92ZXJsYXlzLnZhbHVlcygpKVxuICAgIHRoaXMucmVuZGVyaW5nU3lzdGVtLnJlbmRlckZyYW1lKG92ZXJsYXlzKVxuXG4gICAgLy8gVXBkYXRlIG92ZXJsYXkgcG9zaXRpb25zXG4gICAgb3ZlcmxheXMuZm9yRWFjaChvdmVybGF5ID0+IHtcbiAgICAgIGlmIChvdmVybGF5LmlzVmlzaWJsZSkge1xuICAgICAgICAvLyBBZGQgc3VidGxlIGFuaW1hdGlvblxuICAgICAgICBjb25zdCB0aW1lID0gRGF0ZS5ub3coKSAvIDEwMDBcbiAgICAgICAgb3ZlcmxheS5wb3NpdGlvbi55ICs9IE1hdGguc2luKHRpbWUgKiAyICsgcGFyc2VJbnQob3ZlcmxheS5pZCkpICogMC4wMDFcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLy8gVXBkYXRlIHRyYWNraW5nXG4gIHByaXZhdGUgdXBkYXRlVHJhY2tpbmcoKSB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRTZXNzaW9uKSByZXR1cm5cblxuICAgIC8vIFVwZGF0ZSBhbmNob3IgdHJhY2tpbmcgc3RhdGVzXG4gICAgdGhpcy5jdXJyZW50U2Vzc2lvbi5hbmNob3JzLmZvckVhY2goYW5jaG9yID0+IHtcbiAgICAgIC8vIFNpbXVsYXRlIHRyYWNraW5nIHF1YWxpdHkgY2hhbmdlc1xuICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjAxKSB7XG4gICAgICAgIGFuY2hvci50cmFja2luZ1N0YXRlID0gYW5jaG9yLnRyYWNraW5nU3RhdGUgPT09ICd0cmFja2luZycgPyAnbGltaXRlZCcgOiAndHJhY2tpbmcnXG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIERldGVjdCBuZXcgYW5jaG9ycyBvY2Nhc2lvbmFsbHlcbiAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuMDA1KSB7XG4gICAgICB0aGlzLnN0YXJ0QW5jaG9yRGV0ZWN0aW9uKClcbiAgICB9XG4gIH1cblxuICAvLyBSZXNldCB0cmFja2luZ1xuICBwcml2YXRlIHJlc2V0VHJhY2tpbmcoKSB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRTZXNzaW9uKSByZXR1cm5cblxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdUREMDQgUmVzZXR0aW5nIEFSIHRyYWNraW5nLi4uJylcblxuICAgIC8vIENsZWFyIGFsbCBhbmNob3JzXG4gICAgdGhpcy5jdXJyZW50U2Vzc2lvbi5hbmNob3JzLmNsZWFyKClcblxuICAgIC8vIFJlc3RhcnQgZGV0ZWN0aW9uXG4gICAgdGhpcy5zdGFydEFuY2hvckRldGVjdGlvbigpXG5cbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgncG93ZXJ1cCcpXG4gIH1cblxuICAvLyBHZXQgY3VycmVudCBzZXNzaW9uXG4gIHB1YmxpYyBnZXRDdXJyZW50U2Vzc2lvbigpOiBBUlNlc3Npb24gfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50U2Vzc2lvblxuICB9XG5cbiAgLy8gR2V0IGFsbCBkZXZpY2VzXG4gIHB1YmxpYyBnZXREZXZpY2VzKCk6IEFSRGV2aWNlW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuZGV2aWNlcy52YWx1ZXMoKSlcbiAgfVxuXG4gIC8vIEdldCBjb25uZWN0ZWQgZGV2aWNlc1xuICBwdWJsaWMgZ2V0Q29ubmVjdGVkRGV2aWNlcygpOiBBUkRldmljZVtdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmRldmljZXMudmFsdWVzKCkpLmZpbHRlcihkZXZpY2UgPT4gZGV2aWNlLmlzQ29ubmVjdGVkKVxuICB9XG5cbiAgLy8gR2V0IG92ZXJsYXlzXG4gIHB1YmxpYyBnZXRPdmVybGF5cygpOiBBUk92ZXJsYXlbXSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5vdmVybGF5cy52YWx1ZXMoKSlcbiAgfVxuXG4gIC8vIFVwZGF0ZSBvdmVybGF5IHZpc2liaWxpdHlcbiAgcHVibGljIHNldE92ZXJsYXlWaXNpYmlsaXR5KG92ZXJsYXlJZDogc3RyaW5nLCBpc1Zpc2libGU6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5vdmVybGF5cy5nZXQob3ZlcmxheUlkKVxuICAgIGlmIChvdmVybGF5KSB7XG4gICAgICBvdmVybGF5LmlzVmlzaWJsZSA9IGlzVmlzaWJsZVxuICAgICAgY29uc29sZS5sb2coYFx1RDgzRFx1REM0MVx1RkUwRiBPdmVybGF5ICR7b3ZlcmxheUlkfSAke2lzVmlzaWJsZSA/ICdzaG93bicgOiAnaGlkZGVuJ31gKVxuICAgIH1cbiAgfVxuXG4gIC8vIFVwZGF0ZSBvdmVybGF5IHBvc2l0aW9uXG4gIHB1YmxpYyB1cGRhdGVPdmVybGF5UG9zaXRpb24ob3ZlcmxheUlkOiBzdHJpbmcsIHBvc2l0aW9uOiBWZWN0b3IzKSB7XG4gICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMub3ZlcmxheXMuZ2V0KG92ZXJsYXlJZClcbiAgICBpZiAob3ZlcmxheSkge1xuICAgICAgb3ZlcmxheS5wb3NpdGlvbiA9IHBvc2l0aW9uXG4gICAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVEQ0NEIE1vdmVkIG92ZXJsYXkgJHtvdmVybGF5SWR9IHRvIHBvc2l0aW9uYClcbiAgICB9XG4gIH1cblxuICAvLyBSZW1vdmUgb3ZlcmxheVxuICBwdWJsaWMgcmVtb3ZlT3ZlcmxheShvdmVybGF5SWQ6IHN0cmluZykge1xuICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLm92ZXJsYXlzLmdldChvdmVybGF5SWQpXG4gICAgaWYgKG92ZXJsYXkpIHtcbiAgICAgIHRoaXMub3ZlcmxheXMuZGVsZXRlKG92ZXJsYXlJZClcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRTZXNzaW9uKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFNlc3Npb24ub3ZlcmxheXMuZGVsZXRlKG92ZXJsYXlJZClcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURERDFcdUZFMEYgUmVtb3ZlZCBvdmVybGF5OiAke292ZXJsYXlJZH1gKVxuICAgIH1cbiAgfVxuXG4gIC8vIENsZWFudXAgc3lzdGVtXG4gIHB1YmxpYyBjbGVhbnVwKCkge1xuICAgIHRoaXMuc3RvcEFSU2Vzc2lvbigpXG5cbiAgICB0aGlzLmRldmljZXMuY2xlYXIoKVxuICAgIHRoaXMuc2Vzc2lvbnMuY2xlYXIoKVxuICAgIHRoaXMub3ZlcmxheXMuY2xlYXIoKVxuXG4gICAgaWYgKHRoaXMuYXJVSSkge1xuICAgICAgZW5naW5lLnJlbW92ZUVudGl0eSh0aGlzLmFyVUkpXG4gICAgfVxuXG4gICAgdGhpcy50cmFja2luZ1N5c3RlbS5zdG9wVHJhY2tpbmcoKVxuICAgIHRoaXMucmVuZGVyaW5nU3lzdGVtLnN0b3BSZW5kZXJpbmcoKVxuXG4gICAgdGhpcy5pc0luaXRpYWxpemVkID0gZmFsc2VcbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3QgYXJJbnRlZ3JhdGlvblN5c3RlbSA9IG5ldyBBUkludGVncmF0aW9uU3lzdGVtKClcbiIsICIvLyBDdXN0b21pemFibGUgQXZhdGFyIFN5c3RlbSBmb3IgQUlHZXN0aW9uIFZpcnR1YWwgT2ZmaWNlXG5pbXBvcnQgeyBlbmdpbmUsIElucHV0QWN0aW9uLCBNYXRlcmlhbCwgTWVzaFJlbmRlcmVyLCBwb2ludGVyRXZlbnRzU3lzdGVtLCBUZXh0U2hhcGUsIFRyYW5zZm9ybSB9IGZyb20gJ0BkY2wvc2RrL2VjcydcbmltcG9ydCB7IENvbG9yMywgQ29sb3I0LCBRdWF0ZXJuaW9uLCBWZWN0b3IzIH0gZnJvbSAnQGRjbC9zZGsvbWF0aCdcbmltcG9ydCB7IHNvdW5kU3lzdGVtIH0gZnJvbSAnLi9lbmhhbmNlZC1zb3VuZCdcblxuaW50ZXJmYWNlIEF2YXRhckN1c3RvbWl6YXRpb24ge1xuICBpZDogc3RyaW5nXG4gIG5hbWU6IHN0cmluZ1xuICBib2R5VHlwZTogJ2h1bWFub2lkJyB8ICdyb2JvdCcgfCAnY3lib3JnJyB8ICdlbmVyZ3knXG4gIHByaW1hcnlDb2xvcjogQ29sb3IzXG4gIHNlY29uZGFyeUNvbG9yOiBDb2xvcjNcbiAgYWNjZXNzb3JpZXM6IHN0cmluZ1tdXG4gIGFuaW1hdGlvbnM6IHN0cmluZ1tdXG4gIGVmZmVjdHM6IEF2YXRhckVmZmVjdFtdXG4gIHNjYWxlOiBWZWN0b3IzXG4gIHBvc2l0aW9uOiBWZWN0b3IzXG59XG5cbmludGVyZmFjZSBBdmF0YXJFZmZlY3Qge1xuICB0eXBlOiAnZ2xvdycgfCAncGFydGljbGVzJyB8ICd0cmFpbCcgfCAnaG9sb2dyYW0nXG4gIGludGVuc2l0eTogbnVtYmVyXG4gIGNvbG9yOiBDb2xvcjNcbiAgZW5hYmxlZDogYm9vbGVhblxufVxuXG5pbnRlcmZhY2UgQXZhdGFyUHJlc2V0IHtcbiAgaWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgY3VzdG9taXphdGlvbjogQXZhdGFyQ3VzdG9taXphdGlvblxuICB0aHVtYm5haWw6IHN0cmluZ1xuICBjYXRlZ29yeTogJ3Byb2Zlc3Npb25hbCcgfCAnY2FzdWFsJyB8ICdmdXR1cmlzdGljJyB8ICdhcnRpc3RpYydcbn1cblxuaW50ZXJmYWNlIEFuaW1hdGlvblN0YXRlIHtcbiAgY3VycmVudEFuaW1hdGlvbjogc3RyaW5nXG4gIGlzUGxheWluZzogYm9vbGVhblxuICBzcGVlZDogbnVtYmVyXG4gIGxvb3A6IGJvb2xlYW5cbn1cblxuZXhwb3J0IGNsYXNzIEF2YXRhclN5c3RlbSB7XG4gIHByaXZhdGUgY3VycmVudEF2YXRhcjogQXZhdGFyQ3VzdG9taXphdGlvblxuICBwcml2YXRlIGF2YXRhckVudGl0eTogYW55XG4gIHByaXZhdGUgYXZhdGFyUGFydHM6IE1hcDxzdHJpbmcsIGFueT4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBwcmVzZXRzOiBNYXA8c3RyaW5nLCBBdmF0YXJQcmVzZXQ+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgYW5pbWF0aW9uU3RhdGU6IEFuaW1hdGlvblN0YXRlXG4gIHByaXZhdGUgY3VzdG9taXphdGlvblVJOiBhbnlcbiAgcHJpdmF0ZSBpc0luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2VcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmN1cnJlbnRBdmF0YXIgPSB0aGlzLmNyZWF0ZURlZmF1bHRBdmF0YXIoKVxuICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUgPSB7XG4gICAgICBjdXJyZW50QW5pbWF0aW9uOiAnaWRsZScsXG4gICAgICBpc1BsYXlpbmc6IHRydWUsXG4gICAgICBzcGVlZDogMS4wLFxuICAgICAgbG9vcDogdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgYXZhdGFyIHN5c3RlbVxuICBpbml0aWFsaXplKCkge1xuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURDNjQgQXZhdGFyIFN5c3RlbSBJbml0aWFsaXppbmcuLi4nKVxuXG4gICAgdGhpcy5sb2FkQXZhdGFyUHJlc2V0cygpXG4gICAgdGhpcy5jcmVhdGVBdmF0YXIoKVxuICAgIHRoaXMuY3JlYXRlQ3VzdG9taXphdGlvblVJKClcbiAgICB0aGlzLnNldHVwQXZhdGFyQW5pbWF0aW9ucygpXG5cbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlXG4gICAgY29uc29sZS5sb2coJ1x1RDgzRFx1REM2NCBBdmF0YXIgU3lzdGVtIFJlYWR5IScpXG4gIH1cblxuICAvLyBDcmVhdGUgZGVmYXVsdCBhdmF0YXJcbiAgcHJpdmF0ZSBjcmVhdGVEZWZhdWx0QXZhdGFyKCk6IEF2YXRhckN1c3RvbWl6YXRpb24ge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogJ2RlZmF1bHQnLFxuICAgICAgbmFtZTogJ0RlZmF1bHQgQXZhdGFyJyxcbiAgICAgIGJvZHlUeXBlOiAnaHVtYW5vaWQnLFxuICAgICAgcHJpbWFyeUNvbG9yOiBDb2xvcjMuY3JlYXRlKDAuMywgMC41LCAwLjgpLFxuICAgICAgc2Vjb25kYXJ5Q29sb3I6IENvbG9yMy5jcmVhdGUoMC44LCAwLjYsIDAuMiksXG4gICAgICBhY2Nlc3NvcmllczogW10sXG4gICAgICBhbmltYXRpb25zOiBbJ2lkbGUnLCAnd2FsaycsICd3YXZlJywgJ2RhbmNlJ10sXG4gICAgICBlZmZlY3RzOiBbXSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgxLCAyLCAxKSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSg4LCAxLCA4KVxuICAgIH1cbiAgfVxuXG4gIC8vIExvYWQgYXZhdGFyIHByZXNldHNcbiAgcHJpdmF0ZSBsb2FkQXZhdGFyUHJlc2V0cygpIHtcbiAgICBjb25zdCBwcmVzZXRzOiBBdmF0YXJQcmVzZXRbXSA9IFtcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdwcm9mZXNzaW9uYWwnLFxuICAgICAgICBuYW1lOiAnUHJvZmVzc2lvbmFsJyxcbiAgICAgICAgY2F0ZWdvcnk6ICdwcm9mZXNzaW9uYWwnLFxuICAgICAgICB0aHVtYm5haWw6ICdcdUQ4M0RcdURDNTQnLFxuICAgICAgICBjdXN0b21pemF0aW9uOiB7XG4gICAgICAgICAgaWQ6ICdwcm9mZXNzaW9uYWwnLFxuICAgICAgICAgIG5hbWU6ICdQcm9mZXNzaW9uYWwgQXZhdGFyJyxcbiAgICAgICAgICBib2R5VHlwZTogJ2h1bWFub2lkJyxcbiAgICAgICAgICBwcmltYXJ5Q29sb3I6IENvbG9yMy5jcmVhdGUoMC4yLCAwLjMsIDAuNiksXG4gICAgICAgICAgc2Vjb25kYXJ5Q29sb3I6IENvbG9yMy5jcmVhdGUoMC44LCAwLjgsIDAuOCksXG4gICAgICAgICAgYWNjZXNzb3JpZXM6IFsndGllJywgJ2JyaWVmY2FzZSddLFxuICAgICAgICAgIGFuaW1hdGlvbnM6IFsnaWRsZScsICd3YWxrJywgJ3R5cGUnLCAncHJlc2VudCddLFxuICAgICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgxLCAyLCAxKSxcbiAgICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoOCwgMSwgOClcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdjeWJlcnB1bmsnLFxuICAgICAgICBuYW1lOiAnQ3liZXJwdW5rJyxcbiAgICAgICAgY2F0ZWdvcnk6ICdmdXR1cmlzdGljJyxcbiAgICAgICAgdGh1bWJuYWlsOiAnXHVEODNFXHVERDE2JyxcbiAgICAgICAgY3VzdG9taXphdGlvbjoge1xuICAgICAgICAgIGlkOiAnY3liZXJwdW5rJyxcbiAgICAgICAgICBuYW1lOiAnQ3liZXJwdW5rIEF2YXRhcicsXG4gICAgICAgICAgYm9keVR5cGU6ICdjeWJvcmcnLFxuICAgICAgICAgIHByaW1hcnlDb2xvcjogQ29sb3IzLmNyZWF0ZSgwLjgsIDAuMiwgMC44KSxcbiAgICAgICAgICBzZWNvbmRhcnlDb2xvcjogQ29sb3IzLmNyZWF0ZSgwLjIsIDAuOCwgMC44KSxcbiAgICAgICAgICBhY2Nlc3NvcmllczogWydoZWxtZXQnLCAnYXJtb3InLCAnZ2xvd2luZy1leWVzJ10sXG4gICAgICAgICAgYW5pbWF0aW9uczogWydpZGxlJywgJ3dhbGsnLCAnaGFjaycsICd0cmFuc2Zvcm0nXSxcbiAgICAgICAgICBlZmZlY3RzOiBbXG4gICAgICAgICAgICB7IHR5cGU6ICdnbG93JywgaW50ZW5zaXR5OiAwLjgsIGNvbG9yOiBDb2xvcjMuY3JlYXRlKDAuOCwgMC4yLCAwLjgpLCBlbmFibGVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IHR5cGU6ICdwYXJ0aWNsZXMnLCBpbnRlbnNpdHk6IDAuNSwgY29sb3I6IENvbG9yMy5jcmVhdGUoMC4yLCAwLjgsIDAuOCksIGVuYWJsZWQ6IHRydWUgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDEuMSwgMi4xLCAxLjEpLFxuICAgICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSg4LCAxLCA4KVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJ2VuZXJneScsXG4gICAgICAgIG5hbWU6ICdFbmVyZ3kgQmVpbmcnLFxuICAgICAgICBjYXRlZ29yeTogJ2Z1dHVyaXN0aWMnLFxuICAgICAgICB0aHVtYm5haWw6ICdcdTI3MjgnLFxuICAgICAgICBjdXN0b21pemF0aW9uOiB7XG4gICAgICAgICAgaWQ6ICdlbmVyZ3knLFxuICAgICAgICAgIG5hbWU6ICdFbmVyZ3kgQmVpbmcnLFxuICAgICAgICAgIGJvZHlUeXBlOiAnZW5lcmd5JyxcbiAgICAgICAgICBwcmltYXJ5Q29sb3I6IENvbG9yMy5jcmVhdGUoMC44LCAwLjgsIDEpLFxuICAgICAgICAgIHNlY29uZGFyeUNvbG9yOiBDb2xvcjMuY3JlYXRlKDEsIDAuOCwgMC44KSxcbiAgICAgICAgICBhY2Nlc3NvcmllczogWydlbmVyZ3ktb3JicyddLFxuICAgICAgICAgIGFuaW1hdGlvbnM6IFsnaWRsZScsICdmbG9hdCcsICdwdWxzZScsICd0ZWxlcG9ydCddLFxuICAgICAgICAgIGVmZmVjdHM6IFtcbiAgICAgICAgICAgIHsgdHlwZTogJ2dsb3cnLCBpbnRlbnNpdHk6IDEuMCwgY29sb3I6IENvbG9yMy5jcmVhdGUoMC44LCAwLjgsIDEpLCBlbmFibGVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IHR5cGU6ICdwYXJ0aWNsZXMnLCBpbnRlbnNpdHk6IDAuOCwgY29sb3I6IENvbG9yMy5jcmVhdGUoMSwgMC44LCAwLjgpLCBlbmFibGVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IHR5cGU6ICdob2xvZ3JhbScsIGludGVuc2l0eTogMC42LCBjb2xvcjogQ29sb3IzLmNyZWF0ZSgwLjgsIDEsIDAuOCksIGVuYWJsZWQ6IHRydWUgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuOSwgMi4yLCAwLjkpLFxuICAgICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSg4LCAxLCA4KVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJ2FydGlzdCcsXG4gICAgICAgIG5hbWU6ICdBcnRpc3QnLFxuICAgICAgICBjYXRlZ29yeTogJ2FydGlzdGljJyxcbiAgICAgICAgdGh1bWJuYWlsOiAnXHVEODNDXHVERkE4JyxcbiAgICAgICAgY3VzdG9taXphdGlvbjoge1xuICAgICAgICAgIGlkOiAnYXJ0aXN0JyxcbiAgICAgICAgICBuYW1lOiAnQXJ0aXN0IEF2YXRhcicsXG4gICAgICAgICAgYm9keVR5cGU6ICdodW1hbm9pZCcsXG4gICAgICAgICAgcHJpbWFyeUNvbG9yOiBDb2xvcjMuY3JlYXRlKDAuOCwgMC40LCAwLjIpLFxuICAgICAgICAgIHNlY29uZGFyeUNvbG9yOiBDb2xvcjMuY3JlYXRlKDAuMiwgMC44LCAwLjQpLFxuICAgICAgICAgIGFjY2Vzc29yaWVzOiBbJ2JlcmV0JywgJ3BhbGV0dGUnXSxcbiAgICAgICAgICBhbmltYXRpb25zOiBbJ2lkbGUnLCAnd2FsaycsICdwYWludCcsICdkYW5jZSddLFxuICAgICAgICAgIGVmZmVjdHM6IFtcbiAgICAgICAgICAgIHsgdHlwZTogJ3BhcnRpY2xlcycsIGludGVuc2l0eTogMC4zLCBjb2xvcjogQ29sb3IzLmNyZWF0ZSgwLjgsIDAuNCwgMC4yKSwgZW5hYmxlZDogdHJ1ZSB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMSwgMiwgMSksXG4gICAgICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDgsIDEsIDgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdXG5cbiAgICBwcmVzZXRzLmZvckVhY2gocHJlc2V0ID0+IHtcbiAgICAgIHRoaXMucHJlc2V0cy5zZXQocHJlc2V0LmlkLCBwcmVzZXQpXG4gICAgfSlcbiAgfVxuXG4gIC8vIENyZWF0ZSBhdmF0YXIgZW50aXR5XG4gIHByaXZhdGUgY3JlYXRlQXZhdGFyKCkge1xuICAgIHRoaXMuYXZhdGFyRW50aXR5ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZSh0aGlzLmF2YXRhckVudGl0eSwge1xuICAgICAgcG9zaXRpb246IHRoaXMuY3VycmVudEF2YXRhci5wb3NpdGlvbixcbiAgICAgIHNjYWxlOiB0aGlzLmN1cnJlbnRBdmF0YXIuc2NhbGUsXG4gICAgICByb3RhdGlvbjogUXVhdGVybmlvbi5mcm9tRXVsZXJEZWdyZWVzKDAsIDAsIDApXG4gICAgfSlcblxuICAgIHRoaXMuY3JlYXRlQXZhdGFyQm9keSgpXG4gICAgdGhpcy5jcmVhdGVBdmF0YXJBY2Nlc3NvcmllcygpXG4gICAgdGhpcy5hcHBseUF2YXRhckVmZmVjdHMoKVxuICB9XG5cbiAgLy8gQ3JlYXRlIGF2YXRhciBib2R5IGJhc2VkIG9uIHR5cGVcbiAgcHJpdmF0ZSBjcmVhdGVBdmF0YXJCb2R5KCkge1xuICAgIGNvbnN0IGJvZHkgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKGJvZHksIHtcbiAgICAgIHBhcmVudDogdGhpcy5hdmF0YXJFbnRpdHksXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMCksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC44LCAxLjYsIDAuNClcbiAgICB9KVxuXG4gICAgc3dpdGNoICh0aGlzLmN1cnJlbnRBdmF0YXIuYm9keVR5cGUpIHtcbiAgICAgIGNhc2UgJ2h1bWFub2lkJzpcbiAgICAgICAgTWVzaFJlbmRlcmVyLnNldEJveChib2R5KVxuICAgICAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChib2R5LCB7XG4gICAgICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRBdmF0YXIucHJpbWFyeUNvbG9yLnIsXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRBdmF0YXIucHJpbWFyeUNvbG9yLmcsXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRBdmF0YXIucHJpbWFyeUNvbG9yLmIsXG4gICAgICAgICAgICAxXG4gICAgICAgICAgKSxcbiAgICAgICAgICByb3VnaG5lc3M6IDAuMyxcbiAgICAgICAgICBtZXRhbGxpYzogMC4xXG4gICAgICAgIH0pXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ3JvYm90JzpcbiAgICAgICAgTWVzaFJlbmRlcmVyLnNldEJveChib2R5KVxuICAgICAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChib2R5LCB7XG4gICAgICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRBdmF0YXIucHJpbWFyeUNvbG9yLnIsXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRBdmF0YXIucHJpbWFyeUNvbG9yLmcsXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRBdmF0YXIucHJpbWFyeUNvbG9yLmIsXG4gICAgICAgICAgICAxXG4gICAgICAgICAgKSxcbiAgICAgICAgICByb3VnaG5lc3M6IDAuMSxcbiAgICAgICAgICBtZXRhbGxpYzogMC45LFxuICAgICAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRBdmF0YXIucHJpbWFyeUNvbG9yLnIgKiAwLjMsXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRBdmF0YXIucHJpbWFyeUNvbG9yLmcgKiAwLjMsXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRBdmF0YXIucHJpbWFyeUNvbG9yLmIgKiAwLjMsXG4gICAgICAgICAgICAwLjVcbiAgICAgICAgICApLFxuICAgICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAyXG4gICAgICAgIH0pXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ2N5Ym9yZyc6XG4gICAgICAgIE1lc2hSZW5kZXJlci5zZXRCb3goYm9keSlcbiAgICAgICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoYm9keSwge1xuICAgICAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKFxuICAgICAgICAgICAgdGhpcy5jdXJyZW50QXZhdGFyLnByaW1hcnlDb2xvci5yLFxuICAgICAgICAgICAgdGhpcy5jdXJyZW50QXZhdGFyLnByaW1hcnlDb2xvci5nLFxuICAgICAgICAgICAgdGhpcy5jdXJyZW50QXZhdGFyLnByaW1hcnlDb2xvci5iLFxuICAgICAgICAgICAgMVxuICAgICAgICAgICksXG4gICAgICAgICAgcm91Z2huZXNzOiAwLjIsXG4gICAgICAgICAgbWV0YWxsaWM6IDAuNyxcbiAgICAgICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKFxuICAgICAgICAgICAgdGhpcy5jdXJyZW50QXZhdGFyLnNlY29uZGFyeUNvbG9yLnIgKiAwLjUsXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRBdmF0YXIuc2Vjb25kYXJ5Q29sb3IuZyAqIDAuNSxcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEF2YXRhci5zZWNvbmRhcnlDb2xvci5iICogMC41LFxuICAgICAgICAgICAgMC42XG4gICAgICAgICAgKSxcbiAgICAgICAgICBlbWlzc2l2ZUludGVuc2l0eTogM1xuICAgICAgICB9KVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdlbmVyZ3knOlxuICAgICAgICBNZXNoUmVuZGVyZXIuc2V0U3BoZXJlKGJvZHkpXG4gICAgICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGJvZHksIHtcbiAgICAgICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZShcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEF2YXRhci5wcmltYXJ5Q29sb3IucixcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEF2YXRhci5wcmltYXJ5Q29sb3IuZyxcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEF2YXRhci5wcmltYXJ5Q29sb3IuYixcbiAgICAgICAgICAgIDAuNlxuICAgICAgICAgICksXG4gICAgICAgICAgcm91Z2huZXNzOiAwLjAsXG4gICAgICAgICAgbWV0YWxsaWM6IDEuMCxcbiAgICAgICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKFxuICAgICAgICAgICAgdGhpcy5jdXJyZW50QXZhdGFyLnByaW1hcnlDb2xvci5yLFxuICAgICAgICAgICAgdGhpcy5jdXJyZW50QXZhdGFyLnByaW1hcnlDb2xvci5nLFxuICAgICAgICAgICAgdGhpcy5jdXJyZW50QXZhdGFyLnByaW1hcnlDb2xvci5iLFxuICAgICAgICAgICAgMVxuICAgICAgICAgICksXG4gICAgICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDVcbiAgICAgICAgfSlcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICB0aGlzLmF2YXRhclBhcnRzLnNldCgnYm9keScsIGJvZHkpXG5cbiAgICAvLyBDcmVhdGUgaGVhZFxuICAgIHRoaXMuY3JlYXRlQXZhdGFySGVhZCgpXG4gIH1cblxuICAvLyBDcmVhdGUgYXZhdGFyIGhlYWRcbiAgcHJpdmF0ZSBjcmVhdGVBdmF0YXJIZWFkKCkge1xuICAgIGNvbnN0IGhlYWQgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKGhlYWQsIHtcbiAgICAgIHBhcmVudDogdGhpcy5hdmF0YXJFbnRpdHksXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMS4yLCAwKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjQsIDAuNCwgMC40KVxuICAgIH0pXG5cbiAgICBpZiAodGhpcy5jdXJyZW50QXZhdGFyLmJvZHlUeXBlID09PSAnZW5lcmd5Jykge1xuICAgICAgTWVzaFJlbmRlcmVyLnNldFNwaGVyZShoZWFkKVxuICAgIH0gZWxzZSB7XG4gICAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGhlYWQpXG4gICAgfVxuXG4gICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoaGVhZCwge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoXG4gICAgICAgIHRoaXMuY3VycmVudEF2YXRhci5zZWNvbmRhcnlDb2xvci5yLFxuICAgICAgICB0aGlzLmN1cnJlbnRBdmF0YXIuc2Vjb25kYXJ5Q29sb3IuZyxcbiAgICAgICAgdGhpcy5jdXJyZW50QXZhdGFyLnNlY29uZGFyeUNvbG9yLmIsXG4gICAgICAgIDFcbiAgICAgICksXG4gICAgICByb3VnaG5lc3M6IDAuMixcbiAgICAgIG1ldGFsbGljOiAwLjFcbiAgICB9KVxuXG4gICAgdGhpcy5hdmF0YXJQYXJ0cy5zZXQoJ2hlYWQnLCBoZWFkKVxuICB9XG5cbiAgLy8gQ3JlYXRlIGF2YXRhciBhY2Nlc3Nvcmllc1xuICBwcml2YXRlIGNyZWF0ZUF2YXRhckFjY2Vzc29yaWVzKCkge1xuICAgIHRoaXMuY3VycmVudEF2YXRhci5hY2Nlc3Nvcmllcy5mb3JFYWNoKGFjY2Vzc29yeSA9PiB7XG4gICAgICB0aGlzLmNyZWF0ZUFjY2Vzc29yeShhY2Nlc3NvcnkpXG4gICAgfSlcbiAgfVxuXG4gIC8vIENyZWF0ZSBpbmRpdmlkdWFsIGFjY2Vzc29yeVxuICBwcml2YXRlIGNyZWF0ZUFjY2Vzc29yeShhY2Nlc3Nvcnk6IHN0cmluZykge1xuICAgIGNvbnN0IGFjY2Vzc29yeUVudGl0eSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuXG4gICAgc3dpdGNoIChhY2Nlc3NvcnkpIHtcbiAgICAgIGNhc2UgJ3RpZSc6XG4gICAgICAgIFRyYW5zZm9ybS5jcmVhdGUoYWNjZXNzb3J5RW50aXR5LCB7XG4gICAgICAgICAgcGFyZW50OiB0aGlzLmF2YXRhckVudGl0eSxcbiAgICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMC4yLCAwLjIxKSxcbiAgICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4xLCAwLjgsIDAuMDUpXG4gICAgICAgIH0pXG4gICAgICAgIE1lc2hSZW5kZXJlci5zZXRCb3goYWNjZXNzb3J5RW50aXR5KVxuICAgICAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChhY2Nlc3NvcnlFbnRpdHksIHtcbiAgICAgICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjgsIDAuMiwgMC4yLCAxKSxcbiAgICAgICAgICByb3VnaG5lc3M6IDAuMSxcbiAgICAgICAgICBtZXRhbGxpYzogMC4xXG4gICAgICAgIH0pXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ2hlbG1ldCc6XG4gICAgICAgIFRyYW5zZm9ybS5jcmVhdGUoYWNjZXNzb3J5RW50aXR5LCB7XG4gICAgICAgICAgcGFyZW50OiB0aGlzLmF2YXRhckVudGl0eSxcbiAgICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMS42LCAwKSxcbiAgICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC41LCAwLjMsIDAuNSlcbiAgICAgICAgfSlcbiAgICAgICAgTWVzaFJlbmRlcmVyLnNldEJveChhY2Nlc3NvcnlFbnRpdHkpXG4gICAgICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGFjY2Vzc29yeUVudGl0eSwge1xuICAgICAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMywgMC4zLCAwLjMsIDEpLFxuICAgICAgICAgIHJvdWdobmVzczogMC4xLFxuICAgICAgICAgIG1ldGFsbGljOiAwLjksXG4gICAgICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuMiwgMC44LCAwLjUpLFxuICAgICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAyXG4gICAgICAgIH0pXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ2VuZXJneS1vcmJzJzpcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBvcmIgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgICAgICBUcmFuc2Zvcm0uY3JlYXRlKG9yYiwge1xuICAgICAgICAgICAgcGFyZW50OiB0aGlzLmF2YXRhckVudGl0eSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZShcbiAgICAgICAgICAgICAgTWF0aC5jb3MoaSAqIDEyMCAqIE1hdGguUEkgLyAxODApICogMC44LFxuICAgICAgICAgICAgICAxICsgTWF0aC5zaW4oaSAqIDEyMCAqIE1hdGguUEkgLyAxODApICogMC4zLFxuICAgICAgICAgICAgICBNYXRoLnNpbihpICogMTIwICogTWF0aC5QSSAvIDE4MCkgKiAwLjhcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4xLCAwLjEsIDAuMSlcbiAgICAgICAgICB9KVxuICAgICAgICAgIE1lc2hSZW5kZXJlci5zZXRTcGhlcmUob3JiKVxuICAgICAgICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKG9yYiwge1xuICAgICAgICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMC44LCAwLjIsIDAuOCksXG4gICAgICAgICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDAuOCwgMC4yLCAxKSxcbiAgICAgICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiA0XG4gICAgICAgICAgfSlcbiAgICAgICAgICB0aGlzLmF2YXRhclBhcnRzLnNldChgb3JiXyR7aX1gLCBvcmIpXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnYmVyZXQnOlxuICAgICAgICBUcmFuc2Zvcm0uY3JlYXRlKGFjY2Vzc29yeUVudGl0eSwge1xuICAgICAgICAgIHBhcmVudDogdGhpcy5hdmF0YXJFbnRpdHksXG4gICAgICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDEuNDUsIDApLFxuICAgICAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjUsIDAuMSwgMC41KVxuICAgICAgICB9KVxuICAgICAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGFjY2Vzc29yeUVudGl0eSlcbiAgICAgICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoYWNjZXNzb3J5RW50aXR5LCB7XG4gICAgICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC44LCAwLjIsIDAuMiwgMSksXG4gICAgICAgICAgcm91Z2huZXNzOiAwLjMsXG4gICAgICAgICAgbWV0YWxsaWM6IDAuMVxuICAgICAgICB9KVxuICAgICAgICBicmVha1xuICAgIH1cblxuICAgIHRoaXMuYXZhdGFyUGFydHMuc2V0KGFjY2Vzc29yeSwgYWNjZXNzb3J5RW50aXR5KVxuICB9XG5cbiAgLy8gQXBwbHkgYXZhdGFyIGVmZmVjdHNcbiAgcHJpdmF0ZSBhcHBseUF2YXRhckVmZmVjdHMoKSB7XG4gICAgdGhpcy5jdXJyZW50QXZhdGFyLmVmZmVjdHMuZm9yRWFjaChlZmZlY3QgPT4ge1xuICAgICAgaWYgKGVmZmVjdC5lbmFibGVkKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlRWZmZWN0KGVmZmVjdClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLy8gQ3JlYXRlIGluZGl2aWR1YWwgZWZmZWN0XG4gIHByaXZhdGUgY3JlYXRlRWZmZWN0KGVmZmVjdDogQXZhdGFyRWZmZWN0KSB7XG4gICAgc3dpdGNoIChlZmZlY3QudHlwZSkge1xuICAgICAgY2FzZSAnZ2xvdyc6XG4gICAgICAgIHRoaXMuY3JlYXRlR2xvd0VmZmVjdChlZmZlY3QpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdwYXJ0aWNsZXMnOlxuICAgICAgICB0aGlzLmNyZWF0ZVBhcnRpY2xlRWZmZWN0KGVmZmVjdClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2hvbG9ncmFtJzpcbiAgICAgICAgdGhpcy5jcmVhdGVIb2xvZ3JhbUVmZmVjdChlZmZlY3QpXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgLy8gQ3JlYXRlIGdsb3cgZWZmZWN0XG4gIHByaXZhdGUgY3JlYXRlR2xvd0VmZmVjdChlZmZlY3Q6IEF2YXRhckVmZmVjdCkge1xuICAgIGNvbnN0IGdsb3cgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKGdsb3csIHtcbiAgICAgIHBhcmVudDogdGhpcy5hdmF0YXJFbnRpdHksXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMSwgMCksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMS41LCAyLjUsIDEuNSlcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRTcGhlcmUoZ2xvdylcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChnbG93LCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZShlZmZlY3QuY29sb3IuciwgZWZmZWN0LmNvbG9yLmcsIGVmZmVjdC5jb2xvci5iLCAwLjMpLFxuICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZShlZmZlY3QuY29sb3IuciwgZWZmZWN0LmNvbG9yLmcsIGVmZmVjdC5jb2xvci5iLCAwLjgpLFxuICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IGVmZmVjdC5pbnRlbnNpdHkgKiAzXG4gICAgfSlcbiAgICB0aGlzLmF2YXRhclBhcnRzLnNldCgnZ2xvdycsIGdsb3cpXG4gIH1cblxuICAvLyBDcmVhdGUgcGFydGljbGUgZWZmZWN0XG4gIHByaXZhdGUgY3JlYXRlUGFydGljbGVFZmZlY3QoZWZmZWN0OiBBdmF0YXJFZmZlY3QpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAgICAgIGNvbnN0IHBhcnRpY2xlID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgICBUcmFuc2Zvcm0uY3JlYXRlKHBhcnRpY2xlLCB7XG4gICAgICAgIHBhcmVudDogdGhpcy5hdmF0YXJFbnRpdHksXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZShcbiAgICAgICAgICAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAyLFxuICAgICAgICAgIE1hdGgucmFuZG9tKCkgKiAyLFxuICAgICAgICAgIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDJcbiAgICAgICAgKSxcbiAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMDUsIDAuMDUsIDAuMDUpXG4gICAgICB9KVxuICAgICAgTWVzaFJlbmRlcmVyLnNldFNwaGVyZShwYXJ0aWNsZSlcbiAgICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKHBhcnRpY2xlLCB7XG4gICAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKGVmZmVjdC5jb2xvci5yLCBlZmZlY3QuY29sb3IuZywgZWZmZWN0LmNvbG9yLmIsIDAuOCksXG4gICAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoZWZmZWN0LmNvbG9yLnIsIGVmZmVjdC5jb2xvci5nLCBlZmZlY3QuY29sb3IuYiwgMSksXG4gICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiBlZmZlY3QuaW50ZW5zaXR5ICogMlxuICAgICAgfSlcbiAgICAgIHRoaXMuYXZhdGFyUGFydHMuc2V0KGBwYXJ0aWNsZV8ke2l9YCwgcGFydGljbGUpXG4gICAgfVxuICB9XG5cbiAgLy8gQ3JlYXRlIGhvbG9ncmFtIGVmZmVjdFxuICBwcml2YXRlIGNyZWF0ZUhvbG9ncmFtRWZmZWN0KGVmZmVjdDogQXZhdGFyRWZmZWN0KSB7XG4gICAgY29uc3QgaG9sb2dyYW0gPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKGhvbG9ncmFtLCB7XG4gICAgICBwYXJlbnQ6IHRoaXMuYXZhdGFyRW50aXR5LFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDApLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDEuMSwgMi4xLCAxLjEpXG4gICAgfSlcbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGhvbG9ncmFtKVxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGhvbG9ncmFtLCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZShlZmZlY3QuY29sb3IuciwgZWZmZWN0LmNvbG9yLmcsIGVmZmVjdC5jb2xvci5iLCAwLjIpLFxuICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZShlZmZlY3QuY29sb3IuciwgZWZmZWN0LmNvbG9yLmcsIGVmZmVjdC5jb2xvci5iLCAwLjYpLFxuICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IGVmZmVjdC5pbnRlbnNpdHkgKiAyXG4gICAgfSlcbiAgICB0aGlzLmF2YXRhclBhcnRzLnNldCgnaG9sb2dyYW0nLCBob2xvZ3JhbSlcbiAgfVxuXG4gIC8vIENyZWF0ZSBjdXN0b21pemF0aW9uIFVJXG4gIHByaXZhdGUgY3JlYXRlQ3VzdG9taXphdGlvblVJKCkge1xuICAgIGNvbnN0IHVpUGFuZWwgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKHVpUGFuZWwsIHtcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgxNCwgMywgOCksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMywgNCwgMC4xKVxuICAgIH0pXG4gICAgTWVzaFJlbmRlcmVyLnNldEJveCh1aVBhbmVsKVxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKHVpUGFuZWwsIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMSwgMC4yLCAwLjQsIDAuOSksXG4gICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMiwgMC40LCAwLjgsIDAuNSksXG4gICAgICBlbWlzc2l2ZUludGVuc2l0eTogMlxuICAgIH0pXG5cbiAgICBjb25zdCB0aXRsZSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUodGl0bGUsIHtcbiAgICAgIHBhcmVudDogdWlQYW5lbCxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAxLjcsIDAuMSksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4zLCAwLjMsIDAuMylcbiAgICB9KVxuICAgIFRleHRTaGFwZS5jcmVhdGUodGl0bGUsIHtcbiAgICAgIHRleHQ6ICdcdUQ4M0RcdURDNjQgQVZBVEFSIENVU1RPTUlaRScsXG4gICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICBmb250U2l6ZTogMixcbiAgICAgIHRleHRBbGlnbjogM1xuICAgIH0pXG5cbiAgICAvLyBDcmVhdGUgcHJlc2V0IGJ1dHRvbnNcbiAgICB0aGlzLmNyZWF0ZVByZXNldEJ1dHRvbnModWlQYW5lbClcblxuICAgIC8vIENyZWF0ZSBjb2xvciBjdXN0b21pemF0aW9uXG4gICAgdGhpcy5jcmVhdGVDb2xvckN1c3RvbWl6YXRpb24odWlQYW5lbClcblxuICAgIC8vIENyZWF0ZSBlZmZlY3QgdG9nZ2xlc1xuICAgIHRoaXMuY3JlYXRlRWZmZWN0VG9nZ2xlcyh1aVBhbmVsKVxuXG4gICAgdGhpcy5jdXN0b21pemF0aW9uVUkgPSB1aVBhbmVsXG4gIH1cblxuICAvLyBDcmVhdGUgcHJlc2V0IGJ1dHRvbnNcbiAgcHJpdmF0ZSBjcmVhdGVQcmVzZXRCdXR0b25zKHBhcmVudDogYW55KSB7XG4gICAgbGV0IHlPZmZzZXQgPSAxLjJcblxuICAgIHRoaXMucHJlc2V0cy5mb3JFYWNoKChwcmVzZXQsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBidXR0b24gPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIFRyYW5zZm9ybS5jcmVhdGUoYnV0dG9uLCB7XG4gICAgICAgIHBhcmVudDogcGFyZW50LFxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgeU9mZnNldCwgMC4xKSxcbiAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuNCwgMC4zLCAwLjEpXG4gICAgICB9KVxuICAgICAgTWVzaFJlbmRlcmVyLnNldEJveChidXR0b24pXG4gICAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChidXR0b24sIHtcbiAgICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4yLCAwLjYsIDAuOCwgMSksXG4gICAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4yLCAwLjYsIDAuOCwgMC41KSxcbiAgICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDJcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IGJ1dHRvblRleHQgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIFRyYW5zZm9ybS5jcmVhdGUoYnV0dG9uVGV4dCwge1xuICAgICAgICBwYXJlbnQ6IGJ1dHRvbixcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDAuMSksXG4gICAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjUsIDAuNSwgMC41KVxuICAgICAgfSlcbiAgICAgIFRleHRTaGFwZS5jcmVhdGUoYnV0dG9uVGV4dCwge1xuICAgICAgICB0ZXh0OiBgJHtwcmVzZXQudGh1bWJuYWlsfSAke3ByZXNldC5uYW1lfWAsXG4gICAgICAgIHRleHRDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAxLCAxLCAxKSxcbiAgICAgICAgZm9udFNpemU6IDIsXG4gICAgICAgIHRleHRBbGlnbjogM1xuICAgICAgfSlcblxuICAgICAgcG9pbnRlckV2ZW50c1N5c3RlbS5vblBvaW50ZXJEb3duKFxuICAgICAgICB7XG4gICAgICAgICAgZW50aXR5OiBidXR0b24sXG4gICAgICAgICAgb3B0czogeyBidXR0b246IElucHV0QWN0aW9uLklBX1BPSU5URVIsIGhvdmVyVGV4dDogYFNlbGVjdCAke3ByZXNldC5uYW1lfWAgfVxuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB0aGlzLmFwcGx5UHJlc2V0KHByZXNldC5pZClcbiAgICAgIClcblxuICAgICAgeU9mZnNldCAtPSAwLjRcbiAgICB9KVxuICB9XG5cbiAgLy8gQ3JlYXRlIGNvbG9yIGN1c3RvbWl6YXRpb25cbiAgcHJpdmF0ZSBjcmVhdGVDb2xvckN1c3RvbWl6YXRpb24ocGFyZW50OiBhbnkpIHtcbiAgICBjb25zdCBjb2xvclBhbmVsID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZShjb2xvclBhbmVsLCB7XG4gICAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAtMC41LCAwLjEpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuOCwgMC4zLCAwLjEpXG4gICAgfSlcbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGNvbG9yUGFuZWwpXG4gICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoY29sb3JQYW5lbCwge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4zLCAwLjMsIDAuMywgMC44KSxcbiAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4yLCAwLjIsIDAuMiwgMC4zKSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAxXG4gICAgfSlcblxuICAgIGNvbnN0IGNvbG9yVGV4dCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUoY29sb3JUZXh0LCB7XG4gICAgICBwYXJlbnQ6IGNvbG9yUGFuZWwsXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjUsIDAuNSwgMC41KVxuICAgIH0pXG4gICAgVGV4dFNoYXBlLmNyZWF0ZShjb2xvclRleHQsIHtcbiAgICAgIHRleHQ6ICdcdUQ4M0NcdURGQTggQ09MT1JTJyxcbiAgICAgIHRleHRDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAxLCAxLCAxKSxcbiAgICAgIGZvbnRTaXplOiAxLjUsXG4gICAgICB0ZXh0QWxpZ246IDNcbiAgICB9KVxuICB9XG5cbiAgLy8gQ3JlYXRlIGVmZmVjdCB0b2dnbGVzXG4gIHByaXZhdGUgY3JlYXRlRWZmZWN0VG9nZ2xlcyhwYXJlbnQ6IGFueSkge1xuICAgIGNvbnN0IGVmZmVjdFBhbmVsID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZShlZmZlY3RQYW5lbCwge1xuICAgICAgcGFyZW50OiBwYXJlbnQsXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgLTEuMiwgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjgsIDAuMywgMC4xKVxuICAgIH0pXG4gICAgTWVzaFJlbmRlcmVyLnNldEJveChlZmZlY3RQYW5lbClcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChlZmZlY3RQYW5lbCwge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4zLCAwLjMsIDAuMywgMC44KSxcbiAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4yLCAwLjIsIDAuMiwgMC4zKSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAxXG4gICAgfSlcblxuICAgIGNvbnN0IGVmZmVjdFRleHQgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKGVmZmVjdFRleHQsIHtcbiAgICAgIHBhcmVudDogZWZmZWN0UGFuZWwsXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjUsIDAuNSwgMC41KVxuICAgIH0pXG4gICAgVGV4dFNoYXBlLmNyZWF0ZShlZmZlY3RUZXh0LCB7XG4gICAgICB0ZXh0OiAnXHUyNzI4IEVGRkVDVFMnLFxuICAgICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDEsIDEsIDEpLFxuICAgICAgZm9udFNpemU6IDEuNSxcbiAgICAgIHRleHRBbGlnbjogM1xuICAgIH0pXG4gIH1cblxuICAvLyBTZXR1cCBhdmF0YXIgYW5pbWF0aW9uc1xuICBwcml2YXRlIHNldHVwQXZhdGFyQW5pbWF0aW9ucygpIHtcbiAgICBlbmdpbmUuYWRkU3lzdGVtKCgpID0+IHtcbiAgICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkKSByZXR1cm5cblxuICAgICAgdGhpcy51cGRhdGVBbmltYXRpb25zKClcbiAgICAgIHRoaXMudXBkYXRlRWZmZWN0cygpXG4gICAgfSlcbiAgfVxuXG4gIC8vIFVwZGF0ZSBhbmltYXRpb25zXG4gIHByaXZhdGUgdXBkYXRlQW5pbWF0aW9ucygpIHtcbiAgICBpZiAoIXRoaXMuYW5pbWF0aW9uU3RhdGUuaXNQbGF5aW5nKSByZXR1cm5cblxuICAgIGNvbnN0IHRpbWUgPSBEYXRlLm5vdygpIC8gMTAwMFxuICAgIGNvbnN0IGJvZHkgPSB0aGlzLmF2YXRhclBhcnRzLmdldCgnYm9keScpXG5cbiAgICBpZiAoYm9keSkge1xuICAgICAgc3dpdGNoICh0aGlzLmFuaW1hdGlvblN0YXRlLmN1cnJlbnRBbmltYXRpb24pIHtcbiAgICAgICAgY2FzZSAnaWRsZSc6XG4gICAgICAgICAgY29uc3QgaWRsZUJvYiA9IE1hdGguc2luKHRpbWUgKiAyKSAqIDAuMDJcbiAgICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBUcmFuc2Zvcm0uZ2V0TXV0YWJsZShib2R5KVxuICAgICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbi55ID0gaWRsZUJvYlxuICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgY2FzZSAnd2Fsayc6XG4gICAgICAgICAgY29uc3Qgd2Fsa0JvYiA9IE1hdGguYWJzKE1hdGguc2luKHRpbWUgKiA0KSkgKiAwLjA1XG4gICAgICAgICAgY29uc3Qgd2Fsa1RyYW5zZm9ybSA9IFRyYW5zZm9ybS5nZXRNdXRhYmxlKGJvZHkpXG4gICAgICAgICAgd2Fsa1RyYW5zZm9ybS5wb3NpdGlvbi55ID0gd2Fsa0JvYlxuICAgICAgICAgIHdhbGtUcmFuc2Zvcm0ucm90YXRpb24gPSBRdWF0ZXJuaW9uLmZyb21FdWxlckRlZ3JlZXMoXG4gICAgICAgICAgICBNYXRoLnNpbih0aW1lICogNCkgKiA1LFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIDBcbiAgICAgICAgICApXG4gICAgICAgICAgYnJlYWtcblxuICAgICAgICBjYXNlICdkYW5jZSc6XG4gICAgICAgICAgY29uc3QgZGFuY2VUcmFuc2Zvcm0gPSBUcmFuc2Zvcm0uZ2V0TXV0YWJsZShib2R5KVxuICAgICAgICAgIGRhbmNlVHJhbnNmb3JtLnJvdGF0aW9uID0gUXVhdGVybmlvbi5mcm9tRXVsZXJEZWdyZWVzKFxuICAgICAgICAgICAgTWF0aC5zaW4odGltZSAqIDMpICogMTAsXG4gICAgICAgICAgICBNYXRoLmNvcyh0aW1lICogMikgKiAxNSxcbiAgICAgICAgICAgIE1hdGguc2luKHRpbWUgKiA0KSAqIDVcbiAgICAgICAgICApXG4gICAgICAgICAgYnJlYWtcblxuICAgICAgICBjYXNlICdmbG9hdCc6XG4gICAgICAgICAgY29uc3QgZmxvYXRUcmFuc2Zvcm0gPSBUcmFuc2Zvcm0uZ2V0TXV0YWJsZShib2R5KVxuICAgICAgICAgIGZsb2F0VHJhbnNmb3JtLnBvc2l0aW9uLnkgPSBNYXRoLnNpbih0aW1lICogMS41KSAqIDAuMVxuICAgICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gVXBkYXRlIGVmZmVjdHNcbiAgcHJpdmF0ZSB1cGRhdGVFZmZlY3RzKCkge1xuICAgIHRoaXMuYXZhdGFyUGFydHMuZm9yRWFjaCgocGFydCwga2V5KSA9PiB7XG4gICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJ3BhcnRpY2xlXycpKSB7XG4gICAgICAgIGNvbnN0IHRpbWUgPSBEYXRlLm5vdygpIC8gMTAwMFxuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBUcmFuc2Zvcm0uZ2V0TXV0YWJsZShwYXJ0KVxuICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24ueSArPSBNYXRoLnNpbih0aW1lICsgcGFyc2VJbnQoa2V5LnNwbGl0KCdfJylbMV0pKSAqIDAuMDFcbiAgICAgIH1cblxuICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCdvcmJfJykpIHtcbiAgICAgICAgY29uc3QgdGltZSA9IERhdGUubm93KCkgLyAxMDAwXG4gICAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoa2V5LnNwbGl0KCdfJylbMV0pXG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IDAuOCArIE1hdGguc2luKHRpbWUgKiAyICsgaW5kZXggKiAxMjAgKiBNYXRoLlBJIC8gMTgwKSAqIDAuMlxuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBUcmFuc2Zvcm0uZ2V0TXV0YWJsZShwYXJ0KVxuICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24ueCA9IE1hdGguY29zKHRpbWUgKyBpbmRleCAqIDEyMCAqIE1hdGguUEkgLyAxODApICogcmFkaXVzXG4gICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbi56ID0gTWF0aC5zaW4odGltZSArIGluZGV4ICogMTIwICogTWF0aC5QSSAvIDE4MCkgKiByYWRpdXNcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLy8gQXBwbHkgcHJlc2V0XG4gIHB1YmxpYyBhcHBseVByZXNldChwcmVzZXRJZDogc3RyaW5nKSB7XG4gICAgY29uc3QgcHJlc2V0ID0gdGhpcy5wcmVzZXRzLmdldChwcmVzZXRJZClcbiAgICBpZiAoIXByZXNldCkgcmV0dXJuXG5cbiAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVEQzY0IEFwcGx5aW5nIHByZXNldDogJHtwcmVzZXQubmFtZX1gKVxuICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdwb3dlcnVwJylcblxuICAgIC8vIENsZWFyIGN1cnJlbnQgYXZhdGFyXG4gICAgdGhpcy5jbGVhckN1cnJlbnRBdmF0YXIoKVxuXG4gICAgLy8gQXBwbHkgbmV3IGN1c3RvbWl6YXRpb25cbiAgICB0aGlzLmN1cnJlbnRBdmF0YXIgPSB7IC4uLnByZXNldC5jdXN0b21pemF0aW9uIH1cbiAgICB0aGlzLmNyZWF0ZUF2YXRhcigpXG4gIH1cblxuICAvLyBDbGVhciBjdXJyZW50IGF2YXRhclxuICBwcml2YXRlIGNsZWFyQ3VycmVudEF2YXRhcigpIHtcbiAgICB0aGlzLmF2YXRhclBhcnRzLmZvckVhY2gocGFydCA9PiB7XG4gICAgICBlbmdpbmUucmVtb3ZlRW50aXR5KHBhcnQpXG4gICAgfSlcbiAgICB0aGlzLmF2YXRhclBhcnRzLmNsZWFyKClcbiAgfVxuXG4gIC8vIFBsYXkgYW5pbWF0aW9uXG4gIHB1YmxpYyBwbGF5QW5pbWF0aW9uKGFuaW1hdGlvbk5hbWU6IHN0cmluZykge1xuICAgIGlmICh0aGlzLmN1cnJlbnRBdmF0YXIuYW5pbWF0aW9ucy5pbmNsdWRlcyhhbmltYXRpb25OYW1lKSkge1xuICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5jdXJyZW50QW5pbWF0aW9uID0gYW5pbWF0aW9uTmFtZVxuICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5pc1BsYXlpbmcgPSB0cnVlXG4gICAgICBjb25zb2xlLmxvZyhgXHVEODNDXHVERkFDIFBsYXlpbmcgYW5pbWF0aW9uOiAke2FuaW1hdGlvbk5hbWV9YClcbiAgICB9XG4gIH1cblxuICAvLyBTdG9wIGFuaW1hdGlvblxuICBwdWJsaWMgc3RvcEFuaW1hdGlvbigpIHtcbiAgICB0aGlzLmFuaW1hdGlvblN0YXRlLmlzUGxheWluZyA9IGZhbHNlXG4gIH1cblxuICAvLyBHZXQgY3VycmVudCBhdmF0YXIgY3VzdG9taXphdGlvblxuICBwdWJsaWMgZ2V0Q3VycmVudEF2YXRhcigpOiBBdmF0YXJDdXN0b21pemF0aW9uIHtcbiAgICByZXR1cm4geyAuLi50aGlzLmN1cnJlbnRBdmF0YXIgfVxuICB9XG5cbiAgLy8gR2V0IGF2YWlsYWJsZSBwcmVzZXRzXG4gIHB1YmxpYyBnZXRBdmFpbGFibGVQcmVzZXRzKCk6IEF2YXRhclByZXNldFtdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnByZXNldHMudmFsdWVzKCkpXG4gIH1cblxuICAvLyBDdXN0b21pemUgYXZhdGFyIGNvbG9yc1xuICBwdWJsaWMgY3VzdG9taXplQ29sb3JzKHByaW1hcnlDb2xvcjogQ29sb3IzLCBzZWNvbmRhcnlDb2xvcjogQ29sb3IzKSB7XG4gICAgdGhpcy5jdXJyZW50QXZhdGFyLnByaW1hcnlDb2xvciA9IHByaW1hcnlDb2xvclxuICAgIHRoaXMuY3VycmVudEF2YXRhci5zZWNvbmRhcnlDb2xvciA9IHNlY29uZGFyeUNvbG9yXG5cbiAgICAvLyBVcGRhdGUgYXZhdGFyIG1hdGVyaWFsc1xuICAgIGNvbnN0IGJvZHkgPSB0aGlzLmF2YXRhclBhcnRzLmdldCgnYm9keScpXG4gICAgaWYgKGJvZHkpIHtcbiAgICAgIGNvbnN0IG1hdGVyaWFsID0gTWF0ZXJpYWwuZ2V0TXV0YWJsZShib2R5KVxuICAgICAgaWYgKG1hdGVyaWFsICYmIG1hdGVyaWFsLiRjYXNlID09PSAncGJyJykge1xuICAgICAgICBtYXRlcmlhbC5wYnIuYWxiZWRvQ29sb3IgPSBDb2xvcjQuY3JlYXRlKHByaW1hcnlDb2xvci5yLCBwcmltYXJ5Q29sb3IuZywgcHJpbWFyeUNvbG9yLmIsIDEpXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaGVhZCA9IHRoaXMuYXZhdGFyUGFydHMuZ2V0KCdoZWFkJylcbiAgICBpZiAoaGVhZCkge1xuICAgICAgY29uc3QgbWF0ZXJpYWwgPSBNYXRlcmlhbC5nZXRNdXRhYmxlKGhlYWQpXG4gICAgICBpZiAobWF0ZXJpYWwgJiYgbWF0ZXJpYWwuJGNhc2UgPT09ICdwYnInKSB7XG4gICAgICAgIG1hdGVyaWFsLnBici5hbGJlZG9Db2xvciA9IENvbG9yNC5jcmVhdGUoc2Vjb25kYXJ5Q29sb3Iuciwgc2Vjb25kYXJ5Q29sb3IuZywgc2Vjb25kYXJ5Q29sb3IuYiwgMSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBBZGQgYWNjZXNzb3J5XG4gIHB1YmxpYyBhZGRBY2Nlc3NvcnkoYWNjZXNzb3J5OiBzdHJpbmcpIHtcbiAgICBpZiAoIXRoaXMuY3VycmVudEF2YXRhci5hY2Nlc3Nvcmllcy5pbmNsdWRlcyhhY2Nlc3NvcnkpKSB7XG4gICAgICB0aGlzLmN1cnJlbnRBdmF0YXIuYWNjZXNzb3JpZXMucHVzaChhY2Nlc3NvcnkpXG4gICAgICB0aGlzLmNyZWF0ZUFjY2Vzc29yeShhY2Nlc3NvcnkpXG4gICAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgnY2xpY2snKVxuICAgIH1cbiAgfVxuXG4gIC8vIFJlbW92ZSBhY2Nlc3NvcnlcbiAgcHVibGljIHJlbW92ZUFjY2Vzc29yeShhY2Nlc3Nvcnk6IHN0cmluZykge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jdXJyZW50QXZhdGFyLmFjY2Vzc29yaWVzLmluZGV4T2YoYWNjZXNzb3J5KVxuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICB0aGlzLmN1cnJlbnRBdmF0YXIuYWNjZXNzb3JpZXMuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgY29uc3QgcGFydCA9IHRoaXMuYXZhdGFyUGFydHMuZ2V0KGFjY2Vzc29yeSlcbiAgICAgIGlmIChwYXJ0KSB7XG4gICAgICAgIGVuZ2luZS5yZW1vdmVFbnRpdHkocGFydClcbiAgICAgICAgdGhpcy5hdmF0YXJQYXJ0cy5kZWxldGUoYWNjZXNzb3J5KVxuICAgICAgfVxuICAgICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ2NsaWNrJylcbiAgICB9XG4gIH1cblxuICAvLyBUb2dnbGUgZWZmZWN0XG4gIHB1YmxpYyB0b2dnbGVFZmZlY3QoZWZmZWN0VHlwZTogc3RyaW5nKSB7XG4gICAgY29uc3QgZWZmZWN0ID0gdGhpcy5jdXJyZW50QXZhdGFyLmVmZmVjdHMuZmluZChlID0+IGUudHlwZSA9PT0gZWZmZWN0VHlwZSlcbiAgICBpZiAoZWZmZWN0KSB7XG4gICAgICBlZmZlY3QuZW5hYmxlZCA9ICFlZmZlY3QuZW5hYmxlZFxuXG4gICAgICBpZiAoZWZmZWN0LmVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVFZmZlY3QoZWZmZWN0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmVtb3ZlIGVmZmVjdFxuICAgICAgICB0aGlzLmF2YXRhclBhcnRzLmZvckVhY2goKHBhcnQsIGtleSkgPT4ge1xuICAgICAgICAgIGlmIChrZXkuc3RhcnRzV2l0aChlZmZlY3RUeXBlKSkge1xuICAgICAgICAgICAgZW5naW5lLnJlbW92ZUVudGl0eShwYXJ0KVxuICAgICAgICAgICAgdGhpcy5hdmF0YXJQYXJ0cy5kZWxldGUoa2V5KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ2NsaWNrJylcbiAgICB9XG4gIH1cblxuICAvLyBDbGVhbnVwIHN5c3RlbVxuICBwdWJsaWMgY2xlYW51cCgpIHtcbiAgICB0aGlzLmNsZWFyQ3VycmVudEF2YXRhcigpXG5cbiAgICBpZiAodGhpcy5hdmF0YXJFbnRpdHkpIHtcbiAgICAgIGVuZ2luZS5yZW1vdmVFbnRpdHkodGhpcy5hdmF0YXJFbnRpdHkpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY3VzdG9taXphdGlvblVJKSB7XG4gICAgICBlbmdpbmUucmVtb3ZlRW50aXR5KHRoaXMuY3VzdG9taXphdGlvblVJKVxuICAgIH1cblxuICAgIHRoaXMucHJlc2V0cy5jbGVhcigpXG4gICAgdGhpcy5pc0luaXRpYWxpemVkID0gZmFsc2VcbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3QgYXZhdGFyU3lzdGVtID0gbmV3IEF2YXRhclN5c3RlbSgpXG4iLCAiLy8gQmxvY2tjaGFpbiBJbnRlZ3JhdGlvbiBmb3IgRGlnaXRhbCBBc3NldHMgaW4gQUlHZXN0aW9uIFZpcnR1YWwgT2ZmaWNlXG5pbXBvcnQgeyBlbmdpbmUsIElucHV0QWN0aW9uLCBNYXRlcmlhbCwgTWVzaFJlbmRlcmVyLCBwb2ludGVyRXZlbnRzU3lzdGVtLCBUcmFuc2Zvcm0gfSBmcm9tICdAZGNsL3Nkay9lY3MnXG5pbXBvcnQgeyBDb2xvcjQsIFZlY3RvcjMgfSBmcm9tICdAZGNsL3Nkay9tYXRoJ1xuaW1wb3J0IHsgc291bmRTeXN0ZW0gfSBmcm9tICcuL2VuaGFuY2VkLXNvdW5kJ1xuXG5pbnRlcmZhY2UgRGlnaXRhbEFzc2V0IHtcbiAgaWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgdHlwZTogJ25mdCcgfCAndG9rZW4nIHwgJ2NlcnRpZmljYXRlJyB8ICdiYWRnZScgfCAnY29sbGVjdGlibGUnIHwgJ2RvY3VtZW50J1xuICBibG9ja2NoYWluOiBzdHJpbmdcbiAgY29udHJhY3RBZGRyZXNzOiBzdHJpbmdcbiAgdG9rZW5JZDogc3RyaW5nXG4gIG93bmVyOiBzdHJpbmdcbiAgbWV0YWRhdGE6IEFzc2V0TWV0YWRhdGFcbiAgdmFsdWU6IG51bWJlclxuICBjdXJyZW5jeTogc3RyaW5nXG4gIGlzVmVyaWZpZWQ6IGJvb2xlYW5cbiAgY3JlYXRlZEF0OiBudW1iZXJcbiAgbGFzdFRyYW5zZmVycmVkOiBudW1iZXJcbn1cblxuaW50ZXJmYWNlIEFzc2V0TWV0YWRhdGEge1xuICBkZXNjcmlwdGlvbjogc3RyaW5nXG4gIGltYWdlOiBzdHJpbmdcbiAgYXR0cmlidXRlczogTWFwPHN0cmluZywgYW55PlxuICByYXJpdHk6ICdjb21tb24nIHwgJ3VuY29tbW9uJyB8ICdyYXJlJyB8ICdlcGljJyB8ICdsZWdlbmRhcnknXG4gIGNhdGVnb3J5OiBzdHJpbmdcbiAgY3JlYXRvcjogc3RyaW5nXG4gIHJveWFsdGllczogbnVtYmVyXG59XG5cbmludGVyZmFjZSBXYWxsZXQge1xuICBpZDogc3RyaW5nXG4gIGFkZHJlc3M6IHN0cmluZ1xuICBjaGFpbjogc3RyaW5nXG4gIGJhbGFuY2U6IE1hcDxzdHJpbmcsIG51bWJlcj5cbiAgYXNzZXRzOiBEaWdpdGFsQXNzZXRbXVxuICBpc0Nvbm5lY3RlZDogYm9vbGVhblxuICBwZXJtaXNzaW9uczogc3RyaW5nW11cbn1cblxuaW50ZXJmYWNlIFRyYW5zYWN0aW9uIHtcbiAgaWQ6IHN0cmluZ1xuICB0eXBlOiAndHJhbnNmZXInIHwgJ21pbnQnIHwgJ2J1cm4nIHwgJ2FwcHJvdmUnIHwgJ3N3YXAnXG4gIGZyb206IHN0cmluZ1xuICB0bzogc3RyaW5nXG4gIGFzc2V0OiBEaWdpdGFsQXNzZXRcbiAgYW1vdW50OiBudW1iZXJcbiAgZ2FzRmVlOiBudW1iZXJcbiAgc3RhdHVzOiAncGVuZGluZycgfCAnY29uZmlybWVkJyB8ICdmYWlsZWQnXG4gIHRpbWVzdGFtcDogbnVtYmVyXG4gIGJsb2NrTnVtYmVyPzogbnVtYmVyXG59XG5cbmludGVyZmFjZSBTbWFydENvbnRyYWN0IHtcbiAgaWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgYWRkcmVzczogc3RyaW5nXG4gIGFiaTogYW55W11cbiAgZnVuY3Rpb25zOiBNYXA8c3RyaW5nLCBDb250cmFjdEZ1bmN0aW9uPlxuICBpc0FjdGl2ZTogYm9vbGVhblxufVxuXG5pbnRlcmZhY2UgQ29udHJhY3RGdW5jdGlvbiB7XG4gIG5hbWU6IHN0cmluZ1xuICBpbnB1dHM6IEZ1bmN0aW9uUGFyYW1ldGVyW11cbiAgb3V0cHV0czogRnVuY3Rpb25QYXJhbWV0ZXJbXVxuICBpc1BheWFibGU6IGJvb2xlYW5cbiAgaXNWaWV3OiBib29sZWFuXG59XG5cbmludGVyZmFjZSBGdW5jdGlvblBhcmFtZXRlciB7XG4gIG5hbWU6IHN0cmluZ1xuICB0eXBlOiBzdHJpbmdcbiAgdmFsdWU/OiBhbnlcbn1cblxuZXhwb3J0IGNsYXNzIEJsb2NrY2hhaW5JbnRlZ3JhdGlvblN5c3RlbSB7XG4gIHByaXZhdGUgd2FsbGV0czogTWFwPHN0cmluZywgV2FsbGV0PiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIGFzc2V0czogTWFwPHN0cmluZywgRGlnaXRhbEFzc2V0PiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIHRyYW5zYWN0aW9uczogTWFwPHN0cmluZywgVHJhbnNhY3Rpb24+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgY29udHJhY3RzOiBNYXA8c3RyaW5nLCBTbWFydENvbnRyYWN0PiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIGJsb2NrY2hhaW5VSTogYW55XG4gIHByaXZhdGUgaXNJbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlXG4gIHByaXZhdGUgY3VycmVudFdhbGxldDogV2FsbGV0IHwgbnVsbCA9IG51bGxcbiAgcHJpdmF0ZSBzdXBwb3J0ZWRDaGFpbnM6IHN0cmluZ1tdID0gWydldGhlcmV1bScsICdwb2x5Z29uJywgJ2FyYml0cnVtJywgJ29wdGltaXNtJ11cbiAgcHJpdmF0ZSBnYXNQcmljZXM6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwKClcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmluaXRpYWxpemVHYXNQcmljZXMoKVxuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSBibG9ja2NoYWluIHN5c3RlbVxuICBpbml0aWFsaXplKCkge1xuICAgIGNvbnNvbGUubG9nKCdcdTI2RDNcdUZFMEYgQmxvY2tjaGFpbiBJbnRlZ3JhdGlvbiBTeXN0ZW0gSW5pdGlhbGl6aW5nLi4uJylcblxuICAgIHRoaXMuc2V0dXBTbWFydENvbnRyYWN0cygpXG4gICAgdGhpcy5jcmVhdGVCbG9ja2NoYWluVUkoKVxuICAgIHRoaXMuY3JlYXRlRGVmYXVsdFdhbGxldCgpXG4gICAgdGhpcy5pbml0aWFsaXplQmxvY2tjaGFpbkNvbm5lY3Rpb24oKVxuICAgIHRoaXMuc3RhcnRCbG9ja2NoYWluRW5naW5lKClcblxuICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IHRydWVcbiAgICBjb25zb2xlLmxvZygnXHUyNkQzXHVGRTBGIEJsb2NrY2hhaW4gSW50ZWdyYXRpb24gU3lzdGVtIFJlYWR5IScpXG4gIH1cblxuICAvLyBJbml0aWFsaXplIGdhcyBwcmljZXNcbiAgcHJpdmF0ZSBpbml0aWFsaXplR2FzUHJpY2VzKCkge1xuICAgIHRoaXMuZ2FzUHJpY2VzLnNldCgnZXRoZXJldW0nLCAyMClcbiAgICB0aGlzLmdhc1ByaWNlcy5zZXQoJ3BvbHlnb24nLCAzMClcbiAgICB0aGlzLmdhc1ByaWNlcy5zZXQoJ2FyYml0cnVtJywgMC4xKVxuICAgIHRoaXMuZ2FzUHJpY2VzLnNldCgnb3B0aW1pc20nLCAwLjEpXG4gIH1cblxuICAvLyBTZXR1cCBzbWFydCBjb250cmFjdHNcbiAgcHJpdmF0ZSBzZXR1cFNtYXJ0Q29udHJhY3RzKCkge1xuICAgIC8vIEFzc2V0IFJlZ2lzdHJ5IENvbnRyYWN0XG4gICAgdGhpcy5jb250cmFjdHMuc2V0KCdhc3NldF9yZWdpc3RyeScsIHtcbiAgICAgIGlkOiAnYXNzZXRfcmVnaXN0cnknLFxuICAgICAgbmFtZTogJ0Fzc2V0IFJlZ2lzdHJ5JyxcbiAgICAgIGFkZHJlc3M6ICcweDEyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MDEyMzQ1Njc4OTAnLFxuICAgICAgYWJpOiBbXSxcbiAgICAgIGZ1bmN0aW9uczogbmV3IE1hcChbXG4gICAgICAgIFsnbWludEFzc2V0Jywge1xuICAgICAgICAgIG5hbWU6ICdtaW50QXNzZXQnLFxuICAgICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAgeyBuYW1lOiAndG8nLCB0eXBlOiAnYWRkcmVzcycgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ3VyaScsIHR5cGU6ICdzdHJpbmcnIH1cbiAgICAgICAgICBdLFxuICAgICAgICAgIG91dHB1dHM6IFt7IG5hbWU6ICd0b2tlbklkJywgdHlwZTogJ3VpbnQyNTYnIH1dLFxuICAgICAgICAgIGlzUGF5YWJsZTogZmFsc2UsXG4gICAgICAgICAgaXNWaWV3OiBmYWxzZVxuICAgICAgICB9XSxcbiAgICAgICAgWyd0cmFuc2ZlckFzc2V0Jywge1xuICAgICAgICAgIG5hbWU6ICd0cmFuc2ZlckFzc2V0JyxcbiAgICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHsgbmFtZTogJ2Zyb20nLCB0eXBlOiAnYWRkcmVzcycgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ3RvJywgdHlwZTogJ2FkZHJlc3MnIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICd0b2tlbklkJywgdHlwZTogJ3VpbnQyNTYnIH1cbiAgICAgICAgICBdLFxuICAgICAgICAgIG91dHB1dHM6IFtdLFxuICAgICAgICAgIGlzUGF5YWJsZTogZmFsc2UsXG4gICAgICAgICAgaXNWaWV3OiBmYWxzZVxuICAgICAgICB9XVxuICAgICAgXSksXG4gICAgICBpc0FjdGl2ZTogdHJ1ZVxuICAgIH0pXG5cbiAgICAvLyBDZXJ0aWZpY2F0ZSBDb250cmFjdFxuICAgIHRoaXMuY29udHJhY3RzLnNldCgnY2VydGlmaWNhdGUnLCB7XG4gICAgICBpZDogJ2NlcnRpZmljYXRlJyxcbiAgICAgIG5hbWU6ICdDZXJ0aWZpY2F0ZSBSZWdpc3RyeScsXG4gICAgICBhZGRyZXNzOiAnMHgyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MDEyMzQ1Njc4OTAxJyxcbiAgICAgIGFiaTogW10sXG4gICAgICBmdW5jdGlvbnM6IG5ldyBNYXAoW1xuICAgICAgICBbJ2lzc3VlQ2VydGlmaWNhdGUnLCB7XG4gICAgICAgICAgbmFtZTogJ2lzc3VlQ2VydGlmaWNhdGUnLFxuICAgICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAgeyBuYW1lOiAncmVjaXBpZW50JywgdHlwZTogJ2FkZHJlc3MnIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdtZXRhZGF0YScsIHR5cGU6ICdzdHJpbmcnIH1cbiAgICAgICAgICBdLFxuICAgICAgICAgIG91dHB1dHM6IFt7IG5hbWU6ICdjZXJ0aWZpY2F0ZUlkJywgdHlwZTogJ3VpbnQyNTYnIH1dLFxuICAgICAgICAgIGlzUGF5YWJsZTogZmFsc2UsXG4gICAgICAgICAgaXNWaWV3OiBmYWxzZVxuICAgICAgICB9XSxcbiAgICAgICAgWyd2ZXJpZnlDZXJ0aWZpY2F0ZScsIHtcbiAgICAgICAgICBuYW1lOiAndmVyaWZ5Q2VydGlmaWNhdGUnLFxuICAgICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAgeyBuYW1lOiAnY2VydGlmaWNhdGVJZCcsIHR5cGU6ICd1aW50MjU2JyB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBvdXRwdXRzOiBbeyBuYW1lOiAnaXNWYWxpZCcsIHR5cGU6ICdib29sJyB9XSxcbiAgICAgICAgICBpc1BheWFibGU6IGZhbHNlLFxuICAgICAgICAgIGlzVmlldzogdHJ1ZVxuICAgICAgICB9XVxuICAgICAgXSksXG4gICAgICBpc0FjdGl2ZTogdHJ1ZVxuICAgIH0pXG5cbiAgICAvLyBCYWRnZSBDb250cmFjdFxuICAgIHRoaXMuY29udHJhY3RzLnNldCgnYmFkZ2UnLCB7XG4gICAgICBpZDogJ2JhZGdlJyxcbiAgICAgIG5hbWU6ICdBY2hpZXZlbWVudCBCYWRnZXMnLFxuICAgICAgYWRkcmVzczogJzB4MzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MDEyMzQ1Njc4OTAxMicsXG4gICAgICBhYmk6IFtdLFxuICAgICAgZnVuY3Rpb25zOiBuZXcgTWFwKFtcbiAgICAgICAgWydhd2FyZEJhZGdlJywge1xuICAgICAgICAgIG5hbWU6ICdhd2FyZEJhZGdlJyxcbiAgICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHsgbmFtZTogJ3VzZXInLCB0eXBlOiAnYWRkcmVzcycgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ2JhZGdlVHlwZScsIHR5cGU6ICd1aW50MjU2JyB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBvdXRwdXRzOiBbXSxcbiAgICAgICAgICBpc1BheWFibGU6IGZhbHNlLFxuICAgICAgICAgIGlzVmlldzogZmFsc2VcbiAgICAgICAgfV0sXG4gICAgICAgIFsnZ2V0VXNlckJhZGdlcycsIHtcbiAgICAgICAgICBuYW1lOiAnZ2V0VXNlckJhZGdlcycsXG4gICAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7IG5hbWU6ICd1c2VyJywgdHlwZTogJ2FkZHJlc3MnIH1cbiAgICAgICAgICBdLFxuICAgICAgICAgIG91dHB1dHM6IFt7IG5hbWU6ICdiYWRnZUlkcycsIHR5cGU6ICd1aW50MjU2W10nIH1dLFxuICAgICAgICAgIGlzUGF5YWJsZTogZmFsc2UsXG4gICAgICAgICAgaXNWaWV3OiB0cnVlXG4gICAgICAgIH1dXG4gICAgICBdKSxcbiAgICAgIGlzQWN0aXZlOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIC8vIENyZWF0ZSBibG9ja2NoYWluIFVJXG4gIHByaXZhdGUgY3JlYXRlQmxvY2tjaGFpblVJKCkge1xuICAgIHRoaXMuYmxvY2tjaGFpblVJID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZSh0aGlzLmJsb2NrY2hhaW5VSSwge1xuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDIsIDMsIDgpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDMsIDQsIDAuMSlcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRCb3godGhpcy5ibG9ja2NoYWluVUkpXG4gICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwodGhpcy5ibG9ja2NoYWluVUksIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMSwgMC4yLCAwLjQsIDAuOSksXG4gICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMiwgMC40LCAwLjgsIDAuNSksXG4gICAgICBlbWlzc2l2ZUludGVuc2l0eTogMlxuICAgIH0pXG5cbiAgICAvLyBDcmVhdGUgdGl0bGVcbiAgICBjb25zdCB0aXRsZSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUodGl0bGUsIHtcbiAgICAgIHBhcmVudDogdGhpcy5ibG9ja2NoYWluVUksXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMS43LCAwLjEpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMywgMC4zLCAwLjMpXG4gICAgfSlcbiAgICBUZXh0U2hhcGUuY3JlYXRlKHRpdGxlLCB7XG4gICAgICB0ZXh0OiAnXHUyNkQzXHVGRTBGIEJMT0NLQ0hBSU4gQVNTRVRTJyxcbiAgICAgIHRleHRDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAxLCAxLCAxKSxcbiAgICAgIGZvbnRTaXplOiAyLFxuICAgICAgdGV4dEFsaWduOiAzXG4gICAgfSlcblxuICAgIC8vIENyZWF0ZSB3YWxsZXQgc2VjdGlvblxuICAgIHRoaXMuY3JlYXRlV2FsbGV0U2VjdGlvbigpXG5cbiAgICAvLyBDcmVhdGUgYXNzZXRzIHNlY3Rpb25cbiAgICB0aGlzLmNyZWF0ZUFzc2V0c1NlY3Rpb24oKVxuXG4gICAgLy8gQ3JlYXRlIHRyYW5zYWN0aW9ucyBzZWN0aW9uXG4gICAgdGhpcy5jcmVhdGVUcmFuc2FjdGlvbnNTZWN0aW9uKClcblxuICAgIC8vIENyZWF0ZSBjb250cm9scyBzZWN0aW9uXG4gICAgdGhpcy5jcmVhdGVCbG9ja2NoYWluQ29udHJvbHMoKVxuICB9XG5cbiAgLy8gQ3JlYXRlIHdhbGxldCBzZWN0aW9uXG4gIHByaXZhdGUgY3JlYXRlV2FsbGV0U2VjdGlvbigpIHtcbiAgICBjb25zdCB3YWxsZXRTZWN0aW9uID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZSh3YWxsZXRTZWN0aW9uLCB7XG4gICAgICBwYXJlbnQ6IHRoaXMuYmxvY2tjaGFpblVJLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDEuMiwgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjgsIDAuMywgMC4xKVxuICAgIH0pXG4gICAgTWVzaFJlbmRlcmVyLnNldEJveCh3YWxsZXRTZWN0aW9uKVxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKHdhbGxldFNlY3Rpb24sIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMiwgMC4yLCAwLjIsIDAuOCksXG4gICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMiwgMC4yLCAwLjIsIDAuMyksXG4gICAgICBlbWlzc2l2ZUludGVuc2l0eTogMVxuICAgIH0pXG5cbiAgICBjb25zdCB3YWxsZXRUZXh0ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZSh3YWxsZXRUZXh0LCB7XG4gICAgICBwYXJlbnQ6IHdhbGxldFNlY3Rpb24sXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjMsIDAuMywgMC4zKVxuICAgIH0pXG4gICAgVGV4dFNoYXBlLmNyZWF0ZSh3YWxsZXRUZXh0LCB7XG4gICAgICB0ZXh0OiAnXHVEODNEXHVEQzVCIFdBTExFVDogTm90IENvbm5lY3RlZCcsXG4gICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICBmb250U2l6ZTogMS41LFxuICAgICAgdGV4dEFsaWduOiAzXG4gICAgfSlcbiAgfVxuXG4gIC8vIENyZWF0ZSBhc3NldHMgc2VjdGlvblxuICBwcml2YXRlIGNyZWF0ZUFzc2V0c1NlY3Rpb24oKSB7XG4gICAgY29uc3QgYXNzZXRzU2VjdGlvbiA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUoYXNzZXRzU2VjdGlvbiwge1xuICAgICAgcGFyZW50OiB0aGlzLmJsb2NrY2hhaW5VSSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLjUsIDAuMSksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC44LCAwLjQsIDAuMSlcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRCb3goYXNzZXRzU2VjdGlvbilcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChhc3NldHNTZWN0aW9uLCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjEsIDAuMSwgMC4xLCAwLjgpLFxuICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjEsIDAuMSwgMC4xLCAwLjMpLFxuICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDFcbiAgICB9KVxuXG4gICAgY29uc3QgYXNzZXRzVGV4dCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUoYXNzZXRzVGV4dCwge1xuICAgICAgcGFyZW50OiBhc3NldHNTZWN0aW9uLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDAuMSwgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjMsIDAuMywgMC4zKVxuICAgIH0pXG4gICAgVGV4dFNoYXBlLmNyZWF0ZShhc3NldHNUZXh0LCB7XG4gICAgICB0ZXh0OiAnXHVEODNDXHVERkE4IEFTU0VUUzogMCcsXG4gICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICBmb250U2l6ZTogMS41LFxuICAgICAgdGV4dEFsaWduOiAzXG4gICAgfSlcbiAgfVxuXG4gIC8vIENyZWF0ZSB0cmFuc2FjdGlvbnMgc2VjdGlvblxuICBwcml2YXRlIGNyZWF0ZVRyYW5zYWN0aW9uc1NlY3Rpb24oKSB7XG4gICAgY29uc3QgdHJhbnNhY3Rpb25zU2VjdGlvbiA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUodHJhbnNhY3Rpb25zU2VjdGlvbiwge1xuICAgICAgcGFyZW50OiB0aGlzLmJsb2NrY2hhaW5VSSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAtMC4yLCAwLjEpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuOCwgMC4zLCAwLjEpXG4gICAgfSlcbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KHRyYW5zYWN0aW9uc1NlY3Rpb24pXG4gICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwodHJhbnNhY3Rpb25zU2VjdGlvbiwge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjEsIDAuMSwgMC44KSxcbiAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjEsIDAuMSwgMC4zKSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAxXG4gICAgfSlcblxuICAgIGNvbnN0IHRyYW5zYWN0aW9uc1RleHQgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKHRyYW5zYWN0aW9uc1RleHQsIHtcbiAgICAgIHBhcmVudDogdHJhbnNhY3Rpb25zU2VjdGlvbixcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwLjEpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMywgMC4zLCAwLjMpXG4gICAgfSlcbiAgICBUZXh0U2hhcGUuY3JlYXRlKHRyYW5zYWN0aW9uc1RleHQsIHtcbiAgICAgIHRleHQ6ICdcdUQ4M0RcdURDQ0EgVFJBTlNBQ1RJT05TOiAwJyxcbiAgICAgIHRleHRDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAxLCAxLCAxKSxcbiAgICAgIGZvbnRTaXplOiAxLjUsXG4gICAgICB0ZXh0QWxpZ246IDNcbiAgICB9KVxuICB9XG5cbiAgLy8gQ3JlYXRlIGJsb2NrY2hhaW4gY29udHJvbHNcbiAgcHJpdmF0ZSBjcmVhdGVCbG9ja2NoYWluQ29udHJvbHMoKSB7XG4gICAgY29uc3QgY29udHJvbHMgPSBbXG4gICAgICB7IGlkOiAnY29ubmVjdCcsIGljb246ICdcdUQ4M0RcdUREMTcnLCBuYW1lOiAnQ29ubmVjdCBXYWxsZXQnIH0sXG4gICAgICB7IGlkOiAnbWludCcsIGljb246ICdcdUQ4M0NcdURGQTgnLCBuYW1lOiAnTWludCBBc3NldCcgfSxcbiAgICAgIHsgaWQ6ICd0cmFuc2ZlcicsIGljb246ICdcdUQ4M0RcdURDQjgnLCBuYW1lOiAnVHJhbnNmZXInIH0sXG4gICAgICB7IGlkOiAndmVyaWZ5JywgaWNvbjogJ1x1MjcwNScsIG5hbWU6ICdWZXJpZnknIH1cbiAgICBdXG5cbiAgICBsZXQgeE9mZnNldCA9IC0wLjlcblxuICAgIGNvbnRyb2xzLmZvckVhY2goY29udHJvbCA9PiB7XG4gICAgICBjb25zdCBidXR0b24gPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIFRyYW5zZm9ybS5jcmVhdGUoYnV0dG9uLCB7XG4gICAgICAgIHBhcmVudDogdGhpcy5ibG9ja2NoYWluVUksXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSh4T2Zmc2V0LCAtMC43LCAwLjEpLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4zLCAwLjMsIDAuMSlcbiAgICAgIH0pXG4gICAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGJ1dHRvbilcbiAgICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGJ1dHRvbiwge1xuICAgICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjMsIDAuNiwgMC44LCAxKSxcbiAgICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjMsIDAuNiwgMC44LCAwLjUpLFxuICAgICAgICBlbWlzc2l2ZUludGVuc2l0eTogMlxuICAgICAgfSlcblxuICAgICAgY29uc3QgYnV0dG9uVGV4dCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgVHJhbnNmb3JtLmNyZWF0ZShidXR0b25UZXh0LCB7XG4gICAgICAgIHBhcmVudDogYnV0dG9uLFxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMC4xKSxcbiAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuNSwgMC41LCAwLjUpXG4gICAgICB9KVxuICAgICAgVGV4dFNoYXBlLmNyZWF0ZShidXR0b25UZXh0LCB7XG4gICAgICAgIHRleHQ6IGNvbnRyb2wuaWNvbixcbiAgICAgICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDEsIDEsIDEpLFxuICAgICAgICBmb250U2l6ZTogMixcbiAgICAgICAgdGV4dEFsaWduOiAzXG4gICAgICB9KVxuXG4gICAgICBwb2ludGVyRXZlbnRzU3lzdGVtLm9uUG9pbnRlckRvd24oXG4gICAgICAgIHtcbiAgICAgICAgICBlbnRpdHk6IGJ1dHRvbixcbiAgICAgICAgICBvcHRzOiB7IGJ1dHRvbjogSW5wdXRBY3Rpb24uSUFfUE9JTlRFUiwgaG92ZXJUZXh0OiBjb250cm9sLm5hbWUgfVxuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB0aGlzLmhhbmRsZUJsb2NrY2hhaW5Db250cm9sKGNvbnRyb2wuaWQpXG4gICAgICApXG5cbiAgICAgIHhPZmZzZXQgKz0gMC42XG4gICAgfSlcbiAgfVxuXG4gIC8vIENyZWF0ZSBkZWZhdWx0IHdhbGxldFxuICBwcml2YXRlIGNyZWF0ZURlZmF1bHRXYWxsZXQoKSB7XG4gICAgY29uc3Qgd2FsbGV0OiBXYWxsZXQgPSB7XG4gICAgICBpZDogJ3dhbGxldF9kZWZhdWx0JyxcbiAgICAgIGFkZHJlc3M6ICcweGFiY2RlZjEyMzQ1Njc4OTBhYmNkZWYxMjM0NTY3ODkwYWJjZGVmMTInLFxuICAgICAgY2hhaW46ICdldGhlcmV1bScsXG4gICAgICBiYWxhbmNlOiBuZXcgTWFwKFtcbiAgICAgICAgWydFVEgnLCAyLjVdLFxuICAgICAgICBbJ1VTREMnLCAxMDAwXSxcbiAgICAgICAgWydBSUcnLCA1MDBdXG4gICAgICBdKSxcbiAgICAgIGFzc2V0czogW10sXG4gICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsXG4gICAgICBwZXJtaXNzaW9uczogWydyZWFkJywgJ3dyaXRlJywgJ2FkbWluJ11cbiAgICB9XG5cbiAgICB0aGlzLndhbGxldHMuc2V0KHdhbGxldC5pZCwgd2FsbGV0KVxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURDNUIgRGVmYXVsdCB3YWxsZXQgY3JlYXRlZCcpXG4gIH1cblxuICAvLyBJbml0aWFsaXplIGJsb2NrY2hhaW4gY29ubmVjdGlvblxuICBwcml2YXRlIGluaXRpYWxpemVCbG9ja2NoYWluQ29ubmVjdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVERDE3IEluaXRpYWxpemluZyBibG9ja2NoYWluIGNvbm5lY3Rpb25zLi4uJylcblxuICAgIC8vIFNpbXVsYXRlIGNvbm5lY3Rpb24gdG8gbXVsdGlwbGUgY2hhaW5zXG4gICAgdGhpcy5zdXBwb3J0ZWRDaGFpbnMuZm9yRWFjaChjaGFpbiA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVEQ0UxIENvbm5lY3RlZCB0byAke2NoYWlufWApXG4gICAgfSlcbiAgfVxuXG4gIC8vIFN0YXJ0IGJsb2NrY2hhaW4gZW5naW5lXG4gIHByaXZhdGUgc3RhcnRCbG9ja2NoYWluRW5naW5lKCkge1xuICAgIGVuZ2luZS5hZGRTeXN0ZW0oKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmlzSW5pdGlhbGl6ZWQpIHJldHVyblxuXG4gICAgICB0aGlzLnVwZGF0ZUJsb2NrY2hhaW5VSSgpXG4gICAgICB0aGlzLnNpbXVsYXRlQmxvY2tjaGFpbkFjdGl2aXR5KClcbiAgICAgIHRoaXMudXBkYXRlR2FzUHJpY2VzKClcbiAgICB9KVxuICB9XG5cbiAgLy8gSGFuZGxlIGJsb2NrY2hhaW4gY29udHJvbFxuICBwcml2YXRlIGhhbmRsZUJsb2NrY2hhaW5Db250cm9sKGNvbnRyb2xJZDogc3RyaW5nKSB7XG4gICAgc3dpdGNoIChjb250cm9sSWQpIHtcbiAgICAgIGNhc2UgJ2Nvbm5lY3QnOlxuICAgICAgICB0aGlzLmNvbm5lY3RXYWxsZXQoKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnbWludCc6XG4gICAgICAgIHRoaXMubWludEFzc2V0KClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3RyYW5zZmVyJzpcbiAgICAgICAgdGhpcy50cmFuc2ZlckFzc2V0KClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3ZlcmlmeSc6XG4gICAgICAgIHRoaXMudmVyaWZ5QXNzZXQoKVxuICAgICAgICBicmVha1xuICAgIH1cblxuICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdjbGljaycpXG4gIH1cblxuICAvLyBDb25uZWN0IHdhbGxldFxuICBwdWJsaWMgY29ubmVjdFdhbGxldCgpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50V2FsbGV0ICYmIHRoaXMuY3VycmVudFdhbGxldC5pc0Nvbm5lY3RlZCkge1xuICAgICAgY29uc29sZS5sb2coJ1x1RDgzRFx1REM1QiBXYWxsZXQgYWxyZWFkeSBjb25uZWN0ZWQnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3Qgd2FsbGV0ID0gdGhpcy53YWxsZXRzLmdldCgnd2FsbGV0X2RlZmF1bHQnKVxuICAgIGlmICghd2FsbGV0KSByZXR1cm5cblxuICAgIHdhbGxldC5pc0Nvbm5lY3RlZCA9IHRydWVcbiAgICB0aGlzLmN1cnJlbnRXYWxsZXQgPSB3YWxsZXRcblxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdUREMTcgV2FsbGV0IGNvbm5lY3RlZCBzdWNjZXNzZnVsbHknKVxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURDQ0QgQWRkcmVzczogJHt3YWxsZXQuYWRkcmVzc31gKVxuICAgIGNvbnNvbGUubG9nKGBcdTI2RDNcdUZFMEYgQ2hhaW46ICR7d2FsbGV0LmNoYWlufWApXG5cbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgncG93ZXJ1cCcpXG4gIH1cblxuICAvLyBEaXNjb25uZWN0IHdhbGxldFxuICBwdWJsaWMgZGlzY29ubmVjdFdhbGxldCgpIHtcbiAgICBpZiAoIXRoaXMuY3VycmVudFdhbGxldCkgcmV0dXJuXG5cbiAgICB0aGlzLmN1cnJlbnRXYWxsZXQuaXNDb25uZWN0ZWQgPSBmYWxzZVxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdUREMEMgV2FsbGV0IGRpc2Nvbm5lY3RlZCcpXG5cbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgnY2xpY2snKVxuICB9XG5cbiAgLy8gTWludCBhc3NldFxuICBwdWJsaWMgbWludEFzc2V0KCkge1xuICAgIGlmICghdGhpcy5jdXJyZW50V2FsbGV0IHx8ICF0aGlzLmN1cnJlbnRXYWxsZXQuaXNDb25uZWN0ZWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdcdTI3NEMgUGxlYXNlIGNvbm5lY3Qgd2FsbGV0IGZpcnN0JylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IGFzc2V0OiBEaWdpdGFsQXNzZXQgPSB7XG4gICAgICBpZDogYGFzc2V0XyR7RGF0ZS5ub3coKX1gLFxuICAgICAgbmFtZTogYEFJRyBBc3NldCAjJHt0aGlzLmFzc2V0cy5zaXplICsgMX1gLFxuICAgICAgdHlwZTogJ25mdCcsXG4gICAgICBibG9ja2NoYWluOiB0aGlzLmN1cnJlbnRXYWxsZXQuY2hhaW4sXG4gICAgICBjb250cmFjdEFkZHJlc3M6IHRoaXMuY29udHJhY3RzLmdldCgnYXNzZXRfcmVnaXN0cnknKT8uYWRkcmVzcyB8fCAnJyxcbiAgICAgIHRva2VuSWQ6ICh0aGlzLmFzc2V0cy5zaXplICsgMSkudG9TdHJpbmcoKSxcbiAgICAgIG93bmVyOiB0aGlzLmN1cnJlbnRXYWxsZXQuYWRkcmVzcyxcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQUlHZXN0aW9uIFZpcnR1YWwgT2ZmaWNlIEFzc2V0JyxcbiAgICAgICAgaW1hZ2U6ICdpcGZzOi8vUW1IYXNoLi4uJyxcbiAgICAgICAgYXR0cmlidXRlczogbmV3IE1hcChbXG4gICAgICAgICAgWydjcmVhdGVkX2J5JywgJ0FJR2VzdGlvbiddLFxuICAgICAgICAgIFsnb2ZmaWNlX3NwYWNlJywgJ3ZpcnR1YWwnXSxcbiAgICAgICAgICBbJ3V0aWxpdHknLCAncHJvZHVjdGl2aXR5J11cbiAgICAgICAgXSksXG4gICAgICAgIHJhcml0eTogJ3JhcmUnLFxuICAgICAgICBjYXRlZ29yeTogJ29mZmljZScsXG4gICAgICAgIGNyZWF0b3I6ICdBSUdlc3Rpb24nLFxuICAgICAgICByb3lhbHRpZXM6IDIuNVxuICAgICAgfSxcbiAgICAgIHZhbHVlOiAwLjEsXG4gICAgICBjdXJyZW5jeTogJ0VUSCcsXG4gICAgICBpc1ZlcmlmaWVkOiB0cnVlLFxuICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgbGFzdFRyYW5zZmVycmVkOiBEYXRlLm5vdygpXG4gICAgfVxuXG4gICAgdGhpcy5hc3NldHMuc2V0KGFzc2V0LmlkLCBhc3NldClcbiAgICB0aGlzLmN1cnJlbnRXYWxsZXQuYXNzZXRzLnB1c2goYXNzZXQpXG5cbiAgICAvLyBDcmVhdGUgdHJhbnNhY3Rpb25cbiAgICBjb25zdCB0cmFuc2FjdGlvbjogVHJhbnNhY3Rpb24gPSB7XG4gICAgICBpZDogYHR4XyR7RGF0ZS5ub3coKX1gLFxuICAgICAgdHlwZTogJ21pbnQnLFxuICAgICAgZnJvbTogJzB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcsXG4gICAgICB0bzogdGhpcy5jdXJyZW50V2FsbGV0LmFkZHJlc3MsXG4gICAgICBhc3NldDogYXNzZXQsXG4gICAgICBhbW91bnQ6IDEsXG4gICAgICBnYXNGZWU6IHRoaXMuZ2FzUHJpY2VzLmdldCh0aGlzLmN1cnJlbnRXYWxsZXQuY2hhaW4pIHx8IDIwLFxuICAgICAgc3RhdHVzOiAnY29uZmlybWVkJyxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIGJsb2NrTnVtYmVyOiAxMjM0NTY3OFxuICAgIH1cblxuICAgIHRoaXMudHJhbnNhY3Rpb25zLnNldCh0cmFuc2FjdGlvbi5pZCwgdHJhbnNhY3Rpb24pXG5cbiAgICBjb25zb2xlLmxvZyhgXHVEODNDXHVERkE4IE1pbnRlZCBuZXcgYXNzZXQ6ICR7YXNzZXQubmFtZX1gKVxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0NcdUREOTQgVG9rZW4gSUQ6ICR7YXNzZXQudG9rZW5JZH1gKVxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURDQjAgVmFsdWU6ICR7YXNzZXQudmFsdWV9ICR7YXNzZXQuY3VycmVuY3l9YClcblxuICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdwb3dlcnVwJylcbiAgfVxuXG4gIC8vIFRyYW5zZmVyIGFzc2V0XG4gIHB1YmxpYyB0cmFuc2ZlckFzc2V0KCkge1xuICAgIGlmICghdGhpcy5jdXJyZW50V2FsbGV0IHx8ICF0aGlzLmN1cnJlbnRXYWxsZXQuaXNDb25uZWN0ZWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdcdTI3NEMgUGxlYXNlIGNvbm5lY3Qgd2FsbGV0IGZpcnN0JylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh0aGlzLmN1cnJlbnRXYWxsZXQuYXNzZXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc29sZS5sb2coJ1x1Mjc0QyBObyBhc3NldHMgdG8gdHJhbnNmZXInKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgYXNzZXQgPSB0aGlzLmN1cnJlbnRXYWxsZXQuYXNzZXRzWzBdXG4gICAgY29uc3QgcmVjaXBpZW50ID0gJzB4MTIzNDU2Nzg5MDEyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MCdcblxuICAgIC8vIENyZWF0ZSB0cmFuc2FjdGlvblxuICAgIGNvbnN0IHRyYW5zYWN0aW9uOiBUcmFuc2FjdGlvbiA9IHtcbiAgICAgIGlkOiBgdHhfJHtEYXRlLm5vdygpfWAsXG4gICAgICB0eXBlOiAndHJhbnNmZXInLFxuICAgICAgZnJvbTogdGhpcy5jdXJyZW50V2FsbGV0LmFkZHJlc3MsXG4gICAgICB0bzogcmVjaXBpZW50LFxuICAgICAgYXNzZXQ6IGFzc2V0LFxuICAgICAgYW1vdW50OiAxLFxuICAgICAgZ2FzRmVlOiB0aGlzLmdhc1ByaWNlcy5nZXQodGhpcy5jdXJyZW50V2FsbGV0LmNoYWluKSB8fCAyMCxcbiAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgfVxuXG4gICAgdGhpcy50cmFuc2FjdGlvbnMuc2V0KHRyYW5zYWN0aW9uLmlkLCB0cmFuc2FjdGlvbilcblxuICAgIC8vIFVwZGF0ZSBhc3NldCBvd25lcnNoaXBcbiAgICBhc3NldC5vd25lciA9IHJlY2lwaWVudFxuICAgIGFzc2V0Lmxhc3RUcmFuc2ZlcnJlZCA9IERhdGUubm93KClcblxuICAgIC8vIFJlbW92ZSBmcm9tIGN1cnJlbnQgd2FsbGV0XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmN1cnJlbnRXYWxsZXQuYXNzZXRzLmluZGV4T2YoYXNzZXQpXG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIHRoaXMuY3VycmVudFdhbGxldC5hc3NldHMuc3BsaWNlKGluZGV4LCAxKVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURDQjggVHJhbnNmZXJyZWQgJHthc3NldC5uYW1lfSB0byAke3JlY2lwaWVudH1gKVxuXG4gICAgLy8gU2ltdWxhdGUgdHJhbnNhY3Rpb24gY29uZmlybWF0aW9uXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0cmFuc2FjdGlvbi5zdGF0dXMgPSAnY29uZmlybWVkJ1xuICAgICAgdHJhbnNhY3Rpb24uYmxvY2tOdW1iZXIgPSAxMjM0NTY3OVxuICAgICAgY29uc29sZS5sb2coYFx1MjcwNSBUcmFuc2FjdGlvbiBjb25maXJtZWQ6ICR7dHJhbnNhY3Rpb24uaWR9YClcbiAgICB9LCAzMDAwKVxuXG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ2NsaWNrJylcbiAgfVxuXG4gIC8vIFZlcmlmeSBhc3NldFxuICBwdWJsaWMgdmVyaWZ5QXNzZXQoKSB7XG4gICAgaWYgKHRoaXMuYXNzZXRzLnNpemUgPT09IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKCdcdTI3NEMgTm8gYXNzZXRzIHRvIHZlcmlmeScpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBhc3NldCA9IEFycmF5LmZyb20odGhpcy5hc3NldHMudmFsdWVzKCkpWzBdXG5cbiAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVERDBEIFZlcmlmeWluZyBhc3NldDogJHthc3NldC5uYW1lfWApXG4gICAgY29uc29sZS5sb2coYFx1RDgzQ1x1REQ5NCBUb2tlbiBJRDogJHthc3NldC50b2tlbklkfWApXG4gICAgY29uc29sZS5sb2coYFx1MjZEM1x1RkUwRiBCbG9ja2NoYWluOiAke2Fzc2V0LmJsb2NrY2hhaW59YClcbiAgICBjb25zb2xlLmxvZyhgXHUyNzA1IFZlcmlmaWNhdGlvbjogJHthc3NldC5pc1ZlcmlmaWVkID8gJ1ZBTElEJyA6ICdJTlZBTElEJ31gKVxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURDNjQgT3duZXI6ICR7YXNzZXQub3duZXJ9YClcbiAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVEQ0M1IENyZWF0ZWQ6ICR7bmV3IERhdGUoYXNzZXQuY3JlYXRlZEF0KS50b0xvY2FsZVN0cmluZygpfWApXG5cbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgncG93ZXJ1cCcpXG4gIH1cblxuICAvLyBJc3N1ZSBjZXJ0aWZpY2F0ZVxuICBwdWJsaWMgaXNzdWVDZXJ0aWZpY2F0ZShyZWNpcGllbnQ6IHN0cmluZywgbWV0YWRhdGE6IHN0cmluZykge1xuICAgIGNvbnN0IGNlcnRpZmljYXRlOiBEaWdpdGFsQXNzZXQgPSB7XG4gICAgICBpZDogYGNlcnRfJHtEYXRlLm5vdygpfWAsXG4gICAgICBuYW1lOiBgQ2VydGlmaWNhdGUgIyR7dGhpcy5hc3NldHMuc2l6ZSArIDF9YCxcbiAgICAgIHR5cGU6ICdjZXJ0aWZpY2F0ZScsXG4gICAgICBibG9ja2NoYWluOiB0aGlzLmN1cnJlbnRXYWxsZXQ/LmNoYWluIHx8ICdldGhlcmV1bScsXG4gICAgICBjb250cmFjdEFkZHJlc3M6IHRoaXMuY29udHJhY3RzLmdldCgnY2VydGlmaWNhdGUnKT8uYWRkcmVzcyB8fCAnJyxcbiAgICAgIHRva2VuSWQ6ICh0aGlzLmFzc2V0cy5zaXplICsgMSkudG9TdHJpbmcoKSxcbiAgICAgIG93bmVyOiByZWNpcGllbnQsXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBkZXNjcmlwdGlvbjogJ0FJR2VzdGlvbiBBY2hpZXZlbWVudCBDZXJ0aWZpY2F0ZScsXG4gICAgICAgIGltYWdlOiAnaXBmczovL1FtQ2VydEhhc2guLi4nLFxuICAgICAgICBhdHRyaWJ1dGVzOiBuZXcgTWFwKFtcbiAgICAgICAgICBbJ3R5cGUnLCAnYWNoaWV2ZW1lbnQnXSxcbiAgICAgICAgICBbJ2lzc3VlcicsICdBSUdlc3Rpb24nXSxcbiAgICAgICAgICBbJ21ldGFkYXRhJywgbWV0YWRhdGFdXG4gICAgICAgIF0pLFxuICAgICAgICByYXJpdHk6ICd1bmNvbW1vbicsXG4gICAgICAgIGNhdGVnb3J5OiAnY2VydGlmaWNhdGUnLFxuICAgICAgICBjcmVhdG9yOiAnQUlHZXN0aW9uJyxcbiAgICAgICAgcm95YWx0aWVzOiAwXG4gICAgICB9LFxuICAgICAgdmFsdWU6IDAsXG4gICAgICBjdXJyZW5jeTogJ0VUSCcsXG4gICAgICBpc1ZlcmlmaWVkOiB0cnVlLFxuICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgbGFzdFRyYW5zZmVycmVkOiBEYXRlLm5vdygpXG4gICAgfVxuXG4gICAgdGhpcy5hc3NldHMuc2V0KGNlcnRpZmljYXRlLmlkLCBjZXJ0aWZpY2F0ZSlcblxuICAgIGNvbnN0IHRyYW5zYWN0aW9uOiBUcmFuc2FjdGlvbiA9IHtcbiAgICAgIGlkOiBgdHhfJHtEYXRlLm5vdygpfWAsXG4gICAgICB0eXBlOiAnbWludCcsXG4gICAgICBmcm9tOiAnMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJyxcbiAgICAgIHRvOiByZWNpcGllbnQsXG4gICAgICBhc3NldDogY2VydGlmaWNhdGUsXG4gICAgICBhbW91bnQ6IDEsXG4gICAgICBnYXNGZWU6IHRoaXMuZ2FzUHJpY2VzLmdldCh0aGlzLmN1cnJlbnRXYWxsZXQ/LmNoYWluIHx8ICdldGhlcmV1bScpIHx8IDIwLFxuICAgICAgc3RhdHVzOiAnY29uZmlybWVkJyxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIGJsb2NrTnVtYmVyOiAxMjM0NTY4MFxuICAgIH1cblxuICAgIHRoaXMudHJhbnNhY3Rpb25zLnNldCh0cmFuc2FjdGlvbi5pZCwgdHJhbnNhY3Rpb24pXG5cbiAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVEQ0RDIElzc3VlZCBjZXJ0aWZpY2F0ZSB0byAke3JlY2lwaWVudH1gKVxuICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdwb3dlcnVwJylcbiAgfVxuXG4gIC8vIEF3YXJkIGJhZGdlXG4gIHB1YmxpYyBhd2FyZEJhZGdlKHVzZXI6IHN0cmluZywgYmFkZ2VUeXBlOiBzdHJpbmcpIHtcbiAgICBjb25zdCBiYWRnZTogRGlnaXRhbEFzc2V0ID0ge1xuICAgICAgaWQ6IGBiYWRnZV8ke0RhdGUubm93KCl9YCxcbiAgICAgIG5hbWU6IGAke2JhZGdlVHlwZX0gQmFkZ2VgLFxuICAgICAgdHlwZTogJ2JhZGdlJyxcbiAgICAgIGJsb2NrY2hhaW46IHRoaXMuY3VycmVudFdhbGxldD8uY2hhaW4gfHwgJ2V0aGVyZXVtJyxcbiAgICAgIGNvbnRyYWN0QWRkcmVzczogdGhpcy5jb250cmFjdHMuZ2V0KCdiYWRnZScpPy5hZGRyZXNzIHx8ICcnLFxuICAgICAgdG9rZW5JZDogKHRoaXMuYXNzZXRzLnNpemUgKyAxKS50b1N0cmluZygpLFxuICAgICAgb3duZXI6IHVzZXIsXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBkZXNjcmlwdGlvbjogYCR7YmFkZ2VUeXBlfSBBY2hpZXZlbWVudCBCYWRnZWAsXG4gICAgICAgIGltYWdlOiAnaXBmczovL1FtQmFkZ2VIYXNoLi4uJyxcbiAgICAgICAgYXR0cmlidXRlczogbmV3IE1hcChbXG4gICAgICAgICAgWyd0eXBlJywgYmFkZ2VUeXBlXSxcbiAgICAgICAgICBbJ2lzc3VlcicsICdBSUdlc3Rpb24nXSxcbiAgICAgICAgICBbJ2FjaGlldmVtZW50X2xldmVsJywgJ2dvbGQnXVxuICAgICAgICBdKSxcbiAgICAgICAgcmFyaXR5OiAncmFyZScsXG4gICAgICAgIGNhdGVnb3J5OiAnYmFkZ2UnLFxuICAgICAgICBjcmVhdG9yOiAnQUlHZXN0aW9uJyxcbiAgICAgICAgcm95YWx0aWVzOiAwXG4gICAgICB9LFxuICAgICAgdmFsdWU6IDAsXG4gICAgICBjdXJyZW5jeTogJ0VUSCcsXG4gICAgICBpc1ZlcmlmaWVkOiB0cnVlLFxuICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgbGFzdFRyYW5zZmVycmVkOiBEYXRlLm5vdygpXG4gICAgfVxuXG4gICAgdGhpcy5hc3NldHMuc2V0KGJhZGdlLmlkLCBiYWRnZSlcblxuICAgIGNvbnN0IHRyYW5zYWN0aW9uOiBUcmFuc2FjdGlvbiA9IHtcbiAgICAgIGlkOiBgdHhfJHtEYXRlLm5vdygpfWAsXG4gICAgICB0eXBlOiAnbWludCcsXG4gICAgICBmcm9tOiAnMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJyxcbiAgICAgIHRvOiB1c2VyLFxuICAgICAgYXNzZXQ6IGJhZGdlLFxuICAgICAgYW1vdW50OiAxLFxuICAgICAgZ2FzRmVlOiB0aGlzLmdhc1ByaWNlcy5nZXQodGhpcy5jdXJyZW50V2FsbGV0Py5jaGFpbiB8fCAnZXRoZXJldW0nKSB8fCAyMCxcbiAgICAgIHN0YXR1czogJ2NvbmZpcm1lZCcsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICBibG9ja051bWJlcjogMTIzNDU2ODFcbiAgICB9XG5cbiAgICB0aGlzLnRyYW5zYWN0aW9ucy5zZXQodHJhbnNhY3Rpb24uaWQsIHRyYW5zYWN0aW9uKVxuXG4gICAgY29uc29sZS5sb2coYFx1RDgzQ1x1REZDNiBBd2FyZGVkICR7YmFkZ2VUeXBlfSBiYWRnZSB0byAke3VzZXJ9YClcbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgncG93ZXJ1cCcpXG4gIH1cblxuICAvLyBVcGRhdGUgYmxvY2tjaGFpbiBVSVxuICBwcml2YXRlIHVwZGF0ZUJsb2NrY2hhaW5VSSgpIHtcbiAgICAvLyBUaGlzIHdvdWxkIHVwZGF0ZSB0aGUgVUkgd2l0aCBjdXJyZW50IGJsb2NrY2hhaW4gZGF0YVxuICAgIC8vIEluIHJlYWwgaW1wbGVtZW50YXRpb24sIHRoaXMgd291bGQgdXBkYXRlIHRleHQgZGlzcGxheXNcbiAgfVxuXG4gIC8vIFNpbXVsYXRlIGJsb2NrY2hhaW4gYWN0aXZpdHlcbiAgcHJpdmF0ZSBzaW11bGF0ZUJsb2NrY2hhaW5BY3Rpdml0eSgpIHtcbiAgICAvLyBTaW11bGF0ZSByYW5kb20gdHJhbnNhY3Rpb25zXG4gICAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjAxKSB7XG4gICAgICB0aGlzLnNpbXVsYXRlSW5jb21pbmdUcmFuc2FjdGlvbigpXG4gICAgfVxuICB9XG5cbiAgLy8gU2ltdWxhdGUgaW5jb21pbmcgdHJhbnNhY3Rpb25cbiAgcHJpdmF0ZSBzaW11bGF0ZUluY29taW5nVHJhbnNhY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRXYWxsZXQgfHwgIXRoaXMuY3VycmVudFdhbGxldC5pc0Nvbm5lY3RlZCkgcmV0dXJuXG5cbiAgICBjb25zdCBhc3NldFR5cGVzID0gWyduZnQnLCAnYmFkZ2UnLCAnY2VydGlmaWNhdGUnXVxuICAgIGNvbnN0IHJhbmRvbVR5cGUgPSBhc3NldFR5cGVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFzc2V0VHlwZXMubGVuZ3RoKV1cblxuICAgIGNvbnN0IGFzc2V0OiBEaWdpdGFsQXNzZXQgPSB7XG4gICAgICBpZDogYGFzc2V0XyR7RGF0ZS5ub3coKX1gLFxuICAgICAgbmFtZTogYFJlY2VpdmVkICR7cmFuZG9tVHlwZX1gLFxuICAgICAgdHlwZTogcmFuZG9tVHlwZSBhcyBEaWdpdGFsQXNzZXRbJ3R5cGUnXSxcbiAgICAgIGJsb2NrY2hhaW46IHRoaXMuY3VycmVudFdhbGxldC5jaGFpbixcbiAgICAgIGNvbnRyYWN0QWRkcmVzczogdGhpcy5jb250cmFjdHMuZ2V0KCdhc3NldF9yZWdpc3RyeScpPy5hZGRyZXNzIHx8ICcnLFxuICAgICAgdG9rZW5JZDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApLnRvU3RyaW5nKCksXG4gICAgICBvd25lcjogdGhpcy5jdXJyZW50V2FsbGV0LmFkZHJlc3MsXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBkZXNjcmlwdGlvbjogJ1JlY2VpdmVkIGFzc2V0JyxcbiAgICAgICAgaW1hZ2U6ICdpcGZzOi8vUW1SZWNlaXZlZEhhc2guLi4nLFxuICAgICAgICBhdHRyaWJ1dGVzOiBuZXcgTWFwKFtcbiAgICAgICAgICBbJ3JlY2VpdmVkJywgJ3RydWUnXSxcbiAgICAgICAgICBbJ3NlbmRlcicsICcweFNlbmRlckFkZHJlc3MnXVxuICAgICAgICBdKSxcbiAgICAgICAgcmFyaXR5OiAnY29tbW9uJyxcbiAgICAgICAgY2F0ZWdvcnk6IHJhbmRvbVR5cGUsXG4gICAgICAgIGNyZWF0b3I6ICdVbmtub3duJyxcbiAgICAgICAgcm95YWx0aWVzOiAwXG4gICAgICB9LFxuICAgICAgdmFsdWU6IE1hdGgucmFuZG9tKCkgKiAwLjUsXG4gICAgICBjdXJyZW5jeTogJ0VUSCcsXG4gICAgICBpc1ZlcmlmaWVkOiB0cnVlLFxuICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgbGFzdFRyYW5zZmVycmVkOiBEYXRlLm5vdygpXG4gICAgfVxuXG4gICAgdGhpcy5hc3NldHMuc2V0KGFzc2V0LmlkLCBhc3NldClcbiAgICB0aGlzLmN1cnJlbnRXYWxsZXQuYXNzZXRzLnB1c2goYXNzZXQpXG5cbiAgICBjb25zdCB0cmFuc2FjdGlvbjogVHJhbnNhY3Rpb24gPSB7XG4gICAgICBpZDogYHR4XyR7RGF0ZS5ub3coKX1gLFxuICAgICAgdHlwZTogJ3RyYW5zZmVyJyxcbiAgICAgIGZyb206ICcweFNlbmRlckFkZHJlc3MnLFxuICAgICAgdG86IHRoaXMuY3VycmVudFdhbGxldC5hZGRyZXNzLFxuICAgICAgYXNzZXQ6IGFzc2V0LFxuICAgICAgYW1vdW50OiAxLFxuICAgICAgZ2FzRmVlOiB0aGlzLmdhc1ByaWNlcy5nZXQodGhpcy5jdXJyZW50V2FsbGV0LmNoYWluKSB8fCAyMCxcbiAgICAgIHN0YXR1czogJ2NvbmZpcm1lZCcsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICBibG9ja051bWJlcjogMTIzNDU2ODJcbiAgICB9XG5cbiAgICB0aGlzLnRyYW5zYWN0aW9ucy5zZXQodHJhbnNhY3Rpb24uaWQsIHRyYW5zYWN0aW9uKVxuXG4gICAgY29uc29sZS5sb2coYFx1RDgzRFx1RENFNSBSZWNlaXZlZCBuZXcgYXNzZXQ6ICR7YXNzZXQubmFtZX1gKVxuICB9XG5cbiAgLy8gVXBkYXRlIGdhcyBwcmljZXNcbiAgcHJpdmF0ZSB1cGRhdGVHYXNQcmljZXMoKSB7XG4gICAgLy8gU2ltdWxhdGUgZ2FzIHByaWNlIGZsdWN0dWF0aW9uc1xuICAgIHRoaXMuZ2FzUHJpY2VzLmZvckVhY2goKHByaWNlLCBjaGFpbikgPT4ge1xuICAgICAgY29uc3QgZmx1Y3R1YXRpb24gPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAwLjFcbiAgICAgIGNvbnN0IG5ld1ByaWNlID0gTWF0aC5tYXgoMC4wMSwgcHJpY2UgKyBmbHVjdHVhdGlvbilcbiAgICAgIHRoaXMuZ2FzUHJpY2VzLnNldChjaGFpbiwgbmV3UHJpY2UpXG4gICAgfSlcbiAgfVxuXG4gIC8vIEdldCBjdXJyZW50IHdhbGxldFxuICBwdWJsaWMgZ2V0Q3VycmVudFdhbGxldCgpOiBXYWxsZXQgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50V2FsbGV0XG4gIH1cblxuICAvLyBHZXQgYWxsIGFzc2V0c1xuICBwdWJsaWMgZ2V0QXNzZXRzKCk6IERpZ2l0YWxBc3NldFtdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmFzc2V0cy52YWx1ZXMoKSlcbiAgfVxuXG4gIC8vIEdldCB0cmFuc2FjdGlvbnNcbiAgcHVibGljIGdldFRyYW5zYWN0aW9ucygpOiBUcmFuc2FjdGlvbltdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnRyYW5zYWN0aW9ucy52YWx1ZXMoKSlcbiAgfVxuXG4gIC8vIEdldCBnYXMgcHJpY2VcbiAgcHVibGljIGdldEdhc1ByaWNlKGNoYWluOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmdhc1ByaWNlcy5nZXQoY2hhaW4pIHx8IDIwXG4gIH1cblxuICAvLyBHZXQgc3VwcG9ydGVkIGNoYWluc1xuICBwdWJsaWMgZ2V0U3VwcG9ydGVkQ2hhaW5zKCk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gWy4uLnRoaXMuc3VwcG9ydGVkQ2hhaW5zXVxuICB9XG5cbiAgLy8gU3dpdGNoIGNoYWluXG4gIHB1YmxpYyBzd2l0Y2hDaGFpbihjaGFpbjogc3RyaW5nKSB7XG4gICAgaWYgKCF0aGlzLnN1cHBvcnRlZENoYWlucy5pbmNsdWRlcyhjaGFpbikpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBcdTI3NEMgQ2hhaW4gJHtjaGFpbn0gbm90IHN1cHBvcnRlZGApXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAodGhpcy5jdXJyZW50V2FsbGV0KSB7XG4gICAgICB0aGlzLmN1cnJlbnRXYWxsZXQuY2hhaW4gPSBjaGFpblxuICAgICAgY29uc29sZS5sb2coYFx1MjZEM1x1RkUwRiBTd2l0Y2hlZCB0byAke2NoYWlufWApXG4gICAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgnY2xpY2snKVxuICAgIH1cbiAgfVxuXG4gIC8vIEdldCBjb250cmFjdFxuICBwdWJsaWMgZ2V0Q29udHJhY3QoY29udHJhY3RJZDogc3RyaW5nKTogU21hcnRDb250cmFjdCB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuY29udHJhY3RzLmdldChjb250cmFjdElkKVxuICB9XG5cbiAgLy8gQ2FsbCBjb250cmFjdCBmdW5jdGlvblxuICBwdWJsaWMgYXN5bmMgY2FsbENvbnRyYWN0KGNvbnRyYWN0SWQ6IHN0cmluZywgZnVuY3Rpb25OYW1lOiBzdHJpbmcsIHBhcmFtZXRlcnM6IGFueVtdKTogUHJvbWlzZTxhbnk+IHtcbiAgICBjb25zdCBjb250cmFjdCA9IHRoaXMuY29udHJhY3RzLmdldChjb250cmFjdElkKVxuICAgIGlmICghY29udHJhY3QpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ29udHJhY3QgJHtjb250cmFjdElkfSBub3QgZm91bmRgKVxuICAgIH1cblxuICAgIGNvbnN0IGZ1bmMgPSBjb250cmFjdC5mdW5jdGlvbnMuZ2V0KGZ1bmN0aW9uTmFtZSlcbiAgICBpZiAoIWZ1bmMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRnVuY3Rpb24gJHtmdW5jdGlvbk5hbWV9IG5vdCBmb3VuZCBpbiBjb250cmFjdCAke2NvbnRyYWN0SWR9YClcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVEQ0RFIENhbGxpbmcgJHtjb250cmFjdElkfS4ke2Z1bmN0aW9uTmFtZX0gd2l0aCBwYXJhbWV0ZXJzOmAsIHBhcmFtZXRlcnMpXG5cbiAgICAvLyBTaW11bGF0ZSBjb250cmFjdCBjYWxsXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYFx1MjcwNSBDb250cmFjdCBjYWxsIGNvbXBsZXRlZGApXG4gICAgICAgIHJlc29sdmUoeyBzdWNjZXNzOiB0cnVlLCByZXN1bHQ6ICdtb2NrX3Jlc3VsdCcgfSlcbiAgICAgIH0sIDEwMDApXG4gICAgfSlcbiAgfVxuXG4gIC8vIENsZWFudXAgc3lzdGVtXG4gIHB1YmxpYyBjbGVhbnVwKCkge1xuICAgIHRoaXMud2FsbGV0cy5jbGVhcigpXG4gICAgdGhpcy5hc3NldHMuY2xlYXIoKVxuICAgIHRoaXMudHJhbnNhY3Rpb25zLmNsZWFyKClcbiAgICB0aGlzLmNvbnRyYWN0cy5jbGVhcigpXG5cbiAgICBpZiAodGhpcy5ibG9ja2NoYWluVUkpIHtcbiAgICAgIGVuZ2luZS5yZW1vdmVFbnRpdHkodGhpcy5ibG9ja2NoYWluVUkpXG4gICAgfVxuXG4gICAgdGhpcy5jdXJyZW50V2FsbGV0ID0gbnVsbFxuICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IGZhbHNlXG4gIH1cbn1cblxuLy8gRXhwb3J0IHNpbmdsZXRvbiBpbnN0YW5jZVxuZXhwb3J0IGNvbnN0IGJsb2NrY2hhaW5TeXN0ZW0gPSBuZXcgQmxvY2tjaGFpbkludGVncmF0aW9uU3lzdGVtKClcbiIsICIvLyBSZWFsLXRpbWUgQ29sbGFib3JhdGlvbiBXaGl0ZWJvYXJkIFN5c3RlbSBmb3IgQUlHZXN0aW9uIFZpcnR1YWwgT2ZmaWNlXG5pbXBvcnQgeyBlbmdpbmUsIElucHV0QWN0aW9uLCBNYXRlcmlhbCwgTWVzaFJlbmRlcmVyLCBwb2ludGVyRXZlbnRzU3lzdGVtLCBUcmFuc2Zvcm0gfSBmcm9tICdAZGNsL3Nkay9lY3MnXG5pbXBvcnQgeyBDb2xvcjMsIENvbG9yNCwgUXVhdGVybmlvbiwgVmVjdG9yMyB9IGZyb20gJ0BkY2wvc2RrL21hdGgnXG5pbXBvcnQgeyBzb3VuZFN5c3RlbSB9IGZyb20gJy4vZW5oYW5jZWQtc291bmQnXG5cbmludGVyZmFjZSBXaGl0ZWJvYXJkRHJhd2luZyB7XG4gIGlkOiBzdHJpbmdcbiAgdXNlcklkOiBzdHJpbmdcbiAgdHlwZTogJ2xpbmUnIHwgJ2NpcmNsZScgfCAncmVjdGFuZ2xlJyB8ICd0ZXh0JyB8ICdhcnJvdycgfCAnZnJlZWhhbmQnXG4gIHBvaW50czogVmVjdG9yM1tdXG4gIGNvbG9yOiBDb2xvcjNcbiAgc3Ryb2tlV2lkdGg6IG51bWJlclxuICB0aW1lc3RhbXA6IG51bWJlclxuICBpc1NoYXJlZDogYm9vbGVhblxufVxuXG5pbnRlcmZhY2UgV2hpdGVib2FyZFNlc3Npb24ge1xuICBpZDogc3RyaW5nXG4gIG5hbWU6IHN0cmluZ1xuICBwYXJ0aWNpcGFudHM6IHN0cmluZ1tdXG4gIGRyYXdpbmdzOiBXaGl0ZWJvYXJkRHJhd2luZ1tdXG4gIGlzQWN0aXZlOiBib29sZWFuXG4gIGNyZWF0ZWRBdDogbnVtYmVyXG4gIGxhc3RNb2RpZmllZDogbnVtYmVyXG59XG5cbmludGVyZmFjZSBEcmF3aW5nVG9vbCB7XG4gIHR5cGU6ICdwZW4nIHwgJ2VyYXNlcicgfCAndGV4dCcgfCAnc2hhcGUnIHwgJ3NlbGVjdGlvbidcbiAgY29sb3I6IENvbG9yM1xuICBzdHJva2VXaWR0aDogbnVtYmVyXG4gIGlzQWN0aXZlOiBib29sZWFuXG59XG5cbmludGVyZmFjZSBXaGl0ZWJvYXJkVXNlciB7XG4gIGlkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIGNvbG9yOiBDb2xvcjNcbiAgY3Vyc29yOiBWZWN0b3IzXG4gIGlzRHJhd2luZzogYm9vbGVhblxuICBjdXJyZW50VG9vbDogRHJhd2luZ1Rvb2xcbn1cblxuZXhwb3J0IGNsYXNzIENvbGxhYm9yYXRpb25XaGl0ZWJvYXJkU3lzdGVtIHtcbiAgcHJpdmF0ZSBzZXNzaW9uczogTWFwPHN0cmluZywgV2hpdGVib2FyZFNlc3Npb24+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgY3VycmVudFNlc3Npb246IFdoaXRlYm9hcmRTZXNzaW9uIHwgbnVsbCA9IG51bGxcbiAgcHJpdmF0ZSB1c2VyczogTWFwPHN0cmluZywgV2hpdGVib2FyZFVzZXI+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgZHJhd2luZ1Rvb2xzOiBNYXA8c3RyaW5nLCBEcmF3aW5nVG9vbD4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSB3aGl0ZWJvYXJkRW50aXR5OiBhbnlcbiAgcHJpdmF0ZSB0b29sYmFyRW50aXR5OiBhbnlcbiAgcHJpdmF0ZSBkcmF3aW5nRW50aXRpZXM6IE1hcDxzdHJpbmcsIGFueVtdPiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIGlzSW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZVxuICBwcml2YXRlIGN1cnJlbnRVc2VyOiBXaGl0ZWJvYXJkVXNlclxuICBwcml2YXRlIGlzRHJhd2luZzogYm9vbGVhbiA9IGZhbHNlXG4gIHByaXZhdGUgY3VycmVudERyYXdpbmc6IFdoaXRlYm9hcmREcmF3aW5nIHwgbnVsbCA9IG51bGxcbiAgcHJpdmF0ZSBkcmF3aW5nSGlzdG9yeTogV2hpdGVib2FyZERyYXdpbmdbXSA9IFtdXG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jdXJyZW50VXNlciA9IHtcbiAgICAgIGlkOiAndXNlcl9tYWluJyxcbiAgICAgIG5hbWU6ICdNYWluIFVzZXInLFxuICAgICAgY29sb3I6IENvbG9yMy5jcmVhdGUoMC4yLCAwLjYsIDEpLFxuICAgICAgY3Vyc29yOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwKSxcbiAgICAgIGlzRHJhd2luZzogZmFsc2UsXG4gICAgICBjdXJyZW50VG9vbDogdGhpcy5jcmVhdGVEZWZhdWx0VG9vbCgpXG4gICAgfVxuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSB3aGl0ZWJvYXJkIHN5c3RlbVxuICBpbml0aWFsaXplKCkge1xuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0NcdURGQTggQ29sbGFib3JhdGlvbiBXaGl0ZWJvYXJkIFN5c3RlbSBJbml0aWFsaXppbmcuLi4nKVxuXG4gICAgdGhpcy5zZXR1cERyYXdpbmdUb29scygpXG4gICAgdGhpcy5jcmVhdGVXaGl0ZWJvYXJkKClcbiAgICB0aGlzLmNyZWF0ZVRvb2xiYXIoKVxuICAgIHRoaXMuc3RhcnREcmF3aW5nRW5naW5lKClcbiAgICB0aGlzLmNyZWF0ZURlZmF1bHRTZXNzaW9uKClcblxuICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IHRydWVcbiAgICBjb25zb2xlLmxvZygnXHVEODNDXHVERkE4IENvbGxhYm9yYXRpb24gV2hpdGVib2FyZCBTeXN0ZW0gUmVhZHkhJylcbiAgfVxuXG4gIC8vIFNldHVwIGRyYXdpbmcgdG9vbHNcbiAgcHJpdmF0ZSBzZXR1cERyYXdpbmdUb29scygpIHtcbiAgICB0aGlzLmRyYXdpbmdUb29scy5zZXQoJ3BlbicsIHtcbiAgICAgIHR5cGU6ICdwZW4nLFxuICAgICAgY29sb3I6IENvbG9yMy5jcmVhdGUoMCwgMCwgMCksXG4gICAgICBzdHJva2VXaWR0aDogMixcbiAgICAgIGlzQWN0aXZlOiB0cnVlXG4gICAgfSlcblxuICAgIHRoaXMuZHJhd2luZ1Rvb2xzLnNldCgnZXJhc2VyJywge1xuICAgICAgdHlwZTogJ2VyYXNlcicsXG4gICAgICBjb2xvcjogQ29sb3IzLmNyZWF0ZSgxLCAxLCAxKSxcbiAgICAgIHN0cm9rZVdpZHRoOiAxMCxcbiAgICAgIGlzQWN0aXZlOiBmYWxzZVxuICAgIH0pXG5cbiAgICB0aGlzLmRyYXdpbmdUb29scy5zZXQoJ3RleHQnLCB7XG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBjb2xvcjogQ29sb3IzLmNyZWF0ZSgwLCAwLCAwKSxcbiAgICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgICAgaXNBY3RpdmU6IGZhbHNlXG4gICAgfSlcblxuICAgIHRoaXMuZHJhd2luZ1Rvb2xzLnNldCgnc2hhcGUnLCB7XG4gICAgICB0eXBlOiAnc2hhcGUnLFxuICAgICAgY29sb3I6IENvbG9yMy5jcmVhdGUoMC4yLCAwLjYsIDEpLFxuICAgICAgc3Ryb2tlV2lkdGg6IDIsXG4gICAgICBpc0FjdGl2ZTogZmFsc2VcbiAgICB9KVxuXG4gICAgdGhpcy5kcmF3aW5nVG9vbHMuc2V0KCdzZWxlY3Rpb24nLCB7XG4gICAgICB0eXBlOiAnc2VsZWN0aW9uJyxcbiAgICAgIGNvbG9yOiBDb2xvcjMuY3JlYXRlKDAuOCwgMC44LCAwLjgpLFxuICAgICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgICBpc0FjdGl2ZTogZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgLy8gQ3JlYXRlIGRlZmF1bHQgdG9vbFxuICBwcml2YXRlIGNyZWF0ZURlZmF1bHRUb29sKCk6IERyYXdpbmdUb29sIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ3BlbicsXG4gICAgICBjb2xvcjogQ29sb3IzLmNyZWF0ZSgwLCAwLCAwKSxcbiAgICAgIHN0cm9rZVdpZHRoOiAyLFxuICAgICAgaXNBY3RpdmU6IHRydWVcbiAgICB9XG4gIH1cblxuICAvLyBDcmVhdGUgd2hpdGVib2FyZCBzdXJmYWNlXG4gIHByaXZhdGUgY3JlYXRlV2hpdGVib2FyZCgpIHtcbiAgICB0aGlzLndoaXRlYm9hcmRFbnRpdHkgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKHRoaXMud2hpdGVib2FyZEVudGl0eSwge1xuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDgsIDMsIDIpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDYsIDQsIDAuMSlcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRCb3godGhpcy53aGl0ZWJvYXJkRW50aXR5KVxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKHRoaXMud2hpdGVib2FyZEVudGl0eSwge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICByb3VnaG5lc3M6IDAuMSxcbiAgICAgIG1ldGFsbGljOiAwLjBcbiAgICB9KVxuXG4gICAgLy8gQWRkIHdoaXRlYm9hcmQgYm9yZGVyXG4gICAgdGhpcy5jcmVhdGVXaGl0ZWJvYXJkQm9yZGVyKClcblxuICAgIC8vIFNldHVwIHdoaXRlYm9hcmQgaW50ZXJhY3Rpb25cbiAgICB0aGlzLnNldHVwV2hpdGVib2FyZEludGVyYWN0aW9uKClcbiAgfVxuXG4gIC8vIENyZWF0ZSB3aGl0ZWJvYXJkIGJvcmRlclxuICBwcml2YXRlIGNyZWF0ZVdoaXRlYm9hcmRCb3JkZXIoKSB7XG4gICAgY29uc3QgYm9yZGVyID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZShib3JkZXIsIHtcbiAgICAgIHBhcmVudDogdGhpcy53aGl0ZWJvYXJkRW50aXR5LFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDAsIC0wLjA1KSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSg2LjEsIDQuMSwgMC4wNSlcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRCb3goYm9yZGVyKVxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGJvcmRlciwge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4yLCAwLjIsIDAuMiwgMSksXG4gICAgICByb3VnaG5lc3M6IDAuMyxcbiAgICAgIG1ldGFsbGljOiAwLjhcbiAgICB9KVxuICB9XG5cbiAgLy8gU2V0dXAgd2hpdGVib2FyZCBpbnRlcmFjdGlvblxuICBwcml2YXRlIHNldHVwV2hpdGVib2FyZEludGVyYWN0aW9uKCkge1xuICAgIHBvaW50ZXJFdmVudHNTeXN0ZW0ub25Qb2ludGVyRG93bihcbiAgICAgIHtcbiAgICAgICAgZW50aXR5OiB0aGlzLndoaXRlYm9hcmRFbnRpdHksXG4gICAgICAgIG9wdHM6IHsgYnV0dG9uOiBJbnB1dEFjdGlvbi5JQV9QT0lOVEVSLCBob3ZlclRleHQ6ICdTdGFydCBEcmF3aW5nJyB9XG4gICAgICB9LFxuICAgICAgKGUpID0+IHRoaXMuc3RhcnREcmF3aW5nKGUpXG4gICAgKVxuXG4gICAgcG9pbnRlckV2ZW50c1N5c3RlbS5vblBvaW50ZXJVcChcbiAgICAgIHtcbiAgICAgICAgZW50aXR5OiB0aGlzLndoaXRlYm9hcmRFbnRpdHksXG4gICAgICAgIG9wdHM6IHsgYnV0dG9uOiBJbnB1dEFjdGlvbi5JQV9QT0lOVEVSIH1cbiAgICAgIH0sXG4gICAgICAoKSA9PiB0aGlzLnN0b3BEcmF3aW5nKClcbiAgICApXG5cbiAgICBwb2ludGVyRXZlbnRzU3lzdGVtLm9uUG9pbnRlck1vdmUoXG4gICAgICB7XG4gICAgICAgIGVudGl0eTogdGhpcy53aGl0ZWJvYXJkRW50aXR5LFxuICAgICAgICBvcHRzOiB7IGJ1dHRvbjogSW5wdXRBY3Rpb24uSUFfUE9JTlRFUiB9XG4gICAgICB9LFxuICAgICAgKGUpID0+IHRoaXMuY29udGludWVEcmF3aW5nKGUpXG4gICAgKVxuICB9XG5cbiAgLy8gQ3JlYXRlIHRvb2xiYXJcbiAgcHJpdmF0ZSBjcmVhdGVUb29sYmFyKCkge1xuICAgIHRoaXMudG9vbGJhckVudGl0eSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUodGhpcy50b29sYmFyRW50aXR5LCB7XG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoOCwgNSwgMiksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoNCwgMC44LCAwLjEpXG4gICAgfSlcbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KHRoaXMudG9vbGJhckVudGl0eSlcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbCh0aGlzLnRvb2xiYXJFbnRpdHksIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMSwgMC4yLCAwLjQsIDAuOSksXG4gICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMiwgMC40LCAwLjgsIDAuNSksXG4gICAgICBlbWlzc2l2ZUludGVuc2l0eTogMlxuICAgIH0pXG5cbiAgICAvLyBDcmVhdGUgdG9vbCBidXR0b25zXG4gICAgdGhpcy5jcmVhdGVUb29sQnV0dG9ucygpXG5cbiAgICAvLyBDcmVhdGUgY29sb3IgcGFsZXR0ZVxuICAgIHRoaXMuY3JlYXRlQ29sb3JQYWxldHRlKClcblxuICAgIC8vIENyZWF0ZSBzZXNzaW9uIGNvbnRyb2xzXG4gICAgdGhpcy5jcmVhdGVTZXNzaW9uQ29udHJvbHMoKVxuICB9XG5cbiAgLy8gQ3JlYXRlIHRvb2wgYnV0dG9uc1xuICBwcml2YXRlIGNyZWF0ZVRvb2xCdXR0b25zKCkge1xuICAgIGNvbnN0IHRvb2xzID0gW1xuICAgICAgeyBpZDogJ3BlbicsIGljb246ICdcdTI3MEZcdUZFMEYnLCBuYW1lOiAnUGVuJyB9LFxuICAgICAgeyBpZDogJ2VyYXNlcicsIGljb246ICdcdUQ4M0VcdURERjknLCBuYW1lOiAnRXJhc2VyJyB9LFxuICAgICAgeyBpZDogJ3RleHQnLCBpY29uOiAnXHVEODNEXHVEQ0REJywgbmFtZTogJ1RleHQnIH0sXG4gICAgICB7IGlkOiAnc2hhcGUnLCBpY29uOiAnXHUyQjU1JywgbmFtZTogJ1NoYXBlJyB9LFxuICAgICAgeyBpZDogJ3NlbGVjdGlvbicsIGljb246ICdcdUQ4M0RcdURDNDYnLCBuYW1lOiAnU2VsZWN0JyB9XG4gICAgXVxuXG4gICAgbGV0IHhPZmZzZXQgPSAtMS41XG5cbiAgICB0b29scy5mb3JFYWNoKHRvb2wgPT4ge1xuICAgICAgY29uc3QgYnV0dG9uID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgICBUcmFuc2Zvcm0uY3JlYXRlKGJ1dHRvbiwge1xuICAgICAgICBwYXJlbnQ6IHRoaXMudG9vbGJhckVudGl0eSxcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKHhPZmZzZXQsIDAsIDAuMSksXG4gICAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjMsIDAuMywgMC4xKVxuICAgICAgfSlcbiAgICAgIE1lc2hSZW5kZXJlci5zZXRCb3goYnV0dG9uKVxuICAgICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoYnV0dG9uLCB7XG4gICAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMywgMC42LCAwLjgsIDEpLFxuICAgICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMywgMC42LCAwLjgsIDAuNSksXG4gICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAyXG4gICAgICB9KVxuXG4gICAgICBjb25zdCBidXR0b25UZXh0ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgICBUcmFuc2Zvcm0uY3JlYXRlKGJ1dHRvblRleHQsIHtcbiAgICAgICAgcGFyZW50OiBidXR0b24sXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwLjEpLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC41LCAwLjUsIDAuNSlcbiAgICAgIH0pXG4gICAgICBUZXh0U2hhcGUuY3JlYXRlKGJ1dHRvblRleHQsIHtcbiAgICAgICAgdGV4dDogdG9vbC5pY29uLFxuICAgICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICAgIGZvbnRTaXplOiAyLFxuICAgICAgICB0ZXh0QWxpZ246IDNcbiAgICAgIH0pXG5cbiAgICAgIHBvaW50ZXJFdmVudHNTeXN0ZW0ub25Qb2ludGVyRG93bihcbiAgICAgICAge1xuICAgICAgICAgIGVudGl0eTogYnV0dG9uLFxuICAgICAgICAgIG9wdHM6IHsgYnV0dG9uOiBJbnB1dEFjdGlvbi5JQV9QT0lOVEVSLCBob3ZlclRleHQ6IHRvb2wubmFtZSB9XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHRoaXMuc2VsZWN0VG9vbCh0b29sLmlkKVxuICAgICAgKVxuXG4gICAgICB4T2Zmc2V0ICs9IDAuOFxuICAgIH0pXG4gIH1cblxuICAvLyBDcmVhdGUgY29sb3IgcGFsZXR0ZVxuICBwcml2YXRlIGNyZWF0ZUNvbG9yUGFsZXR0ZSgpIHtcbiAgICBjb25zdCBjb2xvcnMgPSBbXG4gICAgICBDb2xvcjMuY3JlYXRlKDAsIDAsIDApLCAgICAgIC8vIEJsYWNrXG4gICAgICBDb2xvcjMuY3JlYXRlKDEsIDAsIDApLCAgICAgIC8vIFJlZFxuICAgICAgQ29sb3IzLmNyZWF0ZSgwLCAxLCAwKSwgICAgICAvLyBHcmVlblxuICAgICAgQ29sb3IzLmNyZWF0ZSgwLCAwLCAxKSwgICAgICAvLyBCbHVlXG4gICAgICBDb2xvcjMuY3JlYXRlKDEsIDEsIDApLCAgICAgIC8vIFllbGxvd1xuICAgICAgQ29sb3IzLmNyZWF0ZSgxLCAwLCAxKSwgICAgICAvLyBNYWdlbnRhXG4gICAgICBDb2xvcjMuY3JlYXRlKDAsIDEsIDEpLCAgICAgIC8vIEN5YW5cbiAgICAgIENvbG9yMy5jcmVhdGUoMC41LCAwLjUsIDAuNSkgLy8gR3JheVxuICAgIF1cblxuICAgIGxldCB4T2Zmc2V0ID0gLTEuNVxuXG4gICAgY29sb3JzLmZvckVhY2goKGNvbG9yLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgY29sb3JCdXR0b24gPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIFRyYW5zZm9ybS5jcmVhdGUoY29sb3JCdXR0b24sIHtcbiAgICAgICAgcGFyZW50OiB0aGlzLnRvb2xiYXJFbnRpdHksXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSh4T2Zmc2V0LCAtMC4zLCAwLjEpLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4xNSwgMC4xNSwgMC4xKVxuICAgICAgfSlcbiAgICAgIE1lc2hSZW5kZXJlci5zZXRCb3goY29sb3JCdXR0b24pXG4gICAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChjb2xvckJ1dHRvbiwge1xuICAgICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZShjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iLCAxKSxcbiAgICAgICAgcm91Z2huZXNzOiAwLjIsXG4gICAgICAgIG1ldGFsbGljOiAwLjFcbiAgICAgIH0pXG5cbiAgICAgIHBvaW50ZXJFdmVudHNTeXN0ZW0ub25Qb2ludGVyRG93bihcbiAgICAgICAge1xuICAgICAgICAgIGVudGl0eTogY29sb3JCdXR0b24sXG4gICAgICAgICAgb3B0czogeyBidXR0b246IElucHV0QWN0aW9uLklBX1BPSU5URVIsIGhvdmVyVGV4dDogYFNlbGVjdCBDb2xvciAke2luZGV4ICsgMX1gIH1cbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4gdGhpcy5zZWxlY3RDb2xvcihjb2xvcilcbiAgICAgIClcblxuICAgICAgeE9mZnNldCArPSAwLjRcbiAgICB9KVxuICB9XG5cbiAgLy8gQ3JlYXRlIHNlc3Npb24gY29udHJvbHNcbiAgcHJpdmF0ZSBjcmVhdGVTZXNzaW9uQ29udHJvbHMoKSB7XG4gICAgY29uc3QgY29udHJvbHMgPSBbXG4gICAgICB7IGlkOiAnbmV3JywgaWNvbjogJ1x1RDgzQ1x1REQ5NScsIG5hbWU6ICdOZXcgU2Vzc2lvbicgfSxcbiAgICAgIHsgaWQ6ICdzYXZlJywgaWNvbjogJ1x1RDgzRFx1RENCRScsIG5hbWU6ICdTYXZlJyB9LFxuICAgICAgeyBpZDogJ3NoYXJlJywgaWNvbjogJ1x1RDgzRFx1REQxNycsIG5hbWU6ICdTaGFyZScgfSxcbiAgICAgIHsgaWQ6ICdjbGVhcicsIGljb246ICdcdUQ4M0RcdURERDFcdUZFMEYnLCBuYW1lOiAnQ2xlYXInIH1cbiAgICBdXG5cbiAgICBsZXQgeE9mZnNldCA9IDEuNVxuXG4gICAgY29udHJvbHMuZm9yRWFjaChjb250cm9sID0+IHtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgVHJhbnNmb3JtLmNyZWF0ZShidXR0b24sIHtcbiAgICAgICAgcGFyZW50OiB0aGlzLnRvb2xiYXJFbnRpdHksXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSh4T2Zmc2V0LCAwLCAwLjEpLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4zLCAwLjMsIDAuMSlcbiAgICAgIH0pXG4gICAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGJ1dHRvbilcbiAgICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGJ1dHRvbiwge1xuICAgICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjgsIDAuNCwgMC4yLCAxKSxcbiAgICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjgsIDAuNCwgMC4yLCAwLjUpLFxuICAgICAgICBlbWlzc2l2ZUludGVuc2l0eTogMlxuICAgICAgfSlcblxuICAgICAgY29uc3QgYnV0dG9uVGV4dCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgVHJhbnNmb3JtLmNyZWF0ZShidXR0b25UZXh0LCB7XG4gICAgICAgIHBhcmVudDogYnV0dG9uLFxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMC4xKSxcbiAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuNSwgMC41LCAwLjUpXG4gICAgICB9KVxuICAgICAgVGV4dFNoYXBlLmNyZWF0ZShidXR0b25UZXh0LCB7XG4gICAgICAgIHRleHQ6IGNvbnRyb2wuaWNvbixcbiAgICAgICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDEsIDEsIDEpLFxuICAgICAgICBmb250U2l6ZTogMixcbiAgICAgICAgdGV4dEFsaWduOiAzXG4gICAgICB9KVxuXG4gICAgICBwb2ludGVyRXZlbnRzU3lzdGVtLm9uUG9pbnRlckRvd24oXG4gICAgICAgIHtcbiAgICAgICAgICBlbnRpdHk6IGJ1dHRvbixcbiAgICAgICAgICBvcHRzOiB7IGJ1dHRvbjogSW5wdXRBY3Rpb24uSUFfUE9JTlRFUiwgaG92ZXJUZXh0OiBjb250cm9sLm5hbWUgfVxuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB0aGlzLmhhbmRsZVNlc3Npb25Db250cm9sKGNvbnRyb2wuaWQpXG4gICAgICApXG5cbiAgICAgIHhPZmZzZXQgKz0gMC44XG4gICAgfSlcbiAgfVxuXG4gIC8vIFN0YXJ0IGRyYXdpbmcgZW5naW5lXG4gIHByaXZhdGUgc3RhcnREcmF3aW5nRW5naW5lKCkge1xuICAgIGVuZ2luZS5hZGRTeXN0ZW0oKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmlzSW5pdGlhbGl6ZWQpIHJldHVyblxuXG4gICAgICB0aGlzLnVwZGF0ZURyYXdpbmdFbnRpdGllcygpXG4gICAgICB0aGlzLnN5bmNXaXRoUmVtb3RlVXNlcnMoKVxuICAgIH0pXG4gIH1cblxuICAvLyBDcmVhdGUgZGVmYXVsdCBzZXNzaW9uXG4gIHByaXZhdGUgY3JlYXRlRGVmYXVsdFNlc3Npb24oKSB7XG4gICAgY29uc3Qgc2Vzc2lvbjogV2hpdGVib2FyZFNlc3Npb24gPSB7XG4gICAgICBpZDogJ3Nlc3Npb25fZGVmYXVsdCcsXG4gICAgICBuYW1lOiAnRGVmYXVsdCBXaGl0ZWJvYXJkJyxcbiAgICAgIHBhcnRpY2lwYW50czogW3RoaXMuY3VycmVudFVzZXIuaWRdLFxuICAgICAgZHJhd2luZ3M6IFtdLFxuICAgICAgaXNBY3RpdmU6IHRydWUsXG4gICAgICBjcmVhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICBsYXN0TW9kaWZpZWQ6IERhdGUubm93KClcbiAgICB9XG5cbiAgICB0aGlzLnNlc3Npb25zLnNldChzZXNzaW9uLmlkLCBzZXNzaW9uKVxuICAgIHRoaXMuY3VycmVudFNlc3Npb24gPSBzZXNzaW9uXG4gICAgdGhpcy51c2Vycy5zZXQodGhpcy5jdXJyZW50VXNlci5pZCwgdGhpcy5jdXJyZW50VXNlcilcblxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0NcdURGQTggRGVmYXVsdCB3aGl0ZWJvYXJkIHNlc3Npb24gY3JlYXRlZCcpXG4gIH1cblxuICAvLyBTdGFydCBkcmF3aW5nXG4gIHByaXZhdGUgc3RhcnREcmF3aW5nKGV2ZW50OiBhbnkpIHtcbiAgICBpZiAoIXRoaXMuY3VycmVudFNlc3Npb24pIHJldHVyblxuXG4gICAgY29uc3QgcG9pbnQgPSB0aGlzLmdldERyYXdpbmdQb2ludChldmVudClcbiAgICBpZiAoIXBvaW50KSByZXR1cm5cblxuICAgIHRoaXMuaXNEcmF3aW5nID0gdHJ1ZVxuICAgIHRoaXMuY3VycmVudFVzZXIuaXNEcmF3aW5nID0gdHJ1ZVxuXG4gICAgY29uc3QgZHJhd2luZzogV2hpdGVib2FyZERyYXdpbmcgPSB7XG4gICAgICBpZDogYGRyYXdpbmdfJHtEYXRlLm5vdygpfWAsXG4gICAgICB1c2VySWQ6IHRoaXMuY3VycmVudFVzZXIuaWQsXG4gICAgICB0eXBlOiB0aGlzLmN1cnJlbnRVc2VyLmN1cnJlbnRUb29sLnR5cGUgPT09ICdlcmFzZXInID8gJ2ZyZWVoYW5kJyA6ICdsaW5lJyxcbiAgICAgIHBvaW50czogW3BvaW50XSxcbiAgICAgIGNvbG9yOiB0aGlzLmN1cnJlbnRVc2VyLmN1cnJlbnRUb29sLmNvbG9yLFxuICAgICAgc3Ryb2tlV2lkdGg6IHRoaXMuY3VycmVudFVzZXIuY3VycmVudFRvb2wuc3Ryb2tlV2lkdGgsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICBpc1NoYXJlZDogdHJ1ZVxuICAgIH1cblxuICAgIHRoaXMuY3VycmVudERyYXdpbmcgPSBkcmF3aW5nXG4gICAgdGhpcy5kcmF3aW5nSGlzdG9yeS5wdXNoKGRyYXdpbmcpXG5cbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgnY2xpY2snKVxuICB9XG5cbiAgLy8gQ29udGludWUgZHJhd2luZ1xuICBwcml2YXRlIGNvbnRpbnVlRHJhd2luZyhldmVudDogYW55KSB7XG4gICAgaWYgKCF0aGlzLmlzRHJhd2luZyB8fCAhdGhpcy5jdXJyZW50RHJhd2luZykgcmV0dXJuXG5cbiAgICBjb25zdCBwb2ludCA9IHRoaXMuZ2V0RHJhd2luZ1BvaW50KGV2ZW50KVxuICAgIGlmICghcG9pbnQpIHJldHVyblxuXG4gICAgdGhpcy5jdXJyZW50RHJhd2luZy5wb2ludHMucHVzaChwb2ludClcbiAgICB0aGlzLnJlbmRlckRyYXdpbmcodGhpcy5jdXJyZW50RHJhd2luZylcbiAgfVxuXG4gIC8vIFN0b3AgZHJhd2luZ1xuICBwcml2YXRlIHN0b3BEcmF3aW5nKCkge1xuICAgIGlmICghdGhpcy5pc0RyYXdpbmcgfHwgIXRoaXMuY3VycmVudERyYXdpbmcpIHJldHVyblxuXG4gICAgdGhpcy5pc0RyYXdpbmcgPSBmYWxzZVxuICAgIHRoaXMuY3VycmVudFVzZXIuaXNEcmF3aW5nID0gZmFsc2VcblxuICAgIGlmICh0aGlzLmN1cnJlbnREcmF3aW5nLnBvaW50cy5sZW5ndGggPiAxKSB7XG4gICAgICB0aGlzLmN1cnJlbnRTZXNzaW9uLmRyYXdpbmdzLnB1c2godGhpcy5jdXJyZW50RHJhd2luZylcbiAgICAgIHRoaXMuY3VycmVudFNlc3Npb24ubGFzdE1vZGlmaWVkID0gRGF0ZS5ub3coKVxuXG4gICAgICAvLyBTaGFyZSB3aXRoIG90aGVyIHVzZXJzXG4gICAgICB0aGlzLnNoYXJlRHJhd2luZyh0aGlzLmN1cnJlbnREcmF3aW5nKVxuICAgIH1cblxuICAgIHRoaXMuY3VycmVudERyYXdpbmcgPSBudWxsXG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ2NsaWNrJylcbiAgfVxuXG4gIC8vIEdldCBkcmF3aW5nIHBvaW50IGZyb20gZXZlbnRcbiAgcHJpdmF0ZSBnZXREcmF3aW5nUG9pbnQoZXZlbnQ6IGFueSk6IFZlY3RvcjMgfCBudWxsIHtcbiAgICBpZiAoIWV2ZW50LmhpdCB8fCAhdGhpcy53aGl0ZWJvYXJkRW50aXR5KSByZXR1cm4gbnVsbFxuXG4gICAgY29uc3QgbG9jYWxQb2ludCA9IFZlY3RvcjMuY3JlYXRlKFxuICAgICAgZXZlbnQuaGl0LmhpdFBvaW50LnggLSBUcmFuc2Zvcm0uZ2V0KHRoaXMud2hpdGVib2FyZEVudGl0eSkucG9zaXRpb24ueCxcbiAgICAgIGV2ZW50LmhpdC5oaXRQb2ludC55IC0gVHJhbnNmb3JtLmdldCh0aGlzLndoaXRlYm9hcmRFbnRpdHkpLnBvc2l0aW9uLnksXG4gICAgICAwLjA1XG4gICAgKVxuXG4gICAgcmV0dXJuIGxvY2FsUG9pbnRcbiAgfVxuXG4gIC8vIFJlbmRlciBkcmF3aW5nXG4gIHByaXZhdGUgcmVuZGVyRHJhd2luZyhkcmF3aW5nOiBXaGl0ZWJvYXJkRHJhd2luZykge1xuICAgIGlmICghdGhpcy5kcmF3aW5nRW50aXRpZXMuaGFzKGRyYXdpbmcuaWQpKSB7XG4gICAgICB0aGlzLmRyYXdpbmdFbnRpdGllcy5zZXQoZHJhd2luZy5pZCwgW10pXG4gICAgfVxuXG4gICAgY29uc3QgZW50aXRpZXMgPSB0aGlzLmRyYXdpbmdFbnRpdGllcy5nZXQoZHJhd2luZy5pZCkhXG5cbiAgICAvLyBDbGVhciBwcmV2aW91cyBlbnRpdGllcyBmb3IgdGhpcyBkcmF3aW5nXG4gICAgZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4gZW5naW5lLnJlbW92ZUVudGl0eShlbnRpdHkpKVxuICAgIGVudGl0aWVzLmxlbmd0aCA9IDBcblxuICAgIHN3aXRjaCAoZHJhd2luZy50eXBlKSB7XG4gICAgICBjYXNlICdsaW5lJzpcbiAgICAgIGNhc2UgJ2ZyZWVoYW5kJzpcbiAgICAgICAgdGhpcy5yZW5kZXJGcmVlaGFuZERyYXdpbmcoZHJhd2luZywgZW50aXRpZXMpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdjaXJjbGUnOlxuICAgICAgICB0aGlzLnJlbmRlckNpcmNsZURyYXdpbmcoZHJhd2luZywgZW50aXRpZXMpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdyZWN0YW5nbGUnOlxuICAgICAgICB0aGlzLnJlbmRlclJlY3RhbmdsZURyYXdpbmcoZHJhd2luZywgZW50aXRpZXMpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdhcnJvdyc6XG4gICAgICAgIHRoaXMucmVuZGVyQXJyb3dEcmF3aW5nKGRyYXdpbmcsIGVudGl0aWVzKVxuICAgICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIC8vIFJlbmRlciBmcmVlaGFuZCBkcmF3aW5nXG4gIHByaXZhdGUgcmVuZGVyRnJlZWhhbmREcmF3aW5nKGRyYXdpbmc6IFdoaXRlYm9hcmREcmF3aW5nLCBlbnRpdGllczogYW55W10pIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRyYXdpbmcucG9pbnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgY29uc3Qgc3RhcnQgPSBkcmF3aW5nLnBvaW50c1tpXVxuICAgICAgY29uc3QgZW5kID0gZHJhd2luZy5wb2ludHNbaSArIDFdXG5cbiAgICAgIGNvbnN0IGxpbmUgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIFRyYW5zZm9ybS5jcmVhdGUobGluZSwge1xuICAgICAgICBwYXJlbnQ6IHRoaXMud2hpdGVib2FyZEVudGl0eSxcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKFxuICAgICAgICAgIChzdGFydC54ICsgZW5kLngpIC8gMixcbiAgICAgICAgICAoc3RhcnQueSArIGVuZC55KSAvIDIsXG4gICAgICAgICAgMC4wNVxuICAgICAgICApLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoXG4gICAgICAgICAgVmVjdG9yMy5kaXN0YW5jZShzdGFydCwgZW5kKSxcbiAgICAgICAgICBkcmF3aW5nLnN0cm9rZVdpZHRoICogMC4wMSxcbiAgICAgICAgICAwLjAxXG4gICAgICAgICksXG4gICAgICAgIHJvdGF0aW9uOiBRdWF0ZXJuaW9uLmZyb21FdWxlckRlZ3JlZXMoXG4gICAgICAgICAgMCxcbiAgICAgICAgICAwLFxuICAgICAgICAgIE1hdGguYXRhbjIoZW5kLnkgLSBzdGFydC55LCBlbmQueCAtIHN0YXJ0LngpICogMTgwIC8gTWF0aC5QSVxuICAgICAgICApXG4gICAgICB9KVxuXG4gICAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGxpbmUpXG4gICAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChsaW5lLCB7XG4gICAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKFxuICAgICAgICAgIGRyYXdpbmcuY29sb3IucixcbiAgICAgICAgICBkcmF3aW5nLmNvbG9yLmcsXG4gICAgICAgICAgZHJhd2luZy5jb2xvci5iLFxuICAgICAgICAgIDFcbiAgICAgICAgKSxcbiAgICAgICAgcm91Z2huZXNzOiAwLjEsXG4gICAgICAgIG1ldGFsbGljOiAwLjBcbiAgICAgIH0pXG5cbiAgICAgIGVudGl0aWVzLnB1c2gobGluZSlcbiAgICB9XG4gIH1cblxuICAvLyBSZW5kZXIgY2lyY2xlIGRyYXdpbmdcbiAgcHJpdmF0ZSByZW5kZXJDaXJjbGVEcmF3aW5nKGRyYXdpbmc6IFdoaXRlYm9hcmREcmF3aW5nLCBlbnRpdGllczogYW55W10pIHtcbiAgICBpZiAoZHJhd2luZy5wb2ludHMubGVuZ3RoIDwgMikgcmV0dXJuXG5cbiAgICBjb25zdCBjZW50ZXIgPSBkcmF3aW5nLnBvaW50c1swXVxuICAgIGNvbnN0IHJhZGl1cyA9IFZlY3RvcjMuZGlzdGFuY2UoY2VudGVyLCBkcmF3aW5nLnBvaW50c1sxXSlcblxuICAgIGNvbnN0IGNpcmNsZSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUoY2lyY2xlLCB7XG4gICAgICBwYXJlbnQ6IHRoaXMud2hpdGVib2FyZEVudGl0eSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZShjZW50ZXIueCwgY2VudGVyLnksIDAuMDUpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKHJhZGl1cyAqIDIsIHJhZGl1cyAqIDIsIDAuMDEpXG4gICAgfSlcblxuICAgIE1lc2hSZW5kZXJlci5zZXRCb3goY2lyY2xlKVxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGNpcmNsZSwge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoXG4gICAgICAgIGRyYXdpbmcuY29sb3IucixcbiAgICAgICAgZHJhd2luZy5jb2xvci5nLFxuICAgICAgICBkcmF3aW5nLmNvbG9yLmIsXG4gICAgICAgIDFcbiAgICAgICksXG4gICAgICByb3VnaG5lc3M6IDAuMSxcbiAgICAgIG1ldGFsbGljOiAwLjBcbiAgICB9KVxuXG4gICAgZW50aXRpZXMucHVzaChjaXJjbGUpXG4gIH1cblxuICAvLyBSZW5kZXIgcmVjdGFuZ2xlIGRyYXdpbmdcbiAgcHJpdmF0ZSByZW5kZXJSZWN0YW5nbGVEcmF3aW5nKGRyYXdpbmc6IFdoaXRlYm9hcmREcmF3aW5nLCBlbnRpdGllczogYW55W10pIHtcbiAgICBpZiAoZHJhd2luZy5wb2ludHMubGVuZ3RoIDwgMikgcmV0dXJuXG5cbiAgICBjb25zdCBzdGFydCA9IGRyYXdpbmcucG9pbnRzWzBdXG4gICAgY29uc3QgZW5kID0gZHJhd2luZy5wb2ludHNbMV1cblxuICAgIGNvbnN0IHJlY3RhbmdsZSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUocmVjdGFuZ2xlLCB7XG4gICAgICBwYXJlbnQ6IHRoaXMud2hpdGVib2FyZEVudGl0eSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZShcbiAgICAgICAgKHN0YXJ0LnggKyBlbmQueCkgLyAyLFxuICAgICAgICAoc3RhcnQueSArIGVuZC55KSAvIDIsXG4gICAgICAgIDAuMDVcbiAgICAgICksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoXG4gICAgICAgIE1hdGguYWJzKGVuZC54IC0gc3RhcnQueCksXG4gICAgICAgIE1hdGguYWJzKGVuZC55IC0gc3RhcnQueSksXG4gICAgICAgIDAuMDFcbiAgICAgIClcbiAgICB9KVxuXG4gICAgTWVzaFJlbmRlcmVyLnNldEJveChyZWN0YW5nbGUpXG4gICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwocmVjdGFuZ2xlLCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZShcbiAgICAgICAgZHJhd2luZy5jb2xvci5yLFxuICAgICAgICBkcmF3aW5nLmNvbG9yLmcsXG4gICAgICAgIGRyYXdpbmcuY29sb3IuYixcbiAgICAgICAgMVxuICAgICAgKSxcbiAgICAgIHJvdWdobmVzczogMC4xLFxuICAgICAgbWV0YWxsaWM6IDAuMFxuICAgIH0pXG5cbiAgICBlbnRpdGllcy5wdXNoKHJlY3RhbmdsZSlcbiAgfVxuXG4gIC8vIFJlbmRlciBhcnJvdyBkcmF3aW5nXG4gIHByaXZhdGUgcmVuZGVyQXJyb3dEcmF3aW5nKGRyYXdpbmc6IFdoaXRlYm9hcmREcmF3aW5nLCBlbnRpdGllczogYW55W10pIHtcbiAgICBpZiAoZHJhd2luZy5wb2ludHMubGVuZ3RoIDwgMikgcmV0dXJuXG5cbiAgICBjb25zdCBzdGFydCA9IGRyYXdpbmcucG9pbnRzWzBdXG4gICAgY29uc3QgZW5kID0gZHJhd2luZy5wb2ludHNbMV1cblxuICAgIC8vIFJlbmRlciBhcnJvdyBsaW5lXG4gICAgdGhpcy5yZW5kZXJGcmVlaGFuZERyYXdpbmcoZHJhd2luZywgZW50aXRpZXMpXG5cbiAgICAvLyBSZW5kZXIgYXJyb3cgaGVhZFxuICAgIGNvbnN0IGFycm93SGVhZCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMihlbmQueSAtIHN0YXJ0LnksIGVuZC54IC0gc3RhcnQueClcblxuICAgIFRyYW5zZm9ybS5jcmVhdGUoYXJyb3dIZWFkLCB7XG4gICAgICBwYXJlbnQ6IHRoaXMud2hpdGVib2FyZEVudGl0eSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZShlbmQueCwgZW5kLnksIDAuMDUpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMSwgMC4xLCAwLjAxKSxcbiAgICAgIHJvdGF0aW9uOiBRdWF0ZXJuaW9uLmZyb21FdWxlckRlZ3JlZXMoXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIGFuZ2xlICogMTgwIC8gTWF0aC5QSVxuICAgICAgKVxuICAgIH0pXG5cbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGFycm93SGVhZClcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChhcnJvd0hlYWQsIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKFxuICAgICAgICBkcmF3aW5nLmNvbG9yLnIsXG4gICAgICAgIGRyYXdpbmcuY29sb3IuZyxcbiAgICAgICAgZHJhd2luZy5jb2xvci5iLFxuICAgICAgICAxXG4gICAgICApLFxuICAgICAgcm91Z2huZXNzOiAwLjEsXG4gICAgICBtZXRhbGxpYzogMC4wXG4gICAgfSlcblxuICAgIGVudGl0aWVzLnB1c2goYXJyb3dIZWFkKVxuICB9XG5cbiAgLy8gVXBkYXRlIGRyYXdpbmcgZW50aXRpZXNcbiAgcHJpdmF0ZSB1cGRhdGVEcmF3aW5nRW50aXRpZXMoKSB7XG4gICAgLy8gVXBkYXRlIGN1cnNvciBwb3NpdGlvblxuICAgIHRoaXMudXBkYXRlQ3Vyc29yUG9zaXRpb24oKVxuXG4gICAgLy8gVXBkYXRlIGRyYXdpbmcgYW5pbWF0aW9uc1xuICAgIHRoaXMudXBkYXRlRHJhd2luZ0FuaW1hdGlvbnMoKVxuICB9XG5cbiAgLy8gVXBkYXRlIGN1cnNvciBwb3NpdGlvblxuICBwcml2YXRlIHVwZGF0ZUN1cnNvclBvc2l0aW9uKCkge1xuICAgIC8vIFNpbXVsYXRlIGN1cnNvciBtb3ZlbWVudFxuICAgIGNvbnN0IHRpbWUgPSBEYXRlLm5vdygpIC8gMTAwMFxuICAgIHRoaXMuY3VycmVudFVzZXIuY3Vyc29yID0gVmVjdG9yMy5jcmVhdGUoXG4gICAgICBNYXRoLnNpbih0aW1lICogMC41KSAqIDIsXG4gICAgICBNYXRoLmNvcyh0aW1lICogMC4zKSAqIDEuNSxcbiAgICAgIDAuMDVcbiAgICApXG4gIH1cblxuICAvLyBVcGRhdGUgZHJhd2luZyBhbmltYXRpb25zXG4gIHByaXZhdGUgdXBkYXRlRHJhd2luZ0FuaW1hdGlvbnMoKSB7XG4gICAgLy8gQWRkIHN1YnRsZSBhbmltYXRpb25zIHRvIGRyYXdpbmdzXG4gICAgdGhpcy5kcmF3aW5nRW50aXRpZXMuZm9yRWFjaCgoZW50aXRpZXMsIGRyYXdpbmdJZCkgPT4ge1xuICAgICAgZW50aXRpZXMuZm9yRWFjaCgoZW50aXR5LCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0aW1lID0gRGF0ZS5ub3coKSAvIDEwMDBcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gVHJhbnNmb3JtLmdldE11dGFibGUoZW50aXR5KVxuXG4gICAgICAgIC8vIEFkZCBzdWJ0bGUgcHVsc2luZyBlZmZlY3RcbiAgICAgICAgY29uc3Qgc2NhbGUgPSB0cmFuc2Zvcm0uc2NhbGVcbiAgICAgICAgY29uc3QgcHVsc2UgPSAxICsgTWF0aC5zaW4odGltZSAqIDIgKyBpbmRleCAqIDAuMSkgKiAwLjAyXG4gICAgICAgIHRyYW5zZm9ybS5zY2FsZSA9IFZlY3RvcjMuY3JlYXRlKFxuICAgICAgICAgIHNjYWxlLnggKiBwdWxzZSxcbiAgICAgICAgICBzY2FsZS55ICogcHVsc2UsXG4gICAgICAgICAgc2NhbGUuelxuICAgICAgICApXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICAvLyBTeW5jIHdpdGggcmVtb3RlIHVzZXJzXG4gIHByaXZhdGUgc3luY1dpdGhSZW1vdGVVc2VycygpIHtcbiAgICAvLyBTaW11bGF0ZSByZW1vdGUgdXNlciBhY3Rpdml0eVxuICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC4wMSkge1xuICAgICAgdGhpcy5zaW11bGF0ZVJlbW90ZVVzZXJEcmF3aW5nKClcbiAgICB9XG4gIH1cblxuICAvLyBTaW11bGF0ZSByZW1vdGUgdXNlciBkcmF3aW5nXG4gIHByaXZhdGUgc2ltdWxhdGVSZW1vdGVVc2VyRHJhd2luZygpIHtcbiAgICBjb25zdCByZW1vdGVVc2VyOiBXaGl0ZWJvYXJkVXNlciA9IHtcbiAgICAgIGlkOiAndXNlcl9yZW1vdGUnLFxuICAgICAgbmFtZTogJ1JlbW90ZSBVc2VyJyxcbiAgICAgIGNvbG9yOiBDb2xvcjMuY3JlYXRlKDEsIDAuNSwgMCksXG4gICAgICBjdXJzb3I6IFZlY3RvcjMuY3JlYXRlKFxuICAgICAgICBNYXRoLnJhbmRvbSgpICogNCAtIDIsXG4gICAgICAgIE1hdGgucmFuZG9tKCkgKiAyIC0gMSxcbiAgICAgICAgMC4wNVxuICAgICAgKSxcbiAgICAgIGlzRHJhd2luZzogdHJ1ZSxcbiAgICAgIGN1cnJlbnRUb29sOiB0aGlzLmNyZWF0ZURlZmF1bHRUb29sKClcbiAgICB9XG5cbiAgICBjb25zdCBkcmF3aW5nOiBXaGl0ZWJvYXJkRHJhd2luZyA9IHtcbiAgICAgIGlkOiBgZHJhd2luZ19yZW1vdGVfJHtEYXRlLm5vdygpfWAsXG4gICAgICB1c2VySWQ6IHJlbW90ZVVzZXIuaWQsXG4gICAgICB0eXBlOiAnZnJlZWhhbmQnLFxuICAgICAgcG9pbnRzOiBbXG4gICAgICAgIHJlbW90ZVVzZXIuY3Vyc29yLFxuICAgICAgICBWZWN0b3IzLmNyZWF0ZShcbiAgICAgICAgICByZW1vdGVVc2VyLmN1cnNvci54ICsgTWF0aC5yYW5kb20oKSAqIDAuNSxcbiAgICAgICAgICByZW1vdGVVc2VyLmN1cnNvci55ICsgTWF0aC5yYW5kb20oKSAqIDAuNSxcbiAgICAgICAgICAwLjA1XG4gICAgICAgIClcbiAgICAgIF0sXG4gICAgICBjb2xvcjogcmVtb3RlVXNlci5jb2xvcixcbiAgICAgIHN0cm9rZVdpZHRoOiAyLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgaXNTaGFyZWQ6IHRydWVcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jdXJyZW50U2Vzc2lvbikge1xuICAgICAgdGhpcy5jdXJyZW50U2Vzc2lvbi5kcmF3aW5ncy5wdXNoKGRyYXdpbmcpXG4gICAgICB0aGlzLnJlbmRlckRyYXdpbmcoZHJhd2luZylcbiAgICB9XG4gIH1cblxuICAvLyBTZWxlY3QgdG9vbFxuICBwcml2YXRlIHNlbGVjdFRvb2wodG9vbElkOiBzdHJpbmcpIHtcbiAgICBjb25zdCB0b29sID0gdGhpcy5kcmF3aW5nVG9vbHMuZ2V0KHRvb2xJZClcbiAgICBpZiAoIXRvb2wpIHJldHVyblxuXG4gICAgLy8gRGVhY3RpdmF0ZSBhbGwgdG9vbHNcbiAgICB0aGlzLmRyYXdpbmdUb29scy5mb3JFYWNoKHQgPT4gdC5pc0FjdGl2ZSA9IGZhbHNlKVxuXG4gICAgLy8gQWN0aXZhdGUgc2VsZWN0ZWQgdG9vbFxuICAgIHRvb2wuaXNBY3RpdmUgPSB0cnVlXG4gICAgdGhpcy5jdXJyZW50VXNlci5jdXJyZW50VG9vbCA9IHRvb2xcblxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0NcdURGQTggU2VsZWN0ZWQgdG9vbDogJHt0b29sSWR9YClcbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgnY2xpY2snKVxuICB9XG5cbiAgLy8gU2VsZWN0IGNvbG9yXG4gIHByaXZhdGUgc2VsZWN0Q29sb3IoY29sb3I6IENvbG9yMykge1xuICAgIHRoaXMuY3VycmVudFVzZXIuY3VycmVudFRvb2wuY29sb3IgPSBjb2xvclxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0NcdURGQTggU2VsZWN0ZWQgY29sb3I6IFJHQigke2NvbG9yLnJ9LCAke2NvbG9yLmd9LCAke2NvbG9yLmJ9KWApXG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ2NsaWNrJylcbiAgfVxuXG4gIC8vIEhhbmRsZSBzZXNzaW9uIGNvbnRyb2xcbiAgcHJpdmF0ZSBoYW5kbGVTZXNzaW9uQ29udHJvbChjb250cm9sSWQ6IHN0cmluZykge1xuICAgIHN3aXRjaCAoY29udHJvbElkKSB7XG4gICAgICBjYXNlICduZXcnOlxuICAgICAgICB0aGlzLmNyZWF0ZU5ld1Nlc3Npb24oKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnc2F2ZSc6XG4gICAgICAgIHRoaXMuc2F2ZVNlc3Npb24oKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnc2hhcmUnOlxuICAgICAgICB0aGlzLnNoYXJlU2Vzc2lvbigpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdjbGVhcic6XG4gICAgICAgIHRoaXMuY2xlYXJXaGl0ZWJvYXJkKClcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgnY2xpY2snKVxuICB9XG5cbiAgLy8gQ3JlYXRlIG5ldyBzZXNzaW9uXG4gIHByaXZhdGUgY3JlYXRlTmV3U2Vzc2lvbigpIHtcbiAgICBjb25zdCBzZXNzaW9uOiBXaGl0ZWJvYXJkU2Vzc2lvbiA9IHtcbiAgICAgIGlkOiBgc2Vzc2lvbl8ke0RhdGUubm93KCl9YCxcbiAgICAgIG5hbWU6IGBXaGl0ZWJvYXJkICR7dGhpcy5zZXNzaW9ucy5zaXplICsgMX1gLFxuICAgICAgcGFydGljaXBhbnRzOiBbdGhpcy5jdXJyZW50VXNlci5pZF0sXG4gICAgICBkcmF3aW5nczogW10sXG4gICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgIGNyZWF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgIGxhc3RNb2RpZmllZDogRGF0ZS5ub3coKVxuICAgIH1cblxuICAgIHRoaXMuc2Vzc2lvbnMuc2V0KHNlc3Npb24uaWQsIHNlc3Npb24pXG4gICAgdGhpcy5jdXJyZW50U2Vzc2lvbiA9IHNlc3Npb25cblxuICAgIC8vIENsZWFyIHdoaXRlYm9hcmRcbiAgICB0aGlzLmNsZWFyV2hpdGVib2FyZCgpXG5cbiAgICBjb25zb2xlLmxvZyhgXHVEODNDXHVERkE4IENyZWF0ZWQgbmV3IHNlc3Npb246ICR7c2Vzc2lvbi5uYW1lfWApXG4gIH1cblxuICAvLyBTYXZlIHNlc3Npb25cbiAgcHJpdmF0ZSBzYXZlU2Vzc2lvbigpIHtcbiAgICBpZiAoIXRoaXMuY3VycmVudFNlc3Npb24pIHJldHVyblxuXG4gICAgY29uc29sZS5sb2coYFx1RDgzRFx1RENCRSBTYXZpbmcgc2Vzc2lvbjogJHt0aGlzLmN1cnJlbnRTZXNzaW9uLm5hbWV9YClcbiAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVEQ0NBIERyYXdpbmdzOiAke3RoaXMuY3VycmVudFNlc3Npb24uZHJhd2luZ3MubGVuZ3RofWApXG4gICAgY29uc29sZS5sb2coYFx1RDgzRFx1REM2NSBQYXJ0aWNpcGFudHM6ICR7dGhpcy5jdXJyZW50U2Vzc2lvbi5wYXJ0aWNpcGFudHMubGVuZ3RofWApXG5cbiAgICAvLyBJbiByZWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdvdWxkIHNhdmUgdG8gYmFja2VuZFxuICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdwb3dlcnVwJylcbiAgfVxuXG4gIC8vIFNoYXJlIHNlc3Npb25cbiAgcHJpdmF0ZSBzaGFyZVNlc3Npb24oKSB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRTZXNzaW9uKSByZXR1cm5cblxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdUREMTcgU2hhcmluZyBzZXNzaW9uOiAke3RoaXMuY3VycmVudFNlc3Npb24ubmFtZX1gKVxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdUREMTcgU2hhcmUgbGluazogaHR0cHM6Ly9haWdlc3Rpb24uZGV2L3doaXRlYm9hcmQvJHt0aGlzLmN1cnJlbnRTZXNzaW9uLmlkfWApXG5cbiAgICAvLyBJbiByZWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdvdWxkIGdlbmVyYXRlIHNoYXJlYWJsZSBsaW5rXG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ3Bvd2VydXAnKVxuICB9XG5cbiAgLy8gQ2xlYXIgd2hpdGVib2FyZFxuICBwcml2YXRlIGNsZWFyV2hpdGVib2FyZCgpIHtcbiAgICBpZiAoIXRoaXMuY3VycmVudFNlc3Npb24pIHJldHVyblxuXG4gICAgLy8gUmVtb3ZlIGFsbCBkcmF3aW5nIGVudGl0aWVzXG4gICAgdGhpcy5kcmF3aW5nRW50aXRpZXMuZm9yRWFjaChlbnRpdGllcyA9PiB7XG4gICAgICBlbnRpdGllcy5mb3JFYWNoKGVudGl0eSA9PiBlbmdpbmUucmVtb3ZlRW50aXR5KGVudGl0eSkpXG4gICAgfSlcbiAgICB0aGlzLmRyYXdpbmdFbnRpdGllcy5jbGVhcigpXG5cbiAgICAvLyBDbGVhciBzZXNzaW9uIGRyYXdpbmdzXG4gICAgdGhpcy5jdXJyZW50U2Vzc2lvbi5kcmF3aW5ncyA9IFtdXG4gICAgdGhpcy5jdXJyZW50U2Vzc2lvbi5sYXN0TW9kaWZpZWQgPSBEYXRlLm5vdygpXG5cbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVEREQxXHVGRTBGIFdoaXRlYm9hcmQgY2xlYXJlZCcpXG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ2NsaWNrJylcbiAgfVxuXG4gIC8vIFNoYXJlIGRyYXdpbmcgd2l0aCBvdGhlciB1c2Vyc1xuICBwcml2YXRlIHNoYXJlRHJhd2luZyhkcmF3aW5nOiBXaGl0ZWJvYXJkRHJhd2luZykge1xuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURDRTQgU2hhcmluZyBkcmF3aW5nOiAke2RyYXdpbmcuaWR9YClcblxuICAgIC8vIEluIHJlYWwgaW1wbGVtZW50YXRpb24sIHRoaXMgd291bGQgc2VuZCB0byBvdGhlciB1c2VycyB2aWEgV2ViU29ja2V0XG4gIH1cblxuICAvLyBKb2luIHNlc3Npb25cbiAgcHVibGljIGpvaW5TZXNzaW9uKHNlc3Npb25JZDogc3RyaW5nKSB7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbnMuZ2V0KHNlc3Npb25JZClcbiAgICBpZiAoIXNlc3Npb24pIHJldHVyblxuXG4gICAgdGhpcy5jdXJyZW50U2Vzc2lvbiA9IHNlc3Npb25cbiAgICBzZXNzaW9uLnBhcnRpY2lwYW50cy5wdXNoKHRoaXMuY3VycmVudFVzZXIuaWQpXG4gICAgc2Vzc2lvbi5sYXN0TW9kaWZpZWQgPSBEYXRlLm5vdygpXG5cbiAgICAvLyBSZW5kZXIgZXhpc3RpbmcgZHJhd2luZ3NcbiAgICBzZXNzaW9uLmRyYXdpbmdzLmZvckVhY2goZHJhd2luZyA9PiB0aGlzLnJlbmRlckRyYXdpbmcoZHJhd2luZykpXG5cbiAgICBjb25zb2xlLmxvZyhgXHVEODNDXHVERkE4IEpvaW5lZCBzZXNzaW9uOiAke3Nlc3Npb24ubmFtZX1gKVxuICB9XG5cbiAgLy8gTGVhdmUgc2Vzc2lvblxuICBwdWJsaWMgbGVhdmVTZXNzaW9uKCkge1xuICAgIGlmICghdGhpcy5jdXJyZW50U2Vzc2lvbikgcmV0dXJuXG5cbiAgICBjb25zdCBpbmRleCA9IHRoaXMuY3VycmVudFNlc3Npb24ucGFydGljaXBhbnRzLmluZGV4T2YodGhpcy5jdXJyZW50VXNlci5pZClcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgdGhpcy5jdXJyZW50U2Vzc2lvbi5wYXJ0aWNpcGFudHMuc3BsaWNlKGluZGV4LCAxKVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0NcdURGQTggTGVmdCBzZXNzaW9uOiAke3RoaXMuY3VycmVudFNlc3Npb24ubmFtZX1gKVxuICAgIHRoaXMuY3VycmVudFNlc3Npb24gPSBudWxsXG4gIH1cblxuICAvLyBHZXQgY3VycmVudCBzZXNzaW9uXG4gIHB1YmxpYyBnZXRDdXJyZW50U2Vzc2lvbigpOiBXaGl0ZWJvYXJkU2Vzc2lvbiB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRTZXNzaW9uXG4gIH1cblxuICAvLyBHZXQgYWxsIHNlc3Npb25zXG4gIHB1YmxpYyBnZXRTZXNzaW9ucygpOiBXaGl0ZWJvYXJkU2Vzc2lvbltdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnNlc3Npb25zLnZhbHVlcygpKVxuICB9XG5cbiAgLy8gR2V0IGRyYXdpbmcgaGlzdG9yeVxuICBwdWJsaWMgZ2V0RHJhd2luZ0hpc3RvcnkoKTogV2hpdGVib2FyZERyYXdpbmdbXSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLmRyYXdpbmdIaXN0b3J5XVxuICB9XG5cbiAgLy8gQWRkIHVzZXIgdG8gc2Vzc2lvblxuICBwdWJsaWMgYWRkVXNlclRvU2Vzc2lvbih1c2VySWQ6IHN0cmluZywgdXNlck5hbWU6IHN0cmluZykge1xuICAgIGNvbnN0IHVzZXI6IFdoaXRlYm9hcmRVc2VyID0ge1xuICAgICAgaWQ6IHVzZXJJZCxcbiAgICAgIG5hbWU6IHVzZXJOYW1lLFxuICAgICAgY29sb3I6IENvbG9yMy5jcmVhdGUoXG4gICAgICAgIE1hdGgucmFuZG9tKCksXG4gICAgICAgIE1hdGgucmFuZG9tKCksXG4gICAgICAgIE1hdGgucmFuZG9tKClcbiAgICAgICksXG4gICAgICBjdXJzb3I6IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDApLFxuICAgICAgaXNEcmF3aW5nOiBmYWxzZSxcbiAgICAgIGN1cnJlbnRUb29sOiB0aGlzLmNyZWF0ZURlZmF1bHRUb29sKClcbiAgICB9XG5cbiAgICB0aGlzLnVzZXJzLnNldCh1c2VySWQsIHVzZXIpXG5cbiAgICBpZiAodGhpcy5jdXJyZW50U2Vzc2lvbikge1xuICAgICAgdGhpcy5jdXJyZW50U2Vzc2lvbi5wYXJ0aWNpcGFudHMucHVzaCh1c2VySWQpXG4gICAgICB0aGlzLmN1cnJlbnRTZXNzaW9uLmxhc3RNb2RpZmllZCA9IERhdGUubm93KClcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVEQzY0IFVzZXIgJHt1c2VyTmFtZX0gam9pbmVkIHRoZSBzZXNzaW9uYClcbiAgfVxuXG4gIC8vIFJlbW92ZSB1c2VyIGZyb20gc2Vzc2lvblxuICBwdWJsaWMgcmVtb3ZlVXNlckZyb21TZXNzaW9uKHVzZXJJZDogc3RyaW5nKSB7XG4gICAgY29uc3QgdXNlciA9IHRoaXMudXNlcnMuZ2V0KHVzZXJJZClcbiAgICBpZiAoIXVzZXIpIHJldHVyblxuXG4gICAgdGhpcy51c2Vycy5kZWxldGUodXNlcklkKVxuXG4gICAgaWYgKHRoaXMuY3VycmVudFNlc3Npb24pIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jdXJyZW50U2Vzc2lvbi5wYXJ0aWNpcGFudHMuaW5kZXhPZih1c2VySWQpXG4gICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICB0aGlzLmN1cnJlbnRTZXNzaW9uLnBhcnRpY2lwYW50cy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICAgIHRoaXMuY3VycmVudFNlc3Npb24ubGFzdE1vZGlmaWVkID0gRGF0ZS5ub3coKVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURDNjQgVXNlciAke3VzZXIubmFtZX0gbGVmdCB0aGUgc2Vzc2lvbmApXG4gIH1cblxuICAvLyBDbGVhbnVwIHN5c3RlbVxuICBwdWJsaWMgY2xlYW51cCgpIHtcbiAgICAvLyBDbGVhciBhbGwgZHJhd2luZyBlbnRpdGllc1xuICAgIHRoaXMuZHJhd2luZ0VudGl0aWVzLmZvckVhY2goZW50aXRpZXMgPT4ge1xuICAgICAgZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4gZW5naW5lLnJlbW92ZUVudGl0eShlbnRpdHkpKVxuICAgIH0pXG4gICAgdGhpcy5kcmF3aW5nRW50aXRpZXMuY2xlYXIoKVxuXG4gICAgLy8gQ2xlYXIgc2Vzc2lvbnNcbiAgICB0aGlzLnNlc3Npb25zLmNsZWFyKClcbiAgICB0aGlzLnVzZXJzLmNsZWFyKClcbiAgICB0aGlzLmRyYXdpbmdUb29scy5jbGVhcigpXG4gICAgdGhpcy5kcmF3aW5nSGlzdG9yeSA9IFtdXG5cbiAgICAvLyBSZW1vdmUgZW50aXRpZXNcbiAgICBpZiAodGhpcy53aGl0ZWJvYXJkRW50aXR5KSB7XG4gICAgICBlbmdpbmUucmVtb3ZlRW50aXR5KHRoaXMud2hpdGVib2FyZEVudGl0eSlcbiAgICB9XG4gICAgaWYgKHRoaXMudG9vbGJhckVudGl0eSkge1xuICAgICAgZW5naW5lLnJlbW92ZUVudGl0eSh0aGlzLnRvb2xiYXJFbnRpdHkpXG4gICAgfVxuXG4gICAgdGhpcy5pc0luaXRpYWxpemVkID0gZmFsc2VcbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3Qgd2hpdGVib2FyZFN5c3RlbSA9IG5ldyBDb2xsYWJvcmF0aW9uV2hpdGVib2FyZFN5c3RlbSgpXG4iLCAiLy8gRHluYW1pYyBDb250ZW50IE1hbmFnZW1lbnQgU3lzdGVtIGZvciBBSUdlc3Rpb24gVmlydHVhbCBPZmZpY2VcbmltcG9ydCB7IGVuZ2luZSwgSW5wdXRBY3Rpb24sIE1hdGVyaWFsLCBNZXNoUmVuZGVyZXIsIHBvaW50ZXJFdmVudHNTeXN0ZW0sIFRyYW5zZm9ybSB9IGZyb20gJ0BkY2wvc2RrL2VjcydcbmltcG9ydCB7IENvbG9yNCwgVmVjdG9yMyB9IGZyb20gJ0BkY2wvc2RrL21hdGgnXG5pbXBvcnQgeyBzb3VuZFN5c3RlbSB9IGZyb20gJy4vZW5oYW5jZWQtc291bmQnXG5cbmludGVyZmFjZSBDb250ZW50SXRlbSB7XG4gIGlkOiBzdHJpbmdcbiAgdGl0bGU6IHN0cmluZ1xuICB0eXBlOiAnZG9jdW1lbnQnIHwgJ2ltYWdlJyB8ICd2aWRlbycgfCAnYXVkaW8nIHwgJzNkX21vZGVsJyB8ICdwcmVzZW50YXRpb24nIHwgJ2RhdGFzZXQnIHwgJ3dpZGdldCdcbiAgY2F0ZWdvcnk6IHN0cmluZ1xuICB0YWdzOiBzdHJpbmdbXVxuICBtZXRhZGF0YTogQ29udGVudE1ldGFkYXRhXG4gIGNvbnRlbnQ6IGFueVxuICBwZXJtaXNzaW9uczogQ29udGVudFBlcm1pc3Npb25zXG4gIGNyZWF0ZWRBdDogbnVtYmVyXG4gIHVwZGF0ZWRBdDogbnVtYmVyXG4gIHZlcnNpb246IG51bWJlclxuICBzdGF0dXM6ICdkcmFmdCcgfCAncHVibGlzaGVkJyB8ICdhcmNoaXZlZCcgfCAnZGVsZXRlZCdcbn1cblxuaW50ZXJmYWNlIENvbnRlbnRNZXRhZGF0YSB7XG4gIGF1dGhvcjogc3RyaW5nXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmdcbiAgc2l6ZTogbnVtYmVyXG4gIGZvcm1hdDogc3RyaW5nXG4gIGR1cmF0aW9uPzogbnVtYmVyXG4gIGRpbWVuc2lvbnM/OiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH1cbiAgdGh1bWJuYWlsPzogc3RyaW5nXG4gIHByZXZpZXc/OiBzdHJpbmdcbiAgbGFuZ3VhZ2U6IHN0cmluZ1xuICBhY2Nlc3NpYmlsaXR5OiBBY2Nlc3NpYmlsaXR5RmVhdHVyZXNcbn1cblxuaW50ZXJmYWNlIENvbnRlbnRQZXJtaXNzaW9ucyB7XG4gIGNhblZpZXc6IHN0cmluZ1tdXG4gIGNhbkVkaXQ6IHN0cmluZ1tdXG4gIGNhbkRlbGV0ZTogc3RyaW5nW11cbiAgY2FuU2hhcmU6IGJvb2xlYW5cbiAgaXNQdWJsaWM6IGJvb2xlYW5cbn1cblxuaW50ZXJmYWNlIEFjY2Vzc2liaWxpdHlGZWF0dXJlcyB7XG4gIGhhc0NhcHRpb25zOiBib29sZWFuXG4gIGhhc0F1ZGlvRGVzY3JpcHRpb246IGJvb2xlYW5cbiAgaGFzVHJhbnNjcmlwdDogYm9vbGVhblxuICBoYXNBbHRUZXh0OiBib29sZWFuXG4gIGxhbmd1YWdlOiBzdHJpbmdcbn1cblxuaW50ZXJmYWNlIENvbnRlbnRDb2xsZWN0aW9uIHtcbiAgaWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgZGVzY3JpcHRpb246IHN0cmluZ1xuICBpdGVtczogc3RyaW5nW11cbiAgbGF5b3V0OiAnZ3JpZCcgfCAnbGlzdCcgfCAnY2Fyb3VzZWwnIHwgJ21hc29ucnknXG4gIGZpbHRlcnM6IENvbnRlbnRGaWx0ZXJbXVxuICBzb3J0Qnk6ICd0aXRsZScgfCAnZGF0ZScgfCAnYXV0aG9yJyB8ICdwb3B1bGFyaXR5J1xuICBzb3J0T3JkZXI6ICdhc2MnIHwgJ2Rlc2MnXG4gIGlzUHVibGljOiBib29sZWFuXG59XG5cbmludGVyZmFjZSBDb250ZW50RmlsdGVyIHtcbiAgZmllbGQ6IHN0cmluZ1xuICBvcGVyYXRvcjogJ2VxdWFscycgfCAnY29udGFpbnMnIHwgJ2dyZWF0ZXInIHwgJ2xlc3MnIHwgJ2JldHdlZW4nXG4gIHZhbHVlOiBhbnlcbn1cblxuaW50ZXJmYWNlIENvbnRlbnRUZW1wbGF0ZSB7XG4gIGlkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIHR5cGU6IENvbnRlbnRJdGVtWyd0eXBlJ11cbiAgc3RydWN0dXJlOiBhbnlcbiAgZmllbGRzOiBUZW1wbGF0ZUZpZWxkW11cbiAgaXNEZWZhdWx0OiBib29sZWFuXG59XG5cbmludGVyZmFjZSBUZW1wbGF0ZUZpZWxkIHtcbiAgaWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgdHlwZTogJ3RleHQnIHwgJ251bWJlcicgfCAnZGF0ZScgfCAnZmlsZScgfCAnc2VsZWN0JyB8ICdtdWx0aXNlbGVjdCdcbiAgcmVxdWlyZWQ6IGJvb2xlYW5cbiAgZGVmYXVsdFZhbHVlPzogYW55XG4gIG9wdGlvbnM/OiBzdHJpbmdbXVxuICB2YWxpZGF0aW9uPzogVmFsaWRhdGlvblJ1bGVbXVxufVxuXG5pbnRlcmZhY2UgVmFsaWRhdGlvblJ1bGUge1xuICB0eXBlOiAncmVxdWlyZWQnIHwgJ21pbkxlbmd0aCcgfCAnbWF4TGVuZ3RoJyB8ICdwYXR0ZXJuJyB8ICdyYW5nZSdcbiAgdmFsdWU6IGFueVxuICBtZXNzYWdlOiBzdHJpbmdcbn1cblxuZXhwb3J0IGNsYXNzIENvbnRlbnRNYW5hZ2VtZW50U3lzdGVtIHtcbiAgcHJpdmF0ZSBjb250ZW50OiBNYXA8c3RyaW5nLCBDb250ZW50SXRlbT4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBjb2xsZWN0aW9uczogTWFwPHN0cmluZywgQ29udGVudENvbGxlY3Rpb24+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgdGVtcGxhdGVzOiBNYXA8c3RyaW5nLCBDb250ZW50VGVtcGxhdGU+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgY29udGVudFVJOiBhbnlcbiAgcHJpdmF0ZSBpc0luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2VcbiAgcHJpdmF0ZSBjdXJyZW50Q29sbGVjdGlvbjogQ29udGVudENvbGxlY3Rpb24gfCBudWxsID0gbnVsbFxuICBwcml2YXRlIHNlYXJjaEluZGV4OiBNYXA8c3RyaW5nLCBzdHJpbmdbXT4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBhbmFseXRpY3NFbmdpbmU6IGFueVxuICBwcml2YXRlIHZlcnNpb25Db250cm9sOiBhbnlcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmluaXRpYWxpemVBbmFseXRpY3NFbmdpbmUoKVxuICAgIHRoaXMuaW5pdGlhbGl6ZVZlcnNpb25Db250cm9sKClcbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgY29udGVudCBtYW5hZ2VtZW50IHN5c3RlbVxuICBpbml0aWFsaXplKCkge1xuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURDREEgRHluYW1pYyBDb250ZW50IE1hbmFnZW1lbnQgU3lzdGVtIEluaXRpYWxpemluZy4uLicpXG5cbiAgICB0aGlzLnNldHVwQ29udGVudFRlbXBsYXRlcygpXG4gICAgdGhpcy5jcmVhdGVDb250ZW50VUkoKVxuICAgIHRoaXMuY3JlYXRlRGVmYXVsdENvbGxlY3Rpb25zKClcbiAgICB0aGlzLmluaXRpYWxpemVTZWFyY2hJbmRleCgpXG4gICAgdGhpcy5zdGFydENvbnRlbnRFbmdpbmUoKVxuXG4gICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZVxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURDREEgRHluYW1pYyBDb250ZW50IE1hbmFnZW1lbnQgU3lzdGVtIFJlYWR5IScpXG4gIH1cblxuICAvLyBJbml0aWFsaXplIGFuYWx5dGljcyBlbmdpbmVcbiAgcHJpdmF0ZSBpbml0aWFsaXplQW5hbHl0aWNzRW5naW5lKCkge1xuICAgIHRoaXMuYW5hbHl0aWNzRW5naW5lID0ge1xuICAgICAgdHJhY2s6IChldmVudDogc3RyaW5nLCBkYXRhOiBhbnkpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYFx1RDgzRFx1RENDQSBBbmFseXRpY3M6ICR7ZXZlbnR9YCwgZGF0YSlcbiAgICAgIH0sXG5cbiAgICAgIGdldE1ldHJpY3M6IChjb250ZW50SWQ6IHN0cmluZykgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHZpZXdzOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKSxcbiAgICAgICAgICBkb3dubG9hZHM6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCksXG4gICAgICAgICAgc2hhcmVzOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1MCksXG4gICAgICAgICAgYXZlcmFnZVJhdGluZzogKE1hdGgucmFuZG9tKCkgKiAyICsgMykudG9GaXhlZCgxKSxcbiAgICAgICAgICB0aW1lU3BlbnQ6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMwMClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgdmVyc2lvbiBjb250cm9sXG4gIHByaXZhdGUgaW5pdGlhbGl6ZVZlcnNpb25Db250cm9sKCkge1xuICAgIHRoaXMudmVyc2lvbkNvbnRyb2wgPSB7XG4gICAgICBjcmVhdGVWZXJzaW9uOiAoY29udGVudElkOiBzdHJpbmcsIGNoYW5nZXM6IGFueSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVEQ0REIENyZWF0aW5nIHZlcnNpb24gZm9yIGNvbnRlbnQ6ICR7Y29udGVudElkfWApXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IGB2XyR7RGF0ZS5ub3coKX1gLFxuICAgICAgICAgIGNvbnRlbnRJZDogY29udGVudElkLFxuICAgICAgICAgIGNoYW5nZXM6IGNoYW5nZXMsXG4gICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgIGF1dGhvcjogJ3N5c3RlbSdcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgZ2V0VmVyc2lvbkhpc3Rvcnk6IChjb250ZW50SWQ6IHN0cmluZykgPT4ge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAndl8xJyxcbiAgICAgICAgICAgIGNvbnRlbnRJZDogY29udGVudElkLFxuICAgICAgICAgICAgY2hhbmdlczogJ0luaXRpYWwgdmVyc2lvbicsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCkgLSA4NjQwMDAwMCxcbiAgICAgICAgICAgIGF1dGhvcjogJ2NyZWF0b3InXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gU2V0dXAgY29udGVudCB0ZW1wbGF0ZXNcbiAgcHJpdmF0ZSBzZXR1cENvbnRlbnRUZW1wbGF0ZXMoKSB7XG4gICAgLy8gRG9jdW1lbnQgdGVtcGxhdGVcbiAgICBjb25zdCBkb2N1bWVudFRlbXBsYXRlOiBDb250ZW50VGVtcGxhdGUgPSB7XG4gICAgICBpZDogJ3RlbXBsYXRlX2RvY3VtZW50JyxcbiAgICAgIG5hbWU6ICdEb2N1bWVudCcsXG4gICAgICB0eXBlOiAnZG9jdW1lbnQnLFxuICAgICAgc3RydWN0dXJlOiB7XG4gICAgICAgIHNlY3Rpb25zOiBbJ3RpdGxlJywgJ2NvbnRlbnQnLCAnYXR0YWNobWVudHMnXSxcbiAgICAgICAgbGF5b3V0OiAnc3RhbmRhcmQnXG4gICAgICB9LFxuICAgICAgZmllbGRzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3RpdGxlJyxcbiAgICAgICAgICBuYW1lOiAnVGl0bGUnLFxuICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICB2YWxpZGF0aW9uOiBbXG4gICAgICAgICAgICB7IHR5cGU6ICdyZXF1aXJlZCcsIHZhbHVlOiB0cnVlLCBtZXNzYWdlOiAnVGl0bGUgaXMgcmVxdWlyZWQnIH0sXG4gICAgICAgICAgICB7IHR5cGU6ICdtaW5MZW5ndGgnLCB2YWx1ZTogMywgbWVzc2FnZTogJ1RpdGxlIG11c3QgYmUgYXQgbGVhc3QgMyBjaGFyYWN0ZXJzJyB9XG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdjb250ZW50JyxcbiAgICAgICAgICBuYW1lOiAnQ29udGVudCcsXG4gICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgIHZhbGlkYXRpb246IFtcbiAgICAgICAgICAgIHsgdHlwZTogJ3JlcXVpcmVkJywgdmFsdWU6IHRydWUsIG1lc3NhZ2U6ICdDb250ZW50IGlzIHJlcXVpcmVkJyB9XG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdjYXRlZ29yeScsXG4gICAgICAgICAgbmFtZTogJ0NhdGVnb3J5JyxcbiAgICAgICAgICB0eXBlOiAnc2VsZWN0JyxcbiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICBvcHRpb25zOiBbJ1JlcG9ydCcsICdQcm9wb3NhbCcsICdNYW51YWwnLCAnR3VpZGUnLCAnT3RoZXInXVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgaXNEZWZhdWx0OiB0cnVlXG4gICAgfVxuXG4gICAgLy8gUHJlc2VudGF0aW9uIHRlbXBsYXRlXG4gICAgY29uc3QgcHJlc2VudGF0aW9uVGVtcGxhdGU6IENvbnRlbnRUZW1wbGF0ZSA9IHtcbiAgICAgIGlkOiAndGVtcGxhdGVfcHJlc2VudGF0aW9uJyxcbiAgICAgIG5hbWU6ICdQcmVzZW50YXRpb24nLFxuICAgICAgdHlwZTogJ3ByZXNlbnRhdGlvbicsXG4gICAgICBzdHJ1Y3R1cmU6IHtcbiAgICAgICAgc2xpZGVzOiBbJ3RpdGxlJywgJ2NvbnRlbnQnLCAnbWVkaWEnXSxcbiAgICAgICAgbGF5b3V0OiAnc2xpZGVzJ1xuICAgICAgfSxcbiAgICAgIGZpZWxkczogW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICd0aXRsZScsXG4gICAgICAgICAgbmFtZTogJ1RpdGxlJyxcbiAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnc2xpZGVzJyxcbiAgICAgICAgICBuYW1lOiAnU2xpZGVzJyxcbiAgICAgICAgICB0eXBlOiAnbXVsdGlzZWxlY3QnLFxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgIG9wdGlvbnM6IFsnVGl0bGUgU2xpZGUnLCAnQ29udGVudCBTbGlkZScsICdJbWFnZSBTbGlkZScsICdDaGFydCBTbGlkZSddXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBpc0RlZmF1bHQ6IGZhbHNlXG4gICAgfVxuXG4gICAgLy8gRGF0YXNldCB0ZW1wbGF0ZVxuICAgIGNvbnN0IGRhdGFzZXRUZW1wbGF0ZTogQ29udGVudFRlbXBsYXRlID0ge1xuICAgICAgaWQ6ICd0ZW1wbGF0ZV9kYXRhc2V0JyxcbiAgICAgIG5hbWU6ICdEYXRhc2V0JyxcbiAgICAgIHR5cGU6ICdkYXRhc2V0JyxcbiAgICAgIHN0cnVjdHVyZToge1xuICAgICAgICBzY2hlbWE6IFsnY29sdW1ucycsICd0eXBlcycsICdjb25zdHJhaW50cyddLFxuICAgICAgICBmb3JtYXQ6ICdzdHJ1Y3R1cmVkJ1xuICAgICAgfSxcbiAgICAgIGZpZWxkczogW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICduYW1lJyxcbiAgICAgICAgICBuYW1lOiAnRGF0YXNldCBOYW1lJyxcbiAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnZm9ybWF0JyxcbiAgICAgICAgICBuYW1lOiAnRm9ybWF0JyxcbiAgICAgICAgICB0eXBlOiAnc2VsZWN0JyxcbiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICBvcHRpb25zOiBbJ0NTVicsICdKU09OJywgJ1hNTCcsICdQYXJxdWV0J11cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnc2l6ZScsXG4gICAgICAgICAgbmFtZTogJ1NpemUgKE1CKScsXG4gICAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGlzRGVmYXVsdDogZmFsc2VcbiAgICB9XG5cbiAgICB0aGlzLnRlbXBsYXRlcy5zZXQoZG9jdW1lbnRUZW1wbGF0ZS5pZCwgZG9jdW1lbnRUZW1wbGF0ZSlcbiAgICB0aGlzLnRlbXBsYXRlcy5zZXQocHJlc2VudGF0aW9uVGVtcGxhdGUuaWQsIHByZXNlbnRhdGlvblRlbXBsYXRlKVxuICAgIHRoaXMudGVtcGxhdGVzLnNldChkYXRhc2V0VGVtcGxhdGUuaWQsIGRhdGFzZXRUZW1wbGF0ZSlcblxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURDQ0IgQ29udGVudCB0ZW1wbGF0ZXMgY29uZmlndXJlZCcpXG4gIH1cblxuICAvLyBDcmVhdGUgY29udGVudCBVSVxuICBwcml2YXRlIGNyZWF0ZUNvbnRlbnRVSSgpIHtcbiAgICB0aGlzLmNvbnRlbnRVSSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUodGhpcy5jb250ZW50VUksIHtcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSg4LCAzLCAxNCksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoNCwgNCwgMC4xKVxuICAgIH0pXG4gICAgTWVzaFJlbmRlcmVyLnNldEJveCh0aGlzLmNvbnRlbnRVSSlcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbCh0aGlzLmNvbnRlbnRVSSwge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjIsIDAuNCwgMC45KSxcbiAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4yLCAwLjQsIDAuOCwgMC41KSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAyXG4gICAgfSlcblxuICAgIC8vIENyZWF0ZSB0aXRsZVxuICAgIGNvbnN0IHRpdGxlID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZSh0aXRsZSwge1xuICAgICAgcGFyZW50OiB0aGlzLmNvbnRlbnRVSSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAxLjcsIDAuMSksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4zLCAwLjMsIDAuMylcbiAgICB9KVxuICAgIFRleHRTaGFwZS5jcmVhdGUodGl0bGUsIHtcbiAgICAgIHRleHQ6ICdcdUQ4M0RcdURDREEgQ09OVEVOVCBNQU5BR0VNRU5UJyxcbiAgICAgIHRleHRDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAxLCAxLCAxKSxcbiAgICAgIGZvbnRTaXplOiAyLFxuICAgICAgdGV4dEFsaWduOiAzXG4gICAgfSlcblxuICAgIC8vIENyZWF0ZSBjb250ZW50IGJyb3dzZXJcbiAgICB0aGlzLmNyZWF0ZUNvbnRlbnRCcm93c2VyKClcblxuICAgIC8vIENyZWF0ZSBjb250ZW50IGVkaXRvclxuICAgIHRoaXMuY3JlYXRlQ29udGVudEVkaXRvcigpXG5cbiAgICAvLyBDcmVhdGUgY29sbGVjdGlvbiBtYW5hZ2VyXG4gICAgdGhpcy5jcmVhdGVDb2xsZWN0aW9uTWFuYWdlcigpXG5cbiAgICAvLyBDcmVhdGUgYW5hbHl0aWNzIHBhbmVsXG4gICAgdGhpcy5jcmVhdGVBbmFseXRpY3NQYW5lbCgpXG4gIH1cblxuICAvLyBDcmVhdGUgY29udGVudCBicm93c2VyXG4gIHByaXZhdGUgY3JlYXRlQ29udGVudEJyb3dzZXIoKSB7XG4gICAgY29uc3QgYnJvd3NlciA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUoYnJvd3Nlciwge1xuICAgICAgcGFyZW50OiB0aGlzLmNvbnRlbnRVSSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAxLjAsIDAuMSksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC45LCAwLjQsIDAuMSlcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRCb3goYnJvd3NlcilcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChicm93c2VyLCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuMiwgMC4yLCAwLjgpLFxuICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuMiwgMC4yLCAwLjMpLFxuICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDFcbiAgICB9KVxuXG4gICAgY29uc3QgYnJvd3NlclRleHQgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKGJyb3dzZXJUZXh0LCB7XG4gICAgICBwYXJlbnQ6IGJyb3dzZXIsXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMC4xLCAwLjEpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMywgMC4zLCAwLjMpXG4gICAgfSlcbiAgICBUZXh0U2hhcGUuY3JlYXRlKGJyb3dzZXJUZXh0LCB7XG4gICAgICB0ZXh0OiAnXHVEODNEXHVEQ0MyIENvbnRlbnQgQnJvd3NlcicsXG4gICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICBmb250U2l6ZTogMS41LFxuICAgICAgdGV4dEFsaWduOiAzXG4gICAgfSlcblxuICAgIC8vIEJyb3dzZXIgY29udHJvbHNcbiAgICB0aGlzLmNyZWF0ZUJyb3dzZXJDb250cm9scygpXG4gIH1cblxuICAvLyBDcmVhdGUgYnJvd3NlciBjb250cm9sc1xuICBwcml2YXRlIGNyZWF0ZUJyb3dzZXJDb250cm9scygpIHtcbiAgICBjb25zdCBjb250cm9scyA9IFtcbiAgICAgIHsgaWQ6ICdzZWFyY2gnLCBpY29uOiAnXHVEODNEXHVERDBEJywgbmFtZTogJ1NlYXJjaCcgfSxcbiAgICAgIHsgaWQ6ICdmaWx0ZXInLCBpY29uOiAnXHVEODNEXHVERDNEJywgbmFtZTogJ0ZpbHRlcicgfSxcbiAgICAgIHsgaWQ6ICdzb3J0JywgaWNvbjogJ1x1MjE5NVx1RkUwRicsIG5hbWU6ICdTb3J0JyB9LFxuICAgICAgeyBpZDogJ25ldycsIGljb246ICdcdTI3OTUnLCBuYW1lOiAnTmV3IENvbnRlbnQnIH1cbiAgICBdXG5cbiAgICBsZXQgeE9mZnNldCA9IC0wLjZcblxuICAgIGNvbnRyb2xzLmZvckVhY2goY29udHJvbCA9PiB7XG4gICAgICBjb25zdCBidXR0b24gPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIFRyYW5zZm9ybS5jcmVhdGUoYnV0dG9uLCB7XG4gICAgICAgIHBhcmVudDogdGhpcy5jb250ZW50VUksXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSh4T2Zmc2V0LCAwLjYsIDAuMSksXG4gICAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjIsIDAuMiwgMC4xKVxuICAgICAgfSlcbiAgICAgIE1lc2hSZW5kZXJlci5zZXRCb3goYnV0dG9uKVxuICAgICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoYnV0dG9uLCB7XG4gICAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMywgMC42LCAwLjgsIDEpLFxuICAgICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMywgMC42LCAwLjgsIDAuNSksXG4gICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAyXG4gICAgICB9KVxuXG4gICAgICBjb25zdCBidXR0b25UZXh0ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgICBUcmFuc2Zvcm0uY3JlYXRlKGJ1dHRvblRleHQsIHtcbiAgICAgICAgcGFyZW50OiBidXR0b24sXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwLjEpLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC41LCAwLjUsIDAuNSlcbiAgICAgIH0pXG4gICAgICBUZXh0U2hhcGUuY3JlYXRlKGJ1dHRvblRleHQsIHtcbiAgICAgICAgdGV4dDogY29udHJvbC5pY29uLFxuICAgICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICAgIGZvbnRTaXplOiAyLFxuICAgICAgICB0ZXh0QWxpZ246IDNcbiAgICAgIH0pXG5cbiAgICAgIHBvaW50ZXJFdmVudHNTeXN0ZW0ub25Qb2ludGVyRG93bihcbiAgICAgICAge1xuICAgICAgICAgIGVudGl0eTogYnV0dG9uLFxuICAgICAgICAgIG9wdHM6IHsgYnV0dG9uOiBJbnB1dEFjdGlvbi5JQV9QT0lOVEVSLCBob3ZlclRleHQ6IGNvbnRyb2wubmFtZSB9XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHRoaXMuaGFuZGxlQnJvd3NlckNvbnRyb2woY29udHJvbC5pZClcbiAgICAgIClcblxuICAgICAgeE9mZnNldCArPSAwLjRcbiAgICB9KVxuICB9XG5cbiAgLy8gQ3JlYXRlIGNvbnRlbnQgZWRpdG9yXG4gIHByaXZhdGUgY3JlYXRlQ29udGVudEVkaXRvcigpIHtcbiAgICBjb25zdCBlZGl0b3IgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKGVkaXRvciwge1xuICAgICAgcGFyZW50OiB0aGlzLmNvbnRlbnRVSSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLjEsIDAuMSksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC45LCAwLjQsIDAuMSlcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRCb3goZWRpdG9yKVxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGVkaXRvciwge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjEsIDAuMSwgMC44KSxcbiAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjEsIDAuMSwgMC4zKSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAxXG4gICAgfSlcblxuICAgIGNvbnN0IGVkaXRvclRleHQgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKGVkaXRvclRleHQsIHtcbiAgICAgIHBhcmVudDogZWRpdG9yLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDAuMSwgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjMsIDAuMywgMC4zKVxuICAgIH0pXG4gICAgVGV4dFNoYXBlLmNyZWF0ZShlZGl0b3JUZXh0LCB7XG4gICAgICB0ZXh0OiAnXHUyNzBGXHVGRTBGIENvbnRlbnQgRWRpdG9yJyxcbiAgICAgIHRleHRDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAxLCAxLCAxKSxcbiAgICAgIGZvbnRTaXplOiAxLjUsXG4gICAgICB0ZXh0QWxpZ246IDNcbiAgICB9KVxuICB9XG5cbiAgLy8gQ3JlYXRlIGNvbGxlY3Rpb24gbWFuYWdlclxuICBwcml2YXRlIGNyZWF0ZUNvbGxlY3Rpb25NYW5hZ2VyKCkge1xuICAgIGNvbnN0IG1hbmFnZXIgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKG1hbmFnZXIsIHtcbiAgICAgIHBhcmVudDogdGhpcy5jb250ZW50VUksXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgLTAuNCwgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjksIDAuMywgMC4xKVxuICAgIH0pXG4gICAgTWVzaFJlbmRlcmVyLnNldEJveChtYW5hZ2VyKVxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKG1hbmFnZXIsIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMiwgMC4yLCAwLjIsIDAuOCksXG4gICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMiwgMC4yLCAwLjIsIDAuMyksXG4gICAgICBlbWlzc2l2ZUludGVuc2l0eTogMVxuICAgIH0pXG5cbiAgICBjb25zdCBtYW5hZ2VyVGV4dCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUobWFuYWdlclRleHQsIHtcbiAgICAgIHBhcmVudDogbWFuYWdlcixcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwLjEpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMywgMC4zLCAwLjMpXG4gICAgfSlcbiAgICBUZXh0U2hhcGUuY3JlYXRlKG1hbmFnZXJUZXh0LCB7XG4gICAgICB0ZXh0OiAnXHVEODNEXHVEQ0MxIENvbGxlY3Rpb25zJyxcbiAgICAgIHRleHRDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAxLCAxLCAxKSxcbiAgICAgIGZvbnRTaXplOiAxLjUsXG4gICAgICB0ZXh0QWxpZ246IDNcbiAgICB9KVxuICB9XG5cbiAgLy8gQ3JlYXRlIGFuYWx5dGljcyBwYW5lbFxuICBwcml2YXRlIGNyZWF0ZUFuYWx5dGljc1BhbmVsKCkge1xuICAgIGNvbnN0IGFuYWx5dGljcyA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUoYW5hbHl0aWNzLCB7XG4gICAgICBwYXJlbnQ6IHRoaXMuY29udGVudFVJLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIC0wLjksIDAuMSksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC45LCAwLjMsIDAuMSlcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRCb3goYW5hbHl0aWNzKVxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGFuYWx5dGljcywge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjEsIDAuMSwgMC44KSxcbiAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjEsIDAuMSwgMC4zKSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAxXG4gICAgfSlcblxuICAgIGNvbnN0IGFuYWx5dGljc1RleHQgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKGFuYWx5dGljc1RleHQsIHtcbiAgICAgIHBhcmVudDogYW5hbHl0aWNzLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDAuMSksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4zLCAwLjMsIDAuMylcbiAgICB9KVxuICAgIFRleHRTaGFwZS5jcmVhdGUoYW5hbHl0aWNzVGV4dCwge1xuICAgICAgdGV4dDogJ1x1RDgzRFx1RENDQSBBbmFseXRpY3MnLFxuICAgICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDEsIDEsIDEpLFxuICAgICAgZm9udFNpemU6IDEuNSxcbiAgICAgIHRleHRBbGlnbjogM1xuICAgIH0pXG4gIH1cblxuICAvLyBDcmVhdGUgZGVmYXVsdCBjb2xsZWN0aW9uc1xuICBwcml2YXRlIGNyZWF0ZURlZmF1bHRDb2xsZWN0aW9ucygpIHtcbiAgICAvLyBEb2N1bWVudHMgY29sbGVjdGlvblxuICAgIGNvbnN0IGRvY3VtZW50c0NvbGxlY3Rpb246IENvbnRlbnRDb2xsZWN0aW9uID0ge1xuICAgICAgaWQ6ICdjb2xsZWN0aW9uX2RvY3VtZW50cycsXG4gICAgICBuYW1lOiAnRG9jdW1lbnRzJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnQWxsIGRvY3VtZW50cyBhbmQgdGV4dCBmaWxlcycsXG4gICAgICBpdGVtczogW10sXG4gICAgICBsYXlvdXQ6ICdncmlkJyxcbiAgICAgIGZpbHRlcnM6IFtcbiAgICAgICAgeyBmaWVsZDogJ3R5cGUnLCBvcGVyYXRvcjogJ2VxdWFscycsIHZhbHVlOiAnZG9jdW1lbnQnIH1cbiAgICAgIF0sXG4gICAgICBzb3J0Qnk6ICdkYXRlJyxcbiAgICAgIHNvcnRPcmRlcjogJ2Rlc2MnLFxuICAgICAgaXNQdWJsaWM6IHRydWVcbiAgICB9XG5cbiAgICAvLyBNZWRpYSBjb2xsZWN0aW9uXG4gICAgY29uc3QgbWVkaWFDb2xsZWN0aW9uOiBDb250ZW50Q29sbGVjdGlvbiA9IHtcbiAgICAgIGlkOiAnY29sbGVjdGlvbl9tZWRpYScsXG4gICAgICBuYW1lOiAnTWVkaWEnLFxuICAgICAgZGVzY3JpcHRpb246ICdJbWFnZXMsIHZpZGVvcywgYW5kIGF1ZGlvIGZpbGVzJyxcbiAgICAgIGl0ZW1zOiBbXSxcbiAgICAgIGxheW91dDogJ21hc29ucnknLFxuICAgICAgZmlsdGVyczogW1xuICAgICAgICB7IGZpZWxkOiAndHlwZScsIG9wZXJhdG9yOiAnY29udGFpbnMnLCB2YWx1ZTogJ2ltYWdlJyB9XG4gICAgICBdLFxuICAgICAgc29ydEJ5OiAndGl0bGUnLFxuICAgICAgc29ydE9yZGVyOiAnYXNjJyxcbiAgICAgIGlzUHVibGljOiB0cnVlXG4gICAgfVxuXG4gICAgLy8gUHJlc2VudGF0aW9ucyBjb2xsZWN0aW9uXG4gICAgY29uc3QgcHJlc2VudGF0aW9uc0NvbGxlY3Rpb246IENvbnRlbnRDb2xsZWN0aW9uID0ge1xuICAgICAgaWQ6ICdjb2xsZWN0aW9uX3ByZXNlbnRhdGlvbnMnLFxuICAgICAgbmFtZTogJ1ByZXNlbnRhdGlvbnMnLFxuICAgICAgZGVzY3JpcHRpb246ICdTbGlkZXMgYW5kIHByZXNlbnRhdGlvbnMnLFxuICAgICAgaXRlbXM6IFtdLFxuICAgICAgbGF5b3V0OiAnY2Fyb3VzZWwnLFxuICAgICAgZmlsdGVyczogW1xuICAgICAgICB7IGZpZWxkOiAndHlwZScsIG9wZXJhdG9yOiAnZXF1YWxzJywgdmFsdWU6ICdwcmVzZW50YXRpb24nIH1cbiAgICAgIF0sXG4gICAgICBzb3J0Qnk6ICdkYXRlJyxcbiAgICAgIHNvcnRPcmRlcjogJ2Rlc2MnLFxuICAgICAgaXNQdWJsaWM6IGZhbHNlXG4gICAgfVxuXG4gICAgdGhpcy5jb2xsZWN0aW9ucy5zZXQoZG9jdW1lbnRzQ29sbGVjdGlvbi5pZCwgZG9jdW1lbnRzQ29sbGVjdGlvbilcbiAgICB0aGlzLmNvbGxlY3Rpb25zLnNldChtZWRpYUNvbGxlY3Rpb24uaWQsIG1lZGlhQ29sbGVjdGlvbilcbiAgICB0aGlzLmNvbGxlY3Rpb25zLnNldChwcmVzZW50YXRpb25zQ29sbGVjdGlvbi5pZCwgcHJlc2VudGF0aW9uc0NvbGxlY3Rpb24pXG5cbiAgICB0aGlzLmN1cnJlbnRDb2xsZWN0aW9uID0gZG9jdW1lbnRzQ29sbGVjdGlvblxuXG4gICAgY29uc29sZS5sb2coJ1x1RDgzRFx1RENDMSBEZWZhdWx0IGNvbGxlY3Rpb25zIGNyZWF0ZWQnKVxuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSBzZWFyY2ggaW5kZXhcbiAgcHJpdmF0ZSBpbml0aWFsaXplU2VhcmNoSW5kZXgoKSB7XG4gICAgY29uc29sZS5sb2coJ1x1RDgzRFx1REQwRCBJbml0aWFsaXppbmcgc2VhcmNoIGluZGV4Li4uJylcblxuICAgIC8vIFByZS1wb3B1bGF0ZSB3aXRoIHNhbXBsZSBjb250ZW50XG4gICAgdGhpcy5jcmVhdGVTYW1wbGVDb250ZW50KClcbiAgfVxuXG4gIC8vIENyZWF0ZSBzYW1wbGUgY29udGVudFxuICBwcml2YXRlIGNyZWF0ZVNhbXBsZUNvbnRlbnQoKSB7XG4gICAgY29uc3Qgc2FtcGxlQ29udGVudDogQ29udGVudEl0ZW1bXSA9IFtcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdjb250ZW50XzEnLFxuICAgICAgICB0aXRsZTogJ1E0IEZpbmFuY2lhbCBSZXBvcnQnLFxuICAgICAgICB0eXBlOiAnZG9jdW1lbnQnLFxuICAgICAgICBjYXRlZ29yeTogJ1JlcG9ydCcsXG4gICAgICAgIHRhZ3M6IFsnZmluYW5jZScsICdxdWFydGVybHknLCAnMjAyNCddLFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgIGF1dGhvcjogJ0ZpbmFuY2UgVGVhbScsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdRdWFydGVybHkgZmluYW5jaWFsIHJlcG9ydCBmb3IgUTQgMjAyNCcsXG4gICAgICAgICAgc2l6ZTogMjA0ODAwMCxcbiAgICAgICAgICBmb3JtYXQ6ICdQREYnLFxuICAgICAgICAgIGxhbmd1YWdlOiAnZW4nLFxuICAgICAgICAgIGFjY2Vzc2liaWxpdHk6IHtcbiAgICAgICAgICAgIGhhc0NhcHRpb25zOiBmYWxzZSxcbiAgICAgICAgICAgIGhhc0F1ZGlvRGVzY3JpcHRpb246IGZhbHNlLFxuICAgICAgICAgICAgaGFzVHJhbnNjcmlwdDogdHJ1ZSxcbiAgICAgICAgICAgIGhhc0FsdFRleHQ6IHRydWUsXG4gICAgICAgICAgICBsYW5ndWFnZTogJ2VuJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY29udGVudDogeyB1cmw6ICcvZmlsZXMvcTRfcmVwb3J0LnBkZicgfSxcbiAgICAgICAgcGVybWlzc2lvbnM6IHtcbiAgICAgICAgICBjYW5WaWV3OiBbJ2FsbCddLFxuICAgICAgICAgIGNhbkVkaXQ6IFsnZmluYW5jZV90ZWFtJ10sXG4gICAgICAgICAgY2FuRGVsZXRlOiBbJ2ZpbmFuY2VfbWFuYWdlciddLFxuICAgICAgICAgIGNhblNoYXJlOiB0cnVlLFxuICAgICAgICAgIGlzUHVibGljOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBjcmVhdGVkQXQ6IERhdGUubm93KCkgLSA4NjQwMDAwMCxcbiAgICAgICAgdXBkYXRlZEF0OiBEYXRlLm5vdygpIC0gMzYwMDAwMCxcbiAgICAgICAgdmVyc2lvbjogMixcbiAgICAgICAgc3RhdHVzOiAncHVibGlzaGVkJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdjb250ZW50XzInLFxuICAgICAgICB0aXRsZTogJ1Byb2R1Y3QgTGF1bmNoIFByZXNlbnRhdGlvbicsXG4gICAgICAgIHR5cGU6ICdwcmVzZW50YXRpb24nLFxuICAgICAgICBjYXRlZ29yeTogJ01hcmtldGluZycsXG4gICAgICAgIHRhZ3M6IFsncHJvZHVjdCcsICdsYXVuY2gnLCAnbWFya2V0aW5nJ10sXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgYXV0aG9yOiAnTWFya2V0aW5nIFRlYW0nLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnTmV3IHByb2R1Y3QgbGF1bmNoIHByZXNlbnRhdGlvbicsXG4gICAgICAgICAgc2l6ZTogNTEyMDAwMCxcbiAgICAgICAgICBmb3JtYXQ6ICdQUFRYJyxcbiAgICAgICAgICBkdXJhdGlvbjogMTgwMCxcbiAgICAgICAgICBsYW5ndWFnZTogJ2VuJyxcbiAgICAgICAgICBhY2Nlc3NpYmlsaXR5OiB7XG4gICAgICAgICAgICBoYXNDYXB0aW9uczogdHJ1ZSxcbiAgICAgICAgICAgIGhhc0F1ZGlvRGVzY3JpcHRpb246IGZhbHNlLFxuICAgICAgICAgICAgaGFzVHJhbnNjcmlwdDogdHJ1ZSxcbiAgICAgICAgICAgIGhhc0FsdFRleHQ6IHRydWUsXG4gICAgICAgICAgICBsYW5ndWFnZTogJ2VuJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY29udGVudDogeyB1cmw6ICcvZmlsZXMvcHJvZHVjdF9sYXVuY2gucHB0eCcgfSxcbiAgICAgICAgcGVybWlzc2lvbnM6IHtcbiAgICAgICAgICBjYW5WaWV3OiBbJ2FsbCddLFxuICAgICAgICAgIGNhbkVkaXQ6IFsnbWFya2V0aW5nX3RlYW0nXSxcbiAgICAgICAgICBjYW5EZWxldGU6IFsnbWFya2V0aW5nX21hbmFnZXInXSxcbiAgICAgICAgICBjYW5TaGFyZTogdHJ1ZSxcbiAgICAgICAgICBpc1B1YmxpYzogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBjcmVhdGVkQXQ6IERhdGUubm93KCkgLSAxNzI4MDAwMDAsXG4gICAgICAgIHVwZGF0ZWRBdDogRGF0ZS5ub3coKSAtIDcyMDAwMDAsXG4gICAgICAgIHZlcnNpb246IDMsXG4gICAgICAgIHN0YXR1czogJ3B1Ymxpc2hlZCdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnY29udGVudF8zJyxcbiAgICAgICAgdGl0bGU6ICdDdXN0b21lciBBbmFseXRpY3MgRGF0YXNldCcsXG4gICAgICAgIHR5cGU6ICdkYXRhc2V0JyxcbiAgICAgICAgY2F0ZWdvcnk6ICdBbmFseXRpY3MnLFxuICAgICAgICB0YWdzOiBbJ2N1c3RvbWVyJywgJ2FuYWx5dGljcycsICdkYXRhJ10sXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgYXV0aG9yOiAnRGF0YSBUZWFtJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0N1c3RvbWVyIGJlaGF2aW9yIGFuYWx5dGljcyBkYXRhc2V0JyxcbiAgICAgICAgICBzaXplOiAxMDI0MDAwMCxcbiAgICAgICAgICBmb3JtYXQ6ICdDU1YnLFxuICAgICAgICAgIGxhbmd1YWdlOiAnZW4nLFxuICAgICAgICAgIGFjY2Vzc2liaWxpdHk6IHtcbiAgICAgICAgICAgIGhhc0NhcHRpb25zOiBmYWxzZSxcbiAgICAgICAgICAgIGhhc0F1ZGlvRGVzY3JpcHRpb246IGZhbHNlLFxuICAgICAgICAgICAgaGFzVHJhbnNjcmlwdDogZmFsc2UsXG4gICAgICAgICAgICBoYXNBbHRUZXh0OiB0cnVlLFxuICAgICAgICAgICAgbGFuZ3VhZ2U6ICdlbidcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRlbnQ6IHsgdXJsOiAnL2RhdGEvY3VzdG9tZXJfYW5hbHl0aWNzLmNzdicgfSxcbiAgICAgICAgcGVybWlzc2lvbnM6IHtcbiAgICAgICAgICBjYW5WaWV3OiBbJ2RhdGFfdGVhbScsICdhbmFseXN0cyddLFxuICAgICAgICAgIGNhbkVkaXQ6IFsnZGF0YV90ZWFtJ10sXG4gICAgICAgICAgY2FuRGVsZXRlOiBbJ2RhdGFfbWFuYWdlciddLFxuICAgICAgICAgIGNhblNoYXJlOiBmYWxzZSxcbiAgICAgICAgICBpc1B1YmxpYzogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpIC0gMjU5MjAwMDAwLFxuICAgICAgICB1cGRhdGVkQXQ6IERhdGUubm93KCkgLSA4NjQwMDAwMCxcbiAgICAgICAgdmVyc2lvbjogMSxcbiAgICAgICAgc3RhdHVzOiAncHVibGlzaGVkJ1xuICAgICAgfVxuICAgIF1cblxuICAgIHNhbXBsZUNvbnRlbnQuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIHRoaXMuY29udGVudC5zZXQoaXRlbS5pZCwgaXRlbSlcbiAgICAgIHRoaXMudXBkYXRlU2VhcmNoSW5kZXgoaXRlbSlcbiAgICB9KVxuXG4gICAgY29uc29sZS5sb2coJ1x1RDgzRFx1RENDNCBTYW1wbGUgY29udGVudCBjcmVhdGVkJylcbiAgfVxuXG4gIC8vIFVwZGF0ZSBzZWFyY2ggaW5kZXhcbiAgcHJpdmF0ZSB1cGRhdGVTZWFyY2hJbmRleChpdGVtOiBDb250ZW50SXRlbSkge1xuICAgIGNvbnN0IHNlYXJjaGFibGVUZXh0ID0gW1xuICAgICAgaXRlbS50aXRsZSxcbiAgICAgIGl0ZW0uZGVzY3JpcHRpb24sXG4gICAgICBpdGVtLmNhdGVnb3J5LFxuICAgICAgLi4uaXRlbS50YWdzLFxuICAgICAgaXRlbS5tZXRhZGF0YS5hdXRob3JcbiAgICBdLmpvaW4oJyAnKS50b0xvd2VyQ2FzZSgpXG5cbiAgICB0aGlzLnNlYXJjaEluZGV4LnNldChpdGVtLmlkLCBzZWFyY2hhYmxlVGV4dC5zcGxpdCgnICcpKVxuICB9XG5cbiAgLy8gU3RhcnQgY29udGVudCBlbmdpbmVcbiAgcHJpdmF0ZSBzdGFydENvbnRlbnRFbmdpbmUoKSB7XG4gICAgZW5naW5lLmFkZFN5c3RlbSgoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCkgcmV0dXJuXG5cbiAgICAgIHRoaXMudXBkYXRlQ29udGVudE1ldHJpY3MoKVxuICAgICAgdGhpcy5wcm9jZXNzQ29udGVudFVwZGF0ZXMoKVxuICAgICAgdGhpcy5vcHRpbWl6ZVNlYXJjaEluZGV4KClcbiAgICB9KVxuICB9XG5cbiAgLy8gSGFuZGxlIGJyb3dzZXIgY29udHJvbFxuICBwcml2YXRlIGhhbmRsZUJyb3dzZXJDb250cm9sKGNvbnRyb2xJZDogc3RyaW5nKSB7XG4gICAgc3dpdGNoIChjb250cm9sSWQpIHtcbiAgICAgIGNhc2UgJ3NlYXJjaCc6XG4gICAgICAgIHRoaXMub3BlblNlYXJjaERpYWxvZygpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdmaWx0ZXInOlxuICAgICAgICB0aGlzLm9wZW5GaWx0ZXJEaWFsb2coKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnc29ydCc6XG4gICAgICAgIHRoaXMudG9nZ2xlU29ydE9yZGVyKClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ25ldyc6XG4gICAgICAgIHRoaXMub3BlbkNvbnRlbnRDcmVhdG9yKClcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgnY2xpY2snKVxuICB9XG5cbiAgLy8gT3BlbiBzZWFyY2ggZGlhbG9nXG4gIHByaXZhdGUgb3BlblNlYXJjaERpYWxvZygpIHtcbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVERDBEIE9wZW5pbmcgc2VhcmNoIGRpYWxvZy4uLicpXG4gICAgLy8gSW4gcmVhbCBpbXBsZW1lbnRhdGlvbiwgdGhpcyB3b3VsZCBvcGVuIGEgc2VhcmNoIFVJXG4gIH1cblxuICAvLyBPcGVuIGZpbHRlciBkaWFsb2dcbiAgcHJpdmF0ZSBvcGVuRmlsdGVyRGlhbG9nKCkge1xuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdUREM0QgT3BlbmluZyBmaWx0ZXIgZGlhbG9nLi4uJylcbiAgICAvLyBJbiByZWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdvdWxkIG9wZW4gYSBmaWx0ZXIgVUlcbiAgfVxuXG4gIC8vIFRvZ2dsZSBzb3J0IG9yZGVyXG4gIHByaXZhdGUgdG9nZ2xlU29ydE9yZGVyKCkge1xuICAgIGlmICghdGhpcy5jdXJyZW50Q29sbGVjdGlvbikgcmV0dXJuXG5cbiAgICB0aGlzLmN1cnJlbnRDb2xsZWN0aW9uLnNvcnRPcmRlciA9IHRoaXMuY3VycmVudENvbGxlY3Rpb24uc29ydE9yZGVyID09PSAnYXNjJyA/ICdkZXNjJyA6ICdhc2MnXG4gICAgY29uc29sZS5sb2coYFx1RDgzRFx1REQwNCBTb3J0IG9yZGVyOiAke3RoaXMuY3VycmVudENvbGxlY3Rpb24uc29ydE9yZGVyfWApXG4gIH1cblxuICAvLyBPcGVuIGNvbnRlbnQgY3JlYXRvclxuICBwcml2YXRlIG9wZW5Db250ZW50Q3JlYXRvcigpIHtcbiAgICBjb25zb2xlLmxvZygnXHUyNzk1IE9wZW5pbmcgY29udGVudCBjcmVhdG9yLi4uJylcbiAgICAvLyBJbiByZWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdvdWxkIG9wZW4gYSBjb250ZW50IGNyZWF0aW9uIFVJXG4gIH1cblxuICAvLyBDcmVhdGUgY29udGVudFxuICBwdWJsaWMgY3JlYXRlQ29udGVudCh0ZW1wbGF0ZUlkOiBzdHJpbmcsIGRhdGE6IGFueSk6IENvbnRlbnRJdGVtIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGVzLmdldCh0ZW1wbGF0ZUlkKVxuICAgIGlmICghdGVtcGxhdGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVGVtcGxhdGUgJHt0ZW1wbGF0ZUlkfSBub3QgZm91bmRgKVxuICAgIH1cblxuICAgIGNvbnN0IGNvbnRlbnQ6IENvbnRlbnRJdGVtID0ge1xuICAgICAgaWQ6IGBjb250ZW50XyR7RGF0ZS5ub3coKX1gLFxuICAgICAgdGl0bGU6IGRhdGEudGl0bGUgfHwgJ1VudGl0bGVkJyxcbiAgICAgIHR5cGU6IHRlbXBsYXRlLnR5cGUsXG4gICAgICBjYXRlZ29yeTogZGF0YS5jYXRlZ29yeSB8fCAnR2VuZXJhbCcsXG4gICAgICB0YWdzOiBkYXRhLnRhZ3MgfHwgW10sXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBhdXRob3I6IGRhdGEuYXV0aG9yIHx8ICdVbmtub3duJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGRhdGEuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICAgIHNpemU6IDAsXG4gICAgICAgIGZvcm1hdDogdGVtcGxhdGUudHlwZSxcbiAgICAgICAgbGFuZ3VhZ2U6IGRhdGEubGFuZ3VhZ2UgfHwgJ2VuJyxcbiAgICAgICAgYWNjZXNzaWJpbGl0eToge1xuICAgICAgICAgIGhhc0NhcHRpb25zOiBmYWxzZSxcbiAgICAgICAgICBoYXNBdWRpb0Rlc2NyaXB0aW9uOiBmYWxzZSxcbiAgICAgICAgICBoYXNUcmFuc2NyaXB0OiBmYWxzZSxcbiAgICAgICAgICBoYXNBbHRUZXh0OiBmYWxzZSxcbiAgICAgICAgICBsYW5ndWFnZTogZGF0YS5sYW5ndWFnZSB8fCAnZW4nXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjb250ZW50OiBkYXRhLmNvbnRlbnQgfHwge30sXG4gICAgICBwZXJtaXNzaW9uczoge1xuICAgICAgICBjYW5WaWV3OiBkYXRhLmNhblZpZXcgfHwgWydhbGwnXSxcbiAgICAgICAgY2FuRWRpdDogZGF0YS5jYW5FZGl0IHx8IFtkYXRhLmF1dGhvciB8fCAnVW5rbm93biddLFxuICAgICAgICBjYW5EZWxldGU6IGRhdGEuY2FuRGVsZXRlIHx8IFtkYXRhLmF1dGhvciB8fCAnVW5rbm93biddLFxuICAgICAgICBjYW5TaGFyZTogZGF0YS5jYW5TaGFyZSAhPT0gdW5kZWZpbmVkID8gZGF0YS5jYW5TaGFyZSA6IHRydWUsXG4gICAgICAgIGlzUHVibGljOiBkYXRhLmlzUHVibGljICE9PSB1bmRlZmluZWQgPyBkYXRhLmlzUHVibGljIDogZmFsc2VcbiAgICAgIH0sXG4gICAgICBjcmVhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICB1cGRhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICB2ZXJzaW9uOiAxLFxuICAgICAgc3RhdHVzOiAnZHJhZnQnXG4gICAgfVxuXG4gICAgdGhpcy5jb250ZW50LnNldChjb250ZW50LmlkLCBjb250ZW50KVxuICAgIHRoaXMudXBkYXRlU2VhcmNoSW5kZXgoY29udGVudClcblxuICAgIC8vIFRyYWNrIGFuYWx5dGljc1xuICAgIHRoaXMuYW5hbHl0aWNzRW5naW5lLnRyYWNrKCdjb250ZW50X2NyZWF0ZWQnLCB7XG4gICAgICBjb250ZW50SWQ6IGNvbnRlbnQuaWQsXG4gICAgICB0eXBlOiBjb250ZW50LnR5cGUsXG4gICAgICBhdXRob3I6IGNvbnRlbnQubWV0YWRhdGEuYXV0aG9yXG4gICAgfSlcblxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURDREQgQ3JlYXRlZCBjb250ZW50OiAke2NvbnRlbnQudGl0bGV9YClcbiAgICByZXR1cm4gY29udGVudFxuICB9XG5cbiAgLy8gVXBkYXRlIGNvbnRlbnRcbiAgcHVibGljIHVwZGF0ZUNvbnRlbnQoY29udGVudElkOiBzdHJpbmcsIHVwZGF0ZXM6IGFueSk6IENvbnRlbnRJdGVtIHwgbnVsbCB7XG4gICAgY29uc3QgY29udGVudCA9IHRoaXMuY29udGVudC5nZXQoY29udGVudElkKVxuICAgIGlmICghY29udGVudCkgcmV0dXJuIG51bGxcblxuICAgIC8vIENyZWF0ZSB2ZXJzaW9uXG4gICAgY29uc3QgdmVyc2lvbiA9IHRoaXMudmVyc2lvbkNvbnRyb2wuY3JlYXRlVmVyc2lvbihjb250ZW50SWQsIHVwZGF0ZXMpXG5cbiAgICAvLyBVcGRhdGUgY29udGVudFxuICAgIE9iamVjdC5hc3NpZ24oY29udGVudCwgdXBkYXRlcylcbiAgICBjb250ZW50LnVwZGF0ZWRBdCA9IERhdGUubm93KClcbiAgICBjb250ZW50LnZlcnNpb24gKz0gMVxuXG4gICAgdGhpcy51cGRhdGVTZWFyY2hJbmRleChjb250ZW50KVxuXG4gICAgLy8gVHJhY2sgYW5hbHl0aWNzXG4gICAgdGhpcy5hbmFseXRpY3NFbmdpbmUudHJhY2soJ2NvbnRlbnRfdXBkYXRlZCcsIHtcbiAgICAgIGNvbnRlbnRJZDogY29udGVudElkLFxuICAgICAgdmVyc2lvbjogY29udGVudC52ZXJzaW9uXG4gICAgfSlcblxuICAgIGNvbnNvbGUubG9nKGBcdTI3MEZcdUZFMEYgVXBkYXRlZCBjb250ZW50OiAke2NvbnRlbnQudGl0bGV9YClcbiAgICByZXR1cm4gY29udGVudFxuICB9XG5cbiAgLy8gRGVsZXRlIGNvbnRlbnRcbiAgcHVibGljIGRlbGV0ZUNvbnRlbnQoY29udGVudElkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCBjb250ZW50ID0gdGhpcy5jb250ZW50LmdldChjb250ZW50SWQpXG4gICAgaWYgKCFjb250ZW50KSByZXR1cm4gZmFsc2VcblxuICAgIGNvbnRlbnQuc3RhdHVzID0gJ2RlbGV0ZWQnXG4gICAgdGhpcy5zZWFyY2hJbmRleC5kZWxldGUoY29udGVudElkKVxuXG4gICAgLy8gVHJhY2sgYW5hbHl0aWNzXG4gICAgdGhpcy5hbmFseXRpY3NFbmdpbmUudHJhY2soJ2NvbnRlbnRfZGVsZXRlZCcsIHtcbiAgICAgIGNvbnRlbnRJZDogY29udGVudElkLFxuICAgICAgdHlwZTogY29udGVudC50eXBlXG4gICAgfSlcblxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURERDFcdUZFMEYgRGVsZXRlZCBjb250ZW50OiAke2NvbnRlbnQudGl0bGV9YClcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLy8gU2VhcmNoIGNvbnRlbnRcbiAgcHVibGljIHNlYXJjaENvbnRlbnQocXVlcnk6IHN0cmluZyk6IENvbnRlbnRJdGVtW10ge1xuICAgIGNvbnN0IHRlcm1zID0gcXVlcnkudG9Mb3dlckNhc2UoKS5zcGxpdCgnICcpXG4gICAgY29uc3QgcmVzdWx0czogQ29udGVudEl0ZW1bXSA9IFtdXG5cbiAgICB0aGlzLmNvbnRlbnQuZm9yRWFjaCgoY29udGVudCwgaWQpID0+IHtcbiAgICAgIGlmIChjb250ZW50LnN0YXR1cyA9PT0gJ2RlbGV0ZWQnKSByZXR1cm5cblxuICAgICAgY29uc3QgaW5kZXhUZXJtcyA9IHRoaXMuc2VhcmNoSW5kZXguZ2V0KGlkKSB8fCBbXVxuICAgICAgY29uc3Qgc2NvcmUgPSB0aGlzLmNhbGN1bGF0ZVNlYXJjaFNjb3JlKHRlcm1zLCBpbmRleFRlcm1zKVxuXG4gICAgICBpZiAoc2NvcmUgPiAwKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChjb250ZW50KVxuICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gcmVzdWx0cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBjb25zdCBzY29yZUEgPSB0aGlzLmNhbGN1bGF0ZVNlYXJjaFNjb3JlKHRlcm1zLCB0aGlzLnNlYXJjaEluZGV4LmdldChhLmlkKSB8fCBbXSlcbiAgICAgIGNvbnN0IHNjb3JlQiA9IHRoaXMuY2FsY3VsYXRlU2VhcmNoU2NvcmUodGVybXMsIHRoaXMuc2VhcmNoSW5kZXguZ2V0KGIuaWQpIHx8IFtdKVxuICAgICAgcmV0dXJuIHNjb3JlQiAtIHNjb3JlQVxuICAgIH0pXG4gIH1cblxuICAvLyBDYWxjdWxhdGUgc2VhcmNoIHNjb3JlXG4gIHByaXZhdGUgY2FsY3VsYXRlU2VhcmNoU2NvcmUocXVlcnlUZXJtczogc3RyaW5nW10sIGluZGV4VGVybXM6IHN0cmluZ1tdKTogbnVtYmVyIHtcbiAgICBsZXQgc2NvcmUgPSAwXG4gICAgcXVlcnlUZXJtcy5mb3JFYWNoKHRlcm0gPT4ge1xuICAgICAgaWYgKGluZGV4VGVybXMuaW5jbHVkZXModGVybSkpIHtcbiAgICAgICAgc2NvcmUgKz0gMVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIHNjb3JlXG4gIH1cblxuICAvLyBHZXQgY29udGVudCBieSBjb2xsZWN0aW9uXG4gIHB1YmxpYyBnZXRDb250ZW50QnlDb2xsZWN0aW9uKGNvbGxlY3Rpb25JZDogc3RyaW5nKTogQ29udGVudEl0ZW1bXSB7XG4gICAgY29uc3QgY29sbGVjdGlvbiA9IHRoaXMuY29sbGVjdGlvbnMuZ2V0KGNvbGxlY3Rpb25JZClcbiAgICBpZiAoIWNvbGxlY3Rpb24pIHJldHVybiBbXVxuXG4gICAgbGV0IHJlc3VsdHMgPSBBcnJheS5mcm9tKHRoaXMuY29udGVudC52YWx1ZXMoKSkuZmlsdGVyKGNvbnRlbnQgPT4ge1xuICAgICAgaWYgKGNvbnRlbnQuc3RhdHVzID09PSAnZGVsZXRlZCcpIHJldHVybiBmYWxzZVxuXG4gICAgICAvLyBBcHBseSBmaWx0ZXJzXG4gICAgICByZXR1cm4gY29sbGVjdGlvbi5maWx0ZXJzLmV2ZXJ5KGZpbHRlciA9PiB7XG4gICAgICAgIGNvbnN0IGZpZWxkVmFsdWUgPSB0aGlzLmdldEZpZWxkVmFsdWUoY29udGVudCwgZmlsdGVyLmZpZWxkKVxuICAgICAgICByZXR1cm4gdGhpcy5hcHBseUZpbHRlcihmaWVsZFZhbHVlLCBmaWx0ZXIub3BlcmF0b3IsIGZpbHRlci52YWx1ZSlcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIC8vIEFwcGx5IHNvcnRpbmdcbiAgICByZXN1bHRzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGNvbnN0IGFWYWx1ZSA9IHRoaXMuZ2V0RmllbGRWYWx1ZShhLCBjb2xsZWN0aW9uLnNvcnRCeSlcbiAgICAgIGNvbnN0IGJWYWx1ZSA9IHRoaXMuZ2V0RmllbGRWYWx1ZShiLCBjb2xsZWN0aW9uLnNvcnRCeSlcblxuICAgICAgaWYgKGNvbGxlY3Rpb24uc29ydE9yZGVyID09PSAnYXNjJykge1xuICAgICAgICByZXR1cm4gYVZhbHVlID4gYlZhbHVlID8gMSA6IC0xXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYVZhbHVlIDwgYlZhbHVlID8gMSA6IC0xXG4gICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiByZXN1bHRzXG4gIH1cblxuICAvLyBHZXQgZmllbGQgdmFsdWVcbiAgcHJpdmF0ZSBnZXRGaWVsZFZhbHVlKGNvbnRlbnQ6IENvbnRlbnRJdGVtLCBmaWVsZDogc3RyaW5nKTogYW55IHtcbiAgICBzd2l0Y2ggKGZpZWxkKSB7XG4gICAgICBjYXNlICd0aXRsZSc6XG4gICAgICAgIHJldHVybiBjb250ZW50LnRpdGxlXG4gICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQuY3JlYXRlZEF0XG4gICAgICBjYXNlICdhdXRob3InOlxuICAgICAgICByZXR1cm4gY29udGVudC5tZXRhZGF0YS5hdXRob3JcbiAgICAgIGNhc2UgJ3R5cGUnOlxuICAgICAgICByZXR1cm4gY29udGVudC50eXBlXG4gICAgICBjYXNlICdwb3B1bGFyaXR5JzpcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5hbHl0aWNzRW5naW5lLmdldE1ldHJpY3MoY29udGVudC5pZCkudmlld3NcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAnJ1xuICAgIH1cbiAgfVxuXG4gIC8vIEFwcGx5IGZpbHRlclxuICBwcml2YXRlIGFwcGx5RmlsdGVyKHZhbHVlOiBhbnksIG9wZXJhdG9yOiBzdHJpbmcsIGZpbHRlclZhbHVlOiBhbnkpOiBib29sZWFuIHtcbiAgICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgICBjYXNlICdlcXVhbHMnOlxuICAgICAgICByZXR1cm4gdmFsdWUgPT09IGZpbHRlclZhbHVlXG4gICAgICBjYXNlICdjb250YWlucyc6XG4gICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoU3RyaW5nKGZpbHRlclZhbHVlKS50b0xvd2VyQ2FzZSgpKVxuICAgICAgY2FzZSAnZ3JlYXRlcic6XG4gICAgICAgIHJldHVybiB2YWx1ZSA+IGZpbHRlclZhbHVlXG4gICAgICBjYXNlICdsZXNzJzpcbiAgICAgICAgcmV0dXJuIHZhbHVlIDwgZmlsdGVyVmFsdWVcbiAgICAgIGNhc2UgJ2JldHdlZW4nOlxuICAgICAgICByZXR1cm4gdmFsdWUgPj0gZmlsdGVyVmFsdWVbMF0gJiYgdmFsdWUgPD0gZmlsdGVyVmFsdWVbMV1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIC8vIFVwZGF0ZSBjb250ZW50IG1ldHJpY3NcbiAgcHJpdmF0ZSB1cGRhdGVDb250ZW50TWV0cmljcygpIHtcbiAgICB0aGlzLmNvbnRlbnQuZm9yRWFjaCgoY29udGVudCwgaWQpID0+IHtcbiAgICAgIGNvbnN0IG1ldHJpY3MgPSB0aGlzLmFuYWx5dGljc0VuZ2luZS5nZXRNZXRyaWNzKGlkKVxuICAgICAgLy8gVXBkYXRlIFVJIHdpdGggbWV0cmljc1xuICAgIH0pXG4gIH1cblxuICAvLyBQcm9jZXNzIGNvbnRlbnQgdXBkYXRlc1xuICBwcml2YXRlIHByb2Nlc3NDb250ZW50VXBkYXRlcygpIHtcbiAgICAvLyBIYW5kbGUgcmVhbC10aW1lIHVwZGF0ZXNcbiAgICAvLyBTeW5jIHdpdGggZXh0ZXJuYWwgc3lzdGVtc1xuICB9XG5cbiAgLy8gT3B0aW1pemUgc2VhcmNoIGluZGV4XG4gIHByaXZhdGUgb3B0aW1pemVTZWFyY2hJbmRleCgpIHtcbiAgICAvLyBQZXJpb2RpY2FsbHkgb3B0aW1pemUgc2VhcmNoIGluZGV4IGZvciBwZXJmb3JtYW5jZVxuICB9XG5cbiAgLy8gR2V0IGNvbnRlbnRcbiAgcHVibGljIGdldENvbnRlbnQoY29udGVudElkOiBzdHJpbmcpOiBDb250ZW50SXRlbSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5nZXQoY29udGVudElkKVxuICB9XG5cbiAgLy8gR2V0IGFsbCBjb250ZW50XG4gIHB1YmxpYyBnZXRBbGxDb250ZW50KCk6IENvbnRlbnRJdGVtW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuY29udGVudC52YWx1ZXMoKSkuZmlsdGVyKGNvbnRlbnQgPT4gY29udGVudC5zdGF0dXMgIT09ICdkZWxldGVkJylcbiAgfVxuXG4gIC8vIEdldCBjb2xsZWN0aW9uc1xuICBwdWJsaWMgZ2V0Q29sbGVjdGlvbnMoKTogQ29udGVudENvbGxlY3Rpb25bXSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5jb2xsZWN0aW9ucy52YWx1ZXMoKSlcbiAgfVxuXG4gIC8vIEdldCB0ZW1wbGF0ZXNcbiAgcHVibGljIGdldFRlbXBsYXRlcygpOiBDb250ZW50VGVtcGxhdGVbXSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy50ZW1wbGF0ZXMudmFsdWVzKCkpXG4gIH1cblxuICAvLyBHZXQgY29udGVudCBtZXRyaWNzXG4gIHB1YmxpYyBnZXRDb250ZW50TWV0cmljcyhjb250ZW50SWQ6IHN0cmluZyk6IGFueSB7XG4gICAgcmV0dXJuIHRoaXMuYW5hbHl0aWNzRW5naW5lLmdldE1ldHJpY3MoY29udGVudElkKVxuICB9XG5cbiAgLy8gQ2xlYW51cCBzeXN0ZW1cbiAgcHVibGljIGNsZWFudXAoKSB7XG4gICAgdGhpcy5jb250ZW50LmNsZWFyKClcbiAgICB0aGlzLmNvbGxlY3Rpb25zLmNsZWFyKClcbiAgICB0aGlzLnRlbXBsYXRlcy5jbGVhcigpXG4gICAgdGhpcy5zZWFyY2hJbmRleC5jbGVhcigpXG5cbiAgICBpZiAodGhpcy5jb250ZW50VUkpIHtcbiAgICAgIGVuZ2luZS5yZW1vdmVFbnRpdHkodGhpcy5jb250ZW50VUkpXG4gICAgfVxuXG4gICAgdGhpcy5pc0luaXRpYWxpemVkID0gZmFsc2VcbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3QgY29udGVudE1hbmFnZW1lbnRTeXN0ZW0gPSBuZXcgQ29udGVudE1hbmFnZW1lbnRTeXN0ZW0oKVxuIiwgIi8vIENyb3NzLVBsYXRmb3JtIFN5bmNocm9uaXphdGlvbiBmb3IgQUlHZXN0aW9uIFZpcnR1YWwgT2ZmaWNlXG5pbXBvcnQgeyBlbmdpbmUsIElucHV0QWN0aW9uLCBNYXRlcmlhbCwgTWVzaFJlbmRlcmVyLCBwb2ludGVyRXZlbnRzU3lzdGVtLCBUcmFuc2Zvcm0gfSBmcm9tICdAZGNsL3Nkay9lY3MnXG5pbXBvcnQgeyBDb2xvcjQsIFZlY3RvcjMgfSBmcm9tICdAZGNsL3Nkay9tYXRoJ1xuaW1wb3J0IHsgc291bmRTeXN0ZW0gfSBmcm9tICcuL2VuaGFuY2VkLXNvdW5kJ1xuXG5pbnRlcmZhY2UgU3luY1Nlc3Npb24ge1xuICBpZDogc3RyaW5nXG4gIG5hbWU6IHN0cmluZ1xuICBwbGF0Zm9ybTogUGxhdGZvcm1cbiAgc3RhdHVzOiAnYWN0aXZlJyB8ICdpbmFjdGl2ZScgfCAnc3luY2luZycgfCAnZXJyb3InXG4gIHBhcnRpY2lwYW50czogU3luY1BhcnRpY2lwYW50W11cbiAgbGFzdFN5bmM6IG51bWJlclxuICBzeW5jSW50ZXJ2YWw6IG51bWJlclxuICBkYXRhU3luYzogRGF0YVN5bmNcbiAgY29uZmxpY3RSZXNvbHV0aW9uOiBDb25mbGljdFJlc29sdXRpb25cbn1cblxuaW50ZXJmYWNlIFN5bmNQYXJ0aWNpcGFudCB7XG4gIGlkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIHBsYXRmb3JtOiBQbGF0Zm9ybVxuICByb2xlOiAnaG9zdCcgfCAncGFydGljaXBhbnQnIHwgJ29ic2VydmVyJ1xuICBwZXJtaXNzaW9uczogU3luY1Blcm1pc3Npb25zXG4gIHN0YXR1czogJ29ubGluZScgfCAnb2ZmbGluZScgfCAnYXdheSdcbiAgbGFzdFNlZW46IG51bWJlclxufVxuXG5pbnRlcmZhY2UgRGF0YVN5bmMge1xuICBlbnRpdGllczogTWFwPHN0cmluZywgU3luY0VudGl0eT5cbiAgc2V0dGluZ3M6IE1hcDxzdHJpbmcsIFN5bmNTZXR0aW5nPlxuICBldmVudHM6IFN5bmNFdmVudFtdXG4gIGNvbmZsaWN0czogU3luY0NvbmZsaWN0W11cbiAgdmVyc2lvbjogbnVtYmVyXG59XG5cbmludGVyZmFjZSBTeW5jRW50aXR5IHtcbiAgaWQ6IHN0cmluZ1xuICB0eXBlOiAncG9zaXRpb24nIHwgJ3JvdGF0aW9uJyB8ICdzY2FsZScgfCAnbWF0ZXJpYWwnIHwgJ2FuaW1hdGlvbicgfCAnY3VzdG9tJ1xuICBkYXRhOiBhbnlcbiAgdGltZXN0YW1wOiBudW1iZXJcbiAgYXV0aG9yOiBzdHJpbmdcbiAgdmVyc2lvbjogbnVtYmVyXG4gIGNvbmZsaWN0czogc3RyaW5nW11cbn1cblxuaW50ZXJmYWNlIFN5bmNTZXR0aW5nIHtcbiAga2V5OiBzdHJpbmdcbiAgdmFsdWU6IGFueVxuICB0eXBlOiAnYm9vbGVhbicgfCAnbnVtYmVyJyB8ICdzdHJpbmcnIHwgJ29iamVjdCdcbiAgdGltZXN0YW1wOiBudW1iZXJcbiAgYXV0aG9yOiBzdHJpbmdcbiAgcHJpb3JpdHk6IG51bWJlclxufVxuXG5pbnRlcmZhY2UgU3luY0V2ZW50IHtcbiAgaWQ6IHN0cmluZ1xuICB0eXBlOiAnY3JlYXRlJyB8ICd1cGRhdGUnIHwgJ2RlbGV0ZScgfCAnbW92ZScgfCAnaW50ZXJhY3QnXG4gIHRhcmdldDogc3RyaW5nXG4gIGRhdGE6IGFueVxuICB0aW1lc3RhbXA6IG51bWJlclxuICBhdXRob3I6IHN0cmluZ1xuICBwbGF0Zm9ybTogUGxhdGZvcm1cbn1cblxuaW50ZXJmYWNlIFN5bmNDb25mbGljdCB7XG4gIGlkOiBzdHJpbmdcbiAgdHlwZTogJ2RhdGEnIHwgJ3ZlcnNpb24nIHwgJ3Blcm1pc3Npb24nXG4gIGVudGl0eTogc3RyaW5nXG4gIGNoYW5nZXM6IENvbmZsaWN0Q2hhbmdlW11cbiAgdGltZXN0YW1wOiBudW1iZXJcbiAgc3RhdHVzOiAncGVuZGluZycgfCAncmVzb2x2ZWQnIHwgJ2lnbm9yZWQnXG59XG5cbmludGVyZmFjZSBDb25mbGljdENoYW5nZSB7XG4gIGF1dGhvcjogc3RyaW5nXG4gIHBsYXRmb3JtOiBQbGF0Zm9ybVxuICBkYXRhOiBhbnlcbiAgdGltZXN0YW1wOiBudW1iZXJcbn1cblxuaW50ZXJmYWNlIENvbmZsaWN0UmVzb2x1dGlvbiB7XG4gIHN0cmF0ZWd5OiAnbGFzdF93cml0ZV93aW5zJyB8ICdmaXJzdF93cml0ZV93aW5zJyB8ICdtZXJnZScgfCAnbWFudWFsJyB8ICd2b3RpbmcnXG4gIGF1dG9SZXNvbHZlOiBib29sZWFuXG4gIHRpbWVvdXQ6IG51bWJlclxufVxuXG5pbnRlcmZhY2UgU3luY1Blcm1pc3Npb25zIHtcbiAgY2FuUmVhZDogYm9vbGVhblxuICBjYW5Xcml0ZTogYm9vbGVhblxuICBjYW5EZWxldGU6IGJvb2xlYW5cbiAgY2FuSW52aXRlOiBib29sZWFuXG4gIGNhbktpY2s6IGJvb2xlYW5cbiAgY2FuQ2hhbmdlU2V0dGluZ3M6IGJvb2xlYW5cbn1cblxudHlwZSBQbGF0Zm9ybSA9ICd3ZWInIHwgJ21vYmlsZScgfCAnZGVza3RvcCcgfCAndnInIHwgJ2FyJyB8ICdjb25zb2xlJ1xuXG5pbnRlcmZhY2UgU3luY05ldHdvcmsge1xuICBpZDogc3RyaW5nXG4gIHR5cGU6ICd3ZWJzb2NrZXQnIHwgJ3dlYnJ0YycgfCAnaHR0cCcgfCAnYmx1ZXRvb3RoJ1xuICBpc0Nvbm5lY3RlZDogYm9vbGVhblxuICBsYXRlbmN5OiBudW1iZXJcbiAgYmFuZHdpZHRoOiBudW1iZXJcbiAgcmVsaWFiaWxpdHk6IG51bWJlclxufVxuXG5leHBvcnQgY2xhc3MgQ3Jvc3NQbGF0Zm9ybVN5bmNTeXN0ZW0ge1xuICBwcml2YXRlIHNlc3Npb25zOiBNYXA8c3RyaW5nLCBTeW5jU2Vzc2lvbj4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBjdXJyZW50U2Vzc2lvbjogU3luY1Nlc3Npb24gfCBudWxsID0gbnVsbFxuICBwcml2YXRlIG5ldHdvcmtzOiBNYXA8c3RyaW5nLCBTeW5jTmV0d29yaz4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBzeW5jVUk6IGFueVxuICBwcml2YXRlIGlzSW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZVxuICBwcml2YXRlIHN5bmNRdWV1ZTogU3luY0V2ZW50W10gPSBbXVxuICBwcml2YXRlIG1heFF1ZXVlU2l6ZTogbnVtYmVyID0gMTAwMFxuICBwcml2YXRlIHN5bmNJbnRlcnZhbDogbnVtYmVyID0gMTAwIC8vIDEwMG1zXG4gIHByaXZhdGUgbGFzdFN5bmNUaW1lOiBudW1iZXIgPSAwXG4gIHByaXZhdGUgY29uZmxpY3RSZXNvbHZlcjogYW55XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pbml0aWFsaXplTmV0d29ya3MoKVxuICAgIHRoaXMuc2V0dXBDb25mbGljdFJlc29sdmVyKClcbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgY3Jvc3MtcGxhdGZvcm0gc3luYyBzeXN0ZW1cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVERDA0IENyb3NzLVBsYXRmb3JtIFN5bmMgU3lzdGVtIEluaXRpYWxpemluZy4uLicpXG5cbiAgICB0aGlzLmNyZWF0ZVN5bmNVSSgpXG4gICAgdGhpcy5zdGFydFN5bmNFbmdpbmUoKVxuICAgIHRoaXMuY3JlYXRlRGVmYXVsdFNlc3Npb24oKVxuXG4gICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZVxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdUREMDQgQ3Jvc3MtUGxhdGZvcm0gU3luYyBTeXN0ZW0gUmVhZHkhJylcbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgbmV0d29ya3NcbiAgcHJpdmF0ZSBpbml0aWFsaXplTmV0d29ya3MoKSB7XG4gICAgLy8gV2ViU29ja2V0IG5ldHdvcmtcbiAgICB0aGlzLm5ldHdvcmtzLnNldCgnd2Vic29ja2V0Jywge1xuICAgICAgaWQ6ICduZXR3b3JrX3dlYnNvY2tldCcsXG4gICAgICB0eXBlOiAnd2Vic29ja2V0JyxcbiAgICAgIGlzQ29ubmVjdGVkOiBmYWxzZSxcbiAgICAgIGxhdGVuY3k6IDUwLFxuICAgICAgYmFuZHdpZHRoOiAxMDAwLFxuICAgICAgcmVsaWFiaWxpdHk6IDAuOTVcbiAgICB9KVxuXG4gICAgLy8gV2ViUlRDIG5ldHdvcmtcbiAgICB0aGlzLm5ldHdvcmtzLnNldCgnd2VicnRjJywge1xuICAgICAgaWQ6ICduZXR3b3JrX3dlYnJ0YycsXG4gICAgICB0eXBlOiAnd2VicnRjJyxcbiAgICAgIGlzQ29ubmVjdGVkOiBmYWxzZSxcbiAgICAgIGxhdGVuY3k6IDIwLFxuICAgICAgYmFuZHdpZHRoOiA1MDAwLFxuICAgICAgcmVsaWFiaWxpdHk6IDAuOThcbiAgICB9KVxuXG4gICAgLy8gSFRUUCBuZXR3b3JrXG4gICAgdGhpcy5uZXR3b3Jrcy5zZXQoJ2h0dHAnLCB7XG4gICAgICBpZDogJ25ldHdvcmtfaHR0cCcsXG4gICAgICB0eXBlOiAnaHR0cCcsXG4gICAgICBpc0Nvbm5lY3RlZDogdHJ1ZSxcbiAgICAgIGxhdGVuY3k6IDIwMCxcbiAgICAgIGJhbmR3aWR0aDogMjAwMCxcbiAgICAgIHJlbGlhYmlsaXR5OiAwLjk5XG4gICAgfSlcblxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0NcdURGMTAgU3luYyBuZXR3b3JrcyBpbml0aWFsaXplZCcpXG4gIH1cblxuICAvLyBTZXR1cCBjb25mbGljdCByZXNvbHZlclxuICBwcml2YXRlIHNldHVwQ29uZmxpY3RSZXNvbHZlcigpIHtcbiAgICB0aGlzLmNvbmZsaWN0UmVzb2x2ZXIgPSB7XG4gICAgICByZXNvbHZlOiAoY29uZmxpY3Q6IFN5bmNDb25mbGljdCwgc3RyYXRlZ3k6IENvbmZsaWN0UmVzb2x1dGlvblsnc3RyYXRlZ3knXSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVERDI3IFJlc29sdmluZyBjb25mbGljdCAke2NvbmZsaWN0LmlkfSB3aXRoIHN0cmF0ZWd5OiAke3N0cmF0ZWd5fWApXG5cbiAgICAgICAgc3dpdGNoIChzdHJhdGVneSkge1xuICAgICAgICAgIGNhc2UgJ2xhc3Rfd3JpdGVfd2lucyc6XG4gICAgICAgICAgICByZXR1cm4gY29uZmxpY3QuY2hhbmdlc1tjb25mbGljdC5jaGFuZ2VzLmxlbmd0aCAtIDFdXG4gICAgICAgICAgY2FzZSAnZmlyc3Rfd3JpdGVfd2lucyc6XG4gICAgICAgICAgICByZXR1cm4gY29uZmxpY3QuY2hhbmdlc1swXVxuICAgICAgICAgIGNhc2UgJ21lcmdlJzpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1lcmdlQ2hhbmdlcyhjb25mbGljdC5jaGFuZ2VzKVxuICAgICAgICAgIGNhc2UgJ21hbnVhbCc6XG4gICAgICAgICAgICByZXR1cm4gbnVsbCAvLyBSZXF1aXJlcyBtYW51YWwgaW50ZXJ2ZW50aW9uXG4gICAgICAgICAgY2FzZSAndm90aW5nJzpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc29sdmVCeVZvdGluZyhjb25mbGljdC5jaGFuZ2VzKVxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gY29uZmxpY3QuY2hhbmdlc1tjb25mbGljdC5jaGFuZ2VzLmxlbmd0aCAtIDFdXG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIG1lcmdlOiAoY2hhbmdlczogQ29uZmxpY3RDaGFuZ2VbXSkgPT4ge1xuICAgICAgICAvLyBTaW1wbGUgbWVyZ2UgaW1wbGVtZW50YXRpb25cbiAgICAgICAgY29uc3QgbWVyZ2VkID0geyAuLi5jaGFuZ2VzWzBdLmRhdGEgfVxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGNoYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBPYmplY3QuYXNzaWduKG1lcmdlZCwgY2hhbmdlc1tpXS5kYXRhKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXJnZWRcbiAgICAgIH0sXG5cbiAgICAgIHJlc29sdmVCeVZvdGluZzogKGNoYW5nZXM6IENvbmZsaWN0Q2hhbmdlW10pID0+IHtcbiAgICAgICAgLy8gU2ltdWxhdGUgdm90aW5nXG4gICAgICAgIGNvbnN0IHZvdGVzID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKVxuICAgICAgICBjaGFuZ2VzLmZvckVhY2goY2hhbmdlID0+IHtcbiAgICAgICAgICB2b3Rlcy5zZXQoY2hhbmdlLmF1dGhvciwgTWF0aC5yYW5kb20oKSlcbiAgICAgICAgfSlcblxuICAgICAgICBsZXQgbWF4Vm90ZXMgPSAwXG4gICAgICAgIGxldCB3aW5uZXIgPSBjaGFuZ2VzWzBdXG5cbiAgICAgICAgdm90ZXMuZm9yRWFjaCgodm90ZXMsIGF1dGhvcikgPT4ge1xuICAgICAgICAgIGlmICh2b3RlcyA+IG1heFZvdGVzKSB7XG4gICAgICAgICAgICBtYXhWb3RlcyA9IHZvdGVzXG4gICAgICAgICAgICB3aW5uZXIgPSBjaGFuZ2VzLmZpbmQoYyA9PiBjLmF1dGhvciA9PT0gYXV0aG9yKSB8fCBjaGFuZ2VzWzBdXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiB3aW5uZXJcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBDcmVhdGUgc3luYyBVSVxuICBwcml2YXRlIGNyZWF0ZVN5bmNVSSgpIHtcbiAgICB0aGlzLnN5bmNVSSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUodGhpcy5zeW5jVUksIHtcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgyLCAzLCA4KSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgzLCA0LCAwLjEpXG4gICAgfSlcbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KHRoaXMuc3luY1VJKVxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKHRoaXMuc3luY1VJLCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjEsIDAuMiwgMC40LCAwLjkpLFxuICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuNCwgMC44LCAwLjUpLFxuICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDJcbiAgICB9KVxuXG4gICAgY29uc3QgdGl0bGUgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKHRpdGxlLCB7XG4gICAgICBwYXJlbnQ6IHRoaXMuc3luY1VJLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDEuNywgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjMsIDAuMywgMC4zKVxuICAgIH0pXG4gICAgVGV4dFNoYXBlLmNyZWF0ZSh0aXRsZSwge1xuICAgICAgdGV4dDogJ1x1RDgzRFx1REQwNCBDUk9TUy1QTEFURk9STSBTWU5DJyxcbiAgICAgIHRleHRDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAxLCAxLCAxKSxcbiAgICAgIGZvbnRTaXplOiAyLFxuICAgICAgdGV4dEFsaWduOiAzXG4gICAgfSlcblxuICAgIC8vIENyZWF0ZSBzZXNzaW9uIGNvbnRyb2xzXG4gICAgdGhpcy5jcmVhdGVTZXNzaW9uQ29udHJvbHMoKVxuXG4gICAgLy8gQ3JlYXRlIHBsYXRmb3JtIGluZGljYXRvcnNcbiAgICB0aGlzLmNyZWF0ZVBsYXRmb3JtSW5kaWNhdG9ycygpXG5cbiAgICAvLyBDcmVhdGUgc3luYyBzdGF0dXNcbiAgICB0aGlzLmNyZWF0ZVN5bmNTdGF0dXMoKVxuXG4gICAgLy8gQ3JlYXRlIGNvbmZsaWN0IGRpc3BsYXlcbiAgICB0aGlzLmNyZWF0ZUNvbmZsaWN0RGlzcGxheSgpXG4gIH1cblxuICAvLyBDcmVhdGUgc2Vzc2lvbiBjb250cm9sc1xuICBwcml2YXRlIGNyZWF0ZVNlc3Npb25Db250cm9scygpIHtcbiAgICBjb25zdCBjb250cm9scyA9IFtcbiAgICAgIHsgaWQ6ICdjcmVhdGVfc2Vzc2lvbicsIGljb246ICdcdTI3OTUnLCBuYW1lOiAnQ3JlYXRlIFNlc3Npb24nIH0sXG4gICAgICB7IGlkOiAnam9pbl9zZXNzaW9uJywgaWNvbjogJ1x1RDgzRFx1REQxNycsIG5hbWU6ICdKb2luIFNlc3Npb24nIH0sXG4gICAgICB7IGlkOiAnc3luY19ub3cnLCBpY29uOiAnXHVEODNEXHVERDA0JywgbmFtZTogJ1N5bmMgTm93JyB9LFxuICAgICAgeyBpZDogJ2xlYXZlX3Nlc3Npb24nLCBpY29uOiAnXHVEODNEXHVERUFBJywgbmFtZTogJ0xlYXZlIFNlc3Npb24nIH1cbiAgICBdXG5cbiAgICBsZXQgeE9mZnNldCA9IC0wLjlcblxuICAgIGNvbnRyb2xzLmZvckVhY2goY29udHJvbCA9PiB7XG4gICAgICBjb25zdCBidXR0b24gPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIFRyYW5zZm9ybS5jcmVhdGUoYnV0dG9uLCB7XG4gICAgICAgIHBhcmVudDogdGhpcy5zeW5jVUksXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSh4T2Zmc2V0LCAxLjIsIDAuMSksXG4gICAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjMsIDAuMywgMC4xKVxuICAgICAgfSlcbiAgICAgIE1lc2hSZW5kZXJlci5zZXRCb3goYnV0dG9uKVxuICAgICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoYnV0dG9uLCB7XG4gICAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMywgMC42LCAwLjgsIDEpLFxuICAgICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMywgMC42LCAwLjgsIDAuNSksXG4gICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAyXG4gICAgICB9KVxuXG4gICAgICBjb25zdCBidXR0b25UZXh0ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgICBUcmFuc2Zvcm0uY3JlYXRlKGJ1dHRvblRleHQsIHtcbiAgICAgICAgcGFyZW50OiBidXR0b24sXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwLjEpLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC41LCAwLjUsIDAuNSlcbiAgICAgIH0pXG4gICAgICBUZXh0U2hhcGUuY3JlYXRlKGJ1dHRvblRleHQsIHtcbiAgICAgICAgdGV4dDogY29udHJvbC5pY29uLFxuICAgICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICAgIGZvbnRTaXplOiAyLFxuICAgICAgICB0ZXh0QWxpZ246IDNcbiAgICAgIH0pXG5cbiAgICAgIHBvaW50ZXJFdmVudHNTeXN0ZW0ub25Qb2ludGVyRG93bihcbiAgICAgICAge1xuICAgICAgICAgIGVudGl0eTogYnV0dG9uLFxuICAgICAgICAgIG9wdHM6IHsgYnV0dG9uOiBJbnB1dEFjdGlvbi5JQV9QT0lOVEVSLCBob3ZlclRleHQ6IGNvbnRyb2wubmFtZSB9XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHRoaXMuaGFuZGxlU2Vzc2lvbkNvbnRyb2woY29udHJvbC5pZClcbiAgICAgIClcblxuICAgICAgeE9mZnNldCArPSAwLjZcbiAgICB9KVxuICB9XG5cbiAgLy8gQ3JlYXRlIHBsYXRmb3JtIGluZGljYXRvcnNcbiAgcHJpdmF0ZSBjcmVhdGVQbGF0Zm9ybUluZGljYXRvcnMoKSB7XG4gICAgY29uc3QgcGxhdGZvcm1zOiBQbGF0Zm9ybVtdID0gWyd3ZWInLCAnbW9iaWxlJywgJ2Rlc2t0b3AnLCAndnInLCAnYXInLCAnY29uc29sZSddXG4gICAgbGV0IHhPZmZzZXQgPSAtMS4yXG5cbiAgICBwbGF0Zm9ybXMuZm9yRWFjaChwbGF0Zm9ybSA9PiB7XG4gICAgICBjb25zdCBpbmRpY2F0b3IgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIFRyYW5zZm9ybS5jcmVhdGUoaW5kaWNhdG9yLCB7XG4gICAgICAgIHBhcmVudDogdGhpcy5zeW5jVUksXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSh4T2Zmc2V0LCAwLjYsIDAuMSksXG4gICAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjIsIDAuMiwgMC4xKVxuICAgICAgfSlcbiAgICAgIE1lc2hSZW5kZXJlci5zZXRCb3goaW5kaWNhdG9yKVxuICAgICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoaW5kaWNhdG9yLCB7XG4gICAgICAgIGFsYmVkb0NvbG9yOiB0aGlzLmdldFBsYXRmb3JtQ29sb3IocGxhdGZvcm0pLFxuICAgICAgICBlbWlzc2l2ZUNvbG9yOiB0aGlzLmdldFBsYXRmb3JtQ29sb3IocGxhdGZvcm0pLFxuICAgICAgICBlbWlzc2l2ZUludGVuc2l0eTogMC41XG4gICAgICB9KVxuXG4gICAgICBjb25zdCBwbGF0Zm9ybVRleHQgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIFRyYW5zZm9ybS5jcmVhdGUocGxhdGZvcm1UZXh0LCB7XG4gICAgICAgIHBhcmVudDogaW5kaWNhdG9yLFxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMC4xKSxcbiAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuNSwgMC41LCAwLjUpXG4gICAgICB9KVxuICAgICAgVGV4dFNoYXBlLmNyZWF0ZShwbGF0Zm9ybVRleHQsIHtcbiAgICAgICAgdGV4dDogdGhpcy5nZXRQbGF0Zm9ybUljb24ocGxhdGZvcm0pLFxuICAgICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICAgIGZvbnRTaXplOiAyLFxuICAgICAgICB0ZXh0QWxpZ246IDNcbiAgICAgIH0pXG5cbiAgICAgIHBvaW50ZXJFdmVudHNTeXN0ZW0ub25Qb2ludGVyRG93bihcbiAgICAgICAge1xuICAgICAgICAgIGVudGl0eTogaW5kaWNhdG9yLFxuICAgICAgICAgIG9wdHM6IHsgYnV0dG9uOiBJbnB1dEFjdGlvbi5JQV9QT0lOVEVSLCBob3ZlclRleHQ6IHBsYXRmb3JtIH1cbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4gdGhpcy5jb25uZWN0UGxhdGZvcm0ocGxhdGZvcm0pXG4gICAgICApXG5cbiAgICAgIHhPZmZzZXQgKz0gMC40XG4gICAgfSlcbiAgfVxuXG4gIC8vIENyZWF0ZSBzeW5jIHN0YXR1c1xuICBwcml2YXRlIGNyZWF0ZVN5bmNTdGF0dXMoKSB7XG4gICAgY29uc3Qgc3RhdHVzRGlzcGxheSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUoc3RhdHVzRGlzcGxheSwge1xuICAgICAgcGFyZW50OiB0aGlzLnN5bmNVSSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwLjEpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuOCwgMC4zLCAwLjEpXG4gICAgfSlcbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KHN0YXR1c0Rpc3BsYXkpXG4gICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoc3RhdHVzRGlzcGxheSwge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjEsIDAuMSwgMC44KSxcbiAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjEsIDAuMSwgMC4zKSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAxXG4gICAgfSlcblxuICAgIGNvbnN0IHN0YXR1c1RleHQgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKHN0YXR1c1RleHQsIHtcbiAgICAgIHBhcmVudDogc3RhdHVzRGlzcGxheSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwLjEpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMywgMC4zLCAwLjMpXG4gICAgfSlcbiAgICBUZXh0U2hhcGUuY3JlYXRlKHN0YXR1c1RleHQsIHtcbiAgICAgIHRleHQ6ICdcdUQ4M0RcdURDQ0EgU3RhdHVzOiBSZWFkeScsXG4gICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICBmb250U2l6ZTogMS41LFxuICAgICAgdGV4dEFsaWduOiAzXG4gICAgfSlcbiAgfVxuXG4gIC8vIENyZWF0ZSBjb25mbGljdCBkaXNwbGF5XG4gIHByaXZhdGUgY3JlYXRlQ29uZmxpY3REaXNwbGF5KCkge1xuICAgIGNvbnN0IGNvbmZsaWN0RGlzcGxheSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUoY29uZmxpY3REaXNwbGF5LCB7XG4gICAgICBwYXJlbnQ6IHRoaXMuc3luY1VJLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIC0wLjYsIDAuMSksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC44LCAwLjMsIDAuMSlcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRCb3goY29uZmxpY3REaXNwbGF5KVxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGNvbmZsaWN0RGlzcGxheSwge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjEsIDAuMSwgMC44KSxcbiAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjEsIDAuMSwgMC4zKSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAxXG4gICAgfSlcblxuICAgIGNvbnN0IGNvbmZsaWN0VGV4dCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUoY29uZmxpY3RUZXh0LCB7XG4gICAgICBwYXJlbnQ6IGNvbmZsaWN0RGlzcGxheSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwLjEpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMywgMC4zLCAwLjMpXG4gICAgfSlcbiAgICBUZXh0U2hhcGUuY3JlYXRlKGNvbmZsaWN0VGV4dCwge1xuICAgICAgdGV4dDogJ1x1MjZBMFx1RkUwRiBDb25mbGljdHM6IDAnLFxuICAgICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDEsIDEsIDEpLFxuICAgICAgZm9udFNpemU6IDEuNSxcbiAgICAgIHRleHRBbGlnbjogM1xuICAgIH0pXG4gIH1cblxuICAvLyBHZXQgcGxhdGZvcm0gY29sb3JcbiAgcHJpdmF0ZSBnZXRQbGF0Zm9ybUNvbG9yKHBsYXRmb3JtOiBQbGF0Zm9ybSk6IENvbG9yNCB7XG4gICAgc3dpdGNoIChwbGF0Zm9ybSkge1xuICAgICAgY2FzZSAnd2ViJzogcmV0dXJuIENvbG9yNC5jcmVhdGUoMC4yLCAwLjYsIDEsIDEpXG4gICAgICBjYXNlICdtb2JpbGUnOiByZXR1cm4gQ29sb3I0LmNyZWF0ZSgwLjgsIDAuNCwgMC4yLCAxKVxuICAgICAgY2FzZSAnZGVza3RvcCc6IHJldHVybiBDb2xvcjQuY3JlYXRlKDAuMiwgMC44LCAwLjQsIDEpXG4gICAgICBjYXNlICd2cic6IHJldHVybiBDb2xvcjQuY3JlYXRlKDAuOCwgMC4yLCAwLjgsIDEpXG4gICAgICBjYXNlICdhcic6IHJldHVybiBDb2xvcjQuY3JlYXRlKDAuMiwgMC44LCAwLjgsIDEpXG4gICAgICBjYXNlICdjb25zb2xlJzogcmV0dXJuIENvbG9yNC5jcmVhdGUoMC44LCAwLjgsIDAuMiwgMSlcbiAgICAgIGRlZmF1bHQ6IHJldHVybiBDb2xvcjQuY3JlYXRlKDAuNSwgMC41LCAwLjUsIDEpXG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IHBsYXRmb3JtIGljb25cbiAgcHJpdmF0ZSBnZXRQbGF0Zm9ybUljb24ocGxhdGZvcm06IFBsYXRmb3JtKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKHBsYXRmb3JtKSB7XG4gICAgICBjYXNlICd3ZWInOiByZXR1cm4gJ1x1RDgzQ1x1REYxMCdcbiAgICAgIGNhc2UgJ21vYmlsZSc6IHJldHVybiAnXHVEODNEXHVEQ0YxJ1xuICAgICAgY2FzZSAnZGVza3RvcCc6IHJldHVybiAnXHVEODNEXHVEREE1XHVGRTBGJ1xuICAgICAgY2FzZSAndnInOiByZXR1cm4gJ1x1RDgzRVx1REQ3RCdcbiAgICAgIGNhc2UgJ2FyJzogcmV0dXJuICdcdUQ4M0RcdURDRjcnXG4gICAgICBjYXNlICdjb25zb2xlJzogcmV0dXJuICdcdUQ4M0NcdURGQUUnXG4gICAgICBkZWZhdWx0OiByZXR1cm4gJ1x1Mjc1MydcbiAgICB9XG4gIH1cblxuICAvLyBTdGFydCBzeW5jIGVuZ2luZVxuICBwcml2YXRlIHN0YXJ0U3luY0VuZ2luZSgpIHtcbiAgICBlbmdpbmUuYWRkU3lzdGVtKCgpID0+IHtcbiAgICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkKSByZXR1cm5cblxuICAgICAgdGhpcy5wcm9jZXNzU3luY1F1ZXVlKClcbiAgICAgIHRoaXMuY2hlY2tDb25uZWN0aW9ucygpXG4gICAgICB0aGlzLmRldGVjdENvbmZsaWN0cygpXG4gICAgICB0aGlzLnVwZGF0ZVN5bmNTdGF0dXMoKVxuICAgIH0pXG4gIH1cblxuICAvLyBDcmVhdGUgZGVmYXVsdCBzZXNzaW9uXG4gIHByaXZhdGUgY3JlYXRlRGVmYXVsdFNlc3Npb24oKSB7XG4gICAgY29uc3Qgc2Vzc2lvbjogU3luY1Nlc3Npb24gPSB7XG4gICAgICBpZDogJ3Nlc3Npb25fZGVmYXVsdCcsXG4gICAgICBuYW1lOiAnRGVmYXVsdCBTeW5jIFNlc3Npb24nLFxuICAgICAgcGxhdGZvcm06ICd3ZWInLFxuICAgICAgc3RhdHVzOiAnYWN0aXZlJyxcbiAgICAgIHBhcnRpY2lwYW50czogW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICd1c2VyX21haW4nLFxuICAgICAgICAgIG5hbWU6ICdNYWluIFVzZXInLFxuICAgICAgICAgIHBsYXRmb3JtOiAnd2ViJyxcbiAgICAgICAgICByb2xlOiAnaG9zdCcsXG4gICAgICAgICAgcGVybWlzc2lvbnM6IHtcbiAgICAgICAgICAgIGNhblJlYWQ6IHRydWUsXG4gICAgICAgICAgICBjYW5Xcml0ZTogdHJ1ZSxcbiAgICAgICAgICAgIGNhbkRlbGV0ZTogdHJ1ZSxcbiAgICAgICAgICAgIGNhbkludml0ZTogdHJ1ZSxcbiAgICAgICAgICAgIGNhbktpY2s6IHRydWUsXG4gICAgICAgICAgICBjYW5DaGFuZ2VTZXR0aW5nczogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3RhdHVzOiAnb25saW5lJyxcbiAgICAgICAgICBsYXN0U2VlbjogRGF0ZS5ub3coKVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgbGFzdFN5bmM6IERhdGUubm93KCksXG4gICAgICBzeW5jSW50ZXJ2YWw6IDEwMCxcbiAgICAgIGRhdGFTeW5jOiB7XG4gICAgICAgIGVudGl0aWVzOiBuZXcgTWFwKCksXG4gICAgICAgIHNldHRpbmdzOiBuZXcgTWFwKCksXG4gICAgICAgIGV2ZW50czogW10sXG4gICAgICAgIGNvbmZsaWN0czogW10sXG4gICAgICAgIHZlcnNpb246IDFcbiAgICAgIH0sXG4gICAgICBjb25mbGljdFJlc29sdXRpb246IHtcbiAgICAgICAgc3RyYXRlZ3k6ICdsYXN0X3dyaXRlX3dpbnMnLFxuICAgICAgICBhdXRvUmVzb2x2ZTogdHJ1ZSxcbiAgICAgICAgdGltZW91dDogNTAwMFxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc2Vzc2lvbnMuc2V0KHNlc3Npb24uaWQsIHNlc3Npb24pXG4gICAgdGhpcy5jdXJyZW50U2Vzc2lvbiA9IHNlc3Npb25cblxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdUREMDQgRGVmYXVsdCBzeW5jIHNlc3Npb24gY3JlYXRlZCcpXG4gIH1cblxuICAvLyBIYW5kbGUgc2Vzc2lvbiBjb250cm9sXG4gIHByaXZhdGUgaGFuZGxlU2Vzc2lvbkNvbnRyb2woY29udHJvbElkOiBzdHJpbmcpIHtcbiAgICBzd2l0Y2ggKGNvbnRyb2xJZCkge1xuICAgICAgY2FzZSAnY3JlYXRlX3Nlc3Npb24nOlxuICAgICAgICB0aGlzLmNyZWF0ZVNlc3Npb24oKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnam9pbl9zZXNzaW9uJzpcbiAgICAgICAgdGhpcy5qb2luU2Vzc2lvbigpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdzeW5jX25vdyc6XG4gICAgICAgIHRoaXMuZm9yY2VTeW5jKClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2xlYXZlX3Nlc3Npb24nOlxuICAgICAgICB0aGlzLmxlYXZlU2Vzc2lvbigpXG4gICAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ2NsaWNrJylcbiAgfVxuXG4gIC8vIENyZWF0ZSBzZXNzaW9uXG4gIHB1YmxpYyBjcmVhdGVTZXNzaW9uKCkge1xuICAgIGNvbnN0IHNlc3Npb25JZCA9IGBzZXNzaW9uXyR7RGF0ZS5ub3coKX1gXG4gICAgY29uc3Qgc2Vzc2lvbjogU3luY1Nlc3Npb24gPSB7XG4gICAgICBpZDogc2Vzc2lvbklkLFxuICAgICAgbmFtZTogYFN5bmMgU2Vzc2lvbiAke3RoaXMuc2Vzc2lvbnMuc2l6ZSArIDF9YCxcbiAgICAgIHBsYXRmb3JtOiAnd2ViJyxcbiAgICAgIHN0YXR1czogJ2FjdGl2ZScsXG4gICAgICBwYXJ0aWNpcGFudHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAndXNlcl9tYWluJyxcbiAgICAgICAgICBuYW1lOiAnTWFpbiBVc2VyJyxcbiAgICAgICAgICBwbGF0Zm9ybTogJ3dlYicsXG4gICAgICAgICAgcm9sZTogJ2hvc3QnLFxuICAgICAgICAgIHBlcm1pc3Npb25zOiB7XG4gICAgICAgICAgICBjYW5SZWFkOiB0cnVlLFxuICAgICAgICAgICAgY2FuV3JpdGU6IHRydWUsXG4gICAgICAgICAgICBjYW5EZWxldGU6IHRydWUsXG4gICAgICAgICAgICBjYW5JbnZpdGU6IHRydWUsXG4gICAgICAgICAgICBjYW5LaWNrOiB0cnVlLFxuICAgICAgICAgICAgY2FuQ2hhbmdlU2V0dGluZ3M6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0YXR1czogJ29ubGluZScsXG4gICAgICAgICAgbGFzdFNlZW46IERhdGUubm93KClcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGxhc3RTeW5jOiBEYXRlLm5vdygpLFxuICAgICAgc3luY0ludGVydmFsOiAxMDAsXG4gICAgICBkYXRhU3luYzoge1xuICAgICAgICBlbnRpdGllczogbmV3IE1hcCgpLFxuICAgICAgICBzZXR0aW5nczogbmV3IE1hcCgpLFxuICAgICAgICBldmVudHM6IFtdLFxuICAgICAgICBjb25mbGljdHM6IFtdLFxuICAgICAgICB2ZXJzaW9uOiAxXG4gICAgICB9LFxuICAgICAgY29uZmxpY3RSZXNvbHV0aW9uOiB7XG4gICAgICAgIHN0cmF0ZWd5OiAnbGFzdF93cml0ZV93aW5zJyxcbiAgICAgICAgYXV0b1Jlc29sdmU6IHRydWUsXG4gICAgICAgIHRpbWVvdXQ6IDUwMDBcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnNlc3Npb25zLnNldChzZXNzaW9uSWQsIHNlc3Npb24pXG4gICAgdGhpcy5jdXJyZW50U2Vzc2lvbiA9IHNlc3Npb25cblxuICAgIGNvbnNvbGUubG9nKGBcdTI3OTUgQ3JlYXRlZCBzZXNzaW9uOiAke3Nlc3Npb24ubmFtZX1gKVxuICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdwb3dlcnVwJylcbiAgfVxuXG4gIC8vIEpvaW4gc2Vzc2lvblxuICBwdWJsaWMgam9pblNlc3Npb24oKSB7XG4gICAgY29uc29sZS5sb2coJ1x1RDgzRFx1REQxNyBKb2luaW5nIHNlc3Npb24uLi4nKVxuICAgIC8vIEluIHJlYWwgaW1wbGVtZW50YXRpb24sIHRoaXMgd291bGQgc2hvdyBzZXNzaW9uIGxpc3QgYW5kIGFsbG93IGpvaW5pbmdcbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgnY2xpY2snKVxuICB9XG5cbiAgLy8gRm9yY2Ugc3luY1xuICBwdWJsaWMgZm9yY2VTeW5jKCkge1xuICAgIGlmICghdGhpcy5jdXJyZW50U2Vzc2lvbikgcmV0dXJuXG5cbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVERDA0IEZvcmNpbmcgc3luYy4uLicpXG4gICAgdGhpcy5jdXJyZW50U2Vzc2lvbi5zdGF0dXMgPSAnc3luY2luZydcblxuICAgIC8vIFNpbXVsYXRlIHN5bmMgcHJvY2Vzc1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5jdXJyZW50U2Vzc2lvbiEuc3RhdHVzID0gJ2FjdGl2ZSdcbiAgICAgIHRoaXMuY3VycmVudFNlc3Npb24hLmxhc3RTeW5jID0gRGF0ZS5ub3coKVxuICAgICAgY29uc29sZS5sb2coJ1x1MjcwNSBTeW5jIGNvbXBsZXRlZCcpXG4gICAgfSwgMTAwMClcblxuICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdwb3dlcnVwJylcbiAgfVxuXG4gIC8vIExlYXZlIHNlc3Npb25cbiAgcHVibGljIGxlYXZlU2Vzc2lvbigpIHtcbiAgICBpZiAoIXRoaXMuY3VycmVudFNlc3Npb24pIHJldHVyblxuXG4gICAgY29uc29sZS5sb2coYFx1RDgzRFx1REVBQSBMZWF2aW5nIHNlc3Npb246ICR7dGhpcy5jdXJyZW50U2Vzc2lvbi5uYW1lfWApXG4gICAgdGhpcy5jdXJyZW50U2Vzc2lvbiA9IG51bGxcbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgnY2xpY2snKVxuICB9XG5cbiAgLy8gQ29ubmVjdCBwbGF0Zm9ybVxuICBwdWJsaWMgY29ubmVjdFBsYXRmb3JtKHBsYXRmb3JtOiBQbGF0Zm9ybSkge1xuICAgIGNvbnN0IG5ldHdvcmsgPSB0aGlzLm5ldHdvcmtzLmdldChwbGF0Zm9ybSA9PT0gJ3dlYicgPyAnd2Vic29ja2V0JyA6ICd3ZWJydGMnKVxuICAgIGlmICghbmV0d29yaykgcmV0dXJuXG5cbiAgICBuZXR3b3JrLmlzQ29ubmVjdGVkID0gdHJ1ZVxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdUREMTcgQ29ubmVjdGVkIHRvICR7cGxhdGZvcm19IHBsYXRmb3JtYClcbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgncG93ZXJ1cCcpXG4gIH1cblxuICAvLyBEaXNjb25uZWN0IHBsYXRmb3JtXG4gIHB1YmxpYyBkaXNjb25uZWN0UGxhdGZvcm0ocGxhdGZvcm06IFBsYXRmb3JtKSB7XG4gICAgY29uc3QgbmV0d29yayA9IHRoaXMubmV0d29ya3MuZ2V0KHBsYXRmb3JtID09PSAnd2ViJyA/ICd3ZWJzb2NrZXQnIDogJ3dlYnJ0YycpXG4gICAgaWYgKCFuZXR3b3JrKSByZXR1cm5cblxuICAgIG5ldHdvcmsuaXNDb25uZWN0ZWQgPSBmYWxzZVxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdUREMEMgRGlzY29ubmVjdGVkIGZyb20gJHtwbGF0Zm9ybX0gcGxhdGZvcm1gKVxuICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdjbGljaycpXG4gIH1cblxuICAvLyBQcm9jZXNzIHN5bmMgcXVldWVcbiAgcHJpdmF0ZSBwcm9jZXNzU3luY1F1ZXVlKCkge1xuICAgIGlmICh0aGlzLnN5bmNRdWV1ZS5sZW5ndGggPT09IDApIHJldHVyblxuXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKVxuICAgIGlmIChub3cgLSB0aGlzLmxhc3RTeW5jVGltZSA8IHRoaXMuc3luY0ludGVydmFsKSByZXR1cm5cblxuICAgIGNvbnN0IGV2ZW50c1RvUHJvY2VzcyA9IHRoaXMuc3luY1F1ZXVlLnNwbGljZSgwLCAxMCkgLy8gUHJvY2VzcyAxMCBldmVudHMgcGVyIGZyYW1lXG4gICAgZXZlbnRzVG9Qcm9jZXNzLmZvckVhY2goZXZlbnQgPT4ge1xuICAgICAgdGhpcy5wcm9jZXNzU3luY0V2ZW50KGV2ZW50KVxuICAgIH0pXG5cbiAgICB0aGlzLmxhc3RTeW5jVGltZSA9IG5vd1xuICB9XG5cbiAgLy8gUHJvY2VzcyBzeW5jIGV2ZW50XG4gIHByaXZhdGUgcHJvY2Vzc1N5bmNFdmVudChldmVudDogU3luY0V2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRTZXNzaW9uKSByZXR1cm5cblxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURDRTQgUHJvY2Vzc2luZyBzeW5jIGV2ZW50OiAke2V2ZW50LnR5cGV9IGZvciAke2V2ZW50LnRhcmdldH1gKVxuXG4gICAgLy8gQWRkIHRvIHNlc3Npb24gZXZlbnRzXG4gICAgdGhpcy5jdXJyZW50U2Vzc2lvbi5kYXRhU3luYy5ldmVudHMucHVzaChldmVudClcblxuICAgIC8vIEtlZXAgb25seSByZWNlbnQgZXZlbnRzXG4gICAgaWYgKHRoaXMuY3VycmVudFNlc3Npb24uZGF0YVN5bmMuZXZlbnRzLmxlbmd0aCA+IDEwMDApIHtcbiAgICAgIHRoaXMuY3VycmVudFNlc3Npb24uZGF0YVN5bmMuZXZlbnRzID0gdGhpcy5jdXJyZW50U2Vzc2lvbi5kYXRhU3luYy5ldmVudHMuc2xpY2UoLTUwMClcbiAgICB9XG5cbiAgICAvLyBBcHBseSBjaGFuZ2VzIGJhc2VkIG9uIGV2ZW50IHR5cGVcbiAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgIGNhc2UgJ2NyZWF0ZSc6XG4gICAgICAgIHRoaXMuaGFuZGxlQ3JlYXRlRXZlbnQoZXZlbnQpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICd1cGRhdGUnOlxuICAgICAgICB0aGlzLmhhbmRsZVVwZGF0ZUV2ZW50KGV2ZW50KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnZGVsZXRlJzpcbiAgICAgICAgdGhpcy5oYW5kbGVEZWxldGVFdmVudChldmVudClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ21vdmUnOlxuICAgICAgICB0aGlzLmhhbmRsZU1vdmVFdmVudChldmVudClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2ludGVyYWN0JzpcbiAgICAgICAgdGhpcy5oYW5kbGVJbnRlcmFjdEV2ZW50KGV2ZW50KVxuICAgICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIC8vIEhhbmRsZSBjcmVhdGUgZXZlbnRcbiAgcHJpdmF0ZSBoYW5kbGVDcmVhdGVFdmVudChldmVudDogU3luY0V2ZW50KSB7XG4gICAgY29uc3QgZW50aXR5OiBTeW5jRW50aXR5ID0ge1xuICAgICAgaWQ6IGV2ZW50LnRhcmdldCxcbiAgICAgIHR5cGU6ICdjdXN0b20nLFxuICAgICAgZGF0YTogZXZlbnQuZGF0YSxcbiAgICAgIHRpbWVzdGFtcDogZXZlbnQudGltZXN0YW1wLFxuICAgICAgYXV0aG9yOiBldmVudC5hdXRob3IsXG4gICAgICB2ZXJzaW9uOiAxLFxuICAgICAgY29uZmxpY3RzOiBbXVxuICAgIH1cblxuICAgIGlmICh0aGlzLmN1cnJlbnRTZXNzaW9uKSB7XG4gICAgICB0aGlzLmN1cnJlbnRTZXNzaW9uLmRhdGFTeW5jLmVudGl0aWVzLnNldChldmVudC50YXJnZXQsIGVudGl0eSlcbiAgICB9XG4gIH1cblxuICAvLyBIYW5kbGUgdXBkYXRlIGV2ZW50XG4gIHByaXZhdGUgaGFuZGxlVXBkYXRlRXZlbnQoZXZlbnQ6IFN5bmNFdmVudCkge1xuICAgIGlmICghdGhpcy5jdXJyZW50U2Vzc2lvbikgcmV0dXJuXG5cbiAgICBjb25zdCBlbnRpdHkgPSB0aGlzLmN1cnJlbnRTZXNzaW9uLmRhdGFTeW5jLmVudGl0aWVzLmdldChldmVudC50YXJnZXQpXG4gICAgaWYgKGVudGl0eSkge1xuICAgICAgLy8gQ2hlY2sgZm9yIGNvbmZsaWN0c1xuICAgICAgaWYgKGVudGl0eS5hdXRob3IgIT09IGV2ZW50LmF1dGhvciAmJiBlbnRpdHkudGltZXN0YW1wID4gZXZlbnQudGltZXN0YW1wIC0gMTAwMCkge1xuICAgICAgICB0aGlzLmNyZWF0ZUNvbmZsaWN0KGVudGl0eSwgZXZlbnQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbnRpdHkuZGF0YSA9IGV2ZW50LmRhdGFcbiAgICAgICAgZW50aXR5LnRpbWVzdGFtcCA9IGV2ZW50LnRpbWVzdGFtcFxuICAgICAgICBlbnRpdHkuYXV0aG9yID0gZXZlbnQuYXV0aG9yXG4gICAgICAgIGVudGl0eS52ZXJzaW9uKytcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBIYW5kbGUgZGVsZXRlIGV2ZW50XG4gIHByaXZhdGUgaGFuZGxlRGVsZXRlRXZlbnQoZXZlbnQ6IFN5bmNFdmVudCkge1xuICAgIGlmICh0aGlzLmN1cnJlbnRTZXNzaW9uKSB7XG4gICAgICB0aGlzLmN1cnJlbnRTZXNzaW9uLmRhdGFTeW5jLmVudGl0aWVzLmRlbGV0ZShldmVudC50YXJnZXQpXG4gICAgfVxuICB9XG5cbiAgLy8gSGFuZGxlIG1vdmUgZXZlbnRcbiAgcHJpdmF0ZSBoYW5kbGVNb3ZlRXZlbnQoZXZlbnQ6IFN5bmNFdmVudCkge1xuICAgIGlmICghdGhpcy5jdXJyZW50U2Vzc2lvbikgcmV0dXJuXG5cbiAgICBjb25zdCBlbnRpdHkgPSB0aGlzLmN1cnJlbnRTZXNzaW9uLmRhdGFTeW5jLmVudGl0aWVzLmdldChldmVudC50YXJnZXQpXG4gICAgaWYgKGVudGl0eSAmJiBlbnRpdHkudHlwZSA9PT0gJ3Bvc2l0aW9uJykge1xuICAgICAgZW50aXR5LmRhdGEgPSBldmVudC5kYXRhXG4gICAgICBlbnRpdHkudGltZXN0YW1wID0gZXZlbnQudGltZXN0YW1wXG4gICAgfVxuICB9XG5cbiAgLy8gSGFuZGxlIGludGVyYWN0IGV2ZW50XG4gIHByaXZhdGUgaGFuZGxlSW50ZXJhY3RFdmVudChldmVudDogU3luY0V2ZW50KSB7XG4gICAgY29uc29sZS5sb2dgXHVEODNDXHVERkFGIEludGVyYWN0aW9uIGV2ZW50OiAke2V2ZW50LnRhcmdldH0gYnkgJHtldmVudC5hdXRob3J9YFxuICAgIC8vIEhhbmRsZSBpbnRlcmFjdGlvbi1zcGVjaWZpYyBsb2dpY1xuICB9XG5cbiAgLy8gQ3JlYXRlIGNvbmZsaWN0XG4gIHByaXZhdGUgY3JlYXRlQ29uZmxpY3QoZW50aXR5OiBTeW5jRW50aXR5LCBldmVudDogU3luY0V2ZW50KSB7XG4gICAgY29uc3QgY29uZmxpY3Q6IFN5bmNDb25mbGljdCA9IHtcbiAgICAgIGlkOiBgY29uZmxpY3RfJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCl9YCxcbiAgICAgIHR5cGU6ICdkYXRhJyxcbiAgICAgIGVudGl0eTogZW50aXR5LmlkLFxuICAgICAgY2hhbmdlczogW1xuICAgICAgICB7XG4gICAgICAgICAgYXV0aG9yOiBlbnRpdHkuYXV0aG9yLFxuICAgICAgICAgIHBsYXRmb3JtOiB0aGlzLmN1cnJlbnRTZXNzaW9uIS5wbGF0Zm9ybSxcbiAgICAgICAgICBkYXRhOiBlbnRpdHkuZGF0YSxcbiAgICAgICAgICB0aW1lc3RhbXA6IGVudGl0eS50aW1lc3RhbXBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGF1dGhvcjogZXZlbnQuYXV0aG9yLFxuICAgICAgICAgIHBsYXRmb3JtOiBldmVudC5wbGF0Zm9ybSxcbiAgICAgICAgICBkYXRhOiBldmVudC5kYXRhLFxuICAgICAgICAgIHRpbWVzdGFtcDogZXZlbnQudGltZXN0YW1wXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICBzdGF0dXM6ICdwZW5kaW5nJ1xuICAgIH1cblxuICAgIGlmICh0aGlzLmN1cnJlbnRTZXNzaW9uKSB7XG4gICAgICB0aGlzLmN1cnJlbnRTZXNzaW9uLmRhdGFTeW5jLmNvbmZsaWN0cy5wdXNoKGNvbmZsaWN0KVxuXG4gICAgICAvLyBBdXRvLXJlc29sdmUgaWYgZW5hYmxlZFxuICAgICAgaWYgKHRoaXMuY3VycmVudFNlc3Npb24uY29uZmxpY3RSZXNvbHV0aW9uLmF1dG9SZXNvbHZlKSB7XG4gICAgICAgIHRoaXMucmVzb2x2ZUNvbmZsaWN0KGNvbmZsaWN0KVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFJlc29sdmUgY29uZmxpY3RcbiAgcHJpdmF0ZSByZXNvbHZlQ29uZmxpY3QoY29uZmxpY3Q6IFN5bmNDb25mbGljdCkge1xuICAgIGlmICghdGhpcy5jdXJyZW50U2Vzc2lvbikgcmV0dXJuXG5cbiAgICBjb25zdCByZXNvbHV0aW9uID0gdGhpcy5jb25mbGljdFJlc29sdmVyLnJlc29sdmUoY29uZmxpY3QsIHRoaXMuY3VycmVudFNlc3Npb24uY29uZmxpY3RSZXNvbHV0aW9uLnN0cmF0ZWd5KVxuXG4gICAgaWYgKHJlc29sdXRpb24pIHtcbiAgICAgIGNvbnN0IGVudGl0eSA9IHRoaXMuY3VycmVudFNlc3Npb24uZGF0YVN5bmMuZW50aXRpZXMuZ2V0KGNvbmZsaWN0LmVudGl0eSlcbiAgICAgIGlmIChlbnRpdHkpIHtcbiAgICAgICAgZW50aXR5LmRhdGEgPSByZXNvbHV0aW9uLmRhdGFcbiAgICAgICAgZW50aXR5LmF1dGhvciA9IHJlc29sdXRpb24uYXV0aG9yXG4gICAgICAgIGVudGl0eS50aW1lc3RhbXAgPSByZXNvbHV0aW9uLnRpbWVzdGFtcFxuICAgICAgICBlbnRpdHkudmVyc2lvbisrXG4gICAgICB9XG5cbiAgICAgIGNvbmZsaWN0LnN0YXR1cyA9ICdyZXNvbHZlZCdcbiAgICAgIGNvbnNvbGUubG9nKGBcdTI3MDUgUmVzb2x2ZWQgY29uZmxpY3QgJHtjb25mbGljdC5pZH1gKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25mbGljdC5zdGF0dXMgPSAnaWdub3JlZCdcbiAgICAgIGNvbnNvbGUubG9nKGBcdTI2QTBcdUZFMEYgSWdub3JlZCBjb25mbGljdCAke2NvbmZsaWN0LmlkfWApXG4gICAgfVxuICB9XG5cbiAgLy8gQ2hlY2sgY29ubmVjdGlvbnNcbiAgcHJpdmF0ZSBjaGVja0Nvbm5lY3Rpb25zKCkge1xuICAgIHRoaXMubmV0d29ya3MuZm9yRWFjaCgobmV0d29yaywgaWQpID0+IHtcbiAgICAgIC8vIFNpbXVsYXRlIGNvbm5lY3Rpb24gcXVhbGl0eSBjaGFuZ2VzXG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuMDEpIHtcbiAgICAgICAgbmV0d29yay5sYXRlbmN5ID0gMjAgKyBNYXRoLnJhbmRvbSgpICogMTAwXG4gICAgICAgIG5ldHdvcmsuYmFuZHdpZHRoID0gMTAwMCArIE1hdGgucmFuZG9tKCkgKiA0MDAwXG4gICAgICAgIG5ldHdvcmsucmVsaWFiaWxpdHkgPSAwLjkgKyBNYXRoLnJhbmRvbSgpICogMC4wOVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvLyBEZXRlY3QgY29uZmxpY3RzXG4gIHByaXZhdGUgZGV0ZWN0Q29uZmxpY3RzKCkge1xuICAgIGlmICghdGhpcy5jdXJyZW50U2Vzc2lvbikgcmV0dXJuXG5cbiAgICAvLyBDaGVjayBmb3Igc3RhbGUgY29uZmxpY3RzXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKVxuICAgIHRoaXMuY3VycmVudFNlc3Npb24uZGF0YVN5bmMuY29uZmxpY3RzID0gdGhpcy5jdXJyZW50U2Vzc2lvbi5kYXRhU3luYy5jb25mbGljdHMuZmlsdGVyKGNvbmZsaWN0ID0+IHtcbiAgICAgIHJldHVybiBub3cgLSBjb25mbGljdC50aW1lc3RhbXAgPCAzMDAwMCAvLyAzMCBzZWNvbmRzXG4gICAgfSlcbiAgfVxuXG4gIC8vIFVwZGF0ZSBzeW5jIHN0YXR1c1xuICBwcml2YXRlIHVwZGF0ZVN5bmNTdGF0dXMoKSB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRTZXNzaW9uKSByZXR1cm5cblxuICAgIGNvbnN0IHRvdGFsRW50aXRpZXMgPSB0aGlzLmN1cnJlbnRTZXNzaW9uLmRhdGFTeW5jLmVudGl0aWVzLnNpemVcbiAgICBjb25zdCBwZW5kaW5nQ29uZmxpY3RzID0gdGhpcy5jdXJyZW50U2Vzc2lvbi5kYXRhU3luYy5jb25mbGljdHMuZmlsdGVyKGMgPT4gYy5zdGF0dXMgPT09ICdwZW5kaW5nJykubGVuZ3RoXG4gICAgY29uc3QgcXVldWVTaXplID0gdGhpcy5zeW5jUXVldWUubGVuZ3RoXG5cbiAgICAvLyBVcGRhdGUgVUkgd2l0aCBzdGF0dXNcbiAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVEQ0NBIFN5bmMgU3RhdHVzOiAke3RoaXMuY3VycmVudFNlc3Npb24uc3RhdHVzfSB8IEVudGl0aWVzOiAke3RvdGFsRW50aXRpZXN9IHwgQ29uZmxpY3RzOiAke3BlbmRpbmdDb25mbGljdHN9IHwgUXVldWU6ICR7cXVldWVTaXplfWApXG4gIH1cblxuICAvLyBRdWV1ZSBzeW5jIGV2ZW50XG4gIHB1YmxpYyBxdWV1ZVN5bmNFdmVudChldmVudDogU3luY0V2ZW50KSB7XG4gICAgaWYgKHRoaXMuc3luY1F1ZXVlLmxlbmd0aCA+PSB0aGlzLm1heFF1ZXVlU2l6ZSkge1xuICAgICAgdGhpcy5zeW5jUXVldWUuc2hpZnQoKSAvLyBSZW1vdmUgb2xkZXN0IGV2ZW50XG4gICAgfVxuXG4gICAgdGhpcy5zeW5jUXVldWUucHVzaChldmVudClcbiAgfVxuXG4gIC8vIEdldCBjdXJyZW50IHNlc3Npb25cbiAgcHVibGljIGdldEN1cnJlbnRTZXNzaW9uKCk6IFN5bmNTZXNzaW9uIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudFNlc3Npb25cbiAgfVxuXG4gIC8vIEdldCBhbGwgc2Vzc2lvbnNcbiAgcHVibGljIGdldFNlc3Npb25zKCk6IFN5bmNTZXNzaW9uW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuc2Vzc2lvbnMudmFsdWVzKCkpXG4gIH1cblxuICAvLyBHZXQgbmV0d29yayBzdGF0dXNcbiAgcHVibGljIGdldE5ldHdvcmtTdGF0dXMoKTogTWFwPHN0cmluZywgU3luY05ldHdvcms+IHtcbiAgICByZXR1cm4gbmV3IE1hcCh0aGlzLm5ldHdvcmtzKVxuICB9XG5cbiAgLy8gR2V0IHN5bmMgc3RhdGlzdGljc1xuICBwdWJsaWMgZ2V0U3luY1N0YXRpc3RpY3MoKTogYW55IHtcbiAgICBpZiAoIXRoaXMuY3VycmVudFNlc3Npb24pIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4ge1xuICAgICAgc2Vzc2lvbklkOiB0aGlzLmN1cnJlbnRTZXNzaW9uLmlkLFxuICAgICAgc3RhdHVzOiB0aGlzLmN1cnJlbnRTZXNzaW9uLnN0YXR1cyxcbiAgICAgIHBhcnRpY2lwYW50czogdGhpcy5jdXJyZW50U2Vzc2lvbi5wYXJ0aWNpcGFudHMubGVuZ3RoLFxuICAgICAgZW50aXRpZXM6IHRoaXMuY3VycmVudFNlc3Npb24uZGF0YVN5bmMuZW50aXRpZXMuc2l6ZSxcbiAgICAgIGV2ZW50czogdGhpcy5jdXJyZW50U2Vzc2lvbi5kYXRhU3luYy5ldmVudHMubGVuZ3RoLFxuICAgICAgY29uZmxpY3RzOiB0aGlzLmN1cnJlbnRTZXNzaW9uLmRhdGFTeW5jLmNvbmZsaWN0cy5sZW5ndGgsXG4gICAgICBsYXN0U3luYzogdGhpcy5jdXJyZW50U2Vzc2lvbi5sYXN0U3luYyxcbiAgICAgIHF1ZXVlU2l6ZTogdGhpcy5zeW5jUXVldWUubGVuZ3RoXG4gICAgfVxuICB9XG5cbiAgLy8gU2V0IGNvbmZsaWN0IHJlc29sdXRpb24gc3RyYXRlZ3lcbiAgcHVibGljIHNldENvbmZsaWN0UmVzb2x1dGlvblN0cmF0ZWd5KHN0cmF0ZWd5OiBDb25mbGljdFJlc29sdXRpb25bJ3N0cmF0ZWd5J10pIHtcbiAgICBpZiAodGhpcy5jdXJyZW50U2Vzc2lvbikge1xuICAgICAgdGhpcy5jdXJyZW50U2Vzc2lvbi5jb25mbGljdFJlc29sdXRpb24uc3RyYXRlZ3kgPSBzdHJhdGVneVxuICAgICAgY29uc29sZS5sb2coYFx1RDgzRFx1REQyNyBDb25mbGljdCByZXNvbHV0aW9uIHN0cmF0ZWd5IHNldCB0bzogJHtzdHJhdGVneX1gKVxuICAgIH1cbiAgfVxuXG4gIC8vIEVuYWJsZS9kaXNhYmxlIGF1dG8tcmVzb2x2ZVxuICBwdWJsaWMgc2V0QXV0b1Jlc29sdmUoZW5hYmxlZDogYm9vbGVhbikge1xuICAgIGlmICh0aGlzLmN1cnJlbnRTZXNzaW9uKSB7XG4gICAgICB0aGlzLmN1cnJlbnRTZXNzaW9uLmNvbmZsaWN0UmVzb2x1dGlvbi5hdXRvUmVzb2x2ZSA9IGVuYWJsZWRcbiAgICAgIGNvbnNvbGUubG9nKGBcdUQ4M0VcdUREMTYgQXV0by1yZXNvbHZlICR7ZW5hYmxlZCA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9YClcbiAgICB9XG4gIH1cblxuICAvLyBDbGVhbnVwIHN5c3RlbVxuICBwdWJsaWMgY2xlYW51cCgpIHtcbiAgICB0aGlzLnNlc3Npb25zLmNsZWFyKClcbiAgICB0aGlzLm5ldHdvcmtzLmNsZWFyKClcbiAgICB0aGlzLnN5bmNRdWV1ZSA9IFtdXG5cbiAgICBpZiAodGhpcy5zeW5jVUkpIHtcbiAgICAgIGVuZ2luZS5yZW1vdmVFbnRpdHkodGhpcy5zeW5jVUkpXG4gICAgfVxuXG4gICAgdGhpcy5pc0luaXRpYWxpemVkID0gZmFsc2VcbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3QgY3Jvc3NQbGF0Zm9ybVN5bmNTeXN0ZW0gPSBuZXcgQ3Jvc3NQbGF0Zm9ybVN5bmNTeXN0ZW0oKVxuIiwgIi8vIEVtb3Rpb24gRGV0ZWN0aW9uIGFuZCBBZGFwdGl2ZSBSZXNwb25zZXMgZm9yIEFJR2VzdGlvbiBWaXJ0dWFsIE9mZmljZVxuaW1wb3J0IHsgZW5naW5lLCBJbnB1dEFjdGlvbiwgTWF0ZXJpYWwsIE1lc2hSZW5kZXJlciwgcG9pbnRlckV2ZW50c1N5c3RlbSwgVHJhbnNmb3JtIH0gZnJvbSAnQGRjbC9zZGsvZWNzJ1xuaW1wb3J0IHsgQ29sb3IzLCBDb2xvcjQsIFZlY3RvcjMgfSBmcm9tICdAZGNsL3Nkay9tYXRoJ1xuaW1wb3J0IHsgc291bmRTeXN0ZW0gfSBmcm9tICcuL2VuaGFuY2VkLXNvdW5kJ1xuXG5pbnRlcmZhY2UgRW1vdGlvbkRhdGEge1xuICBpZDogc3RyaW5nXG4gIHVzZXJJZDogc3RyaW5nXG4gIHRpbWVzdGFtcDogbnVtYmVyXG4gIHByaW1hcnlFbW90aW9uOiBFbW90aW9uVHlwZVxuICBzZWNvbmRhcnlFbW90aW9uPzogRW1vdGlvblR5cGVcbiAgY29uZmlkZW5jZTogbnVtYmVyXG4gIGludGVuc2l0eTogbnVtYmVyXG4gIHRyaWdnZXJzOiBzdHJpbmdbXVxuICBjb250ZXh0OiBFbW90aW9uQ29udGV4dFxuICBwaHlzaW9sb2dpY2FsOiBQaHlzaW9sb2dpY2FsRGF0YVxufVxuXG50eXBlIEVtb3Rpb25UeXBlID0gJ2pveScgfCAnc2FkbmVzcycgfCAnYW5nZXInIHwgJ2ZlYXInIHwgJ3N1cnByaXNlJyB8ICdkaXNndXN0JyB8ICduZXV0cmFsJyB8ICdleGNpdGVtZW50JyB8ICdjYWxtJyB8ICdzdHJlc3MnIHwgJ2ZvY3VzJyB8ICdjb25mdXNpb24nXG5cbmludGVyZmFjZSBFbW90aW9uQ29udGV4dCB7XG4gIGFjdGl2aXR5OiBzdHJpbmdcbiAgbG9jYXRpb246IHN0cmluZ1xuICBwYXJ0aWNpcGFudHM6IHN0cmluZ1tdXG4gIGVudmlyb25tZW50OiBzdHJpbmdcbiAgdGltZU9mRGF5OiBzdHJpbmdcbn1cblxuaW50ZXJmYWNlIFBoeXNpb2xvZ2ljYWxEYXRhIHtcbiAgaGVhcnRSYXRlOiBudW1iZXJcbiAgdm9pY2VUb25lOiBudW1iZXJcbiAgZmFjaWFsRXhwcmVzc2lvbjogbnVtYmVyXG4gIGJvZHlMYW5ndWFnZTogbnVtYmVyXG4gIHJlc3BvbnNlVGltZTogbnVtYmVyXG59XG5cbmludGVyZmFjZSBBZGFwdGl2ZVJlc3BvbnNlIHtcbiAgaWQ6IHN0cmluZ1xuICBlbW90aW9uVHJpZ2dlcjogRW1vdGlvblR5cGVcbiAgcmVzcG9uc2VUeXBlOiAnZW52aXJvbm1lbnRhbCcgfCAnYXVkaW8nIHwgJ3Zpc3VhbCcgfCAnaW50ZXJhY3Rpb24nIHwgJ3N5c3RlbSdcbiAgYWN0aW9uOiBBZGFwdGl2ZUFjdGlvblxuICBwcmlvcml0eTogbnVtYmVyXG4gIGNvbmRpdGlvbnM6IFJlc3BvbnNlQ29uZGl0aW9uW11cbn1cblxuaW50ZXJmYWNlIEFkYXB0aXZlQWN0aW9uIHtcbiAgdHlwZTogc3RyaW5nXG4gIHBhcmFtZXRlcnM6IE1hcDxzdHJpbmcsIGFueT5cbiAgZHVyYXRpb246IG51bWJlclxuICBpbnRlbnNpdHk6IG51bWJlclxufVxuXG5pbnRlcmZhY2UgUmVzcG9uc2VDb25kaXRpb24ge1xuICBwYXJhbWV0ZXI6IHN0cmluZ1xuICBvcGVyYXRvcjogJ2dyZWF0ZXInIHwgJ2xlc3MnIHwgJ2VxdWFscycgfCAnYmV0d2VlbidcbiAgdmFsdWU6IGFueVxufVxuXG5pbnRlcmZhY2UgRW1vdGlvblByb2ZpbGUge1xuICB1c2VySWQ6IHN0cmluZ1xuICBiYXNlbGluZUVtb3Rpb25zOiBNYXA8RW1vdGlvblR5cGUsIG51bWJlcj5cbiAgcGVyc29uYWxpdHlUcmFpdHM6IFBlcnNvbmFsaXR5VHJhaXRbXVxuICBwcmVmZXJlbmNlczogRW1vdGlvblByZWZlcmVuY2VzXG4gIGhpc3Rvcnk6IEVtb3Rpb25EYXRhW11cbiAgYWRhcHRhdGlvbkxldmVsOiBudW1iZXJcbn1cblxuaW50ZXJmYWNlIFBlcnNvbmFsaXR5VHJhaXQge1xuICB0cmFpdDogJ29wZW5uZXNzJyB8ICdjb25zY2llbnRpb3VzbmVzcycgfCAnZXh0cmF2ZXJzaW9uJyB8ICdhZ3JlZWFibGVuZXNzJyB8ICduZXVyb3RpY2lzbSdcbiAgdmFsdWU6IG51bWJlclxufVxuXG5pbnRlcmZhY2UgRW1vdGlvblByZWZlcmVuY2VzIHtcbiAgbGlnaHRpbmdQcmVmZXJlbmNlOiAnd2FybScgfCAnY29vbCcgfCAnbmV1dHJhbCcgfCAnYWRhcHRpdmUnXG4gIG11c2ljUHJlZmVyZW5jZTogc3RyaW5nW11cbiAgY29sb3JQcmVmZXJlbmNlOiBDb2xvcjNbXVxuICBpbnRlcmFjdGlvblN0eWxlOiAnZGlyZWN0JyB8ICdzdWJ0bGUnIHwgJ21pbmltYWwnXG4gIHByaXZhY3lMZXZlbDogJ2hpZ2gnIHwgJ21lZGl1bScgfCAnbG93J1xufVxuXG5leHBvcnQgY2xhc3MgRW1vdGlvbkRldGVjdGlvblN5c3RlbSB7XG4gIHByaXZhdGUgZW1vdGlvblByb2ZpbGVzOiBNYXA8c3RyaW5nLCBFbW90aW9uUHJvZmlsZT4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBjdXJyZW50RW1vdGlvbnM6IE1hcDxzdHJpbmcsIEVtb3Rpb25EYXRhPiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIGFkYXB0aXZlUmVzcG9uc2VzOiBNYXA8c3RyaW5nLCBBZGFwdGl2ZVJlc3BvbnNlPiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIGVtb3Rpb25VSTogYW55XG4gIHByaXZhdGUgaXNJbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlXG4gIHByaXZhdGUgZGV0ZWN0aW9uU2Vuc2l0aXZpdHk6IG51bWJlciA9IDAuN1xuICBwcml2YXRlIGFkYXB0YXRpb25UaHJlc2hvbGQ6IG51bWJlciA9IDAuOFxuICBwcml2YXRlIGVtb3Rpb25IaXN0b3J5OiBFbW90aW9uRGF0YVtdID0gW11cbiAgcHJpdmF0ZSBtYXhIaXN0b3J5TGVuZ3RoOiBudW1iZXIgPSAxMDBcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNldHVwQWRhcHRpdmVSZXNwb25zZXMoKVxuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSBlbW90aW9uIGRldGVjdGlvbiBzeXN0ZW1cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVERTBBIEVtb3Rpb24gRGV0ZWN0aW9uIFN5c3RlbSBJbml0aWFsaXppbmcuLi4nKVxuXG4gICAgdGhpcy5jcmVhdGVFbW90aW9uVUkoKVxuICAgIHRoaXMuY3JlYXRlRGVmYXVsdFByb2ZpbGVzKClcbiAgICB0aGlzLnN0YXJ0RW1vdGlvbkVuZ2luZSgpXG4gICAgdGhpcy5pbml0aWFsaXplU2Vuc29ycygpXG5cbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlXG4gICAgY29uc29sZS5sb2coJ1x1RDgzRFx1REUwQSBFbW90aW9uIERldGVjdGlvbiBTeXN0ZW0gUmVhZHkhJylcbiAgfVxuXG4gIC8vIFNldHVwIGFkYXB0aXZlIHJlc3BvbnNlc1xuICBwcml2YXRlIHNldHVwQWRhcHRpdmVSZXNwb25zZXMoKSB7XG4gICAgLy8gSm95IHJlc3BvbnNlc1xuICAgIHRoaXMuYWRhcHRpdmVSZXNwb25zZXMuc2V0KCdqb3lfYnJpZ2h0Jywge1xuICAgICAgaWQ6ICdqb3lfYnJpZ2h0JyxcbiAgICAgIGVtb3Rpb25UcmlnZ2VyOiAnam95JyxcbiAgICAgIHJlc3BvbnNlVHlwZTogJ2Vudmlyb25tZW50YWwnLFxuICAgICAgYWN0aW9uOiB7XG4gICAgICAgIHR5cGU6ICdhZGp1c3RfbGlnaHRpbmcnLFxuICAgICAgICBwYXJhbWV0ZXJzOiBuZXcgTWFwKFtcbiAgICAgICAgICBbJ2JyaWdodG5lc3MnLCAxLjJdLFxuICAgICAgICAgIFsnY29sb3InLCAnd2FybSddLFxuICAgICAgICAgIFsnZHVyYXRpb24nLCA1MDAwXVxuICAgICAgICBdKSxcbiAgICAgICAgZHVyYXRpb246IDUwMDAsXG4gICAgICAgIGludGVuc2l0eTogMC44XG4gICAgICB9LFxuICAgICAgcHJpb3JpdHk6IDEsXG4gICAgICBjb25kaXRpb25zOiBbXG4gICAgICAgIHsgcGFyYW1ldGVyOiAnaW50ZW5zaXR5Jywgb3BlcmF0b3I6ICdncmVhdGVyJywgdmFsdWU6IDAuNiB9XG4gICAgICBdXG4gICAgfSlcblxuICAgIHRoaXMuYWRhcHRpdmVSZXNwb25zZXMuc2V0KCdqb3lfbXVzaWMnLCB7XG4gICAgICBpZDogJ2pveV9tdXNpYycsXG4gICAgICBlbW90aW9uVHJpZ2dlcjogJ2pveScsXG4gICAgICByZXNwb25zZVR5cGU6ICdhdWRpbycsXG4gICAgICBhY3Rpb246IHtcbiAgICAgICAgdHlwZTogJ3BsYXlfbXVzaWMnLFxuICAgICAgICBwYXJhbWV0ZXJzOiBuZXcgTWFwKFtcbiAgICAgICAgICBbJ2dlbnJlJywgJ3VwYmVhdCddLFxuICAgICAgICAgIFsndm9sdW1lJywgMC42XSxcbiAgICAgICAgICBbJ2R1cmF0aW9uJywgMzAwMF1cbiAgICAgICAgXSksXG4gICAgICAgIGR1cmF0aW9uOiAzMDAwLFxuICAgICAgICBpbnRlbnNpdHk6IDAuN1xuICAgICAgfSxcbiAgICAgIHByaW9yaXR5OiAyLFxuICAgICAgY29uZGl0aW9uczogW11cbiAgICB9KVxuXG4gICAgLy8gU3RyZXNzIHJlc3BvbnNlc1xuICAgIHRoaXMuYWRhcHRpdmVSZXNwb25zZXMuc2V0KCdzdHJlc3NfY2FsbScsIHtcbiAgICAgIGlkOiAnc3RyZXNzX2NhbG0nLFxuICAgICAgZW1vdGlvblRyaWdnZXI6ICdzdHJlc3MnLFxuICAgICAgcmVzcG9uc2VUeXBlOiAnZW52aXJvbm1lbnRhbCcsXG4gICAgICBhY3Rpb246IHtcbiAgICAgICAgdHlwZTogJ2FkanVzdF9saWdodGluZycsXG4gICAgICAgIHBhcmFtZXRlcnM6IG5ldyBNYXAoW1xuICAgICAgICAgIFsnYnJpZ2h0bmVzcycsIDAuN10sXG4gICAgICAgICAgWydjb2xvcicsICdjb29sJ10sXG4gICAgICAgICAgWydkdXJhdGlvbicsIDEwMDAwXVxuICAgICAgICBdKSxcbiAgICAgICAgZHVyYXRpb246IDEwMDAwLFxuICAgICAgICBpbnRlbnNpdHk6IDAuOVxuICAgICAgfSxcbiAgICAgIHByaW9yaXR5OiAxLFxuICAgICAgY29uZGl0aW9uczogW1xuICAgICAgICB7IHBhcmFtZXRlcjogJ2ludGVuc2l0eScsIG9wZXJhdG9yOiAnZ3JlYXRlcicsIHZhbHVlOiAwLjUgfVxuICAgICAgXVxuICAgIH0pXG5cbiAgICB0aGlzLmFkYXB0aXZlUmVzcG9uc2VzLnNldCgnc3RyZXNzX2JyZWF0aGluZycsIHtcbiAgICAgIGlkOiAnc3RyZXNzX2JyZWF0aGluZycsXG4gICAgICBlbW90aW9uVHJpZ2dlcjogJ3N0cmVzcycsXG4gICAgICByZXNwb25zZVR5cGU6ICd2aXN1YWwnLFxuICAgICAgYWN0aW9uOiB7XG4gICAgICAgIHR5cGU6ICdicmVhdGhpbmdfZ3VpZGUnLFxuICAgICAgICBwYXJhbWV0ZXJzOiBuZXcgTWFwKFtcbiAgICAgICAgICBbJ3JhdGUnLCAwLjJdLFxuICAgICAgICAgIFsnZHVyYXRpb24nLCA1MDAwXVxuICAgICAgICBdKSxcbiAgICAgICAgZHVyYXRpb246IDUwMDAsXG4gICAgICAgIGludGVuc2l0eTogMC44XG4gICAgICB9LFxuICAgICAgcHJpb3JpdHk6IDIsXG4gICAgICBjb25kaXRpb25zOiBbXVxuICAgIH0pXG5cbiAgICAvLyBGb2N1cyByZXNwb25zZXNcbiAgICB0aGlzLmFkYXB0aXZlUmVzcG9uc2VzLnNldCgnZm9jdXNfbWluaW1pemUnLCB7XG4gICAgICBpZDogJ2ZvY3VzX21pbmltaXplJyxcbiAgICAgIGVtb3Rpb25UcmlnZ2VyOiAnZm9jdXMnLFxuICAgICAgcmVzcG9uc2VUeXBlOiAnZW52aXJvbm1lbnRhbCcsXG4gICAgICBhY3Rpb246IHtcbiAgICAgICAgdHlwZTogJ21pbmltaXplX2Rpc3RyYWN0aW9ucycsXG4gICAgICAgIHBhcmFtZXRlcnM6IG5ldyBNYXAoW1xuICAgICAgICAgIFsndWlfb3BhY2l0eScsIDAuM10sXG4gICAgICAgICAgWydub3RpZmljYXRpb25zJywgZmFsc2VdLFxuICAgICAgICAgIFsnZHVyYXRpb24nLCAxNTAwMF1cbiAgICAgICAgXSksXG4gICAgICAgIGR1cmF0aW9uOiAxNTAwMCxcbiAgICAgICAgaW50ZW5zaXR5OiAwLjlcbiAgICAgIH0sXG4gICAgICBwcmlvcml0eTogMSxcbiAgICAgIGNvbmRpdGlvbnM6IFtcbiAgICAgICAgeyBwYXJhbWV0ZXI6ICdpbnRlbnNpdHknLCBvcGVyYXRvcjogJ2dyZWF0ZXInLCB2YWx1ZTogMC43IH1cbiAgICAgIF1cbiAgICB9KVxuXG4gICAgLy8gU2FkbmVzcyByZXNwb25zZXNcbiAgICB0aGlzLmFkYXB0aXZlUmVzcG9uc2VzLnNldCgnc2FkbmVzc19jb21mb3J0Jywge1xuICAgICAgaWQ6ICdzYWRuZXNzX2NvbWZvcnQnLFxuICAgICAgZW1vdGlvblRyaWdnZXI6ICdzYWRuZXNzJyxcbiAgICAgIHJlc3BvbnNlVHlwZTogJ2F1ZGlvJyxcbiAgICAgIGFjdGlvbjoge1xuICAgICAgICB0eXBlOiAncGxheV9tdXNpYycsXG4gICAgICAgIHBhcmFtZXRlcnM6IG5ldyBNYXAoW1xuICAgICAgICAgIFsnZ2VucmUnLCAnY29tZm9ydGluZyddLFxuICAgICAgICAgIFsndm9sdW1lJywgMC40XSxcbiAgICAgICAgICBbJ2R1cmF0aW9uJywgODAwMF1cbiAgICAgICAgXSksXG4gICAgICAgIGR1cmF0aW9uOiA4MDAwLFxuICAgICAgICBpbnRlbnNpdHk6IDAuNlxuICAgICAgfSxcbiAgICAgIHByaW9yaXR5OiAxLFxuICAgICAgY29uZGl0aW9uczogW11cbiAgICB9KVxuXG4gICAgLy8gQW5nZXIgcmVzcG9uc2VzXG4gICAgdGhpcy5hZGFwdGl2ZVJlc3BvbnNlcy5zZXQoJ2FuZ2VyX2Nvb2wnLCB7XG4gICAgICBpZDogJ2FuZ2VyX2Nvb2wnLFxuICAgICAgZW1vdGlvblRyaWdnZXI6ICdhbmdlcicsXG4gICAgICByZXNwb25zZVR5cGU6ICdlbnZpcm9ubWVudGFsJyxcbiAgICAgIGFjdGlvbjoge1xuICAgICAgICB0eXBlOiAnYWRqdXN0X3RlbXBlcmF0dXJlJyxcbiAgICAgICAgcGFyYW1ldGVyczogbmV3IE1hcChbXG4gICAgICAgICAgWyd0ZW1wZXJhdHVyZScsIDIwXSxcbiAgICAgICAgICBbJ2R1cmF0aW9uJywgMTAwMDBdXG4gICAgICAgIF0pLFxuICAgICAgICBkdXJhdGlvbjogMTAwMDAsXG4gICAgICAgIGludGVuc2l0eTogMC44XG4gICAgICB9LFxuICAgICAgcHJpb3JpdHk6IDEsXG4gICAgICBjb25kaXRpb25zOiBbXG4gICAgICAgIHsgcGFyYW1ldGVyOiAnaW50ZW5zaXR5Jywgb3BlcmF0b3I6ICdncmVhdGVyJywgdmFsdWU6IDAuNiB9XG4gICAgICBdXG4gICAgfSlcblxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0NcdURGQUQgQWRhcHRpdmUgcmVzcG9uc2VzIGNvbmZpZ3VyZWQnKVxuICB9XG5cbiAgLy8gQ3JlYXRlIGVtb3Rpb24gVUlcbiAgcHJpdmF0ZSBjcmVhdGVFbW90aW9uVUkoKSB7XG4gICAgdGhpcy5lbW90aW9uVUkgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKHRoaXMuZW1vdGlvblVJLCB7XG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoOCwgNCwgMTQpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDMsIDMsIDAuMSlcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRCb3godGhpcy5lbW90aW9uVUkpXG4gICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwodGhpcy5lbW90aW9uVUksIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMSwgMC4yLCAwLjQsIDAuOSksXG4gICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMiwgMC40LCAwLjgsIDAuNSksXG4gICAgICBlbWlzc2l2ZUludGVuc2l0eTogMlxuICAgIH0pXG5cbiAgICBjb25zdCB0aXRsZSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUodGl0bGUsIHtcbiAgICAgIHBhcmVudDogdGhpcy5lbW90aW9uVUksXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMS4yLCAwLjEpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMywgMC4zLCAwLjMpXG4gICAgfSlcbiAgICBUZXh0U2hhcGUuY3JlYXRlKHRpdGxlLCB7XG4gICAgICB0ZXh0OiAnXHVEODNEXHVERTBBIEVNT1RJT04gREVURUNUSU9OJyxcbiAgICAgIHRleHRDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAxLCAxLCAxKSxcbiAgICAgIGZvbnRTaXplOiAyLFxuICAgICAgdGV4dEFsaWduOiAzXG4gICAgfSlcblxuICAgIC8vIENyZWF0ZSBlbW90aW9uIGluZGljYXRvcnNcbiAgICB0aGlzLmNyZWF0ZUVtb3Rpb25JbmRpY2F0b3JzKClcblxuICAgIC8vIENyZWF0ZSByZXNwb25zZSBjb250cm9sc1xuICAgIHRoaXMuY3JlYXRlUmVzcG9uc2VDb250cm9scygpXG5cbiAgICAvLyBDcmVhdGUgcHJvZmlsZSBkaXNwbGF5XG4gICAgdGhpcy5jcmVhdGVQcm9maWxlRGlzcGxheSgpXG4gIH1cblxuICAvLyBDcmVhdGUgZW1vdGlvbiBpbmRpY2F0b3JzXG4gIHByaXZhdGUgY3JlYXRlRW1vdGlvbkluZGljYXRvcnMoKSB7XG4gICAgY29uc3QgZW1vdGlvbnM6IEVtb3Rpb25UeXBlW10gPSBbJ2pveScsICdzdHJlc3MnLCAnZm9jdXMnLCAnc2FkbmVzcycsICdhbmdlcicsICdjYWxtJ11cbiAgICBsZXQgeE9mZnNldCA9IC0xLjJcblxuICAgIGVtb3Rpb25zLmZvckVhY2goZW1vdGlvbiA9PiB7XG4gICAgICBjb25zdCBpbmRpY2F0b3IgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIFRyYW5zZm9ybS5jcmVhdGUoaW5kaWNhdG9yLCB7XG4gICAgICAgIHBhcmVudDogdGhpcy5lbW90aW9uVUksXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSh4T2Zmc2V0LCAwLjYsIDAuMSksXG4gICAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjIsIDAuMiwgMC4xKVxuICAgICAgfSlcbiAgICAgIE1lc2hSZW5kZXJlci5zZXRCb3goaW5kaWNhdG9yKVxuICAgICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoaW5kaWNhdG9yLCB7XG4gICAgICAgIGFsYmVkb0NvbG9yOiB0aGlzLmdldEVtb3Rpb25Db2xvcihlbW90aW9uKSxcbiAgICAgICAgZW1pc3NpdmVDb2xvcjogdGhpcy5nZXRFbW90aW9uQ29sb3IoZW1vdGlvbiksXG4gICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAwLjVcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IGVtb3Rpb25UZXh0ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgICBUcmFuc2Zvcm0uY3JlYXRlKGVtb3Rpb25UZXh0LCB7XG4gICAgICAgIHBhcmVudDogaW5kaWNhdG9yLFxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMC4xKSxcbiAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuNSwgMC41LCAwLjUpXG4gICAgICB9KVxuICAgICAgVGV4dFNoYXBlLmNyZWF0ZShlbW90aW9uVGV4dCwge1xuICAgICAgICB0ZXh0OiB0aGlzLmdldEVtb3Rpb25JY29uKGVtb3Rpb24pLFxuICAgICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICAgIGZvbnRTaXplOiAyLFxuICAgICAgICB0ZXh0QWxpZ246IDNcbiAgICAgIH0pXG5cbiAgICAgIHBvaW50ZXJFdmVudHNTeXN0ZW0ub25Qb2ludGVyRG93bihcbiAgICAgICAge1xuICAgICAgICAgIGVudGl0eTogaW5kaWNhdG9yLFxuICAgICAgICAgIG9wdHM6IHsgYnV0dG9uOiBJbnB1dEFjdGlvbi5JQV9QT0lOVEVSLCBob3ZlclRleHQ6IGBTaW11bGF0ZSAke2Vtb3Rpb259YCB9XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHRoaXMuc2ltdWxhdGVFbW90aW9uKGVtb3Rpb24pXG4gICAgICApXG5cbiAgICAgIHhPZmZzZXQgKz0gMC40XG4gICAgfSlcbiAgfVxuXG4gIC8vIENyZWF0ZSByZXNwb25zZSBjb250cm9sc1xuICBwcml2YXRlIGNyZWF0ZVJlc3BvbnNlQ29udHJvbHMoKSB7XG4gICAgY29uc3QgY29udHJvbHMgPSBbXG4gICAgICB7IGlkOiAnZW5hYmxlX2FkYXB0YXRpb24nLCBpY29uOiAnXHVEODNEXHVERDA0JywgbmFtZTogJ0VuYWJsZSBBZGFwdGF0aW9uJyB9LFxuICAgICAgeyBpZDogJ2Rpc2FibGVfYWRhcHRhdGlvbicsIGljb246ICdcdTIzRjhcdUZFMEYnLCBuYW1lOiAnRGlzYWJsZSBBZGFwdGF0aW9uJyB9LFxuICAgICAgeyBpZDogJ2NhbGlicmF0ZScsIGljb246ICdcdTI2OTlcdUZFMEYnLCBuYW1lOiAnQ2FsaWJyYXRlJyB9XG4gICAgXVxuXG4gICAgbGV0IHhPZmZzZXQgPSAtMC44XG5cbiAgICBjb250cm9scy5mb3JFYWNoKGNvbnRyb2wgPT4ge1xuICAgICAgY29uc3QgYnV0dG9uID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgICBUcmFuc2Zvcm0uY3JlYXRlKGJ1dHRvbiwge1xuICAgICAgICBwYXJlbnQ6IHRoaXMuZW1vdGlvblVJLFxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoeE9mZnNldCwgMC4yLCAwLjEpLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4zLCAwLjMsIDAuMSlcbiAgICAgIH0pXG4gICAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGJ1dHRvbilcbiAgICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGJ1dHRvbiwge1xuICAgICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjMsIDAuNiwgMC44LCAxKSxcbiAgICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjMsIDAuNiwgMC44LCAwLjUpLFxuICAgICAgICBlbWlzc2l2ZUludGVuc2l0eTogMlxuICAgICAgfSlcblxuICAgICAgY29uc3QgYnV0dG9uVGV4dCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgVHJhbnNmb3JtLmNyZWF0ZShidXR0b25UZXh0LCB7XG4gICAgICAgIHBhcmVudDogYnV0dG9uLFxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMC4xKSxcbiAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuNSwgMC41LCAwLjUpXG4gICAgICB9KVxuICAgICAgVGV4dFNoYXBlLmNyZWF0ZShidXR0b25UZXh0LCB7XG4gICAgICAgIHRleHQ6IGNvbnRyb2wuaWNvbixcbiAgICAgICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDEsIDEsIDEpLFxuICAgICAgICBmb250U2l6ZTogMixcbiAgICAgICAgdGV4dEFsaWduOiAzXG4gICAgICB9KVxuXG4gICAgICBwb2ludGVyRXZlbnRzU3lzdGVtLm9uUG9pbnRlckRvd24oXG4gICAgICAgIHtcbiAgICAgICAgICBlbnRpdHk6IGJ1dHRvbixcbiAgICAgICAgICBvcHRzOiB7IGJ1dHRvbjogSW5wdXRBY3Rpb24uSUFfUE9JTlRFUiwgaG92ZXJUZXh0OiBjb250cm9sLm5hbWUgfVxuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB0aGlzLmhhbmRsZVJlc3BvbnNlQ29udHJvbChjb250cm9sLmlkKVxuICAgICAgKVxuXG4gICAgICB4T2Zmc2V0ICs9IDAuOFxuICAgIH0pXG4gIH1cblxuICAvLyBDcmVhdGUgcHJvZmlsZSBkaXNwbGF5XG4gIHByaXZhdGUgY3JlYXRlUHJvZmlsZURpc3BsYXkoKSB7XG4gICAgY29uc3QgcHJvZmlsZURpc3BsYXkgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKHByb2ZpbGVEaXNwbGF5LCB7XG4gICAgICBwYXJlbnQ6IHRoaXMuZW1vdGlvblVJLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIC0wLjQsIDAuMSksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC44LCAwLjMsIDAuMSlcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRCb3gocHJvZmlsZURpc3BsYXkpXG4gICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwocHJvZmlsZURpc3BsYXksIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMSwgMC4xLCAwLjEsIDAuOCksXG4gICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMSwgMC4xLCAwLjEsIDAuMyksXG4gICAgICBlbWlzc2l2ZUludGVuc2l0eTogMVxuICAgIH0pXG5cbiAgICBjb25zdCBwcm9maWxlVGV4dCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUocHJvZmlsZVRleHQsIHtcbiAgICAgIHBhcmVudDogcHJvZmlsZURpc3BsYXksXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjMsIDAuMywgMC4zKVxuICAgIH0pXG4gICAgVGV4dFNoYXBlLmNyZWF0ZShwcm9maWxlVGV4dCwge1xuICAgICAgdGV4dDogJ1x1RDgzRFx1REM2NCBQcm9maWxlOiBBY3RpdmUnLFxuICAgICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDEsIDEsIDEpLFxuICAgICAgZm9udFNpemU6IDEuNSxcbiAgICAgIHRleHRBbGlnbjogM1xuICAgIH0pXG4gIH1cblxuICAvLyBHZXQgZW1vdGlvbiBjb2xvclxuICBwcml2YXRlIGdldEVtb3Rpb25Db2xvcihlbW90aW9uOiBFbW90aW9uVHlwZSk6IENvbG9yNCB7XG4gICAgc3dpdGNoIChlbW90aW9uKSB7XG4gICAgICBjYXNlICdqb3knOiByZXR1cm4gQ29sb3I0LmNyZWF0ZSgxLCAwLjgsIDAuMiwgMSlcbiAgICAgIGNhc2UgJ3N0cmVzcyc6IHJldHVybiBDb2xvcjQuY3JlYXRlKDAuOCwgMC4yLCAwLjIsIDEpXG4gICAgICBjYXNlICdmb2N1cyc6IHJldHVybiBDb2xvcjQuY3JlYXRlKDAuMiwgMC44LCAwLjgsIDEpXG4gICAgICBjYXNlICdzYWRuZXNzJzogcmV0dXJuIENvbG9yNC5jcmVhdGUoMC4yLCAwLjQsIDAuOCwgMSlcbiAgICAgIGNhc2UgJ2FuZ2VyJzogcmV0dXJuIENvbG9yNC5jcmVhdGUoMC44LCAwLjIsIDAuMiwgMSlcbiAgICAgIGNhc2UgJ2NhbG0nOiByZXR1cm4gQ29sb3I0LmNyZWF0ZSgwLjIsIDAuOCwgMC40LCAxKVxuICAgICAgZGVmYXVsdDogcmV0dXJuIENvbG9yNC5jcmVhdGUoMC41LCAwLjUsIDAuNSwgMSlcbiAgICB9XG4gIH1cblxuICAvLyBHZXQgZW1vdGlvbiBpY29uXG4gIHByaXZhdGUgZ2V0RW1vdGlvbkljb24oZW1vdGlvbjogRW1vdGlvblR5cGUpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAoZW1vdGlvbikge1xuICAgICAgY2FzZSAnam95JzogcmV0dXJuICdcdUQ4M0RcdURFMEEnXG4gICAgICBjYXNlICdzdHJlc3MnOiByZXR1cm4gJ1x1RDgzRFx1REUzMCdcbiAgICAgIGNhc2UgJ2ZvY3VzJzogcmV0dXJuICdcdUQ4M0NcdURGQUYnXG4gICAgICBjYXNlICdzYWRuZXNzJzogcmV0dXJuICdcdUQ4M0RcdURFMjInXG4gICAgICBjYXNlICdhbmdlcic6IHJldHVybiAnXHVEODNEXHVERTIwJ1xuICAgICAgY2FzZSAnY2FsbSc6IHJldHVybiAnXHVEODNEXHVERTBDJ1xuICAgICAgZGVmYXVsdDogcmV0dXJuICdcdUQ4M0RcdURFMTAnXG4gICAgfVxuICB9XG5cbiAgLy8gQ3JlYXRlIGRlZmF1bHQgcHJvZmlsZXNcbiAgcHJpdmF0ZSBjcmVhdGVEZWZhdWx0UHJvZmlsZXMoKSB7XG4gICAgY29uc3QgZGVmYXVsdFByb2ZpbGU6IEVtb3Rpb25Qcm9maWxlID0ge1xuICAgICAgdXNlcklkOiAndXNlcl9kZWZhdWx0JyxcbiAgICAgIGJhc2VsaW5lRW1vdGlvbnM6IG5ldyBNYXAoW1xuICAgICAgICBbJ2pveScsIDAuM10sXG4gICAgICAgIFsnc3RyZXNzJywgMC4yXSxcbiAgICAgICAgWydmb2N1cycsIDAuNF0sXG4gICAgICAgIFsnc2FkbmVzcycsIDAuMV0sXG4gICAgICAgIFsnYW5nZXInLCAwLjFdLFxuICAgICAgICBbJ2NhbG0nLCAwLjVdLFxuICAgICAgICBbJ25ldXRyYWwnLCAwLjZdXG4gICAgICBdKSxcbiAgICAgIHBlcnNvbmFsaXR5VHJhaXRzOiBbXG4gICAgICAgIHsgdHJhaXQ6ICdvcGVubmVzcycsIHZhbHVlOiAwLjcgfSxcbiAgICAgICAgeyB0cmFpdDogJ2NvbnNjaWVudGlvdXNuZXNzJywgdmFsdWU6IDAuOCB9LFxuICAgICAgICB7IHRyYWl0OiAnZXh0cmF2ZXJzaW9uJywgdmFsdWU6IDAuNiB9LFxuICAgICAgICB7IHRyYWl0OiAnYWdyZWVhYmxlbmVzcycsIHZhbHVlOiAwLjcgfSxcbiAgICAgICAgeyB0cmFpdDogJ25ldXJvdGljaXNtJywgdmFsdWU6IDAuMyB9XG4gICAgICBdLFxuICAgICAgcHJlZmVyZW5jZXM6IHtcbiAgICAgICAgbGlnaHRpbmdQcmVmZXJlbmNlOiAnYWRhcHRpdmUnLFxuICAgICAgICBtdXNpY1ByZWZlcmVuY2U6IFsnYW1iaWVudCcsICdjbGFzc2ljYWwnXSxcbiAgICAgICAgY29sb3JQcmVmZXJlbmNlOiBbQ29sb3IzLmNyZWF0ZSgwLjIsIDAuNCwgMC44KSwgQ29sb3IzLmNyZWF0ZSgwLjgsIDAuNiwgMC4yKV0sXG4gICAgICAgIGludGVyYWN0aW9uU3R5bGU6ICdzdWJ0bGUnLFxuICAgICAgICBwcml2YWN5TGV2ZWw6ICdtZWRpdW0nXG4gICAgICB9LFxuICAgICAgaGlzdG9yeTogW10sXG4gICAgICBhZGFwdGF0aW9uTGV2ZWw6IDAuNVxuICAgIH1cblxuICAgIHRoaXMuZW1vdGlvblByb2ZpbGVzLnNldChkZWZhdWx0UHJvZmlsZS51c2VySWQsIGRlZmF1bHRQcm9maWxlKVxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURDNjQgRGVmYXVsdCBlbW90aW9uIHByb2ZpbGUgY3JlYXRlZCcpXG4gIH1cblxuICAvLyBTdGFydCBlbW90aW9uIGVuZ2luZVxuICBwcml2YXRlIHN0YXJ0RW1vdGlvbkVuZ2luZSgpIHtcbiAgICBlbmdpbmUuYWRkU3lzdGVtKCgpID0+IHtcbiAgICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkKSByZXR1cm5cblxuICAgICAgdGhpcy5kZXRlY3RFbW90aW9ucygpXG4gICAgICB0aGlzLnByb2Nlc3NBZGFwdGl2ZVJlc3BvbnNlcygpXG4gICAgICB0aGlzLnVwZGF0ZUVtb3Rpb25IaXN0b3J5KClcbiAgICB9KVxuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSBzZW5zb3JzXG4gIHByaXZhdGUgaW5pdGlhbGl6ZVNlbnNvcnMoKSB7XG4gICAgY29uc29sZS5sb2coJ1x1RDgzRFx1RENFMSBJbml0aWFsaXppbmcgZW1vdGlvbiBzZW5zb3JzLi4uJylcbiAgICAvLyBJbiBhIHJlYWwgaW1wbGVtZW50YXRpb24sIHRoaXMgd291bGQgY29ubmVjdCB0byBhY3R1YWwgc2Vuc29yc1xuICB9XG5cbiAgLy8gRGV0ZWN0IGVtb3Rpb25zXG4gIHByaXZhdGUgZGV0ZWN0RW1vdGlvbnMoKSB7XG4gICAgLy8gU2ltdWxhdGUgZW1vdGlvbiBkZXRlY3Rpb25cbiAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuMDIpIHtcbiAgICAgIGNvbnN0IGVtb3Rpb25zOiBFbW90aW9uVHlwZVtdID0gWydqb3knLCAnc3RyZXNzJywgJ2ZvY3VzJywgJ2NhbG0nLCAnc2FkbmVzcycsICdhbmdlciddXG4gICAgICBjb25zdCByYW5kb21FbW90aW9uID0gZW1vdGlvbnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZW1vdGlvbnMubGVuZ3RoKV1cblxuICAgICAgdGhpcy5kZXRlY3RFbW90aW9uKCd1c2VyX2RlZmF1bHQnLCByYW5kb21FbW90aW9uLCBNYXRoLnJhbmRvbSgpICogMC41ICsgMC41KVxuICAgIH1cbiAgfVxuXG4gIC8vIERldGVjdCBlbW90aW9uXG4gIHB1YmxpYyBkZXRlY3RFbW90aW9uKHVzZXJJZDogc3RyaW5nLCBlbW90aW9uOiBFbW90aW9uVHlwZSwgaW50ZW5zaXR5OiBudW1iZXIpIHtcbiAgICBjb25zdCBwcm9maWxlID0gdGhpcy5lbW90aW9uUHJvZmlsZXMuZ2V0KHVzZXJJZClcbiAgICBpZiAoIXByb2ZpbGUpIHJldHVyblxuXG4gICAgY29uc3QgZW1vdGlvbkRhdGE6IEVtb3Rpb25EYXRhID0ge1xuICAgICAgaWQ6IGBlbW90aW9uXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpfWAsXG4gICAgICB1c2VySWQ6IHVzZXJJZCxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIHByaW1hcnlFbW90aW9uOiBlbW90aW9uLFxuICAgICAgY29uZmlkZW5jZTogTWF0aC5yYW5kb20oKSAqIDAuMyArIDAuNyxcbiAgICAgIGludGVuc2l0eTogaW50ZW5zaXR5LFxuICAgICAgdHJpZ2dlcnM6IHRoaXMuaWRlbnRpZnlUcmlnZ2VycyhlbW90aW9uKSxcbiAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgYWN0aXZpdHk6ICd3b3JraW5nJyxcbiAgICAgICAgbG9jYXRpb246ICdvZmZpY2UnLFxuICAgICAgICBwYXJ0aWNpcGFudHM6IFsndXNlciddLFxuICAgICAgICBlbnZpcm9ubWVudDogJ3ZpcnR1YWxfb2ZmaWNlJyxcbiAgICAgICAgdGltZU9mRGF5OiBuZXcgRGF0ZSgpLmdldEhvdXJzKCkgPCAxMiA/ICdtb3JuaW5nJyA6ICdhZnRlcm5vb24nXG4gICAgICB9LFxuICAgICAgcGh5c2lvbG9naWNhbDoge1xuICAgICAgICBoZWFydFJhdGU6IDYwICsgTWF0aC5yYW5kb20oKSAqIDQwLFxuICAgICAgICB2b2ljZVRvbmU6IE1hdGgucmFuZG9tKCksXG4gICAgICAgIGZhY2lhbEV4cHJlc3Npb246IE1hdGgucmFuZG9tKCksXG4gICAgICAgIGJvZHlMYW5ndWFnZTogTWF0aC5yYW5kb20oKSxcbiAgICAgICAgcmVzcG9uc2VUaW1lOiBNYXRoLnJhbmRvbSgpICogMTAwMCArIDIwMFxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuY3VycmVudEVtb3Rpb25zLnNldCh1c2VySWQsIGVtb3Rpb25EYXRhKVxuICAgIHRoaXMuZW1vdGlvbkhpc3RvcnkucHVzaChlbW90aW9uRGF0YSlcblxuICAgIGlmICh0aGlzLmVtb3Rpb25IaXN0b3J5Lmxlbmd0aCA+IHRoaXMubWF4SGlzdG9yeUxlbmd0aCkge1xuICAgICAgdGhpcy5lbW90aW9uSGlzdG9yeS5zaGlmdCgpXG4gICAgfVxuXG4gICAgcHJvZmlsZS5oaXN0b3J5LnB1c2goZW1vdGlvbkRhdGEpXG4gICAgdGhpcy5hZGFwdFByb2ZpbGUodXNlcklkLCBlbW90aW9uRGF0YSlcblxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURFMEEgRGV0ZWN0ZWQgZW1vdGlvbjogJHtlbW90aW9ufSAoaW50ZW5zaXR5OiAke2ludGVuc2l0eS50b0ZpeGVkKDIpfSlgKVxuICB9XG5cbiAgLy8gSWRlbnRpZnkgdHJpZ2dlcnNcbiAgcHJpdmF0ZSBpZGVudGlmeVRyaWdnZXJzKGVtb3Rpb246IEVtb3Rpb25UeXBlKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IHRyaWdnZXJzOiBzdHJpbmdbXSA9IFtdXG5cbiAgICBzd2l0Y2ggKGVtb3Rpb24pIHtcbiAgICAgIGNhc2UgJ2pveSc6XG4gICAgICAgIHRyaWdnZXJzLnB1c2goJ2FjaGlldmVtZW50JywgJ3NvY2lhbF9pbnRlcmFjdGlvbicsICdzdWNjZXNzJylcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3N0cmVzcyc6XG4gICAgICAgIHRyaWdnZXJzLnB1c2goJ2RlYWRsaW5lJywgJ2NvbXBsZXhpdHknLCAnaW50ZXJydXB0aW9uJylcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2ZvY3VzJzpcbiAgICAgICAgdHJpZ2dlcnMucHVzaCgndGFza19lbmdhZ2VtZW50JywgJ2dvYWxfb3JpZW50YXRpb24nKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnc2FkbmVzcyc6XG4gICAgICAgIHRyaWdnZXJzLnB1c2goJ3NldGJhY2snLCAnaXNvbGF0aW9uJywgJ2ZhaWx1cmUnKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnYW5nZXInOlxuICAgICAgICB0cmlnZ2Vycy5wdXNoKCdmcnVzdHJhdGlvbicsICdvYnN0YWNsZScsICdjb25mbGljdCcpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdjYWxtJzpcbiAgICAgICAgdHJpZ2dlcnMucHVzaCgnbWVkaXRhdGlvbicsICdjb21wbGV0aW9uJywgJ3NhdGlzZmFjdGlvbicpXG4gICAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgcmV0dXJuIHRyaWdnZXJzXG4gIH1cblxuICAvLyBBZGFwdCBwcm9maWxlXG4gIHByaXZhdGUgYWRhcHRQcm9maWxlKHVzZXJJZDogc3RyaW5nLCBlbW90aW9uRGF0YTogRW1vdGlvbkRhdGEpIHtcbiAgICBjb25zdCBwcm9maWxlID0gdGhpcy5lbW90aW9uUHJvZmlsZXMuZ2V0KHVzZXJJZClcbiAgICBpZiAoIXByb2ZpbGUpIHJldHVyblxuXG4gICAgLy8gVXBkYXRlIGJhc2VsaW5lIGVtb3Rpb25zXG4gICAgY29uc3QgY3VycmVudEJhc2VsaW5lID0gcHJvZmlsZS5iYXNlbGluZUVtb3Rpb25zLmdldChlbW90aW9uRGF0YS5wcmltYXJ5RW1vdGlvbikgfHwgMFxuICAgIGNvbnN0IG5ld0Jhc2VsaW5lID0gY3VycmVudEJhc2VsaW5lICogMC45ICsgZW1vdGlvbkRhdGEuaW50ZW5zaXR5ICogMC4xXG4gICAgcHJvZmlsZS5iYXNlbGluZUVtb3Rpb25zLnNldChlbW90aW9uRGF0YS5wcmltYXJ5RW1vdGlvbiwgbmV3QmFzZWxpbmUpXG5cbiAgICAvLyBVcGRhdGUgYWRhcHRhdGlvbiBsZXZlbFxuICAgIHByb2ZpbGUuYWRhcHRhdGlvbkxldmVsID0gTWF0aC5taW4oMS4wLCBwcm9maWxlLmFkYXB0YXRpb25MZXZlbCArIDAuMDEpXG5cbiAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVEQ0M4IEFkYXB0ZWQgcHJvZmlsZSBmb3IgJHt1c2VySWR9IChhZGFwdGF0aW9uIGxldmVsOiAke3Byb2ZpbGUuYWRhcHRhdGlvbkxldmVsLnRvRml4ZWQoMil9KWApXG4gIH1cblxuICAvLyBQcm9jZXNzIGFkYXB0aXZlIHJlc3BvbnNlc1xuICBwcml2YXRlIHByb2Nlc3NBZGFwdGl2ZVJlc3BvbnNlcygpIHtcbiAgICB0aGlzLmN1cnJlbnRFbW90aW9ucy5mb3JFYWNoKChlbW90aW9uRGF0YSwgdXNlcklkKSA9PiB7XG4gICAgICBjb25zdCBwcm9maWxlID0gdGhpcy5lbW90aW9uUHJvZmlsZXMuZ2V0KHVzZXJJZClcbiAgICAgIGlmICghcHJvZmlsZSkgcmV0dXJuXG5cbiAgICAgIC8vIENoZWNrIGlmIHJlc3BvbnNlIHNob3VsZCBiZSB0cmlnZ2VyZWRcbiAgICAgIGlmIChlbW90aW9uRGF0YS5pbnRlbnNpdHkgPiB0aGlzLmFkYXB0YXRpb25UaHJlc2hvbGQpIHtcbiAgICAgICAgdGhpcy50cmlnZ2VyQWRhcHRpdmVSZXNwb25zZShlbW90aW9uRGF0YSwgcHJvZmlsZSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLy8gVHJpZ2dlciBhZGFwdGl2ZSByZXNwb25zZVxuICBwcml2YXRlIHRyaWdnZXJBZGFwdGl2ZVJlc3BvbnNlKGVtb3Rpb25EYXRhOiBFbW90aW9uRGF0YSwgcHJvZmlsZTogRW1vdGlvblByb2ZpbGUpIHtcbiAgICBjb25zdCByZXNwb25zZUtleSA9IGAke2Vtb3Rpb25EYXRhLnByaW1hcnlFbW90aW9ufV8ke3RoaXMuZ2V0QmVzdFJlc3BvbnNlVHlwZShlbW90aW9uRGF0YSwgcHJvZmlsZSl9YFxuICAgIGNvbnN0IHJlc3BvbnNlID0gdGhpcy5hZGFwdGl2ZVJlc3BvbnNlcy5nZXQocmVzcG9uc2VLZXkpXG5cbiAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgIC8vIENoZWNrIGNvbmRpdGlvbnNcbiAgICAgIGNvbnN0IGNvbmRpdGlvbnNNZXQgPSByZXNwb25zZS5jb25kaXRpb25zLmV2ZXJ5KGNvbmRpdGlvbiA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZW1vdGlvbkRhdGEuaW50ZW5zaXR5XG4gICAgICAgIHN3aXRjaCAoY29uZGl0aW9uLm9wZXJhdG9yKSB7XG4gICAgICAgICAgY2FzZSAnZ3JlYXRlcic6IHJldHVybiB2YWx1ZSA+IGNvbmRpdGlvbi52YWx1ZVxuICAgICAgICAgIGNhc2UgJ2xlc3MnOiByZXR1cm4gdmFsdWUgPCBjb25kaXRpb24udmFsdWVcbiAgICAgICAgICBjYXNlICdlcXVhbHMnOiByZXR1cm4gdmFsdWUgPT09IGNvbmRpdGlvbi52YWx1ZVxuICAgICAgICAgIGNhc2UgJ2JldHdlZW4nOiByZXR1cm4gdmFsdWUgPj0gY29uZGl0aW9uLnZhbHVlWzBdICYmIHZhbHVlIDw9IGNvbmRpdGlvbi52YWx1ZVsxXVxuICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICBpZiAoY29uZGl0aW9uc01ldCkge1xuICAgICAgICB0aGlzLmV4ZWN1dGVBZGFwdGl2ZVJlc3BvbnNlKHJlc3BvbnNlLCBlbW90aW9uRGF0YSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBHZXQgYmVzdCByZXNwb25zZSB0eXBlXG4gIHByaXZhdGUgZ2V0QmVzdFJlc3BvbnNlVHlwZShlbW90aW9uRGF0YTogRW1vdGlvbkRhdGEsIHByb2ZpbGU6IEVtb3Rpb25Qcm9maWxlKTogc3RyaW5nIHtcbiAgICAvLyBDaG9vc2UgcmVzcG9uc2UgdHlwZSBiYXNlZCBvbiB1c2VyIHByZWZlcmVuY2VzIGFuZCBlbW90aW9uXG4gICAgc3dpdGNoIChwcm9maWxlLnByZWZlcmVuY2VzLmludGVyYWN0aW9uU3R5bGUpIHtcbiAgICAgIGNhc2UgJ2RpcmVjdCc6XG4gICAgICAgIHJldHVybiAnZW52aXJvbm1lbnRhbCdcbiAgICAgIGNhc2UgJ3N1YnRsZSc6XG4gICAgICAgIHJldHVybiAnYXVkaW8nXG4gICAgICBjYXNlICdtaW5pbWFsJzpcbiAgICAgICAgcmV0dXJuICd2aXN1YWwnXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJ2Vudmlyb25tZW50YWwnXG4gICAgfVxuICB9XG5cbiAgLy8gRXhlY3V0ZSBhZGFwdGl2ZSByZXNwb25zZVxuICBwcml2YXRlIGV4ZWN1dGVBZGFwdGl2ZVJlc3BvbnNlKHJlc3BvbnNlOiBBZGFwdGl2ZVJlc3BvbnNlLCBlbW90aW9uRGF0YTogRW1vdGlvbkRhdGEpIHtcbiAgICBjb25zb2xlLmxvZyhgXHVEODNDXHVERkFEIEV4ZWN1dGluZyBhZGFwdGl2ZSByZXNwb25zZTogJHtyZXNwb25zZS5hY3Rpb24udHlwZX1gKVxuXG4gICAgc3dpdGNoIChyZXNwb25zZS5hY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnYWRqdXN0X2xpZ2h0aW5nJzpcbiAgICAgICAgdGhpcy5hZGp1c3RMaWdodGluZyhyZXNwb25zZS5hY3Rpb24ucGFyYW1ldGVycylcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3BsYXlfbXVzaWMnOlxuICAgICAgICB0aGlzLnBsYXlNdXNpYyhyZXNwb25zZS5hY3Rpb24ucGFyYW1ldGVycylcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2JyZWF0aGluZ19ndWlkZSc6XG4gICAgICAgIHRoaXMuc2hvd0JyZWF0aGluZ0d1aWRlKHJlc3BvbnNlLmFjdGlvbi5wYXJhbWV0ZXJzKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnbWluaW1pemVfZGlzdHJhY3Rpb25zJzpcbiAgICAgICAgdGhpcy5taW5pbWl6ZURpc3RyYWN0aW9ucyhyZXNwb25zZS5hY3Rpb24ucGFyYW1ldGVycylcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2FkanVzdF90ZW1wZXJhdHVyZSc6XG4gICAgICAgIHRoaXMuYWRqdXN0VGVtcGVyYXR1cmUocmVzcG9uc2UuYWN0aW9uLnBhcmFtZXRlcnMpXG4gICAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ3Bvd2VydXAnKVxuICB9XG5cbiAgLy8gQWRqdXN0IGxpZ2h0aW5nXG4gIHByaXZhdGUgYWRqdXN0TGlnaHRpbmcocGFyYW1ldGVyczogTWFwPHN0cmluZywgYW55Pikge1xuICAgIGNvbnN0IGJyaWdodG5lc3MgPSBwYXJhbWV0ZXJzLmdldCgnYnJpZ2h0bmVzcycpXG4gICAgY29uc3QgY29sb3IgPSBwYXJhbWV0ZXJzLmdldCgnY29sb3InKVxuICAgIGNvbnN0IGR1cmF0aW9uID0gcGFyYW1ldGVycy5nZXQoJ2R1cmF0aW9uJylcblxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURDQTEgQWRqdXN0aW5nIGxpZ2h0aW5nOiBicmlnaHRuZXNzPSR7YnJpZ2h0bmVzc30sIGNvbG9yPSR7Y29sb3J9LCBkdXJhdGlvbj0ke2R1cmF0aW9ufW1zYClcbiAgICAvLyBJbiByZWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdvdWxkIGFkanVzdCBhY3R1YWwgbGlnaHRpbmdcbiAgfVxuXG4gIC8vIFBsYXkgbXVzaWNcbiAgcHJpdmF0ZSBwbGF5TXVzaWMocGFyYW1ldGVyczogTWFwPHN0cmluZywgYW55Pikge1xuICAgIGNvbnN0IGdlbnJlID0gcGFyYW1ldGVycy5nZXQoJ2dlbnJlJylcbiAgICBjb25zdCB2b2x1bWUgPSBwYXJhbWV0ZXJzLmdldCgndm9sdW1lJylcbiAgICBjb25zdCBkdXJhdGlvbiA9IHBhcmFtZXRlcnMuZ2V0KCdkdXJhdGlvbicpXG5cbiAgICBjb25zb2xlLmxvZyhgXHVEODNDXHVERkI1IFBsYXlpbmcgbXVzaWM6IGdlbnJlPSR7Z2VucmV9LCB2b2x1bWU9JHt2b2x1bWV9LCBkdXJhdGlvbj0ke2R1cmF0aW9ufW1zYClcbiAgICAvLyBJbiByZWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdvdWxkIHBsYXkgYWN0dWFsIG11c2ljXG4gIH1cblxuICAvLyBTaG93IGJyZWF0aGluZyBndWlkZVxuICBwcml2YXRlIHNob3dCcmVhdGhpbmdHdWlkZShwYXJhbWV0ZXJzOiBNYXA8c3RyaW5nLCBhbnk+KSB7XG4gICAgY29uc3QgcmF0ZSA9IHBhcmFtZXRlcnMuZ2V0KCdyYXRlJylcbiAgICBjb25zdCBkdXJhdGlvbiA9IHBhcmFtZXRlcnMuZ2V0KCdkdXJhdGlvbicpXG5cbiAgICBjb25zb2xlLmxvZyhgXHVEODNFXHVERUMxIFNob3dpbmcgYnJlYXRoaW5nIGd1aWRlOiByYXRlPSR7cmF0ZX0sIGR1cmF0aW9uPSR7ZHVyYXRpb259bXNgKVxuICAgIC8vIEluIHJlYWwgaW1wbGVtZW50YXRpb24sIHRoaXMgd291bGQgc2hvdyB2aXN1YWwgYnJlYXRoaW5nIGd1aWRlXG4gIH1cblxuICAvLyBNaW5pbWl6ZSBkaXN0cmFjdGlvbnNcbiAgcHJpdmF0ZSBtaW5pbWl6ZURpc3RyYWN0aW9ucyhwYXJhbWV0ZXJzOiBNYXA8c3RyaW5nLCBhbnk+KSB7XG4gICAgY29uc3QgdWlPcGFjaXR5ID0gcGFyYW1ldGVycy5nZXQoJ3VpX29wYWNpdHknKVxuICAgIGNvbnN0IG5vdGlmaWNhdGlvbnMgPSBwYXJhbWV0ZXJzLmdldCgnbm90aWZpY2F0aW9ucycpXG4gICAgY29uc3QgZHVyYXRpb24gPSBwYXJhbWV0ZXJzLmdldCgnZHVyYXRpb24nKVxuXG4gICAgY29uc29sZS5sb2coYFx1RDgzRFx1REQwNyBNaW5pbWl6aW5nIGRpc3RyYWN0aW9uczogdWlfb3BhY2l0eT0ke3VpT3BhY2l0eX0sIG5vdGlmaWNhdGlvbnM9JHtub3RpZmljYXRpb25zfWApXG4gICAgLy8gSW4gcmVhbCBpbXBsZW1lbnRhdGlvbiwgdGhpcyB3b3VsZCBhZGp1c3QgVUkgYW5kIG5vdGlmaWNhdGlvbnNcbiAgfVxuXG4gIC8vIEFkanVzdCB0ZW1wZXJhdHVyZVxuICBwcml2YXRlIGFkanVzdFRlbXBlcmF0dXJlKHBhcmFtZXRlcnM6IE1hcDxzdHJpbmcsIGFueT4pIHtcbiAgICBjb25zdCB0ZW1wZXJhdHVyZSA9IHBhcmFtZXRlcnMuZ2V0KCd0ZW1wZXJhdHVyZScpXG4gICAgY29uc3QgZHVyYXRpb24gPSBwYXJhbWV0ZXJzLmdldCgnZHVyYXRpb24nKVxuXG4gICAgY29uc29sZS5sb2coYFx1RDgzQ1x1REYyMVx1RkUwRiBBZGp1c3RpbmcgdGVtcGVyYXR1cmU6ICR7dGVtcGVyYXR1cmV9XHUwMEIwQyBmb3IgJHtkdXJhdGlvbn1tc2ApXG4gICAgLy8gSW4gcmVhbCBpbXBsZW1lbnRhdGlvbiwgdGhpcyB3b3VsZCBhZGp1c3Qgc21hcnQgdGhlcm1vc3RhdFxuICB9XG5cbiAgLy8gVXBkYXRlIGVtb3Rpb24gaGlzdG9yeVxuICBwcml2YXRlIHVwZGF0ZUVtb3Rpb25IaXN0b3J5KCkge1xuICAgIC8vIENsZWFuIHVwIG9sZCBlbW90aW9uc1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KClcbiAgICB0aGlzLmN1cnJlbnRFbW90aW9ucy5mb3JFYWNoKChlbW90aW9uLCB1c2VySWQpID0+IHtcbiAgICAgIGlmIChub3cgLSBlbW90aW9uLnRpbWVzdGFtcCA+IDMwMDAwKSB7IC8vIDMwIHNlY29uZHNcbiAgICAgICAgdGhpcy5jdXJyZW50RW1vdGlvbnMuZGVsZXRlKHVzZXJJZClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLy8gSGFuZGxlIHJlc3BvbnNlIGNvbnRyb2xcbiAgcHJpdmF0ZSBoYW5kbGVSZXNwb25zZUNvbnRyb2woY29udHJvbElkOiBzdHJpbmcpIHtcbiAgICBzd2l0Y2ggKGNvbnRyb2xJZCkge1xuICAgICAgY2FzZSAnZW5hYmxlX2FkYXB0YXRpb24nOlxuICAgICAgICB0aGlzLmFkYXB0YXRpb25UaHJlc2hvbGQgPSAwLjVcbiAgICAgICAgY29uc29sZS5sb2coJ1x1RDgzRFx1REQwNCBFbW90aW9uIGFkYXB0YXRpb24gZW5hYmxlZCcpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdkaXNhYmxlX2FkYXB0YXRpb24nOlxuICAgICAgICB0aGlzLmFkYXB0YXRpb25UaHJlc2hvbGQgPSAxLjBcbiAgICAgICAgY29uc29sZS5sb2coJ1x1MjNGOFx1RkUwRiBFbW90aW9uIGFkYXB0YXRpb24gZGlzYWJsZWQnKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnY2FsaWJyYXRlJzpcbiAgICAgICAgdGhpcy5jYWxpYnJhdGVTeXN0ZW0oKVxuICAgICAgICBicmVha1xuICAgIH1cblxuICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdjbGljaycpXG4gIH1cblxuICAvLyBTaW11bGF0ZSBlbW90aW9uXG4gIHByaXZhdGUgc2ltdWxhdGVFbW90aW9uKGVtb3Rpb246IEVtb3Rpb25UeXBlKSB7XG4gICAgY29uc3QgaW50ZW5zaXR5ID0gTWF0aC5yYW5kb20oKSAqIDAuNSArIDAuNVxuICAgIHRoaXMuZGV0ZWN0RW1vdGlvbigndXNlcl9kZWZhdWx0JywgZW1vdGlvbiwgaW50ZW5zaXR5KVxuICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdjbGljaycpXG4gIH1cblxuICAvLyBDYWxpYnJhdGUgc3lzdGVtXG4gIHByaXZhdGUgY2FsaWJyYXRlU3lzdGVtKCkge1xuICAgIGNvbnNvbGUubG9nKCdcdTI2OTlcdUZFMEYgQ2FsaWJyYXRpbmcgZW1vdGlvbiBkZXRlY3Rpb24gc3lzdGVtLi4uJylcblxuICAgIC8vIFJlc2V0IGFkYXB0YXRpb24gdGhyZXNob2xkXG4gICAgdGhpcy5hZGFwdGF0aW9uVGhyZXNob2xkID0gMC44XG5cbiAgICAvLyBDbGVhciBjdXJyZW50IGVtb3Rpb25zXG4gICAgdGhpcy5jdXJyZW50RW1vdGlvbnMuY2xlYXIoKVxuXG4gICAgLy8gUmVjYWxpYnJhdGUgc2Vuc2l0aXZpdHlcbiAgICB0aGlzLmRldGVjdGlvblNlbnNpdGl2aXR5ID0gMC43XG5cbiAgICBjb25zb2xlLmxvZygnXHUyNzA1IENhbGlicmF0aW9uIGNvbXBsZXRlJylcbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgncG93ZXJ1cCcpXG4gIH1cblxuICAvLyBHZXQgY3VycmVudCBlbW90aW9uXG4gIHB1YmxpYyBnZXRDdXJyZW50RW1vdGlvbih1c2VySWQ6IHN0cmluZyk6IEVtb3Rpb25EYXRhIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50RW1vdGlvbnMuZ2V0KHVzZXJJZClcbiAgfVxuXG4gIC8vIEdldCBlbW90aW9uIHByb2ZpbGVcbiAgcHVibGljIGdldEVtb3Rpb25Qcm9maWxlKHVzZXJJZDogc3RyaW5nKTogRW1vdGlvblByb2ZpbGUgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmVtb3Rpb25Qcm9maWxlcy5nZXQodXNlcklkKVxuICB9XG5cbiAgLy8gR2V0IGVtb3Rpb24gaGlzdG9yeVxuICBwdWJsaWMgZ2V0RW1vdGlvbkhpc3RvcnkoKTogRW1vdGlvbkRhdGFbXSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLmVtb3Rpb25IaXN0b3J5XVxuICB9XG5cbiAgLy8gU2V0IGRldGVjdGlvbiBzZW5zaXRpdml0eVxuICBwdWJsaWMgc2V0RGV0ZWN0aW9uU2Vuc2l0aXZpdHkoc2Vuc2l0aXZpdHk6IG51bWJlcikge1xuICAgIHRoaXMuZGV0ZWN0aW9uU2Vuc2l0aXZpdHkgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBzZW5zaXRpdml0eSkpXG4gICAgY29uc29sZS5sb2coYFx1RDgzRFx1RENFMSBEZXRlY3Rpb24gc2Vuc2l0aXZpdHkgc2V0IHRvOiAke3RoaXMuZGV0ZWN0aW9uU2Vuc2l0aXZpdHl9YClcbiAgfVxuXG4gIC8vIFNldCBhZGFwdGF0aW9uIHRocmVzaG9sZFxuICBwdWJsaWMgc2V0QWRhcHRhdGlvblRocmVzaG9sZCh0aHJlc2hvbGQ6IG51bWJlcikge1xuICAgIHRoaXMuYWRhcHRhdGlvblRocmVzaG9sZCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHRocmVzaG9sZCkpXG4gICAgY29uc29sZS5sb2coYFx1RDgzQ1x1REZBRCBBZGFwdGF0aW9uIHRocmVzaG9sZCBzZXQgdG86ICR7dGhpcy5hZGFwdGF0aW9uVGhyZXNob2xkfWApXG4gIH1cblxuICAvLyBDcmVhdGUgY3VzdG9tIHByb2ZpbGVcbiAgcHVibGljIGNyZWF0ZVByb2ZpbGUodXNlcklkOiBzdHJpbmcsIHByZWZlcmVuY2VzOiBQYXJ0aWFsPEVtb3Rpb25QcmVmZXJlbmNlcz4pOiBFbW90aW9uUHJvZmlsZSB7XG4gICAgY29uc3QgcHJvZmlsZTogRW1vdGlvblByb2ZpbGUgPSB7XG4gICAgICB1c2VySWQ6IHVzZXJJZCxcbiAgICAgIGJhc2VsaW5lRW1vdGlvbnM6IG5ldyBNYXAoW1xuICAgICAgICBbJ2pveScsIDAuM10sXG4gICAgICAgIFsnc3RyZXNzJywgMC4yXSxcbiAgICAgICAgWydmb2N1cycsIDAuNF0sXG4gICAgICAgIFsnc2FkbmVzcycsIDAuMV0sXG4gICAgICAgIFsnYW5nZXInLCAwLjFdLFxuICAgICAgICBbJ2NhbG0nLCAwLjVdLFxuICAgICAgICBbJ25ldXRyYWwnLCAwLjZdXG4gICAgICBdKSxcbiAgICAgIHBlcnNvbmFsaXR5VHJhaXRzOiBbXG4gICAgICAgIHsgdHJhaXQ6ICdvcGVubmVzcycsIHZhbHVlOiAwLjUgfSxcbiAgICAgICAgeyB0cmFpdDogJ2NvbnNjaWVudGlvdXNuZXNzJywgdmFsdWU6IDAuNSB9LFxuICAgICAgICB7IHRyYWl0OiAnZXh0cmF2ZXJzaW9uJywgdmFsdWU6IDAuNSB9LFxuICAgICAgICB7IHRyYWl0OiAnYWdyZWVhYmxlbmVzcycsIHZhbHVlOiAwLjUgfSxcbiAgICAgICAgeyB0cmFpdDogJ25ldXJvdGljaXNtJywgdmFsdWU6IDAuNSB9XG4gICAgICBdLFxuICAgICAgcHJlZmVyZW5jZXM6IHtcbiAgICAgICAgbGlnaHRpbmdQcmVmZXJlbmNlOiAnYWRhcHRpdmUnLFxuICAgICAgICBtdXNpY1ByZWZlcmVuY2U6IFsnYW1iaWVudCddLFxuICAgICAgICBjb2xvclByZWZlcmVuY2U6IFtDb2xvcjMuY3JlYXRlKDAuNSwgMC41LCAwLjUpXSxcbiAgICAgICAgaW50ZXJhY3Rpb25TdHlsZTogJ3N1YnRsZScsXG4gICAgICAgIHByaXZhY3lMZXZlbDogJ21lZGl1bScsXG4gICAgICAgIC4uLnByZWZlcmVuY2VzXG4gICAgICB9LFxuICAgICAgaGlzdG9yeTogW10sXG4gICAgICBhZGFwdGF0aW9uTGV2ZWw6IDAuM1xuICAgIH1cblxuICAgIHRoaXMuZW1vdGlvblByb2ZpbGVzLnNldCh1c2VySWQsIHByb2ZpbGUpXG4gICAgY29uc29sZS5sb2coYFx1RDgzRFx1REM2NCBDcmVhdGVkIGVtb3Rpb24gcHJvZmlsZSBmb3IgJHt1c2VySWR9YClcbiAgICByZXR1cm4gcHJvZmlsZVxuICB9XG5cbiAgLy8gQ2xlYW51cCBzeXN0ZW1cbiAgcHVibGljIGNsZWFudXAoKSB7XG4gICAgdGhpcy5lbW90aW9uUHJvZmlsZXMuY2xlYXIoKVxuICAgIHRoaXMuY3VycmVudEVtb3Rpb25zLmNsZWFyKClcbiAgICB0aGlzLmFkYXB0aXZlUmVzcG9uc2VzLmNsZWFyKClcbiAgICB0aGlzLmVtb3Rpb25IaXN0b3J5ID0gW11cblxuICAgIGlmICh0aGlzLmVtb3Rpb25VSSkge1xuICAgICAgZW5naW5lLnJlbW92ZUVudGl0eSh0aGlzLmVtb3Rpb25VSSlcbiAgICB9XG5cbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSBmYWxzZVxuICB9XG59XG5cbi8vIEV4cG9ydCBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBlbW90aW9uRGV0ZWN0aW9uU3lzdGVtID0gbmV3IEVtb3Rpb25EZXRlY3Rpb25TeXN0ZW0oKVxuIiwgImltcG9ydCB7IGVuZ2luZSwgTWF0ZXJpYWwsIE1lc2hSZW5kZXJlciwgVHJhbnNmb3JtIH0gZnJvbSAnQGRjbC9zZGsvZWNzJ1xuaW1wb3J0IHsgQ29sb3I0LCBRdWF0ZXJuaW9uLCBWZWN0b3IzIH0gZnJvbSAnQGRjbC9zZGsvbWF0aCdcblxuLy8gQW5pbWF0aW9uIHN5c3RlbSBmb3IgZHluYW1pYyBlZmZlY3RzXG5jbGFzcyBBbmltYXRpb25TeXN0ZW0ge1xuICBwcml2YXRlIGFuaW1hdGlvbnM6IE1hcDxhbnksIEFuaW1hdGlvbkRhdGE+ID0gbmV3IE1hcCgpXG5cbiAgYWRkQW5pbWF0aW9uKGVudGl0eTogYW55LCBkYXRhOiBBbmltYXRpb25EYXRhKSB7XG4gICAgdGhpcy5hbmltYXRpb25zLnNldChlbnRpdHksIGRhdGEpXG4gIH1cblxuICB1cGRhdGUoZGVsdGFUaW1lOiBudW1iZXIpIHtcbiAgICB0aGlzLmFuaW1hdGlvbnMuZm9yRWFjaCgoZGF0YSwgZW50aXR5KSA9PiB7XG4gICAgICBkYXRhLnRpbWUgKz0gZGVsdGFUaW1lXG4gICAgICBjb25zdCB0cmFuc2Zvcm0gPSBUcmFuc2Zvcm0uZ2V0TXV0YWJsZShlbnRpdHkpXG5cbiAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdwdWxzZScpIHtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSAxICsgTWF0aC5zaW4oZGF0YS50aW1lICogZGF0YS5zcGVlZCkgKiBkYXRhLmludGVuc2l0eVxuICAgICAgICB0cmFuc2Zvcm0uc2NhbGUgPSBWZWN0b3IzLmNyZWF0ZShzY2FsZSwgc2NhbGUsIHNjYWxlKVxuICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdyb3RhdGUnKSB7XG4gICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbiA9IFF1YXRlcm5pb24uZnJvbUV1bGVyRGVncmVlcyhcbiAgICAgICAgICAwLFxuICAgICAgICAgIGRhdGEudGltZSAqIGRhdGEuc3BlZWQgKiAxMCxcbiAgICAgICAgICAwXG4gICAgICAgIClcbiAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAnZmxvYXQnKSB7XG4gICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbi55ID0gZGF0YS5iYXNlWSArIE1hdGguc2luKGRhdGEudGltZSAqIGRhdGEuc3BlZWQpICogZGF0YS5pbnRlbnNpdHlcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG5cbmludGVyZmFjZSBBbmltYXRpb25EYXRhIHtcbiAgdHlwZTogJ3B1bHNlJyB8ICdyb3RhdGUnIHwgJ2Zsb2F0J1xuICBzcGVlZDogbnVtYmVyXG4gIGludGVuc2l0eTogbnVtYmVyXG4gIHRpbWU6IG51bWJlclxuICBiYXNlWT86IG51bWJlclxufVxuXG5jb25zdCBhbmltYXRpb25TeXN0ZW0gPSBuZXcgQW5pbWF0aW9uU3lzdGVtKClcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVuaGFuY2VkQXJjaGl0ZWN0dXJlKCkge1xuICAvLyAtLS0gRW5oYW5jZWQgTWF0ZXJpYWxzIC0tLVxuICAvLyBIb2xvZ3JhcGhpYyBmbG9vciB3aXRoIGFuaW1hdGVkIHRleHR1cmVcbiAgY29uc3QgaG9sb2dyYXBoaWNGbG9vciA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChob2xvZ3JhcGhpY0Zsb29yLCB7XG4gICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjMsIDAuNiwgMC44KSxcbiAgICByb3VnaG5lc3M6IDAuMSxcbiAgICBtZXRhbGxpYzogMC45LFxuICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMCwgMC4yLCAwLjQsIDAuNSksXG4gICAgZW1pc3NpdmVJbnRlbnNpdHk6IDJcbiAgfSlcblxuICAvLyBRdWFudHVtIGdsYXNzIHdhbGxzIHdpdGggdHJhbnNwYXJlbmN5XG4gIGNvbnN0IHF1YW50dW1HbGFzcyA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChxdWFudHVtR2xhc3MsIHtcbiAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjMsIDAuNiwgMSwgMC4xNSksXG4gICAgcm91Z2huZXNzOiAwLjAsXG4gICAgbWV0YWxsaWM6IDAuMixcbiAgICBhbHBoYVRlc3Q6IDAuMDUsXG4gICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuNCwgMC44LCAwLjMpLFxuICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAxXG4gIH0pXG5cbiAgLy8gLS0tIEVuaGFuY2VkIFN0cnVjdHVyZXMgLS0tXG5cbiAgLy8gQW5pbWF0ZWQgSG9sb2dyYXBoaWMgRmxvb3JcbiAgY29uc3QgZmxvb3IgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgVHJhbnNmb3JtLmNyZWF0ZShmbG9vciwge1xuICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSg4LCAwLjAxLCA4KSxcbiAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMTYsIDAuMSwgMTYpXG4gIH0pXG4gIE1lc2hSZW5kZXJlci5zZXRCb3goZmxvb3IpXG4gIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGZsb29yLCB7XG4gICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4wNSwgMC4xLCAwLjIsIDAuOSksXG4gICAgcm91Z2huZXNzOiAwLjEsXG4gICAgbWV0YWxsaWM6IDAuOCxcbiAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAsIDAuMywgMC42LCAwLjQpLFxuICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAzXG4gIH0pXG5cbiAgLy8gQW5pbWF0ZWQgQ2VpbGluZyB3aXRoIGRhdGEgc3RyZWFtc1xuICBjb25zdCBjZWlsaW5nID0gZW5naW5lLmFkZEVudGl0eSgpXG4gIFRyYW5zZm9ybS5jcmVhdGUoY2VpbGluZywge1xuICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSg4LCA2LCA4KSxcbiAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMTYsIDAuMSwgMTYpXG4gIH0pXG4gIE1lc2hSZW5kZXJlci5zZXRCb3goY2VpbGluZylcbiAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoY2VpbGluZywge1xuICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMSwgMC4wNSwgMC4xNSwgMSksXG4gICAgcm91Z2huZXNzOiAwLjIsXG4gICAgbWV0YWxsaWM6IDAuNyxcbiAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuNCwgMC4yLCAwLjgsIDAuMyksXG4gICAgZW1pc3NpdmVJbnRlbnNpdHk6IDJcbiAgfSlcblxuICAvLyBCYWNrIFdhbGwgd2l0aCBpbnRlZ3JhdGVkIGRpc3BsYXlzXG4gIGNvbnN0IGJhY2tXYWxsID0gZW5naW5lLmFkZEVudGl0eSgpXG4gIFRyYW5zZm9ybS5jcmVhdGUoYmFja1dhbGwsIHtcbiAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoOCwgMywgMTUuOSksXG4gICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDE2LCA2LCAwLjIpXG4gIH0pXG4gIE1lc2hSZW5kZXJlci5zZXRCb3goYmFja1dhbGwpXG4gIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGJhY2tXYWxsLCB7XG4gICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xNSwgMC4xLCAwLjIsIDEpLFxuICAgIHJvdWdobmVzczogMC4zLFxuICAgIG1ldGFsbGljOiAwLjYsXG4gICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjMsIDAuMSwgMC41LCAwLjIpLFxuICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAxXG4gIH0pXG5cbiAgLy8gRW5oYW5jZWQgUXVhbnR1bSBHbGFzcyBXYWxscyB3aXRoIGFuaW1hdGlvblxuICBjb25zdCBsZWZ0R2xhc3MgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgVHJhbnNmb3JtLmNyZWF0ZShsZWZ0R2xhc3MsIHtcbiAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMC4xLCAzLCA4KSxcbiAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4yLCA2LCAxNilcbiAgfSlcbiAgTWVzaFJlbmRlcmVyLnNldEJveChsZWZ0R2xhc3MpXG4gIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGxlZnRHbGFzcywge1xuICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuNSwgMC43LCAxLCAwLjIpLFxuICAgIHJvdWdobmVzczogMC4wLFxuICAgIG1ldGFsbGljOiAwLjMsXG4gICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjMsIDAuNSwgMSwgMC40KSxcbiAgICBlbWlzc2l2ZUludGVuc2l0eTogMlxuICB9KVxuXG4gIGNvbnN0IHJpZ2h0R2xhc3MgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgVHJhbnNmb3JtLmNyZWF0ZShyaWdodEdsYXNzLCB7XG4gICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDE1LjksIDMsIDgpLFxuICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjIsIDYsIDE2KVxuICB9KVxuICBNZXNoUmVuZGVyZXIuc2V0Qm94KHJpZ2h0R2xhc3MpXG4gIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKHJpZ2h0R2xhc3MsIHtcbiAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjUsIDAuNywgMSwgMC4yKSxcbiAgICByb3VnaG5lc3M6IDAuMCxcbiAgICBtZXRhbGxpYzogMC4zLFxuICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4zLCAwLjUsIDEsIDAuNCksXG4gICAgZW1pc3NpdmVJbnRlbnNpdHk6IDJcbiAgfSlcblxuICAvLyBFbmhhbmNlZCBFbnRyYW5jZSB3aXRoIGZ1dHVyaXN0aWMgcGlsbGFyc1xuICBjb25zdCBwaWxsYXIxID0gZW5naW5lLmFkZEVudGl0eSgpXG4gIFRyYW5zZm9ybS5jcmVhdGUocGlsbGFyMSwge1xuICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgyLCAzLCAwLjUpLFxuICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgxLjIsIDYsIDEuMilcbiAgfSlcbiAgTWVzaFJlbmRlcmVyLnNldEJveChwaWxsYXIxKVxuICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChwaWxsYXIxLCB7XG4gICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4yLCAwLjQsIDAuOCwgMSksXG4gICAgcm91Z2huZXNzOiAwLjIsXG4gICAgbWV0YWxsaWM6IDAuOCxcbiAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMiwgMC4zLCAwLjcsIDAuNSksXG4gICAgZW1pc3NpdmVJbnRlbnNpdHk6IDNcbiAgfSlcblxuICBjb25zdCBwaWxsYXIyID0gZW5naW5lLmFkZEVudGl0eSgpXG4gIFRyYW5zZm9ybS5jcmVhdGUocGlsbGFyMiwge1xuICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgxNCwgMywgMC41KSxcbiAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMS4yLCA2LCAxLjIpXG4gIH0pXG4gIE1lc2hSZW5kZXJlci5zZXRCb3gocGlsbGFyMilcbiAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwocGlsbGFyMiwge1xuICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMiwgMC40LCAwLjgsIDEpLFxuICAgIHJvdWdobmVzczogMC4yLFxuICAgIG1ldGFsbGljOiAwLjgsXG4gICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuMywgMC43LCAwLjUpLFxuICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAzXG4gIH0pXG5cbiAgLy8gTXVsdGktbGF5ZXJlZCBOZW9uIExpZ2h0aW5nIFN5c3RlbVxuICBjb25zdCBuZW9uU3RyaXAxID0gZW5naW5lLmFkZEVudGl0eSgpXG4gIFRyYW5zZm9ybS5jcmVhdGUobmVvblN0cmlwMSwge1xuICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSg4LCA1LjksIDgpLFxuICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgxNCwgMC4wNSwgMTQpXG4gIH0pXG4gIE1lc2hSZW5kZXJlci5zZXRCb3gobmVvblN0cmlwMSlcbiAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwobmVvblN0cmlwMSwge1xuICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAsIDAsIDAsIDEpLFxuICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC44LCAwLjMsIDEsIDEpLFxuICAgIGVtaXNzaXZlSW50ZW5zaXR5OiA4XG4gIH0pXG5cbiAgY29uc3QgbmVvblN0cmlwMiA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICBUcmFuc2Zvcm0uY3JlYXRlKG5lb25TdHJpcDIsIHtcbiAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoOCwgNS43LCA4KSxcbiAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMTMsIDAuMDUsIDEzKVxuICB9KVxuICBNZXNoUmVuZGVyZXIuc2V0Qm94KG5lb25TdHJpcDIpXG4gIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKG5lb25TdHJpcDIsIHtcbiAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLCAwLCAwLCAxKSxcbiAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMywgMC44LCAxLCAxKSxcbiAgICBlbWlzc2l2ZUludGVuc2l0eTogNlxuICB9KVxuXG4gIC8vIEhvbG9ncmFwaGljIERhdGEgU3RyZWFtcyAodmVydGljYWwpXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgY29uc3QgZGF0YVN0cmVhbSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUoZGF0YVN0cmVhbSwge1xuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDMgKyBpICogMi41LCAzLCAyKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjEsIDQsIDAuMSlcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRCb3goZGF0YVN0cmVhbSlcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChkYXRhU3RyZWFtLCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLCAxLCAwLjgsIDAuNiksXG4gICAgICByb3VnaG5lc3M6IDAuMCxcbiAgICAgIG1ldGFsbGljOiAwLjUsXG4gICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAsIDEsIDAuOCwgMSksXG4gICAgICBlbWlzc2l2ZUludGVuc2l0eTogNFxuICAgIH0pXG4gIH1cblxuICAvLyBRdWFudHVtIFBhcnRpY2xlcyBQbGF0Zm9ybVxuICBjb25zdCBxdWFudHVtUGxhdGZvcm0gPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgVHJhbnNmb3JtLmNyZWF0ZShxdWFudHVtUGxhdGZvcm0sIHtcbiAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoOCwgMC41LCA4KSxcbiAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoNCwgMC4yLCA0KVxuICB9KVxuICBNZXNoUmVuZGVyZXIuc2V0Qm94KHF1YW50dW1QbGF0Zm9ybSlcbiAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwocXVhbnR1bVBsYXRmb3JtLCB7XG4gICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4yLCAwLjEsIDAuNCwgMC44KSxcbiAgICByb3VnaG5lc3M6IDAuMSxcbiAgICBtZXRhbGxpYzogMC45LFxuICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC42LCAwLjMsIDEsIDAuNiksXG4gICAgZW1pc3NpdmVJbnRlbnNpdHk6IDVcbiAgfSlcblxuICAvLyBGbG9hdGluZyBEaXNwbGF5IFBhbmVsc1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgIGNvbnN0IGRpc3BsYXlQYW5lbCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUoZGlzcGxheVBhbmVsLCB7XG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoNCArIGkgKiA0LCA0LCAxMiksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMiwgMS41LCAwLjEpXG4gICAgfSlcbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGRpc3BsYXlQYW5lbClcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChkaXNwbGF5UGFuZWwsIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAsIDAsIDAsIDAuOSksXG4gICAgICByb3VnaG5lc3M6IDAuMSxcbiAgICAgIG1ldGFsbGljOiAwLjgsXG4gICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMiwgMC44LCAxLCAwLjQpLFxuICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDNcbiAgICB9KVxuICB9XG5cbiAgLy8gRW5lcmd5IENvcmUgQ2VudGVycGllY2VcbiAgY29uc3QgZW5lcmd5Q29yZSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICBUcmFuc2Zvcm0uY3JlYXRlKGVuZXJneUNvcmUsIHtcbiAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoOCwgMiwgOCksXG4gICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDEsIDEsIDEpXG4gIH0pXG4gIE1lc2hSZW5kZXJlci5zZXRCb3goZW5lcmd5Q29yZSlcbiAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoZW5lcmd5Q29yZSwge1xuICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDEsIDEsIDAuOCksXG4gICAgcm91Z2huZXNzOiAwLjAsXG4gICAgbWV0YWxsaWM6IDEuMCxcbiAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDAuOCwgMC4yLCAxKSxcbiAgICBlbWlzc2l2ZUludGVuc2l0eTogMTBcbiAgfSlcblxuICAvLyBDcmVhdGUgQXJ0IEdhbGxlcnkgb24gdXBwZXIgbGV2ZWxcbiAgY3JlYXRlQXJ0R2FsbGVyeSgpXG5cbiAgLy8gQWRkIGZsb2F0aW5nIGFuaW1hdGlvbiB0byBlbmVyZ3kgY29yZVxuICBhbmltYXRpb25TeXN0ZW0uYWRkQW5pbWF0aW9uKGVuZXJneUNvcmUsIHtcbiAgICB0eXBlOiAnZmxvYXQnLFxuICAgIHNwZWVkOiAwLjgsXG4gICAgaW50ZW5zaXR5OiAwLjMsXG4gICAgdGltZTogMCxcbiAgICBiYXNlWTogMlxuICB9KVxuXG4gIC8vIFN0YXJ0IGFuaW1hdGlvbiBsb29wXG4gIGVuZ2luZS5hZGRTeXN0ZW0oKCkgPT4ge1xuICAgIGFuaW1hdGlvblN5c3RlbS51cGRhdGUoMC4wMTYpIC8vIH42MGZwc1xuICB9KVxufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGFydCBnYWxsZXJ5XG5mdW5jdGlvbiBjcmVhdGVBcnRHYWxsZXJ5KCkge1xuICBjb25zb2xlLmxvZygnXHVEODNDXHVERkE4IENyZWF0aW5nIEFydCBHYWxsZXJ5Li4uJylcbn1cbiIsICJpbXBvcnQgeyBlbmdpbmUsIEVudGl0eSwgSW5wdXRBY3Rpb24sIE1hdGVyaWFsLCBNZXNoUmVuZGVyZXIsIHBvaW50ZXJFdmVudHNTeXN0ZW0sIFRleHRTaGFwZSwgVHJhbnNmb3JtIH0gZnJvbSAnQGRjbC9zZGsvZWNzJ1xuaW1wb3J0IHsgQ29sb3I0LCBWZWN0b3IzIH0gZnJvbSAnQGRjbC9zZGsvbWF0aCdcbmltcG9ydCB7IHNvdW5kU3lzdGVtIH0gZnJvbSAnLi9lbmhhbmNlZC1zb3VuZCdcblxubGV0IGJvZHlUZXh0RW50aXR5OiBFbnRpdHlcbmxldCBzeXN0ZW1TdGF0dXNFbnRpdHk6IEVudGl0eVxubGV0IGFsZXJ0U3lzdGVtRW50aXR5OiBFbnRpdHlcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVuaGFuY2VkSW50ZXJhY3RhYmxlcygpIHtcbiAgLy8gLS0tIEVuaGFuY2VkIE1haW4gRGFzaGJvYXJkIC0tLVxuICBjb25zdCBtYWluRGFzaGJvYXJkID0gZW5naW5lLmFkZEVudGl0eSgpXG4gIFRyYW5zZm9ybS5jcmVhdGUobWFpbkRhc2hib2FyZCwge1xuICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSg4LCAzLCAxNS41KSxcbiAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoOCwgNCwgMC4yKVxuICB9KVxuICBNZXNoUmVuZGVyZXIuc2V0Qm94KG1haW5EYXNoYm9hcmQpXG4gIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKG1haW5EYXNoYm9hcmQsIHtcbiAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLCAwLCAwLCAwLjk1KSxcbiAgICByb3VnaG5lc3M6IDAuMSxcbiAgICBtZXRhbGxpYzogMC45LFxuICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjMsIDAuNiwgMC4zKSxcbiAgICBlbWlzc2l2ZUludGVuc2l0eTogMlxuICB9KVxuXG4gIC8vIEVuaGFuY2VkIFRpdGxlIHdpdGggZ2xvdyBlZmZlY3RcbiAgY29uc3QgdGl0bGVUZXh0ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gIFRyYW5zZm9ybS5jcmVhdGUodGl0bGVUZXh0LCB7XG4gICAgcGFyZW50OiBtYWluRGFzaGJvYXJkLFxuICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLjQsIC0wLjgpLFxuICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjEyNSwgMC4yNSwgMSlcbiAgfSlcbiAgVGV4dFNoYXBlLmNyZWF0ZSh0aXRsZVRleHQsIHtcbiAgICB0ZXh0OiBcIlx1MjZBMSBBSUdFU1RJT04gTkVYVVMgSFEgXHUyNkExXCIsXG4gICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDAuOCwgMC41LCAxLCAxKSxcbiAgICBmb250U2l6ZTogNixcbiAgICB0ZXh0QWxpZ246IDMsXG4gICAgb3V0bGluZVdpZHRoOiAwLjEsXG4gICAgb3V0bGluZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuNSwgMC4yLCAwLjgsIDEpXG4gIH0pXG5cbiAgLy8gRHluYW1pYyBTeXN0ZW0gU3RhdHVzIERpc3BsYXlcbiAgc3lzdGVtU3RhdHVzRW50aXR5ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gIFRyYW5zZm9ybS5jcmVhdGUoc3lzdGVtU3RhdHVzRW50aXR5LCB7XG4gICAgcGFyZW50OiBtYWluRGFzaGJvYXJkLFxuICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAtMC4xLCAtMC44KSxcbiAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4xMjUsIDAuMjUsIDEpXG4gIH0pXG4gIFRleHRTaGFwZS5jcmVhdGUoc3lzdGVtU3RhdHVzRW50aXR5LCB7XG4gICAgdGV4dDogXCJcdUQ4M0RcdUREMjUgU1lTVEVNUyBPTkxJTkUgXHVEODNEXHVERDI1XFxuXHUyNkExIFF1YW50dW0gQ29yZTogQUNUSVZFXFxuXHVEODNDXHVERjEwIE5ldHdvcms6IE9QVElNQUxcXG5cdUQ4M0RcdURFRTFcdUZFMEYgU2VjdXJpdHk6IEVOSEFOQ0VEXCIsXG4gICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDAsIDEsIDAuOCwgMSksXG4gICAgZm9udFNpemU6IDMsXG4gICAgdGV4dEFsaWduOiAzXG4gIH0pXG5cbiAgLy8gQWxlcnQgU3lzdGVtIERpc3BsYXlcbiAgYWxlcnRTeXN0ZW1FbnRpdHkgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgVHJhbnNmb3JtLmNyZWF0ZShhbGVydFN5c3RlbUVudGl0eSwge1xuICAgIHBhcmVudDogbWFpbkRhc2hib2FyZCxcbiAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgLTAuNSwgLTAuOCksXG4gICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMTI1LCAwLjI1LCAxKVxuICB9KVxuICBUZXh0U2hhcGUuY3JlYXRlKGFsZXJ0U3lzdGVtRW50aXR5LCB7XG4gICAgdGV4dDogXCJcdUQ4M0RcdURDRTEgUmVhbC10aW1lIE1vbml0b3JpbmcgQWN0aXZlLi4uXCIsXG4gICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDEsIDAsIDEpLFxuICAgIGZvbnRTaXplOiAyLjUsXG4gICAgdGV4dEFsaWduOiAzXG4gIH0pXG5cbiAgLy8gLS0tIEludGVyYWN0aXZlIENvbnRyb2wgUGFuZWxzIC0tLVxuXG4gIC8vIFF1YW50dW0gQ29udHJvbCBQYW5lbFxuICBjb25zdCBxdWFudHVtUGFuZWwgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgVHJhbnNmb3JtLmNyZWF0ZShxdWFudHVtUGFuZWwsIHtcbiAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMiwgMS41LCAxMCksXG4gICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDIsIDIsIDAuMylcbiAgfSlcbiAgTWVzaFJlbmRlcmVyLnNldEJveChxdWFudHVtUGFuZWwpXG4gIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKHF1YW50dW1QYW5lbCwge1xuICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMiwgMC4xLCAwLjQsIDAuOSksXG4gICAgcm91Z2huZXNzOiAwLjIsXG4gICAgbWV0YWxsaWM6IDAuOCxcbiAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuNiwgMC4zLCAxLCAwLjUpLFxuICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAzXG4gIH0pXG5cbiAgY29uc3QgcXVhbnR1bUxhYmVsID0gZW5naW5lLmFkZEVudGl0eSgpXG4gIFRyYW5zZm9ybS5jcmVhdGUocXVhbnR1bUxhYmVsLCB7XG4gICAgcGFyZW50OiBxdWFudHVtUGFuZWwsXG4gICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDAuMywgLTAuNiksXG4gICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuNSwgMC41LCAxKVxuICB9KVxuICBUZXh0U2hhcGUuY3JlYXRlKHF1YW50dW1MYWJlbCwge1xuICAgIHRleHQ6IFwiUVVBTlRVTVxcbkNPUkVcIixcbiAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMC44LCAwLjUsIDEsIDEpLFxuICAgIGZvbnRTaXplOiA0LFxuICAgIHRleHRBbGlnbjogM1xuICB9KVxuXG4gIC8vIE5ldHdvcmsgQ29udHJvbCBQYW5lbFxuICBjb25zdCBuZXR3b3JrUGFuZWwgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgVHJhbnNmb3JtLmNyZWF0ZShuZXR3b3JrUGFuZWwsIHtcbiAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMTQsIDEuNSwgMTApLFxuICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgyLCAyLCAwLjMpXG4gIH0pXG4gIE1lc2hSZW5kZXJlci5zZXRCb3gobmV0d29ya1BhbmVsKVxuICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChuZXR3b3JrUGFuZWwsIHtcbiAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjEsIDAuMywgMC42LCAwLjkpLFxuICAgIHJvdWdobmVzczogMC4yLFxuICAgIG1ldGFsbGljOiAwLjgsXG4gICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuNiwgMSwgMC41KSxcbiAgICBlbWlzc2l2ZUludGVuc2l0eTogM1xuICB9KVxuXG4gIGNvbnN0IG5ldHdvcmtMYWJlbCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICBUcmFuc2Zvcm0uY3JlYXRlKG5ldHdvcmtMYWJlbCwge1xuICAgIHBhcmVudDogbmV0d29ya1BhbmVsLFxuICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLjMsIC0wLjYpLFxuICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjUsIDAuNSwgMSlcbiAgfSlcbiAgVGV4dFNoYXBlLmNyZWF0ZShuZXR3b3JrTGFiZWwsIHtcbiAgICB0ZXh0OiBcIk5FVFdPUktcXG5IVUJcIixcbiAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMC41LCAwLjgsIDEsIDEpLFxuICAgIGZvbnRTaXplOiA0LFxuICAgIHRleHRBbGlnbjogM1xuICB9KVxuXG4gIC8vIC0tLSBFbmhhbmNlZCBJbnRlcmFjdGl2ZSBFbGVtZW50cyAtLS1cblxuICAvLyBNYXN0ZXIgQ29udHJvbCBTcGhlcmVcbiAgY29uc3QgbWFzdGVyQ29udHJvbCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICBUcmFuc2Zvcm0uY3JlYXRlKG1hc3RlckNvbnRyb2wsIHtcbiAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoOCwgMiwgOCksXG4gICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDEuNSwgMS41LCAxLjUpXG4gIH0pXG4gIE1lc2hSZW5kZXJlci5zZXRCb3gobWFzdGVyQ29udHJvbClcbiAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwobWFzdGVyQ29udHJvbCwge1xuICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDAuOCwgMC4yLCAwLjgpLFxuICAgIHJvdWdobmVzczogMC4xLFxuICAgIG1ldGFsbGljOiAwLjksXG4gICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAwLjgsIDAuMiwgMSksXG4gICAgZW1pc3NpdmVJbnRlbnNpdHk6IDhcbiAgfSlcblxuICAvLyBBZGQgaW50ZXJhY3Rpb24gdG8gbWFzdGVyIGNvbnRyb2wgd2l0aCBzb3VuZFxuICBwb2ludGVyRXZlbnRzU3lzdGVtLm9uUG9pbnRlckRvd24oXG4gICAge1xuICAgICAgZW50aXR5OiBtYXN0ZXJDb250cm9sLFxuICAgICAgb3B0czogeyBidXR0b246IElucHV0QWN0aW9uLklBX1BPSU5URVIsIGhvdmVyVGV4dDogJ1x1RDgzQ1x1REZBRSBNQVNURVIgQ09OVFJPTCBTWVNURU0nIH1cbiAgICB9LFxuICAgICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiXHVEODNDXHVERkFFIE1hc3RlciBDb250cm9sIEFjdGl2YXRlZCAtIFF1YW50dW0gU3lzdGVtcyBPbmxpbmVcIilcbiAgICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdwb3dlcnVwJylcbiAgICAgIHVwZGF0ZVN5c3RlbVN0YXR1cyhcIlFVQU5UVU1fTU9ERVwiLCB0cnVlKVxuICAgIH1cbiAgKVxuXG4gIC8vIFF1YW50dW0gQ29udHJvbCBJbnRlcmFjdGlvbiB3aXRoIHNvdW5kXG4gIHBvaW50ZXJFdmVudHNTeXN0ZW0ub25Qb2ludGVyRG93bihcbiAgICB7XG4gICAgICBlbnRpdHk6IHF1YW50dW1QYW5lbCxcbiAgICAgIG9wdHM6IHsgYnV0dG9uOiBJbnB1dEFjdGlvbi5JQV9QT0lOVEVSLCBob3ZlclRleHQ6ICdcdTI2QTEgQWN0aXZhdGUgUXVhbnR1bSBDb3JlJyB9XG4gICAgfSxcbiAgICAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIlx1MjZBMSBRdWFudHVtIENvcmUgQWN0aXZhdGlvbiBTZXF1ZW5jZVwiKVxuICAgICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ3Bvd2VydXAnKVxuICAgICAgdXBkYXRlU3lzdGVtU3RhdHVzKFwiUVVBTlRVTV9DT1JFXCIsIHRydWUpXG4gICAgfVxuICApXG5cbiAgLy8gTmV0d29yayBDb250cm9sIEludGVyYWN0aW9uIHdpdGggc291bmRcbiAgcG9pbnRlckV2ZW50c1N5c3RlbS5vblBvaW50ZXJEb3duKFxuICAgIHtcbiAgICAgIGVudGl0eTogbmV0d29ya1BhbmVsLFxuICAgICAgb3B0czogeyBidXR0b246IElucHV0QWN0aW9uLklBX1BPSU5URVIsIGhvdmVyVGV4dDogJ1x1RDgzQ1x1REYxMCBOZXR3b3JrIERpYWdub3N0aWNzJyB9XG4gICAgfSxcbiAgICAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIlx1RDgzQ1x1REYxMCBOZXR3b3JrIERpYWdub3N0aWNzIFJ1bm5pbmdcIilcbiAgICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdjbGljaycpXG4gICAgICB1cGRhdGVTeXN0ZW1TdGF0dXMoXCJORVRXT1JLX1NDQU5cIiwgdHJ1ZSlcbiAgICB9XG4gIClcblxuICAvLyAtLS0gRmxvYXRpbmcgRGF0YSBPcmJzIC0tLVxuICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgIGNvbnN0IGRhdGFPcmIgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKGRhdGFPcmIsIHtcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgzICsgaSAqIDEuNSwgMy41LCA1ICsgaSAqIDAuNSksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC41LCAwLjUsIDAuNSlcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRCb3goZGF0YU9yYilcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChkYXRhT3JiLCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLCAxLCAwLjgsIDAuNyksXG4gICAgICByb3VnaG5lc3M6IDAuMCxcbiAgICAgIG1ldGFsbGljOiAwLjgsXG4gICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAsIDEsIDAuOCwgMSksXG4gICAgICBlbWlzc2l2ZUludGVuc2l0eTogNVxuICAgIH0pXG5cbiAgICBwb2ludGVyRXZlbnRzU3lzdGVtLm9uUG9pbnRlckRvd24oXG4gICAgICB7XG4gICAgICAgIGVudGl0eTogZGF0YU9yYixcbiAgICAgICAgb3B0czogeyBidXR0b246IElucHV0QWN0aW9uLklBX1BPSU5URVIsIGhvdmVyVGV4dDogYFx1RDgzRFx1RENDQSBEYXRhIE5vZGUgJHtpICsgMX1gIH1cbiAgICAgIH0sXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURDQ0EgQWNjZXNzaW5nIERhdGEgTm9kZSAke2kgKyAxfWApXG4gICAgICAgIHVwZGF0ZVN5c3RlbVN0YXR1cyhgREFUQV9OT0RFXyR7aSArIDF9YCwgdHJ1ZSlcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICAvLyAtLS0gU2VjdXJpdHkgVGVybWluYWwgLS0tXG4gIGNvbnN0IHNlY3VyaXR5VGVybWluYWwgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgVHJhbnNmb3JtLmNyZWF0ZShzZWN1cml0eVRlcm1pbmFsLCB7XG4gICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDgsIDEsIDIpLFxuICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgzLCAyLCAwLjUpXG4gIH0pXG4gIE1lc2hSZW5kZXJlci5zZXRCb3goc2VjdXJpdHlUZXJtaW5hbClcbiAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoc2VjdXJpdHlUZXJtaW5hbCwge1xuICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMSwgMC4yLCAwLjMsIDAuOSksXG4gICAgcm91Z2huZXNzOiAwLjMsXG4gICAgbWV0YWxsaWM6IDAuNyxcbiAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMiwgMC40LCAwLjYsIDAuNCksXG4gICAgZW1pc3NpdmVJbnRlbnNpdHk6IDJcbiAgfSlcblxuICBjb25zdCBzZWN1cml0eUxhYmVsID0gZW5naW5lLmFkZEVudGl0eSgpXG4gIFRyYW5zZm9ybS5jcmVhdGUoc2VjdXJpdHlMYWJlbCwge1xuICAgIHBhcmVudDogc2VjdXJpdHlUZXJtaW5hbCxcbiAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMC4yLCAtMC42KSxcbiAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4zMywgMC41LCAxKVxuICB9KVxuICBUZXh0U2hhcGUuY3JlYXRlKHNlY3VyaXR5TGFiZWwsIHtcbiAgICB0ZXh0OiBcIlx1RDgzRFx1REVFMVx1RkUwRiBTRUNVUklUWVxcblRFUk1JTkFMXCIsXG4gICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDAuNSwgMC44LCAxLCAxKSxcbiAgICBmb250U2l6ZTogMyxcbiAgICB0ZXh0QWxpZ246IDNcbiAgfSlcblxuICBwb2ludGVyRXZlbnRzU3lzdGVtLm9uUG9pbnRlckRvd24oXG4gICAge1xuICAgICAgZW50aXR5OiBzZWN1cml0eVRlcm1pbmFsLFxuICAgICAgb3B0czogeyBidXR0b246IElucHV0QWN0aW9uLklBX1BPSU5URVIsIGhvdmVyVGV4dDogJ1x1RDgzRFx1REVFMVx1RkUwRiBBY2Nlc3MgU2VjdXJpdHkgU3lzdGVtcycgfVxuICAgIH0sXG4gICAgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJcdUQ4M0RcdURFRTFcdUZFMEYgU2VjdXJpdHkgU3lzdGVtcyBBY2Nlc3NlZFwiKVxuICAgICAgdXBkYXRlU3lzdGVtU3RhdHVzKFwiU0VDVVJJVFlfQlJFQUNIXCIsIGZhbHNlKVxuICAgIH1cbiAgKVxuXG4gIC8vIC0tLSBFbmVyZ3kgQ3J5c3RhbHMgLS0tXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgY29uc3QgZW5lcmd5Q3J5c3RhbCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUoZW5lcmd5Q3J5c3RhbCwge1xuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDQgKyBpICogNCwgMSwgMTQpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuOCwgMS4yLCAwLjgpXG4gICAgfSlcbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGVuZXJneUNyeXN0YWwpXG4gICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoZW5lcmd5Q3J5c3RhbCwge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC44LCAwLjIsIDEsIDAuOCksXG4gICAgICByb3VnaG5lc3M6IDAuMSxcbiAgICAgIG1ldGFsbGljOiAwLjksXG4gICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuOCwgMC4yLCAxLCAxKSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiA2XG4gICAgfSlcblxuICAgIHBvaW50ZXJFdmVudHNTeXN0ZW0ub25Qb2ludGVyRG93bihcbiAgICAgIHtcbiAgICAgICAgZW50aXR5OiBlbmVyZ3lDcnlzdGFsLFxuICAgICAgICBvcHRzOiB7IGJ1dHRvbjogSW5wdXRBY3Rpb24uSUFfUE9JTlRFUiwgaG92ZXJUZXh0OiBgXHVEODNEXHVEQzhFIEVuZXJneSBDcnlzdGFsICR7aSArIDF9YCB9XG4gICAgICB9LFxuICAgICAgKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVEQzhFIEVuZXJneSBDcnlzdGFsICR7aSArIDF9IEFjdGl2YXRlZGApXG4gICAgICAgIHVwZGF0ZVN5c3RlbVN0YXR1cyhgRU5FUkdZX0JPT1NUXyR7aSArIDF9YCwgdHJ1ZSlcbiAgICAgIH1cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVN5c3RlbVN0YXR1cyhzeXN0ZW06IHN0cmluZywgYWN0aXZlOiBib29sZWFuKSB7XG4gIGlmICghc3lzdGVtU3RhdHVzRW50aXR5KSByZXR1cm5cblxuICBjb25zdCBzdGF0dXMgPSBhY3RpdmUgPyBcIlx1MjcwNSBBQ1RJVkVcIiA6IFwiXHUyNkEwXHVGRTBGIElOQUNUSVZFXCJcbiAgY29uc3QgY29sb3IgPSBhY3RpdmUgPyBDb2xvcjQuY3JlYXRlKDAsIDEsIDAuNSwgMSkgOiBDb2xvcjQuY3JlYXRlKDEsIDAuNSwgMCwgMSlcblxuICBUZXh0U2hhcGUuZ2V0TXV0YWJsZShzeXN0ZW1TdGF0dXNFbnRpdHkpLnRleHQgPVxuICAgIGBcdUQ4M0RcdUREMjUgU1lTVEVNUyBPTkxJTkUgXHVEODNEXHVERDI1XFxuYCArXG4gICAgYFx1MjZBMSBRdWFudHVtIENvcmU6ICR7c3RhdHVzfVxcbmAgK1xuICAgIGBcdUQ4M0NcdURGMTAgTmV0d29yazogT1BUSU1BTFxcbmAgK1xuICAgIGBcdUQ4M0RcdURFRTFcdUZFMEYgU2VjdXJpdHk6IEVOSEFOQ0VEXFxuYCArXG4gICAgYFx1RDgzRFx1RENFMSBMYXN0IEFjdGlvbjogJHtzeXN0ZW19YFxuXG4gIFRleHRTaGFwZS5nZXRNdXRhYmxlKHN5c3RlbVN0YXR1c0VudGl0eSkudGV4dENvbG9yID0gY29sb3Jcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUFsZXJ0KG1lc3NhZ2U6IHN0cmluZywgYWxlcnRUeXBlOiAnSU5GTycgfCAnV0FSTklORycgfCAnQ1JJVElDQUwnID0gJ0lORk8nKSB7XG4gIGlmICghYWxlcnRTeXN0ZW1FbnRpdHkpIHJldHVyblxuXG4gIGNvbnN0IGNvbG9ycyA9IHtcbiAgICBJTkZPOiBDb2xvcjQuY3JlYXRlKDAsIDEsIDEsIDEpLFxuICAgIFdBUk5JTkc6IENvbG9yNC5jcmVhdGUoMSwgMSwgMCwgMSksXG4gICAgQ1JJVElDQUw6IENvbG9yNC5jcmVhdGUoMSwgMCwgMCwgMSlcbiAgfVxuXG4gIGNvbnN0IGljb25zID0ge1xuICAgIElORk86IFwiXHVEODNEXHVEQ0UxXCIsXG4gICAgV0FSTklORzogXCJcdTI2QTBcdUZFMEZcIixcbiAgICBDUklUSUNBTDogXCJcdUQ4M0RcdURFQThcIlxuICB9XG5cbiAgVGV4dFNoYXBlLmdldE11dGFibGUoYWxlcnRTeXN0ZW1FbnRpdHkpLnRleHQgPSBgJHtpY29uc1thbGVydFR5cGVdfSAke21lc3NhZ2V9YFxuICBUZXh0U2hhcGUuZ2V0TXV0YWJsZShhbGVydFN5c3RlbUVudGl0eSkudGV4dENvbG9yID0gY29sb3JzW2FsZXJ0VHlwZV1cbn1cbiIsICIvLyBFbmhhbmNlZCBOZXR3b3JrIFN5c3RlbSBmb3IgQUlHZXN0aW9uIFZpcnR1YWwgT2ZmaWNlXG5pbXBvcnQgeyBzZXRUaW1lb3V0LCBzZXRJbnRlcnZhbCB9IGZyb20gJy4vdXRpbHMvdGltZXJzJ1xuXG5leHBvcnQgdHlwZSBFbmhhbmNlZFN5c3RlbVN0YXRzID0ge1xuICBhY3RpdmVVc2VyczogbnVtYmVyXG4gIHN5c3RlbUhlYWx0aDogJ09QVElNQUwnIHwgJ1dBUk5JTkcnIHwgJ0NSSVRJQ0FMJ1xuICBjcHVMb2FkOiBudW1iZXJcbiAgcXVhbnR1bUNvcmVTdGF0dXM6ICdPTkxJTkUnIHwgJ09GRkxJTkUnIHwgJ09WRVJMT0FEJ1xuICBuZXR3b3JrTGF0ZW5jeTogbnVtYmVyXG4gIHNlY3VyaXR5TGV2ZWw6ICdFTkhBTkNFRCcgfCAnU1RBTkRBUkQnIHwgJ0NPTVBST01JU0VEJ1xuICBlbmVyZ3lSZXNlcnZlczogbnVtYmVyXG4gIGRhdGFTdHJlYW1BY3RpdmU6IGJvb2xlYW5cbiAgbGFzdFVwZGF0ZTogc3RyaW5nXG59XG5cbmV4cG9ydCB0eXBlIEFsZXJ0TWVzc2FnZSA9IHtcbiAgaWQ6IHN0cmluZ1xuICBtZXNzYWdlOiBzdHJpbmdcbiAgdHlwZTogJ0lORk8nIHwgJ1dBUk5JTkcnIHwgJ0NSSVRJQ0FMJ1xuICB0aW1lc3RhbXA6IHN0cmluZ1xuICBwcmlvcml0eTogbnVtYmVyXG59XG5cbmV4cG9ydCB0eXBlIE5ldHdvcmtOb2RlID0ge1xuICBpZDogc3RyaW5nXG4gIG5hbWU6IHN0cmluZ1xuICBzdGF0dXM6ICdPTkxJTkUnIHwgJ09GRkxJTkUnIHwgJ01BSU5URU5BTkNFJ1xuICBsb2FkOiBudW1iZXJcbiAgbG9jYXRpb246IHN0cmluZ1xufVxuXG4vLyBTaW11bGF0ZWQgcmVhbC10aW1lIGRhdGEgd2l0aCBlbmhhbmNlZCBjb21wbGV4aXR5XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hFbmhhbmNlZFN5c3RlbVN0YXRzKCk6IFByb21pc2U8RW5oYW5jZWRTeXN0ZW1TdGF0cz4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IGNwdUxvYWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0MCkgKyAzMFxuICAgICAgY29uc3Qgc3lzdGVtSGVhbHRoID0gY3B1TG9hZCA+IDYwID8gJ0NSSVRJQ0FMJyA6IGNwdUxvYWQgPiA0NSA/ICdXQVJOSU5HJyA6ICdPUFRJTUFMJ1xuXG4gICAgICByZXNvbHZlKHtcbiAgICAgICAgYWN0aXZlVXNlcnM6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDgwMCkgKyAxNTAwLFxuICAgICAgICBzeXN0ZW1IZWFsdGgsXG4gICAgICAgIGNwdUxvYWQsXG4gICAgICAgIHF1YW50dW1Db3JlU3RhdHVzOiBNYXRoLnJhbmRvbSgpID4gMC45NSA/ICdPVkVSTE9BRCcgOiBNYXRoLnJhbmRvbSgpID4gMC4xID8gJ09OTElORScgOiAnT0ZGTElORScsXG4gICAgICAgIG5ldHdvcmtMYXRlbmN5OiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1MCkgKyAxMCxcbiAgICAgICAgc2VjdXJpdHlMZXZlbDogTWF0aC5yYW5kb20oKSA+IDAuOTggPyAnQ09NUFJPTUlTRUQnIDogTWF0aC5yYW5kb20oKSA+IDAuMyA/ICdFTkhBTkNFRCcgOiAnU1RBTkRBUkQnLFxuICAgICAgICBlbmVyZ3lSZXNlcnZlczogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNjApICsgNDAsXG4gICAgICAgIGRhdGFTdHJlYW1BY3RpdmU6IE1hdGgucmFuZG9tKCkgPiAwLjIsXG4gICAgICAgIGxhc3RVcGRhdGU6IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKClcbiAgICAgIH0pXG4gICAgfSwgMzAwKVxuICB9KVxufVxuXG4vLyBGZXRjaCBuZXR3b3JrIG5vZGVzIHN0YXR1c1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoTmV0d29ya05vZGVzKCk6IFByb21pc2U8TmV0d29ya05vZGVbXT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IG5vZGVzOiBOZXR3b3JrTm9kZVtdID0gW1xuICAgICAgICB7IGlkOiAnTk9ERV8wMDEnLCBuYW1lOiAnUXVhbnR1bSBDb3JlIEFscGhhJywgc3RhdHVzOiAnT05MSU5FJywgbG9hZDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNjApICsgMjAsIGxvY2F0aW9uOiAnU2VjdG9yIDdHJyB9LFxuICAgICAgICB7IGlkOiAnTk9ERV8wMDInLCBuYW1lOiAnRGF0YSBTdHJlYW0gQmV0YScsIHN0YXR1czogJ09OTElORScsIGxvYWQ6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUwKSArIDI1LCBsb2NhdGlvbjogJ1NlY3RvciAzRicgfSxcbiAgICAgICAgeyBpZDogJ05PREVfMDAzJywgbmFtZTogJ1NlY3VyaXR5IEh1YiBHYW1tYScsIHN0YXR1czogTWF0aC5yYW5kb20oKSA+IDAuMSA/ICdPTkxJTkUnIDogJ01BSU5URU5BTkNFJywgbG9hZDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNDApICsgMzAsIGxvY2F0aW9uOiAnU2VjdG9yIDlBJyB9LFxuICAgICAgICB7IGlkOiAnTk9ERV8wMDQnLCBuYW1lOiAnRW5lcmd5IFJlbGF5IERlbHRhJywgc3RhdHVzOiAnT05MSU5FJywgbG9hZDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNzApICsgMTUsIGxvY2F0aW9uOiAnU2VjdG9yIDJCJyB9LFxuICAgICAgICB7IGlkOiAnTk9ERV8wMDUnLCBuYW1lOiAnTmV0d29yayBSb3V0ZXIgRXBzaWxvbicsIHN0YXR1czogJ09OTElORScsIGxvYWQ6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDU1KSArIDIwLCBsb2NhdGlvbjogJ1NlY3RvciA1QycgfVxuICAgICAgXVxuICAgICAgcmVzb2x2ZShub2RlcylcbiAgICB9LCAyMDApXG4gIH0pXG59XG5cbi8vIEZldGNoIGFsZXJ0IG1lc3NhZ2VzXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hBbGVydE1lc3NhZ2VzKCk6IFByb21pc2U8QWxlcnRNZXNzYWdlW10+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBhbGVydHM6IEFsZXJ0TWVzc2FnZVtdID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdBTEVSVF8wMDEnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdRdWFudHVtIGNvcmUgc3luY2hyb25pemF0aW9uIGNvbXBsZXRlJyxcbiAgICAgICAgICB0eXBlOiAnSU5GTycsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpLFxuICAgICAgICAgIHByaW9yaXR5OiAxXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ0FMRVJUXzAwMicsXG4gICAgICAgICAgbWVzc2FnZTogJ05ldHdvcmsgbGF0ZW5jeSBvcHRpbWl6YXRpb24gaW4gcHJvZ3Jlc3MnLFxuICAgICAgICAgIHR5cGU6ICdJTkZPJyxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCksXG4gICAgICAgICAgcHJpb3JpdHk6IDJcbiAgICAgICAgfVxuICAgICAgXVxuXG4gICAgICAvLyBBZGQgcmFuZG9tIGNyaXRpY2FsIGFsZXJ0cyBvY2Nhc2lvbmFsbHlcbiAgICAgIGlmIChNYXRoLnJhbmRvbSgpID4gMC44KSB7XG4gICAgICAgIGFsZXJ0cy5wdXNoKHtcbiAgICAgICAgICBpZDogJ0FMRVJUXzAwMycsXG4gICAgICAgICAgbWVzc2FnZTogJ1VudXN1YWwgYWN0aXZpdHkgZGV0ZWN0ZWQgaW4gc2VjdXJpdHkgcGVyaW1ldGVyJyxcbiAgICAgICAgICB0eXBlOiAnV0FSTklORycsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpLFxuICAgICAgICAgIHByaW9yaXR5OiA1XG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIHJlc29sdmUoYWxlcnRzKVxuICAgIH0sIDE1MClcbiAgfSlcbn1cblxuLy8gU2ltdWxhdGUgcXVhbnR1bSBjYWxjdWxhdGlvbnNcbmV4cG9ydCBmdW5jdGlvbiBwZXJmb3JtUXVhbnR1bUNhbGN1bGF0aW9uKCk6IFByb21pc2U8eyByZXN1bHQ6IG51bWJlcjsgYWNjdXJhY3k6IG51bWJlciB9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMCkgKyA1MDBcbiAgICAgIGNvbnN0IGFjY3VyYWN5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTUpICsgODVcbiAgICAgIHJlc29sdmUoeyByZXN1bHQsIGFjY3VyYWN5IH0pXG4gICAgfSwgMTAwMClcbiAgfSlcbn1cblxuLy8gU2ltdWxhdGUgc2VjdXJpdHkgc2NhblxuZXhwb3J0IGZ1bmN0aW9uIHBlcmZvcm1TZWN1cml0eVNjYW4oKTogUHJvbWlzZTx7IHRocmVhdHM6IG51bWJlcjsgc3RhdHVzOiAnU0VDVVJFJyB8ICdXQVJOSU5HJyB8ICdCUkVBQ0gnIH0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCB0aHJlYXRzID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNSlcbiAgICAgIGNvbnN0IHN0YXR1cyA9IHRocmVhdHMgPiAzID8gJ0JSRUFDSCcgOiB0aHJlYXRzID4gMSA/ICdXQVJOSU5HJyA6ICdTRUNVUkUnXG4gICAgICByZXNvbHZlKHsgdGhyZWF0cywgc3RhdHVzIH0pXG4gICAgfSwgODAwKVxuICB9KVxufVxuXG4vLyBSZWFsLXRpbWUgZGF0YSBzdHJlYW0gc2ltdWxhdGlvblxuZXhwb3J0IGZ1bmN0aW9uKiBnZW5lcmF0ZURhdGFTdHJlYW0oKTogR2VuZXJhdG9yPHsgdGltZXN0YW1wOiBzdHJpbmc7IHZhbHVlOiBudW1iZXI7IHNvdXJjZTogc3RyaW5nIH0+IHtcbiAgY29uc3Qgc291cmNlcyA9IFsnUXVhbnR1bSBDb3JlJywgJ05ldHdvcmsgSHViJywgJ1NlY3VyaXR5IFN5c3RlbScsICdFbmVyZ3kgR3JpZCcsICdEYXRhIFBpcGVsaW5lJ11cblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIHlpZWxkIHtcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoKSxcbiAgICAgIHZhbHVlOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApLFxuICAgICAgc291cmNlOiBzb3VyY2VzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHNvdXJjZXMubGVuZ3RoKV1cbiAgICB9XG4gICAgLy8gU2ltdWxhdGUgcmVhbC10aW1lIHVwZGF0ZXNcbiAgfVxufVxuXG4vLyBFbmhhbmNlZCBzeXN0ZW0gZGlhZ25vc3RpY3NcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5TeXN0ZW1EaWFnbm9zdGljcygpOiBQcm9taXNlPHtcbiAgb3ZlcmFsbDogJ0hFQUxUSFknIHwgJ1dBUk5JTkcnIHwgJ0NSSVRJQ0FMJ1xuICBjb21wb25lbnRzOiB7XG4gICAgcXVhbnR1bUNvcmU6ICdPSycgfCAnV0FSTklORycgfCAnRkFJTCdcbiAgICBuZXR3b3JrOiAnT0snIHwgJ1dBUk5JTkcnIHwgJ0ZBSUwnXG4gICAgc2VjdXJpdHk6ICdPSycgfCAnV0FSTklORycgfCAnRkFJTCdcbiAgICBlbmVyZ3k6ICdPSycgfCAnV0FSTklORycgfCAnRkFJTCdcbiAgfVxufT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IGNvbXBvbmVudHM6IHtcbiAgICAgICAgcXVhbnR1bUNvcmU6ICdPSycgfCAnV0FSTklORycgfCAnRkFJTCdcbiAgICAgICAgbmV0d29yazogJ09LJyB8ICdXQVJOSU5HJyB8ICdGQUlMJ1xuICAgICAgICBzZWN1cml0eTogJ09LJyB8ICdXQVJOSU5HJyB8ICdGQUlMJ1xuICAgICAgICBlbmVyZ3k6ICdPSycgfCAnV0FSTklORycgfCAnRkFJTCdcbiAgICAgIH0gPSB7XG4gICAgICAgIHF1YW50dW1Db3JlOiBNYXRoLnJhbmRvbSgpID4gMC45ID8gJ0ZBSUwnIDogTWF0aC5yYW5kb20oKSA+IDAuMyA/ICdPSycgOiAnV0FSTklORycsXG4gICAgICAgIG5ldHdvcms6IE1hdGgucmFuZG9tKCkgPiAwLjk1ID8gJ0ZBSUwnIDogTWF0aC5yYW5kb20oKSA+IDAuMiA/ICdPSycgOiAnV0FSTklORycsXG4gICAgICAgIHNlY3VyaXR5OiBNYXRoLnJhbmRvbSgpID4gMC45OCA/ICdGQUlMJyA6IE1hdGgucmFuZG9tKCkgPiAwLjEgPyAnT0snIDogJ1dBUk5JTkcnLFxuICAgICAgICBlbmVyZ3k6IE1hdGgucmFuZG9tKCkgPiAwLjg1ID8gJ0ZBSUwnIDogTWF0aC5yYW5kb20oKSA+IDAuNCA/ICdPSycgOiAnV0FSTklORydcbiAgICAgIH1cblxuICAgICAgY29uc3QgZmFpbENvdW50ID0gT2JqZWN0LnZhbHVlcyhjb21wb25lbnRzKS5maWx0ZXIoc3RhdHVzID0+IHN0YXR1cyA9PT0gJ0ZBSUwnKS5sZW5ndGhcbiAgICAgIGNvbnN0IHdhcm5pbmdDb3VudCA9IE9iamVjdC52YWx1ZXMoY29tcG9uZW50cykuZmlsdGVyKHN0YXR1cyA9PiBzdGF0dXMgPT09ICdXQVJOSU5HJykubGVuZ3RoXG5cbiAgICAgIGxldCBvdmVyYWxsOiAnSEVBTFRIWScgfCAnV0FSTklORycgfCAnQ1JJVElDQUwnID0gJ0hFQUxUSFknXG4gICAgICBpZiAoZmFpbENvdW50ID4gMCkgb3ZlcmFsbCA9ICdDUklUSUNBTCdcbiAgICAgIGVsc2UgaWYgKHdhcm5pbmdDb3VudCA+IDEpIG92ZXJhbGwgPSAnV0FSTklORydcblxuICAgICAgcmVzb2x2ZSh7IG92ZXJhbGwsIGNvbXBvbmVudHMgfSlcbiAgICB9LCAxMjAwKVxuICB9KVxufVxuIiwgIi8vIEdlc3R1cmUgUmVjb2duaXRpb24gU3lzdGVtIGZvciBIYW5kcy1GcmVlIENvbnRyb2xcbmltcG9ydCB7IGVuZ2luZSwgTWF0ZXJpYWwsIE1lc2hSZW5kZXJlciwgVHJhbnNmb3JtIH0gZnJvbSAnQGRjbC9zZGsvZWNzJ1xuaW1wb3J0IHsgQ29sb3I0LCBRdWF0ZXJuaW9uLCBWZWN0b3IzIH0gZnJvbSAnQGRjbC9zZGsvbWF0aCdcbmltcG9ydCB7IHNvdW5kU3lzdGVtIH0gZnJvbSAnLi9lbmhhbmNlZC1zb3VuZCdcblxuaW50ZXJmYWNlIEdlc3R1cmUge1xuICBpZDogc3RyaW5nXG4gIG5hbWU6IHN0cmluZ1xuICB0eXBlOiAnc3dpcGUnIHwgJ2NpcmNsZScgfCAncHVzaCcgfCAncHVsbCcgfCAnd2F2ZScgfCAncG9pbnQnIHwgJ3RodW1ic191cCcgfCAndGh1bWJzX2Rvd24nIHwgJ3BpbmNoJyB8ICdzcHJlYWQnXG4gIGNvbmZpZGVuY2U6IG51bWJlclxuICBpc0FjdGl2ZTogYm9vbGVhblxuICBzdGFydFBvaW50OiBWZWN0b3IzXG4gIGVuZFBvaW50OiBWZWN0b3IzXG4gIGR1cmF0aW9uOiBudW1iZXJcbiAgcGF0aDogVmVjdG9yM1tdXG59XG5cbmludGVyZmFjZSBIYW5kVHJhY2tpbmcge1xuICBpc0FjdGl2ZTogYm9vbGVhblxuICBsZWZ0SGFuZDogSGFuZERhdGEgfCBudWxsXG4gIHJpZ2h0SGFuZDogSGFuZERhdGEgfCBudWxsXG4gIGxhc3RVcGRhdGU6IG51bWJlclxufVxuXG5pbnRlcmZhY2UgSGFuZERhdGEge1xuICBwb3NpdGlvbjogVmVjdG9yM1xuICByb3RhdGlvbjogUXVhdGVybmlvblxuICBmaW5nZXJzOiBGaW5nZXJEYXRhW11cbiAgY29uZmlkZW5jZTogbnVtYmVyXG59XG5cbmludGVyZmFjZSBGaW5nZXJEYXRhIHtcbiAgaWQ6IHN0cmluZ1xuICBwb3NpdGlvbjogVmVjdG9yM1xuICBpc0V4dGVuZGVkOiBib29sZWFuXG4gIGNvbmZpZGVuY2U6IG51bWJlclxufVxuXG5pbnRlcmZhY2UgR2VzdHVyZUFjdGlvbiB7XG4gIGdlc3R1cmVUeXBlOiBzdHJpbmdcbiAgYWN0aW9uOiBzdHJpbmdcbiAgcGFyYW1ldGVyczogYW55XG4gIGVuYWJsZWQ6IGJvb2xlYW5cbn1cblxuZXhwb3J0IGNsYXNzIEdlc3R1cmVSZWNvZ25pdGlvblN5c3RlbSB7XG4gIHByaXZhdGUgZ2VzdHVyZXM6IE1hcDxzdHJpbmcsIEdlc3R1cmU+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgaGFuZFRyYWNraW5nOiBIYW5kVHJhY2tpbmdcbiAgcHJpdmF0ZSBnZXN0dXJlQWN0aW9uczogTWFwPHN0cmluZywgR2VzdHVyZUFjdGlvbj4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBnZXN0dXJlVUk6IGFueVxuICBwcml2YXRlIGdlc3R1cmVUcmFpbHM6IE1hcDxzdHJpbmcsIGFueVtdPiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIGlzSW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZVxuICBwcml2YXRlIGdlc3R1cmVIaXN0b3J5OiBHZXN0dXJlW10gPSBbXVxuICBwcml2YXRlIG1heEhpc3RvcnlMZW5ndGg6IG51bWJlciA9IDEwXG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5oYW5kVHJhY2tpbmcgPSB7XG4gICAgICBpc0FjdGl2ZTogZmFsc2UsXG4gICAgICBsZWZ0SGFuZDogbnVsbCxcbiAgICAgIHJpZ2h0SGFuZDogbnVsbCxcbiAgICAgIGxhc3RVcGRhdGU6IERhdGUubm93KClcbiAgICB9XG4gIH1cblxuICAvLyBJbml0aWFsaXplIGdlc3R1cmUgcmVjb2duaXRpb24gc3lzdGVtXG4gIGluaXRpYWxpemUoKSB7XG4gICAgY29uc29sZS5sb2coJ1x1RDgzRFx1REM0QiBHZXN0dXJlIFJlY29nbml0aW9uIFN5c3RlbSBJbml0aWFsaXppbmcuLi4nKVxuXG4gICAgdGhpcy5zZXR1cEdlc3R1cmVBY3Rpb25zKClcbiAgICB0aGlzLmNyZWF0ZUdlc3R1cmVVSSgpXG4gICAgdGhpcy5zdGFydEhhbmRUcmFja2luZygpXG4gICAgdGhpcy5zdGFydEdlc3R1cmVSZWNvZ25pdGlvbigpXG5cbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlXG4gICAgY29uc29sZS5sb2coJ1x1RDgzRFx1REM0QiBHZXN0dXJlIFJlY29nbml0aW9uIFN5c3RlbSBSZWFkeSEnKVxuICB9XG5cbiAgLy8gU2V0dXAgZ2VzdHVyZSBhY3Rpb25zXG4gIHByaXZhdGUgc2V0dXBHZXN0dXJlQWN0aW9ucygpIHtcbiAgICAvLyBOYXZpZ2F0aW9uIGdlc3R1cmVzXG4gICAgdGhpcy5hZGRHZXN0dXJlQWN0aW9uKCdzd2lwZV9sZWZ0JywgJ25hdmlnYXRlJywgeyBkaXJlY3Rpb246ICdsZWZ0JyB9LCB0cnVlKVxuICAgIHRoaXMuYWRkR2VzdHVyZUFjdGlvbignc3dpcGVfcmlnaHQnLCAnbmF2aWdhdGUnLCB7IGRpcmVjdGlvbjogJ3JpZ2h0JyB9LCB0cnVlKVxuICAgIHRoaXMuYWRkR2VzdHVyZUFjdGlvbignc3dpcGVfdXAnLCAnbmF2aWdhdGUnLCB7IGRpcmVjdGlvbjogJ3VwJyB9LCB0cnVlKVxuICAgIHRoaXMuYWRkR2VzdHVyZUFjdGlvbignc3dpcGVfZG93bicsICduYXZpZ2F0ZScsIHsgZGlyZWN0aW9uOiAnZG93bicgfSwgdHJ1ZSlcblxuICAgIC8vIENvbnRyb2wgZ2VzdHVyZXNcbiAgICB0aGlzLmFkZEdlc3R1cmVBY3Rpb24oJ3B1c2gnLCAncHVzaF9vYmplY3QnLCB7IGZvcmNlOiAxLjAgfSwgdHJ1ZSlcbiAgICB0aGlzLmFkZEdlc3R1cmVBY3Rpb24oJ3B1bGwnLCAncHVsbF9vYmplY3QnLCB7IGZvcmNlOiAxLjAgfSwgdHJ1ZSlcbiAgICB0aGlzLmFkZEdlc3R1cmVBY3Rpb24oJ3BvaW50JywgJ3NlbGVjdF90YXJnZXQnLCB7IG1vZGU6ICdzaW5nbGUnIH0sIHRydWUpXG4gICAgdGhpcy5hZGRHZXN0dXJlQWN0aW9uKCdwaW5jaCcsICd6b29tJywgeyBzY2FsZTogMS4wIH0sIHRydWUpXG4gICAgdGhpcy5hZGRHZXN0dXJlQWN0aW9uKCdzcHJlYWQnLCAnem9vbScsIHsgc2NhbGU6IDIuMCB9LCB0cnVlKVxuXG4gICAgLy8gVUkgZ2VzdHVyZXNcbiAgICB0aGlzLmFkZEdlc3R1cmVBY3Rpb24oJ3dhdmUnLCAndG9nZ2xlX21lbnUnLCB7fSwgdHJ1ZSlcbiAgICB0aGlzLmFkZEdlc3R1cmVBY3Rpb24oJ3RodW1ic191cCcsICdjb25maXJtJywge30sIHRydWUpXG4gICAgdGhpcy5hZGRHZXN0dXJlQWN0aW9uKCd0aHVtYnNfZG93bicsICdjYW5jZWwnLCB7fSwgdHJ1ZSlcbiAgICB0aGlzLmFkZEdlc3R1cmVBY3Rpb24oJ2NpcmNsZScsICdyb3RhdGUnLCB7IGFuZ2xlOiAzNjAgfSwgdHJ1ZSlcblxuICAgIC8vIFN5c3RlbSBnZXN0dXJlc1xuICAgIHRoaXMuYWRkR2VzdHVyZUFjdGlvbignZG91YmxlX3N3aXBlJywgJ3N3aXRjaF9zY2VuZScsIHt9LCB0cnVlKVxuICAgIHRoaXMuYWRkR2VzdHVyZUFjdGlvbignaG9sZCcsICdvcGVuX3NldHRpbmdzJywge30sIHRydWUpXG4gIH1cblxuICAvLyBBZGQgZ2VzdHVyZSBhY3Rpb25cbiAgcHJpdmF0ZSBhZGRHZXN0dXJlQWN0aW9uKGdlc3R1cmVUeXBlOiBzdHJpbmcsIGFjdGlvbjogc3RyaW5nLCBwYXJhbWV0ZXJzOiBhbnksIGVuYWJsZWQ6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBnZXN0dXJlQWN0aW9uOiBHZXN0dXJlQWN0aW9uID0ge1xuICAgICAgZ2VzdHVyZVR5cGU6IGdlc3R1cmVUeXBlLFxuICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICBwYXJhbWV0ZXJzOiBwYXJhbWV0ZXJzLFxuICAgICAgZW5hYmxlZDogZW5hYmxlZFxuICAgIH1cblxuICAgIHRoaXMuZ2VzdHVyZUFjdGlvbnMuc2V0KGAke2dlc3R1cmVUeXBlfV8ke2FjdGlvbn1gLCBnZXN0dXJlQWN0aW9uKVxuICB9XG5cbiAgLy8gQ3JlYXRlIGdlc3R1cmUgVUlcbiAgcHJpdmF0ZSBjcmVhdGVHZXN0dXJlVUkoKSB7XG4gICAgdGhpcy5nZXN0dXJlVUkgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKHRoaXMuZ2VzdHVyZVVJLCB7XG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoOCwgNSwgOCksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMywgMSwgMC4xKVxuICAgIH0pXG4gICAgTWVzaFJlbmRlcmVyLnNldEJveCh0aGlzLmdlc3R1cmVVSSlcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbCh0aGlzLmdlc3R1cmVVSSwge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjIsIDAuNCwgMC45KSxcbiAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4yLCAwLjQsIDAuOCwgMC41KSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAyXG4gICAgfSlcblxuICAgIGNvbnN0IHRpdGxlID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZSh0aXRsZSwge1xuICAgICAgcGFyZW50OiB0aGlzLmdlc3R1cmVVSSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLjMsIDAuMSksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4zLCAwLjMsIDAuMylcbiAgICB9KVxuICAgIFRleHRTaGFwZS5jcmVhdGUodGl0bGUsIHtcbiAgICAgIHRleHQ6ICdcdUQ4M0RcdURDNEIgR0VTVFVSRSBDT05UUk9MIEFDVElWRScsXG4gICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICBmb250U2l6ZTogMixcbiAgICAgIHRleHRBbGlnbjogM1xuICAgIH0pXG5cbiAgICAvLyBHZXN0dXJlIGluZGljYXRvcnNcbiAgICB0aGlzLmNyZWF0ZUdlc3R1cmVJbmRpY2F0b3JzKClcbiAgfVxuXG4gIC8vIENyZWF0ZSBnZXN0dXJlIGluZGljYXRvcnNcbiAgcHJpdmF0ZSBjcmVhdGVHZXN0dXJlSW5kaWNhdG9ycygpIHtcbiAgICBjb25zdCBpbmRpY2F0b3JQb3NpdGlvbnMgPSBbXG4gICAgICB7IHg6IC0xLCB5OiAtMC4yLCBnZXN0dXJlOiAnXHVEODNEXHVEQzQ2JyB9LFxuICAgICAgeyB4OiAtMC41LCB5OiAtMC4yLCBnZXN0dXJlOiAnXHVEODNFXHVERDFBJyB9LFxuICAgICAgeyB4OiAwLCB5OiAtMC4yLCBnZXN0dXJlOiAnXHVEODNEXHVEQzRDJyB9LFxuICAgICAgeyB4OiAwLjUsIHk6IC0wLjIsIGdlc3R1cmU6ICdcdUQ4M0RcdURDNEInIH0sXG4gICAgICB7IHg6IDEsIHk6IC0wLjIsIGdlc3R1cmU6ICdcdUQ4M0RcdURDNEQnIH1cbiAgICBdXG5cbiAgICBpbmRpY2F0b3JQb3NpdGlvbnMuZm9yRWFjaChwb3MgPT4ge1xuICAgICAgY29uc3QgaW5kaWNhdG9yID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgICBUcmFuc2Zvcm0uY3JlYXRlKGluZGljYXRvciwge1xuICAgICAgICBwYXJlbnQ6IHRoaXMuZ2VzdHVyZVVJLFxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUocG9zLngsIHBvcy55LCAwLjEpLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4yLCAwLjIsIDAuMSlcbiAgICAgIH0pXG4gICAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGluZGljYXRvcilcbiAgICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGluZGljYXRvciwge1xuICAgICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuOCwgMC4yLCAxKSxcbiAgICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuOCwgMC4yLCAwLjUpLFxuICAgICAgICBlbWlzc2l2ZUludGVuc2l0eTogMVxuICAgICAgfSlcblxuICAgICAgY29uc3QgZ2VzdHVyZVRleHQgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIFRyYW5zZm9ybS5jcmVhdGUoZ2VzdHVyZVRleHQsIHtcbiAgICAgICAgcGFyZW50OiBpbmRpY2F0b3IsXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwLjEpLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC41LCAwLjUsIDAuNSlcbiAgICAgIH0pXG4gICAgICBUZXh0U2hhcGUuY3JlYXRlKGdlc3R1cmVUZXh0LCB7XG4gICAgICAgIHRleHQ6IHBvcy5nZXN0dXJlLFxuICAgICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICAgIGZvbnRTaXplOiAyLFxuICAgICAgICB0ZXh0QWxpZ246IDNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8vIFN0YXJ0IGhhbmQgdHJhY2tpbmcgc2ltdWxhdGlvblxuICBwcml2YXRlIHN0YXJ0SGFuZFRyYWNraW5nKCkge1xuICAgIHRoaXMuaGFuZFRyYWNraW5nLmlzQWN0aXZlID0gdHJ1ZVxuXG4gICAgLy8gU2ltdWxhdGUgaGFuZCB0cmFja2luZyBkYXRhXG4gICAgZW5naW5lLmFkZFN5c3RlbSgoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCB8fCAhdGhpcy5oYW5kVHJhY2tpbmcuaXNBY3RpdmUpIHJldHVyblxuXG4gICAgICB0aGlzLnVwZGF0ZUhhbmRUcmFja2luZygpXG4gICAgfSlcbiAgfVxuXG4gIC8vIFVwZGF0ZSBoYW5kIHRyYWNraW5nXG4gIHByaXZhdGUgdXBkYXRlSGFuZFRyYWNraW5nKCkge1xuICAgIGNvbnN0IHRpbWUgPSBEYXRlLm5vdygpIC8gMTAwMFxuXG4gICAgLy8gU2ltdWxhdGUgcmlnaHQgaGFuZCBwb3NpdGlvblxuICAgIHRoaXMuaGFuZFRyYWNraW5nLnJpZ2h0SGFuZCA9IHtcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZShcbiAgICAgICAgOCArIE1hdGguc2luKHRpbWUgKiAwLjUpICogMixcbiAgICAgICAgMiArIE1hdGguY29zKHRpbWUgKiAwLjMpICogMC41LFxuICAgICAgICA4ICsgTWF0aC5jb3ModGltZSAqIDAuNCkgKiAyXG4gICAgICApLFxuICAgICAgcm90YXRpb246IFF1YXRlcm5pb24uZnJvbUV1bGVyRGVncmVlcyhcbiAgICAgICAgTWF0aC5zaW4odGltZSAqIDAuMikgKiAyMCxcbiAgICAgICAgTWF0aC5jb3ModGltZSAqIDAuMykgKiAzMCxcbiAgICAgICAgTWF0aC5zaW4odGltZSAqIDAuNCkgKiAxMFxuICAgICAgKSxcbiAgICAgIGZpbmdlcnM6IHRoaXMuc2ltdWxhdGVGaW5nZXJzKHRpbWUpLFxuICAgICAgY29uZmlkZW5jZTogMC45XG4gICAgfVxuXG4gICAgLy8gU2ltdWxhdGUgbGVmdCBoYW5kIHBvc2l0aW9uXG4gICAgdGhpcy5oYW5kVHJhY2tpbmcubGVmdEhhbmQgPSB7XG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoXG4gICAgICAgIDggKyBNYXRoLmNvcyh0aW1lICogMC40KSAqIDEuNSxcbiAgICAgICAgMiArIE1hdGguc2luKHRpbWUgKiAwLjUpICogMC4zLFxuICAgICAgICA4ICsgTWF0aC5zaW4odGltZSAqIDAuMykgKiAxLjVcbiAgICAgICksXG4gICAgICByb3RhdGlvbjogUXVhdGVybmlvbi5mcm9tRXVsZXJEZWdyZWVzKFxuICAgICAgICBNYXRoLmNvcyh0aW1lICogMC4zKSAqIDE1LFxuICAgICAgICBNYXRoLnNpbih0aW1lICogMC40KSAqIDI1LFxuICAgICAgICBNYXRoLmNvcyh0aW1lICogMC4yKSAqIDhcbiAgICAgICksXG4gICAgICBmaW5nZXJzOiB0aGlzLnNpbXVsYXRlRmluZ2Vycyh0aW1lICsgTWF0aC5QSSksXG4gICAgICBjb25maWRlbmNlOiAwLjg1XG4gICAgfVxuXG4gICAgdGhpcy5oYW5kVHJhY2tpbmcubGFzdFVwZGF0ZSA9IERhdGUubm93KClcbiAgfVxuXG4gIC8vIFNpbXVsYXRlIGZpbmdlciBkYXRhXG4gIHByaXZhdGUgc2ltdWxhdGVGaW5nZXJzKHRpbWU6IG51bWJlcik6IEZpbmdlckRhdGFbXSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgaWQ6ICd0aHVtYicsXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLjEsIDAuMSwgMC4wNSksXG4gICAgICAgIGlzRXh0ZW5kZWQ6IE1hdGguc2luKHRpbWUgKiAyKSA+IDAsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuOVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdpbmRleCcsXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLjE1LCAwLjE1LCAwLjEpLFxuICAgICAgICBpc0V4dGVuZGVkOiBNYXRoLnNpbih0aW1lICogMykgPiAtMC41LFxuICAgICAgICBjb25maWRlbmNlOiAwLjk1XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJ21pZGRsZScsXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLjEsIDAuMiwgMC4wOCksXG4gICAgICAgIGlzRXh0ZW5kZWQ6IE1hdGguc2luKHRpbWUgKiAyLjUpID4gLTAuMyxcbiAgICAgICAgY29uZmlkZW5jZTogMC45XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJ3JpbmcnLFxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMC4wNSwgMC4xOCwgMC4wNiksXG4gICAgICAgIGlzRXh0ZW5kZWQ6IE1hdGguc2luKHRpbWUgKiAyLjIpID4gLTAuMixcbiAgICAgICAgY29uZmlkZW5jZTogMC44NVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdwaW5reScsXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLjE1LCAwLjA0KSxcbiAgICAgICAgaXNFeHRlbmRlZDogTWF0aC5zaW4odGltZSAqIDIuOCkgPiAtMC4xLFxuICAgICAgICBjb25maWRlbmNlOiAwLjhcbiAgICAgIH1cbiAgICBdXG4gIH1cblxuICAvLyBTdGFydCBnZXN0dXJlIHJlY29nbml0aW9uXG4gIHByaXZhdGUgc3RhcnRHZXN0dXJlUmVjb2duaXRpb24oKSB7XG4gICAgZW5naW5lLmFkZFN5c3RlbSgoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCkgcmV0dXJuXG5cbiAgICAgIHRoaXMuZGV0ZWN0R2VzdHVyZXMoKVxuICAgICAgdGhpcy51cGRhdGVHZXN0dXJlVHJhaWxzKClcbiAgICB9KVxuICB9XG5cbiAgLy8gRGV0ZWN0IGdlc3R1cmVzXG4gIHByaXZhdGUgZGV0ZWN0R2VzdHVyZXMoKSB7XG4gICAgaWYgKCF0aGlzLmhhbmRUcmFja2luZy5yaWdodEhhbmQpIHJldHVyblxuXG4gICAgY29uc3QgaGFuZCA9IHRoaXMuaGFuZFRyYWNraW5nLnJpZ2h0SGFuZFxuICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKVxuXG4gICAgLy8gRGV0ZWN0IGRpZmZlcmVudCBnZXN0dXJlcyBiYXNlZCBvbiBoYW5kIHBvc2l0aW9uIGFuZCBmaW5nZXIgY29uZmlndXJhdGlvblxuICAgIHRoaXMuZGV0ZWN0U3dpcGVHZXN0dXJlKGhhbmQsIGN1cnJlbnRUaW1lKVxuICAgIHRoaXMuZGV0ZWN0Q2lyY2xlR2VzdHVyZShoYW5kLCBjdXJyZW50VGltZSlcbiAgICB0aGlzLmRldGVjdFBpbmNoR2VzdHVyZShoYW5kLCBjdXJyZW50VGltZSlcbiAgICB0aGlzLmRldGVjdFdhdmVHZXN0dXJlKGhhbmQsIGN1cnJlbnRUaW1lKVxuICAgIHRoaXMuZGV0ZWN0UG9pbnRHZXN0dXJlKGhhbmQsIGN1cnJlbnRUaW1lKVxuICAgIHRoaXMuZGV0ZWN0VGh1bWJzR2VzdHVyZShoYW5kLCBjdXJyZW50VGltZSlcbiAgfVxuXG4gIC8vIERldGVjdCBzd2lwZSBnZXN0dXJlXG4gIHByaXZhdGUgZGV0ZWN0U3dpcGVHZXN0dXJlKGhhbmQ6IEhhbmREYXRhLCBjdXJyZW50VGltZTogbnVtYmVyKSB7XG4gICAgLy8gU2ltcGxlIHN3aXBlIGRldGVjdGlvbiBiYXNlZCBvbiBoYW5kIG1vdmVtZW50XG4gICAgY29uc3QgZ2VzdHVyZUlkID0gJ3N3aXBlJ1xuICAgIGxldCBleGlzdGluZ0dlc3R1cmUgPSB0aGlzLmdlc3R1cmVzLmdldChnZXN0dXJlSWQpXG5cbiAgICBpZiAoIWV4aXN0aW5nR2VzdHVyZSkge1xuICAgICAgZXhpc3RpbmdHZXN0dXJlID0ge1xuICAgICAgICBpZDogZ2VzdHVyZUlkLFxuICAgICAgICBuYW1lOiAnU3dpcGUnLFxuICAgICAgICB0eXBlOiAnc3dpcGUnLFxuICAgICAgICBjb25maWRlbmNlOiAwLFxuICAgICAgICBpc0FjdGl2ZTogZmFsc2UsXG4gICAgICAgIHN0YXJ0UG9pbnQ6IGhhbmQucG9zaXRpb24sXG4gICAgICAgIGVuZFBvaW50OiBoYW5kLnBvc2l0aW9uLFxuICAgICAgICBkdXJhdGlvbjogMCxcbiAgICAgICAgcGF0aDogW2hhbmQucG9zaXRpb25dXG4gICAgICB9XG4gICAgICB0aGlzLmdlc3R1cmVzLnNldChnZXN0dXJlSWQsIGV4aXN0aW5nR2VzdHVyZSlcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgZ2VzdHVyZSBwYXRoXG4gICAgZXhpc3RpbmdHZXN0dXJlLnBhdGgucHVzaChoYW5kLnBvc2l0aW9uKVxuICAgIGV4aXN0aW5nR2VzdHVyZS5lbmRQb2ludCA9IGhhbmQucG9zaXRpb25cbiAgICBleGlzdGluZ0dlc3R1cmUuZHVyYXRpb24gPSBjdXJyZW50VGltZSAtIChleGlzdGluZ0dlc3R1cmUuZHVyYXRpb24gfHwgY3VycmVudFRpbWUpXG5cbiAgICAvLyBDaGVjayBpZiBzd2lwZSBpcyBjb21wbGV0ZVxuICAgIGNvbnN0IGRpc3RhbmNlID0gVmVjdG9yMy5kaXN0YW5jZShleGlzdGluZ0dlc3R1cmUuc3RhcnRQb2ludCwgZXhpc3RpbmdHZXN0dXJlLmVuZFBvaW50KVxuICAgIGlmIChkaXN0YW5jZSA+IDEuMCAmJiBleGlzdGluZ0dlc3R1cmUuZHVyYXRpb24gPiA1MDApIHtcbiAgICAgIGV4aXN0aW5nR2VzdHVyZS5pc0FjdGl2ZSA9IHRydWVcbiAgICAgIGV4aXN0aW5nR2VzdHVyZS5jb25maWRlbmNlID0gTWF0aC5taW4oMS4wLCBkaXN0YW5jZSAvIDIuMClcblxuICAgICAgdGhpcy5vbkdlc3R1cmVEZXRlY3RlZChleGlzdGluZ0dlc3R1cmUpXG4gICAgICB0aGlzLmdlc3R1cmVzLmRlbGV0ZShnZXN0dXJlSWQpXG4gICAgfVxuICB9XG5cbiAgLy8gRGV0ZWN0IGNpcmNsZSBnZXN0dXJlXG4gIHByaXZhdGUgZGV0ZWN0Q2lyY2xlR2VzdHVyZShoYW5kOiBIYW5kRGF0YSwgY3VycmVudFRpbWU6IG51bWJlcikge1xuICAgIGNvbnN0IGdlc3R1cmVJZCA9ICdjaXJjbGUnXG4gICAgbGV0IGV4aXN0aW5nR2VzdHVyZSA9IHRoaXMuZ2VzdHVyZXMuZ2V0KGdlc3R1cmVJZClcblxuICAgIGlmICghZXhpc3RpbmdHZXN0dXJlKSB7XG4gICAgICBleGlzdGluZ0dlc3R1cmUgPSB7XG4gICAgICAgIGlkOiBnZXN0dXJlSWQsXG4gICAgICAgIG5hbWU6ICdDaXJjbGUnLFxuICAgICAgICB0eXBlOiAnY2lyY2xlJyxcbiAgICAgICAgY29uZmlkZW5jZTogMCxcbiAgICAgICAgaXNBY3RpdmU6IGZhbHNlLFxuICAgICAgICBzdGFydFBvaW50OiBoYW5kLnBvc2l0aW9uLFxuICAgICAgICBlbmRQb2ludDogaGFuZC5wb3NpdGlvbixcbiAgICAgICAgZHVyYXRpb246IDAsXG4gICAgICAgIHBhdGg6IFtoYW5kLnBvc2l0aW9uXVxuICAgICAgfVxuICAgICAgdGhpcy5nZXN0dXJlcy5zZXQoZ2VzdHVyZUlkLCBleGlzdGluZ0dlc3R1cmUpXG4gICAgfVxuXG4gICAgZXhpc3RpbmdHZXN0dXJlLnBhdGgucHVzaChoYW5kLnBvc2l0aW9uKVxuICAgIGV4aXN0aW5nR2VzdHVyZS5kdXJhdGlvbiA9IGN1cnJlbnRUaW1lIC0gKGV4aXN0aW5nR2VzdHVyZS5kdXJhdGlvbiB8fCBjdXJyZW50VGltZSlcblxuICAgIC8vIENoZWNrIGlmIHBhdGggZm9ybXMgYSBjaXJjbGVcbiAgICBpZiAoZXhpc3RpbmdHZXN0dXJlLnBhdGgubGVuZ3RoID4gMjApIHtcbiAgICAgIGNvbnN0IGlzQ2lyY2xlID0gdGhpcy5pc0NpcmN1bGFyUGF0aChleGlzdGluZ0dlc3R1cmUucGF0aClcbiAgICAgIGlmIChpc0NpcmNsZSkge1xuICAgICAgICBleGlzdGluZ0dlc3R1cmUuaXNBY3RpdmUgPSB0cnVlXG4gICAgICAgIGV4aXN0aW5nR2VzdHVyZS5jb25maWRlbmNlID0gMC44XG5cbiAgICAgICAgdGhpcy5vbkdlc3R1cmVEZXRlY3RlZChleGlzdGluZ0dlc3R1cmUpXG4gICAgICAgIHRoaXMuZ2VzdHVyZXMuZGVsZXRlKGdlc3R1cmVJZClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBEZXRlY3QgcGluY2ggZ2VzdHVyZVxuICBwcml2YXRlIGRldGVjdFBpbmNoR2VzdHVyZShoYW5kOiBIYW5kRGF0YSwgY3VycmVudFRpbWU6IG51bWJlcikge1xuICAgIGNvbnN0IHRodW1iRXh0ZW5kZWQgPSBoYW5kLmZpbmdlcnMuZmluZChmID0+IGYuaWQgPT09ICd0aHVtYicpPy5pc0V4dGVuZGVkXG4gICAgY29uc3QgaW5kZXhFeHRlbmRlZCA9IGhhbmQuZmluZ2Vycy5maW5kKGYgPT4gZi5pZCA9PT0gJ2luZGV4Jyk/LmlzRXh0ZW5kZWRcblxuICAgIGlmICh0aHVtYkV4dGVuZGVkICYmIGluZGV4RXh0ZW5kZWQpIHtcbiAgICAgIGNvbnN0IHRodW1iID0gaGFuZC5maW5nZXJzLmZpbmQoZiA9PiBmLmlkID09PSAndGh1bWInKVxuICAgICAgY29uc3QgaW5kZXggPSBoYW5kLmZpbmdlcnMuZmluZChmID0+IGYuaWQgPT09ICdpbmRleCcpXG5cbiAgICAgIGlmICh0aHVtYiAmJiBpbmRleCkge1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IFZlY3RvcjMuZGlzdGFuY2UodGh1bWIucG9zaXRpb24sIGluZGV4LnBvc2l0aW9uKVxuXG4gICAgICAgIGlmIChkaXN0YW5jZSA8IDAuMDUpIHtcbiAgICAgICAgICBjb25zdCBnZXN0dXJlOiBHZXN0dXJlID0ge1xuICAgICAgICAgICAgaWQ6ICdwaW5jaCcsXG4gICAgICAgICAgICBuYW1lOiAnUGluY2gnLFxuICAgICAgICAgICAgdHlwZTogJ3BpbmNoJyxcbiAgICAgICAgICAgIGNvbmZpZGVuY2U6IDAuOSxcbiAgICAgICAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgICAgICAgc3RhcnRQb2ludDogaGFuZC5wb3NpdGlvbixcbiAgICAgICAgICAgIGVuZFBvaW50OiBoYW5kLnBvc2l0aW9uLFxuICAgICAgICAgICAgZHVyYXRpb246IDAsXG4gICAgICAgICAgICBwYXRoOiBbaGFuZC5wb3NpdGlvbl1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLm9uR2VzdHVyZURldGVjdGVkKGdlc3R1cmUpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBEZXRlY3Qgd2F2ZSBnZXN0dXJlXG4gIHByaXZhdGUgZGV0ZWN0V2F2ZUdlc3R1cmUoaGFuZDogSGFuZERhdGEsIGN1cnJlbnRUaW1lOiBudW1iZXIpIHtcbiAgICBjb25zdCBnZXN0dXJlSWQgPSAnd2F2ZSdcbiAgICBsZXQgZXhpc3RpbmdHZXN0dXJlID0gdGhpcy5nZXN0dXJlcy5nZXQoZ2VzdHVyZUlkKVxuXG4gICAgaWYgKCFleGlzdGluZ0dlc3R1cmUpIHtcbiAgICAgIGV4aXN0aW5nR2VzdHVyZSA9IHtcbiAgICAgICAgaWQ6IGdlc3R1cmVJZCxcbiAgICAgICAgbmFtZTogJ1dhdmUnLFxuICAgICAgICB0eXBlOiAnd2F2ZScsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAsXG4gICAgICAgIGlzQWN0aXZlOiBmYWxzZSxcbiAgICAgICAgc3RhcnRQb2ludDogaGFuZC5wb3NpdGlvbixcbiAgICAgICAgZW5kUG9pbnQ6IGhhbmQucG9zaXRpb24sXG4gICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICBwYXRoOiBbaGFuZC5wb3NpdGlvbl1cbiAgICAgIH1cbiAgICAgIHRoaXMuZ2VzdHVyZXMuc2V0KGdlc3R1cmVJZCwgZXhpc3RpbmdHZXN0dXJlKVxuICAgIH1cblxuICAgIGV4aXN0aW5nR2VzdHVyZS5wYXRoLnB1c2goaGFuZC5wb3NpdGlvbilcbiAgICBleGlzdGluZ0dlc3R1cmUuZHVyYXRpb24gPSBjdXJyZW50VGltZSAtIChleGlzdGluZ0dlc3R1cmUuZHVyYXRpb24gfHwgY3VycmVudFRpbWUpXG5cbiAgICAvLyBDaGVjayBmb3Igd2F2aW5nIG1vdGlvbiAoYWx0ZXJuYXRpbmcgbGVmdC1yaWdodCBtb3ZlbWVudClcbiAgICBpZiAoZXhpc3RpbmdHZXN0dXJlLnBhdGgubGVuZ3RoID4gMTApIHtcbiAgICAgIGNvbnN0IGlzV2F2aW5nID0gdGhpcy5pc1dhdmluZ01vdGlvbihleGlzdGluZ0dlc3R1cmUucGF0aClcbiAgICAgIGlmIChpc1dhdmluZykge1xuICAgICAgICBleGlzdGluZ0dlc3R1cmUuaXNBY3RpdmUgPSB0cnVlXG4gICAgICAgIGV4aXN0aW5nR2VzdHVyZS5jb25maWRlbmNlID0gMC43XG5cbiAgICAgICAgdGhpcy5vbkdlc3R1cmVEZXRlY3RlZChleGlzdGluZ0dlc3R1cmUpXG4gICAgICAgIHRoaXMuZ2VzdHVyZXMuZGVsZXRlKGdlc3R1cmVJZClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBEZXRlY3QgcG9pbnQgZ2VzdHVyZVxuICBwcml2YXRlIGRldGVjdFBvaW50R2VzdHVyZShoYW5kOiBIYW5kRGF0YSwgY3VycmVudFRpbWU6IG51bWJlcikge1xuICAgIGNvbnN0IGluZGV4RXh0ZW5kZWQgPSBoYW5kLmZpbmdlcnMuZmluZChmID0+IGYuaWQgPT09ICdpbmRleCcpPy5pc0V4dGVuZGVkXG4gICAgY29uc3Qgb3RoZXJGaW5nZXJzRXh0ZW5kZWQgPSBoYW5kLmZpbmdlcnMuZmlsdGVyKGYgPT4gZi5pZCAhPT0gJ2luZGV4Jykuc29tZShmID0+IGYuaXNFeHRlbmRlZClcblxuICAgIGlmIChpbmRleEV4dGVuZGVkICYmICFvdGhlckZpbmdlcnNFeHRlbmRlZCkge1xuICAgICAgY29uc3QgZ2VzdHVyZTogR2VzdHVyZSA9IHtcbiAgICAgICAgaWQ6ICdwb2ludCcsXG4gICAgICAgIG5hbWU6ICdQb2ludCcsXG4gICAgICAgIHR5cGU6ICdwb2ludCcsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuODUsXG4gICAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgICBzdGFydFBvaW50OiBoYW5kLnBvc2l0aW9uLFxuICAgICAgICBlbmRQb2ludDogaGFuZC5wb3NpdGlvbixcbiAgICAgICAgZHVyYXRpb246IDAsXG4gICAgICAgIHBhdGg6IFtoYW5kLnBvc2l0aW9uXVxuICAgICAgfVxuXG4gICAgICB0aGlzLm9uR2VzdHVyZURldGVjdGVkKGdlc3R1cmUpXG4gICAgfVxuICB9XG5cbiAgLy8gRGV0ZWN0IHRodW1icyB1cC9kb3duIGdlc3R1cmVcbiAgcHJpdmF0ZSBkZXRlY3RUaHVtYnNHZXN0dXJlKGhhbmQ6IEhhbmREYXRhLCBjdXJyZW50VGltZTogbnVtYmVyKSB7XG4gICAgY29uc3QgdGh1bWJFeHRlbmRlZCA9IGhhbmQuZmluZ2Vycy5maW5kKGYgPT4gZi5pZCA9PT0gJ3RodW1iJyk/LmlzRXh0ZW5kZWRcbiAgICBjb25zdCBvdGhlckZpbmdlcnNFeHRlbmRlZCA9IGhhbmQuZmluZ2Vycy5maWx0ZXIoZiA9PiBmLmlkICE9PSAndGh1bWInKS5zb21lKGYgPT4gZi5pc0V4dGVuZGVkKVxuXG4gICAgaWYgKHRodW1iRXh0ZW5kZWQgJiYgIW90aGVyRmluZ2Vyc0V4dGVuZGVkKSB7XG4gICAgICBjb25zdCBnZXN0dXJlOiBHZXN0dXJlID0ge1xuICAgICAgICBpZDogJ3RodW1ic191cCcsXG4gICAgICAgIG5hbWU6ICdUaHVtYnMgVXAnLFxuICAgICAgICB0eXBlOiAndGh1bWJzX3VwJyxcbiAgICAgICAgY29uZmlkZW5jZTogMC45LFxuICAgICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgICAgc3RhcnRQb2ludDogaGFuZC5wb3NpdGlvbixcbiAgICAgICAgZW5kUG9pbnQ6IGhhbmQucG9zaXRpb24sXG4gICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICBwYXRoOiBbaGFuZC5wb3NpdGlvbl1cbiAgICAgIH1cblxuICAgICAgdGhpcy5vbkdlc3R1cmVEZXRlY3RlZChnZXN0dXJlKVxuICAgIH1cbiAgfVxuXG4gIC8vIENoZWNrIGlmIHBhdGggaXMgY2lyY3VsYXJcbiAgcHJpdmF0ZSBpc0NpcmN1bGFyUGF0aChwYXRoOiBWZWN0b3IzW10pOiBib29sZWFuIHtcbiAgICBpZiAocGF0aC5sZW5ndGggPCAxMCkgcmV0dXJuIGZhbHNlXG5cbiAgICBjb25zdCBjZW50ZXIgPSBWZWN0b3IzLmxlcnAocGF0aFswXSwgcGF0aFtwYXRoLmxlbmd0aCAtIDFdLCAwLjUpXG4gICAgY29uc3QgcmFkaXVzID0gVmVjdG9yMy5kaXN0YW5jZShwYXRoWzBdLCBjZW50ZXIpXG5cbiAgICAvLyBDaGVjayBpZiBhbGwgcG9pbnRzIGFyZSByb3VnaGx5IGF0IHRoZSBzYW1lIGRpc3RhbmNlIGZyb20gY2VudGVyXG4gICAgbGV0IGlzQ2lyY3VsYXIgPSB0cnVlXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBkaXN0YW5jZSA9IFZlY3RvcjMuZGlzdGFuY2UocGF0aFtpXSwgY2VudGVyKVxuICAgICAgaWYgKE1hdGguYWJzKGRpc3RhbmNlIC0gcmFkaXVzKSA+IHJhZGl1cyAqIDAuMykge1xuICAgICAgICBpc0NpcmN1bGFyID0gZmFsc2VcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaXNDaXJjdWxhclxuICB9XG5cbiAgLy8gQ2hlY2sgZm9yIHdhdmluZyBtb3Rpb25cbiAgcHJpdmF0ZSBpc1dhdmluZ01vdGlvbihwYXRoOiBWZWN0b3IzW10pOiBib29sZWFuIHtcbiAgICBpZiAocGF0aC5sZW5ndGggPCAxMCkgcmV0dXJuIGZhbHNlXG5cbiAgICBsZXQgZGlyZWN0aW9uQ2hhbmdlcyA9IDBcbiAgICBsZXQgbGFzdERpcmVjdGlvbiA9IDBcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZGlyZWN0aW9uID0gcGF0aFtpXS54IC0gcGF0aFtpIC0gMV0ueFxuICAgICAgaWYgKE1hdGguc2lnbihkaXJlY3Rpb24pICE9PSBNYXRoLnNpZ24obGFzdERpcmVjdGlvbikgJiYgbGFzdERpcmVjdGlvbiAhPT0gMCkge1xuICAgICAgICBkaXJlY3Rpb25DaGFuZ2VzKytcbiAgICAgIH1cbiAgICAgIGxhc3REaXJlY3Rpb24gPSBkaXJlY3Rpb25cbiAgICB9XG5cbiAgICByZXR1cm4gZGlyZWN0aW9uQ2hhbmdlcyA+PSAzXG4gIH1cblxuICAvLyBIYW5kbGUgZGV0ZWN0ZWQgZ2VzdHVyZVxuICBwcml2YXRlIG9uR2VzdHVyZURldGVjdGVkKGdlc3R1cmU6IEdlc3R1cmUpIHtcbiAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVEQzRCIEdlc3R1cmUgZGV0ZWN0ZWQ6ICR7Z2VzdHVyZS5uYW1lfSAoY29uZmlkZW5jZTogJHtnZXN0dXJlLmNvbmZpZGVuY2UudG9GaXhlZCgyKX0pYClcblxuICAgIC8vIEFkZCB0byBoaXN0b3J5XG4gICAgdGhpcy5nZXN0dXJlSGlzdG9yeS5wdXNoKGdlc3R1cmUpXG4gICAgaWYgKHRoaXMuZ2VzdHVyZUhpc3RvcnkubGVuZ3RoID4gdGhpcy5tYXhIaXN0b3J5TGVuZ3RoKSB7XG4gICAgICB0aGlzLmdlc3R1cmVIaXN0b3J5LnNoaWZ0KClcbiAgICB9XG5cbiAgICAvLyBGaW5kIGFuZCBleGVjdXRlIGFjdGlvblxuICAgIHRoaXMuZ2VzdHVyZUFjdGlvbnMuZm9yRWFjaCgoYWN0aW9uLCBrZXkpID0+IHtcbiAgICAgIGlmIChhY3Rpb24uZW5hYmxlZCAmJiBrZXkuc3RhcnRzV2l0aChnZXN0dXJlLnR5cGUpKSB7XG4gICAgICAgIHRoaXMuZXhlY3V0ZUdlc3R1cmVBY3Rpb24oYWN0aW9uKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBQbGF5IGZlZWRiYWNrIHNvdW5kXG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ2NsaWNrJylcblxuICAgIC8vIENyZWF0ZSB2aXN1YWwgZmVlZGJhY2tcbiAgICB0aGlzLmNyZWF0ZUdlc3R1cmVGZWVkYmFjayhnZXN0dXJlKVxuICB9XG5cbiAgLy8gRXhlY3V0ZSBnZXN0dXJlIGFjdGlvblxuICBwcml2YXRlIGV4ZWN1dGVHZXN0dXJlQWN0aW9uKGFjdGlvbjogR2VzdHVyZUFjdGlvbikge1xuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0NcdURGQUYgRXhlY3V0aW5nIGFjdGlvbjogJHthY3Rpb24uYWN0aW9ufSB3aXRoIHBhcmFtZXRlcnM6YCwgYWN0aW9uLnBhcmFtZXRlcnMpXG5cbiAgICBzd2l0Y2ggKGFjdGlvbi5hY3Rpb24pIHtcbiAgICAgIGNhc2UgJ25hdmlnYXRlJzpcbiAgICAgICAgY29uc29sZS5sb2coYFx1RDgzRVx1RERFRCBOYXZpZ2F0aW5nICR7YWN0aW9uLnBhcmFtZXRlcnMuZGlyZWN0aW9ufWApXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdwdXNoX29iamVjdCc6XG4gICAgICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURDQUEgUHVzaGluZyBvYmplY3Qgd2l0aCBmb3JjZTogJHthY3Rpb24ucGFyYW1ldGVycy5mb3JjZX1gKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAncHVsbF9vYmplY3QnOlxuICAgICAgICBjb25zb2xlLmxvZyhgXHVEODNDXHVERkFGIFB1bGxpbmcgb2JqZWN0IHdpdGggZm9yY2U6ICR7YWN0aW9uLnBhcmFtZXRlcnMuZm9yY2V9YClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3NlbGVjdF90YXJnZXQnOlxuICAgICAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVEQzQ2IFNlbGVjdGluZyB0YXJnZXQgaW4gJHthY3Rpb24ucGFyYW1ldGVycy5tb2RlfSBtb2RlYClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3pvb20nOlxuICAgICAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVERDBEIFpvb21pbmcgdG8gc2NhbGU6ICR7YWN0aW9uLnBhcmFtZXRlcnMuc2NhbGV9YClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3RvZ2dsZV9tZW51JzpcbiAgICAgICAgY29uc29sZS5sb2coYFx1RDgzRFx1RENDQiBUb2dnbGluZyBtZW51YClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2NvbmZpcm0nOlxuICAgICAgICBjb25zb2xlLmxvZyhgXHUyNzA1IENvbmZpcm1pbmcgYWN0aW9uYClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2NhbmNlbCc6XG4gICAgICAgIGNvbnNvbGUubG9nKGBcdTI3NEMgQ2FuY2VsaW5nIGFjdGlvbmApXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdyb3RhdGUnOlxuICAgICAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVERDA0IFJvdGF0aW5nIGJ5ICR7YWN0aW9uLnBhcmFtZXRlcnMuYW5nbGV9IGRlZ3JlZXNgKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnc3dpdGNoX3NjZW5lJzpcbiAgICAgICAgY29uc29sZS5sb2coYFx1RDgzQ1x1REZBQyBTd2l0Y2hpbmcgc2NlbmVgKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnb3Blbl9zZXR0aW5ncyc6XG4gICAgICAgIGNvbnNvbGUubG9nKGBcdTI2OTlcdUZFMEYgT3BlbmluZyBzZXR0aW5nc2ApXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgLy8gQ3JlYXRlIGdlc3R1cmUgZmVlZGJhY2tcbiAgcHJpdmF0ZSBjcmVhdGVHZXN0dXJlRmVlZGJhY2soZ2VzdHVyZTogR2VzdHVyZSkge1xuICAgIGNvbnN0IGZlZWRiYWNrID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZShmZWVkYmFjaywge1xuICAgICAgcG9zaXRpb246IGdlc3R1cmUuZW5kUG9pbnQsXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4yLCAwLjIsIDAuMilcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRTcGhlcmUoZmVlZGJhY2spXG4gICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoZmVlZGJhY2ssIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMiwgMC44LCAxLCAwLjgpLFxuICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuOCwgMSwgMSksXG4gICAgICBlbWlzc2l2ZUludGVuc2l0eTogM1xuICAgIH0pXG5cbiAgICAvLyBBbmltYXRlIGFuZCByZW1vdmUgZmVlZGJhY2tcbiAgICB0aGlzLmFuaW1hdGVHZXN0dXJlRmVlZGJhY2soZmVlZGJhY2spXG4gIH1cblxuICAvLyBBbmltYXRlIGdlc3R1cmUgZmVlZGJhY2tcbiAgcHJpdmF0ZSBhbmltYXRlR2VzdHVyZUZlZWRiYWNrKGZlZWRiYWNrOiBhbnkpIHtcbiAgICBsZXQgc2NhbGUgPSAwLjJcbiAgICBsZXQgb3BhY2l0eSA9IDEuMFxuXG4gICAgY29uc3QgYW5pbWF0ZSA9ICgpID0+IHtcbiAgICAgIHNjYWxlICs9IDAuMDJcbiAgICAgIG9wYWNpdHkgLT0gMC4wMlxuXG4gICAgICBjb25zdCB0cmFuc2Zvcm0gPSBUcmFuc2Zvcm0uZ2V0TXV0YWJsZShmZWVkYmFjaylcbiAgICAgIHRyYW5zZm9ybS5zY2FsZSA9IFZlY3RvcjMuY3JlYXRlKHNjYWxlLCBzY2FsZSwgc2NhbGUpXG5cbiAgICAgIGNvbnN0IG1hdGVyaWFsID0gTWF0ZXJpYWwuZ2V0TXV0YWJsZShmZWVkYmFjaylcbiAgICAgIGlmIChtYXRlcmlhbCAmJiBtYXRlcmlhbC4kY2FzZSA9PT0gJ3BicicpIHtcbiAgICAgICAgbWF0ZXJpYWwucGJyLmFsYmVkb0NvbG9yID0gQ29sb3I0LmNyZWF0ZSgwLjIsIDAuOCwgMSwgb3BhY2l0eSlcbiAgICAgIH1cblxuICAgICAgaWYgKG9wYWNpdHkgPiAwKSB7XG4gICAgICAgIHNldFRpbWVvdXQoYW5pbWF0ZSwgMTYpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbmdpbmUucmVtb3ZlRW50aXR5KGZlZWRiYWNrKVxuICAgICAgfVxuICAgIH1cblxuICAgIGFuaW1hdGUoKVxuICB9XG5cbiAgLy8gVXBkYXRlIGdlc3R1cmUgdHJhaWxzXG4gIHByaXZhdGUgdXBkYXRlR2VzdHVyZVRyYWlscygpIHtcbiAgICBpZiAoIXRoaXMuaGFuZFRyYWNraW5nLnJpZ2h0SGFuZCkgcmV0dXJuXG5cbiAgICBjb25zdCBoYW5kID0gdGhpcy5oYW5kVHJhY2tpbmcucmlnaHRIYW5kXG4gICAgY29uc3QgdHJhaWxJZCA9ICdyaWdodF9oYW5kJ1xuXG4gICAgaWYgKCF0aGlzLmdlc3R1cmVUcmFpbHMuaGFzKHRyYWlsSWQpKSB7XG4gICAgICB0aGlzLmdlc3R1cmVUcmFpbHMuc2V0KHRyYWlsSWQsIFtdKVxuICAgIH1cblxuICAgIGNvbnN0IHRyYWlsID0gdGhpcy5nZXN0dXJlVHJhaWxzLmdldCh0cmFpbElkKSFcblxuICAgIC8vIEFkZCBjdXJyZW50IHBvc2l0aW9uIHRvIHRyYWlsXG4gICAgY29uc3QgdHJhaWxQb2ludCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUodHJhaWxQb2ludCwge1xuICAgICAgcG9zaXRpb246IGhhbmQucG9zaXRpb24sXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4wNSwgMC4wNSwgMC4wNSlcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRTcGhlcmUodHJhaWxQb2ludClcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbCh0cmFpbFBvaW50LCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjUsIDAuOCwgMSwgMC42KSxcbiAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC41LCAwLjgsIDEsIDAuOCksXG4gICAgICBlbWlzc2l2ZUludGVuc2l0eTogMlxuICAgIH0pXG5cbiAgICB0cmFpbC5wdXNoKHRyYWlsUG9pbnQpXG5cbiAgICAvLyBMaW1pdCB0cmFpbCBsZW5ndGhcbiAgICBpZiAodHJhaWwubGVuZ3RoID4gMjApIHtcbiAgICAgIGNvbnN0IG9sZFBvaW50ID0gdHJhaWwuc2hpZnQoKVxuICAgICAgZW5naW5lLnJlbW92ZUVudGl0eShvbGRQb2ludClcbiAgICB9XG5cbiAgICAvLyBGYWRlIHRyYWlsXG4gICAgdHJhaWwuZm9yRWFjaCgocG9pbnQsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBvcGFjaXR5ID0gKGluZGV4IC8gdHJhaWwubGVuZ3RoKSAqIDAuNlxuICAgICAgY29uc3QgbWF0ZXJpYWwgPSBNYXRlcmlhbC5nZXRNdXRhYmxlKHBvaW50KVxuICAgICAgaWYgKG1hdGVyaWFsICYmIG1hdGVyaWFsLiRjYXNlID09PSAncGJyJykge1xuICAgICAgICBtYXRlcmlhbC5wYnIuYWxiZWRvQ29sb3IgPSBDb2xvcjQuY3JlYXRlKDAuNSwgMC44LCAxLCBvcGFjaXR5KVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvLyBFbmFibGUvZGlzYWJsZSBnZXN0dXJlIHJlY29nbml0aW9uXG4gIHB1YmxpYyBzZXRHZXN0dXJlUmVjb2duaXRpb24oZW5hYmxlZDogYm9vbGVhbikge1xuICAgIHRoaXMuaGFuZFRyYWNraW5nLmlzQWN0aXZlID0gZW5hYmxlZFxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURDNEIgR2VzdHVyZSByZWNvZ25pdGlvbiAke2VuYWJsZWQgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnfWApXG4gIH1cblxuICAvLyBHZXQgZ2VzdHVyZSBoaXN0b3J5XG4gIHB1YmxpYyBnZXRHZXN0dXJlSGlzdG9yeSgpOiBHZXN0dXJlW10ge1xuICAgIHJldHVybiBbLi4udGhpcy5nZXN0dXJlSGlzdG9yeV1cbiAgfVxuXG4gIC8vIEdldCBjdXJyZW50IGhhbmQgdHJhY2tpbmcgZGF0YVxuICBwdWJsaWMgZ2V0SGFuZFRyYWNraW5nKCk6IEhhbmRUcmFja2luZyB7XG4gICAgcmV0dXJuIHsgLi4udGhpcy5oYW5kVHJhY2tpbmcgfVxuICB9XG5cbiAgLy8gRW5hYmxlL2Rpc2FibGUgZ2VzdHVyZSBhY3Rpb25cbiAgcHVibGljIHNldEdlc3R1cmVBY3Rpb24oZ2VzdHVyZVR5cGU6IHN0cmluZywgYWN0aW9uOiBzdHJpbmcsIGVuYWJsZWQ6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBrZXkgPSBgJHtnZXN0dXJlVHlwZX1fJHthY3Rpb259YFxuICAgIGNvbnN0IGdlc3R1cmVBY3Rpb24gPSB0aGlzLmdlc3R1cmVBY3Rpb25zLmdldChrZXkpXG4gICAgaWYgKGdlc3R1cmVBY3Rpb24pIHtcbiAgICAgIGdlc3R1cmVBY3Rpb24uZW5hYmxlZCA9IGVuYWJsZWRcbiAgICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURDNEIgR2VzdHVyZSBhY3Rpb24gJHtrZXl9ICR7ZW5hYmxlZCA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9YClcbiAgICB9XG4gIH1cblxuICAvLyBDbGVhbnVwIHN5c3RlbVxuICBwdWJsaWMgY2xlYW51cCgpIHtcbiAgICAvLyBDbGVhciBnZXN0dXJlIHRyYWlsc1xuICAgIHRoaXMuZ2VzdHVyZVRyYWlscy5mb3JFYWNoKHRyYWlsID0+IHtcbiAgICAgIHRyYWlsLmZvckVhY2gocG9pbnQgPT4gZW5naW5lLnJlbW92ZUVudGl0eShwb2ludCkpXG4gICAgfSlcbiAgICB0aGlzLmdlc3R1cmVUcmFpbHMuY2xlYXIoKVxuXG4gICAgLy8gQ2xlYXIgZ2VzdHVyZXNcbiAgICB0aGlzLmdlc3R1cmVzLmNsZWFyKClcbiAgICB0aGlzLmdlc3R1cmVIaXN0b3J5ID0gW11cblxuICAgIC8vIFJlbW92ZSBVSVxuICAgIGlmICh0aGlzLmdlc3R1cmVVSSkge1xuICAgICAgZW5naW5lLnJlbW92ZUVudGl0eSh0aGlzLmdlc3R1cmVVSSlcbiAgICB9XG5cbiAgICB0aGlzLmdlc3R1cmVBY3Rpb25zLmNsZWFyKClcbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSBmYWxzZVxuICB9XG59XG5cbi8vIEV4cG9ydCBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBnZXN0dXJlU3lzdGVtID0gbmV3IEdlc3R1cmVSZWNvZ25pdGlvblN5c3RlbSgpXG4iLCAiLy8gSGFwdGljIEZlZWRiYWNrIFN5c3RlbSBmb3IgQUlHZXN0aW9uIFZpcnR1YWwgT2ZmaWNlXG5pbXBvcnQgeyBlbmdpbmUsIElucHV0QWN0aW9uLCBNYXRlcmlhbCwgTWVzaFJlbmRlcmVyLCBwb2ludGVyRXZlbnRzU3lzdGVtLCBUcmFuc2Zvcm0gfSBmcm9tICdAZGNsL3Nkay9lY3MnXG5pbXBvcnQgeyBDb2xvcjQsIFZlY3RvcjMgfSBmcm9tICdAZGNsL3Nkay9tYXRoJ1xuaW1wb3J0IHsgc291bmRTeXN0ZW0gfSBmcm9tICcuL2VuaGFuY2VkLXNvdW5kJ1xuXG5pbnRlcmZhY2UgSGFwdGljRGV2aWNlIHtcbiAgaWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgdHlwZTogJ2NvbnRyb2xsZXInIHwgJ2dsb3ZlJyB8ICd2ZXN0JyB8ICdjaGFpcicgfCAnZmxvb3InIHwgJ3RvdWNoc2NyZWVuJ1xuICBpc0Nvbm5lY3RlZDogYm9vbGVhblxuICBjYXBhYmlsaXRpZXM6IEhhcHRpY0NhcGFiaWxpdGllc1xuICBpbnRlbnNpdHk6IG51bWJlclxuICBiYXR0ZXJ5TGV2ZWw6IG51bWJlclxufVxuXG5pbnRlcmZhY2UgSGFwdGljQ2FwYWJpbGl0aWVzIHtcbiAgc3VwcG9ydHNWaWJyYXRpb246IGJvb2xlYW5cbiAgc3VwcG9ydHNGb3JjZUZlZWRiYWNrOiBib29sZWFuXG4gIHN1cHBvcnRzVGVtcGVyYXR1cmU6IGJvb2xlYW5cbiAgc3VwcG9ydHNUZXh0dXJlOiBib29sZWFuXG4gIG1heEludGVuc2l0eTogbnVtYmVyXG4gIHJlc3BvbnNlVGltZTogbnVtYmVyXG4gIGNoYW5uZWxzOiBudW1iZXJcbn1cblxuaW50ZXJmYWNlIEhhcHRpY1BhdHRlcm4ge1xuICBpZDogc3RyaW5nXG4gIG5hbWU6IHN0cmluZ1xuICB0eXBlOiBQYXR0ZXJuVHlwZVxuICBkdXJhdGlvbjogbnVtYmVyXG4gIGludGVuc2l0eTogbnVtYmVyXG4gIHdhdmVmb3JtczogSGFwdGljV2F2ZWZvcm1bXVxuICBsb29wczogYm9vbGVhblxuICBmYWRlSW46IG51bWJlclxuICBmYWRlT3V0OiBudW1iZXJcbn1cblxudHlwZSBQYXR0ZXJuVHlwZSA9ICdjbGljaycgfCAnaW1wYWN0JyB8ICd0ZXh0dXJlJyB8ICdwdWxzZScgfCAnd2F2ZScgfCAnY3VzdG9tJyB8ICdjb250aW51b3VzJ1xuXG5pbnRlcmZhY2UgSGFwdGljV2F2ZWZvcm0ge1xuICBjaGFubmVsOiBudW1iZXJcbiAgZnJlcXVlbmN5OiBudW1iZXJcbiAgYW1wbGl0dWRlOiBudW1iZXJcbiAgZHVyYXRpb246IG51bWJlclxuICB3YXZlZm9ybTogJ3NpbmUnIHwgJ3NxdWFyZScgfCAndHJpYW5nbGUnIHwgJ3Nhd3Rvb3RoJyB8ICdub2lzZSdcbiAgcGhhc2U6IG51bWJlclxufVxuXG5pbnRlcmZhY2UgSGFwdGljRXZlbnQge1xuICBpZDogc3RyaW5nXG4gIHR5cGU6IEhhcHRpY0V2ZW50VHlwZVxuICBzb3VyY2U6IHN0cmluZ1xuICBwb3NpdGlvbjogVmVjdG9yM1xuICBpbnRlbnNpdHk6IG51bWJlclxuICBwYXR0ZXJuPzogc3RyaW5nXG4gIHRpbWVzdGFtcDogbnVtYmVyXG4gIHByb2Nlc3NlZDogYm9vbGVhblxufVxuXG50eXBlIEhhcHRpY0V2ZW50VHlwZSA9ICd0b3VjaCcgfCAnY29sbGlzaW9uJyB8ICdpbnRlcmFjdGlvbicgfCAnbm90aWZpY2F0aW9uJyB8ICdmZWVkYmFjaycgfCAnYWxlcnQnIHwgJ2FtYmllbnQnXG5cbmludGVyZmFjZSBIYXB0aWNab25lIHtcbiAgaWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgcG9zaXRpb246IFZlY3RvcjNcbiAgc2l6ZTogVmVjdG9yM1xuICBzZW5zaXRpdml0eTogbnVtYmVyXG4gIGRldmljZXM6IHN0cmluZ1tdXG4gIGlzQWN0aXZlOiBib29sZWFuXG4gIGVmZmVjdHM6IEhhcHRpY0VmZmVjdFtdXG59XG5cbmludGVyZmFjZSBIYXB0aWNFZmZlY3Qge1xuICB0eXBlOiAndmlicmF0aW9uJyB8ICdoZWF0JyB8ICdjb29sJyB8ICd0ZXh0dXJlJyB8ICdwcmVzc3VyZSdcbiAgaW50ZW5zaXR5OiBudW1iZXJcbiAgZHVyYXRpb246IG51bWJlclxuICBwYXR0ZXJuPzogc3RyaW5nXG59XG5cbmV4cG9ydCBjbGFzcyBIYXB0aWNGZWVkYmFja1N5c3RlbSB7XG4gIHByaXZhdGUgZGV2aWNlczogTWFwPHN0cmluZywgSGFwdGljRGV2aWNlPiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIHBhdHRlcm5zOiBNYXA8c3RyaW5nLCBIYXB0aWNQYXR0ZXJuPiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIHpvbmVzOiBNYXA8c3RyaW5nLCBIYXB0aWNab25lPiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIGhhcHRpY1VJOiBhbnlcbiAgcHJpdmF0ZSBpc0luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2VcbiAgcHJpdmF0ZSBhY3RpdmVFdmVudHM6IE1hcDxzdHJpbmcsIEhhcHRpY0V2ZW50PiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIGdsb2JhbEludGVuc2l0eTogbnVtYmVyID0gMC44XG4gIHByaXZhdGUgaXNTeXN0ZW1FbmFibGVkOiBib29sZWFuID0gdHJ1ZVxuICBwcml2YXRlIGhhcHRpY0VuZ2luZTogYW55XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pbml0aWFsaXplSGFwdGljRW5naW5lKClcbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgaGFwdGljIGZlZWRiYWNrIHN5c3RlbVxuICBpbml0aWFsaXplKCkge1xuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0NcdURGQUYgSGFwdGljIEZlZWRiYWNrIFN5c3RlbSBJbml0aWFsaXppbmcuLi4nKVxuXG4gICAgdGhpcy5zZXR1cEhhcHRpY0RldmljZXMoKVxuICAgIHRoaXMuY3JlYXRlSGFwdGljUGF0dGVybnMoKVxuICAgIHRoaXMuY3JlYXRlSGFwdGljWm9uZXMoKVxuICAgIHRoaXMuY3JlYXRlSGFwdGljVUkoKVxuICAgIHRoaXMuc3RhcnRIYXB0aWNFbmdpbmUoKVxuXG4gICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZVxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0NcdURGQUYgSGFwdGljIEZlZWRiYWNrIFN5c3RlbSBSZWFkeSEnKVxuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSBoYXB0aWMgZW5naW5lXG4gIHByaXZhdGUgaW5pdGlhbGl6ZUhhcHRpY0VuZ2luZSgpIHtcbiAgICB0aGlzLmhhcHRpY0VuZ2luZSA9IHtcbiAgICAgIHBsYXlQYXR0ZXJuOiAoZGV2aWNlOiBIYXB0aWNEZXZpY2UsIHBhdHRlcm46IEhhcHRpY1BhdHRlcm4sIGludGVuc2l0eTogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURDRjMgUGxheWluZyBwYXR0ZXJuICR7cGF0dGVybi5uYW1lfSBvbiAke2RldmljZS5uYW1lfWApXG5cbiAgICAgICAgLy8gU2ltdWxhdGUgaGFwdGljIHBsYXliYWNrXG4gICAgICAgIGNvbnN0IGVmZmVjdGl2ZUludGVuc2l0eSA9IE1hdGgubWluKGludGVuc2l0eSAqIGRldmljZS5pbnRlbnNpdHkgKiB0aGlzLmdsb2JhbEludGVuc2l0eSwgZGV2aWNlLmNhcGFiaWxpdGllcy5tYXhJbnRlbnNpdHkpXG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIGR1cmF0aW9uOiBwYXR0ZXJuLmR1cmF0aW9uLFxuICAgICAgICAgIGludGVuc2l0eTogZWZmZWN0aXZlSW50ZW5zaXR5XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIHN0b3BQYXR0ZXJuOiAoZGV2aWNlOiBIYXB0aWNEZXZpY2UsIHBhdHRlcm5JZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURFRDEgU3RvcHBpbmcgcGF0dGVybiAke3BhdHRlcm5JZH0gb24gJHtkZXZpY2UubmFtZX1gKVxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH1cbiAgICAgIH0sXG5cbiAgICAgIHBsYXlXYXZlZm9ybTogKGRldmljZTogSGFwdGljRGV2aWNlLCB3YXZlZm9ybTogSGFwdGljV2F2ZWZvcm0sIGludGVuc2l0eTogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBcdUQ4M0NcdURGMEEgUGxheWluZyB3YXZlZm9ybSBvbiAke2RldmljZS5uYW1lfWApXG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfVxuICAgICAgfSxcblxuICAgICAgc2V0SW50ZW5zaXR5OiAoZGV2aWNlOiBIYXB0aWNEZXZpY2UsIGludGVuc2l0eTogbnVtYmVyKSA9PiB7XG4gICAgICAgIGRldmljZS5pbnRlbnNpdHkgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBpbnRlbnNpdHkpKVxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBTZXR1cCBoYXB0aWMgZGV2aWNlc1xuICBwcml2YXRlIHNldHVwSGFwdGljRGV2aWNlcygpIHtcbiAgICAvLyBWUiBDb250cm9sbGVyXG4gICAgY29uc3QgdnJDb250cm9sbGVyOiBIYXB0aWNEZXZpY2UgPSB7XG4gICAgICBpZDogJ2RldmljZV92cl9jb250cm9sbGVyJyxcbiAgICAgIG5hbWU6ICdWUiBDb250cm9sbGVyJyxcbiAgICAgIHR5cGU6ICdjb250cm9sbGVyJyxcbiAgICAgIGlzQ29ubmVjdGVkOiB0cnVlLFxuICAgICAgY2FwYWJpbGl0aWVzOiB7XG4gICAgICAgIHN1cHBvcnRzVmlicmF0aW9uOiB0cnVlLFxuICAgICAgICBzdXBwb3J0c0ZvcmNlRmVlZGJhY2s6IHRydWUsXG4gICAgICAgIHN1cHBvcnRzVGVtcGVyYXR1cmU6IGZhbHNlLFxuICAgICAgICBzdXBwb3J0c1RleHR1cmU6IHRydWUsXG4gICAgICAgIG1heEludGVuc2l0eTogMS4wLFxuICAgICAgICByZXNwb25zZVRpbWU6IDEwLFxuICAgICAgICBjaGFubmVsczogMlxuICAgICAgfSxcbiAgICAgIGludGVuc2l0eTogMC44LFxuICAgICAgYmF0dGVyeUxldmVsOiAwLjg1XG4gICAgfVxuXG4gICAgLy8gSGFwdGljIEdsb3ZlXG4gICAgY29uc3QgaGFwdGljR2xvdmU6IEhhcHRpY0RldmljZSA9IHtcbiAgICAgIGlkOiAnZGV2aWNlX2hhcHRpY19nbG92ZScsXG4gICAgICBuYW1lOiAnSGFwdGljIEdsb3ZlJyxcbiAgICAgIHR5cGU6ICdnbG92ZScsXG4gICAgICBpc0Nvbm5lY3RlZDogdHJ1ZSxcbiAgICAgIGNhcGFiaWxpdGllczoge1xuICAgICAgICBzdXBwb3J0c1ZpYnJhdGlvbjogdHJ1ZSxcbiAgICAgICAgc3VwcG9ydHNGb3JjZUZlZWRiYWNrOiB0cnVlLFxuICAgICAgICBzdXBwb3J0c1RlbXBlcmF0dXJlOiB0cnVlLFxuICAgICAgICBzdXBwb3J0c1RleHR1cmU6IHRydWUsXG4gICAgICAgIG1heEludGVuc2l0eTogMC45LFxuICAgICAgICByZXNwb25zZVRpbWU6IDE1LFxuICAgICAgICBjaGFubmVsczogNVxuICAgICAgfSxcbiAgICAgIGludGVuc2l0eTogMC43LFxuICAgICAgYmF0dGVyeUxldmVsOiAwLjZcbiAgICB9XG5cbiAgICAvLyBIYXB0aWMgVmVzdFxuICAgIGNvbnN0IGhhcHRpY1Zlc3Q6IEhhcHRpY0RldmljZSA9IHtcbiAgICAgIGlkOiAnZGV2aWNlX2hhcHRpY192ZXN0JyxcbiAgICAgIG5hbWU6ICdIYXB0aWMgVmVzdCcsXG4gICAgICB0eXBlOiAndmVzdCcsXG4gICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsXG4gICAgICBjYXBhYmlsaXRpZXM6IHtcbiAgICAgICAgc3VwcG9ydHNWaWJyYXRpb246IHRydWUsXG4gICAgICAgIHN1cHBvcnRzRm9yY2VGZWVkYmFjazogZmFsc2UsXG4gICAgICAgIHN1cHBvcnRzVGVtcGVyYXR1cmU6IHRydWUsXG4gICAgICAgIHN1cHBvcnRzVGV4dHVyZTogZmFsc2UsXG4gICAgICAgIG1heEludGVuc2l0eTogMS4wLFxuICAgICAgICByZXNwb25zZVRpbWU6IDI1LFxuICAgICAgICBjaGFubmVsczogOFxuICAgICAgfSxcbiAgICAgIGludGVuc2l0eTogMC42LFxuICAgICAgYmF0dGVyeUxldmVsOiAwLjRcbiAgICB9XG5cbiAgICAvLyBIYXB0aWMgQ2hhaXJcbiAgICBjb25zdCBoYXB0aWNDaGFpcjogSGFwdGljRGV2aWNlID0ge1xuICAgICAgaWQ6ICdkZXZpY2VfaGFwdGljX2NoYWlyJyxcbiAgICAgIG5hbWU6ICdIYXB0aWMgQ2hhaXInLFxuICAgICAgdHlwZTogJ2NoYWlyJyxcbiAgICAgIGlzQ29ubmVjdGVkOiB0cnVlLFxuICAgICAgY2FwYWJpbGl0aWVzOiB7XG4gICAgICAgIHN1cHBvcnRzVmlicmF0aW9uOiB0cnVlLFxuICAgICAgICBzdXBwb3J0c0ZvcmNlRmVlZGJhY2s6IHRydWUsXG4gICAgICAgIHN1cHBvcnRzVGVtcGVyYXR1cmU6IHRydWUsXG4gICAgICAgIHN1cHBvcnRzVGV4dHVyZTogZmFsc2UsXG4gICAgICAgIG1heEludGVuc2l0eTogMC44LFxuICAgICAgICByZXNwb25zZVRpbWU6IDMwLFxuICAgICAgICBjaGFubmVsczogNFxuICAgICAgfSxcbiAgICAgIGludGVuc2l0eTogMC41LFxuICAgICAgYmF0dGVyeUxldmVsOiAwLjlcbiAgICB9XG5cbiAgICAvLyBUb3VjaHNjcmVlblxuICAgIGNvbnN0IHRvdWNoc2NyZWVuOiBIYXB0aWNEZXZpY2UgPSB7XG4gICAgICBpZDogJ2RldmljZV90b3VjaHNjcmVlbicsXG4gICAgICBuYW1lOiAnVG91Y2hzY3JlZW4nLFxuICAgICAgdHlwZTogJ3RvdWNoc2NyZWVuJyxcbiAgICAgIGlzQ29ubmVjdGVkOiB0cnVlLFxuICAgICAgY2FwYWJpbGl0aWVzOiB7XG4gICAgICAgIHN1cHBvcnRzVmlicmF0aW9uOiB0cnVlLFxuICAgICAgICBzdXBwb3J0c0ZvcmNlRmVlZGJhY2s6IGZhbHNlLFxuICAgICAgICBzdXBwb3J0c1RlbXBlcmF0dXJlOiBmYWxzZSxcbiAgICAgICAgc3VwcG9ydHNUZXh0dXJlOiB0cnVlLFxuICAgICAgICBtYXhJbnRlbnNpdHk6IDAuNyxcbiAgICAgICAgcmVzcG9uc2VUaW1lOiA1LFxuICAgICAgICBjaGFubmVsczogMVxuICAgICAgfSxcbiAgICAgIGludGVuc2l0eTogMC42LFxuICAgICAgYmF0dGVyeUxldmVsOiAxLjBcbiAgICB9XG5cbiAgICB0aGlzLmRldmljZXMuc2V0KHZyQ29udHJvbGxlci5pZCwgdnJDb250cm9sbGVyKVxuICAgIHRoaXMuZGV2aWNlcy5zZXQoaGFwdGljR2xvdmUuaWQsIGhhcHRpY0dsb3ZlKVxuICAgIHRoaXMuZGV2aWNlcy5zZXQoaGFwdGljVmVzdC5pZCwgaGFwdGljVmVzdClcbiAgICB0aGlzLmRldmljZXMuc2V0KGhhcHRpY0NoYWlyLmlkLCBoYXB0aWNDaGFpcilcbiAgICB0aGlzLmRldmljZXMuc2V0KHRvdWNoc2NyZWVuLmlkLCB0b3VjaHNjcmVlbilcblxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURDRjEgSGFwdGljIGRldmljZXMgY29uZmlndXJlZCcpXG4gIH1cblxuICAvLyBDcmVhdGUgaGFwdGljIHBhdHRlcm5zXG4gIHByaXZhdGUgY3JlYXRlSGFwdGljUGF0dGVybnMoKSB7XG4gICAgLy8gQ2xpY2sgcGF0dGVyblxuICAgIGNvbnN0IGNsaWNrUGF0dGVybjogSGFwdGljUGF0dGVybiA9IHtcbiAgICAgIGlkOiAncGF0dGVybl9jbGljaycsXG4gICAgICBuYW1lOiAnQ2xpY2snLFxuICAgICAgdHlwZTogJ2NsaWNrJyxcbiAgICAgIGR1cmF0aW9uOiAxMDAsXG4gICAgICBpbnRlbnNpdHk6IDAuNixcbiAgICAgIHdhdmVmb3JtczogW1xuICAgICAgICB7XG4gICAgICAgICAgY2hhbm5lbDogMCxcbiAgICAgICAgICBmcmVxdWVuY3k6IDIwMCxcbiAgICAgICAgICBhbXBsaXR1ZGU6IDAuOCxcbiAgICAgICAgICBkdXJhdGlvbjogNTAsXG4gICAgICAgICAgd2F2ZWZvcm06ICdzaW5lJyxcbiAgICAgICAgICBwaGFzZTogMFxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgbG9vcHM6IGZhbHNlLFxuICAgICAgZmFkZUluOiAwLFxuICAgICAgZmFkZU91dDogMjBcbiAgICB9XG5cbiAgICAvLyBJbXBhY3QgcGF0dGVyblxuICAgIGNvbnN0IGltcGFjdFBhdHRlcm46IEhhcHRpY1BhdHRlcm4gPSB7XG4gICAgICBpZDogJ3BhdHRlcm5faW1wYWN0JyxcbiAgICAgIG5hbWU6ICdJbXBhY3QnLFxuICAgICAgdHlwZTogJ2ltcGFjdCcsXG4gICAgICBkdXJhdGlvbjogMjAwLFxuICAgICAgaW50ZW5zaXR5OiAwLjksXG4gICAgICB3YXZlZm9ybXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGNoYW5uZWw6IDAsXG4gICAgICAgICAgZnJlcXVlbmN5OiAxMDAsXG4gICAgICAgICAgYW1wbGl0dWRlOiAxLjAsXG4gICAgICAgICAgZHVyYXRpb246IDEwMCxcbiAgICAgICAgICB3YXZlZm9ybTogJ3NxdWFyZScsXG4gICAgICAgICAgcGhhc2U6IDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGNoYW5uZWw6IDEsXG4gICAgICAgICAgZnJlcXVlbmN5OiA1MCxcbiAgICAgICAgICBhbXBsaXR1ZGU6IDAuNixcbiAgICAgICAgICBkdXJhdGlvbjogMTUwLFxuICAgICAgICAgIHdhdmVmb3JtOiAnc2luZScsXG4gICAgICAgICAgcGhhc2U6IDBcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGxvb3BzOiBmYWxzZSxcbiAgICAgIGZhZGVJbjogMCxcbiAgICAgIGZhZGVPdXQ6IDUwXG4gICAgfVxuXG4gICAgLy8gUHVsc2UgcGF0dGVyblxuICAgIGNvbnN0IHB1bHNlUGF0dGVybjogSGFwdGljUGF0dGVybiA9IHtcbiAgICAgIGlkOiAncGF0dGVybl9wdWxzZScsXG4gICAgICBuYW1lOiAnUHVsc2UnLFxuICAgICAgdHlwZTogJ3B1bHNlJyxcbiAgICAgIGR1cmF0aW9uOiA1MDAsXG4gICAgICBpbnRlbnNpdHk6IDAuNyxcbiAgICAgIHdhdmVmb3JtczogW1xuICAgICAgICB7XG4gICAgICAgICAgY2hhbm5lbDogMCxcbiAgICAgICAgICBmcmVxdWVuY3k6IDgwLFxuICAgICAgICAgIGFtcGxpdHVkZTogMC44LFxuICAgICAgICAgIGR1cmF0aW9uOiAyNTAsXG4gICAgICAgICAgd2F2ZWZvcm06ICdzaW5lJyxcbiAgICAgICAgICBwaGFzZTogMFxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgbG9vcHM6IHRydWUsXG4gICAgICBmYWRlSW46IDUwLFxuICAgICAgZmFkZU91dDogNTBcbiAgICB9XG5cbiAgICAvLyBUZXh0dXJlIHBhdHRlcm5cbiAgICBjb25zdCB0ZXh0dXJlUGF0dGVybjogSGFwdGljUGF0dGVybiA9IHtcbiAgICAgIGlkOiAncGF0dGVybl90ZXh0dXJlJyxcbiAgICAgIG5hbWU6ICdUZXh0dXJlJyxcbiAgICAgIHR5cGU6ICd0ZXh0dXJlJyxcbiAgICAgIGR1cmF0aW9uOiAxMDAwLFxuICAgICAgaW50ZW5zaXR5OiAwLjQsXG4gICAgICB3YXZlZm9ybXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGNoYW5uZWw6IDAsXG4gICAgICAgICAgZnJlcXVlbmN5OiAxNTAsXG4gICAgICAgICAgYW1wbGl0dWRlOiAwLjUsXG4gICAgICAgICAgZHVyYXRpb246IDEwMCxcbiAgICAgICAgICB3YXZlZm9ybTogJ25vaXNlJyxcbiAgICAgICAgICBwaGFzZTogMFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgY2hhbm5lbDogMSxcbiAgICAgICAgICBmcmVxdWVuY3k6IDIwMCxcbiAgICAgICAgICBhbXBsaXR1ZGU6IDAuMyxcbiAgICAgICAgICBkdXJhdGlvbjogMTAwLFxuICAgICAgICAgIHdhdmVmb3JtOiAnbm9pc2UnLFxuICAgICAgICAgIHBoYXNlOiBNYXRoLlBJXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBsb29wczogdHJ1ZSxcbiAgICAgIGZhZGVJbjogMTAwLFxuICAgICAgZmFkZU91dDogMTAwXG4gICAgfVxuXG4gICAgLy8gQW1iaWVudCBwYXR0ZXJuXG4gICAgY29uc3QgYW1iaWVudFBhdHRlcm46IEhhcHRpY1BhdHRlcm4gPSB7XG4gICAgICBpZDogJ3BhdHRlcm5fYW1iaWVudCcsXG4gICAgICBuYW1lOiAnQW1iaWVudCcsXG4gICAgICB0eXBlOiAnYW1iaWVudCcsXG4gICAgICBkdXJhdGlvbjogMCxcbiAgICAgIGludGVuc2l0eTogMC4yLFxuICAgICAgd2F2ZWZvcm1zOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBjaGFubmVsOiAwLFxuICAgICAgICAgIGZyZXF1ZW5jeTogMzAsXG4gICAgICAgICAgYW1wbGl0dWRlOiAwLjMsXG4gICAgICAgICAgZHVyYXRpb246IDEwMDAsXG4gICAgICAgICAgd2F2ZWZvcm06ICdzaW5lJyxcbiAgICAgICAgICBwaGFzZTogMFxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgbG9vcHM6IHRydWUsXG4gICAgICBmYWRlSW46IDUwMCxcbiAgICAgIGZhZGVPdXQ6IDUwMFxuICAgIH1cblxuICAgIHRoaXMucGF0dGVybnMuc2V0KGNsaWNrUGF0dGVybi5pZCwgY2xpY2tQYXR0ZXJuKVxuICAgIHRoaXMucGF0dGVybnMuc2V0KGltcGFjdFBhdHRlcm4uaWQsIGltcGFjdFBhdHRlcm4pXG4gICAgdGhpcy5wYXR0ZXJucy5zZXQocHVsc2VQYXR0ZXJuLmlkLCBwdWxzZVBhdHRlcm4pXG4gICAgdGhpcy5wYXR0ZXJucy5zZXQodGV4dHVyZVBhdHRlcm4uaWQsIHRleHR1cmVQYXR0ZXJuKVxuICAgIHRoaXMucGF0dGVybnMuc2V0KGFtYmllbnRQYXR0ZXJuLmlkLCBhbWJpZW50UGF0dGVybilcblxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0NcdURGQjUgSGFwdGljIHBhdHRlcm5zIGNyZWF0ZWQnKVxuICB9XG5cbiAgLy8gQ3JlYXRlIGhhcHRpYyB6b25lc1xuICBwcml2YXRlIGNyZWF0ZUhhcHRpY1pvbmVzKCkge1xuICAgIC8vIERlc2t0b3Agem9uZVxuICAgIGNvbnN0IGRlc2t0b3Bab25lOiBIYXB0aWNab25lID0ge1xuICAgICAgaWQ6ICd6b25lX2Rlc2t0b3AnLFxuICAgICAgbmFtZTogJ0Rlc2t0b3AnLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDgsIDEsIDgpLFxuICAgICAgc2l6ZTogVmVjdG9yMy5jcmVhdGUoMywgMSwgMyksXG4gICAgICBzZW5zaXRpdml0eTogMC44LFxuICAgICAgZGV2aWNlczogWydkZXZpY2VfaGFwdGljX2NoYWlyJ10sXG4gICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgIGVmZmVjdHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICd2aWJyYXRpb24nLFxuICAgICAgICAgIGludGVuc2l0eTogMC4zLFxuICAgICAgICAgIGR1cmF0aW9uOiAyMDAsXG4gICAgICAgICAgcGF0dGVybjogJ3BhdHRlcm5fYW1iaWVudCdcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH1cblxuICAgIC8vIEludGVyYWN0aW9uIHpvbmVcbiAgICBjb25zdCBpbnRlcmFjdGlvblpvbmU6IEhhcHRpY1pvbmUgPSB7XG4gICAgICBpZDogJ3pvbmVfaW50ZXJhY3Rpb24nLFxuICAgICAgbmFtZTogJ0ludGVyYWN0aW9uIEFyZWEnLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDgsIDIsIDgpLFxuICAgICAgc2l6ZTogVmVjdG9yMy5jcmVhdGUoMiwgMiwgMiksXG4gICAgICBzZW5zaXRpdml0eTogMS4wLFxuICAgICAgZGV2aWNlczogWydkZXZpY2VfdnJfY29udHJvbGxlcicsICdkZXZpY2VfaGFwdGljX2dsb3ZlJ10sXG4gICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgIGVmZmVjdHM6IFtdXG4gICAgfVxuXG4gICAgLy8gRmxvb3Igem9uZVxuICAgIGNvbnN0IGZsb29yWm9uZTogSGFwdGljWm9uZSA9IHtcbiAgICAgIGlkOiAnem9uZV9mbG9vcicsXG4gICAgICBuYW1lOiAnRmxvb3InLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDgsIDAsIDgpLFxuICAgICAgc2l6ZTogVmVjdG9yMy5jcmVhdGUoMTAsIDAuMSwgMTApLFxuICAgICAgc2Vuc2l0aXZpdHk6IDAuNSxcbiAgICAgIGRldmljZXM6IFsnZGV2aWNlX2hhcHRpY192ZXN0J10sXG4gICAgICBpc0FjdGl2ZTogZmFsc2UsXG4gICAgICBlZmZlY3RzOiBbXVxuICAgIH1cblxuICAgIHRoaXMuem9uZXMuc2V0KGRlc2t0b3Bab25lLmlkLCBkZXNrdG9wWm9uZSlcbiAgICB0aGlzLnpvbmVzLnNldChpbnRlcmFjdGlvblpvbmUuaWQsIGludGVyYWN0aW9uWm9uZSlcbiAgICB0aGlzLnpvbmVzLnNldChmbG9vclpvbmUuaWQsIGZsb29yWm9uZSlcblxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURERkFcdUZFMEYgSGFwdGljIHpvbmVzIGNyZWF0ZWQnKVxuICB9XG5cbiAgLy8gQ3JlYXRlIGhhcHRpYyBVSVxuICBwcml2YXRlIGNyZWF0ZUhhcHRpY1VJKCkge1xuICAgIHRoaXMuaGFwdGljVUkgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKHRoaXMuaGFwdGljVUksIHtcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgxNCwgMywgMiksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMywgNCwgMC4xKVxuICAgIH0pXG4gICAgTWVzaFJlbmRlcmVyLnNldEJveCh0aGlzLmhhcHRpY1VJKVxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKHRoaXMuaGFwdGljVUksIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMSwgMC4yLCAwLjQsIDAuOSksXG4gICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMiwgMC40LCAwLjgsIDAuNSksXG4gICAgICBlbWlzc2l2ZUludGVuc2l0eTogMlxuICAgIH0pXG5cbiAgICBjb25zdCB0aXRsZSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUodGl0bGUsIHtcbiAgICAgIHBhcmVudDogdGhpcy5oYXB0aWNVSSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAxLjcsIDAuMSksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4zLCAwLjMsIDAuMylcbiAgICB9KVxuICAgIFRleHRTaGFwZS5jcmVhdGUodGl0bGUsIHtcbiAgICAgIHRleHQ6ICdcdUQ4M0NcdURGQUYgSEFQVElDIEZFRURCQUNLJyxcbiAgICAgIHRleHRDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAxLCAxLCAxKSxcbiAgICAgIGZvbnRTaXplOiAyLFxuICAgICAgdGV4dEFsaWduOiAzXG4gICAgfSlcblxuICAgIC8vIENyZWF0ZSBkZXZpY2UgaW5kaWNhdG9yc1xuICAgIHRoaXMuY3JlYXRlRGV2aWNlSW5kaWNhdG9ycygpXG5cbiAgICAvLyBDcmVhdGUgcGF0dGVybiBjb250cm9sc1xuICAgIHRoaXMuY3JlYXRlUGF0dGVybkNvbnRyb2xzKClcblxuICAgIC8vIENyZWF0ZSBpbnRlbnNpdHkgY29udHJvbHNcbiAgICB0aGlzLmNyZWF0ZUludGVuc2l0eUNvbnRyb2xzKClcblxuICAgIC8vIENyZWF0ZSB6b25lIGNvbnRyb2xzXG4gICAgdGhpcy5jcmVhdGVab25lQ29udHJvbHMoKVxuICB9XG5cbiAgLy8gQ3JlYXRlIGRldmljZSBpbmRpY2F0b3JzXG4gIHByaXZhdGUgY3JlYXRlRGV2aWNlSW5kaWNhdG9ycygpIHtcbiAgICBjb25zdCBkZXZpY2VzID0gQXJyYXkuZnJvbSh0aGlzLmRldmljZXMudmFsdWVzKCkpXG4gICAgbGV0IHhPZmZzZXQgPSAtMS4yXG5cbiAgICBkZXZpY2VzLmZvckVhY2goZGV2aWNlID0+IHtcbiAgICAgIGNvbnN0IGluZGljYXRvciA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgVHJhbnNmb3JtLmNyZWF0ZShpbmRpY2F0b3IsIHtcbiAgICAgICAgcGFyZW50OiB0aGlzLmhhcHRpY1VJLFxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoeE9mZnNldCwgMS4yLCAwLjEpLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4yLCAwLjIsIDAuMSlcbiAgICAgIH0pXG4gICAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGluZGljYXRvcilcbiAgICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGluZGljYXRvciwge1xuICAgICAgICBhbGJlZG9Db2xvcjogZGV2aWNlLmlzQ29ubmVjdGVkID8gQ29sb3I0LmNyZWF0ZSgwLjIsIDAuOCwgMC4yLCAxKSA6IENvbG9yNC5jcmVhdGUoMC44LCAwLjIsIDAuMiwgMSksXG4gICAgICAgIGVtaXNzaXZlQ29sb3I6IGRldmljZS5pc0Nvbm5lY3RlZCA/IENvbG9yNC5jcmVhdGUoMC4yLCAwLjgsIDAuMiwgMC41KSA6IENvbG9yNC5jcmVhdGUoMC44LCAwLjIsIDAuMiwgMC41KSxcbiAgICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IGRldmljZS5pc0Nvbm5lY3RlZCA/IDIgOiAwLjVcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IGRldmljZVRleHQgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIFRyYW5zZm9ybS5jcmVhdGUoZGV2aWNlVGV4dCwge1xuICAgICAgICBwYXJlbnQ6IGluZGljYXRvcixcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDAuMSksXG4gICAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjUsIDAuNSwgMC41KVxuICAgICAgfSlcbiAgICAgIFRleHRTaGFwZS5jcmVhdGUoZGV2aWNlVGV4dCwge1xuICAgICAgICB0ZXh0OiB0aGlzLmdldERldmljZUljb24oZGV2aWNlLnR5cGUpLFxuICAgICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICAgIGZvbnRTaXplOiAyLFxuICAgICAgICB0ZXh0QWxpZ246IDNcbiAgICAgIH0pXG5cbiAgICAgIHBvaW50ZXJFdmVudHNTeXN0ZW0ub25Qb2ludGVyRG93bihcbiAgICAgICAge1xuICAgICAgICAgIGVudGl0eTogaW5kaWNhdG9yLFxuICAgICAgICAgIG9wdHM6IHsgYnV0dG9uOiBJbnB1dEFjdGlvbi5JQV9QT0lOVEVSLCBob3ZlclRleHQ6IGRldmljZS5uYW1lIH1cbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4gdGhpcy50b2dnbGVEZXZpY2UoZGV2aWNlLmlkKVxuICAgICAgKVxuXG4gICAgICB4T2Zmc2V0ICs9IDAuNFxuICAgIH0pXG4gIH1cblxuICAvLyBDcmVhdGUgcGF0dGVybiBjb250cm9sc1xuICBwcml2YXRlIGNyZWF0ZVBhdHRlcm5Db250cm9scygpIHtcbiAgICBjb25zdCBwYXR0ZXJucyA9IFsnY2xpY2snLCAnaW1wYWN0JywgJ3B1bHNlJywgJ3RleHR1cmUnLCAnYW1iaWVudCddXG4gICAgbGV0IHhPZmZzZXQgPSAtMS4wXG5cbiAgICBwYXR0ZXJucy5mb3JFYWNoKHBhdHRlcm4gPT4ge1xuICAgICAgY29uc3QgYnV0dG9uID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgICBUcmFuc2Zvcm0uY3JlYXRlKGJ1dHRvbiwge1xuICAgICAgICBwYXJlbnQ6IHRoaXMuaGFwdGljVUksXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSh4T2Zmc2V0LCAwLjYsIDAuMSksXG4gICAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjIsIDAuMiwgMC4xKVxuICAgICAgfSlcbiAgICAgIE1lc2hSZW5kZXJlci5zZXRCb3goYnV0dG9uKVxuICAgICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoYnV0dG9uLCB7XG4gICAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMywgMC42LCAwLjgsIDEpLFxuICAgICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMywgMC42LCAwLjgsIDAuNSksXG4gICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAyXG4gICAgICB9KVxuXG4gICAgICBjb25zdCBidXR0b25UZXh0ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgICBUcmFuc2Zvcm0uY3JlYXRlKGJ1dHRvblRleHQsIHtcbiAgICAgICAgcGFyZW50OiBidXR0b24sXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwLjEpLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC41LCAwLjUsIDAuNSlcbiAgICAgIH0pXG4gICAgICBUZXh0U2hhcGUuY3JlYXRlKGJ1dHRvblRleHQsIHtcbiAgICAgICAgdGV4dDogdGhpcy5nZXRQYXR0ZXJuSWNvbihwYXR0ZXJuKSxcbiAgICAgICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDEsIDEsIDEpLFxuICAgICAgICBmb250U2l6ZTogMixcbiAgICAgICAgdGV4dEFsaWduOiAzXG4gICAgICB9KVxuXG4gICAgICBwb2ludGVyRXZlbnRzU3lzdGVtLm9uUG9pbnRlckRvd24oXG4gICAgICAgIHtcbiAgICAgICAgICBlbnRpdHk6IGJ1dHRvbixcbiAgICAgICAgICBvcHRzOiB7IGJ1dHRvbjogSW5wdXRBY3Rpb24uSUFfUE9JTlRFUiwgaG92ZXJUZXh0OiBgUGxheSAke3BhdHRlcm59YCB9XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHRoaXMucGxheVBhdHRlcm4ocGF0dGVybilcbiAgICAgIClcblxuICAgICAgeE9mZnNldCArPSAwLjRcbiAgICB9KVxuICB9XG5cbiAgLy8gQ3JlYXRlIGludGVuc2l0eSBjb250cm9sc1xuICBwcml2YXRlIGNyZWF0ZUludGVuc2l0eUNvbnRyb2xzKCkge1xuICAgIGNvbnN0IGludGVuc2l0eVNsaWRlciA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUoaW50ZW5zaXR5U2xpZGVyLCB7XG4gICAgICBwYXJlbnQ6IHRoaXMuaGFwdGljVUksXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgyLCAwLjIsIDAuMSlcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRCb3goaW50ZW5zaXR5U2xpZGVyKVxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGludGVuc2l0eVNsaWRlciwge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4yLCAwLjIsIDAuMiwgMC44KSxcbiAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4yLCAwLjIsIDAuMiwgMC4zKSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAxXG4gICAgfSlcblxuICAgIGNvbnN0IGludGVuc2l0eVRleHQgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKGludGVuc2l0eVRleHQsIHtcbiAgICAgIHBhcmVudDogaW50ZW5zaXR5U2xpZGVyLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDAuMSksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4zLCAwLjMsIDAuMylcbiAgICB9KVxuICAgIFRleHRTaGFwZS5jcmVhdGUoaW50ZW5zaXR5VGV4dCwge1xuICAgICAgdGV4dDogYFx1RDgzRFx1REQwQSBJbnRlbnNpdHk6ICR7KHRoaXMuZ2xvYmFsSW50ZW5zaXR5ICogMTAwKS50b0ZpeGVkKDApfSVgLFxuICAgICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDEsIDEsIDEpLFxuICAgICAgZm9udFNpemU6IDEuNSxcbiAgICAgIHRleHRBbGlnbjogM1xuICAgIH0pXG5cbiAgICBwb2ludGVyRXZlbnRzU3lzdGVtLm9uUG9pbnRlckRvd24oXG4gICAgICB7XG4gICAgICAgIGVudGl0eTogaW50ZW5zaXR5U2xpZGVyLFxuICAgICAgICBvcHRzOiB7IGJ1dHRvbjogSW5wdXRBY3Rpb24uSUFfUE9JTlRFUiwgaG92ZXJUZXh0OiAnQWRqdXN0IEludGVuc2l0eScgfVxuICAgICAgfSxcbiAgICAgICgpID0+IHRoaXMuYWRqdXN0SW50ZW5zaXR5KClcbiAgICApXG4gIH1cblxuICAvLyBDcmVhdGUgem9uZSBjb250cm9sc1xuICBwcml2YXRlIGNyZWF0ZVpvbmVDb250cm9scygpIHtcbiAgICBjb25zdCB6b25lcyA9IEFycmF5LmZyb20odGhpcy56b25lcy52YWx1ZXMoKSlcbiAgICBsZXQgeE9mZnNldCA9IC0wLjhcblxuICAgIHpvbmVzLmZvckVhY2goem9uZSA9PiB7XG4gICAgICBjb25zdCBidXR0b24gPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIFRyYW5zZm9ybS5jcmVhdGUoYnV0dG9uLCB7XG4gICAgICAgIHBhcmVudDogdGhpcy5oYXB0aWNVSSxcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKHhPZmZzZXQsIC0wLjQsIDAuMSksXG4gICAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjIsIDAuMiwgMC4xKVxuICAgICAgfSlcbiAgICAgIE1lc2hSZW5kZXJlci5zZXRCb3goYnV0dG9uKVxuICAgICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoYnV0dG9uLCB7XG4gICAgICAgIGFsYmVkb0NvbG9yOiB6b25lLmlzQWN0aXZlID8gQ29sb3I0LmNyZWF0ZSgwLjIsIDAuOCwgMC4yLCAxKSA6IENvbG9yNC5jcmVhdGUoMC44LCAwLjIsIDAuMiwgMSksXG4gICAgICAgIGVtaXNzaXZlQ29sb3I6IHpvbmUuaXNBY3RpdmUgPyBDb2xvcjQuY3JlYXRlKDAuMiwgMC44LCAwLjIsIDAuNSkgOiBDb2xvcjQuY3JlYXRlKDAuOCwgMC4yLCAwLjIsIDAuNSksXG4gICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiB6b25lLmlzQWN0aXZlID8gMiA6IDAuNVxuICAgICAgfSlcblxuICAgICAgY29uc3Qgem9uZVRleHQgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIFRyYW5zZm9ybS5jcmVhdGUoem9uZVRleHQsIHtcbiAgICAgICAgcGFyZW50OiBidXR0b24sXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwLjEpLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC41LCAwLjUsIDAuNSlcbiAgICAgIH0pXG4gICAgICBUZXh0U2hhcGUuY3JlYXRlKHpvbmVUZXh0LCB7XG4gICAgICAgIHRleHQ6IHpvbmUubmFtZSxcbiAgICAgICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDEsIDEsIDEpLFxuICAgICAgICBmb250U2l6ZTogMS4yLFxuICAgICAgICB0ZXh0QWxpZ246IDNcbiAgICAgIH0pXG5cbiAgICAgIHBvaW50ZXJFdmVudHNTeXN0ZW0ub25Qb2ludGVyRG93bihcbiAgICAgICAge1xuICAgICAgICAgIGVudGl0eTogYnV0dG9uLFxuICAgICAgICAgIG9wdHM6IHsgYnV0dG9uOiBJbnB1dEFjdGlvbi5JQV9QT0lOVEVSLCBob3ZlclRleHQ6IGBUb2dnbGUgJHt6b25lLm5hbWV9YCB9XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHRoaXMudG9nZ2xlWm9uZSh6b25lLmlkKVxuICAgICAgKVxuXG4gICAgICB4T2Zmc2V0ICs9IDAuNlxuICAgIH0pXG4gIH1cblxuICAvLyBHZXQgZGV2aWNlIGljb25cbiAgcHJpdmF0ZSBnZXREZXZpY2VJY29uKHR5cGU6IEhhcHRpY0RldmljZVsndHlwZSddKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ2NvbnRyb2xsZXInOiByZXR1cm4gJ1x1RDgzQ1x1REZBRSdcbiAgICAgIGNhc2UgJ2dsb3ZlJzogcmV0dXJuICdcdUQ4M0VcdURERTQnXG4gICAgICBjYXNlICd2ZXN0JzogcmV0dXJuICdcdUQ4M0VcdUREQkEnXG4gICAgICBjYXNlICdjaGFpcic6IHJldHVybiAnXHVEODNFXHVERTkxJ1xuICAgICAgY2FzZSAndG91Y2hzY3JlZW4nOiByZXR1cm4gJ1x1RDgzRFx1RENGMSdcbiAgICAgIGRlZmF1bHQ6IHJldHVybiAnXHVEODNEXHVEQ0YxJ1xuICAgIH1cbiAgfVxuXG4gIC8vIEdldCBwYXR0ZXJuIGljb25cbiAgcHJpdmF0ZSBnZXRQYXR0ZXJuSWNvbihwYXR0ZXJuOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAocGF0dGVybikge1xuICAgICAgY2FzZSAnY2xpY2snOiByZXR1cm4gJ1x1RDgzRFx1REM0NidcbiAgICAgIGNhc2UgJ2ltcGFjdCc6IHJldHVybiAnXHVEODNEXHVEQ0E1J1xuICAgICAgY2FzZSAncHVsc2UnOiByZXR1cm4gJ1x1RDgzRFx1REM5NydcbiAgICAgIGNhc2UgJ3RleHR1cmUnOiByZXR1cm4gJ1x1RDgzQ1x1REYwQSdcbiAgICAgIGNhc2UgJ2FtYmllbnQnOiByZXR1cm4gJ1x1RDgzQ1x1REYwQSdcbiAgICAgIGRlZmF1bHQ6IHJldHVybiAnXHVEODNEXHVEQ0YzJ1xuICAgIH1cbiAgfVxuXG4gIC8vIFN0YXJ0IGhhcHRpYyBlbmdpbmVcbiAgcHJpdmF0ZSBzdGFydEhhcHRpY0VuZ2luZSgpIHtcbiAgICBlbmdpbmUuYWRkU3lzdGVtKCgpID0+IHtcbiAgICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkKSByZXR1cm5cblxuICAgICAgdGhpcy5wcm9jZXNzSGFwdGljRXZlbnRzKClcbiAgICAgIHRoaXMudXBkYXRlRGV2aWNlU3RhdHVzKClcbiAgICAgIHRoaXMudXBkYXRlWm9uZUVmZmVjdHMoKVxuICAgIH0pXG4gIH1cblxuICAvLyBQcm9jZXNzIGhhcHRpYyBldmVudHNcbiAgcHJpdmF0ZSBwcm9jZXNzSGFwdGljRXZlbnRzKCkge1xuICAgIHRoaXMuYWN0aXZlRXZlbnRzLmZvckVhY2goKGV2ZW50LCBpZCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnByb2Nlc3NlZCkgcmV0dXJuXG5cbiAgICAgIC8vIEZpbmQgYWZmZWN0ZWQgem9uZVxuICAgICAgY29uc3Qgem9uZSA9IHRoaXMuZmluZFpvbmUoZXZlbnQucG9zaXRpb24pXG4gICAgICBpZiAoIXpvbmUgfHwgIXpvbmUuaXNBY3RpdmUpIHJldHVyblxuXG4gICAgICAvLyBGaW5kIHN1aXRhYmxlIGRldmljZXNcbiAgICAgIGNvbnN0IGRldmljZXMgPSB0aGlzLmZpbmREZXZpY2VzRm9yWm9uZSh6b25lKVxuICAgICAgaWYgKGRldmljZXMubGVuZ3RoID09PSAwKSByZXR1cm5cblxuICAgICAgLy8gQXBwbHkgaGFwdGljIGZlZWRiYWNrXG4gICAgICB0aGlzLmFwcGx5SGFwdGljRmVlZGJhY2soZXZlbnQsIHpvbmUsIGRldmljZXMpXG5cbiAgICAgIGV2ZW50LnByb2Nlc3NlZCA9IHRydWVcbiAgICB9KVxuXG4gICAgLy8gQ2xlYW4gdXAgcHJvY2Vzc2VkIGV2ZW50c1xuICAgIHRoaXMuYWN0aXZlRXZlbnRzLmZvckVhY2goKGV2ZW50LCBpZCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnByb2Nlc3NlZCAmJiBEYXRlLm5vdygpIC0gZXZlbnQudGltZXN0YW1wID4gNTAwMCkge1xuICAgICAgICB0aGlzLmFjdGl2ZUV2ZW50cy5kZWxldGUoaWQpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8vIEZpbmQgem9uZSBmb3IgcG9zaXRpb25cbiAgcHJpdmF0ZSBmaW5kWm9uZShwb3NpdGlvbjogVmVjdG9yMyk6IEhhcHRpY1pvbmUgfCBudWxsIHtcbiAgICBmb3IgKGNvbnN0IHpvbmUgb2YgdGhpcy56b25lcy52YWx1ZXMoKSkge1xuICAgICAgY29uc3QgZGlzdGFuY2UgPSBWZWN0b3IzLmRpc3RhbmNlKHBvc2l0aW9uLCB6b25lLnBvc2l0aW9uKVxuICAgICAgaWYgKGRpc3RhbmNlIDw9IE1hdGgubWF4KHpvbmUuc2l6ZS54LCB6b25lLnNpemUueSwgem9uZS5zaXplLnopIC8gMikge1xuICAgICAgICByZXR1cm4gem9uZVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgLy8gRmluZCBkZXZpY2VzIGZvciB6b25lXG4gIHByaXZhdGUgZmluZERldmljZXNGb3Jab25lKHpvbmU6IEhhcHRpY1pvbmUpOiBIYXB0aWNEZXZpY2VbXSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5kZXZpY2VzLnZhbHVlcygpKS5maWx0ZXIoZGV2aWNlID0+XG4gICAgICBkZXZpY2UuaXNDb25uZWN0ZWQgJiYgem9uZS5kZXZpY2VzLmluY2x1ZGVzKGRldmljZS5pZClcbiAgICApXG4gIH1cblxuICAvLyBBcHBseSBoYXB0aWMgZmVlZGJhY2tcbiAgcHJpdmF0ZSBhcHBseUhhcHRpY0ZlZWRiYWNrKGV2ZW50OiBIYXB0aWNFdmVudCwgem9uZTogSGFwdGljWm9uZSwgZGV2aWNlczogSGFwdGljRGV2aWNlW10pIHtcbiAgICBjb25zdCBpbnRlbnNpdHkgPSBldmVudC5pbnRlbnNpdHkgKiB6b25lLnNlbnNpdGl2aXR5ICogdGhpcy5nbG9iYWxJbnRlbnNpdHlcblxuICAgIGRldmljZXMuZm9yRWFjaChkZXZpY2UgPT4ge1xuICAgICAgaWYgKGV2ZW50LnBhdHRlcm4pIHtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IHRoaXMucGF0dGVybnMuZ2V0KGV2ZW50LnBhdHRlcm4pXG4gICAgICAgIGlmIChwYXR0ZXJuKSB7XG4gICAgICAgICAgdGhpcy5oYXB0aWNFbmdpbmUucGxheVBhdHRlcm4oZGV2aWNlLCBwYXR0ZXJuLCBpbnRlbnNpdHkpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFVzZSBkZWZhdWx0IHBhdHRlcm4gYmFzZWQgb24gZXZlbnQgdHlwZVxuICAgICAgICBjb25zdCBkZWZhdWx0UGF0dGVybiA9IHRoaXMuZ2V0RGVmYXVsdFBhdHRlcm4oZXZlbnQudHlwZSlcbiAgICAgICAgaWYgKGRlZmF1bHRQYXR0ZXJuKSB7XG4gICAgICAgICAgdGhpcy5oYXB0aWNFbmdpbmUucGxheVBhdHRlcm4oZGV2aWNlLCBkZWZhdWx0UGF0dGVybiwgaW50ZW5zaXR5KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8vIEdldCBkZWZhdWx0IHBhdHRlcm5cbiAgcHJpdmF0ZSBnZXREZWZhdWx0UGF0dGVybihldmVudFR5cGU6IEhhcHRpY0V2ZW50VHlwZSk6IEhhcHRpY1BhdHRlcm4gfCBudWxsIHtcbiAgICBzd2l0Y2ggKGV2ZW50VHlwZSkge1xuICAgICAgY2FzZSAndG91Y2gnOlxuICAgICAgY2FzZSAnaW50ZXJhY3Rpb24nOlxuICAgICAgICByZXR1cm4gdGhpcy5wYXR0ZXJucy5nZXQoJ3BhdHRlcm5fY2xpY2snKVxuICAgICAgY2FzZSAnY29sbGlzaW9uJzpcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0dGVybnMuZ2V0KCdwYXR0ZXJuX2ltcGFjdCcpXG4gICAgICBjYXNlICdmZWVkYmFjayc6XG4gICAgICAgIHJldHVybiB0aGlzLnBhdHRlcm5zLmdldCgncGF0dGVybl9wdWxzZScpXG4gICAgICBjYXNlICdhbGVydCc6XG4gICAgICAgIHJldHVybiB0aGlzLnBhdHRlcm5zLmdldCgncGF0dGVybl9wdWxzZScpXG4gICAgICBjYXNlICdhbWJpZW50JzpcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0dGVybnMuZ2V0KCdwYXR0ZXJuX2FtYmllbnQnKVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICAvLyBVcGRhdGUgZGV2aWNlIHN0YXR1c1xuICBwcml2YXRlIHVwZGF0ZURldmljZVN0YXR1cygpIHtcbiAgICAvLyBTaW11bGF0ZSBiYXR0ZXJ5IGxldmVsIGNoYW5nZXNcbiAgICB0aGlzLmRldmljZXMuZm9yRWFjaCgoZGV2aWNlLCBpZCkgPT4ge1xuICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjAwMSkge1xuICAgICAgICBkZXZpY2UuYmF0dGVyeUxldmVsID0gTWF0aC5tYXgoMCwgZGV2aWNlLmJhdHRlcnlMZXZlbCAtIDAuMDEpXG5cbiAgICAgICAgaWYgKGRldmljZS5iYXR0ZXJ5TGV2ZWwgPCAwLjEpIHtcbiAgICAgICAgICBkZXZpY2UuaXNDb25uZWN0ZWQgPSBmYWxzZVxuICAgICAgICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdUREMEIgRGV2aWNlICR7ZGV2aWNlLm5hbWV9IGJhdHRlcnkgbG93YClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvLyBVcGRhdGUgem9uZSBlZmZlY3RzXG4gIHByaXZhdGUgdXBkYXRlWm9uZUVmZmVjdHMoKSB7XG4gICAgdGhpcy56b25lcy5mb3JFYWNoKHpvbmUgPT4ge1xuICAgICAgaWYgKHpvbmUuaXNBY3RpdmUgJiYgem9uZS5lZmZlY3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgem9uZS5lZmZlY3RzLmZvckVhY2goZWZmZWN0ID0+IHtcbiAgICAgICAgICBpZiAoZWZmZWN0LnR5cGUgPT09ICd2aWJyYXRpb24nICYmIGVmZmVjdC5wYXR0ZXJuKSB7XG4gICAgICAgICAgICBjb25zdCBkZXZpY2VzID0gdGhpcy5maW5kRGV2aWNlc0ZvclpvbmUoem9uZSlcbiAgICAgICAgICAgIGRldmljZXMuZm9yRWFjaChkZXZpY2UgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBwYXR0ZXJuID0gdGhpcy5wYXR0ZXJucy5nZXQoZWZmZWN0LnBhdHRlcm4pXG4gICAgICAgICAgICAgIGlmIChwYXR0ZXJuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXB0aWNFbmdpbmUucGxheVBhdHRlcm4oZGV2aWNlLCBwYXR0ZXJuLCBlZmZlY3QuaW50ZW5zaXR5KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLy8gVHJpZ2dlciBoYXB0aWMgZXZlbnRcbiAgcHVibGljIHRyaWdnZXJIYXB0aWNFdmVudChldmVudDogSGFwdGljRXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuaXNTeXN0ZW1FbmFibGVkKSByZXR1cm5cblxuICAgIGV2ZW50LmlkID0gYGV2ZW50XyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpfWBcbiAgICBldmVudC50aW1lc3RhbXAgPSBEYXRlLm5vdygpXG4gICAgZXZlbnQucHJvY2Vzc2VkID0gZmFsc2VcblxuICAgIHRoaXMuYWN0aXZlRXZlbnRzLnNldChldmVudC5pZCwgZXZlbnQpXG4gICAgY29uc29sZS5sb2coYFx1RDgzQ1x1REZBRiBUcmlnZ2VyZWQgaGFwdGljIGV2ZW50OiAke2V2ZW50LnR5cGV9YClcbiAgfVxuXG4gIC8vIFBsYXkgcGF0dGVyblxuICBwdWJsaWMgcGxheVBhdHRlcm4ocGF0dGVybklkOiBzdHJpbmcsIGludGVuc2l0eT86IG51bWJlcikge1xuICAgIGNvbnN0IHBhdHRlcm4gPSB0aGlzLnBhdHRlcm5zLmdldChwYXR0ZXJuSWQpXG4gICAgaWYgKCFwYXR0ZXJuKSByZXR1cm5cblxuICAgIGNvbnN0IGVmZmVjdGl2ZUludGVuc2l0eSA9IGludGVuc2l0eSB8fCBwYXR0ZXJuLmludGVuc2l0eVxuXG4gICAgLy8gUGxheSBvbiBhbGwgY29ubmVjdGVkIGRldmljZXNcbiAgICB0aGlzLmRldmljZXMuZm9yRWFjaChkZXZpY2UgPT4ge1xuICAgICAgaWYgKGRldmljZS5pc0Nvbm5lY3RlZCkge1xuICAgICAgICB0aGlzLmhhcHRpY0VuZ2luZS5wbGF5UGF0dGVybihkZXZpY2UsIHBhdHRlcm4sIGVmZmVjdGl2ZUludGVuc2l0eSlcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgY29uc29sZS5sb2coYFx1RDgzQ1x1REZCNSBQbGF5aW5nIHBhdHRlcm46ICR7cGF0dGVybi5uYW1lfWApXG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ2NsaWNrJylcbiAgfVxuXG4gIC8vIFN0b3AgcGF0dGVyblxuICBwdWJsaWMgc3RvcFBhdHRlcm4ocGF0dGVybklkOiBzdHJpbmcpIHtcbiAgICB0aGlzLmRldmljZXMuZm9yRWFjaChkZXZpY2UgPT4ge1xuICAgICAgaWYgKGRldmljZS5pc0Nvbm5lY3RlZCkge1xuICAgICAgICB0aGlzLmhhcHRpY0VuZ2luZS5zdG9wUGF0dGVybihkZXZpY2UsIHBhdHRlcm5JZClcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgY29uc29sZS5sb2coYFx1RDgzRFx1REVEMSBTdG9wcGVkIHBhdHRlcm46ICR7cGF0dGVybklkfWApXG4gIH1cblxuICAvLyBUb2dnbGUgZGV2aWNlXG4gIHB1YmxpYyB0b2dnbGVEZXZpY2UoZGV2aWNlSWQ6IHN0cmluZykge1xuICAgIGNvbnN0IGRldmljZSA9IHRoaXMuZGV2aWNlcy5nZXQoZGV2aWNlSWQpXG4gICAgaWYgKCFkZXZpY2UpIHJldHVyblxuXG4gICAgZGV2aWNlLmlzQ29ubmVjdGVkID0gIWRldmljZS5pc0Nvbm5lY3RlZFxuICAgIGNvbnNvbGUubG9nKGAke2RldmljZS5pc0Nvbm5lY3RlZCA/ICdcdUQ4M0RcdUREMTcnIDogJ1x1RDgzRFx1REQwQyd9IERldmljZSAke2RldmljZS5uYW1lfSAke2RldmljZS5pc0Nvbm5lY3RlZCA/ICdjb25uZWN0ZWQnIDogJ2Rpc2Nvbm5lY3RlZCd9YClcbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgnY2xpY2snKVxuICB9XG5cbiAgLy8gVG9nZ2xlIHpvbmVcbiAgcHVibGljIHRvZ2dsZVpvbmUoem9uZUlkOiBzdHJpbmcpIHtcbiAgICBjb25zdCB6b25lID0gdGhpcy56b25lcy5nZXQoem9uZUlkKVxuICAgIGlmICghem9uZSkgcmV0dXJuXG5cbiAgICB6b25lLmlzQWN0aXZlID0gIXpvbmUuaXNBY3RpdmVcbiAgICBjb25zb2xlLmxvZyhgJHt6b25lLmlzQWN0aXZlID8gJ1x1MjcwNScgOiAnXHUyNzRDJ30gWm9uZSAke3pvbmUubmFtZX0gJHt6b25lLmlzQWN0aXZlID8gJ2FjdGl2YXRlZCcgOiAnZGVhY3RpdmF0ZWQnfWApXG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ2NsaWNrJylcbiAgfVxuXG4gIC8vIEFkanVzdCBpbnRlbnNpdHlcbiAgcHVibGljIGFkanVzdEludGVuc2l0eSgpIHtcbiAgICAvLyBDeWNsZSB0aHJvdWdoIGludGVuc2l0eSBsZXZlbHNcbiAgICBjb25zdCBsZXZlbHMgPSBbMC4yLCAwLjQsIDAuNiwgMC44LCAxLjBdXG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gbGV2ZWxzLmluZGV4T2YodGhpcy5nbG9iYWxJbnRlbnNpdHkpXG4gICAgY29uc3QgbmV4dEluZGV4ID0gKGN1cnJlbnRJbmRleCArIDEpICUgbGV2ZWxzLmxlbmd0aFxuICAgIHRoaXMuZ2xvYmFsSW50ZW5zaXR5ID0gbGV2ZWxzW25leHRJbmRleF1cblxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdUREMEEgR2xvYmFsIGludGVuc2l0eSBzZXQgdG86ICR7KHRoaXMuZ2xvYmFsSW50ZW5zaXR5ICogMTAwKS50b0ZpeGVkKDApfSVgKVxuICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdjbGljaycpXG4gIH1cblxuICAvLyBTZXQgZ2xvYmFsIGludGVuc2l0eVxuICBwdWJsaWMgc2V0R2xvYmFsSW50ZW5zaXR5KGludGVuc2l0eTogbnVtYmVyKSB7XG4gICAgdGhpcy5nbG9iYWxJbnRlbnNpdHkgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBpbnRlbnNpdHkpKVxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdUREMEEgR2xvYmFsIGludGVuc2l0eSBzZXQgdG86ICR7KHRoaXMuZ2xvYmFsSW50ZW5zaXR5ICogMTAwKS50b0ZpeGVkKDApfSVgKVxuICB9XG5cbiAgLy8gRW5hYmxlL2Rpc2FibGUgc3lzdGVtXG4gIHB1YmxpYyBzZXRTeXN0ZW1FbmFibGVkKGVuYWJsZWQ6IGJvb2xlYW4pIHtcbiAgICB0aGlzLmlzU3lzdGVtRW5hYmxlZCA9IGVuYWJsZWRcbiAgICBjb25zb2xlLmxvZyhgXHVEODNDXHVERkFGIEhhcHRpYyBzeXN0ZW0gJHtlbmFibGVkID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJ31gKVxuXG4gICAgaWYgKCFlbmFibGVkKSB7XG4gICAgICAvLyBTdG9wIGFsbCBhY3RpdmUgcGF0dGVybnNcbiAgICAgIHRoaXMuZGV2aWNlcy5mb3JFYWNoKGRldmljZSA9PiB7XG4gICAgICAgIGlmIChkZXZpY2UuaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICB0aGlzLnBhdHRlcm5zLmZvckVhY2gocGF0dGVybiA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhcHRpY0VuZ2luZS5zdG9wUGF0dGVybihkZXZpY2UsIHBhdHRlcm4uaWQpXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICAvLyBHZXQgY29ubmVjdGVkIGRldmljZXNcbiAgcHVibGljIGdldENvbm5lY3RlZERldmljZXMoKTogSGFwdGljRGV2aWNlW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuZGV2aWNlcy52YWx1ZXMoKSkuZmlsdGVyKGRldmljZSA9PiBkZXZpY2UuaXNDb25uZWN0ZWQpXG4gIH1cblxuICAvLyBHZXQgYWxsIGRldmljZXNcbiAgcHVibGljIGdldEFsbERldmljZXMoKTogSGFwdGljRGV2aWNlW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuZGV2aWNlcy52YWx1ZXMoKSlcbiAgfVxuXG4gIC8vIEdldCBhY3RpdmUgem9uZXNcbiAgcHVibGljIGdldEFjdGl2ZVpvbmVzKCk6IEhhcHRpY1pvbmVbXSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy56b25lcy52YWx1ZXMoKSkuZmlsdGVyKHpvbmUgPT4gem9uZS5pc0FjdGl2ZSlcbiAgfVxuXG4gIC8vIEdldCBhdmFpbGFibGUgcGF0dGVybnNcbiAgcHVibGljIGdldEF2YWlsYWJsZVBhdHRlcm5zKCk6IEhhcHRpY1BhdHRlcm5bXSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5wYXR0ZXJucy52YWx1ZXMoKSlcbiAgfVxuXG4gIC8vIENyZWF0ZSBjdXN0b20gcGF0dGVyblxuICBwdWJsaWMgY3JlYXRlQ3VzdG9tUGF0dGVybihwYXR0ZXJuOiBPbWl0PEhhcHRpY1BhdHRlcm4sICdpZCc+KTogSGFwdGljUGF0dGVybiB7XG4gICAgY29uc3QgbmV3UGF0dGVybjogSGFwdGljUGF0dGVybiA9IHtcbiAgICAgIC4uLnBhdHRlcm4sXG4gICAgICBpZDogYHBhdHRlcm5fY3VzdG9tXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpfWBcbiAgICB9XG5cbiAgICB0aGlzLnBhdHRlcm5zLnNldChuZXdQYXR0ZXJuLmlkLCBuZXdQYXR0ZXJuKVxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0NcdURGQjUgQ3JlYXRlZCBjdXN0b20gcGF0dGVybjogJHtuZXdQYXR0ZXJuLm5hbWV9YClcbiAgICByZXR1cm4gbmV3UGF0dGVyblxuICB9XG5cbiAgLy8gQ3JlYXRlIGN1c3RvbSB6b25lXG4gIHB1YmxpYyBjcmVhdGVDdXN0b21ab25lKHpvbmU6IE9taXQ8SGFwdGljWm9uZSwgJ2lkJz4pOiBIYXB0aWNab25lIHtcbiAgICBjb25zdCBuZXdab25lOiBIYXB0aWNab25lID0ge1xuICAgICAgLi4uem9uZSxcbiAgICAgIGlkOiBgem9uZV9jdXN0b21fJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCl9YFxuICAgIH1cblxuICAgIHRoaXMuem9uZXMuc2V0KG5ld1pvbmUuaWQsIG5ld1pvbmUpXG4gICAgY29uc29sZS5sb2coYFx1RDgzRFx1RERGQVx1RkUwRiBDcmVhdGVkIGN1c3RvbSB6b25lOiAke25ld1pvbmUubmFtZX1gKVxuICAgIHJldHVybiBuZXdab25lXG4gIH1cblxuICAvLyBHZXQgc3lzdGVtIHN0YXRpc3RpY3NcbiAgcHVibGljIGdldFN5c3RlbVN0YXRpc3RpY3MoKTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgdG90YWxEZXZpY2VzOiB0aGlzLmRldmljZXMuc2l6ZSxcbiAgICAgIGNvbm5lY3RlZERldmljZXM6IHRoaXMuZ2V0Q29ubmVjdGVkRGV2aWNlcygpLmxlbmd0aCxcbiAgICAgIHRvdGFsUGF0dGVybnM6IHRoaXMucGF0dGVybnMuc2l6ZSxcbiAgICAgIHRvdGFsWm9uZXM6IHRoaXMuem9uZXMuc2l6ZSxcbiAgICAgIGFjdGl2ZVpvbmVzOiB0aGlzLmdldEFjdGl2ZVpvbmVzKCkubGVuZ3RoLFxuICAgICAgYWN0aXZlRXZlbnRzOiB0aGlzLmFjdGl2ZUV2ZW50cy5zaXplLFxuICAgICAgZ2xvYmFsSW50ZW5zaXR5OiB0aGlzLmdsb2JhbEludGVuc2l0eSxcbiAgICAgIHN5c3RlbUVuYWJsZWQ6IHRoaXMuaXNTeXN0ZW1FbmFibGVkXG4gICAgfVxuICB9XG5cbiAgLy8gQ2xlYW51cCBzeXN0ZW1cbiAgcHVibGljIGNsZWFudXAoKSB7XG4gICAgdGhpcy5kZXZpY2VzLmNsZWFyKClcbiAgICB0aGlzLnBhdHRlcm5zLmNsZWFyKClcbiAgICB0aGlzLnpvbmVzLmNsZWFyKClcbiAgICB0aGlzLmFjdGl2ZUV2ZW50cy5jbGVhcigpXG5cbiAgICBpZiAodGhpcy5oYXB0aWNVSSkge1xuICAgICAgZW5naW5lLnJlbW92ZUVudGl0eSh0aGlzLmhhcHRpY1VJKVxuICAgIH1cblxuICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IGZhbHNlXG4gIH1cbn1cblxuLy8gRXhwb3J0IHNpbmdsZXRvbiBpbnN0YW5jZVxuZXhwb3J0IGNvbnN0IGhhcHRpY0ZlZWRiYWNrU3lzdGVtID0gbmV3IEhhcHRpY0ZlZWRiYWNrU3lzdGVtKClcbiIsICIvLyBIb2xvZ3JhcGhpYyBEYXRhIFZpc3VhbGl6YXRpb24gV2FsbHMgZm9yIEFJR2VzdGlvbiBWaXJ0dWFsIE9mZmljZVxuaW1wb3J0IHsgZW5naW5lLCBNYXRlcmlhbCwgTWVzaFJlbmRlcmVyLCBUZXh0U2hhcGUsIFRyYW5zZm9ybSB9IGZyb20gJ0BkY2wvc2RrL2VjcydcbmltcG9ydCB7IENvbG9yMywgQ29sb3I0LCBWZWN0b3IzIH0gZnJvbSAnQGRjbC9zZGsvbWF0aCdcblxuaW50ZXJmYWNlIERhdGFQb2ludCB7XG4gIGxhYmVsOiBzdHJpbmdcbiAgdmFsdWU6IG51bWJlclxuICBjb2xvcjogQ29sb3IzXG4gIHRpbWVzdGFtcDogbnVtYmVyXG59XG5cbmludGVyZmFjZSBDaGFydENvbmZpZyB7XG4gIHR5cGU6ICdiYXInIHwgJ2xpbmUnIHwgJ3BpZScgfCAnc2NhdHRlcicgfCAnaGVhdG1hcCdcbiAgdGl0bGU6IHN0cmluZ1xuICBkYXRhOiBEYXRhUG9pbnRbXVxuICBtYXhEYXRhUG9pbnRzOiBudW1iZXJcbiAgdXBkYXRlSW50ZXJ2YWw6IG51bWJlclxufVxuXG5leHBvcnQgY2xhc3MgSG9sb2dyYXBoaWNEYXRhV2FsbCB7XG4gIHByaXZhdGUgZW50aXR5OiBhbnlcbiAgcHJpdmF0ZSBjaGFydHM6IE1hcDxzdHJpbmcsIENoYXJ0Q29uZmlnPiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIHZpc3VhbEVsZW1lbnRzOiBhbnlbXSA9IFtdXG4gIHByaXZhdGUgYW5pbWF0aW9uVGltZTogbnVtYmVyID0gMFxuICBwcml2YXRlIGlzQWN0aXZlOiBib29sZWFuID0gdHJ1ZVxuXG4gIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBWZWN0b3IzLCBzY2FsZTogVmVjdG9yMykge1xuICAgIHRoaXMuY3JlYXRlV2FsbChwb3NpdGlvbiwgc2NhbGUpXG4gICAgdGhpcy5zdGFydEFuaW1hdGlvbigpXG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVdhbGwocG9zaXRpb246IFZlY3RvcjMsIHNjYWxlOiBWZWN0b3IzKSB7XG4gICAgLy8gTWFpbiB3YWxsIHN0cnVjdHVyZVxuICAgIHRoaXMuZW50aXR5ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZSh0aGlzLmVudGl0eSwge1xuICAgICAgcG9zaXRpb246IHBvc2l0aW9uLFxuICAgICAgc2NhbGU6IHNjYWxlXG4gICAgfSlcbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KHRoaXMuZW50aXR5KVxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKHRoaXMuZW50aXR5LCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjA1LCAwLjA1LCAwLjEsIDAuOSksXG4gICAgICByb3VnaG5lc3M6IDAuMSxcbiAgICAgIG1ldGFsbGljOiAwLjgsXG4gICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMSwgMC4xLCAwLjMsIDAuNSksXG4gICAgICBlbWlzc2l2ZUludGVuc2l0eTogMlxuICAgIH0pXG5cbiAgICAvLyBDcmVhdGUgZ3JpZCBvdmVybGF5XG4gICAgdGhpcy5jcmVhdGVHcmlkT3ZlcmxheSgpXG5cbiAgICAvLyBDcmVhdGUgdGl0bGVcbiAgICB0aGlzLmNyZWF0ZVRpdGxlKClcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlR3JpZE92ZXJsYXkoKSB7XG4gICAgY29uc3QgZ3JpZFNpemUgPSAxMFxuICAgIGNvbnN0IGdyaWRTcGFjaW5nID0gMS42XG5cbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGdyaWRTaXplOyB4KyspIHtcbiAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgZ3JpZFNpemU7IHkrKykge1xuICAgICAgICBjb25zdCBncmlkQ2VsbCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgICBUcmFuc2Zvcm0uY3JlYXRlKGdyaWRDZWxsLCB7XG4gICAgICAgICAgcGFyZW50OiB0aGlzLmVudGl0eSxcbiAgICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoXG4gICAgICAgICAgICAtNy41ICsgeCAqIGdyaWRTcGFjaW5nLFxuICAgICAgICAgICAgLTMuNSArIHkgKiBncmlkU3BhY2luZyxcbiAgICAgICAgICAgIDAuMVxuICAgICAgICAgICksXG4gICAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDEuNSwgMS41LCAwLjA1KVxuICAgICAgICB9KVxuICAgICAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGdyaWRDZWxsKVxuICAgICAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChncmlkQ2VsbCwge1xuICAgICAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMiwgMC4zLCAwLjUsIDAuMyksXG4gICAgICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjEsIDAuMiwgMC40LCAwLjUpLFxuICAgICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAxXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMudmlzdWFsRWxlbWVudHMucHVzaChncmlkQ2VsbClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVRpdGxlKCkge1xuICAgIGNvbnN0IHRpdGxlRW50aXR5ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZSh0aXRsZUVudGl0eSwge1xuICAgICAgcGFyZW50OiB0aGlzLmVudGl0eSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCA0LjUsIDAuMSksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4zLCAwLjMsIDAuMylcbiAgICB9KVxuICAgIFRleHRTaGFwZS5jcmVhdGUodGl0bGVFbnRpdHksIHtcbiAgICAgIHRleHQ6ICdcdUQ4M0RcdURDQ0EgSE9MT0dSQVBISUMgREFUQSBWSVNVQUxJWkFUSU9OJyxcbiAgICAgIHRleHRDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjUsIDAuOCwgMSwgMSksXG4gICAgICBmb250U2l6ZTogNCxcbiAgICAgIHRleHRBbGlnbjogMyxcbiAgICAgIG91dGxpbmVXaWR0aDogMC4xLFxuICAgICAgb3V0bGluZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAsIDAsIDAsIDEpXG4gICAgfSlcbiAgICB0aGlzLnZpc3VhbEVsZW1lbnRzLnB1c2godGl0bGVFbnRpdHkpXG4gIH1cblxuICAvLyBBZGQgYSBuZXcgY2hhcnQgdG8gdGhlIHdhbGxcbiAgcHVibGljIGFkZENoYXJ0KGlkOiBzdHJpbmcsIGNvbmZpZzogQ2hhcnRDb25maWcpIHtcbiAgICB0aGlzLmNoYXJ0cy5zZXQoaWQsIGNvbmZpZylcbiAgICB0aGlzLnJlbmRlckNoYXJ0KGlkKVxuXG4gICAgLy8gU3RhcnQgcmVhbC10aW1lIHVwZGF0ZXNcbiAgICBpZiAoY29uZmlnLnVwZGF0ZUludGVydmFsID4gMCkge1xuICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZUNoYXJ0KGlkKVxuICAgICAgfSwgY29uZmlnLnVwZGF0ZUludGVydmFsKVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyQ2hhcnQoY2hhcnRJZDogc3RyaW5nKSB7XG4gICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0cy5nZXQoY2hhcnRJZClcbiAgICBpZiAoIWNoYXJ0KSByZXR1cm5cblxuICAgIHN3aXRjaCAoY2hhcnQudHlwZSkge1xuICAgICAgY2FzZSAnYmFyJzpcbiAgICAgICAgdGhpcy5yZW5kZXJCYXJDaGFydChjaGFydElkLCBjaGFydClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2xpbmUnOlxuICAgICAgICB0aGlzLnJlbmRlckxpbmVDaGFydChjaGFydElkLCBjaGFydClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3BpZSc6XG4gICAgICAgIHRoaXMucmVuZGVyUGllQ2hhcnQoY2hhcnRJZCwgY2hhcnQpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdzY2F0dGVyJzpcbiAgICAgICAgdGhpcy5yZW5kZXJTY2F0dGVyQ2hhcnQoY2hhcnRJZCwgY2hhcnQpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdoZWF0bWFwJzpcbiAgICAgICAgdGhpcy5yZW5kZXJIZWF0bWFwKGNoYXJ0SWQsIGNoYXJ0KVxuICAgICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyQmFyQ2hhcnQoY2hhcnRJZDogc3RyaW5nLCBjb25maWc6IENoYXJ0Q29uZmlnKSB7XG4gICAgY29uc3QgYmFyV2lkdGggPSAxLjJcbiAgICBjb25zdCBtYXhIZWlnaHQgPSAzXG4gICAgY29uc3Qgc3BhY2luZyA9IDEuNVxuICAgIGNvbnN0IHN0YXJ0WCA9IC02XG5cbiAgICBjb25maWcuZGF0YS5mb3JFYWNoKChwb2ludCwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGJhciA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgY29uc3QgaGVpZ2h0ID0gKHBvaW50LnZhbHVlIC8gMTAwKSAqIG1heEhlaWdodFxuXG4gICAgICBUcmFuc2Zvcm0uY3JlYXRlKGJhciwge1xuICAgICAgICBwYXJlbnQ6IHRoaXMuZW50aXR5LFxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoXG4gICAgICAgICAgc3RhcnRYICsgaW5kZXggKiBzcGFjaW5nLFxuICAgICAgICAgIC0yICsgaGVpZ2h0IC8gMixcbiAgICAgICAgICAwLjJcbiAgICAgICAgKSxcbiAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKGJhcldpZHRoLCBoZWlnaHQsIDAuMylcbiAgICAgIH0pXG4gICAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGJhcilcbiAgICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGJhciwge1xuICAgICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZShwb2ludC5jb2xvci5yLCBwb2ludC5jb2xvci5nLCBwb2ludC5jb2xvci5iLCAwLjgpLFxuICAgICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKHBvaW50LmNvbG9yLnIsIHBvaW50LmNvbG9yLmcsIHBvaW50LmNvbG9yLmIsIDAuNiksXG4gICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAyXG4gICAgICB9KVxuXG4gICAgICAvLyBBZGQgbGFiZWxcbiAgICAgIGNvbnN0IGxhYmVsID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgICBUcmFuc2Zvcm0uY3JlYXRlKGxhYmVsLCB7XG4gICAgICAgIHBhcmVudDogdGhpcy5lbnRpdHksXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZShcbiAgICAgICAgICBzdGFydFggKyBpbmRleCAqIHNwYWNpbmcsXG4gICAgICAgICAgLTMuNSxcbiAgICAgICAgICAwLjNcbiAgICAgICAgKSxcbiAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMiwgMC4yLCAwLjIpXG4gICAgICB9KVxuICAgICAgVGV4dFNoYXBlLmNyZWF0ZShsYWJlbCwge1xuICAgICAgICB0ZXh0OiBwb2ludC5sYWJlbCxcbiAgICAgICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDEsIDEsIDEpLFxuICAgICAgICBmb250U2l6ZTogMixcbiAgICAgICAgdGV4dEFsaWduOiAzXG4gICAgICB9KVxuXG4gICAgICB0aGlzLnZpc3VhbEVsZW1lbnRzLnB1c2goYmFyLCBsYWJlbClcbiAgICB9KVxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJMaW5lQ2hhcnQoY2hhcnRJZDogc3RyaW5nLCBjb25maWc6IENoYXJ0Q29uZmlnKSB7XG4gICAgY29uc3QgcG9pbnRzOiBWZWN0b3IzW10gPSBbXVxuICAgIGNvbnN0IHNwYWNpbmcgPSAxLjJcbiAgICBjb25zdCBzdGFydFggPSAtNlxuXG4gICAgY29uZmlnLmRhdGEuZm9yRWFjaCgocG9pbnQsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCB4ID0gc3RhcnRYICsgaW5kZXggKiBzcGFjaW5nXG4gICAgICBjb25zdCB5ID0gLTIgKyAocG9pbnQudmFsdWUgLyAxMDApICogM1xuICAgICAgcG9pbnRzLnB1c2goVmVjdG9yMy5jcmVhdGUoeCwgeSwgMC4yKSlcblxuICAgICAgLy8gQ3JlYXRlIGRhdGEgcG9pbnRcbiAgICAgIGNvbnN0IGRhdGFQb2ludCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgVHJhbnNmb3JtLmNyZWF0ZShkYXRhUG9pbnQsIHtcbiAgICAgICAgcGFyZW50OiB0aGlzLmVudGl0eSxcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKHgsIHksIDAuMiksXG4gICAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjIsIDAuMiwgMC4yKVxuICAgICAgfSlcbiAgICAgIE1lc2hSZW5kZXJlci5zZXRTcGhlcmUoZGF0YVBvaW50KVxuICAgICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoZGF0YVBvaW50LCB7XG4gICAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKHBvaW50LmNvbG9yLnIsIHBvaW50LmNvbG9yLmcsIHBvaW50LmNvbG9yLmIsIDEpLFxuICAgICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKHBvaW50LmNvbG9yLnIsIHBvaW50LmNvbG9yLmcsIHBvaW50LmNvbG9yLmIsIDAuOCksXG4gICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAzXG4gICAgICB9KVxuICAgICAgdGhpcy52aXN1YWxFbGVtZW50cy5wdXNoKGRhdGFQb2ludClcbiAgICB9KVxuXG4gICAgLy8gQ3JlYXRlIGNvbm5lY3RpbmcgbGluZXNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIGNvbnN0IGxpbmUgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIGNvbnN0IHN0YXJ0ID0gcG9pbnRzW2ldXG4gICAgICBjb25zdCBlbmQgPSBwb2ludHNbaSArIDFdXG4gICAgICBjb25zdCBkaXN0YW5jZSA9IFZlY3RvcjMuZGlzdGFuY2Uoc3RhcnQsIGVuZClcbiAgICAgIGNvbnN0IG1pZHBvaW50ID0gVmVjdG9yMy5sZXJwKHN0YXJ0LCBlbmQsIDAuNSlcblxuICAgICAgVHJhbnNmb3JtLmNyZWF0ZShsaW5lLCB7XG4gICAgICAgIHBhcmVudDogdGhpcy5lbnRpdHksXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZShtaWRwb2ludC54LCBtaWRwb2ludC55LCAwLjE1KSxcbiAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMDUsIGRpc3RhbmNlLCAwLjEpXG4gICAgICB9KVxuXG4gICAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGxpbmUpXG4gICAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChsaW5lLCB7XG4gICAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuNSwgMC44LCAxLCAwLjgpLFxuICAgICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuNSwgMC44LCAxLCAwLjYpLFxuICAgICAgICBlbWlzc2l2ZUludGVuc2l0eTogMlxuICAgICAgfSlcbiAgICAgIHRoaXMudmlzdWFsRWxlbWVudHMucHVzaChsaW5lKVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyUGllQ2hhcnQoY2hhcnRJZDogc3RyaW5nLCBjb25maWc6IENoYXJ0Q29uZmlnKSB7XG4gICAgY29uc3QgdG90YWwgPSBjb25maWcuZGF0YS5yZWR1Y2UoKHN1bSwgcG9pbnQpID0+IHN1bSArIHBvaW50LnZhbHVlLCAwKVxuICAgIGxldCBjdXJyZW50QW5nbGUgPSAwXG5cbiAgICBjb25maWcuZGF0YS5mb3JFYWNoKChwb2ludCwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSBwb2ludC52YWx1ZSAvIHRvdGFsXG4gICAgICBjb25zdCBhbmdsZSA9IHBlcmNlbnRhZ2UgKiAzNjBcblxuICAgICAgLy8gQ3JlYXRlIHBpZSBzbGljZSAoc2ltcGxpZmllZCBhcyBib3gpXG4gICAgICBjb25zdCBzbGljZSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgVHJhbnNmb3JtLmNyZWF0ZShzbGljZSwge1xuICAgICAgICBwYXJlbnQ6IHRoaXMuZW50aXR5LFxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoXG4gICAgICAgICAgTWF0aC5jb3MoY3VycmVudEFuZ2xlICogTWF0aC5QSSAvIDE4MCkgKiAyLFxuICAgICAgICAgIE1hdGguc2luKGN1cnJlbnRBbmdsZSAqIE1hdGguUEkgLyAxODApICogMixcbiAgICAgICAgICAwLjJcbiAgICAgICAgKSxcbiAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDEuNSwgMS41LCAwLjMpXG4gICAgICB9KVxuICAgICAgTWVzaFJlbmRlcmVyLnNldEJveChzbGljZSlcbiAgICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKHNsaWNlLCB7XG4gICAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKHBvaW50LmNvbG9yLnIsIHBvaW50LmNvbG9yLmcsIHBvaW50LmNvbG9yLmIsIDAuOCksXG4gICAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUocG9pbnQuY29sb3IuciwgcG9pbnQuY29sb3IuZywgcG9pbnQuY29sb3IuYiwgMC42KSxcbiAgICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDJcbiAgICAgIH0pXG4gICAgICB0aGlzLnZpc3VhbEVsZW1lbnRzLnB1c2goc2xpY2UpXG5cbiAgICAgIGN1cnJlbnRBbmdsZSArPSBhbmdsZVxuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIHJlbmRlclNjYXR0ZXJDaGFydChjaGFydElkOiBzdHJpbmcsIGNvbmZpZzogQ2hhcnRDb25maWcpIHtcbiAgICBjb25maWcuZGF0YS5mb3JFYWNoKChwb2ludCwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHNjYXR0ZXJQb2ludCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgVHJhbnNmb3JtLmNyZWF0ZShzY2F0dGVyUG9pbnQsIHtcbiAgICAgICAgcGFyZW50OiB0aGlzLmVudGl0eSxcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKFxuICAgICAgICAgIC02ICsgKGluZGV4IC8gY29uZmlnLmRhdGEubGVuZ3RoKSAqIDEyLFxuICAgICAgICAgIC0yICsgKHBvaW50LnZhbHVlIC8gMTAwKSAqIDMsXG4gICAgICAgICAgMC4yXG4gICAgICAgICksXG4gICAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjMsIDAuMywgMC4zKVxuICAgICAgfSlcbiAgICAgIE1lc2hSZW5kZXJlci5zZXRTcGhlcmUoc2NhdHRlclBvaW50KVxuICAgICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoc2NhdHRlclBvaW50LCB7XG4gICAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKHBvaW50LmNvbG9yLnIsIHBvaW50LmNvbG9yLmcsIHBvaW50LmNvbG9yLmIsIDAuOSksXG4gICAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUocG9pbnQuY29sb3IuciwgcG9pbnQuY29sb3IuZywgcG9pbnQuY29sb3IuYiwgMC43KSxcbiAgICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDNcbiAgICAgIH0pXG4gICAgICB0aGlzLnZpc3VhbEVsZW1lbnRzLnB1c2goc2NhdHRlclBvaW50KVxuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIHJlbmRlckhlYXRtYXAoY2hhcnRJZDogc3RyaW5nLCBjb25maWc6IENoYXJ0Q29uZmlnKSB7XG4gICAgY29uc3QgZ3JpZFNpemUgPSA4XG4gICAgY29uc3QgY2VsbFNpemUgPSAxLjVcblxuICAgIGZvciAobGV0IHggPSAwOyB4IDwgZ3JpZFNpemU7IHgrKykge1xuICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCBncmlkU2l6ZTsgeSsrKSB7XG4gICAgICAgIGNvbnN0IGRhdGFJbmRleCA9ICh4ICogZ3JpZFNpemUgKyB5KSAlIGNvbmZpZy5kYXRhLmxlbmd0aFxuICAgICAgICBjb25zdCBwb2ludCA9IGNvbmZpZy5kYXRhW2RhdGFJbmRleF1cblxuICAgICAgICBjb25zdCBoZWF0Q2VsbCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgICBUcmFuc2Zvcm0uY3JlYXRlKGhlYXRDZWxsLCB7XG4gICAgICAgICAgcGFyZW50OiB0aGlzLmVudGl0eSxcbiAgICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoXG4gICAgICAgICAgICAtNiArIHggKiBjZWxsU2l6ZSxcbiAgICAgICAgICAgIC0yICsgeSAqIGNlbGxTaXplLFxuICAgICAgICAgICAgMC4yXG4gICAgICAgICAgKSxcbiAgICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoY2VsbFNpemUgKiAwLjgsIGNlbGxTaXplICogMC44LCAwLjIpXG4gICAgICAgIH0pXG4gICAgICAgIE1lc2hSZW5kZXJlci5zZXRCb3goaGVhdENlbGwpXG5cbiAgICAgICAgY29uc3QgaW50ZW5zaXR5ID0gcG9pbnQudmFsdWUgLyAxMDBcbiAgICAgICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoaGVhdENlbGwsIHtcbiAgICAgICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZShcbiAgICAgICAgICAgIHBvaW50LmNvbG9yLnIgKiBpbnRlbnNpdHksXG4gICAgICAgICAgICBwb2ludC5jb2xvci5nICogaW50ZW5zaXR5LFxuICAgICAgICAgICAgcG9pbnQuY29sb3IuYiAqIGludGVuc2l0eSxcbiAgICAgICAgICAgIDAuOFxuICAgICAgICAgICksXG4gICAgICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZShcbiAgICAgICAgICAgIHBvaW50LmNvbG9yLnIgKiBpbnRlbnNpdHksXG4gICAgICAgICAgICBwb2ludC5jb2xvci5nICogaW50ZW5zaXR5LFxuICAgICAgICAgICAgcG9pbnQuY29sb3IuYiAqIGludGVuc2l0eSxcbiAgICAgICAgICAgIDAuNlxuICAgICAgICAgICksXG4gICAgICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IGludGVuc2l0eSAqIDNcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy52aXN1YWxFbGVtZW50cy5wdXNoKGhlYXRDZWxsKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlQ2hhcnQoY2hhcnRJZDogc3RyaW5nKSB7XG4gICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0cy5nZXQoY2hhcnRJZClcbiAgICBpZiAoIWNoYXJ0KSByZXR1cm5cblxuICAgIC8vIEFkZCBuZXcgZGF0YSBwb2ludFxuICAgIGNvbnN0IG5ld1BvaW50OiBEYXRhUG9pbnQgPSB7XG4gICAgICBsYWJlbDogYFQke0RhdGUubm93KCkgJSAxMDAwfWAsXG4gICAgICB2YWx1ZTogTWF0aC5yYW5kb20oKSAqIDEwMCxcbiAgICAgIGNvbG9yOiBDb2xvcjMuY3JlYXRlKE1hdGgucmFuZG9tKCksIE1hdGgucmFuZG9tKCksIE1hdGgucmFuZG9tKCkpLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgfVxuXG4gICAgY2hhcnQuZGF0YS5wdXNoKG5ld1BvaW50KVxuXG4gICAgLy8gTGltaXQgZGF0YSBwb2ludHNcbiAgICBpZiAoY2hhcnQuZGF0YS5sZW5ndGggPiBjaGFydC5tYXhEYXRhUG9pbnRzKSB7XG4gICAgICBjaGFydC5kYXRhLnNoaWZ0KClcbiAgICB9XG5cbiAgICAvLyBDbGVhciBhbmQgcmUtcmVuZGVyXG4gICAgdGhpcy5jbGVhckNoYXJ0KGNoYXJ0SWQpXG4gICAgdGhpcy5yZW5kZXJDaGFydChjaGFydElkKVxuICB9XG5cbiAgcHJpdmF0ZSBjbGVhckNoYXJ0KGNoYXJ0SWQ6IHN0cmluZykge1xuICAgIC8vIFJlbW92ZSB2aXN1YWwgZWxlbWVudHMgZm9yIHRoaXMgY2hhcnRcbiAgICAvLyBJbiBhIHJlYWwgaW1wbGVtZW50YXRpb24sIHdlJ2QgdHJhY2sgd2hpY2ggZWxlbWVudHMgYmVsb25nIHRvIHdoaWNoIGNoYXJ0XG4gICAgY29uc3QgZWxlbWVudHNUb1JlbW92ZSA9IHRoaXMudmlzdWFsRWxlbWVudHMuc3BsaWNlKDIwKSAvLyBLZWVwIGJhc2ljIHN0cnVjdHVyZVxuICAgIGVsZW1lbnRzVG9SZW1vdmUuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGVuZ2luZS5yZW1vdmVFbnRpdHkoZWxlbWVudClcbiAgICB9KVxuICB9XG5cbiAgcHJpdmF0ZSBzdGFydEFuaW1hdGlvbigpIHtcbiAgICBlbmdpbmUuYWRkU3lzdGVtKCgpID0+IHtcbiAgICAgIGlmICghdGhpcy5pc0FjdGl2ZSkgcmV0dXJuXG5cbiAgICAgIHRoaXMuYW5pbWF0aW9uVGltZSArPSAwLjAxNlxuXG4gICAgICAvLyBBbmltYXRlIGdyaWQgY2VsbHNcbiAgICAgIHRoaXMudmlzdWFsRWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKGluZGV4ICUgMyA9PT0gMCkgeyAvLyBBbmltYXRlIGV2ZXJ5IDNyZCBlbGVtZW50XG4gICAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBNYXRlcmlhbC5nZXRNdXRhYmxlKGVsZW1lbnQpXG4gICAgICAgICAgaWYgKG1hdGVyaWFsICYmIG1hdGVyaWFsLiRjYXNlID09PSAncGJyJykge1xuICAgICAgICAgICAgY29uc3QgcHVsc2UgPSBNYXRoLnNpbih0aGlzLmFuaW1hdGlvblRpbWUgKiAyICsgaW5kZXggKiAwLjEpICogMC4zICsgMC43XG4gICAgICAgICAgICBtYXRlcmlhbC5wYnIuZW1pc3NpdmVJbnRlbnNpdHkgPSBwdWxzZSAqIDJcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8vIFJlYWwtdGltZSBkYXRhIHN0cmVhbWluZ1xuICBwdWJsaWMgc3RhcnREYXRhU3RyZWFtKGNoYXJ0SWQ6IHN0cmluZywgZGF0YVNvdXJjZTogKCkgPT4gRGF0YVBvaW50KSB7XG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0cy5nZXQoY2hhcnRJZClcbiAgICAgIGlmIChjaGFydCkge1xuICAgICAgICBjb25zdCBuZXdEYXRhUG9pbnQgPSBkYXRhU291cmNlKClcbiAgICAgICAgY2hhcnQuZGF0YS5wdXNoKG5ld0RhdGFQb2ludClcblxuICAgICAgICBpZiAoY2hhcnQuZGF0YS5sZW5ndGggPiBjaGFydC5tYXhEYXRhUG9pbnRzKSB7XG4gICAgICAgICAgY2hhcnQuZGF0YS5zaGlmdCgpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNsZWFyQ2hhcnQoY2hhcnRJZClcbiAgICAgICAgdGhpcy5yZW5kZXJDaGFydChjaGFydElkKVxuICAgICAgfVxuICAgIH0sIDEwMDApXG4gIH1cblxuICAvLyBJbnRlcmFjdGl2ZSBmZWF0dXJlc1xuICBwdWJsaWMgc2V0SW50ZXJhY3RpdmUoZW5hYmxlZDogYm9vbGVhbikge1xuICAgIHRoaXMuaXNBY3RpdmUgPSBlbmFibGVkXG4gIH1cblxuICAvLyBDbGVhbnVwXG4gIHB1YmxpYyBjbGVhbnVwKCkge1xuICAgIHRoaXMudmlzdWFsRWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGVuZ2luZS5yZW1vdmVFbnRpdHkoZWxlbWVudClcbiAgICB9KVxuICAgIHRoaXMudmlzdWFsRWxlbWVudHMgPSBbXVxuICAgIHRoaXMuY2hhcnRzLmNsZWFyKClcbiAgfVxufVxuXG4vLyBEYXRhIFZpc3VhbGl6YXRpb24gTWFuYWdlclxuZXhwb3J0IGNsYXNzIERhdGFWaXN1YWxpemF0aW9uTWFuYWdlciB7XG4gIHByaXZhdGUgd2FsbHM6IE1hcDxzdHJpbmcsIEhvbG9ncmFwaGljRGF0YVdhbGw+ID0gbmV3IE1hcCgpXG5cbiAgY3JlYXRlV2FsbChpZDogc3RyaW5nLCBwb3NpdGlvbjogVmVjdG9yMywgc2NhbGU6IFZlY3RvcjMpOiBIb2xvZ3JhcGhpY0RhdGFXYWxsIHtcbiAgICBjb25zdCB3YWxsID0gbmV3IEhvbG9ncmFwaGljRGF0YVdhbGwocG9zaXRpb24sIHNjYWxlKVxuICAgIHRoaXMud2FsbHMuc2V0KGlkLCB3YWxsKVxuICAgIHJldHVybiB3YWxsXG4gIH1cblxuICBnZXRXYWxsKGlkOiBzdHJpbmcpOiBIb2xvZ3JhcGhpY0RhdGFXYWxsIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy53YWxscy5nZXQoaWQpXG4gIH1cblxuICAvLyBQcmUtY29uZmlndXJlZCBkYXRhIHNvdXJjZXNcbiAgc3RhdGljIGNyZWF0ZVN5c3RlbVN0YXR1c0RhdGEoKTogRGF0YVBvaW50W10ge1xuICAgIHJldHVybiBbXG4gICAgICB7IGxhYmVsOiAnQ1BVJywgdmFsdWU6IDY1LCBjb2xvcjogQ29sb3IzLmNyZWF0ZSgwLjIsIDAuOCwgMC4yKSwgdGltZXN0YW1wOiBEYXRlLm5vdygpIH0sXG4gICAgICB7IGxhYmVsOiAnTWVtb3J5JywgdmFsdWU6IDc4LCBjb2xvcjogQ29sb3IzLmNyZWF0ZSgwLjgsIDAuNiwgMC4yKSwgdGltZXN0YW1wOiBEYXRlLm5vdygpIH0sXG4gICAgICB7IGxhYmVsOiAnTmV0d29yaycsIHZhbHVlOiA0NSwgY29sb3I6IENvbG9yMy5jcmVhdGUoMC4yLCAwLjYsIDAuOCksIHRpbWVzdGFtcDogRGF0ZS5ub3coKSB9LFxuICAgICAgeyBsYWJlbDogJ1N0b3JhZ2UnLCB2YWx1ZTogMzIsIGNvbG9yOiBDb2xvcjMuY3JlYXRlKDAuOCwgMC4yLCAwLjYpLCB0aW1lc3RhbXA6IERhdGUubm93KCkgfSxcbiAgICAgIHsgbGFiZWw6ICdRdWFudHVtJywgdmFsdWU6IDg5LCBjb2xvcjogQ29sb3IzLmNyZWF0ZSgwLjYsIDAuMiwgMC44KSwgdGltZXN0YW1wOiBEYXRlLm5vdygpIH1cbiAgICBdXG4gIH1cblxuICBzdGF0aWMgY3JlYXRlUmVhbHRpbWVEYXRhU291cmNlKCk6ICgpID0+IERhdGFQb2ludCB7XG4gICAgbGV0IGNvdW50ZXIgPSAwXG4gICAgcmV0dXJuICgpID0+ICh7XG4gICAgICBsYWJlbDogYERhdGEke2NvdW50ZXIrK31gLFxuICAgICAgdmFsdWU6IE1hdGgucmFuZG9tKCkgKiAxMDAsXG4gICAgICBjb2xvcjogQ29sb3IzLmNyZWF0ZShNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpKSxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgIH0pXG4gIH1cblxuICBjbGVhbnVwKCkge1xuICAgIHRoaXMud2FsbHMuZm9yRWFjaCh3YWxsID0+IHdhbGwuY2xlYW51cCgpKVxuICAgIHRoaXMud2FsbHMuY2xlYXIoKVxuICB9XG59XG5cbi8vIEV4cG9ydCBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBkYXRhVml6TWFuYWdlciA9IG5ldyBEYXRhVmlzdWFsaXphdGlvbk1hbmFnZXIoKVxuIiwgIi8vIE11bHRpcGxheWVyIENvbGxhYm9yYXRpb24gU3lzdGVtIGZvciBBSUdlc3Rpb24gVmlydHVhbCBPZmZpY2VcbmltcG9ydCB7IGVuZ2luZSwgSW5wdXRBY3Rpb24sIE1hdGVyaWFsLCBNZXNoUmVuZGVyZXIsIHBvaW50ZXJFdmVudHNTeXN0ZW0sIFRleHRTaGFwZSwgVHJhbnNmb3JtIH0gZnJvbSAnQGRjbC9zZGsvZWNzJ1xuaW1wb3J0IHsgc2V0VGltZW91dCwgc2V0SW50ZXJ2YWwgfSBmcm9tICcuL3V0aWxzL3RpbWVycydcbmltcG9ydCB7IENvbG9yMywgQ29sb3I0LCBRdWF0ZXJuaW9uLCBWZWN0b3IzIH0gZnJvbSAnQGRjbC9zZGsvbWF0aCdcbmltcG9ydCB7IHNvdW5kU3lzdGVtIH0gZnJvbSAnLi9lbmhhbmNlZC1zb3VuZCdcblxuaW50ZXJmYWNlIFBsYXllciB7XG4gIGlkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIHBvc2l0aW9uOiBWZWN0b3IzXG4gIHJvdGF0aW9uOiBRdWF0ZXJuaW9uXG4gIGF2YXRhcjogYW55XG4gIGlzQWN0aXZlOiBib29sZWFuXG4gIGxhc3RVcGRhdGU6IG51bWJlclxuICBjb2xvcjogQ29sb3IzXG59XG5cbmludGVyZmFjZSBDb2xsYWJvcmF0aW9uU2Vzc2lvbiB7XG4gIGlkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIGhvc3RJZDogc3RyaW5nXG4gIHBhcnRpY2lwYW50czogc3RyaW5nW11cbiAgc3RhcnRUaW1lOiBudW1iZXJcbiAgaXNBY3RpdmU6IGJvb2xlYW5cbiAgc2hhcmVkT2JqZWN0czogTWFwPHN0cmluZywgYW55PlxufVxuXG5pbnRlcmZhY2UgU2hhcmVkT2JqZWN0IHtcbiAgaWQ6IHN0cmluZ1xuICB0eXBlOiAnd2hpdGVib2FyZCcgfCAnZG9jdW1lbnQnIHwgJ21vZGVsJyB8ICdub3RlJ1xuICBwb3NpdGlvbjogVmVjdG9yM1xuICBjb250ZW50OiBhbnlcbiAgb3duZXJJZDogc3RyaW5nXG4gIGNvbGxhYm9yYXRvcnM6IHN0cmluZ1tdXG4gIGlzTG9ja2VkOiBib29sZWFuXG59XG5cbmludGVyZmFjZSBWb2ljZUNoYW5uZWwge1xuICBpZDogc3RyaW5nXG4gIG5hbWU6IHN0cmluZ1xuICBwYXJ0aWNpcGFudHM6IHN0cmluZ1tdXG4gIGlzU3BhdGlhbDogYm9vbGVhblxuICBtYXhQYXJ0aWNpcGFudHM6IG51bWJlclxufVxuXG5leHBvcnQgY2xhc3MgTXVsdGlwbGF5ZXJTeXN0ZW0ge1xuICBwcml2YXRlIGxvY2FsUGxheWVyOiBQbGF5ZXJcbiAgcHJpdmF0ZSByZW1vdGVQbGF5ZXJzOiBNYXA8c3RyaW5nLCBQbGF5ZXI+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgYWN0aXZlU2Vzc2lvbjogQ29sbGFib3JhdGlvblNlc3Npb24gfCBudWxsID0gbnVsbFxuICBwcml2YXRlIHNoYXJlZE9iamVjdHM6IE1hcDxzdHJpbmcsIFNoYXJlZE9iamVjdD4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSB2b2ljZUNoYW5uZWxzOiBNYXA8c3RyaW5nLCBWb2ljZUNoYW5uZWw+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgaXNJbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlXG4gIHByaXZhdGUgY29ubmVjdGlvblN0YXR1czogJ2Nvbm5lY3RlZCcgfCAnY29ubmVjdGluZycgfCAnZGlzY29ubmVjdGVkJyA9ICdkaXNjb25uZWN0ZWQnXG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5sb2NhbFBsYXllciA9IHtcbiAgICAgIGlkOiB0aGlzLmdlbmVyYXRlUGxheWVySWQoKSxcbiAgICAgIG5hbWU6ICdQbGF5ZXInLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDgsIDEsIDgpLFxuICAgICAgcm90YXRpb246IFF1YXRlcm5pb24uZnJvbUV1bGVyRGVncmVlcygwLCAwLCAwKSxcbiAgICAgIGF2YXRhcjogbnVsbCxcbiAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgbGFzdFVwZGF0ZTogRGF0ZS5ub3coKSxcbiAgICAgIGNvbG9yOiBDb2xvcjMuY3JlYXRlKE1hdGgucmFuZG9tKCksIE1hdGgucmFuZG9tKCksIE1hdGgucmFuZG9tKCkpXG4gICAgfVxuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSBtdWx0aXBsYXllciBzeXN0ZW1cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpIHtcbiAgICBjb25zb2xlLmxvZygnXHVEODNDXHVERjEwIE11bHRpcGxheWVyIFN5c3RlbSBJbml0aWFsaXppbmcuLi4nKVxuXG4gICAgdGhpcy5jcmVhdGVMb2NhbFBsYXllcigpXG4gICAgdGhpcy5zZXR1cFZvaWNlQ2hhdCgpXG4gICAgdGhpcy5jcmVhdGVDb2xsYWJvcmF0aW9uVG9vbHMoKVxuICAgIHRoaXMuc3RhcnROZXR3b3JrU3luYygpXG5cbiAgICBhd2FpdCB0aGlzLmNvbm5lY3RUb1NlcnZlcigpXG5cbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlXG4gICAgY29uc29sZS5sb2coJ1x1RDgzQ1x1REYxMCBNdWx0aXBsYXllciBTeXN0ZW0gUmVhZHkhJylcbiAgfVxuXG4gIC8vIENyZWF0ZSBsb2NhbCBwbGF5ZXIgYXZhdGFyXG4gIHByaXZhdGUgY3JlYXRlTG9jYWxQbGF5ZXIoKSB7XG4gICAgY29uc3QgYXZhdGFyID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZShhdmF0YXIsIHtcbiAgICAgIHBvc2l0aW9uOiB0aGlzLmxvY2FsUGxheWVyLnBvc2l0aW9uLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDEsIDIsIDEpXG4gICAgfSlcbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGF2YXRhcilcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChhdmF0YXIsIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKFxuICAgICAgICB0aGlzLmxvY2FsUGxheWVyLmNvbG9yLnIsXG4gICAgICAgIHRoaXMubG9jYWxQbGF5ZXIuY29sb3IuZyxcbiAgICAgICAgdGhpcy5sb2NhbFBsYXllci5jb2xvci5iLFxuICAgICAgICAxXG4gICAgICApLFxuICAgICAgcm91Z2huZXNzOiAwLjIsXG4gICAgICBtZXRhbGxpYzogMC4zLFxuICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZShcbiAgICAgICAgdGhpcy5sb2NhbFBsYXllci5jb2xvci5yICogMC4zLFxuICAgICAgICB0aGlzLmxvY2FsUGxheWVyLmNvbG9yLmcgKiAwLjMsXG4gICAgICAgIHRoaXMubG9jYWxQbGF5ZXIuY29sb3IuYiAqIDAuMyxcbiAgICAgICAgMC41XG4gICAgICApLFxuICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDFcbiAgICB9KVxuXG4gICAgLy8gUGxheWVyIG5hbWUgdGFnXG4gICAgY29uc3QgbmFtZVRhZyA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUobmFtZVRhZywge1xuICAgICAgcGFyZW50OiBhdmF0YXIsXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMi41LCAwKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjMsIDAuMywgMC4zKVxuICAgIH0pXG4gICAgVGV4dFNoYXBlLmNyZWF0ZShuYW1lVGFnLCB7XG4gICAgICB0ZXh0OiB0aGlzLmxvY2FsUGxheWVyLm5hbWUsXG4gICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICBmb250U2l6ZTogMyxcbiAgICAgIHRleHRBbGlnbjogM1xuICAgIH0pXG5cbiAgICB0aGlzLmxvY2FsUGxheWVyLmF2YXRhciA9IGF2YXRhclxuICB9XG5cbiAgLy8gU2V0dXAgdm9pY2UgY2hhdCBzeXN0ZW1cbiAgcHJpdmF0ZSBzZXR1cFZvaWNlQ2hhdCgpIHtcbiAgICAvLyBDcmVhdGUgbWFpbiB2b2ljZSBjaGFubmVsXG4gICAgY29uc3QgbWFpbkNoYW5uZWw6IFZvaWNlQ2hhbm5lbCA9IHtcbiAgICAgIGlkOiAnbWFpbicsXG4gICAgICBuYW1lOiAnTWFpbiBDaGFubmVsJyxcbiAgICAgIHBhcnRpY2lwYW50czogW3RoaXMubG9jYWxQbGF5ZXIuaWRdLFxuICAgICAgaXNTcGF0aWFsOiB0cnVlLFxuICAgICAgbWF4UGFydGljaXBhbnRzOiAxMFxuICAgIH1cblxuICAgIHRoaXMudm9pY2VDaGFubmVscy5zZXQoJ21haW4nLCBtYWluQ2hhbm5lbClcblxuICAgIC8vIENyZWF0ZSB2b2ljZSBjaGFubmVsIFVJXG4gICAgdGhpcy5jcmVhdGVWb2ljZUNoYW5uZWxVSSgpXG4gIH1cblxuICAvLyBDcmVhdGUgdm9pY2UgY2hhbm5lbCBVSVxuICBwcml2YXRlIGNyZWF0ZVZvaWNlQ2hhbm5lbFVJKCkge1xuICAgIGNvbnN0IHZvaWNlUGFuZWwgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKHZvaWNlUGFuZWwsIHtcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgxLCAzLCA4KSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgxLjUsIDIsIDAuMSlcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRCb3godm9pY2VQYW5lbClcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbCh2b2ljZVBhbmVsLCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjEsIDAuMiwgMC40LCAwLjkpLFxuICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuNCwgMC44LCAwLjUpLFxuICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDJcbiAgICB9KVxuXG4gICAgY29uc3Qgdm9pY2VUaXRsZSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUodm9pY2VUaXRsZSwge1xuICAgICAgcGFyZW50OiB2b2ljZVBhbmVsLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDAuNywgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjMsIDAuMywgMC4zKVxuICAgIH0pXG4gICAgVGV4dFNoYXBlLmNyZWF0ZSh2b2ljZVRpdGxlLCB7XG4gICAgICB0ZXh0OiAnXHVEODNDXHVERkE0IFZPSUNFIENIQVQnLFxuICAgICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDAuOCwgMC44LCAxLCAxKSxcbiAgICAgIGZvbnRTaXplOiAyLFxuICAgICAgdGV4dEFsaWduOiAzXG4gICAgfSlcblxuICAgIC8vIE11dGUgYnV0dG9uXG4gICAgY29uc3QgbXV0ZUJ1dHRvbiA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUobXV0ZUJ1dHRvbiwge1xuICAgICAgcGFyZW50OiB2b2ljZVBhbmVsLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIC0wLjIsIDAuMSksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4zLCAwLjMsIDAuMSlcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRCb3gobXV0ZUJ1dHRvbilcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChtdXRlQnV0dG9uLCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuOCwgMC4yLCAxKSxcbiAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4yLCAwLjgsIDAuMiwgMC44KSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAyXG4gICAgfSlcblxuICAgIGNvbnN0IG11dGVUZXh0ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZShtdXRlVGV4dCwge1xuICAgICAgcGFyZW50OiBtdXRlQnV0dG9uLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDAuMSksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC41LCAwLjUsIDAuNSlcbiAgICB9KVxuICAgIFRleHRTaGFwZS5jcmVhdGUobXV0ZVRleHQsIHtcbiAgICAgIHRleHQ6ICdcdUQ4M0RcdUREMEEnLFxuICAgICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDEsIDEsIDEpLFxuICAgICAgZm9udFNpemU6IDMsXG4gICAgICB0ZXh0QWxpZ246IDNcbiAgICB9KVxuXG4gICAgcG9pbnRlckV2ZW50c1N5c3RlbS5vblBvaW50ZXJEb3duKFxuICAgICAge1xuICAgICAgICBlbnRpdHk6IG11dGVCdXR0b24sXG4gICAgICAgIG9wdHM6IHsgYnV0dG9uOiBJbnB1dEFjdGlvbi5JQV9QT0lOVEVSLCBob3ZlclRleHQ6ICdUb2dnbGUgTXV0ZScgfVxuICAgICAgfSxcbiAgICAgICgpID0+IHRoaXMudG9nZ2xlTXV0ZSgpXG4gICAgKVxuICB9XG5cbiAgLy8gQ3JlYXRlIGNvbGxhYm9yYXRpb24gdG9vbHNcbiAgcHJpdmF0ZSBjcmVhdGVDb2xsYWJvcmF0aW9uVG9vbHMoKSB7XG4gICAgdGhpcy5jcmVhdGVTaGFyZWRXaGl0ZWJvYXJkKClcbiAgICB0aGlzLmNyZWF0ZURvY3VtZW50U2hhcmluZygpXG4gICAgdGhpcy5jcmVhdGVDb2xsYWJvcmF0aW9uUGFuZWwoKVxuICB9XG5cbiAgLy8gQ3JlYXRlIHNoYXJlZCB3aGl0ZWJvYXJkXG4gIHByaXZhdGUgY3JlYXRlU2hhcmVkV2hpdGVib2FyZCgpIHtcbiAgICBjb25zdCB3aGl0ZWJvYXJkID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZSh3aGl0ZWJvYXJkLCB7XG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoOCwgMywgMTIpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDYsIDQsIDAuMilcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRCb3god2hpdGVib2FyZClcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbCh3aGl0ZWJvYXJkLCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAxLCAxLCAxKSxcbiAgICAgIHJvdWdobmVzczogMC4xLFxuICAgICAgbWV0YWxsaWM6IDAuMVxuICAgIH0pXG5cbiAgICBjb25zdCBzaGFyZWRPYmplY3Q6IFNoYXJlZE9iamVjdCA9IHtcbiAgICAgIGlkOiAnbWFpbi13aGl0ZWJvYXJkJyxcbiAgICAgIHR5cGU6ICd3aGl0ZWJvYXJkJyxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSg4LCAzLCAxMiksXG4gICAgICBjb250ZW50OiB7IGRyYXdpbmdzOiBbXSwgdGV4dDogW10gfSxcbiAgICAgIG93bmVySWQ6IHRoaXMubG9jYWxQbGF5ZXIuaWQsXG4gICAgICBjb2xsYWJvcmF0b3JzOiBbXSxcbiAgICAgIGlzTG9ja2VkOiBmYWxzZVxuICAgIH1cblxuICAgIHRoaXMuc2hhcmVkT2JqZWN0cy5zZXQoJ21haW4td2hpdGVib2FyZCcsIHNoYXJlZE9iamVjdClcbiAgfVxuXG4gIC8vIENyZWF0ZSBkb2N1bWVudCBzaGFyaW5nIHN5c3RlbVxuICBwcml2YXRlIGNyZWF0ZURvY3VtZW50U2hhcmluZygpIHtcbiAgICBjb25zdCBkb2NTaGFyZVBhbmVsID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZShkb2NTaGFyZVBhbmVsLCB7XG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMTQsIDMsIDgpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDIsIDMsIDAuMSlcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRCb3goZG9jU2hhcmVQYW5lbClcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChkb2NTaGFyZVBhbmVsLCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjEsIDAuMywgMC42LCAwLjkpLFxuICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuNCwgMC44LCAwLjUpLFxuICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDJcbiAgICB9KVxuXG4gICAgY29uc3QgZG9jVGl0bGUgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKGRvY1RpdGxlLCB7XG4gICAgICBwYXJlbnQ6IGRvY1NoYXJlUGFuZWwsXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMS4yLCAwLjEpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMywgMC4zLCAwLjMpXG4gICAgfSlcbiAgICBUZXh0U2hhcGUuY3JlYXRlKGRvY1RpdGxlLCB7XG4gICAgICB0ZXh0OiAnXHVEODNEXHVEQ0M0IERPQ1VNRU5UUycsXG4gICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICBmb250U2l6ZTogMixcbiAgICAgIHRleHRBbGlnbjogM1xuICAgIH0pXG4gIH1cblxuICAvLyBDcmVhdGUgY29sbGFib3JhdGlvbiBwYW5lbFxuICBwcml2YXRlIGNyZWF0ZUNvbGxhYm9yYXRpb25QYW5lbCgpIHtcbiAgICBjb25zdCBjb2xsYWJQYW5lbCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUoY29sbGFiUGFuZWwsIHtcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgyLCAzLCA4KSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgyLCAzLCAwLjEpXG4gICAgfSlcbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGNvbGxhYlBhbmVsKVxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGNvbGxhYlBhbmVsLCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuMSwgMC40LCAwLjkpLFxuICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjQsIDAuMiwgMC44LCAwLjUpLFxuICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDJcbiAgICB9KVxuXG4gICAgY29uc3QgY29sbGFiVGl0bGUgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKGNvbGxhYlRpdGxlLCB7XG4gICAgICBwYXJlbnQ6IGNvbGxhYlBhbmVsLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDEuMiwgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjMsIDAuMywgMC4zKVxuICAgIH0pXG4gICAgVGV4dFNoYXBlLmNyZWF0ZShjb2xsYWJUaXRsZSwge1xuICAgICAgdGV4dDogJ1x1RDgzRVx1REQxRCBDT0xMQUJPUkFURScsXG4gICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICBmb250U2l6ZTogMixcbiAgICAgIHRleHRBbGlnbjogM1xuICAgIH0pXG5cbiAgICAvLyBTdGFydCBzZXNzaW9uIGJ1dHRvblxuICAgIGNvbnN0IHN0YXJ0U2Vzc2lvbkJ0biA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUoc3RhcnRTZXNzaW9uQnRuLCB7XG4gICAgICBwYXJlbnQ6IGNvbGxhYlBhbmVsLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDAuMywgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjQsIDAuMiwgMC4xKVxuICAgIH0pXG4gICAgTWVzaFJlbmRlcmVyLnNldEJveChzdGFydFNlc3Npb25CdG4pXG4gICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoc3RhcnRTZXNzaW9uQnRuLCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuOCwgMC4yLCAxKSxcbiAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4yLCAwLjgsIDAuMiwgMC44KSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAyXG4gICAgfSlcblxuICAgIGNvbnN0IHNlc3Npb25UZXh0ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZShzZXNzaW9uVGV4dCwge1xuICAgICAgcGFyZW50OiBzdGFydFNlc3Npb25CdG4sXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjUsIDAuNSwgMC41KVxuICAgIH0pXG4gICAgVGV4dFNoYXBlLmNyZWF0ZShzZXNzaW9uVGV4dCwge1xuICAgICAgdGV4dDogJ1NUQVJUJyxcbiAgICAgIHRleHRDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAxLCAxLCAxKSxcbiAgICAgIGZvbnRTaXplOiAyLFxuICAgICAgdGV4dEFsaWduOiAzXG4gICAgfSlcblxuICAgIHBvaW50ZXJFdmVudHNTeXN0ZW0ub25Qb2ludGVyRG93bihcbiAgICAgIHtcbiAgICAgICAgZW50aXR5OiBzdGFydFNlc3Npb25CdG4sXG4gICAgICAgIG9wdHM6IHsgYnV0dG9uOiBJbnB1dEFjdGlvbi5JQV9QT0lOVEVSLCBob3ZlclRleHQ6ICdTdGFydCBDb2xsYWJvcmF0aW9uIFNlc3Npb24nIH1cbiAgICAgIH0sXG4gICAgICAoKSA9PiB0aGlzLnN0YXJ0Q29sbGFib3JhdGlvblNlc3Npb24oKVxuICAgIClcbiAgfVxuXG4gIC8vIFN0YXJ0IG5ldHdvcmsgc3luY2hyb25pemF0aW9uXG4gIHByaXZhdGUgc3RhcnROZXR3b3JrU3luYygpIHtcbiAgICBlbmdpbmUuYWRkU3lzdGVtKCgpID0+IHtcbiAgICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkKSByZXR1cm5cblxuICAgICAgdGhpcy5zeW5jUGxheWVyUG9zaXRpb25zKClcbiAgICAgIHRoaXMuc3luY1NoYXJlZE9iamVjdHMoKVxuICAgICAgdGhpcy51cGRhdGVWb2ljZUNoYXQoKVxuICAgIH0pXG4gIH1cblxuICAvLyBDb25uZWN0IHRvIHNlcnZlclxuICBwcml2YXRlIGFzeW5jIGNvbm5lY3RUb1NlcnZlcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLmNvbm5lY3Rpb25TdGF0dXMgPSAnY29ubmVjdGluZydcbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVERDBDIENvbm5lY3RpbmcgdG8gbXVsdGlwbGF5ZXIgc2VydmVyLi4uJylcblxuICAgIC8vIFNpbXVsYXRlIGNvbm5lY3Rpb25cbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwMCkpXG5cbiAgICB0aGlzLmNvbm5lY3Rpb25TdGF0dXMgPSAnY29ubmVjdGVkJ1xuICAgIGNvbnNvbGUubG9nKCdcdTI3MDUgQ29ubmVjdGVkIHRvIG11bHRpcGxheWVyIHNlcnZlcicpXG5cbiAgICAvLyBTaW11bGF0ZSBvdGhlciBwbGF5ZXJzIGpvaW5pbmdcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuc2ltdWxhdGVQbGF5ZXJKb2luKCdBbGljZScsIENvbG9yMy5jcmVhdGUoMSwgMC41LCAwLjUpKVxuICAgIH0sIDMwMDApXG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuc2ltdWxhdGVQbGF5ZXJKb2luKCdCb2InLCBDb2xvcjMuY3JlYXRlKDAuNSwgMSwgMC41KSlcbiAgICB9LCA1MDAwKVxuICB9XG5cbiAgLy8gU2ltdWxhdGUgcGxheWVyIGpvaW5pbmdcbiAgcHJpdmF0ZSBzaW11bGF0ZVBsYXllckpvaW4obmFtZTogc3RyaW5nLCBjb2xvcjogQ29sb3IzKSB7XG4gICAgY29uc3QgcGxheWVyOiBQbGF5ZXIgPSB7XG4gICAgICBpZDogdGhpcy5nZW5lcmF0ZVBsYXllcklkKCksXG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKFxuICAgICAgICBNYXRoLnJhbmRvbSgpICogMTQgKyAxLFxuICAgICAgICAxLFxuICAgICAgICBNYXRoLnJhbmRvbSgpICogMTQgKyAxXG4gICAgICApLFxuICAgICAgcm90YXRpb246IFF1YXRlcm5pb24uZnJvbUV1bGVyRGVncmVlcygwLCAwLCAwKSxcbiAgICAgIGF2YXRhcjogbnVsbCxcbiAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgbGFzdFVwZGF0ZTogRGF0ZS5ub3coKSxcbiAgICAgIGNvbG9yOiBjb2xvclxuICAgIH1cblxuICAgIHRoaXMuY3JlYXRlUmVtb3RlUGxheWVyKHBsYXllcilcbiAgICB0aGlzLnJlbW90ZVBsYXllcnMuc2V0KHBsYXllci5pZCwgcGxheWVyKVxuXG4gICAgY29uc29sZS5sb2coYFx1RDgzRFx1REM0QiAke25hbWV9IGpvaW5lZCB0aGUgc2Vzc2lvbmApXG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ2NsaWNrJylcbiAgfVxuXG4gIC8vIENyZWF0ZSByZW1vdGUgcGxheWVyIGF2YXRhclxuICBwcml2YXRlIGNyZWF0ZVJlbW90ZVBsYXllcihwbGF5ZXI6IFBsYXllcikge1xuICAgIGNvbnN0IGF2YXRhciA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUoYXZhdGFyLCB7XG4gICAgICBwb3NpdGlvbjogcGxheWVyLnBvc2l0aW9uLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDEsIDIsIDEpXG4gICAgfSlcbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGF2YXRhcilcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChhdmF0YXIsIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKHBsYXllci5jb2xvci5yLCBwbGF5ZXIuY29sb3IuZywgcGxheWVyLmNvbG9yLmIsIDEpLFxuICAgICAgcm91Z2huZXNzOiAwLjIsXG4gICAgICBtZXRhbGxpYzogMC4zLFxuICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZShcbiAgICAgICAgcGxheWVyLmNvbG9yLnIgKiAwLjMsXG4gICAgICAgIHBsYXllci5jb2xvci5nICogMC4zLFxuICAgICAgICBwbGF5ZXIuY29sb3IuYiAqIDAuMyxcbiAgICAgICAgMC41XG4gICAgICApLFxuICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDFcbiAgICB9KVxuXG4gICAgLy8gUGxheWVyIG5hbWUgdGFnXG4gICAgY29uc3QgbmFtZVRhZyA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUobmFtZVRhZywge1xuICAgICAgcGFyZW50OiBhdmF0YXIsXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMi41LCAwKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjMsIDAuMywgMC4zKVxuICAgIH0pXG4gICAgVGV4dFNoYXBlLmNyZWF0ZShuYW1lVGFnLCB7XG4gICAgICB0ZXh0OiBwbGF5ZXIubmFtZSxcbiAgICAgIHRleHRDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAxLCAxLCAxKSxcbiAgICAgIGZvbnRTaXplOiAzLFxuICAgICAgdGV4dEFsaWduOiAzXG4gICAgfSlcblxuICAgIHBsYXllci5hdmF0YXIgPSBhdmF0YXJcbiAgfVxuXG4gIC8vIFN5bmMgcGxheWVyIHBvc2l0aW9uc1xuICBwcml2YXRlIHN5bmNQbGF5ZXJQb3NpdGlvbnMoKSB7XG4gICAgLy8gVXBkYXRlIGxvY2FsIHBsYXllciBwb3NpdGlvbiAod291bGQgc3luYyB3aXRoIHNlcnZlcilcbiAgICBpZiAodGhpcy5sb2NhbFBsYXllci5hdmF0YXIpIHtcbiAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IFRyYW5zZm9ybS5nZXRNdXRhYmxlKHRoaXMubG9jYWxQbGF5ZXIuYXZhdGFyKVxuICAgICAgdGhpcy5sb2NhbFBsYXllci5wb3NpdGlvbiA9IHRyYW5zZm9ybS5wb3NpdGlvblxuICAgICAgdGhpcy5sb2NhbFBsYXllci5sYXN0VXBkYXRlID0gRGF0ZS5ub3coKVxuICAgIH1cblxuICAgIC8vIFVwZGF0ZSByZW1vdGUgcGxheWVycyAod291bGQgcmVjZWl2ZSBmcm9tIHNlcnZlcilcbiAgICB0aGlzLnJlbW90ZVBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xuICAgICAgaWYgKHBsYXllci5hdmF0YXIgJiYgcGxheWVyLmlzQWN0aXZlKSB7XG4gICAgICAgIC8vIFNpbXVsYXRlIG1vdmVtZW50XG4gICAgICAgIGlmIChNYXRoLnJhbmRvbSgpID4gMC45OCkge1xuICAgICAgICAgIGNvbnN0IG5ld1BvcyA9IFZlY3RvcjMuY3JlYXRlKFxuICAgICAgICAgICAgcGxheWVyLnBvc2l0aW9uLnggKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAwLjUsXG4gICAgICAgICAgICBwbGF5ZXIucG9zaXRpb24ueSxcbiAgICAgICAgICAgIHBsYXllci5wb3NpdGlvbi56ICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC41XG4gICAgICAgICAgKVxuXG4gICAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gVHJhbnNmb3JtLmdldE11dGFibGUocGxheWVyLmF2YXRhcilcbiAgICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24gPSBuZXdQb3NcbiAgICAgICAgICBwbGF5ZXIucG9zaXRpb24gPSBuZXdQb3NcbiAgICAgICAgICBwbGF5ZXIubGFzdFVwZGF0ZSA9IERhdGUubm93KClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvLyBTeW5jIHNoYXJlZCBvYmplY3RzXG4gIHByaXZhdGUgc3luY1NoYXJlZE9iamVjdHMoKSB7XG4gICAgLy8gU3luYyB3aGl0ZWJvYXJkIGNvbnRlbnRcbiAgICBjb25zdCB3aGl0ZWJvYXJkID0gdGhpcy5zaGFyZWRPYmplY3RzLmdldCgnbWFpbi13aGl0ZWJvYXJkJylcbiAgICBpZiAod2hpdGVib2FyZCAmJiBNYXRoLnJhbmRvbSgpID4gMC45OSkge1xuICAgICAgLy8gU2ltdWxhdGUgcmVtb3RlIGRyYXdpbmdcbiAgICAgIGNvbnNvbGUubG9nKCdcdUQ4M0NcdURGQTggUmVtb3RlIHdoaXRlYm9hcmQgdXBkYXRlIHJlY2VpdmVkJylcbiAgICB9XG4gIH1cblxuICAvLyBVcGRhdGUgdm9pY2UgY2hhdFxuICBwcml2YXRlIHVwZGF0ZVZvaWNlQ2hhdCgpIHtcbiAgICAvLyBVcGRhdGUgdm9pY2UgY2hhdCBwYXJ0aWNpcGFudHNcbiAgICBjb25zdCBtYWluQ2hhbm5lbCA9IHRoaXMudm9pY2VDaGFubmVscy5nZXQoJ21haW4nKVxuICAgIGlmIChtYWluQ2hhbm5lbCkge1xuICAgICAgLy8gQWRkIHJlbW90ZSBwbGF5ZXJzIHRvIHZvaWNlIGNoYW5uZWxcbiAgICAgIHRoaXMucmVtb3RlUGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XG4gICAgICAgIGlmICghbWFpbkNoYW5uZWwucGFydGljaXBhbnRzLmluY2x1ZGVzKHBsYXllci5pZCkpIHtcbiAgICAgICAgICBtYWluQ2hhbm5lbC5wYXJ0aWNpcGFudHMucHVzaChwbGF5ZXIuaWQpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgLy8gU3RhcnQgY29sbGFib3JhdGlvbiBzZXNzaW9uXG4gIHByaXZhdGUgc3RhcnRDb2xsYWJvcmF0aW9uU2Vzc2lvbigpIHtcbiAgICBjb25zdCBzZXNzaW9uOiBDb2xsYWJvcmF0aW9uU2Vzc2lvbiA9IHtcbiAgICAgIGlkOiB0aGlzLmdlbmVyYXRlU2Vzc2lvbklkKCksXG4gICAgICBuYW1lOiBgU2Vzc2lvbiAke0RhdGUubm93KCl9YCxcbiAgICAgIGhvc3RJZDogdGhpcy5sb2NhbFBsYXllci5pZCxcbiAgICAgIHBhcnRpY2lwYW50czogW3RoaXMubG9jYWxQbGF5ZXIuaWRdLFxuICAgICAgc3RhcnRUaW1lOiBEYXRlLm5vdygpLFxuICAgICAgaXNBY3RpdmU6IHRydWUsXG4gICAgICBzaGFyZWRPYmplY3RzOiBuZXcgTWFwKClcbiAgICB9XG5cbiAgICB0aGlzLmFjdGl2ZVNlc3Npb24gPSBzZXNzaW9uXG4gICAgY29uc29sZS5sb2coYFx1RDgzRVx1REQxRCBTdGFydGVkIGNvbGxhYm9yYXRpb24gc2Vzc2lvbjogJHtzZXNzaW9uLm5hbWV9YClcbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgncG93ZXJ1cCcpXG4gIH1cblxuICAvLyBUb2dnbGUgbXV0ZVxuICBwcml2YXRlIHRvZ2dsZU11dGUoKSB7XG4gICAgY29uc29sZS5sb2coJ1x1RDgzRFx1REQwNyBUb2dnbGUgbXV0ZScpXG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ2NsaWNrJylcbiAgICAvLyBJbXBsZW1lbnQgYWN0dWFsIG11dGUgZnVuY3Rpb25hbGl0eVxuICB9XG5cbiAgLy8gU2hhcmUgb2JqZWN0IHdpdGggY29sbGFib3JhdG9yc1xuICBwdWJsaWMgc2hhcmVPYmplY3Qob2JqZWN0SWQ6IHN0cmluZywgY29sbGFib3JhdG9yczogc3RyaW5nW10pIHtcbiAgICBjb25zdCBvYmogPSB0aGlzLnNoYXJlZE9iamVjdHMuZ2V0KG9iamVjdElkKVxuICAgIGlmIChvYmopIHtcbiAgICAgIG9iai5jb2xsYWJvcmF0b3JzID0gY29sbGFib3JhdG9yc1xuICAgICAgY29uc29sZS5sb2coYFx1RDgzRFx1RENFNCBTaGFyZWQgb2JqZWN0ICR7b2JqZWN0SWR9IHdpdGggJHtjb2xsYWJvcmF0b3JzLmxlbmd0aH0gY29sbGFib3JhdG9yc2ApXG4gICAgfVxuICB9XG5cbiAgLy8gSm9pbiB2b2ljZSBjaGFubmVsXG4gIHB1YmxpYyBqb2luVm9pY2VDaGFubmVsKGNoYW5uZWxJZDogc3RyaW5nKSB7XG4gICAgY29uc3QgY2hhbm5lbCA9IHRoaXMudm9pY2VDaGFubmVscy5nZXQoY2hhbm5lbElkKVxuICAgIGlmIChjaGFubmVsICYmIGNoYW5uZWwucGFydGljaXBhbnRzLmxlbmd0aCA8IGNoYW5uZWwubWF4UGFydGljaXBhbnRzKSB7XG4gICAgICBjaGFubmVsLnBhcnRpY2lwYW50cy5wdXNoKHRoaXMubG9jYWxQbGF5ZXIuaWQpXG4gICAgICBjb25zb2xlLmxvZyhgXHVEODNDXHVERkE0IEpvaW5lZCB2b2ljZSBjaGFubmVsOiAke2NoYW5uZWwubmFtZX1gKVxuICAgIH1cbiAgfVxuXG4gIC8vIExlYXZlIHZvaWNlIGNoYW5uZWxcbiAgcHVibGljIGxlYXZlVm9pY2VDaGFubmVsKGNoYW5uZWxJZDogc3RyaW5nKSB7XG4gICAgY29uc3QgY2hhbm5lbCA9IHRoaXMudm9pY2VDaGFubmVscy5nZXQoY2hhbm5lbElkKVxuICAgIGlmIChjaGFubmVsKSB7XG4gICAgICBjaGFubmVsLnBhcnRpY2lwYW50cyA9IGNoYW5uZWwucGFydGljaXBhbnRzLmZpbHRlcihpZCA9PiBpZCAhPT0gdGhpcy5sb2NhbFBsYXllci5pZClcbiAgICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdUREMDcgTGVmdCB2b2ljZSBjaGFubmVsOiAke2NoYW5uZWwubmFtZX1gKVxuICAgIH1cbiAgfVxuXG4gIC8vIFNlbmQgbWVzc2FnZSB0byBjaGF0XG4gIHB1YmxpYyBzZW5kQ2hhdE1lc3NhZ2UobWVzc2FnZTogc3RyaW5nKSB7XG4gICAgY29uc29sZS5sb2coYFx1RDgzRFx1RENBQyAke3RoaXMubG9jYWxQbGF5ZXIubmFtZX06ICR7bWVzc2FnZX1gKVxuICAgIC8vIEJyb2FkY2FzdCB0byBvdGhlciBwbGF5ZXJzXG4gIH1cblxuICAvLyBHZXQgYWxsIGNvbm5lY3RlZCBwbGF5ZXJzXG4gIHB1YmxpYyBnZXRDb25uZWN0ZWRQbGF5ZXJzKCk6IFBsYXllcltdIHtcbiAgICBjb25zdCBwbGF5ZXJzID0gW3RoaXMubG9jYWxQbGF5ZXJdXG4gICAgdGhpcy5yZW1vdGVQbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcbiAgICAgIGlmIChwbGF5ZXIuaXNBY3RpdmUpIHtcbiAgICAgICAgcGxheWVycy5wdXNoKHBsYXllcilcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBwbGF5ZXJzXG4gIH1cblxuICAvLyBHZXQgYWN0aXZlIHNlc3Npb25cbiAgcHVibGljIGdldEFjdGl2ZVNlc3Npb24oKTogQ29sbGFib3JhdGlvblNlc3Npb24gfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5hY3RpdmVTZXNzaW9uXG4gIH1cblxuICAvLyBVdGlsaXR5IGZ1bmN0aW9uc1xuICBwcml2YXRlIGdlbmVyYXRlUGxheWVySWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ3BsYXllcl8nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpXG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlU2Vzc2lvbklkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICdzZXNzaW9uXycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSlcbiAgfVxuXG4gIC8vIENsZWFudXAgc3lzdGVtXG4gIHB1YmxpYyBjbGVhbnVwKCkge1xuICAgIC8vIFJlbW92ZSBsb2NhbCBwbGF5ZXJcbiAgICBpZiAodGhpcy5sb2NhbFBsYXllci5hdmF0YXIpIHtcbiAgICAgIGVuZ2luZS5yZW1vdmVFbnRpdHkodGhpcy5sb2NhbFBsYXllci5hdmF0YXIpXG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIHJlbW90ZSBwbGF5ZXJzXG4gICAgdGhpcy5yZW1vdGVQbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcbiAgICAgIGlmIChwbGF5ZXIuYXZhdGFyKSB7XG4gICAgICAgIGVuZ2luZS5yZW1vdmVFbnRpdHkocGxheWVyLmF2YXRhcilcbiAgICAgIH1cbiAgICB9KVxuICAgIHRoaXMucmVtb3RlUGxheWVycy5jbGVhcigpXG5cbiAgICAvLyBSZW1vdmUgc2hhcmVkIG9iamVjdHNcbiAgICB0aGlzLnNoYXJlZE9iamVjdHMuZm9yRWFjaChvYmogPT4ge1xuICAgICAgLy8gUmVtb3ZlIG9iamVjdCBlbnRpdGllc1xuICAgIH0pXG4gICAgdGhpcy5zaGFyZWRPYmplY3RzLmNsZWFyKClcblxuICAgIHRoaXMudm9pY2VDaGFubmVscy5jbGVhcigpXG4gICAgdGhpcy5hY3RpdmVTZXNzaW9uID0gbnVsbFxuICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IGZhbHNlXG4gICAgdGhpcy5jb25uZWN0aW9uU3RhdHVzID0gJ2Rpc2Nvbm5lY3RlZCdcbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3QgbXVsdGlwbGF5ZXJTeXN0ZW0gPSBuZXcgTXVsdGlwbGF5ZXJTeXN0ZW0oKVxuIiwgIi8vIFBoeXNpY3MtQmFzZWQgT2JqZWN0IEludGVyYWN0aW9ucyBmb3IgQUlHZXN0aW9uIFZpcnR1YWwgT2ZmaWNlXG5pbXBvcnQgeyBlbmdpbmUsIElucHV0QWN0aW9uLCBNYXRlcmlhbCwgTWVzaFJlbmRlcmVyLCBwb2ludGVyRXZlbnRzU3lzdGVtLCBUcmFuc2Zvcm0gfSBmcm9tICdAZGNsL3Nkay9lY3MnXG5pbXBvcnQgeyBDb2xvcjQsIFF1YXRlcm5pb24sIFZlY3RvcjMgfSBmcm9tICdAZGNsL3Nkay9tYXRoJ1xuaW1wb3J0IHsgc291bmRTeXN0ZW0gfSBmcm9tICcuL2VuaGFuY2VkLXNvdW5kJ1xuXG5pbnRlcmZhY2UgUGh5c2ljc09iamVjdCB7XG4gIGlkOiBzdHJpbmdcbiAgdHlwZTogJ3JpZ2lkX2JvZHknIHwgJ3NvZnRfYm9keScgfCAnc3RhdGljJyB8ICdraW5lbWF0aWMnXG4gIG1hc3M6IG51bWJlclxuICB2ZWxvY2l0eTogVmVjdG9yM1xuICBhY2NlbGVyYXRpb246IFZlY3RvcjNcbiAgYW5ndWxhclZlbG9jaXR5OiBWZWN0b3IzXG4gIGFuZ3VsYXJBY2NlbGVyYXRpb246IFZlY3RvcjNcbiAgcG9zaXRpb246IFZlY3RvcjNcbiAgcm90YXRpb246IFF1YXRlcm5pb25cbiAgc2NhbGU6IFZlY3RvcjNcbiAgcmVzdGl0dXRpb246IG51bWJlciAvLyBib3VuY2luZXNzICgwLTEpXG4gIGZyaWN0aW9uOiBudW1iZXIgLy8gZnJpY3Rpb24gY29lZmZpY2llbnQgKDAtMSlcbiAgZGFtcGluZzogbnVtYmVyIC8vIGFpciByZXNpc3RhbmNlICgwLTEpXG4gIGdyYXZpdHlTY2FsZTogbnVtYmVyIC8vIGdyYXZpdHkgbXVsdGlwbGllclxuICBpc0dyb3VuZGVkOiBib29sZWFuXG4gIGlzQ29sbGlkaW5nOiBib29sZWFuXG4gIGNvbGxpc2lvbkxheWVyOiBudW1iZXJcbiAgY29sbGlzaW9uTWFzazogbnVtYmVyXG59XG5cbmludGVyZmFjZSBQaHlzaWNzTWF0ZXJpYWwge1xuICBpZDogc3RyaW5nXG4gIG5hbWU6IHN0cmluZ1xuICBkZW5zaXR5OiBudW1iZXJcbiAgcmVzdGl0dXRpb246IG51bWJlclxuICBmcmljdGlvbjogbnVtYmVyXG4gIGR1cmFiaWxpdHk6IG51bWJlclxuICBzb3VuZFByb2ZpbGU6IFNvdW5kUHJvZmlsZVxufVxuXG5pbnRlcmZhY2UgU291bmRQcm9maWxlIHtcbiAgaW1wYWN0U291bmQ6IHN0cmluZ1xuICBmcmljdGlvblNvdW5kOiBzdHJpbmdcbiAgYnJlYWtTb3VuZDogc3RyaW5nXG4gIHZvbHVtZTogbnVtYmVyXG4gIHBpdGNoOiBudW1iZXJcbn1cblxuaW50ZXJmYWNlIEZvcmNlRmllbGQge1xuICBpZDogc3RyaW5nXG4gIHR5cGU6ICdncmF2aXR5JyB8ICdtYWduZXRpYycgfCAnZWxlY3RyaWMnIHwgJ3dpbmQnIHwgJ2V4cGxvc2lvbidcbiAgcG9zaXRpb246IFZlY3RvcjNcbiAgcmFkaXVzOiBudW1iZXJcbiAgc3RyZW5ndGg6IG51bWJlclxuICBkaXJlY3Rpb246IFZlY3RvcjNcbiAgaXNBY3RpdmU6IGJvb2xlYW5cbiAgYWZmZWN0ZWRPYmplY3RzOiBzdHJpbmdbXVxufVxuXG5pbnRlcmZhY2UgQ29uc3RyYWludCB7XG4gIGlkOiBzdHJpbmdcbiAgdHlwZTogJ2ZpeGVkJyB8ICdoaW5nZScgfCAnc3ByaW5nJyB8ICdzbGlkZXInIHwgJ2JhbGxfc29ja2V0J1xuICBvYmplY3RBOiBzdHJpbmdcbiAgb2JqZWN0Qj86IHN0cmluZ1xuICBwb3NpdGlvbkE6IFZlY3RvcjNcbiAgcG9zaXRpb25CPzogVmVjdG9yM1xuICBsaW1pdHM/OiBDb25zdHJhaW50TGltaXRzXG4gIHN0cmVuZ3RoOiBudW1iZXJcbiAgZGFtcGluZzogbnVtYmVyXG59XG5cbmludGVyZmFjZSBDb25zdHJhaW50TGltaXRzIHtcbiAgbWluUm90YXRpb24/OiBWZWN0b3IzXG4gIG1heFJvdGF0aW9uPzogVmVjdG9yM1xuICBtaW5EaXN0YW5jZT86IG51bWJlclxuICBtYXhEaXN0YW5jZT86IG51bWJlclxufVxuXG5pbnRlcmZhY2UgQ29sbGlzaW9uIHtcbiAgaWQ6IHN0cmluZ1xuICBvYmplY3RBOiBzdHJpbmdcbiAgb2JqZWN0Qjogc3RyaW5nXG4gIGNvbnRhY3RQb2ludDogVmVjdG9yM1xuICBjb250YWN0Tm9ybWFsOiBWZWN0b3IzXG4gIGltcHVsc2U6IG51bWJlclxuICB0aW1lc3RhbXA6IG51bWJlclxufVxuXG5leHBvcnQgY2xhc3MgUGh5c2ljc0ludGVyYWN0aW9uU3lzdGVtIHtcbiAgcHJpdmF0ZSBvYmplY3RzOiBNYXA8c3RyaW5nLCBQaHlzaWNzT2JqZWN0PiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIG1hdGVyaWFsczogTWFwPHN0cmluZywgUGh5c2ljc01hdGVyaWFsPiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIGZvcmNlRmllbGRzOiBNYXA8c3RyaW5nLCBGb3JjZUZpZWxkPiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIGNvbnN0cmFpbnRzOiBNYXA8c3RyaW5nLCBDb25zdHJhaW50PiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIGNvbGxpc2lvbnM6IE1hcDxzdHJpbmcsIENvbGxpc2lvbj4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBwaHlzaWNzVUk6IGFueVxuICBwcml2YXRlIGlzSW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZVxuICBwcml2YXRlIGdyYXZpdHk6IFZlY3RvcjMgPSBWZWN0b3IzLmNyZWF0ZSgwLCAtOS44MSwgMClcbiAgcHJpdmF0ZSB0aW1lU3RlcDogbnVtYmVyID0gMSAvIDYwXG4gIHByaXZhdGUgbWF4U3ViU3RlcHM6IG51bWJlciA9IDRcbiAgcHJpdmF0ZSBjb2xsaXNpb25NYXRyaXg6IGJvb2xlYW5bXVtdID0gW11cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmluaXRpYWxpemVDb2xsaXNpb25NYXRyaXgoKVxuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSBwaHlzaWNzIHN5c3RlbVxuICBpbml0aWFsaXplKCkge1xuICAgIGNvbnNvbGUubG9nKCdcdTI2OUJcdUZFMEYgUGh5c2ljcyBJbnRlcmFjdGlvbiBTeXN0ZW0gSW5pdGlhbGl6aW5nLi4uJylcblxuICAgIHRoaXMuc2V0dXBQaHlzaWNzTWF0ZXJpYWxzKClcbiAgICB0aGlzLmNyZWF0ZVBoeXNpY3NVSSgpXG4gICAgdGhpcy5jcmVhdGVQaHlzaWNzT2JqZWN0cygpXG4gICAgdGhpcy5zdGFydFBoeXNpY3NFbmdpbmUoKVxuXG4gICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZVxuICAgIGNvbnNvbGUubG9nKCdcdTI2OUJcdUZFMEYgUGh5c2ljcyBJbnRlcmFjdGlvbiBTeXN0ZW0gUmVhZHkhJylcbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgY29sbGlzaW9uIG1hdHJpeFxuICBwcml2YXRlIGluaXRpYWxpemVDb2xsaXNpb25NYXRyaXgoKSB7XG4gICAgLy8gOCBsYXllcnMgZm9yIGRpZmZlcmVudCBvYmplY3QgdHlwZXNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkrKykge1xuICAgICAgdGhpcy5jb2xsaXNpb25NYXRyaXhbaV0gPSBbXVxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA4OyBqKyspIHtcbiAgICAgICAgdGhpcy5jb2xsaXNpb25NYXRyaXhbaV1bal0gPSB0cnVlIC8vIERlZmF1bHQ6IGFsbCBsYXllcnMgY29sbGlkZVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFNldHVwIHBoeXNpY3MgbWF0ZXJpYWxzXG4gIHByaXZhdGUgc2V0dXBQaHlzaWNzTWF0ZXJpYWxzKCkge1xuICAgIC8vIE1ldGFsIG1hdGVyaWFsXG4gICAgY29uc3QgbWV0YWw6IFBoeXNpY3NNYXRlcmlhbCA9IHtcbiAgICAgIGlkOiAnbWF0ZXJpYWxfbWV0YWwnLFxuICAgICAgbmFtZTogJ01ldGFsJyxcbiAgICAgIGRlbnNpdHk6IDc4NTAsXG4gICAgICByZXN0aXR1dGlvbjogMC4zLFxuICAgICAgZnJpY3Rpb246IDAuNyxcbiAgICAgIGR1cmFiaWxpdHk6IDEwMCxcbiAgICAgIHNvdW5kUHJvZmlsZToge1xuICAgICAgICBpbXBhY3RTb3VuZDogJ21ldGFsX2ltcGFjdCcsXG4gICAgICAgIGZyaWN0aW9uU291bmQ6ICdtZXRhbF9zY3JhcGUnLFxuICAgICAgICBicmVha1NvdW5kOiAnbWV0YWxfYnJlYWsnLFxuICAgICAgICB2b2x1bWU6IDAuOCxcbiAgICAgICAgcGl0Y2g6IDEuMFxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdvb2QgbWF0ZXJpYWxcbiAgICBjb25zdCB3b29kOiBQaHlzaWNzTWF0ZXJpYWwgPSB7XG4gICAgICBpZDogJ21hdGVyaWFsX3dvb2QnLFxuICAgICAgbmFtZTogJ1dvb2QnLFxuICAgICAgZGVuc2l0eTogNzAwLFxuICAgICAgcmVzdGl0dXRpb246IDAuNCxcbiAgICAgIGZyaWN0aW9uOiAwLjYsXG4gICAgICBkdXJhYmlsaXR5OiA1MCxcbiAgICAgIHNvdW5kUHJvZmlsZToge1xuICAgICAgICBpbXBhY3RTb3VuZDogJ3dvb2RfaW1wYWN0JyxcbiAgICAgICAgZnJpY3Rpb25Tb3VuZDogJ3dvb2Rfc2NyYXBlJyxcbiAgICAgICAgYnJlYWtTb3VuZDogJ3dvb2RfYnJlYWsnLFxuICAgICAgICB2b2x1bWU6IDAuNixcbiAgICAgICAgcGl0Y2g6IDAuOVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEdsYXNzIG1hdGVyaWFsXG4gICAgY29uc3QgZ2xhc3M6IFBoeXNpY3NNYXRlcmlhbCA9IHtcbiAgICAgIGlkOiAnbWF0ZXJpYWxfZ2xhc3MnLFxuICAgICAgbmFtZTogJ0dsYXNzJyxcbiAgICAgIGRlbnNpdHk6IDI1MDAsXG4gICAgICByZXN0aXR1dGlvbjogMC4xLFxuICAgICAgZnJpY3Rpb246IDAuMyxcbiAgICAgIGR1cmFiaWxpdHk6IDIwLFxuICAgICAgc291bmRQcm9maWxlOiB7XG4gICAgICAgIGltcGFjdFNvdW5kOiAnZ2xhc3NfaW1wYWN0JyxcbiAgICAgICAgZnJpY3Rpb25Tb3VuZDogJ2dsYXNzX3NjcmFwZScsXG4gICAgICAgIGJyZWFrU291bmQ6ICdnbGFzc19icmVhaycsXG4gICAgICAgIHZvbHVtZTogMC45LFxuICAgICAgICBwaXRjaDogMS4yXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUnViYmVyIG1hdGVyaWFsXG4gICAgY29uc3QgcnViYmVyOiBQaHlzaWNzTWF0ZXJpYWwgPSB7XG4gICAgICBpZDogJ21hdGVyaWFsX3J1YmJlcicsXG4gICAgICBuYW1lOiAnUnViYmVyJyxcbiAgICAgIGRlbnNpdHk6IDE1MDAsXG4gICAgICByZXN0aXR1dGlvbjogMC44LFxuICAgICAgZnJpY3Rpb246IDAuOSxcbiAgICAgIGR1cmFiaWxpdHk6IDgwLFxuICAgICAgc291bmRQcm9maWxlOiB7XG4gICAgICAgIGltcGFjdFNvdW5kOiAncnViYmVyX2ltcGFjdCcsXG4gICAgICAgIGZyaWN0aW9uU291bmQ6ICdydWJiZXJfc2NyYXBlJyxcbiAgICAgICAgYnJlYWtTb3VuZDogJ3J1YmJlcl9icmVhaycsXG4gICAgICAgIHZvbHVtZTogMC41LFxuICAgICAgICBwaXRjaDogMC44XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5tYXRlcmlhbHMuc2V0KG1ldGFsLmlkLCBtZXRhbClcbiAgICB0aGlzLm1hdGVyaWFscy5zZXQod29vZC5pZCwgd29vZClcbiAgICB0aGlzLm1hdGVyaWFscy5zZXQoZ2xhc3MuaWQsIGdsYXNzKVxuICAgIHRoaXMubWF0ZXJpYWxzLnNldChydWJiZXIuaWQsIHJ1YmJlcilcblxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdUREMjcgUGh5c2ljcyBtYXRlcmlhbHMgY29uZmlndXJlZCcpXG4gIH1cblxuICAvLyBDcmVhdGUgcGh5c2ljcyBVSVxuICBwcml2YXRlIGNyZWF0ZVBoeXNpY3NVSSgpIHtcbiAgICB0aGlzLnBoeXNpY3NVSSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUodGhpcy5waHlzaWNzVUksIHtcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgyLCAzLCA4KSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgzLCA0LCAwLjEpXG4gICAgfSlcbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KHRoaXMucGh5c2ljc1VJKVxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKHRoaXMucGh5c2ljc1VJLCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjEsIDAuMiwgMC40LCAwLjkpLFxuICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuNCwgMC44LCAwLjUpLFxuICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDJcbiAgICB9KVxuXG4gICAgLy8gQ3JlYXRlIHRpdGxlXG4gICAgY29uc3QgdGl0bGUgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKHRpdGxlLCB7XG4gICAgICBwYXJlbnQ6IHRoaXMucGh5c2ljc1VJLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDEuNywgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjMsIDAuMywgMC4zKVxuICAgIH0pXG4gICAgVGV4dFNoYXBlLmNyZWF0ZSh0aXRsZSwge1xuICAgICAgdGV4dDogJ1x1MjY5Qlx1RkUwRiBQSFlTSUNTIElOVEVSQUNUSU9OJyxcbiAgICAgIHRleHRDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAxLCAxLCAxKSxcbiAgICAgIGZvbnRTaXplOiAyLFxuICAgICAgdGV4dEFsaWduOiAzXG4gICAgfSlcblxuICAgIC8vIENyZWF0ZSBvYmplY3QgY29udHJvbHNcbiAgICB0aGlzLmNyZWF0ZU9iamVjdENvbnRyb2xzKClcblxuICAgIC8vIENyZWF0ZSBmb3JjZSBmaWVsZCBjb250cm9sc1xuICAgIHRoaXMuY3JlYXRlRm9yY2VGaWVsZENvbnRyb2xzKClcblxuICAgIC8vIENyZWF0ZSBjb25zdHJhaW50IGNvbnRyb2xzXG4gICAgdGhpcy5jcmVhdGVDb25zdHJhaW50Q29udHJvbHMoKVxuXG4gICAgLy8gQ3JlYXRlIHBoeXNpY3Mgc3RhdHNcbiAgICB0aGlzLmNyZWF0ZVBoeXNpY3NTdGF0cygpXG4gIH1cblxuICAvLyBDcmVhdGUgb2JqZWN0IGNvbnRyb2xzXG4gIHByaXZhdGUgY3JlYXRlT2JqZWN0Q29udHJvbHMoKSB7XG4gICAgY29uc3QgY29udHJvbHMgPSBbXG4gICAgICB7IGlkOiAnc3Bhd25fYmFsbCcsIGljb246ICdcdTI2QUEnLCBuYW1lOiAnU3Bhd24gQmFsbCcgfSxcbiAgICAgIHsgaWQ6ICdzcGF3bl9ib3gnLCBpY29uOiAnXHUyQjFDJywgbmFtZTogJ1NwYXduIEJveCcgfSxcbiAgICAgIHsgaWQ6ICdzcGF3bl9jeWxpbmRlcicsIGljb246ICdcdUQ4M0VcdURENjQnLCBuYW1lOiAnU3Bhd24gQ3lsaW5kZXInIH0sXG4gICAgICB7IGlkOiAnY2xlYXJfYWxsJywgaWNvbjogJ1x1RDgzRFx1REREMVx1RkUwRicsIG5hbWU6ICdDbGVhciBBbGwnIH1cbiAgICBdXG5cbiAgICBsZXQgeE9mZnNldCA9IC0wLjlcblxuICAgIGNvbnRyb2xzLmZvckVhY2goY29udHJvbCA9PiB7XG4gICAgICBjb25zdCBidXR0b24gPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIFRyYW5zZm9ybS5jcmVhdGUoYnV0dG9uLCB7XG4gICAgICAgIHBhcmVudDogdGhpcy5waHlzaWNzVUksXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSh4T2Zmc2V0LCAxLjIsIDAuMSksXG4gICAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjMsIDAuMywgMC4xKVxuICAgICAgfSlcbiAgICAgIE1lc2hSZW5kZXJlci5zZXRCb3goYnV0dG9uKVxuICAgICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoYnV0dG9uLCB7XG4gICAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMywgMC42LCAwLjgsIDEpLFxuICAgICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMywgMC42LCAwLjgsIDAuNSksXG4gICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAyXG4gICAgICB9KVxuXG4gICAgICBjb25zdCBidXR0b25UZXh0ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgICBUcmFuc2Zvcm0uY3JlYXRlKGJ1dHRvblRleHQsIHtcbiAgICAgICAgcGFyZW50OiBidXR0b24sXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwLjEpLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC41LCAwLjUsIDAuNSlcbiAgICAgIH0pXG4gICAgICBUZXh0U2hhcGUuY3JlYXRlKGJ1dHRvblRleHQsIHtcbiAgICAgICAgdGV4dDogY29udHJvbC5pY29uLFxuICAgICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICAgIGZvbnRTaXplOiAyLFxuICAgICAgICB0ZXh0QWxpZ246IDNcbiAgICAgIH0pXG5cbiAgICAgIHBvaW50ZXJFdmVudHNTeXN0ZW0ub25Qb2ludGVyRG93bihcbiAgICAgICAge1xuICAgICAgICAgIGVudGl0eTogYnV0dG9uLFxuICAgICAgICAgIG9wdHM6IHsgYnV0dG9uOiBJbnB1dEFjdGlvbi5JQV9QT0lOVEVSLCBob3ZlclRleHQ6IGNvbnRyb2wubmFtZSB9XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHRoaXMuaGFuZGxlT2JqZWN0Q29udHJvbChjb250cm9sLmlkKVxuICAgICAgKVxuXG4gICAgICB4T2Zmc2V0ICs9IDAuNlxuICAgIH0pXG4gIH1cblxuICAvLyBDcmVhdGUgZm9yY2UgZmllbGQgY29udHJvbHNcbiAgcHJpdmF0ZSBjcmVhdGVGb3JjZUZpZWxkQ29udHJvbHMoKSB7XG4gICAgY29uc3QgY29udHJvbHMgPSBbXG4gICAgICB7IGlkOiAnZ3Jhdml0eV9maWVsZCcsIGljb246ICdcdUQ4M0NcdURGMEQnLCBuYW1lOiAnR3Jhdml0eSBGaWVsZCcgfSxcbiAgICAgIHsgaWQ6ICdtYWduZXRpY19maWVsZCcsIGljb246ICdcdUQ4M0VcdURERjInLCBuYW1lOiAnTWFnbmV0aWMgRmllbGQnIH0sXG4gICAgICB7IGlkOiAnd2luZF9maWVsZCcsIGljb246ICdcdUQ4M0RcdURDQTgnLCBuYW1lOiAnV2luZCBGaWVsZCcgfSxcbiAgICAgIHsgaWQ6ICdleHBsb3Npb24nLCBpY29uOiAnXHVEODNEXHVEQ0E1JywgbmFtZTogJ0V4cGxvc2lvbicgfVxuICAgIF1cblxuICAgIGxldCB4T2Zmc2V0ID0gLTAuOVxuXG4gICAgY29udHJvbHMuZm9yRWFjaChjb250cm9sID0+IHtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgVHJhbnNmb3JtLmNyZWF0ZShidXR0b24sIHtcbiAgICAgICAgcGFyZW50OiB0aGlzLnBoeXNpY3NVSSxcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKHhPZmZzZXQsIDAuNiwgMC4xKSxcbiAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMywgMC4zLCAwLjEpXG4gICAgICB9KVxuICAgICAgTWVzaFJlbmRlcmVyLnNldEJveChidXR0b24pXG4gICAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChidXR0b24sIHtcbiAgICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC44LCAwLjMsIDAuMywgMSksXG4gICAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC44LCAwLjMsIDAuMywgMC41KSxcbiAgICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDJcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IGJ1dHRvblRleHQgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIFRyYW5zZm9ybS5jcmVhdGUoYnV0dG9uVGV4dCwge1xuICAgICAgICBwYXJlbnQ6IGJ1dHRvbixcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDAuMSksXG4gICAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjUsIDAuNSwgMC41KVxuICAgICAgfSlcbiAgICAgIFRleHRTaGFwZS5jcmVhdGUoYnV0dG9uVGV4dCwge1xuICAgICAgICB0ZXh0OiBjb250cm9sLmljb24sXG4gICAgICAgIHRleHRDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAxLCAxLCAxKSxcbiAgICAgICAgZm9udFNpemU6IDIsXG4gICAgICAgIHRleHRBbGlnbjogM1xuICAgICAgfSlcblxuICAgICAgcG9pbnRlckV2ZW50c1N5c3RlbS5vblBvaW50ZXJEb3duKFxuICAgICAgICB7XG4gICAgICAgICAgZW50aXR5OiBidXR0b24sXG4gICAgICAgICAgb3B0czogeyBidXR0b246IElucHV0QWN0aW9uLklBX1BPSU5URVIsIGhvdmVyVGV4dDogY29udHJvbC5uYW1lIH1cbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4gdGhpcy5oYW5kbGVGb3JjZUZpZWxkQ29udHJvbChjb250cm9sLmlkKVxuICAgICAgKVxuXG4gICAgICB4T2Zmc2V0ICs9IDAuNlxuICAgIH0pXG4gIH1cblxuICAvLyBDcmVhdGUgY29uc3RyYWludCBjb250cm9sc1xuICBwcml2YXRlIGNyZWF0ZUNvbnN0cmFpbnRDb250cm9scygpIHtcbiAgICBjb25zdCBjb250cm9scyA9IFtcbiAgICAgIHsgaWQ6ICdzcHJpbmdfY29uc3RyYWludCcsIGljb246ICdcdUQ4M0NcdURGMDAnLCBuYW1lOiAnU3ByaW5nJyB9LFxuICAgICAgeyBpZDogJ2hpbmdlX2NvbnN0cmFpbnQnLCBpY29uOiAnXHVEODNEXHVERUFBJywgbmFtZTogJ0hpbmdlJyB9LFxuICAgICAgeyBpZDogJ2ZpeGVkX2NvbnN0cmFpbnQnLCBpY29uOiAnXHVEODNEXHVERDEyJywgbmFtZTogJ0ZpeGVkJyB9XG4gICAgXVxuXG4gICAgbGV0IHhPZmZzZXQgPSAtMC42XG5cbiAgICBjb250cm9scy5mb3JFYWNoKGNvbnRyb2wgPT4ge1xuICAgICAgY29uc3QgYnV0dG9uID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgICBUcmFuc2Zvcm0uY3JlYXRlKGJ1dHRvbiwge1xuICAgICAgICBwYXJlbnQ6IHRoaXMucGh5c2ljc1VJLFxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoeE9mZnNldCwgMCwgMC4xKSxcbiAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMywgMC4zLCAwLjEpXG4gICAgICB9KVxuICAgICAgTWVzaFJlbmRlcmVyLnNldEJveChidXR0b24pXG4gICAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChidXR0b24sIHtcbiAgICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4zLCAwLjgsIDAuMywgMSksXG4gICAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4zLCAwLjgsIDAuMywgMC41KSxcbiAgICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDJcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IGJ1dHRvblRleHQgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIFRyYW5zZm9ybS5jcmVhdGUoYnV0dG9uVGV4dCwge1xuICAgICAgICBwYXJlbnQ6IGJ1dHRvbixcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDAuMSksXG4gICAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjUsIDAuNSwgMC41KVxuICAgICAgfSlcbiAgICAgIFRleHRTaGFwZS5jcmVhdGUoYnV0dG9uVGV4dCwge1xuICAgICAgICB0ZXh0OiBjb250cm9sLmljb24sXG4gICAgICAgIHRleHRDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAxLCAxLCAxKSxcbiAgICAgICAgZm9udFNpemU6IDIsXG4gICAgICAgIHRleHRBbGlnbjogM1xuICAgICAgfSlcblxuICAgICAgcG9pbnRlckV2ZW50c1N5c3RlbS5vblBvaW50ZXJEb3duKFxuICAgICAgICB7XG4gICAgICAgICAgZW50aXR5OiBidXR0b24sXG4gICAgICAgICAgb3B0czogeyBidXR0b246IElucHV0QWN0aW9uLklBX1BPSU5URVIsIGhvdmVyVGV4dDogY29udHJvbC5uYW1lIH1cbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4gdGhpcy5oYW5kbGVDb25zdHJhaW50Q29udHJvbChjb250cm9sLmlkKVxuICAgICAgKVxuXG4gICAgICB4T2Zmc2V0ICs9IDAuNlxuICAgIH0pXG4gIH1cblxuICAvLyBDcmVhdGUgcGh5c2ljcyBzdGF0c1xuICBwcml2YXRlIGNyZWF0ZVBoeXNpY3NTdGF0cygpIHtcbiAgICBjb25zdCBzdGF0c0Rpc3BsYXkgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKHN0YXRzRGlzcGxheSwge1xuICAgICAgcGFyZW50OiB0aGlzLnBoeXNpY3NVSSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAtMC42LCAwLjEpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuOCwgMC4zLCAwLjEpXG4gICAgfSlcbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KHN0YXRzRGlzcGxheSlcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChzdGF0c0Rpc3BsYXksIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMSwgMC4xLCAwLjEsIDAuOCksXG4gICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMSwgMC4xLCAwLjEsIDAuMyksXG4gICAgICBlbWlzc2l2ZUludGVuc2l0eTogMVxuICAgIH0pXG5cbiAgICBjb25zdCBzdGF0c1RleHQgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKHN0YXRzVGV4dCwge1xuICAgICAgcGFyZW50OiBzdGF0c0Rpc3BsYXksXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjMsIDAuMywgMC4zKVxuICAgIH0pXG4gICAgVGV4dFNoYXBlLmNyZWF0ZShzdGF0c1RleHQsIHtcbiAgICAgIHRleHQ6ICdcdUQ4M0RcdURDQ0EgT2JqZWN0czogMCB8IENvbGxpc2lvbnM6IDAnLFxuICAgICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDEsIDEsIDEpLFxuICAgICAgZm9udFNpemU6IDEuNSxcbiAgICAgIHRleHRBbGlnbjogM1xuICAgIH0pXG4gIH1cblxuICAvLyBDcmVhdGUgcGh5c2ljcyBvYmplY3RzXG4gIHByaXZhdGUgY3JlYXRlUGh5c2ljc09iamVjdHMoKSB7XG4gICAgLy8gQ3JlYXRlIGdyb3VuZCBwbGFuZVxuICAgIHRoaXMuY3JlYXRlR3JvdW5kUGxhbmUoKVxuXG4gICAgLy8gQ3JlYXRlIHNvbWUgaW5pdGlhbCBvYmplY3RzXG4gICAgdGhpcy5jcmVhdGVJbml0aWFsT2JqZWN0cygpXG4gIH1cblxuICAvLyBDcmVhdGUgZ3JvdW5kIHBsYW5lXG4gIHByaXZhdGUgY3JlYXRlR3JvdW5kUGxhbmUoKSB7XG4gICAgY29uc3QgZ3JvdW5kOiBQaHlzaWNzT2JqZWN0ID0ge1xuICAgICAgaWQ6ICdncm91bmRfcGxhbmUnLFxuICAgICAgdHlwZTogJ3N0YXRpYycsXG4gICAgICBtYXNzOiAwLFxuICAgICAgdmVsb2NpdHk6IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDApLFxuICAgICAgYWNjZWxlcmF0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwKSxcbiAgICAgIGFuZ3VsYXJWZWxvY2l0eTogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMCksXG4gICAgICBhbmd1bGFyQWNjZWxlcmF0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwKSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSg4LCAwLCA4KSxcbiAgICAgIHJvdGF0aW9uOiBRdWF0ZXJuaW9uLmZyb21FdWxlckRlZ3JlZXMoMCwgMCwgMCksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMjAsIDAuMSwgMjApLFxuICAgICAgcmVzdGl0dXRpb246IDAuNSxcbiAgICAgIGZyaWN0aW9uOiAwLjgsXG4gICAgICBkYW1waW5nOiAwLjEsXG4gICAgICBncmF2aXR5U2NhbGU6IDAsXG4gICAgICBpc0dyb3VuZGVkOiB0cnVlLFxuICAgICAgaXNDb2xsaWRpbmc6IGZhbHNlLFxuICAgICAgY29sbGlzaW9uTGF5ZXI6IDAsXG4gICAgICBjb2xsaXNpb25NYXNrOiAyNTVcbiAgICB9XG5cbiAgICB0aGlzLm9iamVjdHMuc2V0KGdyb3VuZC5pZCwgZ3JvdW5kKVxuICAgIHRoaXMuY3JlYXRlUGh5c2ljc0VudGl0eShncm91bmQsICdtYXRlcmlhbF9tZXRhbCcpXG4gIH1cblxuICAvLyBDcmVhdGUgaW5pdGlhbCBvYmplY3RzXG4gIHByaXZhdGUgY3JlYXRlSW5pdGlhbE9iamVjdHMoKSB7XG4gICAgLy8gQ3JlYXRlIGEgZmV3IHNhbXBsZSBvYmplY3RzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgIHRoaXMuc3Bhd25QaHlzaWNzT2JqZWN0KCdiYWxsJywgVmVjdG9yMy5jcmVhdGUoXG4gICAgICAgIDYgKyBpICogMixcbiAgICAgICAgMyArIGksXG4gICAgICAgIDYgKyBpXG4gICAgICApKVxuICAgIH1cbiAgfVxuXG4gIC8vIENyZWF0ZSBwaHlzaWNzIGVudGl0eVxuICBwcml2YXRlIGNyZWF0ZVBoeXNpY3NPYmplY3Qob2JqOiBQaHlzaWNzT2JqZWN0LCBtYXRlcmlhbElkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBlbnRpdHkgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKGVudGl0eSwge1xuICAgICAgcG9zaXRpb246IG9iai5wb3NpdGlvbixcbiAgICAgIHNjYWxlOiBvYmouc2NhbGUsXG4gICAgICByb3RhdGlvbjogb2JqLnJvdGF0aW9uXG4gICAgfSlcblxuICAgIGNvbnN0IG1hdGVyaWFsID0gdGhpcy5tYXRlcmlhbHMuZ2V0KG1hdGVyaWFsSWQpXG4gICAgaWYgKCFtYXRlcmlhbCkgcmV0dXJuXG5cbiAgICAvLyBTZXQgbWVzaCBiYXNlZCBvbiBvYmplY3QgdHlwZVxuICAgIGlmIChvYmouaWQuaW5jbHVkZXMoJ2JhbGwnKSkge1xuICAgICAgTWVzaFJlbmRlcmVyLnNldFNwaGVyZShlbnRpdHkpXG4gICAgfSBlbHNlIGlmIChvYmouaWQuaW5jbHVkZXMoJ2JveCcpKSB7XG4gICAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGVudGl0eSlcbiAgICB9IGVsc2UgaWYgKG9iai5pZC5pbmNsdWRlcygnY3lsaW5kZXInKSkge1xuICAgICAgTWVzaFJlbmRlcmVyLnNldEN5bGluZGVyKGVudGl0eSwgMSwgMSwgMSwgMSwgMSlcbiAgICB9IGVsc2Uge1xuICAgICAgTWVzaFJlbmRlcmVyLnNldEJveChlbnRpdHkpXG4gICAgfVxuXG4gICAgLy8gU2V0IG1hdGVyaWFsIHByb3BlcnRpZXNcbiAgICBjb25zdCBjb2xvciA9IHRoaXMuZ2V0TWF0ZXJpYWxDb2xvcihtYXRlcmlhbElkKVxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGVudGl0eSwge1xuICAgICAgYWxiZWRvQ29sb3I6IGNvbG9yLFxuICAgICAgcm91Z2huZXNzOiAxIC0gbWF0ZXJpYWwuZnJpY3Rpb24sXG4gICAgICBtZXRhbGxpYzogbWF0ZXJpYWwucmVzdGl0dXRpb24sXG4gICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAsIDAsIDAsIDApLFxuICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDBcbiAgICB9KVxuXG4gICAgLy8gQWRkIGludGVyYWN0aW9uXG4gICAgcG9pbnRlckV2ZW50c1N5c3RlbS5vblBvaW50ZXJEb3duKFxuICAgICAge1xuICAgICAgICBlbnRpdHk6IGVudGl0eSxcbiAgICAgICAgb3B0czogeyBidXR0b246IElucHV0QWN0aW9uLklBX1BPSU5URVIsIGhvdmVyVGV4dDogJ0ludGVyYWN0JyB9XG4gICAgICB9LFxuICAgICAgKCkgPT4gdGhpcy5pbnRlcmFjdFdpdGhPYmplY3Qob2JqLmlkKVxuICAgIClcblxuICAgIHJldHVybiBlbnRpdHlcbiAgfVxuXG4gIC8vIEdldCBtYXRlcmlhbCBjb2xvclxuICBwcml2YXRlIGdldE1hdGVyaWFsQ29sb3IobWF0ZXJpYWxJZDogc3RyaW5nKTogQ29sb3I0IHtcbiAgICBzd2l0Y2ggKG1hdGVyaWFsSWQpIHtcbiAgICAgIGNhc2UgJ21hdGVyaWFsX21ldGFsJzpcbiAgICAgICAgcmV0dXJuIENvbG9yNC5jcmVhdGUoMC43LCAwLjcsIDAuOCwgMSlcbiAgICAgIGNhc2UgJ21hdGVyaWFsX3dvb2QnOlxuICAgICAgICByZXR1cm4gQ29sb3I0LmNyZWF0ZSgwLjYsIDAuNCwgMC4yLCAxKVxuICAgICAgY2FzZSAnbWF0ZXJpYWxfZ2xhc3MnOlxuICAgICAgICByZXR1cm4gQ29sb3I0LmNyZWF0ZSgwLjgsIDAuOSwgMSwgMC43KVxuICAgICAgY2FzZSAnbWF0ZXJpYWxfcnViYmVyJzpcbiAgICAgICAgcmV0dXJuIENvbG9yNC5jcmVhdGUoMC4yLCAwLjIsIDAuMiwgMSlcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBDb2xvcjQuY3JlYXRlKDAuNSwgMC41LCAwLjUsIDEpXG4gICAgfVxuICB9XG5cbiAgLy8gU3RhcnQgcGh5c2ljcyBlbmdpbmVcbiAgcHJpdmF0ZSBzdGFydFBoeXNpY3NFbmdpbmUoKSB7XG4gICAgZW5naW5lLmFkZFN5c3RlbSgoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCkgcmV0dXJuXG5cbiAgICAgIHRoaXMuc2ltdWxhdGVQaHlzaWNzKClcbiAgICAgIHRoaXMuZGV0ZWN0Q29sbGlzaW9ucygpXG4gICAgICB0aGlzLmFwcGx5Rm9yY2VGaWVsZHMoKVxuICAgICAgdGhpcy51cGRhdGVDb25zdHJhaW50cygpXG4gICAgICB0aGlzLnVwZGF0ZVBoeXNpY3NTdGF0cygpXG4gICAgfSlcbiAgfVxuXG4gIC8vIFNpbXVsYXRlIHBoeXNpY3NcbiAgcHJpdmF0ZSBzaW11bGF0ZVBoeXNpY3MoKSB7XG4gICAgY29uc3QgZHQgPSB0aGlzLnRpbWVTdGVwXG5cbiAgICB0aGlzLm9iamVjdHMuZm9yRWFjaCgob2JqLCBpZCkgPT4ge1xuICAgICAgaWYgKG9iai50eXBlID09PSAnc3RhdGljJykgcmV0dXJuXG5cbiAgICAgIC8vIEFwcGx5IGdyYXZpdHlcbiAgICAgIGNvbnN0IGdyYXZpdHkgPSBWZWN0b3IzLnNjYWxlKHRoaXMuZ3Jhdml0eSwgb2JqLmdyYXZpdHlTY2FsZSlcbiAgICAgIG9iai5hY2NlbGVyYXRpb24gPSBWZWN0b3IzLmFkZChvYmouYWNjZWxlcmF0aW9uLCBncmF2aXR5KVxuXG4gICAgICAvLyBVcGRhdGUgdmVsb2NpdHlcbiAgICAgIG9iai52ZWxvY2l0eSA9IFZlY3RvcjMuYWRkKG9iai52ZWxvY2l0eSwgVmVjdG9yMy5zY2FsZShvYmouYWNjZWxlcmF0aW9uLCBkdCkpXG5cbiAgICAgIC8vIEFwcGx5IGRhbXBpbmdcbiAgICAgIG9iai52ZWxvY2l0eSA9IFZlY3RvcjMuc2NhbGUob2JqLnZlbG9jaXR5LCAxIC0gb2JqLmRhbXBpbmcgKiBkdClcbiAgICAgIG9iai5hbmd1bGFyVmVsb2NpdHkgPSBWZWN0b3IzLnNjYWxlKG9iai5hbmd1bGFyVmVsb2NpdHksIDEgLSBvYmouZGFtcGluZyAqIGR0KVxuXG4gICAgICAvLyBVcGRhdGUgcG9zaXRpb25cbiAgICAgIG9iai5wb3NpdGlvbiA9IFZlY3RvcjMuYWRkKG9iai5wb3NpdGlvbiwgVmVjdG9yMy5zY2FsZShvYmoudmVsb2NpdHksIGR0KSlcblxuICAgICAgLy8gVXBkYXRlIHJvdGF0aW9uXG4gICAgICBjb25zdCBhbmd1bGFyRGVsdGEgPSBWZWN0b3IzLnNjYWxlKG9iai5hbmd1bGFyVmVsb2NpdHksIGR0KVxuICAgICAgb2JqLnJvdGF0aW9uID0gUXVhdGVybmlvbi5tdWx0aXBseShcbiAgICAgICAgb2JqLnJvdGF0aW9uLFxuICAgICAgICBRdWF0ZXJuaW9uLmZyb21FdWxlckRlZ3JlZXMoYW5ndWxhckRlbHRhLngsIGFuZ3VsYXJEZWx0YS55LCBhbmd1bGFyRGVsdGEueilcbiAgICAgIClcblxuICAgICAgLy8gUmVzZXQgYWNjZWxlcmF0aW9uXG4gICAgICBvYmouYWNjZWxlcmF0aW9uID0gVmVjdG9yMy5jcmVhdGUoMCwgMCwgMClcbiAgICAgIG9iai5hbmd1bGFyQWNjZWxlcmF0aW9uID0gVmVjdG9yMy5jcmVhdGUoMCwgMCwgMClcblxuICAgICAgLy8gQ2hlY2sgZ3JvdW5kIGNvbGxpc2lvblxuICAgICAgdGhpcy5jaGVja0dyb3VuZENvbGxpc2lvbihvYmopXG5cbiAgICAgIC8vIFVwZGF0ZSBlbnRpdHkgdHJhbnNmb3JtXG4gICAgICB0aGlzLnVwZGF0ZUVudGl0eVRyYW5zZm9ybShpZClcbiAgICB9KVxuICB9XG5cbiAgLy8gQ2hlY2sgZ3JvdW5kIGNvbGxpc2lvblxuICBwcml2YXRlIGNoZWNrR3JvdW5kQ29sbGlzaW9uKG9iajogUGh5c2ljc09iamVjdCkge1xuICAgIGlmIChvYmoucG9zaXRpb24ueSA8PSBvYmouc2NhbGUueSAvIDIpIHtcbiAgICAgIG9iai5wb3NpdGlvbi55ID0gb2JqLnNjYWxlLnkgLyAyXG5cbiAgICAgIGlmIChvYmoudmVsb2NpdHkueSA8IDApIHtcbiAgICAgICAgb2JqLnZlbG9jaXR5LnkgPSAtb2JqLnZlbG9jaXR5LnkgKiBvYmoucmVzdGl0dXRpb25cblxuICAgICAgICAvLyBBcHBseSBmcmljdGlvblxuICAgICAgICBvYmoudmVsb2NpdHkueCAqPSAoMSAtIG9iai5mcmljdGlvbiAqIDAuMSlcbiAgICAgICAgb2JqLnZlbG9jaXR5LnogKj0gKDEgLSBvYmouZnJpY3Rpb24gKiAwLjEpXG5cbiAgICAgICAgLy8gUGxheSBpbXBhY3Qgc291bmRcbiAgICAgICAgaWYgKE1hdGguYWJzKG9iai52ZWxvY2l0eS55KSA+IDAuNSkge1xuICAgICAgICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdpbXBhY3QnKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG9iai5pc0dyb3VuZGVkID0gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBvYmouaXNHcm91bmRlZCA9IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgLy8gVXBkYXRlIGVudGl0eSB0cmFuc2Zvcm1cbiAgcHJpdmF0ZSB1cGRhdGVFbnRpdHlUcmFuc2Zvcm0ob2JqZWN0SWQ6IHN0cmluZykge1xuICAgIGNvbnN0IG9iaiA9IHRoaXMub2JqZWN0cy5nZXQob2JqZWN0SWQpXG4gICAgaWYgKCFvYmopIHJldHVyblxuXG4gICAgLy8gRmluZCB0aGUgZW50aXR5IGFuZCB1cGRhdGUgaXRzIHRyYW5zZm9ybVxuICAgIC8vIEluIGEgcmVhbCBpbXBsZW1lbnRhdGlvbiwgd2UnZCB0cmFjayBlbnRpdHkgcmVmZXJlbmNlc1xuICB9XG5cbiAgLy8gRGV0ZWN0IGNvbGxpc2lvbnNcbiAgcHJpdmF0ZSBkZXRlY3RDb2xsaXNpb25zKCkge1xuICAgIGNvbnN0IG9iamVjdEFycmF5ID0gQXJyYXkuZnJvbSh0aGlzLm9iamVjdHMudmFsdWVzKCkpXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iamVjdEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBvYmplY3RBcnJheS5sZW5ndGg7IGorKykge1xuICAgICAgICBjb25zdCBvYmpBID0gb2JqZWN0QXJyYXlbaV1cbiAgICAgICAgY29uc3Qgb2JqQiA9IG9iamVjdEFycmF5W2pdXG5cbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkQ29sbGlkZShvYmpBLCBvYmpCKSkge1xuICAgICAgICAgIGNvbnN0IGNvbGxpc2lvbiA9IHRoaXMuY2hlY2tDb2xsaXNpb24ob2JqQSwgb2JqQilcbiAgICAgICAgICBpZiAoY29sbGlzaW9uKSB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmVDb2xsaXNpb24oY29sbGlzaW9uKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIENoZWNrIGlmIG9iamVjdHMgc2hvdWxkIGNvbGxpZGVcbiAgcHJpdmF0ZSBzaG91bGRDb2xsaWRlKG9iakE6IFBoeXNpY3NPYmplY3QsIG9iakI6IFBoeXNpY3NPYmplY3QpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKG9iakEuY29sbGlzaW9uTWFzayAmICgxIDw8IG9iakIuY29sbGlzaW9uTGF5ZXIpKSAhPT0gMCAmJlxuICAgICAgKG9iakIuY29sbGlzaW9uTWFzayAmICgxIDw8IG9iakEuY29sbGlzaW9uTGF5ZXIpKSAhPT0gMFxuICB9XG5cbiAgLy8gQ2hlY2sgY29sbGlzaW9uIGJldHdlZW4gdHdvIG9iamVjdHNcbiAgcHJpdmF0ZSBjaGVja0NvbGxpc2lvbihvYmpBOiBQaHlzaWNzT2JqZWN0LCBvYmpCOiBQaHlzaWNzT2JqZWN0KTogQ29sbGlzaW9uIHwgbnVsbCB7XG4gICAgLy8gU2ltcGxlIHNwaGVyZS1zcGhlcmUgY29sbGlzaW9uIGRldGVjdGlvblxuICAgIGNvbnN0IGRpc3RhbmNlID0gVmVjdG9yMy5kaXN0YW5jZShvYmpBLnBvc2l0aW9uLCBvYmpCLnBvc2l0aW9uKVxuICAgIGNvbnN0IG1pbkRpc3RhbmNlID0gKG9iakEuc2NhbGUueCArIG9iakIuc2NhbGUueCkgLyAyXG5cbiAgICBpZiAoZGlzdGFuY2UgPCBtaW5EaXN0YW5jZSkge1xuICAgICAgY29uc3QgY29sbGlzaW9uOiBDb2xsaXNpb24gPSB7XG4gICAgICAgIGlkOiBgY29sbGlzaW9uXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpfWAsXG4gICAgICAgIG9iamVjdEE6IG9iakEuaWQsXG4gICAgICAgIG9iamVjdEI6IG9iakIuaWQsXG4gICAgICAgIGNvbnRhY3RQb2ludDogVmVjdG9yMy5sZXJwKG9iakEucG9zaXRpb24sIG9iakIucG9zaXRpb24sIDAuNSksXG4gICAgICAgIGNvbnRhY3ROb3JtYWw6IFZlY3RvcjMubm9ybWFsaXplKFZlY3RvcjMuc3VidHJhY3Qob2JqQi5wb3NpdGlvbiwgb2JqQS5wb3NpdGlvbikpLFxuICAgICAgICBpbXB1bHNlOiBtaW5EaXN0YW5jZSAtIGRpc3RhbmNlLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbGxpc2lvblxuICAgIH1cblxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICAvLyBSZXNvbHZlIGNvbGxpc2lvblxuICBwcml2YXRlIHJlc29sdmVDb2xsaXNpb24oY29sbGlzaW9uOiBDb2xsaXNpb24pIHtcbiAgICBjb25zdCBvYmpBID0gdGhpcy5vYmplY3RzLmdldChjb2xsaXNpb24ub2JqZWN0QSlcbiAgICBjb25zdCBvYmpCID0gdGhpcy5vYmplY3RzLmdldChjb2xsaXNpb24ub2JqZWN0QilcblxuICAgIGlmICghb2JqQSB8fCAhb2JqQikgcmV0dXJuXG5cbiAgICAvLyBTZXBhcmF0ZSBvYmplY3RzXG4gICAgY29uc3Qgc2VwYXJhdGlvbiA9IFZlY3RvcjMuc2NhbGUoY29sbGlzaW9uLmNvbnRhY3ROb3JtYWwsIGNvbGxpc2lvbi5pbXB1bHNlIC8gMilcblxuICAgIGlmIChvYmpBLnR5cGUgIT09ICdzdGF0aWMnKSB7XG4gICAgICBvYmpBLnBvc2l0aW9uID0gVmVjdG9yMy5zdWJ0cmFjdChvYmpBLnBvc2l0aW9uLCBzZXBhcmF0aW9uKVxuICAgIH1cblxuICAgIGlmIChvYmpCLnR5cGUgIT09ICdzdGF0aWMnKSB7XG4gICAgICBvYmpCLnBvc2l0aW9uID0gVmVjdG9yMy5hZGQob2JqQi5wb3NpdGlvbiwgc2VwYXJhdGlvbilcbiAgICB9XG5cbiAgICAvLyBDYWxjdWxhdGUgcmVsYXRpdmUgdmVsb2NpdHlcbiAgICBjb25zdCByZWxhdGl2ZVZlbG9jaXR5ID0gVmVjdG9yMy5zdWJ0cmFjdChvYmpCLnZlbG9jaXR5LCBvYmpBLnZlbG9jaXR5KVxuICAgIGNvbnN0IHZlbG9jaXR5QWxvbmdOb3JtYWwgPSBWZWN0b3IzLmRvdChyZWxhdGl2ZVZlbG9jaXR5LCBjb2xsaXNpb24uY29udGFjdE5vcm1hbClcblxuICAgIC8vIERvbid0IHJlc29sdmUgaWYgdmVsb2NpdGllcyBhcmUgc2VwYXJhdGluZ1xuICAgIGlmICh2ZWxvY2l0eUFsb25nTm9ybWFsID4gMCkgcmV0dXJuXG5cbiAgICAvLyBDYWxjdWxhdGUgcmVzdGl0dXRpb25cbiAgICBjb25zdCByZXN0aXR1dGlvbiA9IE1hdGgubWluKG9iakEucmVzdGl0dXRpb24sIG9iakIucmVzdGl0dXRpb24pXG5cbiAgICAvLyBDYWxjdWxhdGUgaW1wdWxzZSBzY2FsYXJcbiAgICBjb25zdCBpbXB1bHNlU2NhbGFyID0gLSgxICsgcmVzdGl0dXRpb24pICogdmVsb2NpdHlBbG9uZ05vcm1hbFxuICAgIGNvbnN0IGltcHVsc2UgPSBWZWN0b3IzLnNjYWxlKGNvbGxpc2lvbi5jb250YWN0Tm9ybWFsLCBpbXB1bHNlU2NhbGFyKVxuXG4gICAgLy8gQXBwbHkgaW1wdWxzZVxuICAgIGlmIChvYmpBLnR5cGUgIT09ICdzdGF0aWMnKSB7XG4gICAgICBvYmpBLnZlbG9jaXR5ID0gVmVjdG9yMy5zdWJ0cmFjdChvYmpBLnZlbG9jaXR5LCBpbXB1bHNlKVxuICAgIH1cblxuICAgIGlmIChvYmpCLnR5cGUgIT09ICdzdGF0aWMnKSB7XG4gICAgICBvYmpCLnZlbG9jaXR5ID0gVmVjdG9yMy5hZGQob2JqQi52ZWxvY2l0eSwgaW1wdWxzZSlcbiAgICB9XG5cbiAgICAvLyBTdG9yZSBjb2xsaXNpb25cbiAgICB0aGlzLmNvbGxpc2lvbnMuc2V0KGNvbGxpc2lvbi5pZCwgY29sbGlzaW9uKVxuXG4gICAgLy8gUGxheSBjb2xsaXNpb24gc291bmRcbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgnY29sbGlzaW9uJylcbiAgfVxuXG4gIC8vIEFwcGx5IGZvcmNlIGZpZWxkc1xuICBwcml2YXRlIGFwcGx5Rm9yY2VGaWVsZHMoKSB7XG4gICAgdGhpcy5mb3JjZUZpZWxkcy5mb3JFYWNoKChmaWVsZCwgaWQpID0+IHtcbiAgICAgIGlmICghZmllbGQuaXNBY3RpdmUpIHJldHVyblxuXG4gICAgICB0aGlzLm9iamVjdHMuZm9yRWFjaCgob2JqLCBvYmplY3RJZCkgPT4ge1xuICAgICAgICBpZiAoZmllbGQuYWZmZWN0ZWRPYmplY3RzLmluY2x1ZGVzKG9iamVjdElkKSkge1xuICAgICAgICAgIHRoaXMuYXBwbHlGb3JjZUZpZWxkKG9iaiwgZmllbGQpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8vIEFwcGx5IGZvcmNlIGZpZWxkIHRvIG9iamVjdFxuICBwcml2YXRlIGFwcGx5Rm9yY2VGaWVsZChvYmo6IFBoeXNpY3NPYmplY3QsIGZpZWxkOiBGb3JjZUZpZWxkKSB7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBWZWN0b3IzLmRpc3RhbmNlKG9iai5wb3NpdGlvbiwgZmllbGQucG9zaXRpb24pXG5cbiAgICBpZiAoZGlzdGFuY2UgPD0gZmllbGQucmFkaXVzKSB7XG4gICAgICBjb25zdCBmb3JjZSA9IFZlY3RvcjMuc2NhbGUoZmllbGQuZGlyZWN0aW9uLCBmaWVsZC5zdHJlbmd0aClcbiAgICAgIGNvbnN0IGZhbGxvZmYgPSAxIC0gKGRpc3RhbmNlIC8gZmllbGQucmFkaXVzKVxuICAgICAgY29uc3QgZmluYWxGb3JjZSA9IFZlY3RvcjMuc2NhbGUoZm9yY2UsIGZhbGxvZmYpXG5cbiAgICAgIG9iai5hY2NlbGVyYXRpb24gPSBWZWN0b3IzLmFkZChvYmouYWNjZWxlcmF0aW9uLCBmaW5hbEZvcmNlKVxuICAgIH1cbiAgfVxuXG4gIC8vIFVwZGF0ZSBjb25zdHJhaW50c1xuICBwcml2YXRlIHVwZGF0ZUNvbnN0cmFpbnRzKCkge1xuICAgIHRoaXMuY29uc3RyYWludHMuZm9yRWFjaCgoY29uc3RyYWludCwgaWQpID0+IHtcbiAgICAgIHRoaXMuYXBwbHlDb25zdHJhaW50KGNvbnN0cmFpbnQpXG4gICAgfSlcbiAgfVxuXG4gIC8vIEFwcGx5IGNvbnN0cmFpbnRcbiAgcHJpdmF0ZSBhcHBseUNvbnN0cmFpbnQoY29uc3RyYWludDogQ29uc3RyYWludCkge1xuICAgIGNvbnN0IG9iakEgPSB0aGlzLm9iamVjdHMuZ2V0KGNvbnN0cmFpbnQub2JqZWN0QSlcbiAgICBjb25zdCBvYmpCID0gY29uc3RyYWludC5vYmplY3RCID8gdGhpcy5vYmplY3RzLmdldChjb25zdHJhaW50Lm9iamVjdEIpIDogbnVsbFxuXG4gICAgaWYgKCFvYmpBKSByZXR1cm5cblxuICAgIHN3aXRjaCAoY29uc3RyYWludC50eXBlKSB7XG4gICAgICBjYXNlICdzcHJpbmcnOlxuICAgICAgICBpZiAob2JqQikge1xuICAgICAgICAgIHRoaXMuYXBwbHlTcHJpbmdDb25zdHJhaW50KG9iakEsIG9iakIsIGNvbnN0cmFpbnQpXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2hpbmdlJzpcbiAgICAgICAgaWYgKG9iakIpIHtcbiAgICAgICAgICB0aGlzLmFwcGx5SGluZ2VDb25zdHJhaW50KG9iakEsIG9iakIsIGNvbnN0cmFpbnQpXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2ZpeGVkJzpcbiAgICAgICAgaWYgKG9iakIpIHtcbiAgICAgICAgICB0aGlzLmFwcGx5Rml4ZWRDb25zdHJhaW50KG9iakEsIG9iakIsIGNvbnN0cmFpbnQpXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICAvLyBBcHBseSBzcHJpbmcgY29uc3RyYWludFxuICBwcml2YXRlIGFwcGx5U3ByaW5nQ29uc3RyYWludChvYmpBOiBQaHlzaWNzT2JqZWN0LCBvYmpCOiBQaHlzaWNzT2JqZWN0LCBjb25zdHJhaW50OiBDb25zdHJhaW50KSB7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBWZWN0b3IzLmRpc3RhbmNlKG9iakEucG9zaXRpb24sIG9iakIucG9zaXRpb24pXG4gICAgY29uc3QgcmVzdExlbmd0aCA9IGNvbnN0cmFpbnQubWluRGlzdGFuY2UgfHwgMlxuICAgIGNvbnN0IGRpc3BsYWNlbWVudCA9IGRpc3RhbmNlIC0gcmVzdExlbmd0aFxuXG4gICAgaWYgKE1hdGguYWJzKGRpc3BsYWNlbWVudCkgPiAwLjAxKSB7XG4gICAgICBjb25zdCBkaXJlY3Rpb24gPSBWZWN0b3IzLm5vcm1hbGl6ZShWZWN0b3IzLnN1YnRyYWN0KG9iakIucG9zaXRpb24sIG9iakEucG9zaXRpb24pKVxuICAgICAgY29uc3QgZm9yY2UgPSBWZWN0b3IzLnNjYWxlKGRpcmVjdGlvbiwgZGlzcGxhY2VtZW50ICogY29uc3RyYWludC5zdHJlbmd0aClcblxuICAgICAgb2JqQS5hY2NlbGVyYXRpb24gPSBWZWN0b3IzLmFkZChvYmpBLmFjY2VsZXJhdGlvbiwgZm9yY2UpXG4gICAgICBvYmpCLmFjY2VsZXJhdGlvbiA9IFZlY3RvcjMuc3VidHJhY3Qob2JqQi5hY2NlbGVyYXRpb24sIGZvcmNlKVxuICAgIH1cbiAgfVxuXG4gIC8vIEFwcGx5IGhpbmdlIGNvbnN0cmFpbnRcbiAgcHJpdmF0ZSBhcHBseUhpbmdlQ29uc3RyYWludChvYmpBOiBQaHlzaWNzT2JqZWN0LCBvYmpCOiBQaHlzaWNzT2JqZWN0LCBjb25zdHJhaW50OiBDb25zdHJhaW50KSB7XG4gICAgLy8gU2ltcGxpZmllZCBoaW5nZSBpbXBsZW1lbnRhdGlvblxuICAgIGNvbnN0IHRhcmdldFBvcyA9IFZlY3RvcjMuYWRkKG9iakIucG9zaXRpb24sIGNvbnN0cmFpbnQucG9zaXRpb25CKVxuICAgIGNvbnN0IGRpcmVjdGlvbiA9IFZlY3RvcjMuc3VidHJhY3QodGFyZ2V0UG9zLCBvYmpBLnBvc2l0aW9uKVxuXG4gICAgb2JqQS5wb3NpdGlvbiA9IFZlY3RvcjMuYWRkKHRhcmdldFBvcywgVmVjdG9yMy5zY2FsZShkaXJlY3Rpb24sIC0wLjUpKVxuICAgIG9iakIucG9zaXRpb24gPSBWZWN0b3IzLmFkZCh0YXJnZXRQb3MsIFZlY3RvcjMuc2NhbGUoZGlyZWN0aW9uLCAwLjUpKVxuICB9XG5cbiAgLy8gQXBwbHkgZml4ZWQgY29uc3RyYWludFxuICBwcml2YXRlIGFwcGx5Rml4ZWRDb25zdHJhaW50KG9iakE6IFBoeXNpY3NPYmplY3QsIG9iakI6IFBoeXNpY3NPYmplY3QsIGNvbnN0cmFpbnQ6IENvbnN0cmFpbnQpIHtcbiAgICAvLyBLZWVwIG9iamVjdHMgYXQgZml4ZWQgcmVsYXRpdmUgcG9zaXRpb25zXG4gICAgY29uc3QgdGFyZ2V0UG9zID0gVmVjdG9yMy5hZGQob2JqQi5wb3NpdGlvbiwgY29uc3RyYWludC5wb3NpdGlvbkIpXG4gICAgb2JqQS5wb3NpdGlvbiA9IHRhcmdldFBvc1xuICAgIG9iakEudmVsb2NpdHkgPSBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwKVxuICB9XG5cbiAgLy8gVXBkYXRlIHBoeXNpY3Mgc3RhdHNcbiAgcHJpdmF0ZSB1cGRhdGVQaHlzaWNzU3RhdHMoKSB7XG4gICAgY29uc3Qgb2JqZWN0Q291bnQgPSB0aGlzLm9iamVjdHMuc2l6ZVxuICAgIGNvbnN0IGNvbGxpc2lvbkNvdW50ID0gdGhpcy5jb2xsaXNpb25zLnNpemVcblxuICAgIC8vIFVwZGF0ZSBVSSB3aXRoIHN0YXRzXG4gICAgLy8gSW4gcmVhbCBpbXBsZW1lbnRhdGlvbiwgdGhpcyB3b3VsZCB1cGRhdGUgdGhlIHRleHQgZGlzcGxheVxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURDQ0EgT2JqZWN0czogJHtvYmplY3RDb3VudH0gfCBDb2xsaXNpb25zOiAke2NvbGxpc2lvbkNvdW50fWApXG4gIH1cblxuICAvLyBIYW5kbGUgb2JqZWN0IGNvbnRyb2xcbiAgcHJpdmF0ZSBoYW5kbGVPYmplY3RDb250cm9sKGNvbnRyb2xJZDogc3RyaW5nKSB7XG4gICAgc3dpdGNoIChjb250cm9sSWQpIHtcbiAgICAgIGNhc2UgJ3NwYXduX2JhbGwnOlxuICAgICAgICB0aGlzLnNwYXduUGh5c2ljc09iamVjdCgnYmFsbCcsIFZlY3RvcjMuY3JlYXRlKDgsIDUsIDgpKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnc3Bhd25fYm94JzpcbiAgICAgICAgdGhpcy5zcGF3blBoeXNpY3NPYmplY3QoJ2JveCcsIFZlY3RvcjMuY3JlYXRlKDgsIDUsIDgpKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnc3Bhd25fY3lsaW5kZXInOlxuICAgICAgICB0aGlzLnNwYXduUGh5c2ljc09iamVjdCgnY3lsaW5kZXInLCBWZWN0b3IzLmNyZWF0ZSg4LCA1LCA4KSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2NsZWFyX2FsbCc6XG4gICAgICAgIHRoaXMuY2xlYXJBbGxPYmplY3RzKClcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgnY2xpY2snKVxuICB9XG5cbiAgLy8gSGFuZGxlIGZvcmNlIGZpZWxkIGNvbnRyb2xcbiAgcHJpdmF0ZSBoYW5kbGVGb3JjZUZpZWxkQ29udHJvbChjb250cm9sSWQ6IHN0cmluZykge1xuICAgIHN3aXRjaCAoY29udHJvbElkKSB7XG4gICAgICBjYXNlICdncmF2aXR5X2ZpZWxkJzpcbiAgICAgICAgdGhpcy5jcmVhdGVGb3JjZUZpZWxkKCdncmF2aXR5JylcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ21hZ25ldGljX2ZpZWxkJzpcbiAgICAgICAgdGhpcy5jcmVhdGVGb3JjZUZpZWxkKCdtYWduZXRpYycpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICd3aW5kX2ZpZWxkJzpcbiAgICAgICAgdGhpcy5jcmVhdGVGb3JjZUZpZWxkKCd3aW5kJylcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2V4cGxvc2lvbic6XG4gICAgICAgIHRoaXMuY3JlYXRlRXhwbG9zaW9uKClcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgncG93ZXJ1cCcpXG4gIH1cblxuICAvLyBIYW5kbGUgY29uc3RyYWludCBjb250cm9sXG4gIHByaXZhdGUgaGFuZGxlQ29uc3RyYWludENvbnRyb2woY29udHJvbElkOiBzdHJpbmcpIHtcbiAgICBzd2l0Y2ggKGNvbnRyb2xJZCkge1xuICAgICAgY2FzZSAnc3ByaW5nX2NvbnN0cmFpbnQnOlxuICAgICAgICB0aGlzLmNyZWF0ZVNwcmluZ0NvbnN0cmFpbnQoKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnaGluZ2VfY29uc3RyYWludCc6XG4gICAgICAgIHRoaXMuY3JlYXRlSGluZ2VDb25zdHJhaW50KClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2ZpeGVkX2NvbnN0cmFpbnQnOlxuICAgICAgICB0aGlzLmNyZWF0ZUZpeGVkQ29uc3RyYWludCgpXG4gICAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ2NsaWNrJylcbiAgfVxuXG4gIC8vIFNwYXduIHBoeXNpY3Mgb2JqZWN0XG4gIHB1YmxpYyBzcGF3blBoeXNpY3NPYmplY3QodHlwZTogc3RyaW5nLCBwb3NpdGlvbjogVmVjdG9yMykge1xuICAgIGNvbnN0IG9iajogUGh5c2ljc09iamVjdCA9IHtcbiAgICAgIGlkOiBgJHt0eXBlfV8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKX1gLFxuICAgICAgdHlwZTogJ3JpZ2lkX2JvZHknLFxuICAgICAgbWFzczogMSxcbiAgICAgIHZlbG9jaXR5OiBWZWN0b3IzLmNyZWF0ZShcbiAgICAgICAgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMixcbiAgICAgICAgMCxcbiAgICAgICAgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMlxuICAgICAgKSxcbiAgICAgIGFjY2VsZXJhdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMCksXG4gICAgICBhbmd1bGFyVmVsb2NpdHk6IFZlY3RvcjMuY3JlYXRlKFxuICAgICAgICAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAyLFxuICAgICAgICAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAyLFxuICAgICAgICAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAyXG4gICAgICApLFxuICAgICAgYW5ndWxhckFjY2VsZXJhdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMCksXG4gICAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICByb3RhdGlvbjogUXVhdGVybmlvbi5mcm9tRXVsZXJEZWdyZWVzKFxuICAgICAgICBNYXRoLnJhbmRvbSgpICogMzYwLFxuICAgICAgICBNYXRoLnJhbmRvbSgpICogMzYwLFxuICAgICAgICBNYXRoLnJhbmRvbSgpICogMzYwXG4gICAgICApLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuNSwgMC41LCAwLjUpLFxuICAgICAgcmVzdGl0dXRpb246IDAuNixcbiAgICAgIGZyaWN0aW9uOiAwLjUsXG4gICAgICBkYW1waW5nOiAwLjEsXG4gICAgICBncmF2aXR5U2NhbGU6IDEsXG4gICAgICBpc0dyb3VuZGVkOiBmYWxzZSxcbiAgICAgIGlzQ29sbGlkaW5nOiBmYWxzZSxcbiAgICAgIGNvbGxpc2lvbkxheWVyOiAxLFxuICAgICAgY29sbGlzaW9uTWFzazogMjU1XG4gICAgfVxuXG4gICAgdGhpcy5vYmplY3RzLnNldChvYmouaWQsIG9iailcbiAgICB0aGlzLmNyZWF0ZVBoeXNpY3NPYmplY3Qob2JqLCAnbWF0ZXJpYWxfcnViYmVyJylcblxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0NcdURGQkUgU3Bhd25lZCAke3R5cGV9OiAke29iai5pZH1gKVxuICB9XG5cbiAgLy8gQ3JlYXRlIGZvcmNlIGZpZWxkXG4gIHB1YmxpYyBjcmVhdGVGb3JjZUZpZWxkKHR5cGU6IEZvcmNlRmllbGRbJ3R5cGUnXSkge1xuICAgIGNvbnN0IGZpZWxkOiBGb3JjZUZpZWxkID0ge1xuICAgICAgaWQ6IGBmaWVsZF8ke3R5cGV9XyR7RGF0ZS5ub3coKX1gLFxuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSg4LCAyLCA4KSxcbiAgICAgIHJhZGl1czogNSxcbiAgICAgIHN0cmVuZ3RoOiAxMCxcbiAgICAgIGRpcmVjdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMSwgMCksXG4gICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgIGFmZmVjdGVkT2JqZWN0czogQXJyYXkuZnJvbSh0aGlzLm9iamVjdHMua2V5cygpKS5maWx0ZXIoaWQgPT4gaWQgIT09ICdncm91bmRfcGxhbmUnKVxuICAgIH1cblxuICAgIHRoaXMuZm9yY2VGaWVsZHMuc2V0KGZpZWxkLmlkLCBmaWVsZClcblxuICAgIGNvbnNvbGUubG9nKGBcdTI2QTEgQ3JlYXRlZCAke3R5cGV9IGZvcmNlIGZpZWxkOiAke2ZpZWxkLmlkfWApXG4gIH1cblxuICAvLyBDcmVhdGUgZXhwbG9zaW9uXG4gIHB1YmxpYyBjcmVhdGVFeHBsb3Npb24oKSB7XG4gICAgY29uc3QgZXhwbG9zaW9uUG9zID0gVmVjdG9yMy5jcmVhdGUoOCwgMiwgOClcbiAgICBjb25zdCBleHBsb3Npb25Gb3JjZSA9IDIwXG4gICAgY29uc3QgZXhwbG9zaW9uUmFkaXVzID0gOFxuXG4gICAgdGhpcy5vYmplY3RzLmZvckVhY2goKG9iaiwgaWQpID0+IHtcbiAgICAgIGlmIChvYmoudHlwZSA9PT0gJ3N0YXRpYycpIHJldHVyblxuXG4gICAgICBjb25zdCBkaXN0YW5jZSA9IFZlY3RvcjMuZGlzdGFuY2Uob2JqLnBvc2l0aW9uLCBleHBsb3Npb25Qb3MpXG4gICAgICBpZiAoZGlzdGFuY2UgPD0gZXhwbG9zaW9uUmFkaXVzKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IFZlY3RvcjMubm9ybWFsaXplKFZlY3RvcjMuc3VidHJhY3Qob2JqLnBvc2l0aW9uLCBleHBsb3Npb25Qb3MpKVxuICAgICAgICBjb25zdCBmb3JjZSA9IFZlY3RvcjMuc2NhbGUoZGlyZWN0aW9uLCBleHBsb3Npb25Gb3JjZSAqICgxIC0gZGlzdGFuY2UgLyBleHBsb3Npb25SYWRpdXMpKVxuXG4gICAgICAgIG9iai52ZWxvY2l0eSA9IFZlY3RvcjMuYWRkKG9iai52ZWxvY2l0eSwgZm9yY2UpXG4gICAgICB9XG4gICAgfSlcblxuICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdleHBsb3Npb24nKVxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURDQTUgRXhwbG9zaW9uIGNyZWF0ZWQhJylcbiAgfVxuXG4gIC8vIENyZWF0ZSBzcHJpbmcgY29uc3RyYWludFxuICBwdWJsaWMgY3JlYXRlU3ByaW5nQ29uc3RyYWludCgpIHtcbiAgICBjb25zdCBvYmplY3RJZHMgPSBBcnJheS5mcm9tKHRoaXMub2JqZWN0cy5rZXlzKCkpLmZpbHRlcihpZCA9PiBpZCAhPT0gJ2dyb3VuZF9wbGFuZScpXG4gICAgaWYgKG9iamVjdElkcy5sZW5ndGggPCAyKSByZXR1cm5cblxuICAgIGNvbnN0IGNvbnN0cmFpbnQ6IENvbnN0cmFpbnQgPSB7XG4gICAgICBpZDogYGNvbnN0cmFpbnRfc3ByaW5nXyR7RGF0ZS5ub3coKX1gLFxuICAgICAgdHlwZTogJ3NwcmluZycsXG4gICAgICBvYmplY3RBOiBvYmplY3RJZHNbMF0sXG4gICAgICBvYmplY3RCOiBvYmplY3RJZHNbMV0sXG4gICAgICBwb3NpdGlvbkE6IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDApLFxuICAgICAgcG9zaXRpb25COiBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwKSxcbiAgICAgIG1pbkRpc3RhbmNlOiAyLFxuICAgICAgc3RyZW5ndGg6IDUsXG4gICAgICBkYW1waW5nOiAwLjVcbiAgICB9XG5cbiAgICB0aGlzLmNvbnN0cmFpbnRzLnNldChjb25zdHJhaW50LmlkLCBjb25zdHJhaW50KVxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0NcdURGMDAgQ3JlYXRlZCBzcHJpbmcgY29uc3RyYWludDogJHtjb25zdHJhaW50LmlkfWApXG4gIH1cblxuICAvLyBDcmVhdGUgaGluZ2UgY29uc3RyYWludFxuICBwdWJsaWMgY3JlYXRlSGluZ2VDb25zdHJhaW50KCkge1xuICAgIGNvbnN0IG9iamVjdElkcyA9IEFycmF5LmZyb20odGhpcy5vYmplY3RzLmtleXMoKSkuZmlsdGVyKGlkID0+IGlkICE9PSAnZ3JvdW5kX3BsYW5lJylcbiAgICBpZiAob2JqZWN0SWRzLmxlbmd0aCA8IDIpIHJldHVyblxuXG4gICAgY29uc3QgY29uc3RyYWludDogQ29uc3RyYWludCA9IHtcbiAgICAgIGlkOiBgY29uc3RyYWludF9oaW5nZV8ke0RhdGUubm93KCl9YCxcbiAgICAgIHR5cGU6ICdoaW5nZScsXG4gICAgICBvYmplY3RBOiBvYmplY3RJZHNbMF0sXG4gICAgICBvYmplY3RCOiBvYmplY3RJZHNbMV0sXG4gICAgICBwb3NpdGlvbkE6IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDApLFxuICAgICAgcG9zaXRpb25COiBWZWN0b3IzLmNyZWF0ZSgxLCAwLCAwKSxcbiAgICAgIGxpbWl0czoge1xuICAgICAgICBtaW5Sb3RhdGlvbjogVmVjdG9yMy5jcmVhdGUoLTQ1LCAwLCAwKSxcbiAgICAgICAgbWF4Um90YXRpb246IFZlY3RvcjMuY3JlYXRlKDQ1LCAwLCAwKVxuICAgICAgfSxcbiAgICAgIHN0cmVuZ3RoOiAxMCxcbiAgICAgIGRhbXBpbmc6IDAuNVxuICAgIH1cblxuICAgIHRoaXMuY29uc3RyYWludHMuc2V0KGNvbnN0cmFpbnQuaWQsIGNvbnN0cmFpbnQpXG4gICAgY29uc29sZS5sb2coYFx1RDgzRFx1REVBQSBDcmVhdGVkIGhpbmdlIGNvbnN0cmFpbnQ6ICR7Y29uc3RyYWludC5pZH1gKVxuICB9XG5cbiAgLy8gQ3JlYXRlIGZpeGVkIGNvbnN0cmFpbnRcbiAgcHVibGljIGNyZWF0ZUZpeGVkQ29uc3RyYWludCgpIHtcbiAgICBjb25zdCBvYmplY3RJZHMgPSBBcnJheS5mcm9tKHRoaXMub2JqZWN0cy5rZXlzKCkpLmZpbHRlcihpZCA9PiBpZCAhPT0gJ2dyb3VuZF9wbGFuZScpXG4gICAgaWYgKG9iamVjdElkcy5sZW5ndGggPCAyKSByZXR1cm5cblxuICAgIGNvbnN0IGNvbnN0cmFpbnQ6IENvbnN0cmFpbnQgPSB7XG4gICAgICBpZDogYGNvbnN0cmFpbnRfZml4ZWRfJHtEYXRlLm5vdygpfWAsXG4gICAgICB0eXBlOiAnZml4ZWQnLFxuICAgICAgb2JqZWN0QTogb2JqZWN0SWRzWzBdLFxuICAgICAgb2JqZWN0Qjogb2JqZWN0SWRzWzFdLFxuICAgICAgcG9zaXRpb25BOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwKSxcbiAgICAgIHBvc2l0aW9uQjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMCksXG4gICAgICBzdHJlbmd0aDogMTAwLFxuICAgICAgZGFtcGluZzogMVxuICAgIH1cblxuICAgIHRoaXMuY29uc3RyYWludHMuc2V0KGNvbnN0cmFpbnQuaWQsIGNvbnN0cmFpbnQpXG4gICAgY29uc29sZS5sb2coYFx1RDgzRFx1REQxMiBDcmVhdGVkIGZpeGVkIGNvbnN0cmFpbnQ6ICR7Y29uc3RyYWludC5pZH1gKVxuICB9XG5cbiAgLy8gSW50ZXJhY3Qgd2l0aCBvYmplY3RcbiAgcHJpdmF0ZSBpbnRlcmFjdFdpdGhPYmplY3Qob2JqZWN0SWQ6IHN0cmluZykge1xuICAgIGNvbnN0IG9iaiA9IHRoaXMub2JqZWN0cy5nZXQob2JqZWN0SWQpXG4gICAgaWYgKCFvYmogfHwgb2JqLnR5cGUgPT09ICdzdGF0aWMnKSByZXR1cm5cblxuICAgIC8vIEFwcGx5IHJhbmRvbSBpbXB1bHNlXG4gICAgY29uc3QgaW1wdWxzZSA9IFZlY3RvcjMuY3JlYXRlKFxuICAgICAgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMTAsXG4gICAgICBNYXRoLnJhbmRvbSgpICogMTAsXG4gICAgICAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAxMFxuICAgIClcblxuICAgIG9iai52ZWxvY2l0eSA9IFZlY3RvcjMuYWRkKG9iai52ZWxvY2l0eSwgaW1wdWxzZSlcblxuICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdpbXBhY3QnKVxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURDNEEgQXBwbGllZCBpbXB1bHNlIHRvICR7b2JqZWN0SWR9YClcbiAgfVxuXG4gIC8vIENsZWFyIGFsbCBvYmplY3RzXG4gIHB1YmxpYyBjbGVhckFsbE9iamVjdHMoKSB7XG4gICAgdGhpcy5vYmplY3RzLmZvckVhY2goKG9iaiwgaWQpID0+IHtcbiAgICAgIGlmIChpZCAhPT0gJ2dyb3VuZF9wbGFuZScpIHtcbiAgICAgICAgdGhpcy5vYmplY3RzLmRlbGV0ZShpZClcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgdGhpcy5mb3JjZUZpZWxkcy5jbGVhcigpXG4gICAgdGhpcy5jb25zdHJhaW50cy5jbGVhcigpXG4gICAgdGhpcy5jb2xsaXNpb25zLmNsZWFyKClcblxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURERDFcdUZFMEYgQ2xlYXJlZCBhbGwgcGh5c2ljcyBvYmplY3RzJylcbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgnY2xpY2snKVxuICB9XG5cbiAgLy8gR2V0IHBoeXNpY3Mgb2JqZWN0c1xuICBwdWJsaWMgZ2V0T2JqZWN0cygpOiBQaHlzaWNzT2JqZWN0W10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMub2JqZWN0cy52YWx1ZXMoKSlcbiAgfVxuXG4gIC8vIEdldCBmb3JjZSBmaWVsZHNcbiAgcHVibGljIGdldEZvcmNlRmllbGRzKCk6IEZvcmNlRmllbGRbXSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5mb3JjZUZpZWxkcy52YWx1ZXMoKSlcbiAgfVxuXG4gIC8vIEdldCBjb25zdHJhaW50c1xuICBwdWJsaWMgZ2V0Q29uc3RyYWludHMoKTogQ29uc3RyYWludFtdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmNvbnN0cmFpbnRzLnZhbHVlcygpKVxuICB9XG5cbiAgLy8gU2V0IGdyYXZpdHlcbiAgcHVibGljIHNldEdyYXZpdHkoZ3Jhdml0eTogVmVjdG9yMykge1xuICAgIHRoaXMuZ3Jhdml0eSA9IGdyYXZpdHlcbiAgICBjb25zb2xlLmxvZyhgXHVEODNDXHVERjBEIEdyYXZpdHkgc2V0IHRvOiAoJHtncmF2aXR5Lnh9LCAke2dyYXZpdHkueX0sICR7Z3Jhdml0eS56fSlgKVxuICB9XG5cbiAgLy8gQ2xlYW51cCBzeXN0ZW1cbiAgcHVibGljIGNsZWFudXAoKSB7XG4gICAgdGhpcy5vYmplY3RzLmNsZWFyKClcbiAgICB0aGlzLm1hdGVyaWFscy5jbGVhcigpXG4gICAgdGhpcy5mb3JjZUZpZWxkcy5jbGVhcigpXG4gICAgdGhpcy5jb25zdHJhaW50cy5jbGVhcigpXG4gICAgdGhpcy5jb2xsaXNpb25zLmNsZWFyKClcblxuICAgIGlmICh0aGlzLnBoeXNpY3NVSSkge1xuICAgICAgZW5naW5lLnJlbW92ZUVudGl0eSh0aGlzLnBoeXNpY3NVSSlcbiAgICB9XG5cbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSBmYWxzZVxuICB9XG59XG5cbi8vIEV4cG9ydCBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBwaHlzaWNzU3lzdGVtID0gbmV3IFBoeXNpY3NJbnRlcmFjdGlvblN5c3RlbSgpXG4iLCAiLy8gUHJvY2VkdXJhbCBHZW5lcmF0aW9uIGZvciBJbmZpbml0ZSBTcGFjZXMgKFNpbXBsaWZpZWQpXG5pbXBvcnQgeyBlbmdpbmUsIElucHV0QWN0aW9uLCBNYXRlcmlhbCwgTWVzaFJlbmRlcmVyLCBwb2ludGVyRXZlbnRzU3lzdGVtLCBUcmFuc2Zvcm0gfSBmcm9tICdAZGNsL3Nkay9lY3MnXG5pbXBvcnQgeyBDb2xvcjQsIFZlY3RvcjMgfSBmcm9tICdAZGNsL3Nkay9tYXRoJ1xuaW1wb3J0IHsgc291bmRTeXN0ZW0gfSBmcm9tICcuL2VuaGFuY2VkLXNvdW5kJ1xuXG5pbnRlcmZhY2UgUHJvY2VkdXJhbENodW5rIHtcbiAgaWQ6IHN0cmluZ1xuICBwb3NpdGlvbjogVmVjdG9yM1xuICBiaW9tZTogJ29mZmljZScgfCAndGVjaCcgfCAnbmF0dXJlJyB8ICdhYnN0cmFjdCdcbiAgc3RydWN0dXJlczogYW55W11cbiAgZW50aXRpZXM6IGFueVtdXG4gIGlzTG9hZGVkOiBib29sZWFuXG59XG5cbmV4cG9ydCBjbGFzcyBQcm9jZWR1cmFsR2VuZXJhdGlvblN5c3RlbSB7XG4gIHByaXZhdGUgY2h1bmtzOiBNYXA8c3RyaW5nLCBQcm9jZWR1cmFsQ2h1bms+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgZ2VuZXJhdGlvblVJOiBhbnlcbiAgcHJpdmF0ZSBpc0luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2VcbiAgcHJpdmF0ZSBjaHVua1NpemU6IG51bWJlciA9IDMyXG4gIHByaXZhdGUgcmVuZGVyRGlzdGFuY2U6IG51bWJlciA9IDJcblxuICBpbml0aWFsaXplKCkge1xuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0NcdURGMEQgUHJvY2VkdXJhbCBHZW5lcmF0aW9uIFN5c3RlbSBJbml0aWFsaXppbmcuLi4nKVxuXG4gICAgdGhpcy5jcmVhdGVHZW5lcmF0aW9uVUkoKVxuICAgIHRoaXMuc3RhcnRHZW5lcmF0aW9uRW5naW5lKClcbiAgICB0aGlzLmdlbmVyYXRlSW5pdGlhbENodW5rcygpXG5cbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlXG4gICAgY29uc29sZS5sb2coJ1x1RDgzQ1x1REYwRCBQcm9jZWR1cmFsIEdlbmVyYXRpb24gU3lzdGVtIFJlYWR5IScpXG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUdlbmVyYXRpb25VSSgpIHtcbiAgICB0aGlzLmdlbmVyYXRpb25VSSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUodGhpcy5nZW5lcmF0aW9uVUksIHtcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgxNCwgMywgOCksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMywgMiwgMC4xKVxuICAgIH0pXG4gICAgTWVzaFJlbmRlcmVyLnNldEJveCh0aGlzLmdlbmVyYXRpb25VSSlcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbCh0aGlzLmdlbmVyYXRpb25VSSwge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjIsIDAuNCwgMC45KSxcbiAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4yLCAwLjQsIDAuOCwgMC41KSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAyXG4gICAgfSlcblxuICAgIGNvbnN0IHRpdGxlID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZSh0aXRsZSwge1xuICAgICAgcGFyZW50OiB0aGlzLmdlbmVyYXRpb25VSSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLjcsIDAuMSksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4zLCAwLjMsIDAuMylcbiAgICB9KVxuICAgIFRleHRTaGFwZS5jcmVhdGUodGl0bGUsIHtcbiAgICAgIHRleHQ6ICdcdUQ4M0NcdURGMEQgSU5GSU5JVEUgV09STEQnLFxuICAgICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDEsIDEsIDEpLFxuICAgICAgZm9udFNpemU6IDIsXG4gICAgICB0ZXh0QWxpZ246IDNcbiAgICB9KVxuXG4gICAgY29uc3QgY29udHJvbHMgPSBbXG4gICAgICB7IGlkOiAnZ2VuZXJhdGUnLCBpY29uOiAnXHVEODNDXHVERkIyJywgbmFtZTogJ0dlbmVyYXRlJyB9LFxuICAgICAgeyBpZDogJ2V4cGFuZCcsIGljb246ICdcdTI3OTUnLCBuYW1lOiAnRXhwYW5kJyB9LFxuICAgICAgeyBpZDogJ3Jlc2V0JywgaWNvbjogJ1x1RDgzRFx1REREMVx1RkUwRicsIG5hbWU6ICdSZXNldCcgfVxuICAgIF1cblxuICAgIGxldCB4T2Zmc2V0ID0gLTAuNlxuICAgIGNvbnRyb2xzLmZvckVhY2goY29udHJvbCA9PiB7XG4gICAgICBjb25zdCBidXR0b24gPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIFRyYW5zZm9ybS5jcmVhdGUoYnV0dG9uLCB7XG4gICAgICAgIHBhcmVudDogdGhpcy5nZW5lcmF0aW9uVUksXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSh4T2Zmc2V0LCAwLCAwLjEpLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4zLCAwLjMsIDAuMSlcbiAgICAgIH0pXG4gICAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGJ1dHRvbilcbiAgICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGJ1dHRvbiwge1xuICAgICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjMsIDAuNiwgMC44LCAxKSxcbiAgICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjMsIDAuNiwgMC44LCAwLjUpLFxuICAgICAgICBlbWlzc2l2ZUludGVuc2l0eTogMlxuICAgICAgfSlcblxuICAgICAgY29uc3QgYnV0dG9uVGV4dCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgVHJhbnNmb3JtLmNyZWF0ZShidXR0b25UZXh0LCB7XG4gICAgICAgIHBhcmVudDogYnV0dG9uLFxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMC4xKSxcbiAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuNSwgMC41LCAwLjUpXG4gICAgICB9KVxuICAgICAgVGV4dFNoYXBlLmNyZWF0ZShidXR0b25UZXh0LCB7XG4gICAgICAgIHRleHQ6IGNvbnRyb2wuaWNvbixcbiAgICAgICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDEsIDEsIDEpLFxuICAgICAgICBmb250U2l6ZTogMixcbiAgICAgICAgdGV4dEFsaWduOiAzXG4gICAgICB9KVxuXG4gICAgICBwb2ludGVyRXZlbnRzU3lzdGVtLm9uUG9pbnRlckRvd24oXG4gICAgICAgIHsgZW50aXR5OiBidXR0b24sIG9wdHM6IHsgYnV0dG9uOiBJbnB1dEFjdGlvbi5JQV9QT0lOVEVSLCBob3ZlclRleHQ6IGNvbnRyb2wubmFtZSB9IH0sXG4gICAgICAgICgpID0+IHRoaXMuaGFuZGxlQ29udHJvbChjb250cm9sLmlkKVxuICAgICAgKVxuXG4gICAgICB4T2Zmc2V0ICs9IDAuNlxuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUNvbnRyb2woY29udHJvbElkOiBzdHJpbmcpIHtcbiAgICBzd2l0Y2ggKGNvbnRyb2xJZCkge1xuICAgICAgY2FzZSAnZ2VuZXJhdGUnOlxuICAgICAgICB0aGlzLmdlbmVyYXRlTmV3Q2h1bmsoKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnZXhwYW5kJzpcbiAgICAgICAgdGhpcy5leHBhbmRXb3JsZCgpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdyZXNldCc6XG4gICAgICAgIHRoaXMucmVzZXRXb3JsZCgpXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdjbGljaycpXG4gIH1cblxuICBwcml2YXRlIHN0YXJ0R2VuZXJhdGlvbkVuZ2luZSgpIHtcbiAgICBlbmdpbmUuYWRkU3lzdGVtKCgpID0+IHtcbiAgICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkKSByZXR1cm5cbiAgICAgIHRoaXMudXBkYXRlQ2h1bmtzKClcbiAgICB9KVxuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZUluaXRpYWxDaHVua3MoKSB7XG4gICAgZm9yIChsZXQgeCA9IC0xOyB4IDw9IDE7IHgrKykge1xuICAgICAgZm9yIChsZXQgeiA9IC0xOyB6IDw9IDE7IHorKykge1xuICAgICAgICB0aGlzLmdlbmVyYXRlQ2h1bmsoeCwgeilcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlQ2h1bmsoeDogbnVtYmVyLCB6OiBudW1iZXIpIHtcbiAgICBjb25zdCBjaHVua0lkID0gYGNodW5rXyR7eH1fJHt6fWBcbiAgICBjb25zdCBiaW9tZXM6IFByb2NlZHVyYWxDaHVua1snYmlvbWUnXVtdID0gWydvZmZpY2UnLCAndGVjaCcsICduYXR1cmUnLCAnYWJzdHJhY3QnXVxuICAgIGNvbnN0IGJpb21lID0gYmlvbWVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGJpb21lcy5sZW5ndGgpXVxuXG4gICAgY29uc3QgY2h1bms6IFByb2NlZHVyYWxDaHVuayA9IHtcbiAgICAgIGlkOiBjaHVua0lkLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKHggKiB0aGlzLmNodW5rU2l6ZSwgMCwgeiAqIHRoaXMuY2h1bmtTaXplKSxcbiAgICAgIGJpb21lOiBiaW9tZSxcbiAgICAgIHN0cnVjdHVyZXM6IFtdLFxuICAgICAgZW50aXRpZXM6IFtdLFxuICAgICAgaXNMb2FkZWQ6IGZhbHNlXG4gICAgfVxuXG4gICAgdGhpcy5jaHVua3Muc2V0KGNodW5rSWQsIGNodW5rKVxuICAgIHRoaXMuZ2VuZXJhdGVDaHVua0NvbnRlbnQoY2h1bmspXG4gICAgY29uc29sZS5sb2coYFx1RDgzQ1x1REYwRCBHZW5lcmF0ZWQgY2h1bmsgJHtjaHVua0lkfSAoJHtiaW9tZX0pYClcbiAgICByZXR1cm4gY2h1bmtcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVDaHVua0NvbnRlbnQoY2h1bms6IFByb2NlZHVyYWxDaHVuaykge1xuICAgIC8vIEdlbmVyYXRlIHN0cnVjdHVyZXMgYmFzZWQgb24gYmlvbWVcbiAgICBjb25zdCBzdHJ1Y3R1cmVDb3VudCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpICsgMVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RydWN0dXJlQ291bnQ7IGkrKykge1xuICAgICAgY29uc3Qgc3RydWN0dXJlID0ge1xuICAgICAgICBpZDogYHN0cnVjdF8ke2NodW5rLmlkfV8ke2l9YCxcbiAgICAgICAgdHlwZTogY2h1bmsuYmlvbWUgPT09ICdvZmZpY2UnID8gJ2J1aWxkaW5nJyA6ICdkZWNvcmF0aW9uJyxcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKFxuICAgICAgICAgIGNodW5rLnBvc2l0aW9uLnggKyBNYXRoLnJhbmRvbSgpICogdGhpcy5jaHVua1NpemUsXG4gICAgICAgICAgMixcbiAgICAgICAgICBjaHVuay5wb3NpdGlvbi56ICsgTWF0aC5yYW5kb20oKSAqIHRoaXMuY2h1bmtTaXplXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGNodW5rLnN0cnVjdHVyZXMucHVzaChzdHJ1Y3R1cmUpXG4gICAgfVxuXG4gICAgLy8gR2VuZXJhdGUgZW50aXRpZXNcbiAgICBjb25zdCBlbnRpdHlDb3VudCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUpICsgMlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW50aXR5Q291bnQ7IGkrKykge1xuICAgICAgY29uc3QgZW50aXR5ID0ge1xuICAgICAgICBpZDogYGVudGl0eV8ke2NodW5rLmlkfV8ke2l9YCxcbiAgICAgICAgdHlwZTogY2h1bmsuYmlvbWUgPT09ICduYXR1cmUnID8gJ3BsYW50JyA6ICdvYmplY3QnLFxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoXG4gICAgICAgICAgY2h1bmsucG9zaXRpb24ueCArIE1hdGgucmFuZG9tKCkgKiB0aGlzLmNodW5rU2l6ZSxcbiAgICAgICAgICAxLFxuICAgICAgICAgIGNodW5rLnBvc2l0aW9uLnogKyBNYXRoLnJhbmRvbSgpICogdGhpcy5jaHVua1NpemVcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgY2h1bmsuZW50aXRpZXMucHVzaChlbnRpdHkpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVDaHVua3MoKSB7XG4gICAgdGhpcy5jaHVua3MuZm9yRWFjaChjaHVuayA9PiB7XG4gICAgICBpZiAoIWNodW5rLmlzTG9hZGVkKSB7XG4gICAgICAgIHRoaXMubG9hZENodW5rKGNodW5rKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIGxvYWRDaHVuayhjaHVuazogUHJvY2VkdXJhbENodW5rKSB7XG4gICAgLy8gQ3JlYXRlIHRlcnJhaW5cbiAgICBjb25zdCB0ZXJyYWluID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZSh0ZXJyYWluLCB7XG4gICAgICBwb3NpdGlvbjogY2h1bmsucG9zaXRpb24sXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUodGhpcy5jaHVua1NpemUsIDAuMSwgdGhpcy5jaHVua1NpemUpXG4gICAgfSlcbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KHRlcnJhaW4pXG5cbiAgICBjb25zdCBiaW9tZUNvbG9yID0gdGhpcy5nZXRCaW9tZUNvbG9yKGNodW5rLmJpb21lKVxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKHRlcnJhaW4sIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBiaW9tZUNvbG9yLFxuICAgICAgcm91Z2huZXNzOiAwLjgsXG4gICAgICBtZXRhbGxpYzogMC4xXG4gICAgfSlcblxuICAgIC8vIENyZWF0ZSBzdHJ1Y3R1cmVzXG4gICAgY2h1bmsuc3RydWN0dXJlcy5mb3JFYWNoKHN0cnVjdHVyZSA9PiB7XG4gICAgICBjb25zdCBzdHJ1Y3RFbnRpdHkgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIFRyYW5zZm9ybS5jcmVhdGUoc3RydWN0RW50aXR5LCB7XG4gICAgICAgIHBvc2l0aW9uOiBzdHJ1Y3R1cmUucG9zaXRpb24sXG4gICAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgyLCA0LCAyKVxuICAgICAgfSlcbiAgICAgIE1lc2hSZW5kZXJlci5zZXRCb3goc3RydWN0RW50aXR5KVxuICAgICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoc3RydWN0RW50aXR5LCB7XG4gICAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuNywgMC43LCAwLjcsIDEpLFxuICAgICAgICByb3VnaG5lc3M6IDAuMyxcbiAgICAgICAgbWV0YWxsaWM6IDAuNVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgLy8gQ3JlYXRlIGVudGl0aWVzXG4gICAgY2h1bmsuZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4ge1xuICAgICAgY29uc3QgZW50aXR5RW50aXR5ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgICBUcmFuc2Zvcm0uY3JlYXRlKGVudGl0eUVudGl0eSwge1xuICAgICAgICBwb3NpdGlvbjogZW50aXR5LnBvc2l0aW9uLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC41LCAxLCAwLjUpXG4gICAgICB9KVxuICAgICAgTWVzaFJlbmRlcmVyLnNldFNwaGVyZShlbnRpdHlFbnRpdHkpXG4gICAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChlbnRpdHlFbnRpdHksIHtcbiAgICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4yLCAwLjgsIDAuMiwgMSksXG4gICAgICAgIHJvdWdobmVzczogMC41LFxuICAgICAgICBtZXRhbGxpYzogMC4xXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBjaHVuay5pc0xvYWRlZCA9IHRydWVcbiAgfVxuXG4gIHByaXZhdGUgZ2V0QmlvbWVDb2xvcihiaW9tZTogUHJvY2VkdXJhbENodW5rWydiaW9tZSddKTogQ29sb3I0IHtcbiAgICBzd2l0Y2ggKGJpb21lKSB7XG4gICAgICBjYXNlICdvZmZpY2UnOiByZXR1cm4gQ29sb3I0LmNyZWF0ZSgwLjYsIDAuNiwgMC43LCAxKVxuICAgICAgY2FzZSAndGVjaCc6IHJldHVybiBDb2xvcjQuY3JlYXRlKDAuMiwgMC40LCAwLjgsIDEpXG4gICAgICBjYXNlICduYXR1cmUnOiByZXR1cm4gQ29sb3I0LmNyZWF0ZSgwLjIsIDAuOCwgMC4yLCAxKVxuICAgICAgY2FzZSAnYWJzdHJhY3QnOiByZXR1cm4gQ29sb3I0LmNyZWF0ZSgwLjgsIDAuMiwgMC44LCAxKVxuICAgICAgZGVmYXVsdDogcmV0dXJuIENvbG9yNC5jcmVhdGUoMC41LCAwLjUsIDAuNSwgMSlcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlTmV3Q2h1bmsoKSB7XG4gICAgY29uc3QgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKSAtIDVcbiAgICBjb25zdCB6ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApIC0gNVxuICAgIHRoaXMuZ2VuZXJhdGVDaHVuayh4LCB6KVxuICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdwb3dlcnVwJylcbiAgfVxuXG4gIHByaXZhdGUgZXhwYW5kV29ybGQoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgIGNvbnN0IHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyMCkgLSAxMFxuICAgICAgY29uc3QgeiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIwKSAtIDEwXG4gICAgICB0aGlzLmdlbmVyYXRlQ2h1bmsoeCwgeilcbiAgICB9XG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ3Bvd2VydXAnKVxuICB9XG5cbiAgcHJpdmF0ZSByZXNldFdvcmxkKCkge1xuICAgIHRoaXMuY2h1bmtzLmZvckVhY2goY2h1bmsgPT4ge1xuICAgICAgY2h1bmsuaXNMb2FkZWQgPSBmYWxzZVxuICAgIH0pXG4gICAgdGhpcy5jaHVua3MuY2xlYXIoKVxuICAgIHRoaXMuZ2VuZXJhdGVJbml0aWFsQ2h1bmtzKClcbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgnY2xpY2snKVxuICB9XG5cbiAgcHVibGljIGdldENodW5rcygpOiBQcm9jZWR1cmFsQ2h1bmtbXSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5jaHVua3MudmFsdWVzKCkpXG4gIH1cblxuICBwdWJsaWMgY2xlYW51cCgpIHtcbiAgICB0aGlzLmNodW5rcy5jbGVhcigpXG4gICAgaWYgKHRoaXMuZ2VuZXJhdGlvblVJKSB7XG4gICAgICBlbmdpbmUucmVtb3ZlRW50aXR5KHRoaXMuZ2VuZXJhdGlvblVJKVxuICAgIH1cbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSBmYWxzZVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBwcm9jZWR1cmFsU3lzdGVtID0gbmV3IFByb2NlZHVyYWxHZW5lcmF0aW9uU3lzdGVtKClcbiIsICIvLyBSZXNwb25zaXZlIFVJIFN5c3RlbSB3aXRoIFRvdWNoIEdlc3R1cmVzIGZvciBBSUdlc3Rpb24gVmlydHVhbCBPZmZpY2VcbmltcG9ydCB7IGVuZ2luZSwgSW5wdXRBY3Rpb24sIE1hdGVyaWFsLCBNZXNoUmVuZGVyZXIsIHBvaW50ZXJFdmVudHNTeXN0ZW0sIFRleHRTaGFwZSwgVHJhbnNmb3JtIH0gZnJvbSAnQGRjbC9zZGsvZWNzJ1xuaW1wb3J0IHsgc2V0VGltZW91dCwgc2V0SW50ZXJ2YWwgfSBmcm9tICcuL3V0aWxzL3RpbWVycydcbmltcG9ydCB7IENvbG9yNCwgVmVjdG9yMyB9IGZyb20gJ0BkY2wvc2RrL21hdGgnXG5pbXBvcnQgeyBzb3VuZFN5c3RlbSB9IGZyb20gJy4vZW5oYW5jZWQtc291bmQnXG5cbmludGVyZmFjZSBVSUNvbXBvbmVudCB7XG4gIGlkOiBzdHJpbmdcbiAgZW50aXR5OiBhbnlcbiAgdHlwZTogJ2J1dHRvbicgfCAncGFuZWwnIHwgJ3NsaWRlcicgfCAndG9nZ2xlJyB8ICdpbnB1dCdcbiAgcG9zaXRpb246IFZlY3RvcjNcbiAgc2l6ZTogVmVjdG9yM1xuICB2aXNpYmxlOiBib29sZWFuXG4gIGludGVyYWN0aXZlOiBib29sZWFuXG4gIGdlc3R1cmVIYW5kbGVyczogTWFwPHN0cmluZywgRnVuY3Rpb24+XG59XG5cbmludGVyZmFjZSBHZXN0dXJlRGF0YSB7XG4gIHR5cGU6ICd0YXAnIHwgJ3N3aXBlJyB8ICdwaW5jaCcgfCAncm90YXRlJyB8ICdsb25nUHJlc3MnXG4gIHN0YXJ0UG9zaXRpb246IFZlY3RvcjNcbiAgY3VycmVudFBvc2l0aW9uOiBWZWN0b3IzXG4gIHN0YXJ0VGltZTogbnVtYmVyXG4gIGR1cmF0aW9uOiBudW1iZXJcbiAgdmVsb2NpdHk6IFZlY3RvcjNcbiAgZGlzdGFuY2U6IG51bWJlclxufVxuXG5pbnRlcmZhY2UgVG91Y2hQb2ludCB7XG4gIGlkOiBudW1iZXJcbiAgcG9zaXRpb246IFZlY3RvcjNcbiAgdGltZXN0YW1wOiBudW1iZXJcbiAgcHJlc3N1cmU6IG51bWJlclxufVxuXG5leHBvcnQgY2xhc3MgUmVzcG9uc2l2ZVVJU3lzdGVtIHtcbiAgcHJpdmF0ZSBjb21wb25lbnRzOiBNYXA8c3RyaW5nLCBVSUNvbXBvbmVudD4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSB0b3VjaFBvaW50czogTWFwPG51bWJlciwgVG91Y2hQb2ludD4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBhY3RpdmVHZXN0dXJlczogTWFwPHN0cmluZywgR2VzdHVyZURhdGE+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgZ2VzdHVyZVRocmVzaG9sZHMgPSB7XG4gICAgdGFwOiB7IG1heER1cmF0aW9uOiAzMDAsIG1heERpc3RhbmNlOiAwLjEgfSxcbiAgICBsb25nUHJlc3M6IHsgbWluRHVyYXRpb246IDUwMCwgbWF4RGlzdGFuY2U6IDAuMSB9LFxuICAgIHN3aXBlOiB7IG1pblZlbG9jaXR5OiAwLjUsIG1pbkRpc3RhbmNlOiAwLjUgfSxcbiAgICBwaW5jaDogeyBtaW5TY2FsZTogMC44LCBtYXhTY2FsZTogMS4yIH0sXG4gICAgcm90YXRlOiB7IG1pbkFuZ2xlOiAxNSB9XG4gIH1cbiAgcHJpdmF0ZSBpc0luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2VcblxuICAvLyBJbml0aWFsaXplIHRoZSBVSSBzeXN0ZW1cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVEQ0YxIFJlc3BvbnNpdmUgVUkgU3lzdGVtIEluaXRpYWxpemluZy4uLicpXG5cbiAgICB0aGlzLmNyZWF0ZU1haW5VSSgpXG4gICAgdGhpcy5zZXR1cEdlc3R1cmVSZWNvZ25pdGlvbigpXG4gICAgdGhpcy5zdGFydEFuaW1hdGlvbkxvb3AoKVxuXG4gICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZVxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURDRjEgUmVzcG9uc2l2ZSBVSSBTeXN0ZW0gUmVhZHkhJylcbiAgfVxuXG4gIC8vIENyZWF0ZSBtYWluIFVJIGludGVyZmFjZVxuICBwcml2YXRlIGNyZWF0ZU1haW5VSSgpIHtcbiAgICAvLyBDcmVhdGUgZmxvYXRpbmcgY29udHJvbCBwYW5lbFxuICAgIHRoaXMuY3JlYXRlRmxvYXRpbmdQYW5lbCgpXG5cbiAgICAvLyBDcmVhdGUgZ2VzdHVyZSB0dXRvcmlhbFxuICAgIHRoaXMuY3JlYXRlR2VzdHVyZVR1dG9yaWFsKClcblxuICAgIC8vIENyZWF0ZSByZXNwb25zaXZlIGJ1dHRvbnNcbiAgICB0aGlzLmNyZWF0ZVJlc3BvbnNpdmVCdXR0b25zKClcblxuICAgIC8vIENyZWF0ZSB0b3VjaCBmZWVkYmFjayBzeXN0ZW1cbiAgICB0aGlzLmNyZWF0ZVRvdWNoRmVlZGJhY2soKVxuICB9XG5cbiAgLy8gQ3JlYXRlIGZsb2F0aW5nIGNvbnRyb2wgcGFuZWxcbiAgcHJpdmF0ZSBjcmVhdGVGbG9hdGluZ1BhbmVsKCkge1xuICAgIGNvbnN0IHBhbmVsID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZShwYW5lbCwge1xuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDgsIDMsIDIpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDQsIDIsIDAuMSlcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRCb3gocGFuZWwpXG4gICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwocGFuZWwsIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMSwgMC4xLCAwLjIsIDAuOSksXG4gICAgICByb3VnaG5lc3M6IDAuMixcbiAgICAgIG1ldGFsbGljOiAwLjgsXG4gICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMiwgMC4zLCAwLjYsIDAuNSksXG4gICAgICBlbWlzc2l2ZUludGVuc2l0eTogMlxuICAgIH0pXG5cbiAgICAvLyBQYW5lbCB0aXRsZVxuICAgIGNvbnN0IHRpdGxlID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZSh0aXRsZSwge1xuICAgICAgcGFyZW50OiBwYW5lbCxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLjcsIDAuMSksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4zLCAwLjMsIDAuMylcbiAgICB9KVxuICAgIFRleHRTaGFwZS5jcmVhdGUodGl0bGUsIHtcbiAgICAgIHRleHQ6ICdcdUQ4M0NcdURGQUUgQ09OVFJPTCBQQU5FTCcsXG4gICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMC44LCAwLjgsIDEsIDEpLFxuICAgICAgZm9udFNpemU6IDMsXG4gICAgICB0ZXh0QWxpZ246IDNcbiAgICB9KVxuXG4gICAgLy8gQWRkIGdlc3R1cmUgaGFuZGxlcnMgZm9yIHBhbmVsXG4gICAgdGhpcy5hZGRDb21wb25lbnQoJ21haW5QYW5lbCcsIHtcbiAgICAgIGlkOiAnbWFpblBhbmVsJyxcbiAgICAgIGVudGl0eTogcGFuZWwsXG4gICAgICB0eXBlOiAncGFuZWwnLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDgsIDMsIDIpLFxuICAgICAgc2l6ZTogVmVjdG9yMy5jcmVhdGUoNCwgMiwgMC4xKSxcbiAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICBpbnRlcmFjdGl2ZTogdHJ1ZSxcbiAgICAgIGdlc3R1cmVIYW5kbGVyczogbmV3IE1hcChbXG4gICAgICAgIFsnZHJhZycsIHRoaXMuaGFuZGxlUGFuZWxEcmFnLmJpbmQodGhpcyldLFxuICAgICAgICBbJ3BpbmNoJywgdGhpcy5oYW5kbGVQYW5lbFBpbmNoLmJpbmQodGhpcyldLFxuICAgICAgICBbJ2RvdWJsZVRhcCcsIHRoaXMuaGFuZGxlUGFuZWxEb3VibGVUYXAuYmluZCh0aGlzKV1cbiAgICAgIF0pXG4gICAgfSlcbiAgfVxuXG4gIC8vIENyZWF0ZSBnZXN0dXJlIHR1dG9yaWFsXG4gIHByaXZhdGUgY3JlYXRlR2VzdHVyZVR1dG9yaWFsKCkge1xuICAgIGNvbnN0IHR1dG9yaWFsID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZSh0dXRvcmlhbCwge1xuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDE0LCA0LCAyKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgyLCAzLCAwLjEpXG4gICAgfSlcbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KHR1dG9yaWFsKVxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKHR1dG9yaWFsLCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuMSwgMC4zLCAwLjgpLFxuICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjQsIDAuMiwgMC42LCAwLjQpLFxuICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDFcbiAgICB9KVxuXG4gICAgY29uc3QgdHV0b3JpYWxUZXh0ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZSh0dXRvcmlhbFRleHQsIHtcbiAgICAgIHBhcmVudDogdHV0b3JpYWwsXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjIsIDAuMiwgMC4yKVxuICAgIH0pXG4gICAgVGV4dFNoYXBlLmNyZWF0ZSh0dXRvcmlhbFRleHQsIHtcbiAgICAgIHRleHQ6ICdcdUQ4M0RcdURDNDYgVEFQXFxuXHVEODNFXHVERDFBIFNXSVBFXFxuXHVEODNFXHVERDBGIFBJTkNIXFxuXHVEODNEXHVERDA0IFJPVEFURVxcblx1MjNGMCBMT05HIFBSRVNTJyxcbiAgICAgIHRleHRDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAxLCAwLjgsIDEpLFxuICAgICAgZm9udFNpemU6IDIsXG4gICAgICB0ZXh0QWxpZ246IDNcbiAgICB9KVxuXG4gICAgdGhpcy5hZGRDb21wb25lbnQoJ2dlc3R1cmVUdXRvcmlhbCcsIHtcbiAgICAgIGlkOiAnZ2VzdHVyZVR1dG9yaWFsJyxcbiAgICAgIGVudGl0eTogdHV0b3JpYWwsXG4gICAgICB0eXBlOiAncGFuZWwnLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDE0LCA0LCAyKSxcbiAgICAgIHNpemU6IFZlY3RvcjMuY3JlYXRlKDIsIDMsIDAuMSksXG4gICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgaW50ZXJhY3RpdmU6IHRydWUsXG4gICAgICBnZXN0dXJlSGFuZGxlcnM6IG5ldyBNYXAoW1xuICAgICAgICBbJ3RhcCcsIHRoaXMuaGFuZGxlVHV0b3JpYWxUYXAuYmluZCh0aGlzKV1cbiAgICAgIF0pXG4gICAgfSlcbiAgfVxuXG4gIC8vIENyZWF0ZSByZXNwb25zaXZlIGJ1dHRvbnNcbiAgcHJpdmF0ZSBjcmVhdGVSZXNwb25zaXZlQnV0dG9ucygpIHtcbiAgICBjb25zdCBidXR0b25Db25maWdzID0gW1xuICAgICAgeyBpZDogJ2J0bkxpZ2h0cycsIGxhYmVsOiAnXHVEODNEXHVEQ0ExJywgcG9zOiBWZWN0b3IzLmNyZWF0ZSgyLCAxLjUsIDIpLCBjb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAwLjgsIDAuMiwgMSkgfSxcbiAgICAgIHsgaWQ6ICdidG5Tb3VuZCcsIGxhYmVsOiAnXHVEODNEXHVERDBBJywgcG9zOiBWZWN0b3IzLmNyZWF0ZSgzLCAxLjUsIDIpLCBjb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuOCwgMSwgMSkgfSxcbiAgICAgIHsgaWQ6ICdidG5EYXRhJywgbGFiZWw6ICdcdUQ4M0RcdURDQ0EnLCBwb3M6IFZlY3RvcjMuY3JlYXRlKDQsIDEuNSwgMiksIGNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuOCwgMC4yLCAxLCAxKSB9LFxuICAgICAgeyBpZDogJ2J0bk5QQycsIGxhYmVsOiAnXHVEODNFXHVERDE2JywgcG9zOiBWZWN0b3IzLmNyZWF0ZSg1LCAxLjUsIDIpLCBjb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDEsIDAuOCwgMSkgfVxuICAgIF1cblxuICAgIGJ1dHRvbkNvbmZpZ3MuZm9yRWFjaChjb25maWcgPT4ge1xuICAgICAgY29uc3QgYnV0dG9uID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgICBUcmFuc2Zvcm0uY3JlYXRlKGJ1dHRvbiwge1xuICAgICAgICBwb3NpdGlvbjogY29uZmlnLnBvcyxcbiAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuNCwgMC40LCAwLjEpXG4gICAgICB9KVxuICAgICAgTWVzaFJlbmRlcmVyLnNldEJveChidXR0b24pXG4gICAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChidXR0b24sIHtcbiAgICAgICAgYWxiZWRvQ29sb3I6IGNvbmZpZy5jb2xvcixcbiAgICAgICAgcm91Z2huZXNzOiAwLjEsXG4gICAgICAgIG1ldGFsbGljOiAwLjksXG4gICAgICAgIGVtaXNzaXZlQ29sb3I6IGNvbmZpZy5jb2xvcixcbiAgICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDJcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IGJ1dHRvblRleHQgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgIFRyYW5zZm9ybS5jcmVhdGUoYnV0dG9uVGV4dCwge1xuICAgICAgICBwYXJlbnQ6IGJ1dHRvbixcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDAuMSksXG4gICAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjUsIDAuNSwgMC41KVxuICAgICAgfSlcbiAgICAgIFRleHRTaGFwZS5jcmVhdGUoYnV0dG9uVGV4dCwge1xuICAgICAgICB0ZXh0OiBjb25maWcubGFiZWwsXG4gICAgICAgIHRleHRDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAxLCAxLCAxKSxcbiAgICAgICAgZm9udFNpemU6IDQsXG4gICAgICAgIHRleHRBbGlnbjogM1xuICAgICAgfSlcblxuICAgICAgdGhpcy5hZGRDb21wb25lbnQoY29uZmlnLmlkLCB7XG4gICAgICAgIGlkOiBjb25maWcuaWQsXG4gICAgICAgIGVudGl0eTogYnV0dG9uLFxuICAgICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICAgICAgcG9zaXRpb246IGNvbmZpZy5wb3MsXG4gICAgICAgIHNpemU6IFZlY3RvcjMuY3JlYXRlKDAuNCwgMC40LCAwLjEpLFxuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICBpbnRlcmFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgZ2VzdHVyZUhhbmRsZXJzOiBuZXcgTWFwKFtcbiAgICAgICAgICBbJ3RhcCcsICgpID0+IHRoaXMuaGFuZGxlQnV0dG9uVGFwKGNvbmZpZy5pZCldLFxuICAgICAgICAgIFsnbG9uZ1ByZXNzJywgKCkgPT4gdGhpcy5oYW5kbGVCdXR0b25Mb25nUHJlc3MoY29uZmlnLmlkKV0sXG4gICAgICAgICAgWydzd2lwZScsIChkaXJlY3Rpb246IFZlY3RvcjMpID0+IHRoaXMuaGFuZGxlQnV0dG9uU3dpcGUoY29uZmlnLmlkLCBkaXJlY3Rpb24pXVxuICAgICAgICBdKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgLy8gQ3JlYXRlIHRvdWNoIGZlZWRiYWNrIHN5c3RlbVxuICBwcml2YXRlIGNyZWF0ZVRvdWNoRmVlZGJhY2soKSB7XG4gICAgLy8gQ3JlYXRlIHJpcHBsZSBlZmZlY3QgZW50aXR5XG4gICAgY29uc3QgcmlwcGxlRWZmZWN0ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZShyaXBwbGVFZmZlY3QsIHtcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAtMTAsIDApLCAvLyBIaWRkZW4gaW5pdGlhbGx5XG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4xLCAwLjEsIDAuMSlcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRTcGhlcmUocmlwcGxlRWZmZWN0KVxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKHJpcHBsZUVmZmVjdCwge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC41LCAwLjgsIDEsIDAuNiksXG4gICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuNSwgMC44LCAxLCAwLjgpLFxuICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDNcbiAgICB9KVxuXG4gICAgdGhpcy5hZGRDb21wb25lbnQoJ3RvdWNoRmVlZGJhY2snLCB7XG4gICAgICBpZDogJ3RvdWNoRmVlZGJhY2snLFxuICAgICAgZW50aXR5OiByaXBwbGVFZmZlY3QsXG4gICAgICB0eXBlOiAncGFuZWwnLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIC0xMCwgMCksXG4gICAgICBzaXplOiBWZWN0b3IzLmNyZWF0ZSgwLjEsIDAuMSwgMC4xKSxcbiAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgaW50ZXJhY3RpdmU6IGZhbHNlLFxuICAgICAgZ2VzdHVyZUhhbmRsZXJzOiBuZXcgTWFwKClcbiAgICB9KVxuICB9XG5cbiAgLy8gU2V0dXAgZ2VzdHVyZSByZWNvZ25pdGlvbiBzeXN0ZW1cbiAgcHJpdmF0ZSBzZXR1cEdlc3R1cmVSZWNvZ25pdGlvbigpIHtcbiAgICAvLyBUcmFjayBwb2ludGVyIGV2ZW50cyBmb3IgZ2VzdHVyZSByZWNvZ25pdGlvblxuICAgIHBvaW50ZXJFdmVudHNTeXN0ZW0ub25Qb2ludGVyRG93bihcbiAgICAgIHsgZW50aXR5OiBlbmdpbmUuUm9vdEVudGl0eSwgb3B0czogeyBidXR0b246IElucHV0QWN0aW9uLklBX1BPSU5URVIgfSB9LFxuICAgICAgKGUpID0+IHRoaXMuaGFuZGxlVG91Y2hTdGFydChlKVxuICAgIClcblxuICAgIHBvaW50ZXJFdmVudHNTeXN0ZW0ub25Qb2ludGVyVXAoXG4gICAgICB7IGVudGl0eTogZW5naW5lLlJvb3RFbnRpdHksIG9wdHM6IHsgYnV0dG9uOiBJbnB1dEFjdGlvbi5JQV9QT0lOVEVSIH0gfSxcbiAgICAgIChlKSA9PiB0aGlzLmhhbmRsZVRvdWNoRW5kKGUpXG4gICAgKVxuXG4gICAgLy8gQWRkIGhvdmVyIGRldGVjdGlvbiBmb3IgaW50ZXJhY3RpdmUgY29tcG9uZW50c1xuICAgIGVuZ2luZS5hZGRTeXN0ZW0oKCkgPT4ge1xuICAgICAgdGhpcy51cGRhdGVIb3ZlclN0YXRlcygpXG4gICAgfSlcbiAgfVxuXG4gIC8vIEhhbmRsZSB0b3VjaCBzdGFydFxuICBwcml2YXRlIGhhbmRsZVRvdWNoU3RhcnQoZXZlbnQ6IGFueSkge1xuICAgIGNvbnN0IHRvdWNoUG9pbnQ6IFRvdWNoUG9pbnQgPSB7XG4gICAgICBpZDogRGF0ZS5ub3coKSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZShldmVudC5oaXQuaGl0UG9pbnQueCwgZXZlbnQuaGl0LmhpdFBvaW50LnksIGV2ZW50LmhpdC5oaXRQb2ludC56KSxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIHByZXNzdXJlOiAxLjBcbiAgICB9XG5cbiAgICB0aGlzLnRvdWNoUG9pbnRzLnNldCh0b3VjaFBvaW50LmlkLCB0b3VjaFBvaW50KVxuXG4gICAgLy8gU3RhcnQgcG90ZW50aWFsIGdlc3R1cmVzXG4gICAgdGhpcy5zdGFydEdlc3R1cmVEZXRlY3Rpb24odG91Y2hQb2ludClcblxuICAgIC8vIFNob3cgaW1tZWRpYXRlIGZlZWRiYWNrXG4gICAgdGhpcy5zaG93VG91Y2hGZWVkYmFjayh0b3VjaFBvaW50LnBvc2l0aW9uKVxuICB9XG5cbiAgLy8gSGFuZGxlIHRvdWNoIGVuZFxuICBwcml2YXRlIGhhbmRsZVRvdWNoRW5kKGV2ZW50OiBhbnkpIHtcbiAgICBjb25zdCB0b3VjaFBvaW50ID0gQXJyYXkuZnJvbSh0aGlzLnRvdWNoUG9pbnRzLnZhbHVlcygpKS5wb3AoKVxuICAgIGlmICghdG91Y2hQb2ludCkgcmV0dXJuXG5cbiAgICBjb25zdCBlbmRQb3NpdGlvbiA9IFZlY3RvcjMuY3JlYXRlKGV2ZW50LmhpdC5oaXRQb2ludC54LCBldmVudC5oaXQuaGl0UG9pbnQueSwgZXZlbnQuaGl0LmhpdFBvaW50LnopXG4gICAgY29uc3QgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gdG91Y2hQb2ludC50aW1lc3RhbXBcbiAgICBjb25zdCBkaXN0YW5jZSA9IFZlY3RvcjMuZGlzdGFuY2UodG91Y2hQb2ludC5wb3NpdGlvbiwgZW5kUG9zaXRpb24pXG5cbiAgICAvLyBEZXRlY3QgYW5kIHRyaWdnZXIgZ2VzdHVyZXNcbiAgICB0aGlzLmRldGVjdEFuZFRyaWdnZXJHZXN0dXJlKHRvdWNoUG9pbnQsIGVuZFBvc2l0aW9uLCBkdXJhdGlvbiwgZGlzdGFuY2UpXG5cbiAgICAvLyBDbGVhbiB1cFxuICAgIHRoaXMudG91Y2hQb2ludHMuZGVsZXRlKHRvdWNoUG9pbnQuaWQpXG4gICAgdGhpcy5oaWRlVG91Y2hGZWVkYmFjaygpXG4gIH1cblxuICAvLyBTdGFydCBnZXN0dXJlIGRldGVjdGlvblxuICBwcml2YXRlIHN0YXJ0R2VzdHVyZURldGVjdGlvbih0b3VjaFBvaW50OiBUb3VjaFBvaW50KSB7XG4gICAgLy8gU3RhcnQgbG9uZyBwcmVzcyB0aW1lclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMudG91Y2hQb2ludHMuaGFzKHRvdWNoUG9pbnQuaWQpKSB7XG4gICAgICAgIHRoaXMudHJpZ2dlckdlc3R1cmUoJ2xvbmdQcmVzcycsIHRvdWNoUG9pbnQucG9zaXRpb24sIHRvdWNoUG9pbnQucG9zaXRpb24sIERhdGUubm93KCkgLSB0b3VjaFBvaW50LnRpbWVzdGFtcCwgMClcbiAgICAgIH1cbiAgICB9LCB0aGlzLmdlc3R1cmVUaHJlc2hvbGRzLmxvbmdQcmVzcy5taW5EdXJhdGlvbilcbiAgfVxuXG4gIC8vIERldGVjdCBhbmQgdHJpZ2dlciBnZXN0dXJlc1xuICBwcml2YXRlIGRldGVjdEFuZFRyaWdnZXJHZXN0dXJlKHN0YXJ0UG9pbnQ6IFRvdWNoUG9pbnQsIGVuZFBvc2l0aW9uOiBWZWN0b3IzLCBkdXJhdGlvbjogbnVtYmVyLCBkaXN0YW5jZTogbnVtYmVyKSB7XG4gICAgLy8gVGFwIGRldGVjdGlvblxuICAgIGlmIChkdXJhdGlvbiA8PSB0aGlzLmdlc3R1cmVUaHJlc2hvbGRzLnRhcC5tYXhEdXJhdGlvbiAmJiBkaXN0YW5jZSA8PSB0aGlzLmdlc3R1cmVUaHJlc2hvbGRzLnRhcC5tYXhEaXN0YW5jZSkge1xuICAgICAgdGhpcy50cmlnZ2VyR2VzdHVyZSgndGFwJywgc3RhcnRQb2ludC5wb3NpdGlvbiwgZW5kUG9zaXRpb24sIGR1cmF0aW9uLCBkaXN0YW5jZSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIFN3aXBlIGRldGVjdGlvblxuICAgIGNvbnN0IHZlbG9jaXR5ID0gZGlzdGFuY2UgLyBkdXJhdGlvbiAqIDEwMDBcbiAgICBpZiAodmVsb2NpdHkgPj0gdGhpcy5nZXN0dXJlVGhyZXNob2xkcy5zd2lwZS5taW5WZWxvY2l0eSAmJiBkaXN0YW5jZSA+PSB0aGlzLmdlc3R1cmVUaHJlc2hvbGRzLnN3aXBlLm1pbkRpc3RhbmNlKSB7XG4gICAgICBjb25zdCBkaXJlY3Rpb24gPSBWZWN0b3IzLnN1YnRyYWN0KGVuZFBvc2l0aW9uLCBzdGFydFBvaW50LnBvc2l0aW9uKS5ub3JtYWxpemUoKVxuICAgICAgdGhpcy50cmlnZ2VyR2VzdHVyZSgnc3dpcGUnLCBzdGFydFBvaW50LnBvc2l0aW9uLCBlbmRQb3NpdGlvbiwgZHVyYXRpb24sIGRpc3RhbmNlLCBkaXJlY3Rpb24pXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBMb25nIHByZXNzIGRldGVjdGlvbiAoaGFuZGxlZCBieSB0aW1lcilcbiAgICBpZiAoZHVyYXRpb24gPj0gdGhpcy5nZXN0dXJlVGhyZXNob2xkcy5sb25nUHJlc3MubWluRHVyYXRpb24gJiYgZGlzdGFuY2UgPD0gdGhpcy5nZXN0dXJlVGhyZXNob2xkcy5sb25nUHJlc3MubWF4RGlzdGFuY2UpIHtcbiAgICAgIHRoaXMudHJpZ2dlckdlc3R1cmUoJ2xvbmdQcmVzcycsIHN0YXJ0UG9pbnQucG9zaXRpb24sIGVuZFBvc2l0aW9uLCBkdXJhdGlvbiwgZGlzdGFuY2UpXG4gICAgfVxuICB9XG5cbiAgLy8gVHJpZ2dlciBnZXN0dXJlIG9uIGNvbXBvbmVudHNcbiAgcHJpdmF0ZSB0cmlnZ2VyR2VzdHVyZSh0eXBlOiBzdHJpbmcsIHN0YXJ0UG9zOiBWZWN0b3IzLCBlbmRQb3M6IFZlY3RvcjMsIGR1cmF0aW9uOiBudW1iZXIsIGRpc3RhbmNlOiBudW1iZXIsIGRpcmVjdGlvbj86IFZlY3RvcjMpIHtcbiAgICB0aGlzLmNvbXBvbmVudHMuZm9yRWFjaCgoY29tcG9uZW50KSA9PiB7XG4gICAgICBpZiAoIWNvbXBvbmVudC5pbnRlcmFjdGl2ZSB8fCAhY29tcG9uZW50LnZpc2libGUpIHJldHVyblxuXG4gICAgICAvLyBDaGVjayBpZiBnZXN0dXJlIGlzIHdpdGhpbiBjb21wb25lbnQgYm91bmRzXG4gICAgICBpZiAodGhpcy5pc1BvaW50SW5Db21wb25lbnQoZW5kUG9zLCBjb21wb25lbnQpKSB7XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBjb21wb25lbnQuZ2VzdHVyZUhhbmRsZXJzLmdldCh0eXBlKVxuICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdjbGljaycpXG4gICAgICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgaGFuZGxlcihkaXJlY3Rpb24pXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhhbmRsZXIoKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvLyBDaGVjayBpZiBwb2ludCBpcyB3aXRoaW4gY29tcG9uZW50IGJvdW5kc1xuICBwcml2YXRlIGlzUG9pbnRJbkNvbXBvbmVudChwb2ludDogVmVjdG9yMywgY29tcG9uZW50OiBVSUNvbXBvbmVudCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGhhbGZTaXplID0gVmVjdG9yMy5zY2FsZShjb21wb25lbnQuc2l6ZSwgMC41KVxuICAgIGNvbnN0IG1pbkJvdW5kcyA9IFZlY3RvcjMuc3VidHJhY3QoY29tcG9uZW50LnBvc2l0aW9uLCBoYWxmU2l6ZSlcbiAgICBjb25zdCBtYXhCb3VuZHMgPSBWZWN0b3IzLmFkZChjb21wb25lbnQucG9zaXRpb24sIGhhbGZTaXplKVxuXG4gICAgcmV0dXJuIHBvaW50LnggPj0gbWluQm91bmRzLnggJiYgcG9pbnQueCA8PSBtYXhCb3VuZHMueCAmJlxuICAgICAgcG9pbnQueSA+PSBtaW5Cb3VuZHMueSAmJiBwb2ludC55IDw9IG1heEJvdW5kcy55ICYmXG4gICAgICBwb2ludC56ID49IG1pbkJvdW5kcy56ICYmIHBvaW50LnogPD0gbWF4Qm91bmRzLnpcbiAgfVxuXG4gIC8vIFNob3cgdG91Y2ggZmVlZGJhY2tcbiAgcHJpdmF0ZSBzaG93VG91Y2hGZWVkYmFjayhwb3NpdGlvbjogVmVjdG9yMykge1xuICAgIGNvbnN0IGZlZWRiYWNrID0gdGhpcy5jb21wb25lbnRzLmdldCgndG91Y2hGZWVkYmFjaycpXG4gICAgaWYgKGZlZWRiYWNrKSB7XG4gICAgICBjb25zdCB0cmFuc2Zvcm0gPSBUcmFuc2Zvcm0uZ2V0TXV0YWJsZShmZWVkYmFjay5lbnRpdHkpXG4gICAgICB0cmFuc2Zvcm0ucG9zaXRpb24gPSBwb3NpdGlvblxuICAgICAgdHJhbnNmb3JtLnNjYWxlID0gVmVjdG9yMy5jcmVhdGUoMC4xLCAwLjEsIDAuMSlcblxuICAgICAgLy8gQW5pbWF0ZSByaXBwbGVcbiAgICAgIHRoaXMuYW5pbWF0ZVJpcHBsZShmZWVkYmFjay5lbnRpdHkpXG4gICAgfVxuICB9XG5cbiAgLy8gSGlkZSB0b3VjaCBmZWVkYmFja1xuICBwcml2YXRlIGhpZGVUb3VjaEZlZWRiYWNrKCkge1xuICAgIGNvbnN0IGZlZWRiYWNrID0gdGhpcy5jb21wb25lbnRzLmdldCgndG91Y2hGZWVkYmFjaycpXG4gICAgaWYgKGZlZWRiYWNrKSB7XG4gICAgICBjb25zdCB0cmFuc2Zvcm0gPSBUcmFuc2Zvcm0uZ2V0TXV0YWJsZShmZWVkYmFjay5lbnRpdHkpXG4gICAgICB0cmFuc2Zvcm0ucG9zaXRpb24gPSBWZWN0b3IzLmNyZWF0ZSgwLCAtMTAsIDApIC8vIEhpZGUgb2ZmLXNjcmVlblxuICAgIH1cbiAgfVxuXG4gIC8vIEFuaW1hdGUgcmlwcGxlIGVmZmVjdFxuICBwcml2YXRlIGFuaW1hdGVSaXBwbGUoZW50aXR5OiBhbnkpIHtcbiAgICBsZXQgc2NhbGUgPSAwLjFcbiAgICBsZXQgb3BhY2l0eSA9IDEuMFxuXG4gICAgY29uc3QgYW5pbWF0ZSA9ICgpID0+IHtcbiAgICAgIHNjYWxlICs9IDAuMDJcbiAgICAgIG9wYWNpdHkgLT0gMC4wMlxuXG4gICAgICBjb25zdCB0cmFuc2Zvcm0gPSBUcmFuc2Zvcm0uZ2V0TXV0YWJsZShlbnRpdHkpXG4gICAgICB0cmFuc2Zvcm0uc2NhbGUgPSBWZWN0b3IzLmNyZWF0ZShzY2FsZSwgc2NhbGUsIHNjYWxlKVxuXG4gICAgICBjb25zdCBtYXRlcmlhbCA9IE1hdGVyaWFsLmdldE11dGFibGUoZW50aXR5KVxuICAgICAgaWYgKG1hdGVyaWFsICYmIG1hdGVyaWFsLiRjYXNlID09PSAncGJyJykge1xuICAgICAgICBtYXRlcmlhbC5wYnIuYWxiZWRvQ29sb3IgPSBDb2xvcjQuY3JlYXRlKDAuNSwgMC44LCAxLCBvcGFjaXR5KVxuICAgICAgfVxuXG4gICAgICBpZiAob3BhY2l0eSA+IDApIHtcbiAgICAgICAgc2V0VGltZW91dChhbmltYXRlLCAxNilcbiAgICAgIH1cbiAgICB9XG5cbiAgICBhbmltYXRlKClcbiAgfVxuXG4gIC8vIEdlc3R1cmUgaGFuZGxlcnNcbiAgcHJpdmF0ZSBoYW5kbGVQYW5lbERyYWcoKSB7XG4gICAgY29uc29sZS5sb2coJ1x1RDgzQ1x1REZBRSBQYW5lbCBkcmFnZ2VkJylcbiAgICAvLyBJbXBsZW1lbnQgcGFuZWwgZHJhZ2dpbmcgbG9naWNcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlUGFuZWxQaW5jaCgpIHtcbiAgICBjb25zb2xlLmxvZygnXHVEODNDXHVERkFFIFBhbmVsIHBpbmNoZWQnKVxuICAgIC8vIEltcGxlbWVudCBwYW5lbCBzY2FsaW5nIGxvZ2ljXG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVBhbmVsRG91YmxlVGFwKCkge1xuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0NcdURGQUUgUGFuZWwgZG91YmxlLXRhcHBlZCcpXG4gICAgLy8gSW1wbGVtZW50IHBhbmVsIHJlc2V0IGxvZ2ljXG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVR1dG9yaWFsVGFwKCkge1xuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURDREEgVHV0b3JpYWwgdGFwcGVkJylcbiAgICAvLyBTaG93IGRldGFpbGVkIGdlc3R1cmUgaW5zdHJ1Y3Rpb25zXG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUJ1dHRvblRhcChidXR0b25JZDogc3RyaW5nKSB7XG4gICAgY29uc29sZS5sb2coYFx1RDgzRFx1REQxOCBCdXR0b24gJHtidXR0b25JZH0gdGFwcGVkYClcblxuICAgIHN3aXRjaCAoYnV0dG9uSWQpIHtcbiAgICAgIGNhc2UgJ2J0bkxpZ2h0cyc6XG4gICAgICAgIHRoaXMudG9nZ2xlTGlnaHRzKClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2J0blNvdW5kJzpcbiAgICAgICAgdGhpcy50b2dnbGVTb3VuZCgpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdidG5EYXRhJzpcbiAgICAgICAgdGhpcy50b2dnbGVEYXRhVmlzdWFsaXphdGlvbigpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdidG5OUEMnOlxuICAgICAgICB0aGlzLnRvZ2dsZU5QQ3MoKVxuICAgICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlQnV0dG9uTG9uZ1ByZXNzKGJ1dHRvbklkOiBzdHJpbmcpIHtcbiAgICBjb25zb2xlLmxvZyhgXHUyM0YwIEJ1dHRvbiAke2J1dHRvbklkfSBsb25nLXByZXNzZWRgKVxuICAgIC8vIFNob3cgYWR2YW5jZWQgb3B0aW9ucyBmb3IgYnV0dG9uXG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUJ1dHRvblN3aXBlKGJ1dHRvbklkOiBzdHJpbmcsIGRpcmVjdGlvbjogVmVjdG9yMykge1xuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURDNDYgQnV0dG9uICR7YnV0dG9uSWR9IHN3aXBlZCAke2RpcmVjdGlvbn1gKVxuICAgIC8vIEhhbmRsZSBzd2lwZSBnZXN0dXJlcyBvbiBidXR0b25zXG4gIH1cblxuICAvLyBDb250cm9sIGZ1bmN0aW9uc1xuICBwcml2YXRlIHRvZ2dsZUxpZ2h0cygpIHtcbiAgICAvLyBUb2dnbGUgbGlnaHRpbmcgc3lzdGVtXG4gICAgY29uc29sZS5sb2coJ1x1RDgzRFx1RENBMSBMaWdodHMgdG9nZ2xlZCcpXG4gIH1cblxuICBwcml2YXRlIHRvZ2dsZVNvdW5kKCkge1xuICAgIC8vIFRvZ2dsZSBzb3VuZCBzeXN0ZW1cbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVERDBBIFNvdW5kIHRvZ2dsZWQnKVxuICB9XG5cbiAgcHJpdmF0ZSB0b2dnbGVEYXRhVmlzdWFsaXphdGlvbigpIHtcbiAgICAvLyBUb2dnbGUgZGF0YSB2aXN1YWxpemF0aW9uXG4gICAgY29uc29sZS5sb2coJ1x1RDgzRFx1RENDQSBEYXRhIHZpc3VhbGl6YXRpb24gdG9nZ2xlZCcpXG4gIH1cblxuICBwcml2YXRlIHRvZ2dsZU5QQ3MoKSB7XG4gICAgLy8gVG9nZ2xlIE5QQyBzeXN0ZW1cbiAgICBjb25zb2xlLmxvZygnXHVEODNFXHVERDE2IE5QQ3MgdG9nZ2xlZCcpXG4gIH1cblxuICAvLyBVcGRhdGUgaG92ZXIgc3RhdGVzXG4gIHByaXZhdGUgdXBkYXRlSG92ZXJTdGF0ZXMoKSB7XG4gICAgdGhpcy5jb21wb25lbnRzLmZvckVhY2goKGNvbXBvbmVudCkgPT4ge1xuICAgICAgaWYgKCFjb21wb25lbnQuaW50ZXJhY3RpdmUgfHwgIWNvbXBvbmVudC52aXNpYmxlKSByZXR1cm5cblxuICAgICAgLy8gQ2hlY2sgZm9yIGhvdmVyIHN0YXRlIGFuZCB1cGRhdGUgYXBwZWFyYW5jZVxuICAgICAgY29uc3QgbWF0ZXJpYWwgPSBNYXRlcmlhbC5nZXRNdXRhYmxlKGNvbXBvbmVudC5lbnRpdHkpXG4gICAgICBpZiAobWF0ZXJpYWwgJiYgbWF0ZXJpYWwuJGNhc2UgPT09ICdwYnInKSB7XG4gICAgICAgIC8vIEFkZCBob3ZlciBnbG93IGVmZmVjdFxuICAgICAgICBjb25zdCB0aW1lID0gRGF0ZS5ub3coKSAvIDEwMDBcbiAgICAgICAgY29uc3QgcHVsc2UgPSBNYXRoLnNpbih0aW1lICogMykgKiAwLjEgKyAwLjlcbiAgICAgICAgbWF0ZXJpYWwucGJyLmVtaXNzaXZlSW50ZW5zaXR5ID0gcHVsc2UgKiAyXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8vIFN0YXJ0IGFuaW1hdGlvbiBsb29wXG4gIHByaXZhdGUgc3RhcnRBbmltYXRpb25Mb29wKCkge1xuICAgIGVuZ2luZS5hZGRTeXN0ZW0oKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmlzSW5pdGlhbGl6ZWQpIHJldHVyblxuXG4gICAgICAvLyBVcGRhdGUgVUkgYW5pbWF0aW9uc1xuICAgICAgdGhpcy51cGRhdGVVSUFuaW1hdGlvbnMoKVxuICAgIH0pXG4gIH1cblxuICAvLyBVcGRhdGUgVUkgYW5pbWF0aW9uc1xuICBwcml2YXRlIHVwZGF0ZVVJQW5pbWF0aW9ucygpIHtcbiAgICB0aGlzLmNvbXBvbmVudHMuZm9yRWFjaCgoY29tcG9uZW50KSA9PiB7XG4gICAgICBpZiAoIWNvbXBvbmVudC52aXNpYmxlKSByZXR1cm5cblxuICAgICAgLy8gQWRkIHN1YnRsZSBmbG9hdGluZyBhbmltYXRpb24gdG8gaW50ZXJhY3RpdmUgZWxlbWVudHNcbiAgICAgIGlmIChjb21wb25lbnQuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgY29uc3QgdGltZSA9IERhdGUubm93KCkgLyAxMDAwXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IFRyYW5zZm9ybS5nZXRNdXRhYmxlKGNvbXBvbmVudC5lbnRpdHkpXG4gICAgICAgIGNvbnN0IGZsb2F0T2Zmc2V0ID0gTWF0aC5zaW4odGltZSArIGNvbXBvbmVudC5wb3NpdGlvbi54KSAqIDAuMDJcbiAgICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uLnkgPSBjb21wb25lbnQucG9zaXRpb24ueSArIGZsb2F0T2Zmc2V0XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8vIEFkZCBjb21wb25lbnQgdG8gc3lzdGVtXG4gIHByaXZhdGUgYWRkQ29tcG9uZW50KGlkOiBzdHJpbmcsIGNvbXBvbmVudDogVUlDb21wb25lbnQpIHtcbiAgICB0aGlzLmNvbXBvbmVudHMuc2V0KGlkLCBjb21wb25lbnQpXG4gIH1cblxuICAvLyBHZXQgY29tcG9uZW50IGJ5IElEXG4gIHB1YmxpYyBnZXRDb21wb25lbnQoaWQ6IHN0cmluZyk6IFVJQ29tcG9uZW50IHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnRzLmdldChpZClcbiAgfVxuXG4gIC8vIFNob3cvaGlkZSBjb21wb25lbnRcbiAgcHVibGljIHNldENvbXBvbmVudFZpc2liaWxpdHkoaWQ6IHN0cmluZywgdmlzaWJsZTogYm9vbGVhbikge1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50cy5nZXQoaWQpXG4gICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgY29tcG9uZW50LnZpc2libGUgPSB2aXNpYmxlXG4gICAgICBjb25zdCB0cmFuc2Zvcm0gPSBUcmFuc2Zvcm0uZ2V0TXV0YWJsZShjb21wb25lbnQuZW50aXR5KVxuICAgICAgaWYgKHZpc2libGUpIHtcbiAgICAgICAgdHJhbnNmb3JtLnNjYWxlID0gY29tcG9uZW50LnNpemVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYW5zZm9ybS5zY2FsZSA9IFZlY3RvcjMuY3JlYXRlKDAsIDAsIDApXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQ2xlYW51cCBzeXN0ZW1cbiAgcHVibGljIGNsZWFudXAoKSB7XG4gICAgdGhpcy5jb21wb25lbnRzLmZvckVhY2goY29tcG9uZW50ID0+IHtcbiAgICAgIGVuZ2luZS5yZW1vdmVFbnRpdHkoY29tcG9uZW50LmVudGl0eSlcbiAgICB9KVxuICAgIHRoaXMuY29tcG9uZW50cy5jbGVhcigpXG4gICAgdGhpcy50b3VjaFBvaW50cy5jbGVhcigpXG4gICAgdGhpcy5hY3RpdmVHZXN0dXJlcy5jbGVhcigpXG4gICAgdGhpcy5pc0luaXRpYWxpemVkID0gZmFsc2VcbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3QgdWlTeXN0ZW0gPSBuZXcgUmVzcG9uc2l2ZVVJU3lzdGVtKClcbiIsICIvLyBTbWFydCBSb29tIEF1dG9tYXRpb24gd2l0aCBJb1QgSW50ZWdyYXRpb24gZm9yIEFJR2VzdGlvbiBWaXJ0dWFsIE9mZmljZVxuaW1wb3J0IHsgZW5naW5lLCBJbnB1dEFjdGlvbiwgTWF0ZXJpYWwsIE1lc2hSZW5kZXJlciwgcG9pbnRlckV2ZW50c1N5c3RlbSwgVGV4dFNoYXBlLCBUcmFuc2Zvcm0gfSBmcm9tICdAZGNsL3Nkay9lY3MnXG5pbXBvcnQgeyBDb2xvcjQsIFZlY3RvcjMgfSBmcm9tICdAZGNsL3Nkay9tYXRoJ1xuaW1wb3J0IHsgc291bmRTeXN0ZW0gfSBmcm9tICcuL2VuaGFuY2VkLXNvdW5kJ1xuXG5pbnRlcmZhY2UgSW9URGV2aWNlIHtcbiAgaWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgdHlwZTogJ2xpZ2h0JyB8ICd0ZW1wZXJhdHVyZScgfCAnc2VjdXJpdHknIHwgJ2VudGVydGFpbm1lbnQnIHwgJ3Byb2R1Y3Rpdml0eScgfCAnZW5lcmd5J1xuICBzdGF0dXM6ICdvbmxpbmUnIHwgJ29mZmxpbmUnIHwgJ2Vycm9yJ1xuICB2YWx1ZTogbnVtYmVyIHwgYm9vbGVhbiB8IHN0cmluZ1xuICBwb3NpdGlvbjogVmVjdG9yM1xuICBhdXRvbWF0aW9uUnVsZXM6IEF1dG9tYXRpb25SdWxlW11cbiAgbGFzdFVwZGF0ZTogbnVtYmVyXG59XG5cbmludGVyZmFjZSBBdXRvbWF0aW9uUnVsZSB7XG4gIGlkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIHRyaWdnZXI6IFRyaWdnZXJcbiAgYWN0aW9uczogQWN0aW9uW11cbiAgZW5hYmxlZDogYm9vbGVhblxuICBwcmlvcml0eTogbnVtYmVyXG59XG5cbmludGVyZmFjZSBUcmlnZ2VyIHtcbiAgdHlwZTogJ3RpbWUnIHwgJ2RldmljZScgfCAnbW90aW9uJyB8ICd2b2ljZScgfCAnc2NoZWR1bGUnXG4gIGNvbmRpdGlvbnM6IFRyaWdnZXJDb25kaXRpb25bXVxufVxuXG5pbnRlcmZhY2UgVHJpZ2dlckNvbmRpdGlvbiB7XG4gIGRldmljZUlkOiBzdHJpbmdcbiAgcHJvcGVydHk6IHN0cmluZ1xuICBvcGVyYXRvcjogJ2VxdWFscycgfCAnZ3JlYXRlcicgfCAnbGVzcycgfCAnYmV0d2VlbidcbiAgdmFsdWU6IGFueVxufVxuXG5pbnRlcmZhY2UgQWN0aW9uIHtcbiAgdHlwZTogJ3NldERldmljZScgfCAnbm90aWZ5JyB8ICdzY2VuZScgfCAnYXV0b21hdGlvbidcbiAgdGFyZ2V0OiBzdHJpbmdcbiAgcGFyYW1ldGVyczogYW55XG59XG5cbmludGVyZmFjZSBTbWFydFNjZW5lIHtcbiAgaWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgZGVzY3JpcHRpb246IHN0cmluZ1xuICBkZXZpY2VzOiBzdHJpbmdbXVxuICBzZXR0aW5nczogTWFwPHN0cmluZywgYW55PlxuICBpY29uOiBzdHJpbmdcbn1cblxuZXhwb3J0IGNsYXNzIFNtYXJ0Um9vbVN5c3RlbSB7XG4gIHByaXZhdGUgZGV2aWNlczogTWFwPHN0cmluZywgSW9URGV2aWNlPiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIGF1dG9tYXRpb25SdWxlczogTWFwPHN0cmluZywgQXV0b21hdGlvblJ1bGU+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgc21hcnRTY2VuZXM6IE1hcDxzdHJpbmcsIFNtYXJ0U2NlbmU+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgY29udHJvbFBhbmVsOiBhbnlcbiAgcHJpdmF0ZSBpc0luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2VcbiAgcHJpdmF0ZSBjdXJyZW50U2NlbmU6IHN0cmluZyA9ICdkZWZhdWx0J1xuICBwcml2YXRlIGVuZXJneVVzYWdlOiBudW1iZXIgPSAwXG5cbiAgLy8gSW5pdGlhbGl6ZSBzbWFydCByb29tIHN5c3RlbVxuICBpbml0aWFsaXplKCkge1xuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0NcdURGRTAgU21hcnQgUm9vbSBTeXN0ZW0gSW5pdGlhbGl6aW5nLi4uJylcblxuICAgIHRoaXMuY3JlYXRlSW9URGV2aWNlcygpXG4gICAgdGhpcy5jcmVhdGVBdXRvbWF0aW9uUnVsZXMoKVxuICAgIHRoaXMuY3JlYXRlU21hcnRTY2VuZXMoKVxuICAgIHRoaXMuY3JlYXRlQ29udHJvbFBhbmVsKClcbiAgICB0aGlzLnN0YXJ0QXV0b21hdGlvbkVuZ2luZSgpXG5cbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlXG4gICAgY29uc29sZS5sb2coJ1x1RDgzQ1x1REZFMCBTbWFydCBSb29tIFN5c3RlbSBSZWFkeSEnKVxuICB9XG5cbiAgLy8gQ3JlYXRlIElvVCBkZXZpY2VzXG4gIHByaXZhdGUgY3JlYXRlSW9URGV2aWNlcygpIHtcbiAgICAvLyBTbWFydCBMaWdodHNcbiAgICB0aGlzLmNyZWF0ZURldmljZSgnbGlnaHRfbWFpbicsICdNYWluIExpZ2h0JywgJ2xpZ2h0JywgVmVjdG9yMy5jcmVhdGUoOCwgNCwgOCkpXG4gICAgdGhpcy5jcmVhdGVEZXZpY2UoJ2xpZ2h0X2Rlc2snLCAnRGVzayBMaWdodCcsICdsaWdodCcsIFZlY3RvcjMuY3JlYXRlKDQsIDIuNSwgNCkpXG4gICAgdGhpcy5jcmVhdGVEZXZpY2UoJ2xpZ2h0X21lZXRpbmcnLCAnTWVldGluZyBSb29tIExpZ2h0JywgJ2xpZ2h0JywgVmVjdG9yMy5jcmVhdGUoMTIsIDIuNSwgMTIpKVxuXG4gICAgLy8gVGVtcGVyYXR1cmUgQ29udHJvbFxuICAgIHRoaXMuY3JlYXRlRGV2aWNlKCd0ZW1wX21haW4nLCAnVGhlcm1vc3RhdCcsICd0ZW1wZXJhdHVyZScsIFZlY3RvcjMuY3JlYXRlKDgsIDMsIDIpKVxuXG4gICAgLy8gU2VjdXJpdHkgU3lzdGVtXG4gICAgdGhpcy5jcmVhdGVEZXZpY2UoJ3NlY3VyaXR5X21haW4nLCAnU2VjdXJpdHkgU3lzdGVtJywgJ3NlY3VyaXR5JywgVmVjdG9yMy5jcmVhdGUoMSwgMiwgOCkpXG4gICAgdGhpcy5jcmVhdGVEZXZpY2UoJ2NhbWVyYV9lbnRyYW5jZScsICdFbnRyYW5jZSBDYW1lcmEnLCAnc2VjdXJpdHknLCBWZWN0b3IzLmNyZWF0ZSg4LCAzLCAxNSkpXG5cbiAgICAvLyBFbnRlcnRhaW5tZW50XG4gICAgdGhpcy5jcmVhdGVEZXZpY2UoJ2VudGVydGFpbm1lbnRfZGlzcGxheScsICdTbWFydCBEaXNwbGF5JywgJ2VudGVydGFpbm1lbnQnLCBWZWN0b3IzLmNyZWF0ZSg4LCAzLCAwLjUpKVxuICAgIHRoaXMuY3JlYXRlRGV2aWNlKCdlbnRlcnRhaW5tZW50X2F1ZGlvJywgJ0F1ZGlvIFN5c3RlbScsICdlbnRlcnRhaW5tZW50JywgVmVjdG9yMy5jcmVhdGUoMTQsIDIsIDgpKVxuXG4gICAgLy8gUHJvZHVjdGl2aXR5XG4gICAgdGhpcy5jcmVhdGVEZXZpY2UoJ3Byb2R1Y3Rpdml0eV9mb2N1cycsICdGb2N1cyBNb2RlJywgJ3Byb2R1Y3Rpdml0eScsIFZlY3RvcjMuY3JlYXRlKDQsIDMsIDEyKSlcbiAgICB0aGlzLmNyZWF0ZURldmljZSgncHJvZHVjdGl2aXR5X3RpbWVyJywgJ1dvcmsgVGltZXInLCAncHJvZHVjdGl2aXR5JywgVmVjdG9yMy5jcmVhdGUoMTIsIDMsIDQpKVxuXG4gICAgLy8gRW5lcmd5IE1hbmFnZW1lbnRcbiAgICB0aGlzLmNyZWF0ZURldmljZSgnZW5lcmd5X21vbml0b3InLCAnRW5lcmd5IE1vbml0b3InLCAnZW5lcmd5JywgVmVjdG9yMy5jcmVhdGUoMiwgMywgMikpXG4gICAgdGhpcy5jcmVhdGVEZXZpY2UoJ2VuZXJneV9zb2xhcicsICdTb2xhciBQYW5lbHMnLCAnZW5lcmd5JywgVmVjdG9yMy5jcmVhdGUoMTQsIDUsIDE0KSlcbiAgfVxuXG4gIC8vIENyZWF0ZSBpbmRpdmlkdWFsIGRldmljZVxuICBwcml2YXRlIGNyZWF0ZURldmljZShpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHR5cGU6IElvVERldmljZVsndHlwZSddLCBwb3NpdGlvbjogVmVjdG9yMykge1xuICAgIGNvbnN0IGRldmljZSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUoZGV2aWNlLCB7XG4gICAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4zLCAwLjMsIDAuMylcbiAgICB9KVxuXG4gICAgbGV0IGRldmljZUNvbG9yOiBDb2xvcjRcbiAgICBsZXQgZGV2aWNlSWNvbjogc3RyaW5nXG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ2xpZ2h0JzpcbiAgICAgICAgZGV2aWNlQ29sb3IgPSBDb2xvcjQuY3JlYXRlKDEsIDAuOCwgMC4yLCAxKVxuICAgICAgICBkZXZpY2VJY29uID0gJ1x1RDgzRFx1RENBMSdcbiAgICAgICAgTWVzaFJlbmRlcmVyLnNldFNwaGVyZShkZXZpY2UpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICd0ZW1wZXJhdHVyZSc6XG4gICAgICAgIGRldmljZUNvbG9yID0gQ29sb3I0LmNyZWF0ZSgwLjIsIDAuOCwgMSwgMSlcbiAgICAgICAgZGV2aWNlSWNvbiA9ICdcdUQ4M0NcdURGMjFcdUZFMEYnXG4gICAgICAgIE1lc2hSZW5kZXJlci5zZXRCb3goZGV2aWNlKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnc2VjdXJpdHknOlxuICAgICAgICBkZXZpY2VDb2xvciA9IENvbG9yNC5jcmVhdGUoMC44LCAwLjIsIDAuMiwgMSlcbiAgICAgICAgZGV2aWNlSWNvbiA9ICdcdUQ4M0RcdURFRTFcdUZFMEYnXG4gICAgICAgIE1lc2hSZW5kZXJlci5zZXRCb3goZGV2aWNlKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnZW50ZXJ0YWlubWVudCc6XG4gICAgICAgIGRldmljZUNvbG9yID0gQ29sb3I0LmNyZWF0ZSgwLjgsIDAuMiwgMC44LCAxKVxuICAgICAgICBkZXZpY2VJY29uID0gJ1x1RDgzQ1x1REZBRSdcbiAgICAgICAgTWVzaFJlbmRlcmVyLnNldEJveChkZXZpY2UpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdwcm9kdWN0aXZpdHknOlxuICAgICAgICBkZXZpY2VDb2xvciA9IENvbG9yNC5jcmVhdGUoMC4yLCAwLjgsIDAuMiwgMSlcbiAgICAgICAgZGV2aWNlSWNvbiA9ICdcdTI2QTEnXG4gICAgICAgIE1lc2hSZW5kZXJlci5zZXRCb3goZGV2aWNlKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnZW5lcmd5JzpcbiAgICAgICAgZGV2aWNlQ29sb3IgPSBDb2xvcjQuY3JlYXRlKDEsIDAuNiwgMC4yLCAxKVxuICAgICAgICBkZXZpY2VJY29uID0gJ1x1MjZBMSdcbiAgICAgICAgTWVzaFJlbmRlcmVyLnNldEJveChkZXZpY2UpXG4gICAgICAgIGJyZWFrXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBkZXZpY2VDb2xvciA9IENvbG9yNC5jcmVhdGUoMC41LCAwLjUsIDAuNSwgMSlcbiAgICAgICAgZGV2aWNlSWNvbiA9ICdcdUQ4M0RcdURDRjEnXG4gICAgICAgIE1lc2hSZW5kZXJlci5zZXRCb3goZGV2aWNlKVxuICAgIH1cblxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGRldmljZSwge1xuICAgICAgYWxiZWRvQ29sb3I6IGRldmljZUNvbG9yLFxuICAgICAgcm91Z2huZXNzOiAwLjIsXG4gICAgICBtZXRhbGxpYzogMC44LFxuICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZShcbiAgICAgICAgZGV2aWNlQ29sb3IuciAqIDAuNSxcbiAgICAgICAgZGV2aWNlQ29sb3IuZyAqIDAuNSxcbiAgICAgICAgZGV2aWNlQ29sb3IuYiAqIDAuNSxcbiAgICAgICAgMC41XG4gICAgICApLFxuICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDFcbiAgICB9KVxuXG4gICAgLy8gRGV2aWNlIGxhYmVsXG4gICAgY29uc3QgbGFiZWwgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKGxhYmVsLCB7XG4gICAgICBwYXJlbnQ6IGRldmljZSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLjMsIDApLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMywgMC4zLCAwLjMpXG4gICAgfSlcbiAgICBUZXh0U2hhcGUuY3JlYXRlKGxhYmVsLCB7XG4gICAgICB0ZXh0OiBkZXZpY2VJY29uLFxuICAgICAgdGV4dENvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDEsIDEsIDEpLFxuICAgICAgZm9udFNpemU6IDIsXG4gICAgICB0ZXh0QWxpZ246IDNcbiAgICB9KVxuXG4gICAgLy8gU3RhdHVzIGluZGljYXRvclxuICAgIGNvbnN0IHN0YXR1c0luZGljYXRvciA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUoc3RhdHVzSW5kaWNhdG9yLCB7XG4gICAgICBwYXJlbnQ6IGRldmljZSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAtMC4yLCAwKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjEsIDAuMSwgMC4xKVxuICAgIH0pXG4gICAgTWVzaFJlbmRlcmVyLnNldFNwaGVyZShzdGF0dXNJbmRpY2F0b3IpXG4gICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoc3RhdHVzSW5kaWNhdG9yLCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLCAxLCAwLCAxKSxcbiAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMCwgMSwgMCwgMSksXG4gICAgICBlbWlzc2l2ZUludGVuc2l0eTogMlxuICAgIH0pXG5cbiAgICBjb25zdCBpb3REZXZpY2U6IElvVERldmljZSA9IHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgc3RhdHVzOiAnb25saW5lJyxcbiAgICAgIHZhbHVlOiB0eXBlID09PSAnbGlnaHQnID8gZmFsc2UgOiB0eXBlID09PSAndGVtcGVyYXR1cmUnID8gMjIgOiAwLFxuICAgICAgcG9zaXRpb246IHBvc2l0aW9uLFxuICAgICAgYXV0b21hdGlvblJ1bGVzOiBbXSxcbiAgICAgIGxhc3RVcGRhdGU6IERhdGUubm93KClcbiAgICB9XG5cbiAgICB0aGlzLmRldmljZXMuc2V0KGlkLCBpb3REZXZpY2UpXG5cbiAgICAvLyBBZGQgaW50ZXJhY3Rpb25cbiAgICBwb2ludGVyRXZlbnRzU3lzdGVtLm9uUG9pbnRlckRvd24oXG4gICAgICB7XG4gICAgICAgIGVudGl0eTogZGV2aWNlLFxuICAgICAgICBvcHRzOiB7IGJ1dHRvbjogSW5wdXRBY3Rpb24uSUFfUE9JTlRFUiwgaG92ZXJUZXh0OiBgQ29udHJvbCAke25hbWV9YCB9XG4gICAgICB9LFxuICAgICAgKCkgPT4gdGhpcy5oYW5kbGVEZXZpY2VJbnRlcmFjdGlvbihpZClcbiAgICApXG4gIH1cblxuICAvLyBDcmVhdGUgYXV0b21hdGlvbiBydWxlc1xuICBwcml2YXRlIGNyZWF0ZUF1dG9tYXRpb25SdWxlcygpIHtcbiAgICAvLyBNb3JuaW5nIHJvdXRpbmVcbiAgICB0aGlzLmNyZWF0ZUF1dG9tYXRpb25SdWxlKCdtb3JuaW5nX3JvdXRpbmUnLCAnTW9ybmluZyBSb3V0aW5lJywge1xuICAgICAgdHlwZTogJ3RpbWUnLFxuICAgICAgY29uZGl0aW9uczogW1xuICAgICAgICB7IGRldmljZUlkOiAndGVtcF9tYWluJywgcHJvcGVydHk6ICdob3VyJywgb3BlcmF0b3I6ICdlcXVhbHMnLCB2YWx1ZTogOCB9XG4gICAgICBdXG4gICAgfSwgW1xuICAgICAgeyB0eXBlOiAnc2V0RGV2aWNlJywgdGFyZ2V0OiAnbGlnaHRfbWFpbicsIHBhcmFtZXRlcnM6IHsgdmFsdWU6IHRydWUgfSB9LFxuICAgICAgeyB0eXBlOiAnc2V0RGV2aWNlJywgdGFyZ2V0OiAndGVtcF9tYWluJywgcGFyYW1ldGVyczogeyB2YWx1ZTogMjIgfSB9LFxuICAgICAgeyB0eXBlOiAnc2V0RGV2aWNlJywgdGFyZ2V0OiAnZW50ZXJ0YWlubWVudF9hdWRpbycsIHBhcmFtZXRlcnM6IHsgdmFsdWU6ICdtb3JuaW5nX3BsYXlsaXN0JyB9IH1cbiAgICBdKVxuXG4gICAgLy8gRW5lcmd5IHNhdmluZ1xuICAgIHRoaXMuY3JlYXRlQXV0b21hdGlvblJ1bGUoJ2VuZXJneV9zYXZpbmcnLCAnRW5lcmd5IFNhdmluZycsIHtcbiAgICAgIHR5cGU6ICdkZXZpY2UnLFxuICAgICAgY29uZGl0aW9uczogW1xuICAgICAgICB7IGRldmljZUlkOiAnZW5lcmd5X21vbml0b3InLCBwcm9wZXJ0eTogJ3VzYWdlJywgb3BlcmF0b3I6ICdncmVhdGVyJywgdmFsdWU6IDgwIH1cbiAgICAgIF1cbiAgICB9LCBbXG4gICAgICB7IHR5cGU6ICdzZXREZXZpY2UnLCB0YXJnZXQ6ICdsaWdodF9tYWluJywgcGFyYW1ldGVyczogeyB2YWx1ZTogZmFsc2UgfSB9LFxuICAgICAgeyB0eXBlOiAnc2V0RGV2aWNlJywgdGFyZ2V0OiAnbGlnaHRfZGVzaycsIHBhcmFtZXRlcnM6IHsgdmFsdWU6IGZhbHNlIH0gfSxcbiAgICAgIHsgdHlwZTogJ25vdGlmeScsIHRhcmdldDogJ3VzZXInLCBwYXJhbWV0ZXJzOiB7IG1lc3NhZ2U6ICdIaWdoIGVuZXJneSB1c2FnZSBkZXRlY3RlZCcgfSB9XG4gICAgXSlcblxuICAgIC8vIFNlY3VyaXR5IGFjdGl2YXRpb25cbiAgICB0aGlzLmNyZWF0ZUF1dG9tYXRpb25SdWxlKCdzZWN1cml0eV9uaWdodCcsICdOaWdodCBTZWN1cml0eScsIHtcbiAgICAgIHR5cGU6ICd0aW1lJyxcbiAgICAgIGNvbmRpdGlvbnM6IFtcbiAgICAgICAgeyBkZXZpY2VJZDogJ3RlbXBfbWFpbicsIHByb3BlcnR5OiAnaG91cicsIG9wZXJhdG9yOiAnZ3JlYXRlcicsIHZhbHVlOiAyMiB9XG4gICAgICBdXG4gICAgfSwgW1xuICAgICAgeyB0eXBlOiAnc2V0RGV2aWNlJywgdGFyZ2V0OiAnc2VjdXJpdHlfbWFpbicsIHBhcmFtZXRlcnM6IHsgdmFsdWU6ICdhcm1lZCcgfSB9LFxuICAgICAgeyB0eXBlOiAnc2V0RGV2aWNlJywgdGFyZ2V0OiAnY2FtZXJhX2VudHJhbmNlJywgcGFyYW1ldGVyczogeyB2YWx1ZTogJ3JlY29yZGluZycgfSB9XG4gICAgXSlcblxuICAgIC8vIEZvY3VzIG1vZGVcbiAgICB0aGlzLmNyZWF0ZUF1dG9tYXRpb25SdWxlKCdmb2N1c19tb2RlJywgJ0ZvY3VzIE1vZGUnLCB7XG4gICAgICB0eXBlOiAnZGV2aWNlJyxcbiAgICAgIGNvbmRpdGlvbnM6IFtcbiAgICAgICAgeyBkZXZpY2VJZDogJ3Byb2R1Y3Rpdml0eV9mb2N1cycsIHByb3BlcnR5OiAnYWN0aXZlJywgb3BlcmF0b3I6ICdlcXVhbHMnLCB2YWx1ZTogdHJ1ZSB9XG4gICAgICBdXG4gICAgfSwgW1xuICAgICAgeyB0eXBlOiAnc2V0RGV2aWNlJywgdGFyZ2V0OiAnZW50ZXJ0YWlubWVudF9hdWRpbycsIHBhcmFtZXRlcnM6IHsgdmFsdWU6IGZhbHNlIH0gfSxcbiAgICAgIHsgdHlwZTogJ3NldERldmljZScsIHRhcmdldDogJ2xpZ2h0X2Rlc2snLCBwYXJhbWV0ZXJzOiB7IHZhbHVlOiB0cnVlLCBicmlnaHRuZXNzOiAwLjggfSB9LFxuICAgICAgeyB0eXBlOiAnbm90aWZ5JywgdGFyZ2V0OiAndXNlcicsIHBhcmFtZXRlcnM6IHsgbWVzc2FnZTogJ0ZvY3VzIG1vZGUgYWN0aXZhdGVkJyB9IH1cbiAgICBdKVxuICB9XG5cbiAgLy8gQ3JlYXRlIGF1dG9tYXRpb24gcnVsZVxuICBwcml2YXRlIGNyZWF0ZUF1dG9tYXRpb25SdWxlKGlkOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgdHJpZ2dlcjogVHJpZ2dlciwgYWN0aW9uczogQWN0aW9uW10pIHtcbiAgICBjb25zdCBydWxlOiBBdXRvbWF0aW9uUnVsZSA9IHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICB0cmlnZ2VyOiB0cmlnZ2VyLFxuICAgICAgYWN0aW9uczogYWN0aW9ucyxcbiAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICBwcmlvcml0eTogMVxuICAgIH1cblxuICAgIHRoaXMuYXV0b21hdGlvblJ1bGVzLnNldChpZCwgcnVsZSlcbiAgfVxuXG4gIC8vIENyZWF0ZSBzbWFydCBzY2VuZXNcbiAgcHJpdmF0ZSBjcmVhdGVTbWFydFNjZW5lcygpIHtcbiAgICAvLyBXb3JrIE1vZGVcbiAgICB0aGlzLmNyZWF0ZVNtYXJ0U2NlbmUoJ3dvcmtfbW9kZScsICdXb3JrIE1vZGUnLCAnT3B0aW1pemVkIGZvciBwcm9kdWN0aXZpdHknLCBbXG4gICAgICAnbGlnaHRfbWFpbicsICdsaWdodF9kZXNrJywgJ3Byb2R1Y3Rpdml0eV90aW1lcidcbiAgICBdLCBuZXcgTWFwKFtcbiAgICAgIFsnbGlnaHRfbWFpbicsIHsgdmFsdWU6IHRydWUsIGJyaWdodG5lc3M6IDAuOSB9XSxcbiAgICAgIFsnbGlnaHRfZGVzaycsIHsgdmFsdWU6IHRydWUsIGJyaWdodG5lc3M6IDAuOCB9XSxcbiAgICAgIFsndGVtcF9tYWluJywgeyB2YWx1ZTogMjEgfV0sXG4gICAgICBbJ3Byb2R1Y3Rpdml0eV90aW1lcicsIHsgdmFsdWU6IHRydWUsIGR1cmF0aW9uOiAyNSB9XVxuICAgIF0pLCAnXHVEODNEXHVEQ0JDJylcblxuICAgIC8vIE1lZXRpbmcgTW9kZVxuICAgIHRoaXMuY3JlYXRlU21hcnRTY2VuZSgnbWVldGluZ19tb2RlJywgJ01lZXRpbmcgTW9kZScsICdPcHRpbWl6ZWQgZm9yIGNvbGxhYm9yYXRpb24nLCBbXG4gICAgICAnbGlnaHRfbWFpbicsICdsaWdodF9tZWV0aW5nJywgJ2VudGVydGFpbm1lbnRfZGlzcGxheSdcbiAgICBdLCBuZXcgTWFwKFtcbiAgICAgIFsnbGlnaHRfbWFpbicsIHsgdmFsdWU6IHRydWUsIGJyaWdodG5lc3M6IDAuNyB9XSxcbiAgICAgIFsnbGlnaHRfbWVldGluZycsIHsgdmFsdWU6IHRydWUsIGJyaWdodG5lc3M6IDAuOCB9XSxcbiAgICAgIFsnZW50ZXJ0YWlubWVudF9kaXNwbGF5JywgeyB2YWx1ZTogJ3ByZXNlbnRhdGlvbl9tb2RlJyB9XSxcbiAgICAgIFsndGVtcF9tYWluJywgeyB2YWx1ZTogMjIgfV1cbiAgICBdKSwgJ1x1RDgzRVx1REQxRCcpXG5cbiAgICAvLyBSZWxheCBNb2RlXG4gICAgdGhpcy5jcmVhdGVTbWFydFNjZW5lKCdyZWxheF9tb2RlJywgJ1JlbGF4IE1vZGUnLCAnT3B0aW1pemVkIGZvciBjb21mb3J0JywgW1xuICAgICAgJ2VudGVydGFpbm1lbnRfYXVkaW8nLCAnbGlnaHRfbWFpbidcbiAgICBdLCBuZXcgTWFwKFtcbiAgICAgIFsnbGlnaHRfbWFpbicsIHsgdmFsdWU6IHRydWUsIGJyaWdodG5lc3M6IDAuMywgY29sb3I6ICd3YXJtJyB9XSxcbiAgICAgIFsnZW50ZXJ0YWlubWVudF9hdWRpbycsIHsgdmFsdWU6ICdyZWxheF9wbGF5bGlzdCcgfV0sXG4gICAgICBbJ3RlbXBfbWFpbicsIHsgdmFsdWU6IDIzIH1dXG4gICAgXSksICdcdUQ4M0NcdURGMTknKVxuXG4gICAgLy8gRW5lcmd5IFNhdmVyXG4gICAgdGhpcy5jcmVhdGVTbWFydFNjZW5lKCdlbmVyZ3lfc2F2ZXInLCAnRW5lcmd5IFNhdmVyJywgJ01pbmltaXplIGVuZXJneSBjb25zdW1wdGlvbicsIFtcbiAgICAgICdsaWdodF9tYWluJywgJ2xpZ2h0X2Rlc2snLCAnZW50ZXJ0YWlubWVudF9kaXNwbGF5J1xuICAgIF0sIG5ldyBNYXAoW1xuICAgICAgWydsaWdodF9tYWluJywgeyB2YWx1ZTogZmFsc2UgfV0sXG4gICAgICBbJ2xpZ2h0X2Rlc2snLCB7IHZhbHVlOiBmYWxzZSB9XSxcbiAgICAgIFsnZW50ZXJ0YWlubWVudF9kaXNwbGF5JywgeyB2YWx1ZTogZmFsc2UgfV0sXG4gICAgICBbJ3RlbXBfbWFpbicsIHsgdmFsdWU6IDIwIH1dXG4gICAgXSksICdcdUQ4M0NcdURGMzEnKVxuICB9XG5cbiAgLy8gQ3JlYXRlIHNtYXJ0IHNjZW5lXG4gIHByaXZhdGUgY3JlYXRlU21hcnRTY2VuZShpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcsIGRldmljZXM6IHN0cmluZ1tdLCBzZXR0aW5nczogTWFwPHN0cmluZywgYW55PiwgaWNvbjogc3RyaW5nKSB7XG4gICAgY29uc3Qgc2NlbmU6IFNtYXJ0U2NlbmUgPSB7XG4gICAgICBpZDogaWQsXG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxuICAgICAgZGV2aWNlczogZGV2aWNlcyxcbiAgICAgIHNldHRpbmdzOiBzZXR0aW5ncyxcbiAgICAgIGljb246IGljb25cbiAgICB9XG5cbiAgICB0aGlzLnNtYXJ0U2NlbmVzLnNldChpZCwgc2NlbmUpXG4gIH1cblxuICAvLyBDcmVhdGUgY29udHJvbCBwYW5lbFxuICBwcml2YXRlIGNyZWF0ZUNvbnRyb2xQYW5lbCgpIHtcbiAgICB0aGlzLmNvbnRyb2xQYW5lbCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUodGhpcy5jb250cm9sUGFuZWwsIHtcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSg4LCAzLCAxNCksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoNCwgMywgMC4xKVxuICAgIH0pXG4gICAgTWVzaFJlbmRlcmVyLnNldEJveCh0aGlzLmNvbnRyb2xQYW5lbClcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbCh0aGlzLmNvbnRyb2xQYW5lbCwge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjIsIDAuNCwgMC45KSxcbiAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4yLCAwLjQsIDAuOCwgMC41KSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAyXG4gICAgfSlcblxuICAgIGNvbnN0IHRpdGxlID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZSh0aXRsZSwge1xuICAgICAgcGFyZW50OiB0aGlzLmNvbnRyb2xQYW5lbCxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAxLjIsIDAuMSksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC4zLCAwLjMsIDAuMylcbiAgICB9KVxuICAgIFRleHRTaGFwZS5jcmVhdGUodGl0bGUsIHtcbiAgICAgIHRleHQ6ICdcdUQ4M0NcdURGRTAgU01BUlQgUk9PTSBDT05UUk9MJyxcbiAgICAgIHRleHRDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAxLCAxLCAxKSxcbiAgICAgIGZvbnRTaXplOiAyLFxuICAgICAgdGV4dEFsaWduOiAzXG4gICAgfSlcblxuICAgIC8vIFNjZW5lIGJ1dHRvbnNcbiAgICB0aGlzLmNyZWF0ZVNjZW5lQnV0dG9ucygpXG5cbiAgICAvLyBEZXZpY2Ugc3RhdHVzIGRpc3BsYXlcbiAgICB0aGlzLmNyZWF0ZURldmljZVN0YXR1c0Rpc3BsYXkoKVxuXG4gICAgLy8gRW5lcmd5IG1vbml0b3JcbiAgICB0aGlzLmNyZWF0ZUVuZXJneU1vbml0b3IoKVxuICB9XG5cbiAgLy8gQ3JlYXRlIHNjZW5lIGJ1dHRvbnNcbiAgcHJpdmF0ZSBjcmVhdGVTY2VuZUJ1dHRvbnMoKSB7XG4gICAgbGV0IHhPZmZzZXQgPSAtMS4yXG5cbiAgICB0aGlzLnNtYXJ0U2NlbmVzLmZvckVhY2goKHNjZW5lLCBpZCkgPT4ge1xuICAgICAgY29uc3QgYnV0dG9uID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgICBUcmFuc2Zvcm0uY3JlYXRlKGJ1dHRvbiwge1xuICAgICAgICBwYXJlbnQ6IHRoaXMuY29udHJvbFBhbmVsLFxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoeE9mZnNldCwgMC41LCAwLjEpLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC41LCAwLjMsIDAuMSlcbiAgICAgIH0pXG4gICAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGJ1dHRvbilcbiAgICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGJ1dHRvbiwge1xuICAgICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuNiwgMC44LCAxKSxcbiAgICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuNiwgMC44LCAwLjUpLFxuICAgICAgICBlbWlzc2l2ZUludGVuc2l0eTogMlxuICAgICAgfSlcblxuICAgICAgY29uc3QgYnV0dG9uVGV4dCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgVHJhbnNmb3JtLmNyZWF0ZShidXR0b25UZXh0LCB7XG4gICAgICAgIHBhcmVudDogYnV0dG9uLFxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMC4xKSxcbiAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuNSwgMC41LCAwLjUpXG4gICAgICB9KVxuICAgICAgVGV4dFNoYXBlLmNyZWF0ZShidXR0b25UZXh0LCB7XG4gICAgICAgIHRleHQ6IGAke3NjZW5lLmljb259ICR7c2NlbmUubmFtZX1gLFxuICAgICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICAgIGZvbnRTaXplOiAxLjUsXG4gICAgICAgIHRleHRBbGlnbjogM1xuICAgICAgfSlcblxuICAgICAgcG9pbnRlckV2ZW50c1N5c3RlbS5vblBvaW50ZXJEb3duKFxuICAgICAgICB7XG4gICAgICAgICAgZW50aXR5OiBidXR0b24sXG4gICAgICAgICAgb3B0czogeyBidXR0b246IElucHV0QWN0aW9uLklBX1BPSU5URVIsIGhvdmVyVGV4dDogYEFjdGl2YXRlICR7c2NlbmUubmFtZX1gIH1cbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4gdGhpcy5hY3RpdmF0ZVNjZW5lKGlkKVxuICAgICAgKVxuXG4gICAgICB4T2Zmc2V0ICs9IDAuOFxuICAgIH0pXG4gIH1cblxuICAvLyBDcmVhdGUgZGV2aWNlIHN0YXR1cyBkaXNwbGF5XG4gIHByaXZhdGUgY3JlYXRlRGV2aWNlU3RhdHVzRGlzcGxheSgpIHtcbiAgICBjb25zdCBzdGF0dXNEaXNwbGF5ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZShzdGF0dXNEaXNwbGF5LCB7XG4gICAgICBwYXJlbnQ6IHRoaXMuY29udHJvbFBhbmVsLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIC0wLjMsIDAuMSksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC44LCAwLjMsIDAuMSlcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRCb3goc3RhdHVzRGlzcGxheSlcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChzdGF0dXNEaXNwbGF5LCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjEsIDAuMSwgMC4xLCAwLjgpLFxuICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjEsIDAuMSwgMC4xLCAwLjMpLFxuICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDFcbiAgICB9KVxuXG4gICAgdGhpcy51cGRhdGVEZXZpY2VTdGF0dXNEaXNwbGF5KClcbiAgfVxuXG4gIC8vIENyZWF0ZSBlbmVyZ3kgbW9uaXRvclxuICBwcml2YXRlIGNyZWF0ZUVuZXJneU1vbml0b3IoKSB7XG4gICAgY29uc3QgZW5lcmd5RGlzcGxheSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUoZW5lcmd5RGlzcGxheSwge1xuICAgICAgcGFyZW50OiB0aGlzLmNvbnRyb2xQYW5lbCxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAtMC44LCAwLjEpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuOCwgMC4yLCAwLjEpXG4gICAgfSlcbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGVuZXJneURpc3BsYXkpXG4gICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoZW5lcmd5RGlzcGxheSwge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjEsIDAuMSwgMC44KSxcbiAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjEsIDAuMSwgMC4zKSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAxXG4gICAgfSlcblxuICAgIHRoaXMudXBkYXRlRW5lcmd5RGlzcGxheSgpXG4gIH1cblxuICAvLyBTdGFydCBhdXRvbWF0aW9uIGVuZ2luZVxuICBwcml2YXRlIHN0YXJ0QXV0b21hdGlvbkVuZ2luZSgpIHtcbiAgICBlbmdpbmUuYWRkU3lzdGVtKCgpID0+IHtcbiAgICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkKSByZXR1cm5cblxuICAgICAgdGhpcy51cGRhdGVEZXZpY2VWYWx1ZXMoKVxuICAgICAgdGhpcy5jaGVja0F1dG9tYXRpb25SdWxlcygpXG4gICAgICB0aGlzLnVwZGF0ZURpc3BsYXlzKClcbiAgICB9KVxuICB9XG5cbiAgLy8gVXBkYXRlIGRldmljZSB2YWx1ZXNcbiAgcHJpdmF0ZSB1cGRhdGVEZXZpY2VWYWx1ZXMoKSB7XG4gICAgdGhpcy5kZXZpY2VzLmZvckVhY2goZGV2aWNlID0+IHtcbiAgICAgIC8vIFNpbXVsYXRlIGRldmljZSB2YWx1ZSBjaGFuZ2VzXG4gICAgICBzd2l0Y2ggKGRldmljZS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ3RlbXBlcmF0dXJlJzpcbiAgICAgICAgICBkZXZpY2UudmFsdWUgPSAyMCArIE1hdGguc2luKERhdGUubm93KCkgLyAxMDAwMCkgKiAzXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnZW5lcmd5JzpcbiAgICAgICAgICBkZXZpY2UudmFsdWUgPSBNYXRoLnJhbmRvbSgpICogMTAwXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnc2VjdXJpdHknOlxuICAgICAgICAgIGRldmljZS52YWx1ZSA9IE1hdGgucmFuZG9tKCkgPiAwLjk1ID8gJ2FsZXJ0JyA6ICdub3JtYWwnXG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgZGV2aWNlLmxhc3RVcGRhdGUgPSBEYXRlLm5vdygpXG4gICAgfSlcblxuICAgIC8vIENhbGN1bGF0ZSB0b3RhbCBlbmVyZ3kgdXNhZ2VcbiAgICB0aGlzLmVuZXJneVVzYWdlID0gQXJyYXkuZnJvbSh0aGlzLmRldmljZXMudmFsdWVzKCkpXG4gICAgICAuZmlsdGVyKGQgPT4gZC50eXBlID09PSAnZW5lcmd5JylcbiAgICAgIC5yZWR1Y2UoKHN1bSwgZCkgPT4gc3VtICsgKGQudmFsdWUgYXMgbnVtYmVyKSwgMClcbiAgfVxuXG4gIC8vIENoZWNrIGF1dG9tYXRpb24gcnVsZXNcbiAgcHJpdmF0ZSBjaGVja0F1dG9tYXRpb25SdWxlcygpIHtcbiAgICB0aGlzLmF1dG9tYXRpb25SdWxlcy5mb3JFYWNoKHJ1bGUgPT4ge1xuICAgICAgaWYgKCFydWxlLmVuYWJsZWQpIHJldHVyblxuXG4gICAgICBpZiAodGhpcy5ldmFsdWF0ZVRyaWdnZXIocnVsZS50cmlnZ2VyKSkge1xuICAgICAgICB0aGlzLmV4ZWN1dGVBY3Rpb25zKHJ1bGUuYWN0aW9ucylcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLy8gRXZhbHVhdGUgdHJpZ2dlciBjb25kaXRpb25zXG4gIHByaXZhdGUgZXZhbHVhdGVUcmlnZ2VyKHRyaWdnZXI6IFRyaWdnZXIpOiBib29sZWFuIHtcbiAgICBjb25zdCBob3VyID0gbmV3IERhdGUoKS5nZXRIb3VycygpXG5cbiAgICBzd2l0Y2ggKHRyaWdnZXIudHlwZSkge1xuICAgICAgY2FzZSAndGltZSc6XG4gICAgICAgIHJldHVybiB0cmlnZ2VyLmNvbmRpdGlvbnMuc29tZShjb25kaXRpb24gPT4ge1xuICAgICAgICAgIGlmIChjb25kaXRpb24ucHJvcGVydHkgPT09ICdob3VyJykge1xuICAgICAgICAgICAgc3dpdGNoIChjb25kaXRpb24ub3BlcmF0b3IpIHtcbiAgICAgICAgICAgICAgY2FzZSAnZXF1YWxzJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gaG91ciA9PT0gY29uZGl0aW9uLnZhbHVlXG4gICAgICAgICAgICAgIGNhc2UgJ2dyZWF0ZXInOlxuICAgICAgICAgICAgICAgIHJldHVybiBob3VyID4gY29uZGl0aW9uLnZhbHVlXG4gICAgICAgICAgICAgIGNhc2UgJ2xlc3MnOlxuICAgICAgICAgICAgICAgIHJldHVybiBob3VyIDwgY29uZGl0aW9uLnZhbHVlXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9KVxuXG4gICAgICBjYXNlICdkZXZpY2UnOlxuICAgICAgICByZXR1cm4gdHJpZ2dlci5jb25kaXRpb25zLmV2ZXJ5KGNvbmRpdGlvbiA9PiB7XG4gICAgICAgICAgY29uc3QgZGV2aWNlID0gdGhpcy5kZXZpY2VzLmdldChjb25kaXRpb24uZGV2aWNlSWQpXG4gICAgICAgICAgaWYgKCFkZXZpY2UpIHJldHVybiBmYWxzZVxuXG4gICAgICAgICAgc3dpdGNoIChjb25kaXRpb24ub3BlcmF0b3IpIHtcbiAgICAgICAgICAgIGNhc2UgJ2VxdWFscyc6XG4gICAgICAgICAgICAgIHJldHVybiBkZXZpY2UudmFsdWUgPT09IGNvbmRpdGlvbi52YWx1ZVxuICAgICAgICAgICAgY2FzZSAnZ3JlYXRlcic6XG4gICAgICAgICAgICAgIHJldHVybiAoZGV2aWNlLnZhbHVlIGFzIG51bWJlcikgPiBjb25kaXRpb24udmFsdWVcbiAgICAgICAgICAgIGNhc2UgJ2xlc3MnOlxuICAgICAgICAgICAgICByZXR1cm4gKGRldmljZS52YWx1ZSBhcyBudW1iZXIpIDwgY29uZGl0aW9uLnZhbHVlXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIC8vIEV4ZWN1dGUgYXV0b21hdGlvbiBhY3Rpb25zXG4gIHByaXZhdGUgZXhlY3V0ZUFjdGlvbnMoYWN0aW9uczogQWN0aW9uW10pIHtcbiAgICBhY3Rpb25zLmZvckVhY2goYWN0aW9uID0+IHtcbiAgICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnc2V0RGV2aWNlJzpcbiAgICAgICAgICB0aGlzLnNldERldmljZVZhbHVlKGFjdGlvbi50YXJnZXQsIGFjdGlvbi5wYXJhbWV0ZXJzKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ25vdGlmeSc6XG4gICAgICAgICAgY29uc29sZS5sb2coYFx1RDgzRFx1REQxNCBOb3RpZmljYXRpb246ICR7YWN0aW9uLnBhcmFtZXRlcnMubWVzc2FnZX1gKVxuICAgICAgICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdhbGVydCcpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnc2NlbmUnOlxuICAgICAgICAgIHRoaXMuYWN0aXZhdGVTY2VuZShhY3Rpb24udGFyZ2V0KVxuICAgICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8vIFNldCBkZXZpY2UgdmFsdWVcbiAgcHJpdmF0ZSBzZXREZXZpY2VWYWx1ZShkZXZpY2VJZDogc3RyaW5nLCBwYXJhbWV0ZXJzOiBhbnkpIHtcbiAgICBjb25zdCBkZXZpY2UgPSB0aGlzLmRldmljZXMuZ2V0KGRldmljZUlkKVxuICAgIGlmIChkZXZpY2UpIHtcbiAgICAgIGRldmljZS52YWx1ZSA9IHBhcmFtZXRlcnMudmFsdWUgfHwgcGFyYW1ldGVyc1xuICAgICAgZGV2aWNlLmxhc3RVcGRhdGUgPSBEYXRlLm5vdygpXG4gICAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVERDI3IFNldCAke2RldmljZS5uYW1lfSB0bzogJHtkZXZpY2UudmFsdWV9YClcbiAgICB9XG4gIH1cblxuICAvLyBIYW5kbGUgZGV2aWNlIGludGVyYWN0aW9uXG4gIHByaXZhdGUgaGFuZGxlRGV2aWNlSW50ZXJhY3Rpb24oZGV2aWNlSWQ6IHN0cmluZykge1xuICAgIGNvbnN0IGRldmljZSA9IHRoaXMuZGV2aWNlcy5nZXQoZGV2aWNlSWQpXG4gICAgaWYgKCFkZXZpY2UpIHJldHVyblxuXG4gICAgY29uc29sZS5sb2coYFx1RDgzRFx1REQyNyBJbnRlcmFjdGluZyB3aXRoICR7ZGV2aWNlLm5hbWV9YClcbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgnY2xpY2snKVxuXG4gICAgLy8gVG9nZ2xlIGRldmljZSBzdGF0ZVxuICAgIGlmICh0eXBlb2YgZGV2aWNlLnZhbHVlID09PSAnYm9vbGVhbicpIHtcbiAgICAgIGRldmljZS52YWx1ZSA9ICFkZXZpY2UudmFsdWVcbiAgICB9IGVsc2UgaWYgKGRldmljZS50eXBlID09PSAnbGlnaHQnKSB7XG4gICAgICBkZXZpY2UudmFsdWUgPSAhZGV2aWNlLnZhbHVlXG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHZpc3VhbCBmZWVkYmFja1xuICAgIHRoaXMudXBkYXRlRGV2aWNlVmlzdWFsKGRldmljZUlkKVxuICB9XG5cbiAgLy8gVXBkYXRlIGRldmljZSB2aXN1YWxcbiAgcHJpdmF0ZSB1cGRhdGVEZXZpY2VWaXN1YWwoZGV2aWNlSWQ6IHN0cmluZykge1xuICAgIGNvbnN0IGRldmljZSA9IHRoaXMuZGV2aWNlcy5nZXQoZGV2aWNlSWQpXG4gICAgaWYgKCFkZXZpY2UpIHJldHVyblxuXG4gICAgLy8gVXBkYXRlIGRldmljZSBlbnRpdHkgYXBwZWFyYW5jZSBiYXNlZCBvbiBzdGF0ZVxuICAgIGNvbnN0IGRldmljZUVudGl0eSA9IEFycmF5LmZyb20oZW5naW5lLmVudGl0aWVzKS5maW5kKGUgPT4ge1xuICAgICAgY29uc3QgdHJhbnNmb3JtID0gVHJhbnNmb3JtLmdldChlKVxuICAgICAgcmV0dXJuIHRyYW5zZm9ybSAmJiBWZWN0b3IzLmRpc3RhbmNlKHRyYW5zZm9ybS5wb3NpdGlvbiwgZGV2aWNlLnBvc2l0aW9uKSA8IDAuMVxuICAgIH0pXG5cbiAgICBpZiAoZGV2aWNlRW50aXR5KSB7XG4gICAgICBjb25zdCBtYXRlcmlhbCA9IE1hdGVyaWFsLmdldE11dGFibGUoZGV2aWNlRW50aXR5KVxuICAgICAgaWYgKG1hdGVyaWFsICYmIG1hdGVyaWFsLiRjYXNlID09PSAncGJyJykge1xuICAgICAgICBpZiAoZGV2aWNlLnZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgICAgbWF0ZXJpYWwucGJyLmVtaXNzaXZlSW50ZW5zaXR5ID0gM1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1hdGVyaWFsLnBici5lbWlzc2l2ZUludGVuc2l0eSA9IDFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEFjdGl2YXRlIHNjZW5lXG4gIHB1YmxpYyBhY3RpdmF0ZVNjZW5lKHNjZW5lSWQ6IHN0cmluZykge1xuICAgIGNvbnN0IHNjZW5lID0gdGhpcy5zbWFydFNjZW5lcy5nZXQoc2NlbmVJZClcbiAgICBpZiAoIXNjZW5lKSByZXR1cm5cblxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0NcdURGQUMgQWN0aXZhdGluZyBzY2VuZTogJHtzY2VuZS5uYW1lfWApXG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ3Bvd2VydXAnKVxuXG4gICAgdGhpcy5jdXJyZW50U2NlbmUgPSBzY2VuZUlkXG5cbiAgICAvLyBBcHBseSBzY2VuZSBzZXR0aW5nc1xuICAgIHNjZW5lLnNldHRpbmdzLmZvckVhY2goKHNldHRpbmdzLCBkZXZpY2VJZCkgPT4ge1xuICAgICAgdGhpcy5zZXREZXZpY2VWYWx1ZShkZXZpY2VJZCwgc2V0dGluZ3MpXG4gICAgfSlcbiAgfVxuXG4gIC8vIFVwZGF0ZSBkaXNwbGF5c1xuICBwcml2YXRlIHVwZGF0ZURpc3BsYXlzKCkge1xuICAgIHRoaXMudXBkYXRlRGV2aWNlU3RhdHVzRGlzcGxheSgpXG4gICAgdGhpcy51cGRhdGVFbmVyZ3lEaXNwbGF5KClcbiAgfVxuXG4gIC8vIFVwZGF0ZSBkZXZpY2Ugc3RhdHVzIGRpc3BsYXlcbiAgcHJpdmF0ZSB1cGRhdGVEZXZpY2VTdGF0dXNEaXNwbGF5KCkge1xuICAgIC8vIFVwZGF0ZSBzdGF0dXMgdGV4dCB3aXRoIGN1cnJlbnQgZGV2aWNlIHN0YXRlc1xuICAgIGNvbnN0IG9ubGluZURldmljZXMgPSBBcnJheS5mcm9tKHRoaXMuZGV2aWNlcy52YWx1ZXMoKSkuZmlsdGVyKGQgPT4gZC5zdGF0dXMgPT09ICdvbmxpbmUnKS5sZW5ndGhcbiAgICBjb25zdCB0b3RhbERldmljZXMgPSB0aGlzLmRldmljZXMuc2l6ZVxuXG4gICAgY29uc29sZS5sb2coYFx1RDgzRFx1RENDQSBEZXZpY2UgU3RhdHVzOiAke29ubGluZURldmljZXN9LyR7dG90YWxEZXZpY2VzfSBvbmxpbmVgKVxuICB9XG5cbiAgLy8gVXBkYXRlIGVuZXJneSBkaXNwbGF5XG4gIHByaXZhdGUgdXBkYXRlRW5lcmd5RGlzcGxheSgpIHtcbiAgICBjb25zb2xlLmxvZyhgXHUyNkExIEVuZXJneSBVc2FnZTogJHt0aGlzLmVuZXJneVVzYWdlLnRvRml4ZWQoMSl9JWApXG4gIH1cblxuICAvLyBHZXQgY3VycmVudCBzY2VuZVxuICBwdWJsaWMgZ2V0Q3VycmVudFNjZW5lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudFNjZW5lXG4gIH1cblxuICAvLyBHZXQgYWxsIGRldmljZXNcbiAgcHVibGljIGdldERldmljZXMoKTogSW9URGV2aWNlW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuZGV2aWNlcy52YWx1ZXMoKSlcbiAgfVxuXG4gIC8vIEdldCBkZXZpY2UgYnkgSURcbiAgcHVibGljIGdldERldmljZShkZXZpY2VJZDogc3RyaW5nKTogSW9URGV2aWNlIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5kZXZpY2VzLmdldChkZXZpY2VJZClcbiAgfVxuXG4gIC8vIEFkZCBuZXcgZGV2aWNlXG4gIHB1YmxpYyBhZGREZXZpY2UoZGV2aWNlOiBJb1REZXZpY2UpIHtcbiAgICB0aGlzLmRldmljZXMuc2V0KGRldmljZS5pZCwgZGV2aWNlKVxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURDRjEgQWRkZWQgZGV2aWNlOiAke2RldmljZS5uYW1lfWApXG4gIH1cblxuICAvLyBSZW1vdmUgZGV2aWNlXG4gIHB1YmxpYyByZW1vdmVEZXZpY2UoZGV2aWNlSWQ6IHN0cmluZykge1xuICAgIGNvbnN0IGRldmljZSA9IHRoaXMuZGV2aWNlcy5nZXQoZGV2aWNlSWQpXG4gICAgaWYgKGRldmljZSkge1xuICAgICAgdGhpcy5kZXZpY2VzLmRlbGV0ZShkZXZpY2VJZClcbiAgICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdURERDFcdUZFMEYgUmVtb3ZlZCBkZXZpY2U6ICR7ZGV2aWNlLm5hbWV9YClcbiAgICB9XG4gIH1cblxuICAvLyBHZXQgZW5lcmd5IHVzYWdlXG4gIHB1YmxpYyBnZXRFbmVyZ3lVc2FnZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmVuZXJneVVzYWdlXG4gIH1cblxuICAvLyBDbGVhbnVwIHN5c3RlbVxuICBwdWJsaWMgY2xlYW51cCgpIHtcbiAgICB0aGlzLmRldmljZXMuY2xlYXIoKVxuICAgIHRoaXMuYXV0b21hdGlvblJ1bGVzLmNsZWFyKClcbiAgICB0aGlzLnNtYXJ0U2NlbmVzLmNsZWFyKClcblxuICAgIGlmICh0aGlzLmNvbnRyb2xQYW5lbCkge1xuICAgICAgZW5naW5lLnJlbW92ZUVudGl0eSh0aGlzLmNvbnRyb2xQYW5lbClcbiAgICB9XG5cbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSBmYWxzZVxuICB9XG59XG5cbi8vIEV4cG9ydCBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBzbWFydFJvb21TeXN0ZW0gPSBuZXcgU21hcnRSb29tU3lzdGVtKClcbiIsICIvLyBWb2ljZSBDb21tYW5kIFN5c3RlbSB3aXRoIEFJIFByb2Nlc3NpbmcgZm9yIEFJR2VzdGlvbiBWaXJ0dWFsIE9mZmljZVxuaW1wb3J0IHsgZW5naW5lLCBJbnB1dEFjdGlvbiwgTWF0ZXJpYWwsIE1lc2hSZW5kZXJlciwgcG9pbnRlckV2ZW50c1N5c3RlbSwgVHJhbnNmb3JtIH0gZnJvbSAnQGRjbC9zZGsvZWNzJ1xuaW1wb3J0IHsgc2V0VGltZW91dCwgc2V0SW50ZXJ2YWwgfSBmcm9tICcuL3V0aWxzL3RpbWVycydcbmltcG9ydCB7IENvbG9yNCwgVmVjdG9yMyB9IGZyb20gJ0BkY2wvc2RrL21hdGgnXG5pbXBvcnQgeyBzb3VuZFN5c3RlbSB9IGZyb20gJy4vZW5oYW5jZWQtc291bmQnXG5cbmludGVyZmFjZSBWb2ljZUNvbW1hbmQge1xuICBpZDogc3RyaW5nXG4gIHBocmFzZTogc3RyaW5nXG4gIGludGVudDogc3RyaW5nXG4gIGVudGl0aWVzOiBNYXA8c3RyaW5nLCBhbnk+XG4gIGNvbmZpZGVuY2U6IG51bWJlclxuICB0aW1lc3RhbXA6IG51bWJlclxuICBpc1Byb2Nlc3NlZDogYm9vbGVhblxufVxuXG5pbnRlcmZhY2UgSW50ZW50IHtcbiAgbmFtZTogc3RyaW5nXG4gIHBhcmFtZXRlcnM6IE1hcDxzdHJpbmcsIGFueT5cbiAgYWN0aW9uOiBzdHJpbmdcbn1cblxuaW50ZXJmYWNlIFZvaWNlQXNzaXN0YW50IHtcbiAgaWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgcGVyc29uYWxpdHk6ICdwcm9mZXNzaW9uYWwnIHwgJ2ZyaWVuZGx5JyB8ICd0ZWNobmljYWwnIHwgJ2Nhc3VhbCdcbiAgdm9pY2U6IHN0cmluZ1xuICBsYW5ndWFnZTogc3RyaW5nXG4gIGlzQWN0aXZlOiBib29sZWFuXG4gIHByb2Nlc3NpbmdTdGF0ZTogJ2lkbGUnIHwgJ2xpc3RlbmluZycgfCAncHJvY2Vzc2luZycgfCAncmVzcG9uZGluZydcbn1cblxuaW50ZXJmYWNlIFNwZWVjaFJlY29nbml0aW9uUmVzdWx0IHtcbiAgdHJhbnNjcmlwdDogc3RyaW5nXG4gIGNvbmZpZGVuY2U6IG51bWJlclxuICBhbHRlcm5hdGl2ZXM6IHN0cmluZ1tdXG4gIGlzRmluYWw6IGJvb2xlYW5cbn1cblxuaW50ZXJmYWNlIEFJUmVzcG9uc2Uge1xuICB0ZXh0OiBzdHJpbmdcbiAgY29uZmlkZW5jZTogbnVtYmVyXG4gIGFjdGlvbnM6IHN0cmluZ1tdXG4gIGVtb3Rpb246IHN0cmluZ1xuICB0aW1lc3RhbXA6IG51bWJlclxufVxuXG5leHBvcnQgY2xhc3MgVm9pY2VDb21tYW5kU3lzdGVtIHtcbiAgcHJpdmF0ZSB2b2ljZUFzc2lzdGFudDogVm9pY2VBc3Npc3RhbnRcbiAgcHJpdmF0ZSBjb21tYW5kczogTWFwPHN0cmluZywgVm9pY2VDb21tYW5kPiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIGludGVudHM6IE1hcDxzdHJpbmcsIEludGVudD4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBjb21tYW5kSGlzdG9yeTogVm9pY2VDb21tYW5kW10gPSBbXVxuICBwcml2YXRlIHZvaWNlVUk6IGFueVxuICBwcml2YXRlIGlzSW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZVxuICBwcml2YXRlIGlzTGlzdGVuaW5nOiBib29sZWFuID0gZmFsc2VcbiAgcHJpdmF0ZSBjdXJyZW50VHJhbnNjcmlwdDogc3RyaW5nID0gJydcbiAgcHJpdmF0ZSByZWNvZ25pdGlvbkVuZ2luZTogYW55XG4gIHByaXZhdGUgYWlQcm9jZXNzb3I6IGFueVxuICBwcml2YXRlIHZvaWNlU3ludGhlc2l6ZXI6IGFueVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudm9pY2VBc3Npc3RhbnQgPSB7XG4gICAgICBpZDogJ2Fzc2lzdGFudF9uZXh1cycsXG4gICAgICBuYW1lOiAnTmV4dXMnLFxuICAgICAgcGVyc29uYWxpdHk6ICdwcm9mZXNzaW9uYWwnLFxuICAgICAgdm9pY2U6ICdmZW1hbGUnLFxuICAgICAgbGFuZ3VhZ2U6ICdlbi1VUycsXG4gICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgIHByb2Nlc3NpbmdTdGF0ZTogJ2lkbGUnXG4gICAgfVxuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSB2b2ljZSBjb21tYW5kIHN5c3RlbVxuICBpbml0aWFsaXplKCkge1xuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0NcdURGQTQgVm9pY2UgQ29tbWFuZCBTeXN0ZW0gSW5pdGlhbGl6aW5nLi4uJylcblxuICAgIHRoaXMuc2V0dXBJbnRlbnRzKClcbiAgICB0aGlzLmNyZWF0ZVZvaWNlVUkoKVxuICAgIHRoaXMuaW5pdGlhbGl6ZVNwZWVjaFJlY29nbml0aW9uKClcbiAgICB0aGlzLmluaXRpYWxpemVBSVByb2Nlc3NvcigpXG4gICAgdGhpcy5pbml0aWFsaXplVm9pY2VTeW50aGVzaXMoKVxuICAgIHRoaXMuc3RhcnRWb2ljZUVuZ2luZSgpXG5cbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlXG4gICAgY29uc29sZS5sb2coJ1x1RDgzQ1x1REZBNCBWb2ljZSBDb21tYW5kIFN5c3RlbSBSZWFkeSEnKVxuICB9XG5cbiAgLy8gU2V0dXAgdm9pY2UgaW50ZW50c1xuICBwcml2YXRlIHNldHVwSW50ZW50cygpIHtcbiAgICAvLyBTeXN0ZW0gY29udHJvbCBpbnRlbnRzXG4gICAgdGhpcy5pbnRlbnRzLnNldCgndG9nZ2xlX2xpZ2h0cycsIHtcbiAgICAgIG5hbWU6ICd0b2dnbGVfbGlnaHRzJyxcbiAgICAgIHBhcmFtZXRlcnM6IG5ldyBNYXAoW1xuICAgICAgICBbJ2xvY2F0aW9uJywgJ3N0cmluZyddLFxuICAgICAgICBbJ2FjdGlvbicsICdzdHJpbmcnXVxuICAgICAgXSksXG4gICAgICBhY3Rpb246ICdjb250cm9sX2xpZ2h0aW5nJ1xuICAgIH0pXG5cbiAgICB0aGlzLmludGVudHMuc2V0KCdhZGp1c3RfdGVtcGVyYXR1cmUnLCB7XG4gICAgICBuYW1lOiAnYWRqdXN0X3RlbXBlcmF0dXJlJyxcbiAgICAgIHBhcmFtZXRlcnM6IG5ldyBNYXAoW1xuICAgICAgICBbJ3RlbXBlcmF0dXJlJywgJ251bWJlciddLFxuICAgICAgICBbJ3VuaXQnLCAnc3RyaW5nJ11cbiAgICAgIF0pLFxuICAgICAgYWN0aW9uOiAnY29udHJvbF9jbGltYXRlJ1xuICAgIH0pXG5cbiAgICB0aGlzLmludGVudHMuc2V0KCdzdGFydF9tZWV0aW5nJywge1xuICAgICAgbmFtZTogJ3N0YXJ0X21lZXRpbmcnLFxuICAgICAgcGFyYW1ldGVyczogbmV3IE1hcChbXG4gICAgICAgIFsncGFydGljaXBhbnRzJywgJ2FycmF5J10sXG4gICAgICAgIFsndG9waWMnLCAnc3RyaW5nJ11cbiAgICAgIF0pLFxuICAgICAgYWN0aW9uOiAnaW5pdGlhdGVfbWVldGluZydcbiAgICB9KVxuXG4gICAgLy8gTmF2aWdhdGlvbiBpbnRlbnRzXG4gICAgdGhpcy5pbnRlbnRzLnNldCgnbmF2aWdhdGVfdG8nLCB7XG4gICAgICBuYW1lOiAnbmF2aWdhdGVfdG8nLFxuICAgICAgcGFyYW1ldGVyczogbmV3IE1hcChbXG4gICAgICAgIFsnZGVzdGluYXRpb24nLCAnc3RyaW5nJ10sXG4gICAgICAgIFsnbW9kZScsICdzdHJpbmcnXVxuICAgICAgXSksXG4gICAgICBhY3Rpb246ICduYXZpZ2F0ZSdcbiAgICB9KVxuXG4gICAgdGhpcy5pbnRlbnRzLnNldCgnc2hvd19kYXNoYm9hcmQnLCB7XG4gICAgICBuYW1lOiAnc2hvd19kYXNoYm9hcmQnLFxuICAgICAgcGFyYW1ldGVyczogbmV3IE1hcChbXG4gICAgICAgIFsndHlwZScsICdzdHJpbmcnXSxcbiAgICAgICAgWydkYXRhJywgJ3N0cmluZyddXG4gICAgICBdKSxcbiAgICAgIGFjdGlvbjogJ2Rpc3BsYXlfZGFzaGJvYXJkJ1xuICAgIH0pXG5cbiAgICAvLyBDb21tdW5pY2F0aW9uIGludGVudHNcbiAgICB0aGlzLmludGVudHMuc2V0KCdzZW5kX21lc3NhZ2UnLCB7XG4gICAgICBuYW1lOiAnc2VuZF9tZXNzYWdlJyxcbiAgICAgIHBhcmFtZXRlcnM6IG5ldyBNYXAoW1xuICAgICAgICBbJ3JlY2lwaWVudCcsICdzdHJpbmcnXSxcbiAgICAgICAgWydtZXNzYWdlJywgJ3N0cmluZyddXG4gICAgICBdKSxcbiAgICAgIGFjdGlvbjogJ2NvbW11bmljYXRlJ1xuICAgIH0pXG5cbiAgICB0aGlzLmludGVudHMuc2V0KCdzY2hlZHVsZV9ldmVudCcsIHtcbiAgICAgIG5hbWU6ICdzY2hlZHVsZV9ldmVudCcsXG4gICAgICBwYXJhbWV0ZXJzOiBuZXcgTWFwKFtcbiAgICAgICAgWyd0aXRsZScsICdzdHJpbmcnXSxcbiAgICAgICAgWyd0aW1lJywgJ3N0cmluZyddLFxuICAgICAgICBbJ2R1cmF0aW9uJywgJ3N0cmluZyddXG4gICAgICBdKSxcbiAgICAgIGFjdGlvbjogJ2NyZWF0ZV9jYWxlbmRhcl9ldmVudCdcbiAgICB9KVxuXG4gICAgLy8gSW5mb3JtYXRpb24gaW50ZW50c1xuICAgIHRoaXMuaW50ZW50cy5zZXQoJ2dldF9zdGF0dXMnLCB7XG4gICAgICBuYW1lOiAnZ2V0X3N0YXR1cycsXG4gICAgICBwYXJhbWV0ZXJzOiBuZXcgTWFwKFtcbiAgICAgICAgWydzeXN0ZW0nLCAnc3RyaW5nJ10sXG4gICAgICAgIFsnbWV0cmljJywgJ3N0cmluZyddXG4gICAgICBdKSxcbiAgICAgIGFjdGlvbjogJ3F1ZXJ5X3N0YXR1cydcbiAgICB9KVxuXG4gICAgdGhpcy5pbnRlbnRzLnNldCgnYW5hbHl6ZV9kYXRhJywge1xuICAgICAgbmFtZTogJ2FuYWx5emVfZGF0YScsXG4gICAgICBwYXJhbWV0ZXJzOiBuZXcgTWFwKFtcbiAgICAgICAgWydkYXRhc2V0JywgJ3N0cmluZyddLFxuICAgICAgICBbJ2FuYWx5c2lzX3R5cGUnLCAnc3RyaW5nJ11cbiAgICAgIF0pLFxuICAgICAgYWN0aW9uOiAncGVyZm9ybV9hbmFseXNpcydcbiAgICB9KVxuXG4gICAgLy8gU2VjdXJpdHkgaW50ZW50c1xuICAgIHRoaXMuaW50ZW50cy5zZXQoJ2xvY2tfc3lzdGVtJywge1xuICAgICAgbmFtZTogJ2xvY2tfc3lzdGVtJyxcbiAgICAgIHBhcmFtZXRlcnM6IG5ldyBNYXAoW1xuICAgICAgICBbJ2xldmVsJywgJ3N0cmluZyddLFxuICAgICAgICBbJ2R1cmF0aW9uJywgJ3N0cmluZyddXG4gICAgICBdKSxcbiAgICAgIGFjdGlvbjogJ3NlY3VyZV9zeXN0ZW0nXG4gICAgfSlcblxuICAgIHRoaXMuaW50ZW50cy5zZXQoJ2VtZXJnZW5jeV9zdG9wJywge1xuICAgICAgbmFtZTogJ2VtZXJnZW5jeV9zdG9wJyxcbiAgICAgIHBhcmFtZXRlcnM6IG5ldyBNYXAoW1xuICAgICAgICBbJ3N5c3RlbScsICdzdHJpbmcnXSxcbiAgICAgICAgWydyZWFzb24nLCAnc3RyaW5nJ11cbiAgICAgIF0pLFxuICAgICAgYWN0aW9uOiAnZW1lcmdlbmN5X3NodXRkb3duJ1xuICAgIH0pXG4gIH1cblxuICAvLyBDcmVhdGUgdm9pY2UgVUlcbiAgcHJpdmF0ZSBjcmVhdGVWb2ljZVVJKCkge1xuICAgIHRoaXMudm9pY2VVSSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUodGhpcy52b2ljZVVJLCB7XG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoOCwgNCwgMTQpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDMsIDIsIDAuMSlcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRCb3godGhpcy52b2ljZVVJKVxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKHRoaXMudm9pY2VVSSwge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjIsIDAuNCwgMC45KSxcbiAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4yLCAwLjQsIDAuOCwgMC41KSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAyXG4gICAgfSlcblxuICAgIC8vIENyZWF0ZSB0aXRsZVxuICAgIGNvbnN0IHRpdGxlID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZSh0aXRsZSwge1xuICAgICAgcGFyZW50OiB0aGlzLnZvaWNlVUksXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgMC43LCAwLjEpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMywgMC4zLCAwLjMpXG4gICAgfSlcbiAgICBUZXh0U2hhcGUuY3JlYXRlKHRpdGxlLCB7XG4gICAgICB0ZXh0OiAnXHVEODNDXHVERkE0IFZPSUNFIEFTU0lTVEFOVCcsXG4gICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICBmb250U2l6ZTogMixcbiAgICAgIHRleHRBbGlnbjogM1xuICAgIH0pXG5cbiAgICAvLyBDcmVhdGUgc3RhdHVzIGluZGljYXRvclxuICAgIHRoaXMuY3JlYXRlU3RhdHVzSW5kaWNhdG9yKClcblxuICAgIC8vIENyZWF0ZSB0cmFuc2NyaXB0IGRpc3BsYXlcbiAgICB0aGlzLmNyZWF0ZVRyYW5zY3JpcHREaXNwbGF5KClcblxuICAgIC8vIENyZWF0ZSBjb250cm9sIGJ1dHRvbnNcbiAgICB0aGlzLmNyZWF0ZVZvaWNlQ29udHJvbHMoKVxuICB9XG5cbiAgLy8gQ3JlYXRlIHN0YXR1cyBpbmRpY2F0b3JcbiAgcHJpdmF0ZSBjcmVhdGVTdGF0dXNJbmRpY2F0b3IoKSB7XG4gICAgY29uc3Qgc3RhdHVzSW5kaWNhdG9yID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZShzdGF0dXNJbmRpY2F0b3IsIHtcbiAgICAgIHBhcmVudDogdGhpcy52b2ljZVVJLFxuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDAsIDAuMywgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjIsIDAuMiwgMC4xKVxuICAgIH0pXG4gICAgTWVzaFJlbmRlcmVyLnNldEJveChzdGF0dXNJbmRpY2F0b3IpXG4gICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoc3RhdHVzSW5kaWNhdG9yLCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgwLjIsIDAuOCwgMC4yLCAxKSxcbiAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4yLCAwLjgsIDAuMiwgMC44KSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAyXG4gICAgfSlcblxuICAgIC8vIEFuaW1hdGUgc3RhdHVzIGluZGljYXRvclxuICAgIHRoaXMuYW5pbWF0ZVN0YXR1c0luZGljYXRvcihzdGF0dXNJbmRpY2F0b3IpXG4gIH1cblxuICAvLyBBbmltYXRlIHN0YXR1cyBpbmRpY2F0b3JcbiAgcHJpdmF0ZSBhbmltYXRlU3RhdHVzSW5kaWNhdG9yKGluZGljYXRvcjogYW55KSB7XG4gICAgZW5naW5lLmFkZFN5c3RlbSgoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCkgcmV0dXJuXG5cbiAgICAgIGNvbnN0IHRpbWUgPSBEYXRlLm5vdygpIC8gMTAwMFxuICAgICAgY29uc3QgbWF0ZXJpYWwgPSBNYXRlcmlhbC5nZXRNdXRhYmxlKGluZGljYXRvcilcblxuICAgICAgaWYgKG1hdGVyaWFsICYmIG1hdGVyaWFsLiRjYXNlID09PSAncGJyJykge1xuICAgICAgICBzd2l0Y2ggKHRoaXMudm9pY2VBc3Npc3RhbnQucHJvY2Vzc2luZ1N0YXRlKSB7XG4gICAgICAgICAgY2FzZSAnaWRsZSc6XG4gICAgICAgICAgICBtYXRlcmlhbC5wYnIuYWxiZWRvQ29sb3IgPSBDb2xvcjQuY3JlYXRlKDAuMiwgMC44LCAwLjIsIDEpXG4gICAgICAgICAgICBtYXRlcmlhbC5wYnIuZW1pc3NpdmVJbnRlbnNpdHkgPSAxXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgJ2xpc3RlbmluZyc6XG4gICAgICAgICAgICBjb25zdCBwdWxzZSA9IE1hdGguc2luKHRpbWUgKiAzKSAqIDAuNSArIDAuNVxuICAgICAgICAgICAgbWF0ZXJpYWwucGJyLmFsYmVkb0NvbG9yID0gQ29sb3I0LmNyZWF0ZSgxLCAwLjgsIDAuMiwgMSlcbiAgICAgICAgICAgIG1hdGVyaWFsLnBici5lbWlzc2l2ZUludGVuc2l0eSA9IDIgKyBwdWxzZSAqIDJcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAncHJvY2Vzc2luZyc6XG4gICAgICAgICAgICBtYXRlcmlhbC5wYnIuYWxiZWRvQ29sb3IgPSBDb2xvcjQuY3JlYXRlKDAuMiwgMC4yLCAxLCAxKVxuICAgICAgICAgICAgbWF0ZXJpYWwucGJyLmVtaXNzaXZlSW50ZW5zaXR5ID0gM1xuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICBjYXNlICdyZXNwb25kaW5nJzpcbiAgICAgICAgICAgIG1hdGVyaWFsLnBici5hbGJlZG9Db2xvciA9IENvbG9yNC5jcmVhdGUoMC44LCAwLjIsIDAuOCwgMSlcbiAgICAgICAgICAgIG1hdGVyaWFsLnBici5lbWlzc2l2ZUludGVuc2l0eSA9IDJcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLy8gQ3JlYXRlIHRyYW5zY3JpcHQgZGlzcGxheVxuICBwcml2YXRlIGNyZWF0ZVRyYW5zY3JpcHREaXNwbGF5KCkge1xuICAgIGNvbnN0IHRyYW5zY3JpcHREaXNwbGF5ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZSh0cmFuc2NyaXB0RGlzcGxheSwge1xuICAgICAgcGFyZW50OiB0aGlzLnZvaWNlVUksXG4gICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoMCwgLTAuMSwgMC4xKSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjgsIDAuMywgMC4xKVxuICAgIH0pXG4gICAgTWVzaFJlbmRlcmVyLnNldEJveCh0cmFuc2NyaXB0RGlzcGxheSlcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbCh0cmFuc2NyaXB0RGlzcGxheSwge1xuICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjEsIDAuMSwgMC44KSxcbiAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC4xLCAwLjEsIDAuMSwgMC4zKSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAxXG4gICAgfSlcblxuICAgIGNvbnN0IHRyYW5zY3JpcHRUZXh0ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZSh0cmFuc2NyaXB0VGV4dCwge1xuICAgICAgcGFyZW50OiB0cmFuc2NyaXB0RGlzcGxheSxcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwLjEpLFxuICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMywgMC4zLCAwLjMpXG4gICAgfSlcbiAgICBUZXh0U2hhcGUuY3JlYXRlKHRyYW5zY3JpcHRUZXh0LCB7XG4gICAgICB0ZXh0OiAnU2F5IFwiSGVsbG8gTmV4dXNcIiB0byBzdGFydC4uLicsXG4gICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICBmb250U2l6ZTogMS41LFxuICAgICAgdGV4dEFsaWduOiAzXG4gICAgfSlcbiAgfVxuXG4gIC8vIENyZWF0ZSB2b2ljZSBjb250cm9sc1xuICBwcml2YXRlIGNyZWF0ZVZvaWNlQ29udHJvbHMoKSB7XG4gICAgY29uc3QgY29udHJvbHMgPSBbXG4gICAgICB7IGlkOiAnbGlzdGVuJywgaWNvbjogJ1x1RDgzQ1x1REZBNCcsIG5hbWU6ICdTdGFydCBMaXN0ZW5pbmcnIH0sXG4gICAgICB7IGlkOiAnc3RvcCcsIGljb246ICdcdTIzRjlcdUZFMEYnLCBuYW1lOiAnU3RvcCBMaXN0ZW5pbmcnIH0sXG4gICAgICB7IGlkOiAnc2V0dGluZ3MnLCBpY29uOiAnXHUyNjk5XHVGRTBGJywgbmFtZTogJ1ZvaWNlIFNldHRpbmdzJyB9XG4gICAgXVxuXG4gICAgbGV0IHhPZmZzZXQgPSAtMC44XG5cbiAgICBjb250cm9scy5mb3JFYWNoKGNvbnRyb2wgPT4ge1xuICAgICAgY29uc3QgYnV0dG9uID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgICBUcmFuc2Zvcm0uY3JlYXRlKGJ1dHRvbiwge1xuICAgICAgICBwYXJlbnQ6IHRoaXMudm9pY2VVSSxcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKHhPZmZzZXQsIC0wLjYsIDAuMSksXG4gICAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjMsIDAuMywgMC4xKVxuICAgICAgfSlcbiAgICAgIE1lc2hSZW5kZXJlci5zZXRCb3goYnV0dG9uKVxuICAgICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoYnV0dG9uLCB7XG4gICAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMywgMC42LCAwLjgsIDEpLFxuICAgICAgICBlbWlzc2l2ZUNvbG9yOiBDb2xvcjQuY3JlYXRlKDAuMywgMC42LCAwLjgsIDAuNSksXG4gICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAyXG4gICAgICB9KVxuXG4gICAgICBjb25zdCBidXR0b25UZXh0ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgICBUcmFuc2Zvcm0uY3JlYXRlKGJ1dHRvblRleHQsIHtcbiAgICAgICAgcGFyZW50OiBidXR0b24sXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSgwLCAwLCAwLjEpLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMC41LCAwLjUsIDAuNSlcbiAgICAgIH0pXG4gICAgICBUZXh0U2hhcGUuY3JlYXRlKGJ1dHRvblRleHQsIHtcbiAgICAgICAgdGV4dDogY29udHJvbC5pY29uLFxuICAgICAgICB0ZXh0Q29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMSksXG4gICAgICAgIGZvbnRTaXplOiAyLFxuICAgICAgICB0ZXh0QWxpZ246IDNcbiAgICAgIH0pXG5cbiAgICAgIHBvaW50ZXJFdmVudHNTeXN0ZW0ub25Qb2ludGVyRG93bihcbiAgICAgICAge1xuICAgICAgICAgIGVudGl0eTogYnV0dG9uLFxuICAgICAgICAgIG9wdHM6IHsgYnV0dG9uOiBJbnB1dEFjdGlvbi5JQV9QT0lOVEVSLCBob3ZlclRleHQ6IGNvbnRyb2wubmFtZSB9XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHRoaXMuaGFuZGxlVm9pY2VDb250cm9sKGNvbnRyb2wuaWQpXG4gICAgICApXG5cbiAgICAgIHhPZmZzZXQgKz0gMC44XG4gICAgfSlcbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgc3BlZWNoIHJlY29nbml0aW9uXG4gIHByaXZhdGUgaW5pdGlhbGl6ZVNwZWVjaFJlY29nbml0aW9uKCkge1xuICAgIC8vIFNpbXVsYXRlIHNwZWVjaCByZWNvZ25pdGlvbiBlbmdpbmVcbiAgICB0aGlzLnJlY29nbml0aW9uRW5naW5lID0ge1xuICAgICAgaXNMaXN0ZW5pbmc6IGZhbHNlLFxuICAgICAgY29udGludW91czogdHJ1ZSxcbiAgICAgIGludGVyaW1SZXN1bHRzOiB0cnVlLFxuICAgICAgbGFuZzogJ2VuLVVTJyxcblxuICAgICAgc3RhcnQ6ICgpID0+IHtcbiAgICAgICAgdGhpcy5yZWNvZ25pdGlvbkVuZ2luZS5pc0xpc3RlbmluZyA9IHRydWVcbiAgICAgICAgdGhpcy52b2ljZUFzc2lzdGFudC5wcm9jZXNzaW5nU3RhdGUgPSAnbGlzdGVuaW5nJ1xuICAgICAgICBjb25zb2xlLmxvZygnXHVEODNDXHVERkE0IFNwZWVjaCByZWNvZ25pdGlvbiBzdGFydGVkJylcbiAgICAgIH0sXG5cbiAgICAgIHN0b3A6ICgpID0+IHtcbiAgICAgICAgdGhpcy5yZWNvZ25pdGlvbkVuZ2luZS5pc0xpc3RlbmluZyA9IGZhbHNlXG4gICAgICAgIHRoaXMudm9pY2VBc3Npc3RhbnQucHJvY2Vzc2luZ1N0YXRlID0gJ2lkbGUnXG4gICAgICAgIGNvbnNvbGUubG9nKCdcdUQ4M0NcdURGQTQgU3BlZWNoIHJlY29nbml0aW9uIHN0b3BwZWQnKVxuICAgICAgfSxcblxuICAgICAgb25yZXN1bHQ6IG51bGwsXG4gICAgICBvbmVycm9yOiBudWxsLFxuICAgICAgb25lbmQ6IG51bGxcbiAgICB9XG5cbiAgICAvLyBTZXR1cCBldmVudCBoYW5kbGVyc1xuICAgIHRoaXMucmVjb2duaXRpb25FbmdpbmUub25yZXN1bHQgPSAoZXZlbnQ6IGFueSkgPT4gdGhpcy5oYW5kbGVTcGVlY2hSZXN1bHQoZXZlbnQpXG4gICAgdGhpcy5yZWNvZ25pdGlvbkVuZ2luZS5vbmVycm9yID0gKGV2ZW50OiBhbnkpID0+IHRoaXMuaGFuZGxlU3BlZWNoRXJyb3IoZXZlbnQpXG4gICAgdGhpcy5yZWNvZ25pdGlvbkVuZ2luZS5vbmVuZCA9ICgpID0+IHRoaXMuaGFuZGxlU3BlZWNoRW5kKClcbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgQUkgcHJvY2Vzc29yXG4gIHByaXZhdGUgaW5pdGlhbGl6ZUFJUHJvY2Vzc29yKCkge1xuICAgIC8vIFNpbXVsYXRlIEFJIHByb2Nlc3NpbmcgZW5naW5lXG4gICAgdGhpcy5haVByb2Nlc3NvciA9IHtcbiAgICAgIHByb2Nlc3NJbnRlbnQ6ICh0cmFuc2NyaXB0OiBzdHJpbmcpID0+IHRoaXMucHJvY2Vzc0ludGVudFdpdGhBSSh0cmFuc2NyaXB0KSxcbiAgICAgIGdlbmVyYXRlUmVzcG9uc2U6IChpbnRlbnQ6IHN0cmluZywgZW50aXRpZXM6IE1hcDxzdHJpbmcsIGFueT4pID0+IHRoaXMuZ2VuZXJhdGVBSVJlc3BvbnNlKGludGVudCwgZW50aXRpZXMpLFxuICAgICAgY29uZmlkZW5jZTogMC44NVxuICAgIH1cbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgdm9pY2Ugc3ludGhlc2lzXG4gIHByaXZhdGUgaW5pdGlhbGl6ZVZvaWNlU3ludGhlc2lzKCkge1xuICAgIC8vIFNpbXVsYXRlIHZvaWNlIHN5bnRoZXNpcyBlbmdpbmVcbiAgICB0aGlzLnZvaWNlU3ludGhlc2l6ZXIgPSB7XG4gICAgICBzcGVhazogKHRleHQ6IHN0cmluZykgPT4gdGhpcy5zeW50aGVzaXplU3BlZWNoKHRleHQpLFxuICAgICAgY2FuY2VsOiAoKSA9PiB0aGlzLnN0b3BTcGVlY2goKSxcbiAgICAgIHZvaWNlOiB0aGlzLnZvaWNlQXNzaXN0YW50LnZvaWNlLFxuICAgICAgcmF0ZTogMS4wLFxuICAgICAgcGl0Y2g6IDEuMCxcbiAgICAgIHZvbHVtZTogMS4wXG4gICAgfVxuICB9XG5cbiAgLy8gU3RhcnQgdm9pY2UgZW5naW5lXG4gIHByaXZhdGUgc3RhcnRWb2ljZUVuZ2luZSgpIHtcbiAgICBlbmdpbmUuYWRkU3lzdGVtKCgpID0+IHtcbiAgICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkKSByZXR1cm5cblxuICAgICAgdGhpcy51cGRhdGVWb2ljZVVJKClcbiAgICAgIHRoaXMuc2ltdWxhdGVWb2ljZUlucHV0KClcbiAgICB9KVxuICB9XG5cbiAgLy8gSGFuZGxlIHZvaWNlIGNvbnRyb2xcbiAgcHJpdmF0ZSBoYW5kbGVWb2ljZUNvbnRyb2woY29udHJvbElkOiBzdHJpbmcpIHtcbiAgICBzd2l0Y2ggKGNvbnRyb2xJZCkge1xuICAgICAgY2FzZSAnbGlzdGVuJzpcbiAgICAgICAgdGhpcy5zdGFydExpc3RlbmluZygpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdzdG9wJzpcbiAgICAgICAgdGhpcy5zdG9wTGlzdGVuaW5nKClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3NldHRpbmdzJzpcbiAgICAgICAgdGhpcy5vcGVuVm9pY2VTZXR0aW5ncygpXG4gICAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ2NsaWNrJylcbiAgfVxuXG4gIC8vIFN0YXJ0IGxpc3RlbmluZ1xuICBwdWJsaWMgc3RhcnRMaXN0ZW5pbmcoKSB7XG4gICAgaWYgKHRoaXMucmVjb2duaXRpb25FbmdpbmUuaXNMaXN0ZW5pbmcpIHJldHVyblxuXG4gICAgdGhpcy5yZWNvZ25pdGlvbkVuZ2luZS5zdGFydCgpXG4gICAgdGhpcy5pc0xpc3RlbmluZyA9IHRydWVcbiAgICB0aGlzLnZvaWNlQXNzaXN0YW50LnByb2Nlc3NpbmdTdGF0ZSA9ICdsaXN0ZW5pbmcnXG5cbiAgICBjb25zb2xlLmxvZygnXHVEODNDXHVERkE0IFN0YXJ0ZWQgbGlzdGVuaW5nIGZvciB2b2ljZSBjb21tYW5kcy4uLicpXG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ3Bvd2VydXAnKVxuICB9XG5cbiAgLy8gU3RvcCBsaXN0ZW5pbmdcbiAgcHVibGljIHN0b3BMaXN0ZW5pbmcoKSB7XG4gICAgaWYgKCF0aGlzLnJlY29nbml0aW9uRW5naW5lLmlzTGlzdGVuaW5nKSByZXR1cm5cblxuICAgIHRoaXMucmVjb2duaXRpb25FbmdpbmUuc3RvcCgpXG4gICAgdGhpcy5pc0xpc3RlbmluZyA9IGZhbHNlXG4gICAgdGhpcy52b2ljZUFzc2lzdGFudC5wcm9jZXNzaW5nU3RhdGUgPSAnaWRsZSdcblxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0NcdURGQTQgU3RvcHBlZCBsaXN0ZW5pbmcnKVxuICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdjbGljaycpXG4gIH1cblxuICAvLyBIYW5kbGUgc3BlZWNoIHJlc3VsdFxuICBwcml2YXRlIGhhbmRsZVNwZWVjaFJlc3VsdChldmVudDogYW55KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gZXZlbnQucmVzdWx0c1tldmVudC5yZXN1bHRzLmxlbmd0aCAtIDFdXG4gICAgY29uc3QgdHJhbnNjcmlwdCA9IHJlc3VsdFswXS50cmFuc2NyaXB0LnRvTG93ZXJDYXNlKCkudHJpbSgpXG5cbiAgICB0aGlzLmN1cnJlbnRUcmFuc2NyaXB0ID0gdHJhbnNjcmlwdFxuXG4gICAgaWYgKHJlc3VsdC5pc0ZpbmFsKSB7XG4gICAgICB0aGlzLnByb2Nlc3NWb2ljZUNvbW1hbmQodHJhbnNjcmlwdClcbiAgICB9XG4gIH1cblxuICAvLyBIYW5kbGUgc3BlZWNoIGVycm9yXG4gIHByaXZhdGUgaGFuZGxlU3BlZWNoRXJyb3IoZXZlbnQ6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1x1RDgzQ1x1REZBNCBTcGVlY2ggcmVjb2duaXRpb24gZXJyb3I6JywgZXZlbnQuZXJyb3IpXG4gICAgdGhpcy52b2ljZUFzc2lzdGFudC5wcm9jZXNzaW5nU3RhdGUgPSAnaWRsZSdcbiAgICB0aGlzLmlzTGlzdGVuaW5nID0gZmFsc2VcbiAgfVxuXG4gIC8vIEhhbmRsZSBzcGVlY2ggZW5kXG4gIHByaXZhdGUgaGFuZGxlU3BlZWNoRW5kKCkge1xuICAgIHRoaXMudm9pY2VBc3Npc3RhbnQucHJvY2Vzc2luZ1N0YXRlID0gJ2lkbGUnXG4gICAgdGhpcy5pc0xpc3RlbmluZyA9IGZhbHNlXG4gIH1cblxuICAvLyBQcm9jZXNzIHZvaWNlIGNvbW1hbmRcbiAgcHJpdmF0ZSBwcm9jZXNzVm9pY2VDb21tYW5kKHRyYW5zY3JpcHQ6IHN0cmluZykge1xuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0NcdURGQTQgUHJvY2Vzc2luZyBjb21tYW5kOiBcIiR7dHJhbnNjcmlwdH1cImApXG5cbiAgICB0aGlzLnZvaWNlQXNzaXN0YW50LnByb2Nlc3NpbmdTdGF0ZSA9ICdwcm9jZXNzaW5nJ1xuXG4gICAgLy8gUHJvY2VzcyB3aXRoIEFJXG4gICAgY29uc3QgaW50ZW50UmVzdWx0ID0gdGhpcy5haVByb2Nlc3Nvci5wcm9jZXNzSW50ZW50KHRyYW5zY3JpcHQpXG5cbiAgICBpZiAoaW50ZW50UmVzdWx0LmNvbmZpZGVuY2UgPiAwLjcpIHtcbiAgICAgIHRoaXMuZXhlY3V0ZVZvaWNlQ29tbWFuZChpbnRlbnRSZXN1bHQuaW50ZW50LCBpbnRlbnRSZXN1bHQuZW50aXRpZXMpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGFuZGxlVW5rbm93bkNvbW1hbmQodHJhbnNjcmlwdClcbiAgICB9XG4gIH1cblxuICAvLyBQcm9jZXNzIGludGVudCB3aXRoIEFJXG4gIHByaXZhdGUgcHJvY2Vzc0ludGVudFdpdGhBSSh0cmFuc2NyaXB0OiBzdHJpbmcpOiBhbnkge1xuICAgIC8vIFNpbXVsYXRlIEFJIGludGVudCBwcm9jZXNzaW5nXG4gICAgY29uc3QgaW50ZW50cyA9IFtcbiAgICAgIHsga2V5d29yZHM6IFsndHVybiBvbicsICdzd2l0Y2ggb24nLCAnYWN0aXZhdGUnXSwgaW50ZW50OiAndG9nZ2xlX2xpZ2h0cycsIGVudGl0aWVzOiBuZXcgTWFwKFtbJ2FjdGlvbicsICdvbiddXSkgfSxcbiAgICAgIHsga2V5d29yZHM6IFsndHVybiBvZmYnLCAnc3dpdGNoIG9mZicsICdkZWFjdGl2YXRlJ10sIGludGVudDogJ3RvZ2dsZV9saWdodHMnLCBlbnRpdGllczogbmV3IE1hcChbWydhY3Rpb24nLCAnb2ZmJ11dKSB9LFxuICAgICAgeyBrZXl3b3JkczogWyd0ZW1wZXJhdHVyZScsICdzZXQgdGVtcCcsICdhZGp1c3QgdGVtcCddLCBpbnRlbnQ6ICdhZGp1c3RfdGVtcGVyYXR1cmUnLCBlbnRpdGllczogbmV3IE1hcChbWyd0ZW1wZXJhdHVyZScsIDIyXV0pIH0sXG4gICAgICB7IGtleXdvcmRzOiBbJ21lZXRpbmcnLCAnc3RhcnQgbWVldGluZycsICdzY2hlZHVsZSBtZWV0aW5nJ10sIGludGVudDogJ3N0YXJ0X21lZXRpbmcnLCBlbnRpdGllczogbmV3IE1hcCgpIH0sXG4gICAgICB7IGtleXdvcmRzOiBbJ25hdmlnYXRlJywgJ2dvIHRvJywgJ3Rha2UgbWUgdG8nXSwgaW50ZW50OiAnbmF2aWdhdGVfdG8nLCBlbnRpdGllczogbmV3IE1hcCgpIH0sXG4gICAgICB7IGtleXdvcmRzOiBbJ2Rhc2hib2FyZCcsICdzaG93IGRhc2hib2FyZCcsICdkaXNwbGF5J10sIGludGVudDogJ3Nob3dfZGFzaGJvYXJkJywgZW50aXRpZXM6IG5ldyBNYXAoKSB9LFxuICAgICAgeyBrZXl3b3JkczogWydzdGF0dXMnLCAnY2hlY2sgc3RhdHVzJywgJ3N5c3RlbSBzdGF0dXMnXSwgaW50ZW50OiAnZ2V0X3N0YXR1cycsIGVudGl0aWVzOiBuZXcgTWFwKCkgfSxcbiAgICAgIHsga2V5d29yZHM6IFsnbG9jaycsICdzZWN1cmUnLCAnbG9jayBkb3duJ10sIGludGVudDogJ2xvY2tfc3lzdGVtJywgZW50aXRpZXM6IG5ldyBNYXAoKSB9LFxuICAgICAgeyBrZXl3b3JkczogWydlbWVyZ2VuY3knLCAnc3RvcCcsICdlbWVyZ2VuY3kgc3RvcCddLCBpbnRlbnQ6ICdlbWVyZ2VuY3lfc3RvcCcsIGVudGl0aWVzOiBuZXcgTWFwKCkgfVxuICAgIF1cblxuICAgIGZvciAoY29uc3QgaW50ZW50RGF0YSBvZiBpbnRlbnRzKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleXdvcmQgb2YgaW50ZW50RGF0YS5rZXl3b3Jkcykge1xuICAgICAgICBpZiAodHJhbnNjcmlwdC5pbmNsdWRlcyhrZXl3b3JkKSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbnRlbnQ6IGludGVudERhdGEuaW50ZW50LFxuICAgICAgICAgICAgZW50aXRpZXM6IGludGVudERhdGEuZW50aXRpZXMsXG4gICAgICAgICAgICBjb25maWRlbmNlOiAwLjlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgaW50ZW50OiAndW5rbm93bicsXG4gICAgICBlbnRpdGllczogbmV3IE1hcCgpLFxuICAgICAgY29uZmlkZW5jZTogMC4xXG4gICAgfVxuICB9XG5cbiAgLy8gRXhlY3V0ZSB2b2ljZSBjb21tYW5kXG4gIHByaXZhdGUgZXhlY3V0ZVZvaWNlQ29tbWFuZChpbnRlbnQ6IHN0cmluZywgZW50aXRpZXM6IE1hcDxzdHJpbmcsIGFueT4pIHtcbiAgICBjb25zb2xlLmxvZyhgXHVEODNDXHVERkFGIEV4ZWN1dGluZyBpbnRlbnQ6ICR7aW50ZW50fWApXG5cbiAgICBjb25zdCBjb21tYW5kOiBWb2ljZUNvbW1hbmQgPSB7XG4gICAgICBpZDogYGNtZF8ke0RhdGUubm93KCl9YCxcbiAgICAgIHBocmFzZTogdGhpcy5jdXJyZW50VHJhbnNjcmlwdCxcbiAgICAgIGludGVudDogaW50ZW50LFxuICAgICAgZW50aXRpZXM6IGVudGl0aWVzLFxuICAgICAgY29uZmlkZW5jZTogMC45LFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgaXNQcm9jZXNzZWQ6IGZhbHNlXG4gICAgfVxuXG4gICAgdGhpcy5jb21tYW5kcy5zZXQoY29tbWFuZC5pZCwgY29tbWFuZClcbiAgICB0aGlzLmNvbW1hbmRIaXN0b3J5LnB1c2goY29tbWFuZClcblxuICAgIC8vIEV4ZWN1dGUgYmFzZWQgb24gaW50ZW50XG4gICAgc3dpdGNoIChpbnRlbnQpIHtcbiAgICAgIGNhc2UgJ3RvZ2dsZV9saWdodHMnOlxuICAgICAgICB0aGlzLmV4ZWN1dGVMaWdodENvbnRyb2woZW50aXRpZXMpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdhZGp1c3RfdGVtcGVyYXR1cmUnOlxuICAgICAgICB0aGlzLmV4ZWN1dGVUZW1wZXJhdHVyZUNvbnRyb2woZW50aXRpZXMpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdzdGFydF9tZWV0aW5nJzpcbiAgICAgICAgdGhpcy5leGVjdXRlTWVldGluZ1N0YXJ0KGVudGl0aWVzKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnbmF2aWdhdGVfdG8nOlxuICAgICAgICB0aGlzLmV4ZWN1dGVOYXZpZ2F0aW9uKGVudGl0aWVzKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnc2hvd19kYXNoYm9hcmQnOlxuICAgICAgICB0aGlzLmV4ZWN1dGVEYXNoYm9hcmREaXNwbGF5KGVudGl0aWVzKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnZ2V0X3N0YXR1cyc6XG4gICAgICAgIHRoaXMuZXhlY3V0ZVN0YXR1c1F1ZXJ5KGVudGl0aWVzKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnbG9ja19zeXN0ZW0nOlxuICAgICAgICB0aGlzLmV4ZWN1dGVTeXN0ZW1Mb2NrKGVudGl0aWVzKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnZW1lcmdlbmN5X3N0b3AnOlxuICAgICAgICB0aGlzLmV4ZWN1dGVFbWVyZ2VuY3lTdG9wKGVudGl0aWVzKVxuICAgICAgICBicmVha1xuICAgIH1cblxuICAgIGNvbW1hbmQuaXNQcm9jZXNzZWQgPSB0cnVlXG4gICAgdGhpcy52b2ljZUFzc2lzdGFudC5wcm9jZXNzaW5nU3RhdGUgPSAncmVzcG9uZGluZydcblxuICAgIC8vIEdlbmVyYXRlIEFJIHJlc3BvbnNlXG4gICAgY29uc3QgcmVzcG9uc2UgPSB0aGlzLmFpUHJvY2Vzc29yLmdlbmVyYXRlUmVzcG9uc2UoaW50ZW50LCBlbnRpdGllcylcbiAgICB0aGlzLnNwZWFrUmVzcG9uc2UocmVzcG9uc2UudGV4dClcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy52b2ljZUFzc2lzdGFudC5wcm9jZXNzaW5nU3RhdGUgPSAnaWRsZSdcbiAgICB9LCAyMDAwKVxuICB9XG5cbiAgLy8gRXhlY3V0ZSBsaWdodCBjb250cm9sXG4gIHByaXZhdGUgZXhlY3V0ZUxpZ2h0Q29udHJvbChlbnRpdGllczogTWFwPHN0cmluZywgYW55Pikge1xuICAgIGNvbnN0IGFjdGlvbiA9IGVudGl0aWVzLmdldCgnYWN0aW9uJylcbiAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVEQ0ExICR7YWN0aW9uID09PSAnb24nID8gJ1R1cm5pbmcgb24nIDogJ1R1cm5pbmcgb2ZmJ30gbGlnaHRzYClcblxuICAgIC8vIEluIHJlYWwgaW1wbGVtZW50YXRpb24sIHRoaXMgd291bGQgY29udHJvbCBzbWFydCBsaWdodHNcbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgncG93ZXJ1cCcpXG4gIH1cblxuICAvLyBFeGVjdXRlIHRlbXBlcmF0dXJlIGNvbnRyb2xcbiAgcHJpdmF0ZSBleGVjdXRlVGVtcGVyYXR1cmVDb250cm9sKGVudGl0aWVzOiBNYXA8c3RyaW5nLCBhbnk+KSB7XG4gICAgY29uc3QgdGVtcGVyYXR1cmUgPSBlbnRpdGllcy5nZXQoJ3RlbXBlcmF0dXJlJylcbiAgICBjb25zb2xlLmxvZyhgXHVEODNDXHVERjIxXHVGRTBGIFNldHRpbmcgdGVtcGVyYXR1cmUgdG8gJHt0ZW1wZXJhdHVyZX1cdTAwQjBDYClcblxuICAgIC8vIEluIHJlYWwgaW1wbGVtZW50YXRpb24sIHRoaXMgd291bGQgY29udHJvbCBIVkFDIHN5c3RlbVxuICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdjbGljaycpXG4gIH1cblxuICAvLyBFeGVjdXRlIG1lZXRpbmcgc3RhcnRcbiAgcHJpdmF0ZSBleGVjdXRlTWVldGluZ1N0YXJ0KGVudGl0aWVzOiBNYXA8c3RyaW5nLCBhbnk+KSB7XG4gICAgY29uc29sZS5sb2coJ1x1RDgzRVx1REQxRCBTdGFydGluZyBtZWV0aW5nIHNlc3Npb24nKVxuXG4gICAgLy8gSW4gcmVhbCBpbXBsZW1lbnRhdGlvbiwgdGhpcyB3b3VsZCBpbml0aWF0ZSB2aWRlbyBjb25mZXJlbmNlXG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ3Bvd2VydXAnKVxuICB9XG5cbiAgLy8gRXhlY3V0ZSBuYXZpZ2F0aW9uXG4gIHByaXZhdGUgZXhlY3V0ZU5hdmlnYXRpb24oZW50aXRpZXM6IE1hcDxzdHJpbmcsIGFueT4pIHtcbiAgICBjb25zb2xlLmxvZygnXHVEODNFXHVEREVEIE5hdmlnYXRpbmcgdG8gZGVzdGluYXRpb24nKVxuXG4gICAgLy8gSW4gcmVhbCBpbXBsZW1lbnRhdGlvbiwgdGhpcyB3b3VsZCBtb3ZlIHVzZXIgdG8gbG9jYXRpb25cbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgnY2xpY2snKVxuICB9XG5cbiAgLy8gRXhlY3V0ZSBkYXNoYm9hcmQgZGlzcGxheVxuICBwcml2YXRlIGV4ZWN1dGVEYXNoYm9hcmREaXNwbGF5KGVudGl0aWVzOiBNYXA8c3RyaW5nLCBhbnk+KSB7XG4gICAgY29uc29sZS5sb2coJ1x1RDgzRFx1RENDQSBEaXNwbGF5aW5nIGRhc2hib2FyZCcpXG5cbiAgICAvLyBJbiByZWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdvdWxkIHNob3cgcmVsZXZhbnQgZGFzaGJvYXJkXG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ3Bvd2VydXAnKVxuICB9XG5cbiAgLy8gRXhlY3V0ZSBzdGF0dXMgcXVlcnlcbiAgcHJpdmF0ZSBleGVjdXRlU3RhdHVzUXVlcnkoZW50aXRpZXM6IE1hcDxzdHJpbmcsIGFueT4pIHtcbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVEQ0M4IFF1ZXJ5aW5nIHN5c3RlbSBzdGF0dXMnKVxuXG4gICAgLy8gSW4gcmVhbCBpbXBsZW1lbnRhdGlvbiwgdGhpcyB3b3VsZCByZXRyaWV2ZSBzeXN0ZW0gc3RhdHVzXG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ2NsaWNrJylcbiAgfVxuXG4gIC8vIEV4ZWN1dGUgc3lzdGVtIGxvY2tcbiAgcHJpdmF0ZSBleGVjdXRlU3lzdGVtTG9jayhlbnRpdGllczogTWFwPHN0cmluZywgYW55Pikge1xuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdUREMTIgTG9ja2luZyBzeXN0ZW0nKVxuXG4gICAgLy8gSW4gcmVhbCBpbXBsZW1lbnRhdGlvbiwgdGhpcyB3b3VsZCBzZWN1cmUgdGhlIHN5c3RlbVxuICAgIHNvdW5kU3lzdGVtLnBsYXlJbnRlcmFjdGlvblNvdW5kKCdhbGVydCcpXG4gIH1cblxuICAvLyBFeGVjdXRlIGVtZXJnZW5jeSBzdG9wXG4gIHByaXZhdGUgZXhlY3V0ZUVtZXJnZW5jeVN0b3AoZW50aXRpZXM6IE1hcDxzdHJpbmcsIGFueT4pIHtcbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVERUE4IEVNRVJHRU5DWSBTVE9QIEFDVElWQVRFRCcpXG5cbiAgICAvLyBJbiByZWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdvdWxkIGVtZXJnZW5jeSBzaHV0ZG93biBzeXN0ZW1zXG4gICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ2Vycm9yJylcbiAgfVxuXG4gIC8vIEhhbmRsZSB1bmtub3duIGNvbW1hbmRcbiAgcHJpdmF0ZSBoYW5kbGVVbmtub3duQ29tbWFuZCh0cmFuc2NyaXB0OiBzdHJpbmcpIHtcbiAgICBjb25zb2xlLmxvZyhgXHUyNzUzIFVua25vd24gY29tbWFuZDogXCIke3RyYW5zY3JpcHR9XCJgKVxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSB0aGlzLmFpUHJvY2Vzc29yLmdlbmVyYXRlUmVzcG9uc2UoJ3Vua25vd24nLCBuZXcgTWFwKCkpXG4gICAgdGhpcy5zcGVha1Jlc3BvbnNlKHJlc3BvbnNlLnRleHQpXG5cbiAgICB0aGlzLnZvaWNlQXNzaXN0YW50LnByb2Nlc3NpbmdTdGF0ZSA9ICdpZGxlJ1xuICB9XG5cbiAgLy8gR2VuZXJhdGUgQUkgcmVzcG9uc2VcbiAgcHJpdmF0ZSBnZW5lcmF0ZUFJUmVzcG9uc2UoaW50ZW50OiBzdHJpbmcsIGVudGl0aWVzOiBNYXA8c3RyaW5nLCBhbnk+KTogQUlSZXNwb25zZSB7XG4gICAgY29uc3QgcmVzcG9uc2VzID0ge1xuICAgICAgdG9nZ2xlX2xpZ2h0czoge1xuICAgICAgICB0ZXh0OiBcIkkndmUgYWRqdXN0ZWQgdGhlIGxpZ2h0aW5nIGZvciB5b3UuXCIsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuOSxcbiAgICAgICAgYWN0aW9uczogWydsaWdodF9jb250cm9sJ10sXG4gICAgICAgIGVtb3Rpb246ICdoZWxwZnVsJ1xuICAgICAgfSxcbiAgICAgIGFkanVzdF90ZW1wZXJhdHVyZToge1xuICAgICAgICB0ZXh0OiBcIlRlbXBlcmF0dXJlIHNldHRpbmdzIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5LlwiLFxuICAgICAgICBjb25maWRlbmNlOiAwLjksXG4gICAgICAgIGFjdGlvbnM6IFsnY2xpbWF0ZV9jb250cm9sJ10sXG4gICAgICAgIGVtb3Rpb246ICdlZmZpY2llbnQnXG4gICAgICB9LFxuICAgICAgc3RhcnRfbWVldGluZzoge1xuICAgICAgICB0ZXh0OiBcIkknbSBzZXR0aW5nIHVwIHlvdXIgbWVldGluZyByb29tIG5vdy5cIixcbiAgICAgICAgY29uZmlkZW5jZTogMC45LFxuICAgICAgICBhY3Rpb25zOiBbJ21lZXRpbmdfc2V0dXAnXSxcbiAgICAgICAgZW1vdGlvbjogJ3Byb2Zlc3Npb25hbCdcbiAgICAgIH0sXG4gICAgICBuYXZpZ2F0ZV90bzoge1xuICAgICAgICB0ZXh0OiBcIlRha2luZyB5b3UgdG8geW91ciBkZXN0aW5hdGlvbi5cIixcbiAgICAgICAgY29uZmlkZW5jZTogMC45LFxuICAgICAgICBhY3Rpb25zOiBbJ25hdmlnYXRpb24nXSxcbiAgICAgICAgZW1vdGlvbjogJ2hlbHBmdWwnXG4gICAgICB9LFxuICAgICAgc2hvd19kYXNoYm9hcmQ6IHtcbiAgICAgICAgdGV4dDogXCJEaXNwbGF5aW5nIHRoZSBkYXNoYm9hcmQgeW91IHJlcXVlc3RlZC5cIixcbiAgICAgICAgY29uZmlkZW5jZTogMC45LFxuICAgICAgICBhY3Rpb25zOiBbJ2Rhc2hib2FyZF9kaXNwbGF5J10sXG4gICAgICAgIGVtb3Rpb246ICdpbmZvcm1hdGl2ZSdcbiAgICAgIH0sXG4gICAgICBnZXRfc3RhdHVzOiB7XG4gICAgICAgIHRleHQ6IFwiQWxsIHN5c3RlbXMgYXJlIG9wZXJhdGluZyBub3JtYWxseS5cIixcbiAgICAgICAgY29uZmlkZW5jZTogMC45LFxuICAgICAgICBhY3Rpb25zOiBbJ3N0YXR1c19yZXBvcnQnXSxcbiAgICAgICAgZW1vdGlvbjogJ2NvbmZpZGVudCdcbiAgICAgIH0sXG4gICAgICBsb2NrX3N5c3RlbToge1xuICAgICAgICB0ZXh0OiBcIlN5c3RlbSBzZWN1cml0eSBwcm90b2NvbHMgYWN0aXZhdGVkLlwiLFxuICAgICAgICBjb25maWRlbmNlOiAwLjksXG4gICAgICAgIGFjdGlvbnM6IFsnc2VjdXJpdHlfbG9jayddLFxuICAgICAgICBlbW90aW9uOiAnc2VyaW91cydcbiAgICAgIH0sXG4gICAgICBlbWVyZ2VuY3lfc3RvcDoge1xuICAgICAgICB0ZXh0OiBcIkVtZXJnZW5jeSBwcm9jZWR1cmVzIGluaXRpYXRlZCBpbW1lZGlhdGVseS5cIixcbiAgICAgICAgY29uZmlkZW5jZTogMS4wLFxuICAgICAgICBhY3Rpb25zOiBbJ2VtZXJnZW5jeV9zaHV0ZG93biddLFxuICAgICAgICBlbW90aW9uOiAndXJnZW50J1xuICAgICAgfSxcbiAgICAgIHVua25vd246IHtcbiAgICAgICAgdGV4dDogXCJJJ20gbm90IHN1cmUgSSB1bmRlcnN0YW5kLiBDb3VsZCB5b3UgcGxlYXNlIHJlcGhyYXNlIHRoYXQ/XCIsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuMyxcbiAgICAgICAgYWN0aW9uczogW10sXG4gICAgICAgIGVtb3Rpb246ICdjb25mdXNlZCdcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzcG9uc2VzW2ludGVudF0gfHwgcmVzcG9uc2VzLnVua25vd25cbiAgfVxuXG4gIC8vIFN5bnRoZXNpemUgc3BlZWNoXG4gIHByaXZhdGUgc3ludGhlc2l6ZVNwZWVjaCh0ZXh0OiBzdHJpbmcpIHtcbiAgICBjb25zb2xlLmxvZyhgXHVEODNEXHVERDBBIFNwZWFraW5nOiBcIiR7dGV4dH1cImApXG5cbiAgICAvLyBJbiByZWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdvdWxkIHVzZSB0ZXh0LXRvLXNwZWVjaFxuICAgIC8vIEZvciBub3csIHdlJ2xsIGp1c3QgbG9nIHRoZSByZXNwb25zZVxuICAgIHRoaXMudm9pY2VBc3Npc3RhbnQucHJvY2Vzc2luZ1N0YXRlID0gJ3Jlc3BvbmRpbmcnXG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMudm9pY2VBc3Npc3RhbnQucHJvY2Vzc2luZ1N0YXRlID0gJ2lkbGUnXG4gICAgfSwgMjAwMClcbiAgfVxuXG4gIC8vIFN0b3Agc3BlZWNoXG4gIHByaXZhdGUgc3RvcFNwZWVjaCgpIHtcbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVERDBBIFNwZWVjaCBzdG9wcGVkJylcbiAgICB0aGlzLnZvaWNlQXNzaXN0YW50LnByb2Nlc3NpbmdTdGF0ZSA9ICdpZGxlJ1xuICB9XG5cbiAgLy8gU3BlYWsgcmVzcG9uc2VcbiAgcHJpdmF0ZSBzcGVha1Jlc3BvbnNlKHRleHQ6IHN0cmluZykge1xuICAgIHRoaXMudm9pY2VTeW50aGVzaXplci5zcGVhayh0ZXh0KVxuICB9XG5cbiAgLy8gVXBkYXRlIHZvaWNlIFVJXG4gIHByaXZhdGUgdXBkYXRlVm9pY2VVSSgpIHtcbiAgICAvLyBVcGRhdGUgdHJhbnNjcmlwdCBkaXNwbGF5IHdpdGggY3VycmVudCBpbnB1dFxuICAgIC8vIFRoaXMgd291bGQgdXBkYXRlIHRoZSBVSSBpbiByZWFsIGltcGxlbWVudGF0aW9uXG4gIH1cblxuICAvLyBTaW11bGF0ZSB2b2ljZSBpbnB1dFxuICBwcml2YXRlIHNpbXVsYXRlVm9pY2VJbnB1dCgpIHtcbiAgICAvLyBTaW11bGF0ZSByYW5kb20gdm9pY2UgY29tbWFuZHMgZm9yIHRlc3RpbmdcbiAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuMDA1KSB7XG4gICAgICBjb25zdCBzYW1wbGVDb21tYW5kcyA9IFtcbiAgICAgICAgXCJ0dXJuIG9uIHRoZSBsaWdodHNcIixcbiAgICAgICAgXCJzZXQgdGVtcGVyYXR1cmUgdG8gMjIgZGVncmVlc1wiLFxuICAgICAgICBcInNob3cgbWUgdGhlIGRhc2hib2FyZFwiLFxuICAgICAgICBcIndoYXQncyB0aGUgc3lzdGVtIHN0YXR1c1wiLFxuICAgICAgICBcInN0YXJ0IGEgbWVldGluZ1wiXG4gICAgICBdXG5cbiAgICAgIGNvbnN0IHJhbmRvbUNvbW1hbmQgPSBzYW1wbGVDb21tYW5kc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBzYW1wbGVDb21tYW5kcy5sZW5ndGgpXVxuICAgICAgdGhpcy5wcm9jZXNzVm9pY2VDb21tYW5kKHJhbmRvbUNvbW1hbmQpXG4gICAgfVxuICB9XG5cbiAgLy8gT3BlbiB2b2ljZSBzZXR0aW5nc1xuICBwcml2YXRlIG9wZW5Wb2ljZVNldHRpbmdzKCkge1xuICAgIGNvbnNvbGUubG9nKCdcdTI2OTlcdUZFMEYgT3BlbmluZyB2b2ljZSBzZXR0aW5ncycpXG5cbiAgICAvLyBJbiByZWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdvdWxkIG9wZW4gc2V0dGluZ3MgcGFuZWxcbiAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgnY2xpY2snKVxuICB9XG5cbiAgLy8gR2V0IGNvbW1hbmQgaGlzdG9yeVxuICBwdWJsaWMgZ2V0Q29tbWFuZEhpc3RvcnkoKTogVm9pY2VDb21tYW5kW10ge1xuICAgIHJldHVybiBbLi4udGhpcy5jb21tYW5kSGlzdG9yeV1cbiAgfVxuXG4gIC8vIEdldCB2b2ljZSBhc3Npc3RhbnQgaW5mb1xuICBwdWJsaWMgZ2V0Vm9pY2VBc3Npc3RhbnQoKTogVm9pY2VBc3Npc3RhbnQge1xuICAgIHJldHVybiB7IC4uLnRoaXMudm9pY2VBc3Npc3RhbnQgfVxuICB9XG5cbiAgLy8gU2V0IHZvaWNlIGFzc2lzdGFudCBwZXJzb25hbGl0eVxuICBwdWJsaWMgc2V0UGVyc29uYWxpdHkocGVyc29uYWxpdHk6IFZvaWNlQXNzaXN0YW50WydwZXJzb25hbGl0eSddKSB7XG4gICAgdGhpcy52b2ljZUFzc2lzdGFudC5wZXJzb25hbGl0eSA9IHBlcnNvbmFsaXR5XG4gICAgY29uc29sZS5sb2coYFx1RDgzQ1x1REZBNCBWb2ljZSBwZXJzb25hbGl0eSBzZXQgdG86ICR7cGVyc29uYWxpdHl9YClcbiAgfVxuXG4gIC8vIFNldCB2b2ljZSBsYW5ndWFnZVxuICBwdWJsaWMgc2V0TGFuZ3VhZ2UobGFuZ3VhZ2U6IHN0cmluZykge1xuICAgIHRoaXMudm9pY2VBc3Npc3RhbnQubGFuZ3VhZ2UgPSBsYW5ndWFnZVxuICAgIHRoaXMucmVjb2duaXRpb25FbmdpbmUubGFuZyA9IGxhbmd1YWdlXG4gICAgY29uc29sZS5sb2coYFx1RDgzQ1x1REZBNCBWb2ljZSBsYW5ndWFnZSBzZXQgdG86ICR7bGFuZ3VhZ2V9YClcbiAgfVxuXG4gIC8vIEVuYWJsZS9kaXNhYmxlIHZvaWNlIGFzc2lzdGFudFxuICBwdWJsaWMgc2V0Vm9pY2VBc3Npc3RhbnRFbmFibGVkKGVuYWJsZWQ6IGJvb2xlYW4pIHtcbiAgICB0aGlzLnZvaWNlQXNzaXN0YW50LmlzQWN0aXZlID0gZW5hYmxlZFxuICAgIGlmICghZW5hYmxlZCkge1xuICAgICAgdGhpcy5zdG9wTGlzdGVuaW5nKClcbiAgICB9XG4gICAgY29uc29sZS5sb2coYFx1RDgzQ1x1REZBNCBWb2ljZSBhc3Npc3RhbnQgJHtlbmFibGVkID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJ31gKVxuICB9XG5cbiAgLy8gQ2xlYW51cCBzeXN0ZW1cbiAgcHVibGljIGNsZWFudXAoKSB7XG4gICAgdGhpcy5zdG9wTGlzdGVuaW5nKClcblxuICAgIHRoaXMuY29tbWFuZHMuY2xlYXIoKVxuICAgIHRoaXMuaW50ZW50cy5jbGVhcigpXG4gICAgdGhpcy5jb21tYW5kSGlzdG9yeSA9IFtdXG5cbiAgICBpZiAodGhpcy52b2ljZVVJKSB7XG4gICAgICBlbmdpbmUucmVtb3ZlRW50aXR5KHRoaXMudm9pY2VVSSlcbiAgICB9XG5cbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSBmYWxzZVxuICB9XG59XG5cbi8vIEV4cG9ydCBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCB2b2ljZUNvbW1hbmRTeXN0ZW0gPSBuZXcgVm9pY2VDb21tYW5kU3lzdGVtKClcbiIsICIvLyBXZWF0aGVyIGFuZCBEYXkvTmlnaHQgQ3ljbGUgU3lzdGVtIGZvciBBSUdlc3Rpb24gVmlydHVhbCBPZmZpY2VcbmltcG9ydCB7IGVuZ2luZSwgTWF0ZXJpYWwsIE1lc2hSZW5kZXJlciwgVHJhbnNmb3JtIH0gZnJvbSAnQGRjbC9zZGsvZWNzJ1xuaW1wb3J0IHsgQ29sb3I0LCBWZWN0b3IzIH0gZnJvbSAnQGRjbC9zZGsvbWF0aCdcblxuaW50ZXJmYWNlIFdlYXRoZXJTdGF0ZSB7XG4gIHR5cGU6ICdjbGVhcicgfCAnY2xvdWR5JyB8ICdyYWlueScgfCAnc3Rvcm15JyB8ICdzbm93eScgfCAnZm9nZ3knXG4gIGludGVuc2l0eTogbnVtYmVyIC8vIDAtMVxuICB0ZW1wZXJhdHVyZTogbnVtYmVyIC8vIENlbHNpdXNcbiAgaHVtaWRpdHk6IG51bWJlciAvLyAwLTEwMFxuICB3aW5kU3BlZWQ6IG51bWJlciAvLyBtL3NcbiAgd2luZERpcmVjdGlvbjogVmVjdG9yM1xufVxuXG5pbnRlcmZhY2UgVGltZU9mRGF5IHtcbiAgaG91cjogbnVtYmVyIC8vIDAtMjNcbiAgbWludXRlOiBudW1iZXIgLy8gMC01OVxuICBkYXlQcm9ncmVzczogbnVtYmVyIC8vIDAtMVxufVxuXG5pbnRlcmZhY2UgQ2VsZXN0aWFsQm9keSB7XG4gIGVudGl0eTogYW55XG4gIHR5cGU6ICdzdW4nIHwgJ21vb24nXG4gIGJhc2VQb3NpdGlvbjogVmVjdG9yM1xuICBvcmJpdFJhZGl1czogbnVtYmVyXG4gIG9yYml0U3BlZWQ6IG51bWJlclxuICBjdXJyZW50QW5nbGU6IG51bWJlclxufVxuXG5leHBvcnQgY2xhc3MgV2VhdGhlclN5c3RlbSB7XG4gIHByaXZhdGUgY3VycmVudFN0YXRlOiBXZWF0aGVyU3RhdGVcbiAgcHJpdmF0ZSBjdXJyZW50VGltZTogVGltZU9mRGF5XG4gIHByaXZhdGUgY2VsZXN0aWFsQm9kaWVzOiBNYXA8c3RyaW5nLCBDZWxlc3RpYWxCb2R5PiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIHdlYXRoZXJFZmZlY3RzOiBhbnlbXSA9IFtdXG4gIHByaXZhdGUgc2t5RG9tZTogYW55XG4gIHByaXZhdGUgaXNJbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlXG4gIHByaXZhdGUgdGltZVNjYWxlOiBudW1iZXIgPSA2MCAvLyAxIHJlYWwgc2Vjb25kID0gMSBnYW1lIG1pbnV0ZVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY3VycmVudFN0YXRlID0ge1xuICAgICAgdHlwZTogJ2NsZWFyJyxcbiAgICAgIGludGVuc2l0eTogMC4zLFxuICAgICAgdGVtcGVyYXR1cmU6IDIyLFxuICAgICAgaHVtaWRpdHk6IDQ1LFxuICAgICAgd2luZFNwZWVkOiA1LFxuICAgICAgd2luZERpcmVjdGlvbjogVmVjdG9yMy5jcmVhdGUoMSwgMCwgMClcbiAgICB9XG5cbiAgICB0aGlzLmN1cnJlbnRUaW1lID0ge1xuICAgICAgaG91cjogMTIsXG4gICAgICBtaW51dGU6IDAsXG4gICAgICBkYXlQcm9ncmVzczogMC41XG4gICAgfVxuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSB3ZWF0aGVyIHN5c3RlbVxuICBpbml0aWFsaXplKCkge1xuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0NcdURGMjRcdUZFMEYgV2VhdGhlciBTeXN0ZW0gSW5pdGlhbGl6aW5nLi4uJylcblxuICAgIHRoaXMuY3JlYXRlU2t5RG9tZSgpXG4gICAgdGhpcy5jcmVhdGVDZWxlc3RpYWxCb2RpZXMoKVxuICAgIHRoaXMuY3JlYXRlV2VhdGhlckVmZmVjdHMoKVxuICAgIHRoaXMuc3RhcnRXZWF0aGVyU2ltdWxhdGlvbigpXG4gICAgdGhpcy5zdGFydERheU5pZ2h0Q3ljbGUoKVxuXG4gICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZVxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0NcdURGMjRcdUZFMEYgV2VhdGhlciBTeXN0ZW0gUmVhZHkhJylcbiAgfVxuXG4gIC8vIENyZWF0ZSBza3kgZG9tZVxuICBwcml2YXRlIGNyZWF0ZVNreURvbWUoKSB7XG4gICAgdGhpcy5za3lEb21lID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZSh0aGlzLnNreURvbWUsIHtcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSg4LCA1MCwgOCksXG4gICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoMTAwLCAxMDAsIDEwMClcbiAgICB9KVxuICAgIE1lc2hSZW5kZXJlci5zZXRTcGhlcmUodGhpcy5za3lEb21lKVxuICAgIHRoaXMudXBkYXRlU2t5Q29sb3IoKVxuICB9XG5cbiAgLy8gQ3JlYXRlIHN1biBhbmQgbW9vblxuICBwcml2YXRlIGNyZWF0ZUNlbGVzdGlhbEJvZGllcygpIHtcbiAgICAvLyBTdW5cbiAgICBjb25zdCBzdW4gPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICBUcmFuc2Zvcm0uY3JlYXRlKHN1biwge1xuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDgsIDMwLCA4KSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgzLCAzLCAzKVxuICAgIH0pXG4gICAgTWVzaFJlbmRlcmVyLnNldFNwaGVyZShzdW4pXG4gICAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoc3VuLCB7XG4gICAgICBhbGJlZG9Db2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAwLjk1LCAwLjgsIDEpLFxuICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAwLjksIDAuNiwgMSksXG4gICAgICBlbWlzc2l2ZUludGVuc2l0eTogNVxuICAgIH0pXG5cbiAgICB0aGlzLmNlbGVzdGlhbEJvZGllcy5zZXQoJ3N1bicsIHtcbiAgICAgIGVudGl0eTogc3VuLFxuICAgICAgdHlwZTogJ3N1bicsXG4gICAgICBiYXNlUG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDgsIDMwLCA4KSxcbiAgICAgIG9yYml0UmFkaXVzOiA0MCxcbiAgICAgIG9yYml0U3BlZWQ6IDAuMSxcbiAgICAgIGN1cnJlbnRBbmdsZTogMFxuICAgIH0pXG5cbiAgICAvLyBNb29uXG4gICAgY29uc3QgbW9vbiA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIFRyYW5zZm9ybS5jcmVhdGUobW9vbiwge1xuICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKDgsIDMwLCA4KSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgyLCAyLCAyKVxuICAgIH0pXG4gICAgTWVzaFJlbmRlcmVyLnNldFNwaGVyZShtb29uKVxuICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKG1vb24sIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuOSwgMC45LCAxLCAxKSxcbiAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC42LCAwLjYsIDAuOCwgMC44KSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAyXG4gICAgfSlcblxuICAgIHRoaXMuY2VsZXN0aWFsQm9kaWVzLnNldCgnbW9vbicsIHtcbiAgICAgIGVudGl0eTogbW9vbixcbiAgICAgIHR5cGU6ICdtb29uJyxcbiAgICAgIGJhc2VQb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoOCwgMzAsIDgpLFxuICAgICAgb3JiaXRSYWRpdXM6IDQwLFxuICAgICAgb3JiaXRTcGVlZDogMC4xLFxuICAgICAgY3VycmVudEFuZ2xlOiAxODBcbiAgICB9KVxuICB9XG5cbiAgLy8gQ3JlYXRlIHdlYXRoZXIgZWZmZWN0c1xuICBwcml2YXRlIGNyZWF0ZVdlYXRoZXJFZmZlY3RzKCkge1xuICAgIC8vIENyZWF0ZSByYWluIHBhcnRpY2xlc1xuICAgIHRoaXMuY3JlYXRlUmFpbkVmZmVjdCgpXG5cbiAgICAvLyBDcmVhdGUgY2xvdWQgc3lzdGVtXG4gICAgdGhpcy5jcmVhdGVDbG91ZFN5c3RlbSgpXG5cbiAgICAvLyBDcmVhdGUgZm9nIGVmZmVjdFxuICAgIHRoaXMuY3JlYXRlRm9nRWZmZWN0KClcblxuICAgIC8vIENyZWF0ZSBzbm93IGVmZmVjdFxuICAgIHRoaXMuY3JlYXRlU25vd0VmZmVjdCgpXG4gIH1cblxuICAvLyBDcmVhdGUgcmFpbiBlZmZlY3RcbiAgcHJpdmF0ZSBjcmVhdGVSYWluRWZmZWN0KCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcbiAgICAgIGNvbnN0IHJhaW5Ecm9wID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgICBUcmFuc2Zvcm0uY3JlYXRlKHJhaW5Ecm9wLCB7XG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZShcbiAgICAgICAgICBNYXRoLnJhbmRvbSgpICogMTYsXG4gICAgICAgICAgTWF0aC5yYW5kb20oKSAqIDIwICsgMTAsXG4gICAgICAgICAgTWF0aC5yYW5kb20oKSAqIDE2XG4gICAgICAgICksXG4gICAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjAyLCAwLjIsIDAuMDIpXG4gICAgICB9KVxuICAgICAgTWVzaFJlbmRlcmVyLnNldEJveChyYWluRHJvcClcbiAgICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKHJhaW5Ecm9wLCB7XG4gICAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuNiwgMC43LCAwLjksIDAuNyksXG4gICAgICAgIGVtaXNzaXZlQ29sb3I6IENvbG9yNC5jcmVhdGUoMC40LCAwLjUsIDAuOCwgMC41KSxcbiAgICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDFcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMud2VhdGhlckVmZmVjdHMucHVzaCh7XG4gICAgICAgIGVudGl0eTogcmFpbkRyb3AsXG4gICAgICAgIHR5cGU6ICdyYWluJyxcbiAgICAgICAgdmVsb2NpdHk6IFZlY3RvcjMuY3JlYXRlKDAsIC04LCAwKVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICAvLyBDcmVhdGUgY2xvdWQgc3lzdGVtXG4gIHByaXZhdGUgY3JlYXRlQ2xvdWRTeXN0ZW0oKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gICAgICBjb25zdCBjbG91ZCA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgVHJhbnNmb3JtLmNyZWF0ZShjbG91ZCwge1xuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMy5jcmVhdGUoXG4gICAgICAgICAgTWF0aC5yYW5kb20oKSAqIDE2LFxuICAgICAgICAgIE1hdGgucmFuZG9tKCkgKiAxMCArIDE1LFxuICAgICAgICAgIE1hdGgucmFuZG9tKCkgKiAxNlxuICAgICAgICApLFxuICAgICAgICBzY2FsZTogVmVjdG9yMy5jcmVhdGUoXG4gICAgICAgICAgTWF0aC5yYW5kb20oKSAqIDMgKyAyLFxuICAgICAgICAgIE1hdGgucmFuZG9tKCkgKiAxICsgMC41LFxuICAgICAgICAgIE1hdGgucmFuZG9tKCkgKiAzICsgMlxuICAgICAgICApXG4gICAgICB9KVxuICAgICAgTWVzaFJlbmRlcmVyLnNldEJveChjbG91ZClcbiAgICAgIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKGNsb3VkLCB7XG4gICAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuOSwgMC45LCAwLjksIDAuOCksXG4gICAgICAgIHJvdWdobmVzczogMC44LFxuICAgICAgICBtZXRhbGxpYzogMC4xXG4gICAgICB9KVxuXG4gICAgICB0aGlzLndlYXRoZXJFZmZlY3RzLnB1c2goe1xuICAgICAgICBlbnRpdHk6IGNsb3VkLFxuICAgICAgICB0eXBlOiAnY2xvdWQnLFxuICAgICAgICB2ZWxvY2l0eTogVmVjdG9yMy5jcmVhdGUoXG4gICAgICAgICAgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC41LFxuICAgICAgICAgIDAsXG4gICAgICAgICAgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC41XG4gICAgICAgIClcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgLy8gQ3JlYXRlIGZvZyBlZmZlY3RcbiAgcHJpdmF0ZSBjcmVhdGVGb2dFZmZlY3QoKSB7XG4gICAgY29uc3QgZm9nVm9sdW1lID0gZW5naW5lLmFkZEVudGl0eSgpXG4gICAgVHJhbnNmb3JtLmNyZWF0ZShmb2dWb2x1bWUsIHtcbiAgICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZSg4LCAyLCA4KSxcbiAgICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgyMCwgNCwgMjApXG4gICAgfSlcbiAgICBNZXNoUmVuZGVyZXIuc2V0Qm94KGZvZ1ZvbHVtZSlcbiAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChmb2dWb2x1bWUsIHtcbiAgICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDAuOCwgMC44LCAwLjg1LCAwLjMpLFxuICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjcsIDAuNywgMC43NSwgMC4yKSxcbiAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAwLjVcbiAgICB9KVxuXG4gICAgdGhpcy53ZWF0aGVyRWZmZWN0cy5wdXNoKHtcbiAgICAgIGVudGl0eTogZm9nVm9sdW1lLFxuICAgICAgdHlwZTogJ2ZvZycsXG4gICAgICB2ZWxvY2l0eTogVmVjdG9yMy5jcmVhdGUoMCwgMCwgMClcbiAgICB9KVxuICB9XG5cbiAgLy8gQ3JlYXRlIHNub3cgZWZmZWN0XG4gIHByaXZhdGUgY3JlYXRlU25vd0VmZmVjdCgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDUwOyBpKyspIHtcbiAgICAgIGNvbnN0IHNub3dGbGFrZSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgVHJhbnNmb3JtLmNyZWF0ZShzbm93Rmxha2UsIHtcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjMuY3JlYXRlKFxuICAgICAgICAgIE1hdGgucmFuZG9tKCkgKiAxNixcbiAgICAgICAgICBNYXRoLnJhbmRvbSgpICogMjAgKyAxMCxcbiAgICAgICAgICBNYXRoLnJhbmRvbSgpICogMTZcbiAgICAgICAgKSxcbiAgICAgICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMSwgMC4xLCAwLjEpXG4gICAgICB9KVxuICAgICAgTWVzaFJlbmRlcmVyLnNldFNwaGVyZShzbm93Rmxha2UpXG4gICAgICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChzbm93Rmxha2UsIHtcbiAgICAgICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMSwgMSwgMSwgMC45KSxcbiAgICAgICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLjgsIDAuOCwgMSwgMC42KSxcbiAgICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDFcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMud2VhdGhlckVmZmVjdHMucHVzaCh7XG4gICAgICAgIGVudGl0eTogc25vd0ZsYWtlLFxuICAgICAgICB0eXBlOiAnc25vdycsXG4gICAgICAgIHZlbG9jaXR5OiBWZWN0b3IzLmNyZWF0ZShcbiAgICAgICAgICAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAwLjUsXG4gICAgICAgICAgLTEsXG4gICAgICAgICAgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC41XG4gICAgICAgIClcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgLy8gU3RhcnQgd2VhdGhlciBzaW11bGF0aW9uXG4gIHByaXZhdGUgc3RhcnRXZWF0aGVyU2ltdWxhdGlvbigpIHtcbiAgICBlbmdpbmUuYWRkU3lzdGVtKCgpID0+IHtcbiAgICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkKSByZXR1cm5cblxuICAgICAgdGhpcy51cGRhdGVXZWF0aGVyRWZmZWN0cygpXG4gICAgICB0aGlzLnNpbXVsYXRlV2VhdGhlckNoYW5nZXMoKVxuICAgIH0pXG4gIH1cblxuICAvLyBTdGFydCBkYXkvbmlnaHQgY3ljbGVcbiAgcHJpdmF0ZSBzdGFydERheU5pZ2h0Q3ljbGUoKSB7XG4gICAgZW5naW5lLmFkZFN5c3RlbSgoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCkgcmV0dXJuXG5cbiAgICAgIHRoaXMudXBkYXRlVGltZU9mRGF5KClcbiAgICAgIHRoaXMudXBkYXRlQ2VsZXN0aWFsQm9kaWVzKClcbiAgICAgIHRoaXMudXBkYXRlU2t5Q29sb3IoKVxuICAgIH0pXG4gIH1cblxuICAvLyBVcGRhdGUgdGltZSBvZiBkYXlcbiAgcHJpdmF0ZSB1cGRhdGVUaW1lT2ZEYXkoKSB7XG4gICAgLy8gQWR2YW5jZSB0aW1lIGJhc2VkIG9uIHRpbWUgc2NhbGVcbiAgICB0aGlzLmN1cnJlbnRUaW1lLm1pbnV0ZSArPSAxIC8gNjAgLy8gMSBmcmFtZSA9IDEgc2Vjb25kIGF0IDYwZnBzXG5cbiAgICBpZiAodGhpcy5jdXJyZW50VGltZS5taW51dGUgPj0gNjApIHtcbiAgICAgIHRoaXMuY3VycmVudFRpbWUubWludXRlID0gMFxuICAgICAgdGhpcy5jdXJyZW50VGltZS5ob3VyKytcblxuICAgICAgaWYgKHRoaXMuY3VycmVudFRpbWUuaG91ciA+PSAyNCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRUaW1lLmhvdXIgPSAwXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2FsY3VsYXRlIGRheSBwcm9ncmVzcyAoMC0xKVxuICAgIHRoaXMuY3VycmVudFRpbWUuZGF5UHJvZ3Jlc3MgPSAodGhpcy5jdXJyZW50VGltZS5ob3VyICogNjAgKyB0aGlzLmN1cnJlbnRUaW1lLm1pbnV0ZSkgLyAxNDQwXG4gIH1cblxuICAvLyBVcGRhdGUgY2VsZXN0aWFsIGJvZGllcyBwb3NpdGlvbnNcbiAgcHJpdmF0ZSB1cGRhdGVDZWxlc3RpYWxCb2RpZXMoKSB7XG4gICAgdGhpcy5jZWxlc3RpYWxCb2RpZXMuZm9yRWFjaCgoYm9keSkgPT4ge1xuICAgICAgLy8gQ2FsY3VsYXRlIHBvc2l0aW9uIGJhc2VkIG9uIHRpbWUgb2YgZGF5XG4gICAgICBjb25zdCBhbmdsZSA9ICh0aGlzLmN1cnJlbnRUaW1lLmRheVByb2dyZXNzICogMzYwIC0gOTApICogTWF0aC5QSSAvIDE4MFxuXG4gICAgICBjb25zdCB4ID0gYm9keS5iYXNlUG9zaXRpb24ueCArIE1hdGguY29zKGFuZ2xlKSAqIGJvZHkub3JiaXRSYWRpdXNcbiAgICAgIGNvbnN0IHkgPSBib2R5LmJhc2VQb3NpdGlvbi55ICsgTWF0aC5zaW4oYW5nbGUpICogYm9keS5vcmJpdFJhZGl1c1xuICAgICAgY29uc3QgeiA9IGJvZHkuYmFzZVBvc2l0aW9uLnpcblxuICAgICAgY29uc3QgdHJhbnNmb3JtID0gVHJhbnNmb3JtLmdldE11dGFibGUoYm9keS5lbnRpdHkpXG4gICAgICB0cmFuc2Zvcm0ucG9zaXRpb24gPSBWZWN0b3IzLmNyZWF0ZSh4LCB5LCB6KVxuXG4gICAgICAvLyBVcGRhdGUgdmlzaWJpbGl0eSBiYXNlZCBvbiBwb3NpdGlvblxuICAgICAgY29uc3QgaXNWaXNpYmxlID0geSA+IGJvZHkuYmFzZVBvc2l0aW9uLnlcbiAgICAgIHRyYW5zZm9ybS5zY2FsZSA9IGlzVmlzaWJsZSA/XG4gICAgICAgIFZlY3RvcjMuY3JlYXRlKGJvZHkudHlwZSA9PT0gJ3N1bicgPyAzIDogMiwgYm9keS50eXBlID09PSAnc3VuJyA/IDMgOiAyLCBib2R5LnR5cGUgPT09ICdzdW4nID8gMyA6IDIpIDpcbiAgICAgICAgVmVjdG9yMy5jcmVhdGUoMCwgMCwgMClcbiAgICB9KVxuICB9XG5cbiAgLy8gVXBkYXRlIHNreSBjb2xvciBiYXNlZCBvbiB0aW1lIGFuZCB3ZWF0aGVyXG4gIHByaXZhdGUgdXBkYXRlU2t5Q29sb3IoKSB7XG4gICAgY29uc3QgbWF0ZXJpYWwgPSBNYXRlcmlhbC5nZXRNdXRhYmxlKHRoaXMuc2t5RG9tZSlcbiAgICBpZiAoIW1hdGVyaWFsIHx8IG1hdGVyaWFsLiRjYXNlICE9PSAncGJyJykgcmV0dXJuXG5cbiAgICBsZXQgc2t5Q29sb3I6IENvbG9yNFxuICAgIGNvbnN0IGhvdXIgPSB0aGlzLmN1cnJlbnRUaW1lLmhvdXJcblxuICAgIC8vIENhbGN1bGF0ZSBiYXNlIHNreSBjb2xvciBiYXNlZCBvbiB0aW1lXG4gICAgaWYgKGhvdXIgPj0gNiAmJiBob3VyIDwgMTIpIHtcbiAgICAgIC8vIE1vcm5pbmdcbiAgICAgIGNvbnN0IHByb2dyZXNzID0gKGhvdXIgLSA2KSAvIDZcbiAgICAgIHNreUNvbG9yID0gQ29sb3I0LmxlcnAoXG4gICAgICAgIENvbG9yNC5jcmVhdGUoMC44LCAwLjYsIDAuNCwgMSksIC8vIERhd25cbiAgICAgICAgQ29sb3I0LmNyZWF0ZSgwLjUsIDAuNywgMSwgMSksICAvLyBEYXlcbiAgICAgICAgcHJvZ3Jlc3NcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGhvdXIgPj0gMTIgJiYgaG91ciA8IDE4KSB7XG4gICAgICAvLyBBZnRlcm5vb25cbiAgICAgIHNreUNvbG9yID0gQ29sb3I0LmNyZWF0ZSgwLjUsIDAuNywgMSwgMSkgLy8gRGF5XG4gICAgfSBlbHNlIGlmIChob3VyID49IDE4ICYmIGhvdXIgPCAyMSkge1xuICAgICAgLy8gRXZlbmluZ1xuICAgICAgY29uc3QgcHJvZ3Jlc3MgPSAoaG91ciAtIDE4KSAvIDNcbiAgICAgIHNreUNvbG9yID0gQ29sb3I0LmxlcnAoXG4gICAgICAgIENvbG9yNC5jcmVhdGUoMC41LCAwLjcsIDEsIDEpLCAgIC8vIERheVxuICAgICAgICBDb2xvcjQuY3JlYXRlKDAuMiwgMC4zLCAwLjYsIDEpLCAvLyBEdXNrXG4gICAgICAgIHByb2dyZXNzXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5pZ2h0XG4gICAgICBza3lDb2xvciA9IENvbG9yNC5jcmVhdGUoMC4wNSwgMC4wNSwgMC4yLCAxKSAvLyBOaWdodFxuICAgIH1cblxuICAgIC8vIEFwcGx5IHdlYXRoZXIgbW9kaWZpY2F0aW9uc1xuICAgIHNreUNvbG9yID0gdGhpcy5hcHBseVdlYXRoZXJUb1NreUNvbG9yKHNreUNvbG9yKVxuXG4gICAgbWF0ZXJpYWwucGJyLmFsYmVkb0NvbG9yID0gc2t5Q29sb3JcbiAgICBtYXRlcmlhbC5wYnIuZW1pc3NpdmVDb2xvciA9IENvbG9yNC5jcmVhdGUoXG4gICAgICBza3lDb2xvci5yICogMC4zLFxuICAgICAgc2t5Q29sb3IuZyAqIDAuMyxcbiAgICAgIHNreUNvbG9yLmIgKiAwLjMsXG4gICAgICAxXG4gICAgKVxuICB9XG5cbiAgLy8gQXBwbHkgd2VhdGhlciBlZmZlY3RzIHRvIHNreSBjb2xvclxuICBwcml2YXRlIGFwcGx5V2VhdGhlclRvU2t5Q29sb3IoYmFzZUNvbG9yOiBDb2xvcjQpOiBDb2xvcjQge1xuICAgIHN3aXRjaCAodGhpcy5jdXJyZW50U3RhdGUudHlwZSkge1xuICAgICAgY2FzZSAnY2xvdWR5JzpcbiAgICAgICAgcmV0dXJuIENvbG9yNC5sZXJwKGJhc2VDb2xvciwgQ29sb3I0LmNyZWF0ZSgwLjYsIDAuNiwgMC42LCAxKSwgdGhpcy5jdXJyZW50U3RhdGUuaW50ZW5zaXR5ICogMC43KVxuICAgICAgY2FzZSAncmFpbnknOlxuICAgICAgY2FzZSAnc3Rvcm15JzpcbiAgICAgICAgcmV0dXJuIENvbG9yNC5sZXJwKGJhc2VDb2xvciwgQ29sb3I0LmNyZWF0ZSgwLjMsIDAuMywgMC40LCAxKSwgdGhpcy5jdXJyZW50U3RhdGUuaW50ZW5zaXR5ICogMC44KVxuICAgICAgY2FzZSAnZm9nZ3knOlxuICAgICAgICByZXR1cm4gQ29sb3I0LmxlcnAoYmFzZUNvbG9yLCBDb2xvcjQuY3JlYXRlKDAuNywgMC43LCAwLjc1LCAxKSwgdGhpcy5jdXJyZW50U3RhdGUuaW50ZW5zaXR5ICogMC42KVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGJhc2VDb2xvclxuICAgIH1cbiAgfVxuXG4gIC8vIFVwZGF0ZSB3ZWF0aGVyIGVmZmVjdHNcbiAgcHJpdmF0ZSB1cGRhdGVXZWF0aGVyRWZmZWN0cygpIHtcbiAgICB0aGlzLndlYXRoZXJFZmZlY3RzLmZvckVhY2goZWZmZWN0ID0+IHtcbiAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IFRyYW5zZm9ybS5nZXRNdXRhYmxlKGVmZmVjdC5lbnRpdHkpXG5cbiAgICAgIC8vIFVwZGF0ZSBwb3NpdGlvbiBiYXNlZCBvbiB2ZWxvY2l0eVxuICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uID0gVmVjdG9yMy5hZGQodHJhbnNmb3JtLnBvc2l0aW9uLCBWZWN0b3IzLnNjYWxlKGVmZmVjdC52ZWxvY2l0eSwgMC4wMTYpKVxuXG4gICAgICAvLyBSZXNldCBwb3NpdGlvbiBpZiBvdXQgb2YgYm91bmRzXG4gICAgICBpZiAoZWZmZWN0LnR5cGUgPT09ICdyYWluJyB8fCBlZmZlY3QudHlwZSA9PT0gJ3Nub3cnKSB7XG4gICAgICAgIGlmICh0cmFuc2Zvcm0ucG9zaXRpb24ueSA8IDApIHtcbiAgICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24ueSA9IDMwXG4gICAgICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uLnggPSBNYXRoLnJhbmRvbSgpICogMTZcbiAgICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24ueiA9IE1hdGgucmFuZG9tKCkgKiAxNlxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGVmZmVjdC50eXBlID09PSAnY2xvdWQnKSB7XG4gICAgICAgIC8vIFdyYXAgY2xvdWRzIGFyb3VuZFxuICAgICAgICBpZiAodHJhbnNmb3JtLnBvc2l0aW9uLnggPiAyMCkgdHJhbnNmb3JtLnBvc2l0aW9uLnggPSAtNFxuICAgICAgICBpZiAodHJhbnNmb3JtLnBvc2l0aW9uLnggPCAtNCkgdHJhbnNmb3JtLnBvc2l0aW9uLnggPSAyMFxuICAgICAgICBpZiAodHJhbnNmb3JtLnBvc2l0aW9uLnogPiAyMCkgdHJhbnNmb3JtLnBvc2l0aW9uLnogPSAtNFxuICAgICAgICBpZiAodHJhbnNmb3JtLnBvc2l0aW9uLnogPCAtNCkgdHJhbnNmb3JtLnBvc2l0aW9uLnogPSAyMFxuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgdmlzaWJpbGl0eSBiYXNlZCBvbiB3ZWF0aGVyIHN0YXRlXG4gICAgICBjb25zdCBzaG91bGRCZVZpc2libGUgPSB0aGlzLmlzRWZmZWN0VmlzaWJsZShlZmZlY3QudHlwZSlcbiAgICAgIHRyYW5zZm9ybS5zY2FsZSA9IHNob3VsZEJlVmlzaWJsZSA/XG4gICAgICAgIFZlY3RvcjMuY3JlYXRlKDEsIDEsIDEpIDpcbiAgICAgICAgVmVjdG9yMy5jcmVhdGUoMCwgMCwgMClcbiAgICB9KVxuICB9XG5cbiAgLy8gQ2hlY2sgaWYgZWZmZWN0IHNob3VsZCBiZSB2aXNpYmxlXG4gIHByaXZhdGUgaXNFZmZlY3RWaXNpYmxlKGVmZmVjdFR5cGU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHN3aXRjaCAoZWZmZWN0VHlwZSkge1xuICAgICAgY2FzZSAncmFpbic6XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRTdGF0ZS50eXBlID09PSAncmFpbnknIHx8IHRoaXMuY3VycmVudFN0YXRlLnR5cGUgPT09ICdzdG9ybXknXG4gICAgICBjYXNlICdjbG91ZCc6XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRTdGF0ZS50eXBlID09PSAnY2xvdWR5JyB8fCB0aGlzLmN1cnJlbnRTdGF0ZS50eXBlID09PSAncmFpbnknIHx8IHRoaXMuY3VycmVudFN0YXRlLnR5cGUgPT09ICdzdG9ybXknXG4gICAgICBjYXNlICdmb2cnOlxuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50U3RhdGUudHlwZSA9PT0gJ2ZvZ2d5J1xuICAgICAgY2FzZSAnc25vdyc6XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRTdGF0ZS50eXBlID09PSAnc25vd3knXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICAvLyBTaW11bGF0ZSB3ZWF0aGVyIGNoYW5nZXNcbiAgcHJpdmF0ZSBzaW11bGF0ZVdlYXRoZXJDaGFuZ2VzKCkge1xuICAgIC8vIFJhbmRvbSB3ZWF0aGVyIGNoYW5nZXMgZXZlcnkgMzAgc2Vjb25kc1xuICAgIGlmIChNYXRoLnJhbmRvbSgpID4gMC45OTk1KSB7XG4gICAgICB0aGlzLmNoYW5nZVdlYXRoZXIoKVxuICAgIH1cbiAgfVxuXG4gIC8vIENoYW5nZSB3ZWF0aGVyXG4gIHB1YmxpYyBjaGFuZ2VXZWF0aGVyKG5ld1dlYXRoZXI/OiBQYXJ0aWFsPFdlYXRoZXJTdGF0ZT4pIHtcbiAgICBpZiAobmV3V2VhdGhlcikge1xuICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSB7IC4uLnRoaXMuY3VycmVudFN0YXRlLCAuLi5uZXdXZWF0aGVyIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmFuZG9tIHdlYXRoZXIgY2hhbmdlXG4gICAgICBjb25zdCB3ZWF0aGVyVHlwZXM6IFdlYXRoZXJTdGF0ZVsndHlwZSddW10gPSBbJ2NsZWFyJywgJ2Nsb3VkeScsICdyYWlueScsICdzdG9ybXknLCAnZm9nZ3knXVxuICAgICAgdGhpcy5jdXJyZW50U3RhdGUudHlwZSA9IHdlYXRoZXJUeXBlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB3ZWF0aGVyVHlwZXMubGVuZ3RoKV1cbiAgICAgIHRoaXMuY3VycmVudFN0YXRlLmludGVuc2l0eSA9IE1hdGgucmFuZG9tKCkgKiAwLjggKyAwLjJcbiAgICAgIHRoaXMuY3VycmVudFN0YXRlLnRlbXBlcmF0dXJlID0gMTUgKyBNYXRoLnJhbmRvbSgpICogMjBcbiAgICAgIHRoaXMuY3VycmVudFN0YXRlLmh1bWlkaXR5ID0gMzAgKyBNYXRoLnJhbmRvbSgpICogNjBcbiAgICAgIHRoaXMuY3VycmVudFN0YXRlLndpbmRTcGVlZCA9IE1hdGgucmFuZG9tKCkgKiAxNVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGBcdUQ4M0NcdURGMjRcdUZFMEYgV2VhdGhlciBjaGFuZ2VkIHRvOiAke3RoaXMuY3VycmVudFN0YXRlLnR5cGV9IChpbnRlbnNpdHk6ICR7dGhpcy5jdXJyZW50U3RhdGUuaW50ZW5zaXR5LnRvRml4ZWQoMil9KWApXG4gIH1cblxuICAvLyBHZXQgY3VycmVudCB3ZWF0aGVyIHN0YXRlXG4gIHB1YmxpYyBnZXRDdXJyZW50V2VhdGhlcigpOiBXZWF0aGVyU3RhdGUge1xuICAgIHJldHVybiB7IC4uLnRoaXMuY3VycmVudFN0YXRlIH1cbiAgfVxuXG4gIC8vIEdldCBjdXJyZW50IHRpbWVcbiAgcHVibGljIGdldEN1cnJlbnRUaW1lKCk6IFRpbWVPZkRheSB7XG4gICAgcmV0dXJuIHsgLi4udGhpcy5jdXJyZW50VGltZSB9XG4gIH1cblxuICAvLyBTZXQgdGltZSBvZiBkYXlcbiAgcHVibGljIHNldFRpbWVPZkRheShob3VyOiBudW1iZXIsIG1pbnV0ZTogbnVtYmVyID0gMCkge1xuICAgIHRoaXMuY3VycmVudFRpbWUuaG91ciA9IE1hdGgubWF4KDAsIE1hdGgubWluKDIzLCBob3VyKSlcbiAgICB0aGlzLmN1cnJlbnRUaW1lLm1pbnV0ZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDU5LCBtaW51dGUpKVxuICAgIHRoaXMuY3VycmVudFRpbWUuZGF5UHJvZ3Jlc3MgPSAodGhpcy5jdXJyZW50VGltZS5ob3VyICogNjAgKyB0aGlzLmN1cnJlbnRUaW1lLm1pbnV0ZSkgLyAxNDQwXG4gIH1cblxuICAvLyBTZXQgdGltZSBzY2FsZVxuICBwdWJsaWMgc2V0VGltZVNjYWxlKHNjYWxlOiBudW1iZXIpIHtcbiAgICB0aGlzLnRpbWVTY2FsZSA9IE1hdGgubWF4KDAuMSwgTWF0aC5taW4oMTAwMCwgc2NhbGUpKVxuICB9XG5cbiAgLy8gR2V0IHdlYXRoZXIgZm9yZWNhc3RcbiAgcHVibGljIGdldEZvcmVjYXN0KCk6IFdlYXRoZXJTdGF0ZVtdIHtcbiAgICBjb25zdCBmb3JlY2FzdDogV2VhdGhlclN0YXRlW10gPSBbXVxuICAgIGNvbnN0IGJhc2VXZWF0aGVyID0geyAuLi50aGlzLmN1cnJlbnRTdGF0ZSB9XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSAyNDsgaSsrKSB7XG4gICAgICBjb25zdCBob3VyID0gKHRoaXMuY3VycmVudFRpbWUuaG91ciArIGkpICUgMjRcbiAgICAgIGxldCB3ZWF0aGVyVHlwZTogV2VhdGhlclN0YXRlWyd0eXBlJ11cblxuICAgICAgLy8gU2ltcGxlIGZvcmVjYXN0IGxvZ2ljXG4gICAgICBpZiAoaG91ciA+PSA2ICYmIGhvdXIgPCAxMikge1xuICAgICAgICB3ZWF0aGVyVHlwZSA9IE1hdGgucmFuZG9tKCkgPiAwLjcgPyAnY2xvdWR5JyA6ICdjbGVhcidcbiAgICAgIH0gZWxzZSBpZiAoaG91ciA+PSAxMiAmJiBob3VyIDwgMTgpIHtcbiAgICAgICAgd2VhdGhlclR5cGUgPSBNYXRoLnJhbmRvbSgpID4gMC44ID8gJ3JhaW55JyA6ICdjbGVhcidcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdlYXRoZXJUeXBlID0gTWF0aC5yYW5kb20oKSA+IDAuNiA/ICdjbGVhcicgOiAnY2xvdWR5J1xuICAgICAgfVxuXG4gICAgICBmb3JlY2FzdC5wdXNoKHtcbiAgICAgICAgLi4uYmFzZVdlYXRoZXIsXG4gICAgICAgIHR5cGU6IHdlYXRoZXJUeXBlLFxuICAgICAgICBpbnRlbnNpdHk6IE1hdGgucmFuZG9tKCkgKiAwLjggKyAwLjIsXG4gICAgICAgIHRlbXBlcmF0dXJlOiBiYXNlV2VhdGhlci50ZW1wZXJhdHVyZSArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDEwXG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiBmb3JlY2FzdFxuICB9XG5cbiAgLy8gQ2xlYW51cCBzeXN0ZW1cbiAgcHVibGljIGNsZWFudXAoKSB7XG4gICAgdGhpcy5jZWxlc3RpYWxCb2RpZXMuZm9yRWFjaChib2R5ID0+IHtcbiAgICAgIGVuZ2luZS5yZW1vdmVFbnRpdHkoYm9keS5lbnRpdHkpXG4gICAgfSlcbiAgICB0aGlzLmNlbGVzdGlhbEJvZGllcy5jbGVhcigpXG5cbiAgICB0aGlzLndlYXRoZXJFZmZlY3RzLmZvckVhY2goZWZmZWN0ID0+IHtcbiAgICAgIGVuZ2luZS5yZW1vdmVFbnRpdHkoZWZmZWN0LmVudGl0eSlcbiAgICB9KVxuICAgIHRoaXMud2VhdGhlckVmZmVjdHMgPSBbXVxuXG4gICAgaWYgKHRoaXMuc2t5RG9tZSkge1xuICAgICAgZW5naW5lLnJlbW92ZUVudGl0eSh0aGlzLnNreURvbWUpXG4gICAgfVxuXG4gICAgdGhpcy5pc0luaXRpYWxpemVkID0gZmFsc2VcbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3Qgd2VhdGhlclN5c3RlbSA9IG5ldyBXZWF0aGVyU3lzdGVtKClcbiIsICJpbXBvcnQgeyBlbmdpbmUsIE1hdGVyaWFsLCBNZXNoUmVuZGVyZXIsIFRyYW5zZm9ybSB9IGZyb20gJ0BkY2wvc2RrL2VjcydcbmltcG9ydCB7IENvbG9yNCwgVmVjdG9yMyB9IGZyb20gJ0BkY2wvc2RrL21hdGgnXG5cbmltcG9ydCB7IHNldFRpbWVvdXQsIHNldEludGVydmFsLCBjbGVhclRpbWVvdXQsIGNsZWFySW50ZXJ2YWwgfSBmcm9tICcuL3V0aWxzL3RpbWVycydcblxuXG5pbXBvcnQgeyBsaWdodGluZ1N5c3RlbSB9IGZyb20gJy4vYWR2YW5jZWQtbGlnaHRpbmcnXG5pbXBvcnQgeyBucGNNYW5hZ2VyIH0gZnJvbSAnLi9haS1ucGMtc3lzdGVtJ1xuaW1wb3J0IHsgYW5hbHl0aWNzRGFzaGJvYXJkU3lzdGVtIH0gZnJvbSAnLi9hbmFseXRpY3MtZGFzaGJvYXJkJ1xuaW1wb3J0IHsgYXJJbnRlZ3JhdGlvblN5c3RlbSB9IGZyb20gJy4vYXItaW50ZWdyYXRpb24nXG5pbXBvcnQgeyBhdmF0YXJTeXN0ZW0gfSBmcm9tICcuL2F2YXRhci1zeXN0ZW0nXG5pbXBvcnQgeyBibG9ja2NoYWluU3lzdGVtIH0gZnJvbSAnLi9ibG9ja2NoYWluLWludGVncmF0aW9uJ1xuaW1wb3J0IHsgd2hpdGVib2FyZFN5c3RlbSB9IGZyb20gJy4vY29sbGFib3JhdGlvbi13aGl0ZWJvYXJkJ1xuaW1wb3J0IHsgY29udGVudE1hbmFnZW1lbnRTeXN0ZW0gfSBmcm9tICcuL2NvbnRlbnQtbWFuYWdlbWVudCdcbmltcG9ydCB7IGNyb3NzUGxhdGZvcm1TeW5jU3lzdGVtIH0gZnJvbSAnLi9jcm9zcy1wbGF0Zm9ybS1zeW5jJ1xuaW1wb3J0IHsgZW1vdGlvbkRldGVjdGlvblN5c3RlbSB9IGZyb20gJy4vZW1vdGlvbi1kZXRlY3Rpb24nXG5pbXBvcnQgeyBjcmVhdGVFbmhhbmNlZEFyY2hpdGVjdHVyZSB9IGZyb20gJy4vZW5oYW5jZWQtYXJjaGl0ZWN0dXJlJ1xuaW1wb3J0IHsgY3JlYXRlRW5oYW5jZWRJbnRlcmFjdGFibGVzLCB1cGRhdGVBbGVydCwgdXBkYXRlU3lzdGVtU3RhdHVzIH0gZnJvbSAnLi9lbmhhbmNlZC1pbnRlcmFjdGFibGVzJ1xuaW1wb3J0IHsgZmV0Y2hBbGVydE1lc3NhZ2VzLCBmZXRjaEVuaGFuY2VkU3lzdGVtU3RhdHMsIHJ1blN5c3RlbURpYWdub3N0aWNzIH0gZnJvbSAnLi9lbmhhbmNlZC1uZXR3b3JrJ1xuaW1wb3J0IHsgc291bmRTeXN0ZW0gfSBmcm9tICcuL2VuaGFuY2VkLXNvdW5kJ1xuaW1wb3J0IHsgZ2VzdHVyZVN5c3RlbSB9IGZyb20gJy4vZ2VzdHVyZS1yZWNvZ25pdGlvbidcbmltcG9ydCB7IGhhcHRpY0ZlZWRiYWNrU3lzdGVtIH0gZnJvbSAnLi9oYXB0aWMtZmVlZGJhY2snXG5pbXBvcnQgeyBEYXRhVmlzdWFsaXphdGlvbk1hbmFnZXIsIGRhdGFWaXpNYW5hZ2VyIH0gZnJvbSAnLi9ob2xvZ3JhcGhpYy1kYXRhLXdhbGxzJ1xuaW1wb3J0IHsgbXVsdGlwbGF5ZXJTeXN0ZW0gfSBmcm9tICcuL211bHRpcGxheWVyLXN5c3RlbSdcbmltcG9ydCB7IHBoeXNpY3NTeXN0ZW0gfSBmcm9tICcuL3BoeXNpY3MtaW50ZXJhY3Rpb24nXG5pbXBvcnQgeyBwcm9jZWR1cmFsU3lzdGVtIH0gZnJvbSAnLi9wcm9jZWR1cmFsLWdlbmVyYXRpb24nXG5pbXBvcnQgeyB1aVN5c3RlbSB9IGZyb20gJy4vcmVzcG9uc2l2ZS11aS1zeXN0ZW0nXG5pbXBvcnQgeyBzbWFydFJvb21TeXN0ZW0gfSBmcm9tICcuL3NtYXJ0LXJvb20tc3lzdGVtJ1xuaW1wb3J0IHsgdm9pY2VDb21tYW5kU3lzdGVtIH0gZnJvbSAnLi92b2ljZS1jb21tYW5kLXN5c3RlbSdcbmltcG9ydCB7IHdlYXRoZXJTeXN0ZW0gfSBmcm9tICcuL3dlYXRoZXItc3lzdGVtJ1xuXG4vLyBFbmhhbmNlZCBtYWluIGZ1bmN0aW9uIHdpdGggcmVhbC10aW1lIHVwZGF0ZXNcbmV4cG9ydCBmdW5jdGlvbiBlbmhhbmNlZE1haW4oKSB7XG4gIGNvbnNvbGUubG9nKFwiIEluaXRpYWxpemluZyBBSUdlc3Rpb24gRW5oYW5jZWQgVmlydHVhbCBPZmZpY2UuLi5cIilcblxuICAvLyBJbml0aWFsaXplIGNvcmUgc3lzdGVtcyBmaXJzdCAoY3JpdGljYWwgcGF0aClcbiAgc291bmRTeXN0ZW0uaW5pdGlhbGl6ZSgpXG4gIGxpZ2h0aW5nU3lzdGVtLmluaXRpYWxpemUoKVxuICB1aVN5c3RlbS5pbml0aWFsaXplKClcblxuICAvLyBDcmVhdGUgZW5oYW5jZWQgYXJjaGl0ZWN0dXJlIGZpcnN0XG4gIGNyZWF0ZUVuaGFuY2VkQXJjaGl0ZWN0dXJlKClcblxuICAvLyBDcmVhdGUgZW5oYW5jZWQgaW50ZXJhY3RhYmxlc1xuICBjcmVhdGVFbmhhbmNlZEludGVyYWN0YWJsZXMoKVxuXG4gIGNvbnNvbGUubG9nKFwiIENvcmUgc3lzdGVtcyBpbml0aWFsaXplZCAtIFN0YXJ0aW5nIGFkdmFuY2VkIHN5c3RlbXMuLi5cIilcblxuICAvLyBJbml0aWFsaXplIGFkdmFuY2VkIHN5c3RlbXMgd2l0aCBkZWxheSB0byBwcmV2ZW50IGJsb2NraW5nXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIHdlYXRoZXJTeXN0ZW0uaW5pdGlhbGl6ZSgpXG4gICAgbXVsdGlwbGF5ZXJTeXN0ZW0uaW5pdGlhbGl6ZSgpXG4gICAgYXZhdGFyU3lzdGVtLmluaXRpYWxpemUoKVxuICAgIHNtYXJ0Um9vbVN5c3RlbS5pbml0aWFsaXplKClcbiAgfSwgMTAwKVxuXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGdlc3R1cmVTeXN0ZW0uaW5pdGlhbGl6ZSgpXG4gICAgd2hpdGVib2FyZFN5c3RlbS5pbml0aWFsaXplKClcbiAgICB2b2ljZUNvbW1hbmRTeXN0ZW0uaW5pdGlhbGl6ZSgpXG4gICAgYmxvY2tjaGFpblN5c3RlbS5pbml0aWFsaXplKClcbiAgfSwgMjAwKVxuXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGFySW50ZWdyYXRpb25TeXN0ZW0uaW5pdGlhbGl6ZSgpXG4gICAgY29udGVudE1hbmFnZW1lbnRTeXN0ZW0uaW5pdGlhbGl6ZSgpXG4gICAgcGh5c2ljc1N5c3RlbS5pbml0aWFsaXplKClcbiAgICBwcm9jZWR1cmFsU3lzdGVtLmluaXRpYWxpemUoKVxuICB9LCAzMDApXG5cbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgZW1vdGlvbkRldGVjdGlvblN5c3RlbS5pbml0aWFsaXplKClcbiAgICBjcm9zc1BsYXRmb3JtU3luY1N5c3RlbS5pbml0aWFsaXplKClcbiAgICBhbmFseXRpY3NEYXNoYm9hcmRTeXN0ZW0uaW5pdGlhbGl6ZSgpXG4gICAgaGFwdGljRmVlZGJhY2tTeXN0ZW0uaW5pdGlhbGl6ZSgpXG4gIH0sIDQwMClcblxuICAvLyBJbml0aWFsaXplIEFJIE5QQ3NcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgaW5pdGlhbGl6ZU5QQ3MoKVxuICAgIGluaXRpYWxpemVEYXRhVmlzdWFsaXphdGlvbigpXG4gICAgc3RhcnRSZWFsVGltZVVwZGF0ZXMoKVxuICAgIGNyZWF0ZVBhcnRpY2xlRWZmZWN0cygpXG4gICAgY29uc29sZS5sb2coXCIgRW5oYW5jZWQgVmlydHVhbCBPZmZpY2UgSW5pdGlhbGl6ZWQgU3VjY2Vzc2Z1bGx5IVwiKVxuICB9LCA1MDApXG59XG5cbi8vIFJlYWwtdGltZSB1cGRhdGUgc3lzdGVtIHdpdGggbWVtb3J5IG1hbmFnZW1lbnRcbmxldCBzeXN0ZW1VcGRhdGVJbnRlcnZhbDogTm9kZUpTLlRpbWVvdXRcbmxldCBkaWFnbm9zdGljc0ludGVydmFsOiBOb2RlSlMuVGltZW91dFxubGV0IGFsZXJ0c0ludGVydmFsOiBOb2RlSlMuVGltZW91dFxuXG5mdW5jdGlvbiBzdGFydFJlYWxUaW1lVXBkYXRlcygpIHtcbiAgLy8gQ2xlYXIgZXhpc3RpbmcgaW50ZXJ2YWxzIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzXG4gIGlmIChzeXN0ZW1VcGRhdGVJbnRlcnZhbCkgY2xlYXJJbnRlcnZhbChzeXN0ZW1VcGRhdGVJbnRlcnZhbClcbiAgaWYgKGRpYWdub3N0aWNzSW50ZXJ2YWwpIGNsZWFySW50ZXJ2YWwoZGlhZ25vc3RpY3NJbnRlcnZhbClcbiAgaWYgKGFsZXJ0c0ludGVydmFsKSBjbGVhckludGVydmFsKGFsZXJ0c0ludGVydmFsKVxuXG4gIC8vIFVwZGF0ZSBzeXN0ZW0gc3RhdHMgZXZlcnkgNSBzZWNvbmRzIChyZWR1Y2VkIGZyZXF1ZW5jeSlcbiAgc3lzdGVtVXBkYXRlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0YXRzID0gYXdhaXQgZmV0Y2hFbmhhbmNlZFN5c3RlbVN0YXRzKClcbiAgICAgIHVwZGF0ZVN5c3RlbVN0YXR1cyhcIkFVVE9fVVBEQVRFXCIsIHRydWUpXG5cbiAgICAgIC8vIFRyaWdnZXIgYWxlcnRzIGJhc2VkIG9uIHN5c3RlbSBzdGF0dXMgd2l0aCBzb3VuZFxuICAgICAgaWYgKHN0YXRzLnN5c3RlbUhlYWx0aCA9PT0gJ0NSSVRJQ0FMJykge1xuICAgICAgICB1cGRhdGVBbGVydChcIiBDUklUSUNBTDogU3lzdGVtIG92ZXJsb2FkIGRldGVjdGVkIVwiLCAnQ1JJVElDQUwnKVxuICAgICAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgnYWxlcnQnKVxuICAgICAgfSBlbHNlIGlmIChzdGF0cy5zeXN0ZW1IZWFsdGggPT09ICdXQVJOSU5HJykge1xuICAgICAgICB1cGRhdGVBbGVydChcIiBXQVJOSU5HOiBIaWdoIHN5c3RlbSBsb2FkIGRldGVjdGVkXCIsICdXQVJOSU5HJylcbiAgICAgICAgc291bmRTeXN0ZW0ucGxheUludGVyYWN0aW9uU291bmQoJ2FsZXJ0JylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVwZGF0ZUFsZXJ0KFwiIEFsbCBzeXN0ZW1zIG9wZXJhdGluZyBub3JtYWxseVwiLCAnSU5GTycpXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKFwiIFN5c3RlbSBTdGF0cyBVcGRhdGVkOlwiLCBzdGF0cylcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIiBFcnJvciB1cGRhdGluZyBzeXN0ZW0gc3RhdHM6XCIsIGVycm9yKVxuICAgIH1cbiAgfSwgNTAwMCkgLy8gSW5jcmVhc2VkIGZyb20gMzAwMCB0byA1MDAwXG5cbiAgLy8gUnVuIGRpYWdub3N0aWNzIGV2ZXJ5IDIwIHNlY29uZHMgKHJlZHVjZWQgZnJlcXVlbmN5KVxuICBkaWFnbm9zdGljc0ludGVydmFsID0gc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkaWFnbm9zdGljcyA9IGF3YWl0IHJ1blN5c3RlbURpYWdub3N0aWNzKClcbiAgICAgIGNvbnNvbGUubG9nKFwiIFN5c3RlbSBEaWFnbm9zdGljczpcIiwgZGlhZ25vc3RpY3MpXG5cbiAgICAgIGlmIChkaWFnbm9zdGljcy5vdmVyYWxsID09PSAnQ1JJVElDQUwnKSB7XG4gICAgICAgIHVwZGF0ZUFsZXJ0KFwiIENSSVRJQ0FMIFNZU1RFTSBGQUlMVVJFIERFVEVDVEVEIVwiLCAnQ1JJVElDQUwnKVxuICAgICAgICBzb3VuZFN5c3RlbS5wbGF5SW50ZXJhY3Rpb25Tb3VuZCgnZXJyb3InKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiIEVycm9yIHJ1bm5pbmcgZGlhZ25vc3RpY3M6XCIsIGVycm9yKVxuICAgIH1cbiAgfSwgMjAwMDApIC8vIEluY3JlYXNlZCBmcm9tIDEwMDAwIHRvIDIwMDAwXG5cbiAgLy8gVXBkYXRlIGFsZXJ0cyBldmVyeSAxMCBzZWNvbmRzIChyZWR1Y2VkIGZyZXF1ZW5jeSlcbiAgYWxlcnRzSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFsZXJ0cyA9IGF3YWl0IGZldGNoQWxlcnRNZXNzYWdlcygpXG4gICAgICBpZiAoYWxlcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbGF0ZXN0QWxlcnQgPSBhbGVydHNbYWxlcnRzLmxlbmd0aCAtIDFdXG4gICAgICAgIHVwZGF0ZUFsZXJ0KGxhdGVzdEFsZXJ0Lm1lc3NhZ2UsIGxhdGVzdEFsZXJ0LnR5cGUpXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCIgRXJyb3IgZmV0Y2hpbmcgYWxlcnRzOlwiLCBlcnJvcilcbiAgICB9XG4gIH0sIDEwMDAwKSAvLyBJbmNyZWFzZWQgZnJvbSA1MDAwIHRvIDEwMDAwXG59XG5cbi8vIEluaXRpYWxpemUgQUktcG93ZXJlZCBOUENzXG5mdW5jdGlvbiBpbml0aWFsaXplTlBDcygpIHtcbiAgLy8gQ3JlYXRlIHN5c3RlbSBhc3Npc3RhbnRcbiAgbnBjTWFuYWdlci5jcmVhdGVOUEMoXG4gICAgJ05FWFVTJyxcbiAgICAnU3lzdGVtIEFkbWluaXN0cmF0b3InLFxuICAgIFZlY3RvcjMuY3JlYXRlKDQsIDEsIDQpXG4gIClcblxuICAvLyBDcmVhdGUgZGF0YSBhbmFseXN0XG4gIG5wY01hbmFnZXIuY3JlYXRlTlBDKFxuICAgICdEQVRBJyxcbiAgICAnRGF0YSBBbmFseXN0JyxcbiAgICBWZWN0b3IzLmNyZWF0ZSgxMiwgMSwgNClcbiAgKVxuXG4gIC8vIENyZWF0ZSBzZWN1cml0eSBleHBlcnRcbiAgbnBjTWFuYWdlci5jcmVhdGVOUEMoXG4gICAgJ0dVQVJEJyxcbiAgICAnU2VjdXJpdHkgRXhwZXJ0JyxcbiAgICBWZWN0b3IzLmNyZWF0ZSg4LCAxLCAxMilcbiAgKVxuXG4gIGNvbnNvbGUubG9nKCdcdUQ4M0VcdUREMTYgQUkgQXNzaXN0YW50cyBJbml0aWFsaXplZCcpXG59XG5cbi8vIEluaXRpYWxpemUgZGF0YSB2aXN1YWxpemF0aW9uIHdhbGxzXG5mdW5jdGlvbiBpbml0aWFsaXplRGF0YVZpc3VhbGl6YXRpb24oKSB7XG4gIC8vIENyZWF0ZSBtYWluIGRhdGEgd2FsbFxuICBjb25zdCBtYWluV2FsbCA9IGRhdGFWaXpNYW5hZ2VyLmNyZWF0ZVdhbGwoXG4gICAgJ21haW4nLFxuICAgIFZlY3RvcjMuY3JlYXRlKDgsIDQsIDAuNSksXG4gICAgVmVjdG9yMy5jcmVhdGUoMTYsIDgsIDAuMilcbiAgKVxuXG4gIC8vIEFkZCBzeXN0ZW0gc3RhdHVzIGNoYXJ0XG4gIG1haW5XYWxsLmFkZENoYXJ0KCdzeXN0ZW1TdGF0dXMnLCB7XG4gICAgdHlwZTogJ2JhcicsXG4gICAgdGl0bGU6ICdTeXN0ZW0gU3RhdHVzJyxcbiAgICBkYXRhOiBEYXRhVmlzdWFsaXphdGlvbk1hbmFnZXIuY3JlYXRlU3lzdGVtU3RhdHVzRGF0YSgpLFxuICAgIG1heERhdGFQb2ludHM6IDEwLFxuICAgIHVwZGF0ZUludGVydmFsOiAzMDAwXG4gIH0pXG5cbiAgLy8gQWRkIHJlYWwtdGltZSBkYXRhIHN0cmVhbVxuICBtYWluV2FsbC5zdGFydERhdGFTdHJlYW0oJ3JlYWx0aW1lJywgRGF0YVZpc3VhbGl6YXRpb25NYW5hZ2VyLmNyZWF0ZVJlYWx0aW1lRGF0YVNvdXJjZSgpKVxuXG4gIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURDQ0EgRGF0YSBWaXN1YWxpemF0aW9uIEluaXRpYWxpemVkJylcbn1cbmNvbnN0IHBhcnRpY2xlUG9vbDogYW55W10gPSBbXVxuY29uc3QgbWF4UGFydGljbGVzID0gNTBcblxuZnVuY3Rpb24gY3JlYXRlUGFydGljbGVFZmZlY3RzKCkge1xuICBjb25zb2xlLmxvZygnXHVEODNDXHVERkE4IENyZWF0aW5nIHBhcnRpY2xlIGVmZmVjdHMuLi4nKVxuXG4gIC8vIENyZWF0ZSBmbG9hdGluZyBkYXRhIHBhcnRpY2xlcyB3aXRoIHBvb2xpbmcgLSBSRURVQ0VEIENPVU5UXG4gIGNvbnN0IHBhcnRpY2xlQ291bnQgPSBNYXRoLm1pbigxMCwgbWF4UGFydGljbGVzKSAvLyBSZWR1Y2VkIGZyb20gMjAgdG8gMTBcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0aWNsZUNvdW50OyBpKyspIHtcbiAgICBjb25zdCBwYXJ0aWNsZSA9IGNyZWF0ZVBhcnRpY2xlKClcbiAgICBhbmltYXRlUGFydGljbGUocGFydGljbGUpXG4gICAgcGFydGljbGVQb29sLnB1c2gocGFydGljbGUpXG4gIH1cblxuICAvLyBDcmVhdGUgZW5lcmd5IHN0cmVhbSBwYXJ0aWNsZXMgLSBSRURVQ0VEIENPVU5UXG4gIGNvbnN0IGVuZXJneUNvdW50ID0gTWF0aC5taW4oNSwgbWF4UGFydGljbGVzIC0gcGFydGljbGVDb3VudCkgLy8gUmVkdWNlZCBmcm9tIDE1IHRvIDVcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmVyZ3lDb3VudDsgaSsrKSB7XG4gICAgY29uc3QgZW5lcmd5UGFydGljbGUgPSBjcmVhdGVFbmVyZ3lQYXJ0aWNsZSgpXG4gICAgYW5pbWF0ZUVuZXJneVBhcnRpY2xlKGVuZXJneVBhcnRpY2xlKVxuICAgIHBhcnRpY2xlUG9vbC5wdXNoKGVuZXJneVBhcnRpY2xlKVxuICB9XG5cbiAgY29uc29sZS5sb2coYFx1MjcwNSBDcmVhdGVkICR7cGFydGljbGVDb3VudCArIGVuZXJneUNvdW50fSBwYXJ0aWNsZXNgKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVQYXJ0aWNsZSgpIHtcbiAgY29uc3QgcGFydGljbGUgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgVHJhbnNmb3JtLmNyZWF0ZShwYXJ0aWNsZSwge1xuICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZShcbiAgICAgIE1hdGgucmFuZG9tKCkgKiAxNixcbiAgICAgIE1hdGgucmFuZG9tKCkgKiA0ICsgMSxcbiAgICAgIE1hdGgucmFuZG9tKCkgKiAxNlxuICAgICksXG4gICAgc2NhbGU6IFZlY3RvcjMuY3JlYXRlKDAuMSwgMC4xLCAwLjEpXG4gIH0pXG4gIE1lc2hSZW5kZXJlci5zZXRCb3gocGFydGljbGUpXG4gIE1hdGVyaWFsLnNldFBick1hdGVyaWFsKHBhcnRpY2xlLCB7XG4gICAgYWxiZWRvQ29sb3I6IENvbG9yNC5jcmVhdGUoMCwgMSwgMC44LCAwLjYpLFxuICAgIHJvdWdobmVzczogMC4wLFxuICAgIG1ldGFsbGljOiAwLjUsXG4gICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgwLCAxLCAwLjgsIDEpLFxuICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAzXG4gIH0pXG4gIHJldHVybiBwYXJ0aWNsZVxufVxuXG5mdW5jdGlvbiBjcmVhdGVFbmVyZ3lQYXJ0aWNsZSgpIHtcbiAgY29uc3QgZW5lcmd5UGFydGljbGUgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgVHJhbnNmb3JtLmNyZWF0ZShlbmVyZ3lQYXJ0aWNsZSwge1xuICAgIHBvc2l0aW9uOiBWZWN0b3IzLmNyZWF0ZShcbiAgICAgIDggKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiA0LFxuICAgICAgMiArIE1hdGgucmFuZG9tKCkgKiAyLFxuICAgICAgOCArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDRcbiAgICApLFxuICAgIHNjYWxlOiBWZWN0b3IzLmNyZWF0ZSgwLjE1LCAwLjE1LCAwLjE1KVxuICB9KVxuICBNZXNoUmVuZGVyZXIuc2V0Qm94KGVuZXJneVBhcnRpY2xlKVxuICBNYXRlcmlhbC5zZXRQYnJNYXRlcmlhbChlbmVyZ3lQYXJ0aWNsZSwge1xuICAgIGFsYmVkb0NvbG9yOiBDb2xvcjQuY3JlYXRlKDEsIDAuOCwgMC4yLCAwLjcpLFxuICAgIHJvdWdobmVzczogMC4xLFxuICAgIG1ldGFsbGljOiAwLjgsXG4gICAgZW1pc3NpdmVDb2xvcjogQ29sb3I0LmNyZWF0ZSgxLCAwLjgsIDAuMiwgMSksXG4gICAgZW1pc3NpdmVJbnRlbnNpdHk6IDVcbiAgfSlcbiAgcmV0dXJuIGVuZXJneVBhcnRpY2xlXG59XG5cbi8vIFNpbXBsZSBwYXJ0aWNsZSBhbmltYXRpb24gd2l0aCBwb29saW5nIG9wdGltaXphdGlvbiAtIERJU0FCTEVEIEZPUiBQRVJGT1JNQU5DRVxuZnVuY3Rpb24gYW5pbWF0ZVBhcnRpY2xlKHBhcnRpY2xlOiBhbnkpIHtcbiAgLy8gRElTQUJMRUQgLSBUb28gbWFueSBhbmltYXRpb25zIGNhdXNpbmcgcGVyZm9ybWFuY2UgaXNzdWVzXG4gIGNvbnNvbGUubG9nKCdcdTI2QTBcdUZFMEYgUGFydGljbGUgYW5pbWF0aW9uIGRpc2FibGVkIGZvciBwZXJmb3JtYW5jZScpXG4gIHJldHVyblxufVxuXG4vLyBFbmVyZ3kgcGFydGljbGUgYW5pbWF0aW9uIHdpdGggcG9vbGluZyBvcHRpbWl6YXRpb24gLSBESVNBQkxFRCBGT1IgUEVSRk9STUFOQ0VcbmZ1bmN0aW9uIGFuaW1hdGVFbmVyZ3lQYXJ0aWNsZShwYXJ0aWNsZTogYW55KSB7XG4gIC8vIERJU0FCTEVEIC0gVG9vIG1hbnkgYW5pbWF0aW9ucyBjYXVzaW5nIHBlcmZvcm1hbmNlIGlzc3Vlc1xuICBjb25zb2xlLmxvZygnXHUyNkEwXHVGRTBGIEVuZXJneSBwYXJ0aWNsZSBhbmltYXRpb24gZGlzYWJsZWQgZm9yIHBlcmZvcm1hbmNlJylcbiAgcmV0dXJuXG59XG5cbi8vIENsZWFudXAgZnVuY3Rpb24gdG8gcHJldmVudCBtZW1vcnkgbGVha3NcbmV4cG9ydCBmdW5jdGlvbiBjbGVhbnVwRW5oYW5jZWRTY2VuZSgpIHtcbiAgaWYgKHN5c3RlbVVwZGF0ZUludGVydmFsKSBjbGVhckludGVydmFsKHN5c3RlbVVwZGF0ZUludGVydmFsKVxuICBpZiAoZGlhZ25vc3RpY3NJbnRlcnZhbCkgY2xlYXJJbnRlcnZhbChkaWFnbm9zdGljc0ludGVydmFsKVxuICBpZiAoYWxlcnRzSW50ZXJ2YWwpIGNsZWFySW50ZXJ2YWwoYWxlcnRzSW50ZXJ2YWwpXG5cbiAgLy8gQ2xlYW4gdXAgcGFydGljbGUgcG9vbFxuICBwYXJ0aWNsZVBvb2wuZm9yRWFjaChwYXJ0aWNsZSA9PiB7XG4gICAgZW5naW5lLnJlbW92ZUVudGl0eShwYXJ0aWNsZSlcbiAgfSlcbiAgcGFydGljbGVQb29sLmxlbmd0aCA9IDBcblxuICAvLyBDbGVhbiB1cCBhbGwgc3lzdGVtc1xuICBzb3VuZFN5c3RlbS5jbGVhbnVwKClcbiAgbGlnaHRpbmdTeXN0ZW0uY2xlYW51cCgpXG4gIG5wY01hbmFnZXIuY2xlYW51cCgpXG4gIGRhdGFWaXpNYW5hZ2VyLmNsZWFudXAoKVxuICB1aVN5c3RlbS5jbGVhbnVwKClcbiAgd2VhdGhlclN5c3RlbS5jbGVhbnVwKClcbiAgbXVsdGlwbGF5ZXJTeXN0ZW0uY2xlYW51cCgpXG4gIGF2YXRhclN5c3RlbS5jbGVhbnVwKClcbiAgc21hcnRSb29tU3lzdGVtLmNsZWFudXAoKVxuICBnZXN0dXJlU3lzdGVtLmNsZWFudXAoKVxuICB3aGl0ZWJvYXJkU3lzdGVtLmNsZWFudXAoKVxuICB2b2ljZUNvbW1hbmRTeXN0ZW0uY2xlYW51cCgpXG4gIGJsb2NrY2hhaW5TeXN0ZW0uY2xlYW51cCgpXG4gIGFySW50ZWdyYXRpb25TeXN0ZW0uY2xlYW51cCgpXG4gIGNvbnRlbnRNYW5hZ2VtZW50U3lzdGVtLmNsZWFudXAoKVxuICBwaHlzaWNzU3lzdGVtLmNsZWFudXAoKVxuICBwcm9jZWR1cmFsU3lzdGVtLmNsZWFudXAoKVxuICBlbW90aW9uRGV0ZWN0aW9uU3lzdGVtLmNsZWFudXAoKVxuICBjcm9zc1BsYXRmb3JtU3luY1N5c3RlbS5jbGVhbnVwKClcbiAgYW5hbHl0aWNzRGFzaGJvYXJkU3lzdGVtLmNsZWFudXAoKVxuICBoYXB0aWNGZWVkYmFja1N5c3RlbS5jbGVhbnVwKClcbn1cblxuLy8gSW5pdGlhbGl6ZSB0aGUgZW5oYW5jZWQgc2NlbmVcbmVuaGFuY2VkTWFpbigpXG4iLCAiaW1wb3J0IHsgZW5oYW5jZWRNYWluIH0gZnJvbSAnLi9lbmhhbmNlZC1pbmRleCdcblxuLy8gSW5pdGlhbGl6ZSBzY2VuZSBjb21wb25lbnRzIHdpdGggZW5oYW5jZWQgdmVyc2lvblxuZXhwb3J0IGZ1bmN0aW9uIG1haW4oKSB7XG4gICAgY29uc29sZS5sb2coXCJcdUQ4M0RcdURFODAgU3RhcnRpbmcgQUlHZXN0aW9uIFZpcnR1YWwgT2ZmaWNlLi4uXCIpXG5cbiAgICAvLyBJbml0aWFsaXplIEVuaGFuY2VkIFZpcnR1YWwgT2ZmaWNlIHdpdGggcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uc1xuICAgIGVuaGFuY2VkTWFpbigpXG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVTY3JpcHRzKGVuZ2luZSkge30iLCAiLyoqIEBhbHBoYSBUSElTIEZJTEUgSU5JVElBTElaRVMgVEhFIERFQ0VOVFJBTEFORCBSVU5USU1FLiBXSUxMIENIQU5HRSBTT09OICovXG5pbXBvcnQgeyBDb21wb3NpdGUsIGVuZ2luZSB9IGZyb20gJ0BkY2wvZWNzJ1xuaW1wb3J0IHsgY3JkdEdldFN0YXRlLCBjcmR0U2VuZFRvUmVuZGVyZXIsIHNlbmRCYXRjaCB9IGZyb20gJ35zeXN0ZW0vRW5naW5lQXBpJ1xuaW1wb3J0IHsgY3JlYXRlUmVuZGVyZXJUcmFuc3BvcnQgfSBmcm9tICcuL2ludGVybmFsL3RyYW5zcG9ydHMvcmVuZGVyZXJUcmFuc3BvcnQnXG5pbXBvcnQgeyBwb2xsRXZlbnRzIH0gZnJvbSAnLi9vYnNlcnZhYmxlcydcbmltcG9ydCB7IGNvbXBvc2l0ZVByb3ZpZGVyIH0gZnJvbSAnLi9jb21wb3NpdGUtcHJvdmlkZXInXG5cbi8vIEF0dGFjaCBDUkRUIHRyYW5zcG9ydFxuLy8gQGludGVybmFsXG5leHBvcnQgY29uc3QgcmVuZGVyZXJUcmFuc3BvcnQgPSBjcmVhdGVSZW5kZXJlclRyYW5zcG9ydCh7IGNyZHRTZW5kVG9SZW5kZXJlciB9KVxuZW5naW5lLmFkZFRyYW5zcG9ydChyZW5kZXJlclRyYW5zcG9ydClcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG9uVXBkYXRlKGRlbHRhVGltZTogbnVtYmVyKSB7XG4gIGVuZ2luZS5zZWFsKClcbiAgYXdhaXQgZW5naW5lLnVwZGF0ZShkZWx0YVRpbWUpXG4gIGF3YWl0IHBvbGxFdmVudHMoc2VuZEJhdGNoKVxufVxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICogRnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgYmVmb3JlIHRoZSBmaXJzdCB1cGRhdGUgYW5kIGFmdGVyIHRoZSBldmFsdWF0aW9uIG9mIHRoZSBjb2RlLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gb25TdGFydCgpIHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjcmR0R2V0U3RhdGUoeyBkYXRhOiBuZXcgVWludDhBcnJheSgpIH0pXG5cbiAgLy8gd2hlbiB0aGlzIGNvbmRpdGlvbiBpcyB0cnVlIHNvbWV0aGluZyBsaWtlIGBtYWluLmNyZHRgIHdhcyBwcmUtbG9hZGVkIGZyb20gdGhlIHJ1bnRpbWUsIHdlIGRvbid0IG5lZWQgdG8gaW5zdGFuY2UgdGhlIG1haW4uY29tcG9zaXRlXG4gIGlmICghcmVzcG9uc2UuaGFzRW50aXRpZXMpIHtcbiAgICBjb25zdCBtYWluQ29tcG9zaXRlID0gY29tcG9zaXRlUHJvdmlkZXIuZ2V0Q29tcG9zaXRlT3JOdWxsKCdtYWluLmNvbXBvc2l0ZScpXG4gICAgaWYgKG1haW5Db21wb3NpdGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIENvbXBvc2l0ZS5pbnN0YW5jZShlbmdpbmUsIG1haW5Db21wb3NpdGUsIGNvbXBvc2l0ZVByb3ZpZGVyKVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBXYXJuaW5nOiBtYWluLmNvbXBvc2l0ZSBjb3VsZG4ndCBiZSBpbnN0YW5jZWQuYClcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKCEhcmVuZGVyZXJUcmFuc3BvcnQub25tZXNzYWdlKSB7XG4gICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmRhdGEgJiYgcmVzcG9uc2UuZGF0YS5sZW5ndGgpIHtcbiAgICAgIGZvciAoY29uc3QgYnl0ZUFycmF5IG9mIHJlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgcmVuZGVyZXJUcmFuc3BvcnQub25tZXNzYWdlKGJ5dGVBcnJheSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBUcmFuc3BvcnQsIFRyYW5zcG9ydE1lc3NhZ2UgfSBmcm9tICdAZGNsL2VjcydcbmltcG9ydCB7IE1BWF9TVEFUSUNfQ09NUE9ORU5UIH0gZnJvbSAnQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2NvbXBvbmVudC1udW1iZXInXG5pbXBvcnQgdHlwZSB7IENyZHRTZW5kVG9SZW5kZXJlclJlcXVlc3QsIENyZHRTZW5kVG9SZXNwb25zZSB9IGZyb20gJ35zeXN0ZW0vRW5naW5lQXBpJ1xuXG5leHBvcnQgdHlwZSBFbmdpbmVBcGlGb3JUcmFuc3BvcnQgPSB7XG4gIGNyZHRTZW5kVG9SZW5kZXJlcihib2R5OiBDcmR0U2VuZFRvUmVuZGVyZXJSZXF1ZXN0KTogUHJvbWlzZTxDcmR0U2VuZFRvUmVzcG9uc2U+XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZW5kZXJlclRyYW5zcG9ydChlbmdpbmVBcGk6IEVuZ2luZUFwaUZvclRyYW5zcG9ydCk6IFRyYW5zcG9ydCB7XG4gIGFzeW5jIGZ1bmN0aW9uIHNlbmRUb1JlbmRlcmVyKG1lc3NhZ2U6IFVpbnQ4QXJyYXkpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGVuZ2luZUFwaS5jcmR0U2VuZFRvUmVuZGVyZXIoe1xuICAgICAgZGF0YTogbmV3IFVpbnQ4QXJyYXkobWVzc2FnZSlcbiAgICB9KVxuICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEubGVuZ3RoKSB7XG4gICAgICBpZiAocmVuZGVyZXJUcmFuc3BvcnQub25tZXNzYWdlKSB7XG4gICAgICAgIGZvciAoY29uc3QgYnl0ZUFycmF5IG9mIHJlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgICByZW5kZXJlclRyYW5zcG9ydC5vbm1lc3NhZ2UoYnl0ZUFycmF5KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcmVuZGVyZXJUcmFuc3BvcnQ6IFRyYW5zcG9ydCA9IHtcbiAgICBhc3luYyBzZW5kKG1lc3NhZ2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHNlbmRUb1JlbmRlcmVyKG1lc3NhZ2UgYXMgVWludDhBcnJheSlcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgdGhlIGNvbnNvbGUuZXJyb3Igb2YgdGhlIHNjZW5lXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpXG4gICAgICAgIGRlYnVnZ2VyXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWx0ZXIobWVzc2FnZTogVHJhbnNwb3J0TWVzc2FnZSkge1xuICAgICAgLy8gT25seSBzZW5kIHJlbmRlcmVyIGNvbXBvbmVudHMgKFByb3RvIEdlbmVyYXRlZClcbiAgICAgIGlmIChcbiAgICAgICAgLy8gZmlsdGVyIG91dCBtZXNzYWdlcyBmb3Igbm9uLWNvcmUgY29tcG9uZW50c1xuICAgICAgICAobWVzc2FnZSBhcyBhbnkpLmNvbXBvbmVudElkID4gTUFYX1NUQVRJQ19DT01QT05FTlRcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIHJldHVybiAhIW1lc3NhZ2VcbiAgICB9LFxuICAgIHR5cGU6ICdyZW5kZXJlcidcbiAgfVxuXG4gIHJldHVybiByZW5kZXJlclRyYW5zcG9ydFxufVxuIiwgIi8qIGlzdGFuYnVsIGlnbm9yZSBmaWxlICovXG4vKipcbiAqIEEgY2xhc3Mgc2VydmVzIGFzIGEgbWVkaXVtIGJldHdlZW4gdGhlIG9ic2VydmFibGUgYW5kIGl0cyBvYnNlcnZlcnNcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWRcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIE9ic2VydmVyRXZlbnRTdGF0ZSB7XG4gIC8qKlxuICAgKiBBbiBPYnNlcnZlciBjYW4gc2V0IHRoaXMgcHJvcGVydHkgdG8gdHJ1ZSB0byBwcmV2ZW50IHN1YnNlcXVlbnQgb2JzZXJ2ZXJzIG9mIGJlaW5nIG5vdGlmaWVkXG4gICAqL1xuICBwdWJsaWMgc2tpcE5leHRPYnNlcnZlcnMhOiBib29sZWFuXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWFzayB2YWx1ZSB0aGF0IHdlcmUgdXNlZCB0byB0cmlnZ2VyIHRoZSBldmVudCBjb3JyZXNwb25kaW5nIHRvIHRoaXMgRXZlbnRTdGF0ZSBvYmplY3RcbiAgICovXG4gIHB1YmxpYyBtYXNrITogbnVtYmVyXG5cbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgdGhhdCBvcmlnaW5hbGx5IG5vdGlmaWVkIHRoZSBldmVudFxuICAgKi9cbiAgcHVibGljIHRhcmdldD86IGFueVxuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBvYmplY3QgaW4gdGhlIGJ1YmJsaW5nIHBoYXNlXG4gICAqL1xuICBwdWJsaWMgY3VycmVudFRhcmdldD86IGFueVxuXG4gIC8qKlxuICAgKiBUaGlzIHdpbGwgYmUgcG9wdWxhdGVkIHdpdGggdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgbGFzdCBmdW5jdGlvbiB0aGF0IHdhcyBleGVjdXRlZC5cbiAgICogSWYgaXQgaXMgdGhlIGZpcnN0IGZ1bmN0aW9uIGluIHRoZSBjYWxsYmFjayBjaGFpbiBpdCB3aWxsIGJlIHRoZSBldmVudCBkYXRhLlxuICAgKi9cbiAgcHVibGljIGxhc3RSZXR1cm5WYWx1ZT86IGFueVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgRXZlbnRTdGF0ZVxuICAgKiBAcGFyYW0gbWFzayAtIGRlZmluZXMgdGhlIG1hc2sgYXNzb2NpYXRlZCB3aXRoIHRoaXMgc3RhdGVcbiAgICogQHBhcmFtIHNraXBOZXh0T2JzZXJ2ZXJzIC0gZGVmaW5lcyBhIGZsYWcgd2hpY2ggd2lsbCBpbnN0cnVjdCB0aGUgb2JzZXJ2YWJsZSB0byBza2lwIGZvbGxvd2luZyBvYnNlcnZlcnMgd2hlbiBzZXQgdG8gdHJ1ZVxuICAgKiBAcGFyYW0gdGFyZ2V0IC0gZGVmaW5lcyB0aGUgb3JpZ2luYWwgdGFyZ2V0IG9mIHRoZSBzdGF0ZVxuICAgKiBAcGFyYW0gY3VycmVudFRhcmdldCAtIGRlZmluZXMgdGhlIGN1cnJlbnQgdGFyZ2V0IG9mIHRoZSBzdGF0ZVxuICAgKi9cbiAgY29uc3RydWN0b3IobWFzazogbnVtYmVyLCBza2lwTmV4dE9ic2VydmVycyA9IGZhbHNlLCB0YXJnZXQ/OiBhbnksIGN1cnJlbnRUYXJnZXQ/OiBhbnkpIHtcbiAgICB0aGlzLmluaXRhbGl6ZShtYXNrLCBza2lwTmV4dE9ic2VydmVycywgdGFyZ2V0LCBjdXJyZW50VGFyZ2V0KVxuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIGN1cnJlbnQgZXZlbnQgc3RhdGVcbiAgICogQHBhcmFtIG1hc2sgLSBkZWZpbmVzIHRoZSBtYXNrIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHN0YXRlXG4gICAqIEBwYXJhbSBza2lwTmV4dE9ic2VydmVycyAtIGRlZmluZXMgYSBmbGFnIHdoaWNoIHdpbGwgaW5zdHJ1Y3QgdGhlIG9ic2VydmFibGUgdG8gc2tpcCBmb2xsb3dpbmcgb2JzZXJ2ZXJzIHdoZW4gc2V0IHRvIHRydWVcbiAgICogQHBhcmFtIHRhcmdldCAtIGRlZmluZXMgdGhlIG9yaWdpbmFsIHRhcmdldCBvZiB0aGUgc3RhdGVcbiAgICogQHBhcmFtIGN1cnJlbnRUYXJnZXQgLSBkZWZpbmVzIHRoZSBjdXJyZW50IHRhcmdldCBvZiB0aGUgc3RhdGVcbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgZXZlbnQgc3RhdGVcbiAgICovXG4gIHB1YmxpYyBpbml0YWxpemUobWFzazogbnVtYmVyLCBza2lwTmV4dE9ic2VydmVycyA9IGZhbHNlLCB0YXJnZXQ/OiBhbnksIGN1cnJlbnRUYXJnZXQ/OiBhbnkpOiBPYnNlcnZlckV2ZW50U3RhdGUge1xuICAgIHRoaXMubWFzayA9IG1hc2tcbiAgICB0aGlzLnNraXBOZXh0T2JzZXJ2ZXJzID0gc2tpcE5leHRPYnNlcnZlcnNcbiAgICB0aGlzLnRhcmdldCA9IHRhcmdldFxuICAgIHRoaXMuY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXRcbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50IGFuIE9ic2VydmVyIHJlZ2lzdGVyZWQgdG8gYSBnaXZlbiBPYnNlcnZhYmxlIG9iamVjdC5cbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWRcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIE9ic2VydmVyPFQ+IHtcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyBhIHByb3BlcnR5IGRlZmluaW5nIHRoYXQgdGhlIG9ic2VydmVyIGFzIHRvIGJlIHVucmVnaXN0ZXJlZCBhZnRlciB0aGUgbmV4dCBub3RpZmljYXRpb25cbiAgICovXG4gIHB1YmxpYyB1bnJlZ2lzdGVyT25OZXh0Q2FsbCA9IGZhbHNlXG5cbiAgLyoqIEZvciBpbnRlcm5hbCB1c2FnZSAqL1xuICBwdWJsaWMgX3dpbGxCZVVucmVnaXN0ZXJlZCA9IGZhbHNlXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgb2JzZXJ2ZXJcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gZGVmaW5lcyB0aGUgY2FsbGJhY2sgdG8gY2FsbCB3aGVuIHRoZSBvYnNlcnZlciBpcyBub3RpZmllZFxuICAgKiBAcGFyYW0gbWFzayAtIGRlZmluZXMgdGhlIG1hc2sgb2YgdGhlIG9ic2VydmVyICh1c2VkIHRvIGZpbHRlciBub3RpZmljYXRpb25zKVxuICAgKiBAcGFyYW0gc2NvcGUgLSBkZWZpbmVzIHRoZSBjdXJyZW50IHNjb3BlIHVzZWQgdG8gcmVzdG9yZSB0aGUgSlMgY29udGV4dFxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgY2FsbGJhY2sgdG8gY2FsbCB3aGVuIHRoZSBvYnNlcnZlciBpcyBub3RpZmllZFxuICAgICAqL1xuICAgIHB1YmxpYyBjYWxsYmFjazogKGV2ZW50RGF0YTogVCwgZXZlbnRTdGF0ZTogT2JzZXJ2ZXJFdmVudFN0YXRlKSA9PiB2b2lkLFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIG1hc2sgb2YgdGhlIG9ic2VydmVyICh1c2VkIHRvIGZpbHRlciBub3RpZmljYXRpb25zKVxuICAgICAqL1xuICAgIHB1YmxpYyBtYXNrOiBudW1iZXIsXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgY3VycmVudCBzY29wZSB1c2VkIHRvIHJlc3RvcmUgdGhlIEpTIGNvbnRleHRcbiAgICAgKi9cbiAgICBwdWJsaWMgc2NvcGU6IGFueSA9IG51bGxcbiAgKSB7fVxufVxuXG4vKipcbiAqIFRoZSBPYnNlcnZhYmxlIGNsYXNzIGlzIGEgc2ltcGxlIGltcGxlbWVudGF0aW9uIG9mIHRoZSBPYnNlcnZhYmxlIHBhdHRlcm4uXG4gKlxuICogVGhlcmUncyBvbmUgc2xpZ2h0IHBhcnRpY3VsYXJpdHkgdGhvdWdoOiBhIGdpdmVuIE9ic2VydmFibGUgY2FuIG5vdGlmeSBpdHMgb2JzZXJ2ZXIgdXNpbmcgYSBwYXJ0aWN1bGFyIG1hc2sgdmFsdWUsIG9ubHkgdGhlIE9ic2VydmVycyByZWdpc3RlcmVkIHdpdGggdGhpcyBtYXNrIHZhbHVlIHdpbGwgYmUgbm90aWZpZWQuXG4gKiBUaGlzIGVuYWJsZSBhIG1vcmUgZmluZSBncmFpbmVkIGV4ZWN1dGlvbiB3aXRob3V0IGhhdmluZyB0byByZWx5IG9uIG11bHRpcGxlIGRpZmZlcmVudCBPYnNlcnZhYmxlIG9iamVjdHMuXG4gKiBGb3IgaW5zdGFuY2UgeW91IG1heSBoYXZlIGEgZ2l2ZW4gT2JzZXJ2YWJsZSB0aGF0IGhhdmUgZm91ciBkaWZmZXJlbnQgdHlwZXMgb2Ygbm90aWZpY2F0aW9uczogTW92ZSAobWFzayA9IDB4MDEpLCBTdG9wIChtYXNrID0gMHgwMiksIFR1cm4gUmlnaHQgKG1hc2sgPSAwWDA0KSwgVHVybiBMZWZ0IChtYXNrID0gMFgwOCkuXG4gKiBBIGdpdmVuIG9ic2VydmVyIGNhbiByZWdpc3RlciBpdHNlbGYgd2l0aCBvbmx5IE1vdmUgYW5kIFN0b3AgKG1hc2sgPSAweDAzKSwgdGhlbiBpdCB3aWxsIG9ubHkgYmUgbm90aWZpZWQgd2hlbiBvbmUgb2YgdGhlc2UgdHdvIG9jY3VycyBhbmQgd2lsbCBuZXZlciBiZSBmb3IgVHVybiBMZWZ0L1JpZ2h0LlxuICpcbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWRcbiAqL1xuZXhwb3J0IGNsYXNzIE9ic2VydmFibGU8VD4ge1xuICBwcml2YXRlIF9vYnNlcnZlcnMgPSBuZXcgQXJyYXk8T2JzZXJ2ZXI8VD4+KClcblxuICBwcml2YXRlIF9ldmVudFN0YXRlOiBPYnNlcnZlckV2ZW50U3RhdGVcblxuICBwcml2YXRlIF9vbk9ic2VydmVyQWRkZWQ6IG51bGwgfCAoKG9ic2VydmVyOiBPYnNlcnZlcjxUPikgPT4gdm9pZCkgPSBudWxsXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgb2JzZXJ2YWJsZVxuICAgKiBAcGFyYW0gb25PYnNlcnZlckFkZGVkIC0gZGVmaW5lcyBhIGNhbGxiYWNrIHRvIGNhbGwgd2hlbiBhIG5ldyBvYnNlcnZlciBpcyBhZGRlZFxuICAgKi9cbiAgY29uc3RydWN0b3Iob25PYnNlcnZlckFkZGVkPzogKG9ic2VydmVyOiBPYnNlcnZlcjxUPikgPT4gdm9pZCkge1xuICAgIHRoaXMuX2V2ZW50U3RhdGUgPSBuZXcgT2JzZXJ2ZXJFdmVudFN0YXRlKDApXG5cbiAgICBpZiAob25PYnNlcnZlckFkZGVkKSB7XG4gICAgICB0aGlzLl9vbk9ic2VydmVyQWRkZWQgPSBvbk9ic2VydmVyQWRkZWRcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IE9ic2VydmVyIHdpdGggdGhlIHNwZWNpZmllZCBjYWxsYmFja1xuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSB0aGUgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIGZvciB0aGF0IE9ic2VydmVyXG4gICAqIEBwYXJhbSBtYXNrIC0gdGhlIG1hc2sgdXNlZCB0byBmaWx0ZXIgb2JzZXJ2ZXJzXG4gICAqIEBwYXJhbSBpbnNlcnRGaXJzdCAtIGlmIHRydWUgdGhlIGNhbGxiYWNrIHdpbGwgYmUgaW5zZXJ0ZWQgYXQgdGhlIGZpcnN0IHBvc2l0aW9uLCBoZW5jZSBleGVjdXRlZCBiZWZvcmUgdGhlIG90aGVycyBvbmVzLiBJZiBmYWxzZSAoZGVmYXVsdCBiZWhhdmlvcikgdGhlIGNhbGxiYWNrIHdpbGwgYmUgaW5zZXJ0ZWQgYXQgdGhlIGxhc3QgcG9zaXRpb24sIGV4ZWN1dGVkIGFmdGVyIGFsbCB0aGUgb3RoZXJzIGFscmVhZHkgcHJlc2VudC5cbiAgICogQHBhcmFtIHNjb3BlIC0gb3B0aW9uYWwgc2NvcGUgZm9yIHRoZSBjYWxsYmFjayB0byBiZSBjYWxsZWQgZnJvbVxuICAgKiBAcGFyYW0gdW5yZWdpc3Rlck9uRmlyc3RDYWxsIC0gZGVmaW5lcyBpZiB0aGUgb2JzZXJ2ZXIgYXMgdG8gYmUgdW5yZWdpc3RlcmVkIGFmdGVyIHRoZSBuZXh0IG5vdGlmaWNhdGlvblxuICAgKiBAcmV0dXJucyB0aGUgbmV3IG9ic2VydmVyIGNyZWF0ZWQgZm9yIHRoZSBjYWxsYmFja1xuICAgKi9cbiAgcHVibGljIGFkZChcbiAgICBjYWxsYmFjazogKGV2ZW50RGF0YTogVCwgZXZlbnRTdGF0ZTogT2JzZXJ2ZXJFdmVudFN0YXRlKSA9PiB2b2lkLFxuICAgIG1hc2s6IG51bWJlciA9IC0xLFxuICAgIGluc2VydEZpcnN0ID0gZmFsc2UsXG4gICAgc2NvcGU6IGFueSA9IG51bGwsXG4gICAgdW5yZWdpc3Rlck9uRmlyc3RDYWxsID0gZmFsc2VcbiAgKTogbnVsbCB8IE9ic2VydmVyPFQ+IHtcbiAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE9ic2VydmVyKGNhbGxiYWNrLCBtYXNrLCBzY29wZSlcbiAgICBvYnNlcnZlci51bnJlZ2lzdGVyT25OZXh0Q2FsbCA9IHVucmVnaXN0ZXJPbkZpcnN0Q2FsbFxuXG4gICAgaWYgKGluc2VydEZpcnN0KSB7XG4gICAgICB0aGlzLl9vYnNlcnZlcnMudW5zaGlmdChvYnNlcnZlcilcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fb2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX29uT2JzZXJ2ZXJBZGRlZCkge1xuICAgICAgdGhpcy5fb25PYnNlcnZlckFkZGVkKG9ic2VydmVyKVxuICAgIH1cblxuICAgIHJldHVybiBvYnNlcnZlclxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBPYnNlcnZlciB3aXRoIHRoZSBzcGVjaWZpZWQgY2FsbGJhY2sgYW5kIHVucmVnaXN0ZXJzIGFmdGVyIHRoZSBuZXh0IG5vdGlmaWNhdGlvblxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSB0aGUgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIGZvciB0aGF0IE9ic2VydmVyXG4gICAqIEByZXR1cm5zIHRoZSBuZXcgb2JzZXJ2ZXIgY3JlYXRlZCBmb3IgdGhlIGNhbGxiYWNrXG4gICAqL1xuICBwdWJsaWMgYWRkT25jZShjYWxsYmFjazogKGV2ZW50RGF0YTogVCwgZXZlbnRTdGF0ZTogT2JzZXJ2ZXJFdmVudFN0YXRlKSA9PiB2b2lkKTogbnVsbCB8IE9ic2VydmVyPFQ+IHtcbiAgICByZXR1cm4gdGhpcy5hZGQoY2FsbGJhY2ssIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRydWUpXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFuIE9ic2VydmVyIGZyb20gdGhlIE9ic2VydmFibGUgb2JqZWN0XG4gICAqIEBwYXJhbSBvYnNlcnZlciAtIHRoZSBpbnN0YW5jZSBvZiB0aGUgT2JzZXJ2ZXIgdG8gcmVtb3ZlXG4gICAqIEByZXR1cm5zIGZhbHNlIGlmIGl0IGRvZXNuJ3QgYmVsb25nIHRvIHRoaXMgT2JzZXJ2YWJsZVxuICAgKi9cbiAgcHVibGljIHJlbW92ZShvYnNlcnZlcjogbnVsbCB8IE9ic2VydmVyPFQ+KTogYm9vbGVhbiB7XG4gICAgaWYgKCFvYnNlcnZlcikge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLl9vYnNlcnZlcnMuaW5kZXhPZihvYnNlcnZlcilcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuX2RlZmVyVW5yZWdpc3RlcihvYnNlcnZlcilcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgT2JzZXJ2YWJsZSBvYmplY3RcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gdGhlIGNhbGxiYWNrIHRvIHJlbW92ZVxuICAgKiBAcGFyYW0gc2NvcGUgLSBvcHRpb25hbCBzY29wZS4gSWYgdXNlZCBvbmx5IHRoZSBjYWxsYmFja3Mgd2l0aCB0aGlzIHNjb3BlIHdpbGwgYmUgcmVtb3ZlZFxuICAgKiBAcmV0dXJucyBmYWxzZSBpZiBpdCBkb2Vzbid0IGJlbG9uZyB0byB0aGlzIE9ic2VydmFibGVcbiAgICovXG4gIHB1YmxpYyByZW1vdmVDYWxsYmFjayhjYWxsYmFjazogKGV2ZW50RGF0YTogVCwgZXZlbnRTdGF0ZTogT2JzZXJ2ZXJFdmVudFN0YXRlKSA9PiB2b2lkLCBzY29wZT86IGFueSk6IGJvb2xlYW4ge1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLl9vYnNlcnZlcnMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBpZiAodGhpcy5fb2JzZXJ2ZXJzW2luZGV4XS5jYWxsYmFjayA9PT0gY2FsbGJhY2sgJiYgKCFzY29wZSB8fCBzY29wZSA9PT0gdGhpcy5fb2JzZXJ2ZXJzW2luZGV4XS5zY29wZSkpIHtcbiAgICAgICAgdGhpcy5fZGVmZXJVbnJlZ2lzdGVyKHRoaXMuX29ic2VydmVyc1tpbmRleF0pXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvKipcbiAgICogTm90aWZ5IGFsbCBPYnNlcnZlcnMgYnkgY2FsbGluZyB0aGVpciByZXNwZWN0aXZlIGNhbGxiYWNrIHdpdGggdGhlIGdpdmVuIGRhdGFcbiAgICogV2lsbCByZXR1cm4gdHJ1ZSBpZiBhbGwgb2JzZXJ2ZXJzIHdlcmUgZXhlY3V0ZWQsIGZhbHNlIGlmIGFuIG9ic2VydmVyIHNldCBza2lwTmV4dE9ic2VydmVycyB0byB0cnVlLCB0aGVuIHByZXZlbnQgdGhlIHN1YnNlcXVlbnQgb25lcyB0byBleGVjdXRlXG4gICAqIEBwYXJhbSBldmVudERhdGEgLSBkZWZpbmVzIHRoZSBkYXRhIHRvIHNlbmQgdG8gYWxsIG9ic2VydmVyc1xuICAgKiBAcGFyYW0gbWFzayAtIGRlZmluZXMgdGhlIG1hc2sgb2YgdGhlIGN1cnJlbnQgbm90aWZpY2F0aW9uIChvYnNlcnZlcnMgd2l0aCBpbmNvbXBhdGlibGUgbWFzayAoaWUgbWFzayAmIG9ic2VydmVyLm1hc2sgPT09IDApIHdpbGwgbm90IGJlIG5vdGlmaWVkKVxuICAgKiBAcGFyYW0gdGFyZ2V0IC0gZGVmaW5lcyB0aGUgb3JpZ2luYWwgdGFyZ2V0IG9mIHRoZSBzdGF0ZVxuICAgKiBAcGFyYW0gY3VycmVudFRhcmdldCAtIGRlZmluZXMgdGhlIGN1cnJlbnQgdGFyZ2V0IG9mIHRoZSBzdGF0ZVxuICAgKiBAcmV0dXJucyBmYWxzZSBpZiB0aGUgY29tcGxldGUgb2JzZXJ2ZXIgY2hhaW4gd2FzIG5vdCBwcm9jZXNzZWQgKGJlY2F1c2Ugb25lIG9ic2VydmVyIHNldCB0aGUgc2tpcE5leHRPYnNlcnZlcnMgdG8gdHJ1ZSlcbiAgICovXG4gIHB1YmxpYyBub3RpZnlPYnNlcnZlcnMoZXZlbnREYXRhOiBULCBtYXNrOiBudW1iZXIgPSAtMSwgdGFyZ2V0PzogYW55LCBjdXJyZW50VGFyZ2V0PzogYW55KTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLl9vYnNlcnZlcnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fZXZlbnRTdGF0ZVxuICAgIHN0YXRlLm1hc2sgPSBtYXNrXG4gICAgc3RhdGUudGFyZ2V0ID0gdGFyZ2V0XG4gICAgc3RhdGUuY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXRcbiAgICBzdGF0ZS5za2lwTmV4dE9ic2VydmVycyA9IGZhbHNlXG4gICAgc3RhdGUubGFzdFJldHVyblZhbHVlID0gZXZlbnREYXRhXG5cbiAgICBmb3IgKGNvbnN0IG9icyBvZiB0aGlzLl9vYnNlcnZlcnMpIHtcbiAgICAgIGlmIChvYnMuX3dpbGxCZVVucmVnaXN0ZXJlZCkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBpZiAob2JzLm1hc2sgJiBtYXNrKSB7XG4gICAgICAgIGlmIChvYnMuc2NvcGUpIHtcbiAgICAgICAgICBzdGF0ZS5sYXN0UmV0dXJuVmFsdWUgPSBvYnMuY2FsbGJhY2suYXBwbHkob2JzLnNjb3BlLCBbZXZlbnREYXRhLCBzdGF0ZV0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RhdGUubGFzdFJldHVyblZhbHVlID0gb2JzLmNhbGxiYWNrKGV2ZW50RGF0YSwgc3RhdGUpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAob2JzLnVucmVnaXN0ZXJPbk5leHRDYWxsKSB7XG4gICAgICAgICAgdGhpcy5fZGVmZXJVbnJlZ2lzdGVyKG9icylcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLnNraXBOZXh0T2JzZXJ2ZXJzKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxpbmcgdGhpcyB3aWxsIGV4ZWN1dGUgZWFjaCBjYWxsYmFjaywgZXhwZWN0aW5nIGl0IHRvIGJlIGEgcHJvbWlzZSBvciByZXR1cm4gYSB2YWx1ZS5cbiAgICogSWYgYXQgYW55IHBvaW50IGluIHRoZSBjaGFpbiBvbmUgZnVuY3Rpb24gZmFpbHMsIHRoZSBwcm9taXNlIHdpbGwgZmFpbCBhbmQgdGhlIGV4ZWN1dGlvbiB3aWxsIG5vdCBjb250aW51ZS5cbiAgICogVGhpcyBpcyB1c2VmdWwgd2hlbiBhIGNoYWluIG9mIGV2ZW50cyAoc29tZXRpbWVzIGFzeW5jIGV2ZW50cykgaXMgbmVlZGVkIHRvIGluaXRpYWxpemUgYSBjZXJ0YWluIG9iamVjdFxuICAgKiBhbmQgaXQgaXMgY3J1Y2lhbCB0aGF0IGFsbCBjYWxsYmFja3Mgd2lsbCBiZSBleGVjdXRlZC5cbiAgICogVGhlIG9yZGVyIG9mIHRoZSBjYWxsYmFja3MgaXMga2VwdCwgY2FsbGJhY2tzIGFyZSBub3QgZXhlY3V0ZWQgcGFyYWxsZWwuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudERhdGEgLSBUaGUgZGF0YSB0byBiZSBzZW50IHRvIGVhY2ggY2FsbGJhY2tcbiAgICogQHBhcmFtIG1hc2sgLSBpcyB1c2VkIHRvIGZpbHRlciBvYnNlcnZlcnMgZGVmYXVsdHMgdG8gLTFcbiAgICogQHBhcmFtIHRhcmdldCAtIGRlZmluZXMgdGhlIGNhbGxiYWNrIHRhcmdldCAoc2VlIEV2ZW50U3RhdGUpXG4gICAqIEBwYXJhbSBjdXJyZW50VGFyZ2V0IC0gZGVmaW5lcyBoZSBjdXJyZW50IG9iamVjdCBpbiB0aGUgYnViYmxpbmcgcGhhc2VcbiAgICogQHJldHVybnMgd2lsbCByZXR1cm4gYSBQcm9taXNlIHRoYW4gcmVzb2x2ZXMgd2hlbiBhbGwgY2FsbGJhY2tzIGV4ZWN1dGVkIHN1Y2Nlc3NmdWxseS5cbiAgICovXG4gIHB1YmxpYyBub3RpZnlPYnNlcnZlcnNXaXRoUHJvbWlzZShldmVudERhdGE6IFQsIG1hc2s6IG51bWJlciA9IC0xLCB0YXJnZXQ/OiBhbnksIGN1cnJlbnRUYXJnZXQ/OiBhbnkpOiBQcm9taXNlPFQ+IHtcbiAgICAvLyBjcmVhdGUgYW4gZW1wdHkgcHJvbWlzZVxuICAgIGxldCBwOiBQcm9taXNlPGFueT4gPSBQcm9taXNlLnJlc29sdmUoZXZlbnREYXRhKVxuXG4gICAgLy8gbm8gb2JzZXJ2ZXJzPyByZXR1cm4gdGhpcyBwcm9taXNlLlxuICAgIGlmICghdGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHBcbiAgICB9XG5cbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX2V2ZW50U3RhdGVcbiAgICBzdGF0ZS5tYXNrID0gbWFza1xuICAgIHN0YXRlLnRhcmdldCA9IHRhcmdldFxuICAgIHN0YXRlLmN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0XG4gICAgc3RhdGUuc2tpcE5leHRPYnNlcnZlcnMgPSBmYWxzZVxuXG4gICAgLy8gZXhlY3V0ZSBvbmUgY2FsbGJhY2sgYWZ0ZXIgYW5vdGhlciAobm90IHVzaW5nIFByb21pc2UuYWxsLCB0aGUgb3JkZXIgaXMgaW1wb3J0YW50KVxuICAgIHRoaXMuX29ic2VydmVycy5mb3JFYWNoKChvYnMpID0+IHtcbiAgICAgIGlmIChzdGF0ZS5za2lwTmV4dE9ic2VydmVycykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGlmIChvYnMuX3dpbGxCZVVucmVnaXN0ZXJlZCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGlmIChvYnMubWFzayAmIG1hc2spIHtcbiAgICAgICAgaWYgKG9icy5zY29wZSkge1xuICAgICAgICAgIHAgPSBwLnRoZW4oKGxhc3RSZXR1cm5lZFZhbHVlKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5sYXN0UmV0dXJuVmFsdWUgPSBsYXN0UmV0dXJuZWRWYWx1ZVxuICAgICAgICAgICAgcmV0dXJuIG9icy5jYWxsYmFjay5hcHBseShvYnMuc2NvcGUsIFtldmVudERhdGEsIHN0YXRlXSlcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHAgPSBwLnRoZW4oKGxhc3RSZXR1cm5lZFZhbHVlKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5sYXN0UmV0dXJuVmFsdWUgPSBsYXN0UmV0dXJuZWRWYWx1ZVxuICAgICAgICAgICAgcmV0dXJuIG9icy5jYWxsYmFjayhldmVudERhdGEsIHN0YXRlKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9icy51bnJlZ2lzdGVyT25OZXh0Q2FsbCkge1xuICAgICAgICAgIHRoaXMuX2RlZmVyVW5yZWdpc3RlcihvYnMpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gcmV0dXJuIHRoZSBldmVudERhdGFcbiAgICByZXR1cm4gcC50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiBldmVudERhdGFcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIE5vdGlmeSBhIHNwZWNpZmljIG9ic2VydmVyXG4gICAqIEBwYXJhbSBvYnNlcnZlciAtIGRlZmluZXMgdGhlIG9ic2VydmVyIHRvIG5vdGlmeVxuICAgKiBAcGFyYW0gZXZlbnREYXRhIC0gZGVmaW5lcyB0aGUgZGF0YSB0byBiZSBzZW50IHRvIGVhY2ggY2FsbGJhY2tcbiAgICogQHBhcmFtIG1hc2sgLSBpcyB1c2VkIHRvIGZpbHRlciBvYnNlcnZlcnMgZGVmYXVsdHMgdG8gLTFcbiAgICovXG4gIHB1YmxpYyBub3RpZnlPYnNlcnZlcihvYnNlcnZlcjogT2JzZXJ2ZXI8VD4sIGV2ZW50RGF0YTogVCwgbWFzazogbnVtYmVyID0gLTEpOiB2b2lkIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX2V2ZW50U3RhdGVcbiAgICBzdGF0ZS5tYXNrID0gbWFza1xuICAgIHN0YXRlLnNraXBOZXh0T2JzZXJ2ZXJzID0gZmFsc2VcblxuICAgIG9ic2VydmVyLmNhbGxiYWNrKGV2ZW50RGF0YSwgc3RhdGUpXG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhIGJvb2xlYW4gaW5kaWNhdGluZyBpZiB0aGUgb2JzZXJ2YWJsZSBoYXMgYXQgbGVhc3Qgb25lIG9ic2VydmVyXG4gICAqIEByZXR1cm5zIHRydWUgaXMgdGhlIE9ic2VydmFibGUgaGFzIGF0IGxlYXN0IG9uZSBPYnNlcnZlciByZWdpc3RlcmVkXG4gICAqL1xuICBwdWJsaWMgaGFzT2JzZXJ2ZXJzKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9vYnNlcnZlcnMubGVuZ3RoID4gMFxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIHRoZSBsaXN0IG9mIG9ic2VydmVyc1xuICAgKi9cbiAgcHVibGljIGNsZWFyKCk6IHZvaWQge1xuICAgIHRoaXMuX29ic2VydmVycyA9IG5ldyBBcnJheTxPYnNlcnZlcjxUPj4oKVxuICAgIHRoaXMuX29uT2JzZXJ2ZXJBZGRlZCA9IG51bGxcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9uZSB0aGUgY3VycmVudCBvYnNlcnZhYmxlXG4gICAqIEByZXR1cm5zIGEgbmV3IG9ic2VydmFibGVcbiAgICovXG4gIHB1YmxpYyBjbG9uZSgpOiBPYnNlcnZhYmxlPFQ+IHtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgT2JzZXJ2YWJsZTxUPigpXG5cbiAgICByZXN1bHQuX29ic2VydmVycyA9IHRoaXMuX29ic2VydmVycy5zbGljZSgwKVxuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLyoqXG4gICAqIERvZXMgdGhpcyBvYnNlcnZhYmxlIGhhbmRsZXMgb2JzZXJ2ZXIgcmVnaXN0ZXJlZCB3aXRoIGEgZ2l2ZW4gbWFza1xuICAgKiBAcGFyYW0gbWFzayAtIGRlZmluZXMgdGhlIG1hc2sgdG8gYmUgdGVzdGVkXG4gICAqIEByZXR1cm5zIHdoZXRoZXIgb3Igbm90IG9uZSBvYnNlcnZlciByZWdpc3RlcmVkIHdpdGggdGhlIGdpdmVuIG1hc2sgaXMgaGFuZGVsZWRcbiAgICovXG4gIHB1YmxpYyBoYXNTcGVjaWZpY01hc2sobWFzazogbnVtYmVyID0gLTEpOiBib29sZWFuIHtcbiAgICBmb3IgKGNvbnN0IG9icyBvZiB0aGlzLl9vYnNlcnZlcnMpIHtcbiAgICAgIGlmIChvYnMubWFzayAmIG1hc2sgfHwgb2JzLm1hc2sgPT09IG1hc2spIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBwcml2YXRlIF9kZWZlclVucmVnaXN0ZXIob2JzZXJ2ZXI6IE9ic2VydmVyPFQ+KTogdm9pZCB7XG4gICAgb2JzZXJ2ZXIudW5yZWdpc3Rlck9uTmV4dENhbGwgPSBmYWxzZVxuICAgIG9ic2VydmVyLl93aWxsQmVVbnJlZ2lzdGVyZWQgPSB0cnVlXG4gICAgUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgIC50aGVuLmJpbmQoUHJvbWlzZS5yZXNvbHZlKCkpKGFzeW5jICgpID0+IHRoaXMuX3JlbW92ZShvYnNlcnZlcikpXG4gICAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcbiAgfVxuXG4gIC8vIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIHdoZW4gbm90IGl0ZXJhdGluZyBvdmVyIF9vYnNlcnZlcnMgdG8gYXZvaWQgY2FsbGJhY2sgc2tpcHBpbmcuXG4gIC8vIFJlbW92ZXMgYW4gb2JzZXJ2ZXIgZnJvbSB0aGUgX29ic2VydmVyIEFycmF5LlxuICBwcml2YXRlIF9yZW1vdmUob2JzZXJ2ZXI6IG51bGwgfCBPYnNlcnZlcjxUPik6IGJvb2xlYW4ge1xuICAgIGlmICghb2JzZXJ2ZXIpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fb2JzZXJ2ZXJzLmluZGV4T2Yob2JzZXJ2ZXIpXG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICB0aGlzLl9vYnNlcnZlcnMuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuIiwgImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuL2ludGVybmFsL09ic2VydmFibGUnXG5pbXBvcnQge1xuICBBdmF0YXJCYXNlLFxuICBBdmF0YXJFbW90ZUNvbW1hbmQsXG4gIEF2YXRhckVxdWlwcGVkRGF0YSxcbiAgRW50aXR5LFxuICBQbGF5ZXJJZGVudGl0eURhdGEsXG4gIFBvaW50ZXJFdmVudHNSZXN1bHQsXG4gIFJlYWxtSW5mbyxcbiAgVmVjdG9yM1R5cGUsXG4gIGVuZ2luZVxufSBmcm9tICdAZGNsL2VjcydcbmltcG9ydCB7IE1hbnlFbnRpdHlBY3Rpb24sIFNlbmRCYXRjaFJlc3BvbnNlLCBzdWJzY3JpYmUgfSBmcm9tICd+c3lzdGVtL0VuZ2luZUFwaSdcbmltcG9ydCBwbGF5ZXJzIGZyb20gJy4vcGxheWVycydcblxuLy8vIC0tLSBFVkVOVFMgLS0tXG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBJRXZlbnROYW1lcyA9IGtleW9mIElFdmVudHNcblxuLyoqXG4gKiBAcHVibGljXG4gKiBOb3RlOiBEb24ndCB1c2UgYG9uYCBwcmVmaXggZm9yIElFdmVudHMgdG8gYXZvaWQgcmVkdW5kYW5jeSB3aXRoIGBldmVudC5vbihcIm9uRXZlbnROYW1lXCIpYCBzeW50YXguXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUV2ZW50cyB7XG4gIHBsYXllckV4cHJlc3Npb246IHtcbiAgICBleHByZXNzaW9uSWQ6IHN0cmluZ1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZXZlbnQgZ2V0cyB0cmlnZ2VyZWQgd2hlbiB0aGUgdXNlciBlbnRlcnMgdGhlIHNjZW5lXG4gICAqL1xuICBvbkVudGVyU2NlbmU6IHtcbiAgICB1c2VySWQ6IHN0cmluZ1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZXZlbnQgZ2V0cyB0cmlnZ2VyZWQgd2hlbiB0aGUgdXNlciBsZWF2ZXMgdGhlIHNjZW5lXG4gICAqL1xuICBvbkxlYXZlU2NlbmU6IHtcbiAgICB1c2VySWQ6IHN0cmluZ1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZXZlbnQgZ2V0cyB0cmlnZ2VyZWQgYWZ0ZXIgcmVjZWl2aW5nIGEgY29tbXMgbWVzc2FnZS5cbiAgICovXG4gIGNvbW1zOiB7XG4gICAgc2VuZGVyOiBzdHJpbmdcbiAgICBtZXNzYWdlOiBzdHJpbmdcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHRyaWdnZXJlZCBvbmNlIHRoZSBzY2VuZSBzaG91bGQgc3RhcnQuXG4gICAqL1xuICBzY2VuZVN0YXJ0OiB1bmtub3duXG5cbiAgLyoqIFRoaXMgaXMgdHJpZ2dlcmVkIGF0IGxlYXN0IGZvciBlYWNoIHZpZGVvU3RhdHVzIGNoYW5nZSAqL1xuICB2aWRlb0V2ZW50OiB7XG4gICAgY29tcG9uZW50SWQ6IHN0cmluZ1xuICAgIHZpZGVvQ2xpcElkOiBzdHJpbmdcbiAgICAvKiogU3RhdHVzLCBjYW4gYmUgTk9ORSA9IDAsIEVSUk9SID0gMSwgTE9BRElORyA9IDIsIFJFQURZID0gMywgUExBWUlORyA9IDQsQlVGRkVSSU5HID0gNSAqL1xuICAgIHZpZGVvU3RhdHVzOiBudW1iZXJcbiAgICAvKiogQ3VycmVudCBvZmZzZXQgcG9zaXRpb24gaW4gc2Vjb25kcyAqL1xuICAgIGN1cnJlbnRPZmZzZXQ6IG51bWJlclxuICAgIC8qKiBWaWRlbyBsZW5ndGggaW4gc2Vjb25kcy4gQ2FuIGJlIC0xICovXG4gICAgdG90YWxWaWRlb0xlbmd0aDogbnVtYmVyXG4gIH1cblxuICAvKiogVGhpcyBpcyB0cmlnZ2VyIGV2ZXJ5dGltZSBhIHByb2ZpbGUgaXMgY2hhbmdlZCAqL1xuICBwcm9maWxlQ2hhbmdlZDoge1xuICAgIGV0aEFkZHJlc3M6IHN0cmluZ1xuICAgIHZlcnNpb246IG51bWJlclxuICB9XG5cbiAgLyoqIFRyaWdnZXJlZCB3aGVuIHBlZXIncyBhdmF0YXIgaXMgY29ubmVjdGVkIGFuZCB2aXNpYmxlICovXG4gIHBsYXllckNvbm5lY3RlZDoge1xuICAgIHVzZXJJZDogc3RyaW5nXG4gIH1cblxuICAvKiogVHJpZ2dlcmVkIHdoZW4gcGVlciBkaXNjb25uZWN0IGFuZC9vciBpdCBhdmF0YXIgaXMgc2V0IGludmlzaWJsZSBieSBjb21tcyAqL1xuICBwbGF5ZXJEaXNjb25uZWN0ZWQ6IHtcbiAgICB1c2VySWQ6IHN0cmluZ1xuICB9XG5cbiAgLyoqIFRyaWdnZXJlZCB3aGVuIGN1cnJlbnQgcmVhbG0gb3IgaXNsYW5kIGNoYW5nZXMgKi9cbiAgb25SZWFsbUNoYW5nZWQ6IHtcbiAgICBkb21haW46IHN0cmluZ1xuICAgIHJvb206IHN0cmluZ1xuICAgIHNlcnZlck5hbWU6IHN0cmluZ1xuICAgIGRpc3BsYXlOYW1lOiBzdHJpbmdcbiAgfVxuXG4gIC8qKiBUcmlnZ2VyZWQgd2hlbiBvdGhlciBwbGF5ZXIncyBhdmF0YXIgaXMgY2xpY2tlZCAqL1xuICBwbGF5ZXJDbGlja2VkOiB7XG4gICAgdXNlcklkOiBzdHJpbmdcbiAgICByYXk6IHtcbiAgICAgIG9yaWdpbjogVmVjdG9yM1R5cGVcbiAgICAgIGRpcmVjdGlvbjogVmVjdG9yM1R5cGVcbiAgICAgIGRpc3RhbmNlOiBudW1iZXJcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIFRoaXMgZnVuY3Rpb24gZ2VuZXJhdGVzIGEgY2FsbGJhY2sgdGhhdCBpcyBwYXNzZWQgdG8gdGhlIE9ic2VydmFibGVcbiAqIGNvbnN0cnVjdG9yIHRvIHN1YnNjcmliZSB0byB0aGUgZXZlbnRzIG9mIHRoZSBEZWNlbnRyYWxhbmRJbnRlcmZhY2VcbiAqL1xuZnVuY3Rpb24gY3JlYXRlU3Vic2NyaWJlcihldmVudE5hbWU6IGtleW9mIElFdmVudHMpIHtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBpZiAoZXZlbnROYW1lID09PSAnY29tbXMnKSB7XG4gICAgICBzdWJzY3JpYmUoeyBldmVudElkOiBldmVudE5hbWUgfSkuY2F0Y2goY29uc29sZS5lcnJvcilcbiAgICB9IGVsc2Uge1xuICAgICAgU0RLN0NvbXBvbmVudHNPYnNlcnZhYmxlPy5zdWJzY3JpYmUoZXZlbnROYW1lKVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFRoZXNlIGV2ZW50cyBhcmUgdHJpZ2dlcmVkIGFmdGVyIHlvdXIgY2hhcmFjdGVyIGVudGVycyB0aGUgc2NlbmUuXG4gKiBAcHVibGljXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkLlxuICovXG5leHBvcnQgY29uc3Qgb25FbnRlclNjZW5lT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPElFdmVudHNbJ29uRW50ZXJTY2VuZSddPihjcmVhdGVTdWJzY3JpYmVyKCdvbkVudGVyU2NlbmUnKSlcbi8qKiBAcHVibGljXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkLlxuICogQGRlcHJlY2F0ZWQgVGhpcyBmdW5jdGlvbiBpcyBhbiBpbmhlcml0YW5jZSBvZiBFQ1M2LCBpdCdzIGhlcmUgdGVtcG9yYXJ5IGZvciB0aGUgZmVhdHVyZSBwYXJpdHksIHBsZWFzZSByZWFkIHRoZSBuZXdzIGFuZCBkb2NzIHRvIGtub3cgaG93IGhhbmRsZSB3aGVuIGl0J3MgcmVtb3ZlZC4gVXNlIG9uRW50ZXJTY2VuZU9ic2VydmFibGUgaW5zdGVhZC4gKi9cbmV4cG9ydCBjb25zdCBvbkVudGVyU2NlbmUgPSBvbkVudGVyU2NlbmVPYnNlcnZhYmxlXG5cbi8qKlxuICogVGhlc2UgZXZlbnRzIGFyZSB0cmlnZ2VyZWQgYWZ0ZXIgeW91ciBjaGFyYWN0ZXIgbGVhdmVzIHRoZSBzY2VuZS5cbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBvbkxlYXZlU2NlbmVPYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGU8SUV2ZW50c1snb25MZWF2ZVNjZW5lJ10+KGNyZWF0ZVN1YnNjcmliZXIoJ29uTGVhdmVTY2VuZScpKVxuXG4vKiogQHB1YmxpY1xuICogQGRlcHJlY2F0ZWQgVGhpcyBmdW5jdGlvbiBpcyBhbiBpbmhlcml0YW5jZSBvZiBFQ1M2LCBpdCdzIGhlcmUgdGVtcG9yYXJ5IGZvciB0aGUgZmVhdHVyZSBwYXJpdHksIHBsZWFzZSByZWFkIHRoZSBuZXdzIGFuZCBkb2NzIHRvIGtub3cgaG93IGhhbmRsZSB3aGVuIGl0J3MgcmVtb3ZlZC5cbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWQuIFVzZSBvbkxlYXZlU2NlbmVPYnNlcnZhYmxlIGluc3RlYWQuICovXG5leHBvcnQgY29uc3Qgb25MZWF2ZVNjZW5lID0gb25MZWF2ZVNjZW5lT2JzZXJ2YWJsZVxuXG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgdHJpZ2dlcmVkIGFmdGVyIGFsbCB0aGUgcmVzb3VyY2VzIG9mIHRoZSBzY2VuZSB3ZXJlIGxvYWRlZCAobW9kZWxzLCB0ZXh0dXJlcywgZXRjLi4uKVxuICogQHB1YmxpY1xuICogQGRlcHJlY2F0ZWQgVGhpcyBmdW5jdGlvbiBpcyBhbiBpbmhlcml0YW5jZSBvZiBFQ1M2LCBpdCdzIGhlcmUgdGVtcG9yYXJ5IGZvciB0aGUgZmVhdHVyZSBwYXJpdHksIHBsZWFzZSByZWFkIHRoZSBuZXdzIGFuZCBkb2NzIHRvIGtub3cgaG93IGhhbmRsZSB3aGVuIGl0J3MgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IG9uU2NlbmVSZWFkeU9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZTxJRXZlbnRzWydzY2VuZVN0YXJ0J10+KGNyZWF0ZVN1YnNjcmliZXIoJ3NjZW5lU3RhcnQnKSlcblxuLyoqXG4gKiBAcHVibGljXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkLlxuICovXG5leHBvcnQgY29uc3Qgb25QbGF5ZXJFeHByZXNzaW9uT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPElFdmVudHNbJ3BsYXllckV4cHJlc3Npb24nXT4oXG4gIGNyZWF0ZVN1YnNjcmliZXIoJ3BsYXllckV4cHJlc3Npb24nKVxuKVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBvblZpZGVvRXZlbnQgPSBuZXcgT2JzZXJ2YWJsZTxJRXZlbnRzWyd2aWRlb0V2ZW50J10+KGNyZWF0ZVN1YnNjcmliZXIoJ3ZpZGVvRXZlbnQnKSlcblxuLyoqXG4gKiBAcHVibGljXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkLlxuICovXG5leHBvcnQgY29uc3Qgb25Qcm9maWxlQ2hhbmdlZCA9IG5ldyBPYnNlcnZhYmxlPElFdmVudHNbJ3Byb2ZpbGVDaGFuZ2VkJ10+KGNyZWF0ZVN1YnNjcmliZXIoJ3Byb2ZpbGVDaGFuZ2VkJykpXG5cbi8qKlxuICogQHB1YmxpY1xuICogQGRlcHJlY2F0ZWQgVGhpcyBmdW5jdGlvbiBpcyBhbiBpbmhlcml0YW5jZSBvZiBFQ1M2LCBpdCdzIGhlcmUgdGVtcG9yYXJ5IGZvciB0aGUgZmVhdHVyZSBwYXJpdHksIHBsZWFzZSByZWFkIHRoZSBuZXdzIGFuZCBkb2NzIHRvIGtub3cgaG93IGhhbmRsZSB3aGVuIGl0J3MgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IG9uUGxheWVyQ29ubmVjdGVkT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPElFdmVudHNbJ3BsYXllckNvbm5lY3RlZCddPihcbiAgY3JlYXRlU3Vic2NyaWJlcigncGxheWVyQ29ubmVjdGVkJylcbilcblxuLyoqXG4gKiBAcHVibGljXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkLlxuICovXG5leHBvcnQgY29uc3Qgb25QbGF5ZXJEaXNjb25uZWN0ZWRPYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGU8SUV2ZW50c1sncGxheWVyRGlzY29ubmVjdGVkJ10+KFxuICBjcmVhdGVTdWJzY3JpYmVyKCdwbGF5ZXJEaXNjb25uZWN0ZWQnKVxuKVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBvblJlYWxtQ2hhbmdlZE9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZTxJRXZlbnRzWydvblJlYWxtQ2hhbmdlZCddPihjcmVhdGVTdWJzY3JpYmVyKCdvblJlYWxtQ2hhbmdlZCcpKVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBvblBsYXllckNsaWNrZWRPYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGU8SUV2ZW50c1sncGxheWVyQ2xpY2tlZCddPihjcmVhdGVTdWJzY3JpYmVyKCdwbGF5ZXJDbGlja2VkJykpXG5cbi8qKlxuICogQGludGVybmFsXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkLlxuICovXG5leHBvcnQgY29uc3Qgb25Db21tc01lc3NhZ2UgPSBuZXcgT2JzZXJ2YWJsZTxJRXZlbnRzWydjb21tcyddPihjcmVhdGVTdWJzY3JpYmVyKCdjb21tcycpKVxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICogQGRlcHJlY2F0ZWQgdGhpcyBpcyBhbiBPTEQgQVBJLlxuICogVGhpcyBmdW5jdGlvbiB1c2VzIHRoZSBTREs2IHNlbmRCYXRjaCB0byBwb2xsIGV2ZW50cyBmcm9tIHRoZSByZW5kZXJlclxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcG9sbEV2ZW50cyhzZW5kQmF0Y2g6IChib2R5OiBNYW55RW50aXR5QWN0aW9uKSA9PiBQcm9taXNlPFNlbmRCYXRjaFJlc3BvbnNlPikge1xuICBjb25zdCB7IGV2ZW50cyB9ID0gYXdhaXQgc2VuZEJhdGNoKHsgYWN0aW9uczogW10gfSlcbiAgZm9yIChjb25zdCBlIG9mIGV2ZW50cykge1xuICAgIGlmIChlLmdlbmVyaWMpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGUuZ2VuZXJpYy5ldmVudERhdGEpXG4gICAgICBzd2l0Y2ggKGUuZ2VuZXJpYy5ldmVudElkKSB7XG4gICAgICAgIGNhc2UgJ2NvbW1zJzoge1xuICAgICAgICAgIG9uQ29tbXNNZXNzYWdlLm5vdGlmeU9ic2VydmVycyhkYXRhIGFzIElFdmVudHNbJ2NvbW1zJ10pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5jb25zdCBTREs3Q29tcG9uZW50c09ic2VydmFibGUgPSBwcm9jZXNzT2JzZXJ2YWJsZXMoKVxuZnVuY3Rpb24gcHJvY2Vzc09ic2VydmFibGVzKCkge1xuICBjb25zdCBzdWJzY3JpcHRpb25zID0gbmV3IFNldDxrZXlvZiBJRXZlbnRzPigpXG5cbiAgZnVuY3Rpb24gc3Vic2NyaWJlKGV2ZW50TmFtZToga2V5b2YgSUV2ZW50cykge1xuICAgIGlmIChzdWJzY3JpcHRpb25zLmhhcyhldmVudE5hbWUpKSByZXR1cm5cbiAgICBzd2l0Y2ggKGV2ZW50TmFtZSkge1xuICAgICAgY2FzZSAncGxheWVyQ2xpY2tlZCc6IHtcbiAgICAgICAgc3Vic2NyaWJlUGxheWVyQ2xpY2soKVxuICAgICAgfVxuICAgICAgY2FzZSAnb25FbnRlclNjZW5lJzpcbiAgICAgIGNhc2UgJ3BsYXllckNvbm5lY3RlZCc6IHtcbiAgICAgICAgc3Vic2NyaWJlRW50ZXJTY2VuZSgpXG4gICAgICB9XG4gICAgICBjYXNlICdvbkxlYXZlU2NlbmUnOlxuICAgICAgY2FzZSAncGxheWVyRGlzY29ubmVjdGVkJzoge1xuICAgICAgICBzdWJzY3JpYmVMZWF2ZVNjZW5lKClcbiAgICAgIH1cbiAgICAgIGNhc2UgJ29uUmVhbG1DaGFuZ2VkJzoge1xuICAgICAgICBzdWJzY3JpYmVSZWFsbUNoYW5nZSgpXG4gICAgICB9XG4gICAgICBjYXNlICdwbGF5ZXJFeHByZXNzaW9uJzoge1xuICAgICAgICBzdWJzY3JpYmVQbGF5ZXJFeHByZXNzaW9uKClcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3Byb2ZpbGVDaGFuZ2VkJzoge1xuICAgICAgICBzdWJzY3JpYmVQcm9maWxlQ2hhbmdlKClcbiAgICAgIH1cbiAgICB9XG4gICAgc3Vic2NyaXB0aW9ucy5hZGQoZXZlbnROYW1lKVxuICB9XG4gIC8qKlxuICAgKiBQTEFZRVIgRU5URVIvQ09OTkVDVEVEIG9ic2VydmFibGVcbiAgICovXG4gIGZ1bmN0aW9uIHN1YnNjcmliZUVudGVyU2NlbmUoKSB7XG4gICAgcGxheWVycy5vbkVudGVyU2NlbmUoKHBsYXllcikgPT4ge1xuICAgICAgaWYgKHN1YnNjcmlwdGlvbnMuaGFzKCdvbkVudGVyU2NlbmUnKSkge1xuICAgICAgICBvbkVudGVyU2NlbmVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh7IHVzZXJJZDogcGxheWVyLnVzZXJJZCB9KVxuICAgICAgfVxuXG4gICAgICBpZiAoc3Vic2NyaXB0aW9ucy5oYXMoJ3BsYXllckNvbm5lY3RlZCcpKSB7XG4gICAgICAgIG9uUGxheWVyQ29ubmVjdGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoeyB1c2VySWQ6IHBsYXllci51c2VySWQgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG4gIC8qKlxuICAgKiBQTEFZRVIgTEVBVkUvRElTQ09OTkVDVEVEIG9ic2VydmFibGVcbiAgICovXG4gIGZ1bmN0aW9uIHN1YnNjcmliZUxlYXZlU2NlbmUoKSB7XG4gICAgcGxheWVycy5vbkxlYXZlU2NlbmUoKHVzZXJJZCkgPT4ge1xuICAgICAgaWYgKHN1YnNjcmlwdGlvbnMuaGFzKCdvbkxlYXZlU2NlbmUnKSkge1xuICAgICAgICBvbkxlYXZlU2NlbmVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh7IHVzZXJJZCB9KVxuICAgICAgfVxuXG4gICAgICBpZiAoc3Vic2NyaXB0aW9ucy5oYXMoJ3BsYXllckRpc2Nvbm5lY3RlZCcpKSB7XG4gICAgICAgIG9uUGxheWVyRGlzY29ubmVjdGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoeyB1c2VySWQgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG4gIC8qKlxuICAgKiBSRUFMTSBDSEFOR0Ugb2JzZXJ2YWJsZVxuICAgKi9cbiAgZnVuY3Rpb24gc3Vic2NyaWJlUmVhbG1DaGFuZ2UoKSB7XG4gICAgUmVhbG1JbmZvLm9uQ2hhbmdlKGVuZ2luZS5Sb290RW50aXR5LCAodmFsdWUpID0+IHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBvblJlYWxtQ2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHtcbiAgICAgICAgICBkb21haW46IHZhbHVlLmJhc2VVcmwsXG4gICAgICAgICAgZGlzcGxheU5hbWU6IHZhbHVlLnJlYWxtTmFtZSxcbiAgICAgICAgICByb29tOiB2YWx1ZS5yb29tID8/ICcnLFxuICAgICAgICAgIHNlcnZlck5hbWU6IHZhbHVlLnJlYWxtTmFtZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gIH1cbiAgLyoqXG4gICAqIFBMQVlFUi9BVkFUQVIgQ0xJQ0tFRCBvYnNlcnZhYmxlXG4gICAqL1xuICBmdW5jdGlvbiBzdWJzY3JpYmVQbGF5ZXJDbGljaygpIHtcbiAgICBjb25zdCBwbGF5ZXJFbnRpdGllcyA9IG5ldyBTZXQ8RW50aXR5PigpXG4gICAgZW5naW5lLmFkZFN5c3RlbSgoKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IFtlbnRpdHldIG9mIGVuZ2luZS5nZXRFbnRpdGllc1dpdGgoUGxheWVySWRlbnRpdHlEYXRhKSkge1xuICAgICAgICBpZiAocGxheWVyRW50aXRpZXMuaGFzKGVudGl0eSkpIHJldHVyblxuICAgICAgICBwbGF5ZXJFbnRpdGllcy5hZGQoZW50aXR5KVxuXG4gICAgICAgIFBvaW50ZXJFdmVudHNSZXN1bHQub25DaGFuZ2UoZW50aXR5LCAoZGF0YSkgPT4ge1xuICAgICAgICAgIGlmIChkYXRhPy5oaXQpIHtcbiAgICAgICAgICAgIG9uUGxheWVyQ2xpY2tlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHtcbiAgICAgICAgICAgICAgdXNlcklkOiBQbGF5ZXJJZGVudGl0eURhdGEuZ2V0T3JOdWxsKGVudGl0eSk/LmFkZHJlc3MgPz8gJycsXG4gICAgICAgICAgICAgIHJheToge1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogZGF0YS5oaXQuZGlyZWN0aW9uISxcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogZGF0YS5oaXQubGVuZ3RoLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogZGF0YS5oaXQuZ2xvYmFsT3JpZ2luIVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFBsYXllciBleHByZXNzaW9uIG9ic2VydmFibGVcbiAgICovXG4gIGZ1bmN0aW9uIHN1YnNjcmliZVBsYXllckV4cHJlc3Npb24oKSB7XG4gICAgQXZhdGFyRW1vdGVDb21tYW5kLm9uQ2hhbmdlKGVuZ2luZS5QbGF5ZXJFbnRpdHksICh2YWx1ZSkgPT4ge1xuICAgICAgb25QbGF5ZXJFeHByZXNzaW9uT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoeyBleHByZXNzaW9uSWQ6IHZhbHVlPy5lbW90ZVVybiA/PyAnJyB9KVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogUFJPRklMRSBDSEFOR0Ugb2JzZXJ2YWJsZVxuICAgKi9cbiAgZnVuY3Rpb24gc3Vic2NyaWJlUHJvZmlsZUNoYW5nZSgpIHtcbiAgICBBdmF0YXJCYXNlLm9uQ2hhbmdlKGVuZ2luZS5QbGF5ZXJFbnRpdHksICgpID0+IHtcbiAgICAgIGlmICghcHJvZmlsZUFkZHJlc3MpIHJldHVyblxuICAgICAgb25Qcm9maWxlQ2hhbmdlZC5ub3RpZnlPYnNlcnZlcnMoeyBldGhBZGRyZXNzOiBwcm9maWxlQWRkcmVzcywgdmVyc2lvbjogMCB9KVxuICAgIH0pXG5cbiAgICBBdmF0YXJFcXVpcHBlZERhdGEub25DaGFuZ2UoZW5naW5lLlBsYXllckVudGl0eSwgKCkgPT4ge1xuICAgICAgaWYgKCFwcm9maWxlQWRkcmVzcykgcmV0dXJuXG4gICAgICBvblByb2ZpbGVDaGFuZ2VkLm5vdGlmeU9ic2VydmVycyh7IGV0aEFkZHJlc3M6IHByb2ZpbGVBZGRyZXNzLCB2ZXJzaW9uOiAwIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8vIEZsYWcgdG8gY2FsbCBvbmNlIHRoZSBzY2VuZSBpcyBpbml0YWxpemVkLlxuICBsZXQgc2NlbmVSZWFkeSA9IGZhbHNlXG4gIGxldCBwcm9maWxlQWRkcmVzczogc3RyaW5nIHwgdW5kZWZpbmVkXG5cbiAgZnVuY3Rpb24gb2JzZXJ2YWJsZVN5c3RlbSgpIHtcbiAgICBpZiAoc2NlbmVSZWFkeSAmJiBwcm9maWxlQWRkcmVzcykge1xuICAgICAgcmV0dXJuIGVuZ2luZS5yZW1vdmVTeXN0ZW0ob2JzZXJ2YWJsZVN5c3RlbSlcbiAgICB9XG4gICAgaWYgKCFzY2VuZVJlYWR5KSB7XG4gICAgICBzY2VuZVJlYWR5ID0gdHJ1ZVxuICAgICAgb25TY2VuZVJlYWR5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoe30pXG4gICAgfVxuICAgIGlmIChwcm9maWxlQWRkcmVzcykgcmV0dXJuXG4gICAgcHJvZmlsZUFkZHJlc3MgPSBQbGF5ZXJJZGVudGl0eURhdGEuZ2V0T3JOdWxsKGVuZ2luZS5QbGF5ZXJFbnRpdHkpPy5hZGRyZXNzXG4gIH1cblxuICBlbmdpbmUuYWRkU3lzdGVtKG9ic2VydmFibGVTeXN0ZW0pXG5cbiAgcmV0dXJuIHsgc3Vic2NyaWJlIH1cbn1cbiIsICJpbXBvcnQgeyBFbnRpdHksIElFbmdpbmUsIFRyYW5zZm9ybVR5cGUsIGVuZ2luZSB9IGZyb20gJ0BkY2wvZWNzJ1xuaW1wb3J0IHtcbiAgUGxheWVySWRlbnRpdHlEYXRhIGFzIGRlZmluZVBsYXllcklkZW5pdHlEYXRhLFxuICBBdmF0YXJCYXNlIGFzIGRlZmluZUF2YXRhckJhc2UsXG4gIEF2YXRhckVxdWlwcGVkRGF0YSBhcyBkZWZpbmVBdmF0YXJFcXVpcHBlZERhdGEsXG4gIFBCQXZhdGFyQmFzZSxcbiAgUEJBdmF0YXJFcXVpcHBlZERhdGEsXG4gIFRyYW5zZm9ybSBhcyBkZWZpbmVUcmFuc2Zvcm1cbn0gZnJvbSAnQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzJ1xuXG50eXBlIEdldFBsYXllckRhdGFSZXEgPSB7XG4gIHVzZXJJZDogc3RyaW5nXG59XG50eXBlIEdldFBsYXllckRhdGFSZXMgPSB7XG4gIGVudGl0eTogRW50aXR5XG4gIG5hbWU6IHN0cmluZ1xuICBpc0d1ZXN0OiBib29sZWFuXG4gIHVzZXJJZDogc3RyaW5nXG4gIGF2YXRhcj86IFBCQXZhdGFyQmFzZVxuICB3ZWFyYWJsZXM6IFBCQXZhdGFyRXF1aXBwZWREYXRhWyd3ZWFyYWJsZVVybnMnXVxuICBlbW90ZXM6IFBCQXZhdGFyRXF1aXBwZWREYXRhWydlbW90ZVVybnMnXVxuICBwb3NpdGlvbjogVHJhbnNmb3JtVHlwZVsncG9zaXRpb24nXSB8IHVuZGVmaW5lZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lUGxheWVySGVscGVyKGVuZ2luZTogSUVuZ2luZSkge1xuICBjb25zdCBUcmFuc2Zvcm0gPSBkZWZpbmVUcmFuc2Zvcm0oZW5naW5lKVxuICBjb25zdCBQbGF5ZXJJZGVudGl0eURhdGEgPSBkZWZpbmVQbGF5ZXJJZGVuaXR5RGF0YShlbmdpbmUpXG4gIGNvbnN0IEF2YXRhckVxdWlwcGVkRGF0YSA9IGRlZmluZUF2YXRhckVxdWlwcGVkRGF0YShlbmdpbmUpXG4gIGNvbnN0IEF2YXRhckJhc2UgPSBkZWZpbmVBdmF0YXJCYXNlKGVuZ2luZSlcbiAgY29uc3QgcGxheWVyRW50aXRpZXMgPSBuZXcgTWFwPEVudGl0eSwgc3RyaW5nPigpXG5cbiAgY29uc3Qgb25FbnRlclNjZW5lQ2I6ICgocGxheWVyOiBHZXRQbGF5ZXJEYXRhUmVzKSA9PiB2b2lkKVtdID0gW11cbiAgY29uc3Qgb25MZWF2ZVNjZW5lQ2I6ICgodXNlcklkOiBzdHJpbmcpID0+IHZvaWQpW10gPSBbXVxuXG4gIGVuZ2luZS5hZGRTeXN0ZW0oKCkgPT4ge1xuICAgIGNvbnN0IHBsYXllcnMgPSBBcnJheS5mcm9tKGVuZ2luZS5nZXRFbnRpdGllc1dpdGgoUGxheWVySWRlbnRpdHlEYXRhLCBBdmF0YXJCYXNlKSlcbiAgICBpZiAocGxheWVycy5sZW5ndGggPT09IHBsYXllckVudGl0aWVzLnNpemUpIHJldHVyblxuXG4gICAgZm9yIChjb25zdCBbZW50aXR5LCBpZGVudGl0eV0gb2YgcGxheWVycykge1xuICAgICAgaWYgKCFwbGF5ZXJFbnRpdGllcy5oYXMoZW50aXR5KSkge1xuICAgICAgICBwbGF5ZXJFbnRpdGllcy5zZXQoZW50aXR5LCBpZGVudGl0eS5hZGRyZXNzKVxuXG4gICAgICAgIC8vIENhbGwgb25FbnRlciBjYWxsYmFja1xuICAgICAgICBpZiAob25FbnRlclNjZW5lQ2IubGVuZ3RoKSB7XG4gICAgICAgICAgb25FbnRlclNjZW5lQ2IuZm9yRWFjaCgoY2IpID0+IGNiKGdldFBsYXllcih7IHVzZXJJZDogaWRlbnRpdHkuYWRkcmVzcyB9KSEpKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIGNoYW5nZXMvcmVtb3ZlIGNhbGxiYWNrc1xuICAgICAgICBBdmF0YXJCYXNlLm9uQ2hhbmdlKGVudGl0eSwgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgaWYgKCF2YWx1ZSAmJiBwbGF5ZXJFbnRpdGllcy5nZXQoZW50aXR5KSkge1xuICAgICAgICAgICAgb25MZWF2ZVNjZW5lQ2IuZm9yRWFjaCgoY2IpID0+IGNiKHBsYXllckVudGl0aWVzLmdldChlbnRpdHkpISkpXG4gICAgICAgICAgICBwbGF5ZXJFbnRpdGllcy5kZWxldGUoZW50aXR5KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgcmV0dXJuIHtcbiAgICBvbkVudGVyU2NlbmUoY2I6IChwbGF5ZXI6IEdldFBsYXllckRhdGFSZXMpID0+IHZvaWQpIHtcbiAgICAgIG9uRW50ZXJTY2VuZUNiLnB1c2goY2IpXG4gICAgfSxcbiAgICBvbkxlYXZlU2NlbmUoY2I6ICh1c2VySWQ6IHN0cmluZykgPT4gdm9pZCkge1xuICAgICAgb25MZWF2ZVNjZW5lQ2IucHVzaChjYilcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGluZm8gb2YgdGhlIHBsYXllciBpZiBpdCdzIGluIHRoZSBzY2VuZS5cbiAgICAgKi9cbiAgICBnZXRQbGF5ZXIodXNlcj86IEdldFBsYXllckRhdGFSZXEpOiBHZXRQbGF5ZXJEYXRhUmVzIHwgbnVsbCB7XG4gICAgICBmdW5jdGlvbiBnZXRFbnRpdHkoKSB7XG4gICAgICAgIGlmICghdXNlcj8udXNlcklkKSByZXR1cm4gZW5naW5lLlBsYXllckVudGl0eVxuICAgICAgICBmb3IgKGNvbnN0IFtlbnRpdHksIGRhdGFdIG9mIGVuZ2luZS5nZXRFbnRpdGllc1dpdGgoUGxheWVySWRlbnRpdHlEYXRhKSkge1xuICAgICAgICAgIGlmIChkYXRhLmFkZHJlc3MgPT09IHVzZXIudXNlcklkKSB7XG4gICAgICAgICAgICByZXR1cm4gZW50aXR5XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICAgIH1cblxuICAgICAgY29uc3QgdXNlckVudGl0eSA9IGdldEVudGl0eSgpXG4gICAgICBpZiAoIXVzZXJFbnRpdHkpIHJldHVybiBudWxsXG5cbiAgICAgIGNvbnN0IHBsYXllckRhdGEgPSBQbGF5ZXJJZGVudGl0eURhdGEuZ2V0T3JOdWxsKHVzZXJFbnRpdHkpXG4gICAgICBjb25zdCBhdmF0YXJEYXRhID0gQXZhdGFyQmFzZS5nZXRPck51bGwodXNlckVudGl0eSlcbiAgICAgIGNvbnN0IHdlYXJhYmxlc0RhdGEgPSBBdmF0YXJFcXVpcHBlZERhdGEuZ2V0T3JOdWxsKHVzZXJFbnRpdHkpXG5cbiAgICAgIGlmICghcGxheWVyRGF0YSAmJiAhYXZhdGFyRGF0YSAmJiAhd2VhcmFibGVzRGF0YSkgcmV0dXJuIG51bGxcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZW50aXR5OiB1c2VyRW50aXR5LFxuICAgICAgICBuYW1lOiBhdmF0YXJEYXRhPy5uYW1lID8/ICcnLFxuICAgICAgICBpc0d1ZXN0OiAhIXBsYXllckRhdGE/LmlzR3Vlc3QsXG4gICAgICAgIHVzZXJJZDogcGxheWVyRGF0YT8uYWRkcmVzcyA/PyAnJyxcbiAgICAgICAgYXZhdGFyOiBhdmF0YXJEYXRhID8/IHVuZGVmaW5lZCxcbiAgICAgICAgd2VhcmFibGVzOiB3ZWFyYWJsZXNEYXRhPy53ZWFyYWJsZVVybnMgPz8gW10sXG4gICAgICAgIGVtb3Rlczogd2VhcmFibGVzRGF0YT8uZW1vdGVVcm5zID8/IFtdLFxuICAgICAgICBwb3NpdGlvbjogVHJhbnNmb3JtLmdldE9yTnVsbCh1c2VyRW50aXR5KT8ucG9zaXRpb25cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuY29uc3QgcGxheWVycyA9IGRlZmluZVBsYXllckhlbHBlcihlbmdpbmUpXG5jb25zdCB7IGdldFBsYXllciwgb25FbnRlclNjZW5lLCBvbkxlYXZlU2NlbmUgfSA9IHBsYXllcnNcblxuZXhwb3J0IHsgZ2V0UGxheWVyLCBvbkVudGVyU2NlbmUsIG9uTGVhdmVTY2VuZSB9XG5leHBvcnQgZGVmYXVsdCBwbGF5ZXJzXG4iLCAiZXhwb3J0IGNvbnN0IGNvbXBvc2l0ZUZyb21Mb2FkZXIgPSB7fSIsICJpbXBvcnQgeyBjb21wb3NpdGVGcm9tTG9hZGVyIH0gZnJvbSAnfnNkay9hbGwtY29tcG9zaXRlcydcbmltcG9ydCB7IENvbXBvc2l0ZSB9IGZyb20gJ0BkY2wvZWNzJ1xuXG5jb25zdCBjb21wb3NpdGVzOiBDb21wb3NpdGUuUmVzb3VyY2VbXSA9IFtdXG5cbi8vIEBwdWJsaWNcbmV4cG9ydCBjb25zdCBjb21wb3NpdGVQcm92aWRlcjogQ29tcG9zaXRlLlByb3ZpZGVyID0ge1xuICBnZXRDb21wb3NpdGVPck51bGwoc3JjOiBzdHJpbmcsIF9jdXJyZW50UGF0aD86IHN0cmluZykge1xuICAgIC8vIFRPRE86IHJlc29sdmUgcGF0aCBmcm9tIHNyYyBhbmQgY3VycmVudFBhdGhcblxuICAgIGNvbnN0IGZyb21Mb2FkZXIgPSBjb21wb3NpdGVGcm9tTG9hZGVyW3NyY11cbiAgICBpZiAoZnJvbUxvYWRlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGZyb21Mb2FkZXIgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgICAgY29uc3QgY29tcG9zaXRlID0gQ29tcG9zaXRlLmZyb21CaW5hcnkoZnJvbUxvYWRlcilcbiAgICAgICAgICBjb21wb3NpdGVzLnB1c2goeyBzcmMsIGNvbXBvc2l0ZSB9KVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBmcm9tTG9hZGVyID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGNvbnN0IGNvbXBvc2l0ZSA9IENvbXBvc2l0ZS5mcm9tSnNvbihKU09OLnBhcnNlKGZyb21Mb2FkZXIpKVxuICAgICAgICAgIGNvbXBvc2l0ZXMucHVzaCh7IHNyYywgY29tcG9zaXRlIH0pXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZyb21Mb2FkZXIgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgY29uc3QgY29tcG9zaXRlID0gQ29tcG9zaXRlLmZyb21Kc29uKGZyb21Mb2FkZXIpXG4gICAgICAgICAgY29tcG9zaXRlcy5wdXNoKHsgc3JjLCBjb21wb3NpdGUgfSlcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxuICAgICAgfVxuXG4gICAgICBkZWxldGUgY29tcG9zaXRlRnJvbUxvYWRlcltzcmNdXG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbXBvc2l0ZXMuZmluZCgoaXRlbSkgPT4gaXRlbS5zcmMgPT09IHNyYykgfHwgbnVsbFxuICB9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBLHFHQUFBQSxVQUFBQyxTQUFBO0FBQUE7QUFDQSxJQUFBQSxRQUFP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O0FBQUE7QUFBQSxRQUc5QjtBQUFBLFFBQUc7QUFBQSxRQUFHO0FBQUE7QUFBQSxRQUVOO0FBQUE7QUFBQSxRQUVBO0FBQUE7QUFBQSxRQUVBO0FBQUE7QUFBQSxRQUVBO0FBQUE7QUFBQSxRQUVBO0FBQUE7QUFBQSxRQUVBO0FBQUE7QUFBQSxRQUdBO0FBQUEsUUFBRztBQUFBLFFBQUc7QUFBQTtBQUFBLFFBRU47QUFBQSxRQUFLO0FBQUEsUUFBRztBQUFBLFFBQUk7QUFBQSxRQUFHO0FBQUE7QUFBQSxRQUdmO0FBQUEsUUFBRztBQUFBLFFBQUk7QUFBQTtBQUFBLFFBRVA7QUFBQSxRQUFHO0FBQUEsUUFBSztBQUFBLFFBQUs7QUFBQSxRQUFLO0FBQUEsUUFBRztBQUFBO0FBQUEsUUFFckI7QUFBQSxRQUFHO0FBQUEsUUFBSztBQUFBLFFBQUs7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUs7QUFBQSxRQUFHO0FBQUE7QUFBQSxRQUU5QjtBQUFBLFFBQUc7QUFBQSxRQUFLO0FBQUEsUUFBSztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBSztBQUFBLFFBQUc7QUFBQTtBQUFBLFFBRTlCO0FBQUEsUUFBRztBQUFBLFFBQUs7QUFBQSxRQUFLO0FBQUEsUUFBSztBQUFBLFFBQUk7QUFBQSxRQUFLO0FBQUEsUUFBRztBQUFBO0FBQUEsUUFFOUI7QUFBQSxRQUFHO0FBQUEsUUFBSztBQUFBLFFBQUs7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUs7QUFBQSxRQUFHO0FBQUE7QUFBQSxRQUU5QjtBQUFBLFFBQUc7QUFBQSxRQUFLO0FBQUEsUUFBSztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBSztBQUFBLFFBQUs7QUFBQSxRQUFLO0FBQUEsUUFBSztBQUFBLFFBQUc7QUFBQTtBQUFBLFFBRzdDO0FBQUEsUUFBSTtBQUFBLFFBQUs7QUFBQSxRQUFHO0FBQUE7QUFBQSxRQUVaO0FBQUEsUUFBRztBQUFBLFFBQUc7QUFBQSxRQUFJO0FBQUEsUUFBRztBQUFBO0FBQUEsUUFFYjtBQUFBLFFBQUk7QUFBQSxRQUFHO0FBQUEsUUFBRztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBRztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBRztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBSTtBQUFBLFFBQUs7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUc7QUFBQSxRQUFLO0FBQUEsUUFDckU7QUFBQSxRQUFHO0FBQUEsUUFBSztBQUFBLFFBQUk7QUFBQSxRQUFJO0FBQUEsUUFBSztBQUFBLFFBQUs7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUc7QUFBQSxRQUFJO0FBQUEsUUFBSTtBQUFBLFFBQUs7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUc7QUFBQSxRQUFJO0FBQUEsUUFDbkU7QUFBQSxRQUFLO0FBQUE7QUFBQSxRQUVMO0FBQUEsUUFBSTtBQUFBLFFBQUc7QUFBQSxRQUFHO0FBQUEsUUFBSztBQUFBLFFBQUk7QUFBQSxRQUFHO0FBQUEsUUFBSztBQUFBLFFBQUk7QUFBQSxRQUFHO0FBQUEsUUFBSztBQUFBLFFBQUk7QUFBQSxRQUFJO0FBQUEsUUFBSztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBRztBQUFBLFFBQUs7QUFBQSxRQUNyRTtBQUFBLFFBQUc7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUk7QUFBQSxRQUFLO0FBQUEsUUFBSztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBRztBQUFBLFFBQUk7QUFBQSxRQUFJO0FBQUEsUUFBSztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBRztBQUFBLFFBQUk7QUFBQSxRQUNuRTtBQUFBLFFBQUs7QUFBQTtBQUFBLFFBRUw7QUFBQSxRQUFJO0FBQUEsUUFBRztBQUFBLFFBQUc7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUc7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUc7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUk7QUFBQSxRQUFLO0FBQUEsUUFBSztBQUFBLFFBQUk7QUFBQSxRQUFHO0FBQUEsUUFBSztBQUFBLFFBQ3JFO0FBQUEsUUFBRztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBSTtBQUFBLFFBQUs7QUFBQSxRQUFLO0FBQUEsUUFBSztBQUFBLFFBQUk7QUFBQSxRQUFHO0FBQUEsUUFBSTtBQUFBLFFBQUk7QUFBQSxRQUFLO0FBQUEsUUFBSztBQUFBLFFBQUk7QUFBQSxRQUFHO0FBQUEsUUFBSTtBQUFBLFFBQ25FO0FBQUEsUUFBSztBQUFBO0FBQUEsUUFFTDtBQUFBLFFBQUk7QUFBQSxRQUFHO0FBQUEsUUFBRztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBRztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBRztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBSTtBQUFBLFFBQUs7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUc7QUFBQSxRQUFLO0FBQUEsUUFDckU7QUFBQSxRQUFHO0FBQUEsUUFBSztBQUFBLFFBQUk7QUFBQSxRQUFJO0FBQUEsUUFBSztBQUFBLFFBQUs7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUc7QUFBQSxRQUFJO0FBQUEsUUFBSTtBQUFBLFFBQUs7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUc7QUFBQSxRQUFJO0FBQUEsUUFDbkU7QUFBQSxRQUFLO0FBQUE7QUFBQSxRQUVMO0FBQUEsUUFBSTtBQUFBLFFBQUc7QUFBQSxRQUFHO0FBQUEsUUFBSztBQUFBLFFBQUk7QUFBQSxRQUFHO0FBQUEsUUFBSztBQUFBLFFBQUk7QUFBQSxRQUFHO0FBQUEsUUFBSztBQUFBLFFBQUk7QUFBQSxRQUFJO0FBQUEsUUFBSztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBRztBQUFBLFFBQUs7QUFBQSxRQUNyRTtBQUFBLFFBQUc7QUFBQSxRQUFLO0FBQUEsUUFBSTtBQUFBLFFBQUk7QUFBQSxRQUFLO0FBQUEsUUFBSztBQUFBLFFBQUs7QUFBQSxRQUFJO0FBQUEsUUFBRztBQUFBLFFBQUk7QUFBQSxRQUFJO0FBQUEsUUFB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UztBQUFBLElBQ1QsY0FBYztBQUFBLElBQ2QsWUFBWTtBQUFBLElBQ1osVUFBVTtBQUFBLElBQ1YsWUFBWTtBQUFBLElBQ1osY0FBYztBQUFBLElBQ2QsV0FBVztBQUFBLElBQ1gsZUFBZTtBQUFBLElBQ2YsZ0JBQWdCO0FBQUEsSUFDaEIsVUFBVTtBQUFBLElBQ1YsU0FBUztBQUFBLElBQ1QsZUFBZTtBQUFBLElBQ2YsV0FBVztBQUFBLElBQ1gsVUFBVTtBQUFBLElBQ1YsV0FBVztBQUFBLElBQ1gsT0FBTztBQUFBLElBQ1AsWUFBWTtBQUFBLElBQ1osUUFBUTtBQUFBLElBQ1IsY0FBYztBQUFBLElBQ2QsVUFBVTtBQUFBLElBQ1YsZUFBZTtBQUFBLElBQ2YsV0FBVztBQUFBLElBQ1gsY0FBYztBQUFBLElBQ2QsVUFBVTtBQUFBLElBQ1YsZUFBZTtBQUFBLElBQ2YsV0FBVztBQUFBLElBQ1gsa0JBQWtCO0FBQUEsSUFDbEIsY0FBYztBQUFBLElBQ2QsaUJBQWlCO0FBQUEsSUFDakIsYUFBYTtBQUFBLElBQ2IsbUJBQW1CO0FBQUEsSUFDbkIsZUFBZTtBQUFBLElBQ2Ysb0JBQW9CO0FBQUEsSUFDcEIsZ0JBQWdCO0FBQUEsSUFDaEIsZ0JBQWdCO0FBQUEsSUFDaEIsWUFBWTtBQUFBLElBQ1osZUFBZTtBQUFBLElBQ2YsV0FBVztBQUFBLElBQ1gsaUJBQWlCO0FBQUEsSUFDakIsYUFBYTtBQUFBLElBQ2Isa0JBQWtCO0FBQUEsSUFDbEIsY0FBYztBQUFBLElBQ2QsaUJBQWlCO0FBQUEsSUFDakIsYUFBYTtBQUFBLElBQ2IsZ0JBQWdCO0FBQUEsSUFDaEIsWUFBWTtBQUFBLElBQ1osa0JBQWtCO0FBQUEsSUFDbEIsY0FBYztBQUFBLElBQ2QsbUJBQW1CO0FBQUEsSUFDbkIsZUFBZTtBQUFBLElBQ2YsZUFBZTtBQUFBLElBQ2YscUJBQXFCO0FBQUEsSUFDckIsaUJBQWlCO0FBQUEsSUFDakIsb0JBQW9CO0FBQUEsSUFDcEIsZ0JBQWdCO0FBQUEsSUFDaEIsc0JBQXNCO0FBQUEsSUFDdEIsa0JBQWtCO0FB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QUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUN4QyxDQUFDO0FBQ0QsU0FBUyxPQUFPLEtBQUssVUFBVTtBQUMzQixNQUFJLE1BQU0sQ0FBQyxDQUFDLFdBQVc7QUFDdkIsV0FBUyxJQUFJLEdBQUcsSUFBSSxJQUFJLFFBQVEsS0FBSztBQUNqQyxVQUFNLFdBQVcsTUFBTSxJQUFJLENBQUMsS0FBSyxHQUFJLElBQUssUUFBUTtBQUFBLEVBQ3REO0FBQ0EsU0FBTyxNQUFNO0FBQ2pCO0FBQ08sU0FBUyxjQUFjLE1BQU0sT0FBTyxHQUFHO0FBQzFDLFNBQU8sT0FBTyxNQUFNLElBQUksTUFBTTtBQUNsQzs7O0FEcENPLElBQU0sdUJBQXVCLEtBQUs7QUFNbEMsU0FBUyx3QkFBd0IsZUFBZTtBQUNuRCxNQUFJLHNCQUFzQixhQUFhO0FBQ25DLFdBQU8sc0JBQXNCLGFBQWE7QUFDOUMsUUFBTSxRQUFRLElBQUksV0FBVyxHQUFHO0FBQ2hDLEVBQUssV0FBTSxlQUFlLE9BQU8sQ0FBQztBQUNsQyxVQUFTLGNBQWMsS0FBSyxJQUFJLHVCQUF3QixnQkFBZ0I7QUFDNUU7OztBRWZPLElBQU0sVUFBeUM7QUFJL0MsU0FBUyxpQkFBaUIsR0FBRyxPQUFPO0FBQ3ZDLE1BQUksU0FBUztBQUNULFFBQUksS0FBSyxPQUFPLE1BQU0sWUFBWSxPQUFPLEVBQUUsU0FBUyxZQUFZO0FBQzVELFlBQU0sSUFBSSxNQUFNLEtBQUs7QUFBQSxJQUN6QjtBQUFBLEVBQ0o7QUFDQSxTQUFPO0FBQ1g7OztBQ1JPLFNBQVMsb0JBQW9CO0FBQ2hDLFFBQU0sY0FBYyxvQkFBSSxJQUFJO0FBQzVCLFNBQU87QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQU9ILE1BQU0sUUFBUSxTQUFTO0FBRW5CLFVBQUksVUFBVSxHQUFHO0FBRWIsZUFBTztBQUFBLE1BQ1g7QUFDQSxZQUFNLGVBQWUsWUFBWSxJQUFJLE1BQU07QUFFM0MsVUFBSSxpQkFBaUIsVUFBYSxnQkFBZ0IsU0FBUztBQUN2RCxlQUFPO0FBQUEsTUFDWDtBQUNBLGtCQUFZLElBQUksUUFBUSxPQUFPO0FBQy9CLGFBQU87QUFBQSxJQUNYO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFJQSxJQUFJLEdBQUcsR0FBRztBQUNOLFlBQU0sZUFBZSxZQUFZLElBQUksQ0FBQztBQUV0QyxVQUFJLGlCQUFpQixVQUFhLGdCQUFnQixHQUFHO0FBQ2pELGVBQU87QUFBQSxNQUNYO0FBQ0EsYUFBTztBQUFBLElBQ1g7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBUUEsU0FBUztBQUNMLGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUNKOzs7QUM3Q08sSUFBTSxVQUFVO0FBQ3ZCLElBQU0sc0JBQXNCO0FBSXJCLElBQU0sMkJBQTJCLFVBQVU7QUFLM0MsSUFBTSxvQkFBb0I7QUFJMUIsSUFBTSwyQkFBMkI7QUFJakMsSUFBSTtBQUFBLENBQ1YsU0FBVUMsY0FBYTtBQUlwQixXQUFTLGFBQWEsVUFBVTtBQUM1QixXQUFPLEVBQUUsV0FBVyxhQUFhLEtBQU0sV0FBVyx3QkFBd0IsS0FBTSxhQUFhLENBQUM7QUFBQSxFQUNsRztBQUNBLEVBQUFBLGFBQVksZUFBZTtBQUkzQixXQUFTLFdBQVcsY0FBYyxlQUFlO0FBQzdDLFlBQVUsZUFBZSxXQUFhLGdCQUFnQixZQUFZLFFBQVM7QUFBQSxFQUMvRTtBQUNBLEVBQUFBLGFBQVksYUFBYTtBQUM3QixHQUFHLGdCQUFnQixjQUFjLENBQUMsRUFBRTtBQUk3QixJQUFJO0FBQUEsQ0FDVixTQUFVQyxjQUFhO0FBQ3BCLEVBQUFBLGFBQVlBLGFBQVksU0FBUyxJQUFJLENBQUMsSUFBSTtBQUkxQyxFQUFBQSxhQUFZQSxhQUFZLFlBQVksSUFBSSxDQUFDLElBQUk7QUFJN0MsRUFBQUEsYUFBWUEsYUFBWSxTQUFTLElBQUksQ0FBQyxJQUFJO0FBSTFDLEVBQUFBLGFBQVlBLGFBQVksVUFBVSxJQUFJLENBQUMsSUFBSTtBQUMvQyxHQUFHLGdCQUFnQixjQUFjLENBQUMsRUFBRTtBQUk3QixTQUFTLHNCQUFzQixNQUFNO0FBQ3hDLFFBQU0seUJBQXlCLE1BQU0sMEJBQTBCO0FBRS9ELE1BQUksZ0JBQWdCO0FBQ3BCLFFBQU0sZUFBZSxvQkFBSSxJQUFJO0FBQzdCLE1BQUksbUJBQW1CLENBQUM7QUFDeEIsUUFBTSxrQkFBa0Isa0JBQWtCO0FBQzFDLFdBQVMsb0JBQW9CO0FBQ3pCLFFBQUksZ0JBQWdCLG9CQUFvQixHQUFHO0FBQ3ZDLFlBQU0sSUFBSSxNQUFNLHNEQUFzRCxpQkFBaUIsR0FBRztBQUFBLElBQzlGO0FBQ0EsVUFBTSxlQUFlO0FBQ3JCLFVBQU0sZ0JBQWdCLGdCQUFnQixPQUFPLEVBQUUsSUFBSSxZQUFZLElBQ3pELGdCQUFnQixPQUFPLEVBQUUsSUFBSSxZQUFZLElBQUksSUFDN0M7QUFDTixVQUFNLFNBQVMsWUFBWSxXQUFXLGNBQWMsYUFBYTtBQUNqRSxRQUFJLGFBQWEsSUFBSSxNQUFNLEdBQUc7QUFDMUIsYUFBTyxrQkFBa0I7QUFBQSxJQUM3QjtBQUNBLGlCQUFhLElBQUksTUFBTTtBQUN2QixXQUFPO0FBQUEsRUFDWDtBQUNBLFdBQVMsaUJBQWlCO0FBQ3RCLFVBQU0sV0FBVyxhQUFhO0FBRTlCLFFBQUksV0FBVywwQkFBMEIsZUFBZTtBQUNwRCxhQUFPLGtCQUFrQjtBQUFBLElBQzdCO0FBQ0EsZUFBVyxDQUFDLFFBQVEsT0FBTyxLQUFLLGdCQUFnQixPQUFPLEdBQUc7QUFDdEQsVUFBSSxVQUFVLFNBQVM7QUFDbkIsY0FBTSxTQUFTLFlBQVksV0FBVyxRQUFRLFVBQVUsQ0FBQztBQUd6RCxZQUFJLENBQUMsYUFBYSxJQUFJLE1BQU0sS0FBSyxDQUFDLGlCQUFpQixTQUFTLE1BQU0sR0FBRztBQUNqRSx1QkFBYSxJQUFJLE1BQU07QUFDdkIsaUJBQU87QUFBQSxRQUNYO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFDQSxXQUFPLGtCQUFrQjtBQUFBLEVBQzdCO0FBQ0EsV0FBUyxhQUFhLFFBQVE7QUFDMUIsUUFBSSxTQUFTO0FBQ1QsYUFBTztBQUNYLFFBQUksYUFBYSxJQUFJLE1BQU0sR0FBRztBQUMxQixtQkFBYSxPQUFPLE1BQU07QUFDMUIsdUJBQWlCLEtBQUssTUFBTTtBQUFBLElBQ2hDLE9BQ0s7QUFDRCwwQkFBb0IsTUFBTTtBQUFBLElBQzlCO0FBQ0EsV0FBTztBQUFBLEVBQ1g7QUFDQSxXQUFTLHlCQUF5QjtBQUM5QixVQUFNLE1BQU07QUFDWixRQUFJLElBQUksUUFBUTtBQUNaLHlCQUFtQixDQUFDO0FBQ3BCLGlCQUFXLFVBQVUsS0FBSztBQUN0QixjQUFNLENBQUMsR0FBRyxDQUFDLElBQUksWUFBWSxhQUFhLE1BQU07QUFDOUMsd0JBQWdCLE1BQU0sR0FBRyxDQUFDO0FBQUEsTUFDOUI7QUFBQSxJQUNKO0FBQ0EsV0FBTztBQUFBLEVBQ1g7QUFDQSxXQUFTLG9CQUFvQixRQUFRO0FBQ2pDLFVBQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxZQUFZLGFBQWEsTUFBTTtBQUU5QyxvQkFBZ0IsTUFBTSxHQUFHLENBQUM7QUFFMUIsYUFBUyxJQUFJLEdBQUcsS0FBSyxHQUFHLEtBQUs7QUFDekIsbUJBQWEsT0FBTyxZQUFZLFdBQVcsR0FBRyxDQUFDLENBQUM7QUFBQSxJQUNwRDtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQ0EsV0FBUyxpQkFBaUIsUUFBUTtBQUM5QixVQUFNLENBQUMsR0FBRyxDQUFDLElBQUksWUFBWSxhQUFhLE1BQU07QUFFOUMsUUFBSSxnQkFBZ0IsSUFBSSxHQUFHLENBQUM7QUFDeEIsYUFBTztBQUVYLFFBQUksSUFBSSxHQUFHO0FBQ1AsZUFBUyxJQUFJLEdBQUcsS0FBSyxJQUFJLEdBQUcsS0FBSztBQUM3QixxQkFBYSxPQUFPLFlBQVksV0FBVyxHQUFHLENBQUMsQ0FBQztBQUFBLE1BQ3BEO0FBQ0Esc0JBQWdCLE1BQU0sR0FBRyxJQUFJLENBQUM7QUFBQSxJQUNsQztBQUNBLGlCQUFhLElBQUksTUFBTTtBQUN2QixXQUFPO0FBQUEsRUFDWDtBQUNBLFdBQVMsZUFBZSxRQUFRO0FBQzVCLFVBQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxZQUFZLGFBQWEsTUFBTTtBQUM5QyxRQUFJLElBQUksd0JBQXdCO0FBQzVCLGFBQU8sWUFBWTtBQUFBLElBQ3ZCO0FBQ0EsUUFBSSxhQUFhLElBQUksTUFBTSxHQUFHO0FBQzFCLGFBQU8sWUFBWTtBQUFBLElBQ3ZCO0FBQ0EsVUFBTSxpQkFBaUIsZ0JBQWdCLE9BQU8sRUFBRSxJQUFJLENBQUM7QUFDckQsUUFBSSxtQkFBbUIsVUFBYSxrQkFBa0IsR0FBRztBQUNyRCxhQUFPLFlBQVk7QUFBQSxJQUN2QjtBQUNBLFdBQU8sWUFBWTtBQUFBLEVBQ3ZCO0FBQ0EsU0FBTztBQUFBLElBQ0g7QUFBQSxJQUNBO0FBQUEsSUFDQSxzQkFBc0I7QUFDbEIsYUFBTyxJQUFJLElBQUksWUFBWTtBQUFBLElBQy9CO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLEVBQ0o7QUFDSjs7O0FDektBLElBQUFDLFFBQXNCO0FBTnRCLElBQUkseUJBQWtFLFNBQVUsVUFBVSxPQUFPLE1BQU0sR0FBRztBQUN0RyxNQUFJLFNBQVMsT0FBTyxDQUFDO0FBQUcsVUFBTSxJQUFJLFVBQVUsK0NBQStDO0FBQzNGLE1BQUksT0FBTyxVQUFVLGFBQWEsYUFBYSxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sSUFBSSxRQUFRO0FBQUcsVUFBTSxJQUFJLFVBQVUsMEVBQTBFO0FBQ2pMLFNBQU8sU0FBUyxNQUFNLElBQUksU0FBUyxNQUFNLEVBQUUsS0FBSyxRQUFRLElBQUksSUFBSSxFQUFFLFFBQVEsTUFBTSxJQUFJLFFBQVE7QUFDaEc7QUFDQSxJQUFJO0FBQUosSUFBb0M7QUFBcEMsSUFBZ0U7QUFTaEUsU0FBUyxZQUFZLGFBQWEsY0FBYztBQUM1QyxRQUFNLGFBQWEsS0FBSyxJQUFJLGFBQWEsWUFBWSxJQUFJO0FBQ3pELFNBQU8sS0FBSyxLQUFLLGFBQWEsSUFBSSxJQUFJO0FBQzFDO0FBQ0EsSUFBTSx5QkFBeUI7QUFVeEIsSUFBTSxzQkFBTixNQUEwQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU03QixZQUFZQyxTQUFRLGVBQWUsZUFBZTtBQUM5QyxtQ0FBK0IsSUFBSSxJQUFJO0FBQ3ZDLFNBQUssVUFBVUEsV0FBVSxJQUFJLFdBQVcsc0JBQXNCO0FBQzlELFNBQUssT0FBTyxJQUFJLFNBQVMsS0FBSyxRQUFRLFFBQVEsS0FBSyxRQUFRLFVBQVU7QUFDckUsU0FBSyxVQUFVLGtCQUFrQkEsVUFBUyxLQUFLLFFBQVEsU0FBUyxTQUFTO0FBQ3pFLFNBQUssVUFBVSxpQkFBaUI7QUFBQSxFQUNwQztBQUFBLEVBQ0EsU0FBUztBQUNMLFdBQU8sS0FBSztBQUFBLEVBQ2hCO0FBQUEsRUFDQSxlQUFlO0FBQ1gsV0FBTyxLQUFLLFFBQVE7QUFBQSxFQUN4QjtBQUFBLEVBQ0EsY0FBYztBQUNWLFNBQUssVUFBVTtBQUNmLFNBQUssVUFBVTtBQUFBLEVBQ25CO0FBQUEsRUFDQSxvQkFBb0I7QUFDaEIsV0FBTyxLQUFLO0FBQUEsRUFDaEI7QUFBQSxFQUNBLHFCQUFxQjtBQUNqQixXQUFPLEtBQUs7QUFBQSxFQUNoQjtBQUFBLEVBQ0Esb0JBQW9CLFFBQVE7QUFDeEIsV0FBTyx1QkFBdUIsTUFBTSxnQ0FBZ0MsS0FBSywwQkFBMEIsRUFBRSxLQUFLLE1BQU0sTUFBTTtBQUFBLEVBQzFIO0FBQUEsRUFDQSxpQkFBaUI7QUFDYixXQUFPLEtBQUssVUFBVSxLQUFLO0FBQUEsRUFDL0I7QUFBQSxFQUNBLGNBQWM7QUFDVixXQUFPLEtBQUssS0FBSyxXQUFXLHVCQUF1QixNQUFNLGdDQUFnQyxLQUFLLDBCQUEwQixFQUFFLEtBQUssTUFBTSxDQUFDLEdBQUcsSUFBSTtBQUFBLEVBQ2pKO0FBQUEsRUFDQSxjQUFjO0FBQ1YsV0FBTyxLQUFLLEtBQUssV0FBVyx1QkFBdUIsTUFBTSxnQ0FBZ0MsS0FBSywwQkFBMEIsRUFBRSxLQUFLLE1BQU0sQ0FBQyxHQUFHLElBQUk7QUFBQSxFQUNqSjtBQUFBLEVBQ0EsV0FBVztBQUNQLFdBQU8sS0FBSyxLQUFLLFFBQVEsdUJBQXVCLE1BQU0sZ0NBQWdDLEtBQUssMEJBQTBCLEVBQUUsS0FBSyxNQUFNLENBQUMsQ0FBQztBQUFBLEVBQ3hJO0FBQUEsRUFDQSxZQUFZO0FBQ1IsV0FBTyxLQUFLLEtBQUssU0FBUyx1QkFBdUIsTUFBTSxnQ0FBZ0MsS0FBSywwQkFBMEIsRUFBRSxLQUFLLE1BQU0sQ0FBQyxHQUFHLElBQUk7QUFBQSxFQUMvSTtBQUFBLEVBQ0EsWUFBWTtBQUNSLFdBQU8sS0FBSyxLQUFLLFNBQVMsdUJBQXVCLE1BQU0sZ0NBQWdDLEtBQUssMEJBQTBCLEVBQUUsS0FBSyxNQUFNLENBQUMsR0FBRyxJQUFJO0FBQUEsRUFDL0k7QUFBQSxFQUNBLFlBQVk7QUFDUixXQUFPLEtBQUssS0FBSyxZQUFZLHVCQUF1QixNQUFNLGdDQUFnQyxLQUFLLDBCQUEwQixFQUFFLEtBQUssTUFBTSxDQUFDLEdBQUcsSUFBSTtBQUFBLEVBQ2xKO0FBQUEsRUFDQSxZQUFZO0FBQ1IsV0FBTyxLQUFLLEtBQUssU0FBUyx1QkFBdUIsTUFBTSxnQ0FBZ0MsS0FBSywwQkFBMEIsRUFBRSxLQUFLLE1BQU0sQ0FBQyxDQUFDO0FBQUEsRUFDekk7QUFBQSxFQUNBLGFBQWE7QUFDVCxXQUFPLEtBQUssS0FBSyxVQUFVLHVCQUF1QixNQUFNLGdDQUFnQyxLQUFLLDBCQUEwQixFQUFFLEtBQUssTUFBTSxDQUFDLEdBQUcsSUFBSTtBQUFBLEVBQ2hKO0FBQUEsRUFDQSxhQUFhO0FBQ1QsV0FBTyxLQUFLLEtBQUssVUFBVSx1QkFBdUIsTUFBTSxnQ0FBZ0MsS0FBSywwQkFBMEIsRUFBRSxLQUFLLE1BQU0sQ0FBQyxHQUFHLElBQUk7QUFBQSxFQUNoSjtBQUFBLEVBQ0EsYUFBYTtBQUNULFdBQU8sS0FBSyxLQUFLLGFBQWEsdUJBQXVCLE1BQU0sZ0NBQWdDLEtBQUssMEJBQTBCLEVBQUUsS0FBSyxNQUFNLENBQUMsR0FBRyxJQUFJO0FBQUEsRUFDbko7QUFBQSxFQUNBLGFBQWE7QUFDVCxVQUFNQyxVQUFTLEtBQUssS0FBSyxVQUFVLHVCQUF1QixNQUFNLGdDQUFnQyxLQUFLLDBCQUEwQixFQUFFLEtBQUssTUFBTSxDQUFDLEdBQUcsSUFBSTtBQUNwSixXQUFPLEtBQUssUUFBUSxTQUFTLHVCQUF1QixNQUFNLGdDQUFnQyxLQUFLLDBCQUEwQixFQUFFLEtBQUssTUFBTUEsT0FBTSxHQUFHLHVCQUF1QixNQUFNLGdDQUFnQyxLQUFLLDBCQUEwQixFQUFFLEtBQUssTUFBTSxDQUFDLENBQUM7QUFBQSxFQUM5UDtBQUFBLEVBQ0EsaUJBQWlCO0FBQ2IsVUFBTUEsVUFBUyxLQUFLLEtBQUssVUFBVSx1QkFBdUIsTUFBTSxnQ0FBZ0MsS0FBSywwQkFBMEIsRUFBRSxLQUFLLE1BQU0sQ0FBQyxHQUFHLElBQUk7QUFDcEosV0FBWSxXQUFLLEtBQUssU0FBUyx1QkFBdUIsTUFBTSxnQ0FBZ0MsS0FBSywwQkFBMEIsRUFBRSxLQUFLLE1BQU1BLE9BQU0sR0FBRyx1QkFBdUIsTUFBTSxnQ0FBZ0MsS0FBSywwQkFBMEIsRUFBRSxLQUFLLE1BQU0sQ0FBQyxDQUFDO0FBQUEsRUFDaFE7QUFBQSxFQUNBLHFCQUFxQixRQUFRO0FBQ3pCLFdBQU8sdUJBQXVCLE1BQU0sZ0NBQWdDLEtBQUssMEJBQTBCLEVBQUUsS0FBSyxNQUFNLE1BQU07QUFBQSxFQUMxSDtBQUFBLEVBQ0EsV0FBVztBQUNQLFdBQU8sS0FBSyxRQUFRLFNBQVMsR0FBRyxLQUFLLE9BQU87QUFBQSxFQUNoRDtBQUFBLEVBQ0EsaUJBQWlCO0FBQ2IsV0FBTyxJQUFJLFdBQVcsS0FBSyxTQUFTLENBQUM7QUFBQSxFQUN6QztBQUFBLEVBQ0EsWUFBWSxPQUFPLGNBQWMsTUFBTTtBQUNuQyxRQUFJLGFBQWE7QUFDYixXQUFLLFlBQVksTUFBTSxVQUFVO0FBQUEsSUFDckM7QUFDQSxVQUFNLElBQUksdUJBQXVCLE1BQU0sZ0NBQWdDLEtBQUssMEJBQTBCLEVBQUUsS0FBSyxNQUFNLE1BQU0sVUFBVTtBQUNuSSxTQUFLLFFBQVEsSUFBSSxPQUFPLENBQUM7QUFBQSxFQUM3QjtBQUFBLEVBQ0EsZ0JBQWdCLE9BQU8sY0FBYyxNQUFNO0FBQ3ZDLFVBQU0sYUFBa0IsYUFBTyxLQUFLO0FBQ3BDLFFBQUksYUFBYTtBQUNiLFdBQUssWUFBWSxVQUFVO0FBQUEsSUFDL0I7QUFDQSxVQUFNLElBQUksdUJBQXVCLE1BQU0sZ0NBQWdDLEtBQUssMEJBQTBCLEVBQUUsS0FBSyxNQUFNLFVBQVU7QUFDN0gsSUFBSyxZQUFNLE9BQU8sS0FBSyxTQUFTLENBQUM7QUFBQSxFQUNyQztBQUFBLEVBQ0EsYUFBYSxPQUFPO0FBQ2hCLFVBQU0sSUFBSSx1QkFBdUIsTUFBTSxnQ0FBZ0MsS0FBSywwQkFBMEIsRUFBRSxLQUFLLE1BQU0sQ0FBQztBQUNwSCxTQUFLLEtBQUssV0FBVyxHQUFHLE9BQU8sSUFBSTtBQUFBLEVBQ3ZDO0FBQUEsRUFDQSxhQUFhLE9BQU87QUFDaEIsVUFBTSxJQUFJLHVCQUF1QixNQUFNLGdDQUFnQyxLQUFLLDBCQUEwQixFQUFFLEtBQUssTUFBTSxDQUFDO0FBQ3BILFNBQUssS0FBSyxXQUFXLEdBQUcsT0FBTyxJQUFJO0FBQUEsRUFDdkM7QUFBQSxFQUNBLFVBQVUsT0FBTztBQUNiLFVBQU0sSUFBSSx1QkFBdUIsTUFBTSxnQ0FBZ0MsS0FBSywwQkFBMEIsRUFBRSxLQUFLLE1BQU0sQ0FBQztBQUNwSCxTQUFLLEtBQUssUUFBUSxHQUFHLEtBQUs7QUFBQSxFQUM5QjtBQUFBLEVBQ0EsV0FBVyxPQUFPO0FBQ2QsVUFBTSxJQUFJLHVCQUF1QixNQUFNLGdDQUFnQyxLQUFLLDBCQUEwQixFQUFFLEtBQUssTUFBTSxDQUFDO0FBQ3BILFNBQUssS0FBSyxTQUFTLEdBQUcsT0FBTyxJQUFJO0FBQUEsRUFDckM7QUFBQSxFQUNBLFdBQVcsT0FBTztBQUNkLFVBQU0sSUFBSSx1QkFBdUIsTUFBTSxnQ0FBZ0MsS0FBSywwQkFBMEIsRUFBRSxLQUFLLE1BQU0sQ0FBQztBQUNwSCxTQUFLLEtBQUssU0FBUyxHQUFHLE9BQU8sSUFBSTtBQUFBLEVBQ3JDO0FBQUEsRUFDQSxXQUFXLE9BQU87QUFDZCxVQUFNLElBQUksdUJBQXVCLE1BQU0sZ0NBQWdDLEtBQUssMEJBQTBCLEVBQUUsS0FBSyxNQUFNLENBQUM7QUFDcEgsU0FBSyxLQUFLLFlBQVksR0FBRyxPQUFPLElBQUk7QUFBQSxFQUN4QztBQUFBLEVBQ0EsV0FBVyxPQUFPO0FBQ2QsVUFBTSxJQUFJLHVCQUF1QixNQUFNLGdDQUFnQyxLQUFLLDBCQUEwQixFQUFFLEtBQUssTUFBTSxDQUFDO0FBQ3BILFNBQUssS0FBSyxTQUFTLEdBQUcsS0FBSztBQUFBLEVBQy9CO0FBQUEsRUFDQSxZQUFZLE9BQU87QUFDZixVQUFNLElBQUksdUJBQXVCLE1BQU0sZ0NBQWdDLEtBQUssMEJBQTBCLEVBQUUsS0FBSyxNQUFNLENBQUM7QUFDcEgsU0FBSyxLQUFLLFVBQVUsR0FBRyxPQUFPLElBQUk7QUFBQSxFQUN0QztBQUFBLEVBQ0EsWUFBWSxPQUFPO0FBQ2YsVUFBTSxJQUFJLHVCQUF1QixNQUFNLGdDQUFnQyxLQUFLLDBCQUEwQixFQUFFLEtBQUssTUFBTSxDQUFDO0FBQ3BILFNBQUssS0FBSyxVQUFVLEdBQUcsT0FBTyxJQUFJO0FBQUEsRUFDdEM7QUFBQSxFQUNBLFlBQVksT0FBTztBQUNmLFVBQU0sSUFBSSx1QkFBdUIsTUFBTSxnQ0FBZ0MsS0FBSywwQkFBMEIsRUFBRSxLQUFLLE1BQU0sQ0FBQztBQUNwSCxTQUFLLEtBQUssYUFBYSxHQUFHLE9BQU8sSUFBSTtBQUFBLEVBQ3pDO0FBQUE7QUFBQSxFQUVBLFdBQVcsUUFBUTtBQUNmLFdBQU8sS0FBSyxLQUFLLFdBQVcsUUFBUSxJQUFJO0FBQUEsRUFDNUM7QUFBQSxFQUNBLFdBQVcsUUFBUTtBQUNmLFdBQU8sS0FBSyxLQUFLLFdBQVcsUUFBUSxJQUFJO0FBQUEsRUFDNUM7QUFBQSxFQUNBLFFBQVEsUUFBUTtBQUNaLFdBQU8sS0FBSyxLQUFLLFFBQVEsTUFBTTtBQUFBLEVBQ25DO0FBQUEsRUFDQSxTQUFTLFFBQVE7QUFDYixXQUFPLEtBQUssS0FBSyxTQUFTLFFBQVEsSUFBSTtBQUFBLEVBQzFDO0FBQUEsRUFDQSxTQUFTLFFBQVE7QUFDYixXQUFPLEtBQUssS0FBSyxTQUFTLFFBQVEsSUFBSTtBQUFBLEVBQzFDO0FBQUEsRUFDQSxTQUFTLFFBQVE7QUFDYixXQUFPLEtBQUssS0FBSyxZQUFZLFFBQVEsSUFBSTtBQUFBLEVBQzdDO0FBQUEsRUFDQSxTQUFTLFFBQVE7QUFDYixXQUFPLEtBQUssS0FBSyxTQUFTLE1BQU07QUFBQSxFQUNwQztBQUFBLEVBQ0EsVUFBVSxRQUFRO0FBQ2QsV0FBTyxLQUFLLEtBQUssVUFBVSxRQUFRLElBQUk7QUFBQSxFQUMzQztBQUFBLEVBQ0EsVUFBVSxRQUFRO0FBQ2QsV0FBTyxLQUFLLEtBQUssVUFBVSxRQUFRLElBQUk7QUFBQSxFQUMzQztBQUFBLEVBQ0EsVUFBVSxRQUFRO0FBQ2QsV0FBTyxLQUFLLEtBQUssYUFBYSxRQUFRLElBQUk7QUFBQSxFQUM5QztBQUFBLEVBQ0EsV0FBVyxRQUFRLE9BQU87QUFDdEIsU0FBSyxLQUFLLFdBQVcsUUFBUSxPQUFPLElBQUk7QUFBQSxFQUM1QztBQUFBLEVBQ0EsV0FBVyxRQUFRLE9BQU87QUFDdEIsU0FBSyxLQUFLLFdBQVcsUUFBUSxPQUFPLElBQUk7QUFBQSxFQUM1QztBQUFBLEVBQ0EsUUFBUSxRQUFRLE9BQU87QUFDbkIsU0FBSyxLQUFLLFFBQVEsUUFBUSxLQUFLO0FBQUEsRUFDbkM7QUFBQSxFQUNBLFNBQVMsUUFBUSxPQUFPO0FBQ3BCLFNBQUssS0FBSyxTQUFTLFFBQVEsT0FBTyxJQUFJO0FBQUEsRUFDMUM7QUFBQSxFQUNBLFNBQVMsUUFBUSxPQUFPO0FBQ3BCLFNBQUssS0FBSyxTQUFTLFFBQVEsT0FBTyxJQUFJO0FBQUEsRUFDMUM7QUFBQSxFQUNBLFNBQVMsUUFBUSxPQUFPO0FBQ3BCLFNBQUssS0FBSyxZQUFZLFFBQVEsT0FBTyxJQUFJO0FBQUEsRUFDN0M7QUFBQSxFQUNBLFNBQVMsUUFBUSxPQUFPO0FBQ3BCLFNBQUssS0FBSyxTQUFTLFFBQVEsS0FBSztBQUFBLEVBQ3BDO0FBQUEsRUFDQSxVQUFVLFFBQVEsT0FBTztBQUNyQixTQUFLLEtBQUssVUFBVSxRQUFRLE9BQU8sSUFBSTtBQUFBLEVBQzNDO0FBQUEsRUFDQSxVQUFVLFFBQVEsT0FBTztBQUNyQixTQUFLLEtBQUssVUFBVSxRQUFRLE9BQU8sSUFBSTtBQUFBLEVBQzNDO0FBQUEsRUFDQSxVQUFVLFFBQVEsT0FBTztBQUNyQixTQUFLLEtBQUssYUFBYSxRQUFRLE9BQU8sSUFBSTtBQUFBLEVBQzlDO0FBQ0o7QUFDQSxpQ0FBaUMsb0JBQUksUUFBUSxHQUFHLDZCQUE2QixTQUFTQyw0QkFBMkIsUUFBUTtBQUNySCxNQUFJLEtBQUssVUFBVSxTQUFTLEtBQUssUUFBUSxZQUFZO0FBQ2pELFVBQU0sVUFBVSxZQUFZLEtBQUssUUFBUSxZQUFZLEtBQUssVUFBVSxNQUFNO0FBQzFFLFVBQU0sWUFBWSxJQUFJLFdBQVcsT0FBTztBQUN4QyxjQUFVLElBQUksS0FBSyxPQUFPO0FBQzFCLFVBQU0sWUFBWSxLQUFLLFFBQVE7QUFDL0IsU0FBSyxVQUFVO0FBQ2YsU0FBSyxPQUFPLElBQUksU0FBUyxLQUFLLFFBQVEsUUFBUSxTQUFTO0FBQUEsRUFDM0Q7QUFDQSxPQUFLLFdBQVc7QUFDaEIsU0FBTyxLQUFLLFVBQVU7QUFDMUIsR0FBRyw2QkFBNkIsU0FBU0MsNEJBQTJCLFFBQVE7QUFDeEUsTUFBSSxLQUFLLFVBQVUsU0FBUyxLQUFLLFNBQVM7QUFDdEMsVUFBTSxJQUFJLE1BQU0sdUNBQXVDO0FBQUEsRUFDM0Q7QUFDQSxPQUFLLFdBQVc7QUFDaEIsU0FBTyxLQUFLLFVBQVU7QUFDMUI7OztBQ2pQTyxJQUFJO0FBQUEsQ0FDVixTQUFVQyxrQkFBaUI7QUFDeEIsRUFBQUEsaUJBQWdCQSxpQkFBZ0IsVUFBVSxJQUFJLENBQUMsSUFBSTtBQUVuRCxFQUFBQSxpQkFBZ0JBLGlCQUFnQixlQUFlLElBQUksQ0FBQyxJQUFJO0FBQ3hELEVBQUFBLGlCQUFnQkEsaUJBQWdCLGtCQUFrQixJQUFJLENBQUMsSUFBSTtBQUMzRCxFQUFBQSxpQkFBZ0JBLGlCQUFnQixlQUFlLElBQUksQ0FBQyxJQUFJO0FBQ3hELEVBQUFBLGlCQUFnQkEsaUJBQWdCLGNBQWMsSUFBSSxDQUFDLElBQUk7QUFFdkQsRUFBQUEsaUJBQWdCQSxpQkFBZ0IsdUJBQXVCLElBQUksQ0FBQyxJQUFJO0FBQ2hFLEVBQUFBLGlCQUFnQkEsaUJBQWdCLDBCQUEwQixJQUFJLENBQUMsSUFBSTtBQUNuRSxFQUFBQSxpQkFBZ0JBLGlCQUFnQix1QkFBdUIsSUFBSSxDQUFDLElBQUk7QUFDaEUsRUFBQUEsaUJBQWdCQSxpQkFBZ0Isa0JBQWtCLElBQUksQ0FBQyxJQUFJO0FBQy9ELEdBQUcsb0JBQW9CLGtCQUFrQixDQUFDLEVBQUU7QUFJckMsSUFBTSw2QkFBNkI7QUFDbkMsSUFBSTtBQUFBLENBQ1YsU0FBVUMsMkJBQTBCO0FBTWpDLEVBQUFBLDBCQUF5QkEsMEJBQXlCLHVCQUF1QixJQUFJLENBQUMsSUFBSTtBQU1sRixFQUFBQSwwQkFBeUJBLDBCQUF5Qix3QkFBd0IsSUFBSSxDQUFDLElBQUk7QUFNbkYsRUFBQUEsMEJBQXlCQSwwQkFBeUIsV0FBVyxJQUFJLENBQUMsSUFBSTtBQU10RSxFQUFBQSwwQkFBeUJBLDBCQUF5QixtQkFBbUIsSUFBSSxDQUFDLElBQUk7QUFNOUUsRUFBQUEsMEJBQXlCQSwwQkFBeUIsa0JBQWtCLElBQUksQ0FBQyxJQUFJO0FBTTdFLEVBQUFBLDBCQUF5QkEsMEJBQXlCLGtCQUFrQixJQUFJLENBQUMsSUFBSTtBQU03RSxFQUFBQSwwQkFBeUJBLDBCQUF5QixlQUFlLElBQUksQ0FBQyxJQUFJO0FBQzlFLEdBQUcsNkJBQTZCLDJCQUEyQixDQUFDLEVBQUU7OztBQzdEdkQsSUFBSTtBQUFBLENBQ1YsU0FBVUMsc0JBQXFCO0FBSzVCLFdBQVMsU0FBUyxLQUFLO0FBQ25CLFVBQU0sTUFBTSxJQUFJLGVBQWU7QUFDL0IsUUFBSSxNQUFNLDRCQUE0QjtBQUNsQyxhQUFPO0FBQUEsSUFDWDtBQUNBLFVBQU0sZ0JBQWdCLElBQUksVUFBVSxJQUFJLGtCQUFrQixDQUFDO0FBQzNELFFBQUksTUFBTSxlQUFlO0FBQ3JCLGFBQU87QUFBQSxJQUNYO0FBQ0EsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxxQkFBb0IsV0FBVztBQU0vQixXQUFTLFdBQVcsS0FBSztBQUNyQixRQUFJLENBQUMsU0FBUyxHQUFHLEdBQUc7QUFDaEIsYUFBTztBQUFBLElBQ1g7QUFDQSxXQUFPO0FBQUEsTUFDSCxRQUFRLElBQUksV0FBVztBQUFBLE1BQ3ZCLE1BQU0sSUFBSSxXQUFXO0FBQUEsSUFDekI7QUFBQSxFQUNKO0FBQ0EsRUFBQUEscUJBQW9CLGFBQWE7QUFNakMsV0FBUyxVQUFVLEtBQUs7QUFDcEIsUUFBSSxDQUFDLFNBQVMsR0FBRyxHQUFHO0FBQ2hCLGFBQU87QUFBQSxJQUNYO0FBQ0EsVUFBTSxnQkFBZ0IsSUFBSSxrQkFBa0I7QUFDNUMsV0FBTztBQUFBLE1BQ0gsUUFBUSxJQUFJLFVBQVUsYUFBYTtBQUFBLE1BQ25DLE1BQU0sSUFBSSxVQUFVLGdCQUFnQixDQUFDO0FBQUEsSUFDekM7QUFBQSxFQUNKO0FBQ0EsRUFBQUEscUJBQW9CLFlBQVk7QUFNaEMsV0FBUyxlQUFlLEtBQUs7QUFDekIsVUFBTSxTQUFTLFVBQVUsR0FBRztBQUM1QixRQUFJLENBQUMsUUFBUTtBQUNULGFBQU87QUFBQSxJQUNYO0FBQ0EsUUFBSSxvQkFBb0IsT0FBTyxNQUFNO0FBQ3JDLFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUEscUJBQW9CLGlCQUFpQjtBQUN6QyxHQUFHLHdCQUF3QixzQkFBc0IsQ0FBQyxFQUFFOzs7QUM5RDdDLElBQUk7QUFBQSxDQUNWLFNBQVVDLGtCQUFpQjtBQUN4QixFQUFBQSxpQkFBZ0Isd0JBQXdCO0FBSXhDLFdBQVNDLE9BQU0sUUFBUSxhQUFhLFdBQVcsS0FBSztBQUVoRCxVQUFNLGdCQUFnQiw2QkFBNkJELGlCQUFnQjtBQUNuRSxVQUFNLHFCQUFxQixJQUFJLHFCQUFxQixhQUFhO0FBRWpFLFFBQUksVUFBVSxvQkFBb0IsYUFBYTtBQUMvQyxRQUFJLFVBQVUscUJBQXFCLEdBQUcsZ0JBQWdCLGdCQUFnQjtBQUV0RSxRQUFJLFVBQVUscUJBQXFCLEdBQUcsTUFBTTtBQUM1QyxRQUFJLFVBQVUscUJBQXFCLElBQUksV0FBVztBQUNsRCxRQUFJLFVBQVUscUJBQXFCLElBQUksU0FBUztBQUFBLEVBQ3BEO0FBQ0EsRUFBQUEsaUJBQWdCLFFBQVFDO0FBQ3hCLFdBQVNDLE1BQUssS0FBSztBQUNmLFVBQU0sU0FBUyxvQkFBb0IsV0FBVyxHQUFHO0FBQ2pELFFBQUksQ0FBQyxRQUFRO0FBQ1QsYUFBTztBQUFBLElBQ1g7QUFDQSxRQUFJLE9BQU8sU0FBUyxnQkFBZ0Isa0JBQWtCO0FBQ2xELFlBQU0sSUFBSSxNQUFNLDhEQUE4RDtBQUFBLElBQ2xGO0FBQ0EsVUFBTSxNQUFNO0FBQUEsTUFDUixHQUFHO0FBQUEsTUFDSCxVQUFVLElBQUksV0FBVztBQUFBLE1BQ3pCLGFBQWEsSUFBSSxXQUFXO0FBQUEsTUFDNUIsV0FBVyxJQUFJLFdBQVc7QUFBQSxJQUM5QjtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUYsaUJBQWdCLE9BQU9FO0FBQzNCLEdBQUcsb0JBQW9CLGtCQUFrQixDQUFDLEVBQUU7OztBQ3BDckMsSUFBSTtBQUFBLENBQ1YsU0FBVUMsdUJBQXNCO0FBQzdCLEVBQUFBLHNCQUFxQix3QkFBd0I7QUFLN0MsV0FBU0MsT0FBTSxRQUFRLFdBQVcsYUFBYSxNQUFNLEtBQUs7QUFFdEQsVUFBTSxxQkFBcUIsSUFBSSxxQkFBcUIsNkJBQTZCRCxzQkFBcUIscUJBQXFCO0FBRTNILFFBQUksWUFBWSxNQUFNLEtBQUs7QUFDM0IsVUFBTSxnQkFBZ0IsSUFBSSxtQkFBbUIsSUFBSTtBQUVqRCxRQUFJLFVBQVUsb0JBQW9CLGFBQWE7QUFDL0MsUUFBSSxVQUFVLHFCQUFxQixHQUFHLGdCQUFnQixZQUFZO0FBRWxFLFFBQUksVUFBVSxxQkFBcUIsR0FBRyxNQUFNO0FBQzVDLFFBQUksVUFBVSxxQkFBcUIsSUFBSSxXQUFXO0FBQ2xELFFBQUksVUFBVSxxQkFBcUIsSUFBSSxTQUFTO0FBQ2hELFVBQU0sV0FBVyxnQkFBZ0JBLHNCQUFxQix3QkFBd0I7QUFDOUUsUUFBSSxVQUFVLHFCQUFxQixJQUFJLFFBQVE7QUFBQSxFQUNuRDtBQUNBLEVBQUFBLHNCQUFxQixRQUFRQztBQUM3QixXQUFTQyxNQUFLLEtBQUs7QUFDZixVQUFNLFNBQVMsb0JBQW9CLFdBQVcsR0FBRztBQUVqRCxRQUFJLENBQUMsUUFBUTtBQUNULGFBQU87QUFBQSxJQUNYO0FBRUEsUUFBSSxPQUFPLFNBQVMsZ0JBQWdCLGNBQWM7QUFDOUMsWUFBTSxJQUFJLE1BQU0sMERBQTBEO0FBQUEsSUFDOUU7QUFDQSxXQUFPO0FBQUEsTUFDSCxHQUFHO0FBQUEsTUFDSCxVQUFVLElBQUksV0FBVztBQUFBLE1BQ3pCLGFBQWEsSUFBSSxXQUFXO0FBQUEsTUFDNUIsV0FBVyxJQUFJLFdBQVc7QUFBQSxNQUMxQixNQUFNLElBQUksV0FBVztBQUFBLElBQ3pCO0FBQUEsRUFDSjtBQUNBLEVBQUFGLHNCQUFxQixPQUFPRTtBQUNoQyxHQUFHLHlCQUF5Qix1QkFBdUIsQ0FBQyxFQUFFOzs7QUMzQy9DLElBQUk7QUFBQSxDQUNWLFNBQVVDLGVBQWM7QUFDckIsRUFBQUEsY0FBYSx3QkFBd0I7QUFDckMsV0FBU0MsT0FBTSxRQUFRLEtBQUs7QUFFeEIsUUFBSSxZQUFZLDZCQUE2QixDQUFDO0FBQzlDLFFBQUksWUFBWSxnQkFBZ0IsYUFBYTtBQUU3QyxRQUFJLFlBQVksTUFBTTtBQUFBLEVBQzFCO0FBQ0EsRUFBQUQsY0FBYSxRQUFRQztBQUNyQixXQUFTQyxNQUFLLEtBQUs7QUFDZixVQUFNLFNBQVMsb0JBQW9CLFdBQVcsR0FBRztBQUNqRCxRQUFJLENBQUMsUUFBUTtBQUNULGFBQU87QUFBQSxJQUNYO0FBQ0EsUUFBSSxPQUFPLFNBQVMsZ0JBQWdCLGVBQWU7QUFDL0MsWUFBTSxJQUFJLE1BQU0sa0RBQWtEO0FBQUEsSUFDdEU7QUFDQSxXQUFPO0FBQUEsTUFDSCxHQUFHO0FBQUEsTUFDSCxVQUFVLElBQUksV0FBVztBQUFBLElBQzdCO0FBQUEsRUFDSjtBQUNBLEVBQUFGLGNBQWEsT0FBT0U7QUFDeEIsR0FBRyxpQkFBaUIsZUFBZSxDQUFDLEVBQUU7OztBQ3pCL0IsSUFBSTtBQUFBLENBQ1YsU0FBVUMsd0JBQXVCO0FBQzlCLEVBQUFBLHVCQUFzQix3QkFBd0I7QUFLOUMsV0FBU0MsT0FBTSxRQUFRLFdBQVcsYUFBYSxNQUFNLEtBQUs7QUFFdEQsVUFBTSxxQkFBcUIsSUFBSSxxQkFBcUIsNkJBQTZCRCx1QkFBc0IscUJBQXFCO0FBRTVILFFBQUksWUFBWSxNQUFNLEtBQUs7QUFDM0IsVUFBTSxnQkFBZ0IsSUFBSSxtQkFBbUIsSUFBSTtBQUVqRCxRQUFJLFVBQVUsb0JBQW9CLGFBQWE7QUFDL0MsUUFBSSxVQUFVLHFCQUFxQixHQUFHLGdCQUFnQixhQUFhO0FBRW5FLFFBQUksVUFBVSxxQkFBcUIsR0FBRyxNQUFNO0FBQzVDLFFBQUksVUFBVSxxQkFBcUIsSUFBSSxXQUFXO0FBQ2xELFFBQUksVUFBVSxxQkFBcUIsSUFBSSxTQUFTO0FBQ2hELFVBQU0sV0FBVyxnQkFBZ0JBLHVCQUFzQix3QkFBd0I7QUFDL0UsUUFBSSxVQUFVLHFCQUFxQixJQUFJLFFBQVE7QUFBQSxFQUNuRDtBQUNBLEVBQUFBLHVCQUFzQixRQUFRQztBQUM5QixXQUFTQyxNQUFLLEtBQUs7QUFDZixVQUFNLFNBQVMsb0JBQW9CLFdBQVcsR0FBRztBQUNqRCxRQUFJLENBQUMsUUFBUTtBQUNULGFBQU87QUFBQSxJQUNYO0FBQ0EsUUFBSSxPQUFPLFNBQVMsZ0JBQWdCLGVBQWU7QUFDL0MsWUFBTSxJQUFJLE1BQU0sMkRBQTJEO0FBQUEsSUFDL0U7QUFDQSxXQUFPO0FBQUEsTUFDSCxHQUFHO0FBQUEsTUFDSCxVQUFVLElBQUksV0FBVztBQUFBLE1BQ3pCLGFBQWEsSUFBSSxXQUFXO0FBQUEsTUFDNUIsV0FBVyxJQUFJLFdBQVc7QUFBQSxNQUMxQixNQUFNLElBQUksV0FBVztBQUFBLElBQ3pCO0FBQUEsRUFDSjtBQUNBLEVBQUFGLHVCQUFzQixPQUFPRTtBQUNqQyxHQUFHLDBCQUEwQix3QkFBd0IsQ0FBQyxFQUFFOzs7QUN6Q2pELElBQUk7QUFBQSxDQUNWLFNBQVVDLCtCQUE4QjtBQUNyQyxFQUFBQSw4QkFBNkIsd0JBQXdCO0FBS3JELFdBQVNDLE9BQU0sUUFBUSxXQUFXLGFBQWEsV0FBVyxNQUFNLEtBQUs7QUFFakUsVUFBTSxxQkFBcUIsSUFBSSxxQkFBcUIsNkJBQTZCRCw4QkFBNkIscUJBQXFCO0FBRW5JLFFBQUksWUFBWSxNQUFNLEtBQUs7QUFDM0IsVUFBTSxnQkFBZ0IsSUFBSSxtQkFBbUIsSUFBSTtBQUVqRCxRQUFJLFVBQVUsb0JBQW9CLGFBQWE7QUFDL0MsUUFBSSxVQUFVLHFCQUFxQixHQUFHLGdCQUFnQixxQkFBcUI7QUFFM0UsUUFBSSxVQUFVLHFCQUFxQixHQUFHLE1BQU07QUFDNUMsUUFBSSxVQUFVLHFCQUFxQixJQUFJLFdBQVc7QUFDbEQsUUFBSSxVQUFVLHFCQUFxQixJQUFJLFNBQVM7QUFDaEQsUUFBSSxVQUFVLHFCQUFxQixJQUFJLFNBQVM7QUFDaEQsVUFBTSxhQUFhLGdCQUFnQkEsOEJBQTZCLHdCQUF3QjtBQUN4RixRQUFJLFVBQVUscUJBQXFCLElBQUksVUFBVTtBQUFBLEVBQ3JEO0FBQ0EsRUFBQUEsOEJBQTZCLFFBQVFDO0FBQ3JDLFdBQVNDLE1BQUssS0FBSztBQUNmLFVBQU0sU0FBUyxvQkFBb0IsV0FBVyxHQUFHO0FBQ2pELFFBQUksQ0FBQyxRQUFRO0FBQ1QsYUFBTztBQUFBLElBQ1g7QUFDQSxRQUFJLE9BQU8sU0FBUyxnQkFBZ0IsdUJBQXVCO0FBQ3ZELFlBQU0sSUFBSSxNQUFNLGtFQUFrRTtBQUFBLElBQ3RGO0FBQ0EsV0FBTztBQUFBLE1BQ0gsR0FBRztBQUFBLE1BQ0gsVUFBVSxJQUFJLFdBQVc7QUFBQSxNQUN6QixhQUFhLElBQUksV0FBVztBQUFBLE1BQzVCLFdBQVcsSUFBSSxXQUFXO0FBQUEsTUFDMUIsV0FBVyxJQUFJLFdBQVc7QUFBQSxNQUMxQixNQUFNLElBQUksV0FBVztBQUFBLElBQ3pCO0FBQUEsRUFDSjtBQUNBLEVBQUFGLDhCQUE2QixPQUFPRTtBQUN4QyxHQUFHLGlDQUFpQywrQkFBK0IsQ0FBQyxFQUFFOzs7QUMzQy9ELElBQUk7QUFBQSxDQUNWLFNBQVVDLHlCQUF3QjtBQUMvQixFQUFBQSx3QkFBdUIsd0JBQXdCO0FBSS9DLFdBQVNDLE9BQU0sUUFBUSxhQUFhLFdBQVcsV0FBVyxLQUFLO0FBRTNELFVBQU0sZ0JBQWdCLDZCQUE2QkQsd0JBQXVCO0FBQzFFLFVBQU0scUJBQXFCLElBQUkscUJBQXFCLGFBQWE7QUFFakUsUUFBSSxVQUFVLG9CQUFvQixhQUFhO0FBQy9DLFFBQUksVUFBVSxxQkFBcUIsR0FBRyxnQkFBZ0Isd0JBQXdCO0FBRTlFLFFBQUksVUFBVSxxQkFBcUIsR0FBRyxNQUFNO0FBQzVDLFFBQUksVUFBVSxxQkFBcUIsSUFBSSxXQUFXO0FBQ2xELFFBQUksVUFBVSxxQkFBcUIsSUFBSSxTQUFTO0FBQ2hELFFBQUksVUFBVSxxQkFBcUIsSUFBSSxTQUFTO0FBQUEsRUFDcEQ7QUFDQSxFQUFBQSx3QkFBdUIsUUFBUUM7QUFDL0IsV0FBU0MsTUFBSyxLQUFLO0FBQ2YsVUFBTSxTQUFTLG9CQUFvQixXQUFXLEdBQUc7QUFDakQsUUFBSSxDQUFDLFFBQVE7QUFDVCxhQUFPO0FBQUEsSUFDWDtBQUNBLFFBQUksT0FBTyxTQUFTLGdCQUFnQiwwQkFBMEI7QUFDMUQsWUFBTSxJQUFJLE1BQU0sOERBQThEO0FBQUEsSUFDbEY7QUFDQSxXQUFPO0FBQUEsTUFDSCxHQUFHO0FBQUEsTUFDSCxVQUFVLElBQUksV0FBVztBQUFBLE1BQ3pCLGFBQWEsSUFBSSxXQUFXO0FBQUEsTUFDNUIsV0FBVyxJQUFJLFdBQVc7QUFBQSxNQUMxQixXQUFXLElBQUksV0FBVztBQUFBLElBQzlCO0FBQUEsRUFDSjtBQUNBLEVBQUFGLHdCQUF1QixPQUFPRTtBQUNsQyxHQUFHLDJCQUEyQix5QkFBeUIsQ0FBQyxFQUFFOzs7QUNyQ25ELElBQUk7QUFBQSxDQUNWLFNBQVVDLHNCQUFxQjtBQUM1QixFQUFBQSxxQkFBb0Isd0JBQXdCO0FBQzVDLFdBQVNDLE9BQU0sUUFBUSxXQUFXLEtBQUs7QUFFbkMsUUFBSSxZQUFZLDZCQUE2QixDQUFDO0FBQzlDLFFBQUksWUFBWSxnQkFBZ0IscUJBQXFCO0FBRXJELFFBQUksWUFBWSxNQUFNO0FBQ3RCLFFBQUksWUFBWSxTQUFTO0FBQUEsRUFDN0I7QUFDQSxFQUFBRCxxQkFBb0IsUUFBUUM7QUFDNUIsV0FBU0MsTUFBSyxLQUFLO0FBQ2YsVUFBTSxTQUFTLG9CQUFvQixXQUFXLEdBQUc7QUFDakQsUUFBSSxDQUFDLFFBQVE7QUFDVCxhQUFPO0FBQUEsSUFDWDtBQUNBLFFBQUksT0FBTyxTQUFTLGdCQUFnQix1QkFBdUI7QUFDdkQsWUFBTSxJQUFJLE1BQU0seURBQXlEO0FBQUEsSUFDN0U7QUFDQSxXQUFPO0FBQUEsTUFDSCxHQUFHO0FBQUEsTUFDSCxVQUFVLElBQUksV0FBVztBQUFBLE1BQ3pCLFdBQVcsSUFBSSxXQUFXO0FBQUEsSUFDOUI7QUFBQSxFQUNKO0FBQ0EsRUFBQUYscUJBQW9CLE9BQU9FO0FBQy9CLEdBQUcsd0JBQXdCLHNCQUFzQixDQUFDLEVBQUU7OztBQ3RCN0MsU0FBUyxpQkFBaUIsU0FBUztBQUN0QyxTQUFPO0FBQUEsSUFDSCxnQkFBZ0I7QUFBQSxJQUNoQixnQkFBZ0I7QUFBQSxJQUNoQixnQkFBZ0I7QUFBQSxFQUNwQixFQUFFLFNBQVMsUUFBUSxJQUFJO0FBQzNCO0FBRU8sU0FBUyxzQkFBc0IsU0FBUyxlQUFlQyxTQUFRLG1CQUFtQjtBQUNyRixRQUFNLFNBQVNBLFFBQU8sbUJBQW1CO0FBQ3pDLE1BQUksUUFBUSxTQUFTLGdCQUFnQix1QkFBdUI7QUFDeEQsMEJBQXNCLE1BQU0sZUFBZSxRQUFRLFdBQVcsUUFBUSxhQUFhLFFBQVEsTUFBTUEsT0FBTTtBQUFBLEVBQzNHLFdBQ1MsUUFBUSxTQUFTLGdCQUFnQiwwQkFBMEI7QUFDaEUsb0JBQWdCLE1BQU0sZUFBZSxRQUFRLGFBQWEsUUFBUSxXQUFXQSxPQUFNO0FBQUEsRUFDdkYsV0FDUyxRQUFRLFNBQVMsZ0JBQWdCLHVCQUF1QjtBQUM3RCxpQkFBYSxNQUFNLGVBQWVBLE9BQU07QUFBQSxFQUM1QztBQUNBLG9CQUFrQixZQUFZQSxRQUFPLE9BQU8sRUFBRSxTQUFTLFFBQVFBLFFBQU8sbUJBQW1CLENBQUMsR0FBRyxLQUFLO0FBQ3RHO0FBRU8sU0FBUyxzQkFBc0IsU0FBUyxTQUFTQSxTQUFRLG1CQUFtQjtBQUMvRSxRQUFNLFNBQVNBLFFBQU8sbUJBQW1CO0FBQ3pDLE1BQUksUUFBUSxTQUFTLGdCQUFnQixlQUFlO0FBQ2hELGlDQUE2QixNQUFNLFFBQVEsVUFBVSxRQUFRLFdBQVcsUUFBUSxhQUFhLFFBQVEsV0FBVyxRQUFRLE1BQU1BLE9BQU07QUFBQSxFQUN4SSxXQUNTLFFBQVEsU0FBUyxnQkFBZ0Isa0JBQWtCO0FBQ3hELDJCQUF1QixNQUFNLFFBQVEsVUFBVSxRQUFRLGFBQWEsUUFBUSxXQUFXLFFBQVEsV0FBV0EsT0FBTTtBQUFBLEVBQ3BILFdBQ1MsUUFBUSxTQUFTLGdCQUFnQixlQUFlO0FBQ3JELHdCQUFvQixNQUFNLFFBQVEsVUFBVSxRQUFRLFdBQVdBLE9BQU07QUFBQSxFQUN6RTtBQUNBLG9CQUFrQixZQUFZQSxRQUFPLE9BQU8sRUFBRSxTQUFTLFFBQVFBLFFBQU8sbUJBQW1CLENBQUMsR0FBRyxLQUFLO0FBQ3RHO0FBQ0EsSUFBTSxTQUFTLElBQUksb0JBQW9CO0FBRWhDLFNBQVMsbUJBQW1CLFNBQVMsZ0JBQWdCLFFBQVE7QUFDaEUsU0FBTyxZQUFZO0FBQ25CLE1BQUksWUFBWTtBQUNoQixNQUFJLENBQUMsYUFBYSxVQUFVLFNBQVM7QUFDakMsZ0JBQVksZ0JBQWdCLFlBQVksSUFBSSxvQkFBb0IsUUFBUSxJQUFJLENBQUM7QUFBQSxFQUNqRjtBQUNBLE1BQUksQ0FBQztBQUNELFVBQU0sSUFBSSxNQUFNLDBCQUEwQjtBQUU5QyxRQUFNLGVBQWUsRUFBRSxHQUFHLFdBQVcsT0FBTztBQUM1QyxrQkFBZ0IsVUFBVSxjQUFjLE1BQU07QUFDOUMsU0FBTyxPQUFPLFNBQVM7QUFDM0I7OztBQ2hETyxJQUFNLG1CQUFtQjtBQUl6QixTQUFTLGdCQUFnQkMsU0FBUSxnQ0FBZ0M7QUFDcEUsUUFBTSxhQUFhLENBQUM7QUFFcEIsUUFBTUMsaUJBQWdCLGNBQW9CRCxPQUFNO0FBQ2hELFFBQU1FLGlCQUFnQixjQUFvQkYsT0FBTTtBQUNoRCxRQUFNRyxhQUFZLFVBQWdCSCxPQUFNO0FBRXhDLFFBQU0sbUJBQW1CLENBQUM7QUFFMUIsUUFBTSxvQkFBb0IsQ0FBQztBQU0zQixXQUFTLGtCQUFrQixhQUFhO0FBTXBDLFdBQU8sU0FBU0ksbUJBQWtCLGNBQWM7QUFDNUMsWUFBTUMsVUFBUyxJQUFJLG9CQUFvQixZQUFZO0FBQ25ELFVBQUk7QUFDSixhQUFRLFNBQVMsb0JBQW9CLFVBQVVBLE9BQU0sR0FBSTtBQUNyRCxjQUFNLFNBQVNBLFFBQU8sa0JBQWtCO0FBQ3hDLFlBQUksVUFBVTtBQUNkLFlBQUksT0FBTyxTQUFTLGdCQUFnQixrQkFBa0I7QUFDbEQsb0JBQVUsZ0JBQWdCLEtBQUtBLE9BQU07QUFBQSxRQUN6QyxXQUNTLE9BQU8sU0FBUyxnQkFBZ0IsMEJBQTBCO0FBQy9ELG9CQUFVLHVCQUF1QixLQUFLQSxPQUFNO0FBQUEsUUFDaEQsV0FDUyxPQUFPLFNBQVMsZ0JBQWdCLGVBQWU7QUFDcEQsb0JBQVUsc0JBQXNCLEtBQUtBLE9BQU07QUFBQSxRQUMvQyxXQUNTLE9BQU8sU0FBUyxnQkFBZ0IsdUJBQXVCO0FBQzVELG9CQUFVLDZCQUE2QixLQUFLQSxPQUFNO0FBQUEsUUFDdEQsV0FDUyxPQUFPLFNBQVMsZ0JBQWdCLGVBQWU7QUFDcEQsb0JBQVUsYUFBYSxLQUFLQSxPQUFNO0FBQUEsUUFDdEMsV0FDUyxPQUFPLFNBQVMsZ0JBQWdCLHVCQUF1QjtBQUM1RCxvQkFBVSxvQkFBb0IsS0FBS0EsT0FBTTtBQUFBLFFBQzdDLFdBQ1MsT0FBTyxTQUFTLGdCQUFnQixjQUFjO0FBQ25ELG9CQUFVLHFCQUFxQixLQUFLQSxPQUFNO0FBQUEsUUFFOUMsT0FDSztBQUVELFVBQUFBLFFBQU8sb0JBQW9CLE9BQU8sTUFBTTtBQUFBLFFBQzVDO0FBQ0EsWUFBSSxTQUFTO0FBQ1QsMkJBQWlCLEtBQUs7QUFBQSxZQUNsQixHQUFHO0FBQUEsWUFDSDtBQUFBLFlBQ0EsZUFBZUEsUUFBTyxPQUFPLEVBQUUsU0FBUyxRQUFRQSxRQUFPLGtCQUFrQixDQUFDO0FBQUEsVUFDOUUsQ0FBQztBQUFBLFFBQ0w7QUFBQSxNQUNKO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFLQSxXQUFTLFlBQVksT0FBTztBQUN4QixVQUFNLG9CQUFvQixNQUFNLE9BQU8sR0FBRyxNQUFNLE1BQU07QUFDdEQsV0FBTztBQUFBLEVBQ1g7QUFNQSxXQUFTLGNBQWMsS0FBSztBQUN4QixVQUFNLGVBQWUsZUFBZTtBQUNwQyxRQUFJLGNBQWM7QUFDZCxpQkFBVyxDQUFDLFVBQVUsT0FBTyxLQUFLTCxRQUFPLGdCQUFnQkMsY0FBYSxHQUFHO0FBQ3JFLFlBQUksUUFBUSxjQUFjLElBQUksYUFBYSxRQUFRLGFBQWEsSUFBSSxVQUFVO0FBQzFFLGlCQUFPLEVBQUUsVUFBVSxRQUFRO0FBQUEsUUFDL0I7QUFBQSxNQUNKO0FBQUEsSUFDSjtBQUNBLFdBQU8sRUFBRSxVQUFVLElBQUksU0FBUztBQUFBLEVBQ3BDO0FBS0EsaUJBQWUsa0JBQWtCO0FBQzdCLFVBQU0sb0JBQW9CLFlBQVksZ0JBQWdCO0FBQ3RELFVBQU0sMEJBQTBCLENBQUM7QUFDakMsZUFBVyxPQUFPLG1CQUFtQjtBQUNqQyxVQUFJLEVBQUUsVUFBVSxRQUFRLElBQUksY0FBYyxHQUFHO0FBRTdDLFVBQWlCLGlCQUFpQixHQUFHLEtBQUssQ0FBQyxTQUFTO0FBQ2hELG1CQUFXRCxRQUFPLFVBQVU7QUFDNUIsa0JBQVUsRUFBRSxVQUFVLElBQUksVUFBVSxXQUFXLElBQUksVUFBVTtBQUM3RCxRQUFBQyxlQUFjLGdCQUFnQixVQUFVLE9BQU87QUFBQSxNQUNuRDtBQUNBLFVBQUksSUFBSSxTQUFTLGdCQUFnQixpQkFBaUIsSUFBSSxTQUFTLGdCQUFnQix1QkFBdUI7QUFDbEcsZ0NBQXdCLEtBQUssUUFBUTtBQUNyQywwQkFBa0IsS0FBSyxHQUFHO0FBQUEsTUFDOUIsT0FDSztBQUNELGNBQU0sY0FBY0QsUUFBTyxnQkFBZ0IsZUFBZSxRQUFRO0FBRWxFLFlBQUksZ0JBQWdCLFlBQVk7QUFDNUI7QUFFSixZQUFJLGdCQUFnQixZQUFZLFNBQVM7QUFDckMsVUFBQUEsUUFBTyxnQkFBZ0IsaUJBQWlCLFFBQVE7QUFBQSxRQUNwRDtBQUNBLGNBQU0sWUFBWUEsUUFBTyxtQkFBbUIsSUFBSSxXQUFXO0FBRTNELFlBQUksV0FBVztBQUNYLGNBQUksSUFBSSxTQUFTLGdCQUFnQixpQkFDN0IsVUFBVSxnQkFBZ0JHLFdBQVUsZUFDcENGLGVBQWMsSUFBSSxRQUFRLEtBQzFCQyxlQUFjLElBQUksUUFBUSxHQUFHO0FBQzdCLGdCQUFJLE9BQW9CLG1CQUFtQixHQUFHO0FBQUEsVUFDbEQ7QUFDQSxnQkFBTSxDQUFDLGlCQUFpQixLQUFLLElBQUksVUFBVSxlQUFlLEVBQUUsR0FBRyxLQUFLLFNBQVMsQ0FBQztBQUM5RSxjQUFJLENBQUMsaUJBQWlCO0FBRWxCLDhCQUFrQixLQUFLLEdBQUc7QUFDMUIsOENBQWtDLCtCQUErQixVQUFVLElBQUksTUFBTSxXQUFXLEtBQUs7QUFBQSxVQUN6RztBQUFBLFFBQ0osT0FDSztBQUVELDRCQUFrQixLQUFLLEdBQUc7QUFBQSxRQUM5QjtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBRUEsZUFBVyxVQUFVLHlCQUF5QjtBQUMxQyxpQkFBVyxjQUFjRixRQUFPLGVBQWUsR0FBRztBQUU5QyxtQkFBVyxjQUFjLFFBQVEsSUFBSTtBQUFBLE1BQ3pDO0FBQ0EsTUFBQUEsUUFBTyxnQkFBZ0Isb0JBQW9CLE1BQU07QUFDakQsd0NBQWtDLCtCQUErQixRQUFRLGdCQUFnQixhQUFhO0FBQUEsSUFDMUc7QUFBQSxFQUNKO0FBSUEsaUJBQWUsYUFBYSx5QkFBeUI7QUFFakQsVUFBTSxlQUFlLFlBQVksaUJBQWlCO0FBQ2xELFVBQU1LLFVBQVMsSUFBSSxvQkFBb0I7QUFDdkMsZUFBVyxhQUFhTCxRQUFPLGVBQWUsR0FBRztBQUM3QyxpQkFBVyxXQUFXLFVBQVUsZUFBZSxHQUFHO0FBQzlDLGNBQU0sU0FBU0ssUUFBTyxtQkFBbUI7QUFFekMsWUFBSSxXQUFXLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxPQUFPLENBQUMsR0FBRztBQUMzQyxjQUFJLFFBQVEsU0FBUyxnQkFBZ0IsZUFBZTtBQUNoRCxrQ0FBc0IsTUFBTSxRQUFRLFVBQVUsUUFBUSxXQUFXLFFBQVEsYUFBYSxRQUFRLE1BQU1BLE9BQU07QUFBQSxVQUM5RyxXQUNTLFFBQVEsU0FBUyxnQkFBZ0Isa0JBQWtCO0FBQ3hELDRCQUFnQixNQUFNLFFBQVEsVUFBVSxVQUFVLGFBQWEsUUFBUSxXQUFXQSxPQUFNO0FBQUEsVUFDNUYsV0FDUyxRQUFRLFNBQVMsZ0JBQWdCLGNBQWM7QUFDcEQsaUNBQXFCLE1BQU0sUUFBUSxVQUFVLFFBQVEsV0FBVyxRQUFRLGFBQWEsUUFBUSxNQUFNQSxPQUFNO0FBQUEsVUFDN0c7QUFDQSx1QkFBYSxLQUFLO0FBQUEsWUFDZCxHQUFHO0FBQUEsWUFDSCxlQUFlQSxRQUFPLE9BQU8sRUFBRSxTQUFTLFFBQVFBLFFBQU8sbUJBQW1CLENBQUM7QUFBQSxVQUMvRSxDQUFDO0FBQUEsUUFDTDtBQUNBLFlBQUksZ0NBQWdDO0FBQ2hDLGdCQUFNLFdBQVcsUUFBUSxTQUFTLGdCQUFnQixpQkFBaUIsUUFBUSxTQUFTLGdCQUFnQixlQUM5RixVQUFVLElBQUksUUFBUSxRQUFRLElBQzlCO0FBQ04seUNBQStCLFFBQVEsVUFBVSxRQUFRLE1BQU0sV0FBVyxRQUFRO0FBQUEsUUFDdEY7QUFBQSxNQUNKO0FBQUEsSUFDSjtBQUVBLGVBQVcsWUFBWSx5QkFBeUI7QUFDNUMsWUFBTSxTQUFTQSxRQUFPLG1CQUFtQjtBQUN6QyxtQkFBYSxNQUFNLFVBQVVBLE9BQU07QUFDbkMsbUJBQWEsS0FBSztBQUFBLFFBQ2QsTUFBTSxnQkFBZ0I7QUFBQSxRQUN0QjtBQUFBLFFBQ0EsZUFBZUEsUUFBTyxPQUFPLEVBQUUsU0FBUyxRQUFRQSxRQUFPLG1CQUFtQixDQUFDO0FBQUEsTUFDL0UsQ0FBQztBQUNELHdDQUFrQywrQkFBK0IsVUFBVSxnQkFBZ0IsYUFBYTtBQUFBLElBQzVHO0FBRUEsVUFBTSxrQkFBa0IsSUFBSSxvQkFBb0I7QUFDaEQsZUFBVyxTQUFTLFlBQVk7QUFDNUIsWUFBTSwwQkFBMEIsQ0FBQztBQUNqQyxZQUFNLGlCQUFpQixPQUFPLEtBQUs7QUFDbkMsWUFBTSxZQUFZLFdBQVcsY0FBYztBQUMzQyxZQUFNLHNCQUFzQixVQUFVLFNBQVM7QUFDL0MsWUFBTSxxQkFBcUIsVUFBVSxTQUFTO0FBRTlDLHNCQUFnQixZQUFZO0FBQzVCLFlBQU1BLFVBQVMsSUFBSSxvQkFBb0I7QUFFdkMsaUJBQVdDLFlBQVcsY0FBYztBQUVoQyxjQUFNLG9CQUFvQixnQkFBZ0IsU0FBUyxFQUFFO0FBQ3JELGNBQU0sY0FBY0EsU0FBUSxjQUFjO0FBQzFDLFlBQUksdUJBQXVCLG9CQUFvQixlQUFlLE9BQU8sa0JBQWtCO0FBRW5GLGNBQUksb0JBQW9CLEdBQUc7QUFDdkIsb0NBQXdCLEtBQUssZ0JBQWdCLGVBQWUsQ0FBQztBQUM3RCw0QkFBZ0IsWUFBWTtBQUFBLFVBQ2hDO0FBR0EsY0FBSSxjQUFjLE9BQU8sa0JBQWtCO0FBQ3ZDLG9CQUFRLE1BQU0sc0JBQXNCLFdBQVcsd0NBQXdDQSxTQUFRLFFBQVEsRUFBRTtBQUN6RztBQUFBLFVBQ0o7QUFBQSxRQUNKO0FBRUEsWUFBSUEsU0FBUSxnQkFBZ0I7QUFDeEI7QUFFSixZQUFJLENBQUMsVUFBVSxPQUFPQSxRQUFPO0FBQ3pCO0FBQ0osY0FBTSxFQUFFLFNBQVMsSUFBSSxjQUFjQSxRQUFPO0FBQzFDLGNBQU0sb0JBQW9CLGlCQUFpQkEsWUFDdkNBLFNBQVEsZ0JBQWdCSCxXQUFVLGVBQ2xDQSxXQUFVLElBQUksUUFBUSxLQUN0QkQsZUFBYyxJQUFJLFFBQVEsS0FDMUJELGVBQWMsSUFBSSxRQUFRO0FBRTlCLFlBQUksdUJBQXVCSyxTQUFRLFNBQVMsZ0JBQWdCLGlCQUFpQixtQkFBbUI7QUFDNUYsZ0JBQU0sU0FBUyxjQUFjSixlQUFjLElBQUksUUFBUSxDQUFDO0FBQ3hELGdCQUFNLGdCQUE2QixtQkFBbUJJLFVBQVNILFdBQVUsSUFBSSxRQUFRLEdBQUcsT0FBTyxRQUFRO0FBQ3ZHLGdCQUFNLFNBQVNFLFFBQU8sbUJBQW1CO0FBQ3pDLGdDQUFzQixNQUFNLFVBQVVDLFNBQVEsV0FBV0EsU0FBUSxhQUFhLGVBQWVELE9BQU07QUFDbkcsMEJBQWdCLFlBQVlBLFFBQU8sT0FBTyxFQUFFLFNBQVMsUUFBUUEsUUFBTyxtQkFBbUIsQ0FBQyxHQUFHLEtBQUs7QUFDaEc7QUFBQSxRQUNKO0FBQ0EsWUFBSSx1QkFBb0MsaUJBQWlCQyxRQUFPLEdBQUc7QUFHL0QsY0FBSSxnQkFBZ0IsVUFBVUEsV0FBVUEsU0FBUSxPQUFPLElBQUksV0FBVztBQUN0RSxjQUFJLG1CQUFtQjtBQUNuQixrQkFBTSxTQUFTLGNBQWNKLGVBQWMsSUFBSSxRQUFRLENBQUM7QUFDeEQsNEJBQTZCLG1CQUFtQkksVUFBU0gsV0FBVSxJQUFJLFFBQVEsR0FBRyxPQUFPLFFBQVE7QUFBQSxVQUNyRztBQUNBLFVBQWEsc0JBQXNCLEVBQUUsR0FBR0csVUFBUyxNQUFNLGNBQWMsR0FBRyxVQUFVRCxTQUFRLGVBQWU7QUFFekc7QUFBQSxRQUNKO0FBR0EsWUFBSSxzQkFBc0IsQ0FBYyxpQkFBaUJDLFFBQU8sR0FBRztBQUMvRCxnQkFBTSxjQUFjTCxlQUFjLFVBQVVLLFNBQVEsUUFBUTtBQUU1RCxjQUFJLGFBQWE7QUFDYixZQUFhLHNCQUFzQkEsVUFBUyxhQUFhRCxTQUFRLGVBQWU7QUFFaEY7QUFBQSxVQUNKO0FBQUEsUUFDSjtBQUVBLHdCQUFnQixZQUFZQyxTQUFRLGVBQWUsS0FBSztBQUFBLE1BQzVEO0FBQ0EsVUFBSSxzQkFBc0IsZ0JBQWdCLG1CQUFtQixHQUFHO0FBQzVELGdDQUF3QixLQUFLLGdCQUFnQixTQUFTLENBQUM7QUFBQSxNQUMzRDtBQUNBLFlBQU0sVUFBVSxxQkFBcUIsMEJBQTBCLGdCQUFnQixTQUFTO0FBQ3hGLFlBQU0sVUFBVSxLQUFLLE9BQU87QUFBQSxJQUNoQztBQUFBLEVBQ0o7QUFLQSxXQUFTLGFBQWEsV0FBVztBQUM3QixVQUFNLEtBQUssV0FBVyxLQUFLLFNBQVMsSUFBSTtBQUN4QyxjQUFVLFlBQVksa0JBQWtCLEVBQUU7QUFBQSxFQUM5QztBQUNBLFNBQU87QUFBQSxJQUNIO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxFQUNKO0FBQ0o7OztBQy9TTyxJQUFJO0FBQUEsQ0FDVixTQUFVQyxZQUFXO0FBQ2xCLE1BQUk7QUFDSixHQUFDLFNBQVVDLHlCQUF3QjtBQUUvQixJQUFBQSx3QkFBdUJBLHdCQUF1QixXQUFXLElBQUksQ0FBQyxJQUFJO0FBRWxFLElBQUFBLHdCQUF1QkEsd0JBQXVCLFVBQVUsSUFBSSxDQUFDLElBQUk7QUFBQSxFQUNyRSxHQUFHLHlCQUF5QkQsV0FBVSwyQkFBMkJBLFdBQVUseUJBQXlCLENBQUMsRUFBRTtBQUMzRyxHQUFHLGNBQWMsWUFBWSxDQUFDLEVBQUU7QUFPekIsU0FBUyxZQUFZLEdBQUcsR0FBRztBQUU5QixNQUFJLE1BQU07QUFDTixXQUFPO0FBQ1gsTUFBSSxNQUFNLFFBQVEsTUFBTTtBQUNwQixXQUFPO0FBQ1gsTUFBSSxNQUFNLFFBQVEsTUFBTTtBQUNwQixXQUFPO0FBQ1gsTUFBSSxhQUFhLGNBQWMsYUFBYSxZQUFZO0FBQ3BELFVBQU0sbUJBQW1CLEVBQUUsYUFBYSxFQUFFO0FBQzFDLFFBQUkscUJBQXFCLEdBQUc7QUFDeEIsYUFBTyxtQkFBbUIsSUFBSSxJQUFJO0FBQUEsSUFDdEM7QUFDQSxRQUFJO0FBQ0osYUFBUyxJQUFJLEdBQUcsSUFBSSxFQUFFLFlBQVksSUFBSSxHQUFHLEtBQUs7QUFDMUMsWUFBTSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDaEIsVUFBSSxRQUFRLEdBQUc7QUFDWCxlQUFPLE1BQU0sSUFBSSxJQUFJO0FBQUEsTUFDekI7QUFBQSxJQUNKO0FBRUEsV0FBTztBQUFBLEVBQ1g7QUFDQSxNQUFJLE9BQU8sTUFBTSxVQUFVO0FBQ3ZCLFVBQU0sbUJBQW1CLEVBQUUsU0FBUyxFQUFFO0FBQ3RDLFFBQUkscUJBQXFCLEdBQUc7QUFDeEIsYUFBTyxtQkFBbUIsSUFBSSxJQUFJO0FBQUEsSUFDdEM7QUFDQSxXQUFPLEVBQUUsY0FBYyxDQUFDO0FBQUEsRUFDNUI7QUFDQSxTQUFPLElBQUksSUFBSSxJQUFJO0FBQ3ZCOzs7QUM1Q08sU0FBUyxhQUFhLEtBQUs7QUFDOUIsU0FBTyxPQUFPLE9BQU8sRUFBRSxHQUFHLElBQUksQ0FBQztBQUNuQzs7O0FDRE8sU0FBUyxtQkFBbUIsUUFBUSxZQUFZO0FBQ25ELFFBQU0sZ0JBQWdCLFdBQVcsSUFBSSxNQUFNLEtBQUssS0FBSztBQUNyRCxhQUFXLElBQUksUUFBUSxZQUFZO0FBQ25DLFNBQU87QUFDWDtBQUNPLFNBQVMsOEJBQThCLGFBQWEsWUFBWSxRQUFRLE1BQU07QUFDakYsU0FBTyxTQUFTLGNBQWNFLFNBQVEsY0FBYztBQUNoRCxlQUFXLENBQUMsUUFBUSxTQUFTLEtBQUssWUFBWTtBQUUxQyxVQUFJLGNBQWM7QUFHZCxZQUFJLENBQUMsYUFBYSxNQUFNO0FBQ3BCO0FBQUEsTUFDUjtBQUVBLFVBQUksS0FBSyxJQUFJLE1BQU0sR0FBRztBQUNsQixjQUFNLEtBQUssS0FBSyxJQUFJLE1BQU07QUFDMUIsY0FBTSxNQUFNLElBQUksb0JBQW9CO0FBQ3BDLGVBQU8sVUFBVSxJQUFJLEdBQUc7QUFDeEIsOEJBQXNCLE1BQU0sUUFBUSxXQUFXLGFBQWEsSUFBSSxTQUFTLEdBQUdBLE9BQU07QUFBQSxNQUN0RixPQUNLO0FBQ0Qsd0JBQWdCLE1BQU0sUUFBUSxhQUFhLFdBQVdBLE9BQU07QUFBQSxNQUNoRTtBQUFBLElBQ0o7QUFBQSxFQUNKO0FBQ0o7QUFDTyxTQUFTLHdCQUF3QixhQUFhLFlBQVksUUFBUSxNQUFNO0FBVTNFLFdBQVMsd0JBQXdCLFNBQVM7QUFDdEMsVUFBTSxFQUFFLFVBQVUsVUFBVSxJQUFJO0FBQ2hDLFVBQU0sbUJBQW1CLFdBQVcsSUFBSSxRQUFRO0FBRWhELFFBQUkscUJBQXFCLFVBQWEsbUJBQW1CLFdBQVc7QUFDaEUsYUFBTyx5QkFBeUI7QUFBQSxJQUNwQztBQUVBLFFBQUksbUJBQW1CLFdBQVc7QUFFOUIsYUFBTyx5QkFBeUI7QUFBQSxJQUNwQztBQUVBLFFBQUksUUFBUSxTQUFTLGdCQUFnQixvQkFBb0IsQ0FBQyxLQUFLLElBQUksUUFBUSxHQUFHO0FBQzFFLGFBQU8seUJBQXlCO0FBQUEsSUFDcEM7QUFDQSxRQUFJLHFCQUFxQjtBQUN6QixRQUFJLEtBQUssSUFBSSxRQUFRLEdBQUc7QUFDcEIsWUFBTSxjQUFjLElBQUksb0JBQW9CO0FBQzVDLGFBQU8sVUFBVSxLQUFLLElBQUksUUFBUSxHQUFHLFdBQVc7QUFDaEQsMkJBQXFCLFlBQVksWUFBWSxTQUFTLEdBQUcsUUFBUSxRQUFRLElBQUk7QUFBQSxJQUNqRixPQUNLO0FBQ0QsMkJBQXFCLFlBQVksTUFBTSxRQUFRLElBQUk7QUFBQSxJQUN2RDtBQUdBLFFBQUksdUJBQXVCLEdBQUc7QUFDMUIsYUFBTyx5QkFBeUI7QUFBQSxJQUNwQyxXQUNTLHFCQUFxQixHQUFHO0FBRTdCLGFBQU8seUJBQXlCO0FBQUEsSUFDcEMsT0FDSztBQUVELGFBQU8seUJBQXlCO0FBQUEsSUFDcEM7QUFBQSxFQUNKO0FBQ0EsU0FBTyxDQUFDLFFBQVE7QUFFWixRQUFJLElBQUksU0FBUyxnQkFBZ0IsaUJBQzdCLElBQUksU0FBUyxnQkFBZ0IseUJBQzdCLElBQUksU0FBUyxnQkFBZ0Isb0JBQzdCLElBQUksU0FBUyxnQkFBZ0I7QUFFN0IsYUFBTyxDQUFDLE1BQU0sS0FBSyxJQUFJLElBQUksUUFBUSxDQUFDO0FBQ3hDLFVBQU0sU0FBUyx3QkFBd0IsR0FBRztBQUMxQyxVQUFNLFNBQVMsSUFBSTtBQUNuQixZQUFRLFFBQVE7QUFBQSxNQUNaLEtBQUsseUJBQXlCO0FBQUEsTUFDOUIsS0FBSyx5QkFBeUIsdUJBQXVCO0FBQ2pELG1CQUFXLElBQUksUUFBUSxJQUFJLFNBQVM7QUFDcEMsWUFBSSxJQUFJLFNBQVMsZ0JBQWdCLGlCQUFpQixJQUFJLFNBQVMsZ0JBQWdCLHVCQUF1QjtBQUNsRyxnQkFBTSxNQUFNLElBQUksb0JBQW9CLElBQUksSUFBSTtBQUM1QyxlQUFLLElBQUksUUFBUSxPQUFPLFlBQVksR0FBRyxDQUFDO0FBQUEsUUFDNUMsT0FDSztBQUNELGVBQUssT0FBTyxNQUFNO0FBQUEsUUFDdEI7QUFDQSxlQUFPLENBQUMsTUFBTSxLQUFLLElBQUksTUFBTSxDQUFDO0FBQUEsTUFDbEM7QUFBQSxNQUNBLEtBQUsseUJBQXlCO0FBQUEsTUFDOUIsS0FBSyx5QkFBeUIsbUJBQW1CO0FBQzdDLFlBQUksS0FBSyxJQUFJLE1BQU0sR0FBRztBQUNsQixnQkFBTSxjQUFjLElBQUksb0JBQW9CO0FBQzVDLGlCQUFPLFVBQVUsS0FBSyxJQUFJLE1BQU0sR0FBRyxXQUFXO0FBQzlDLGlCQUFPO0FBQUEsWUFDSDtBQUFBLGNBQ0ksTUFBTSxnQkFBZ0I7QUFBQSxjQUN0QjtBQUFBLGNBQ0EsTUFBTSxZQUFZLFNBQVM7QUFBQSxjQUMzQixVQUFVO0FBQUEsY0FDVixXQUFXLFdBQVcsSUFBSSxNQUFNO0FBQUEsWUFDcEM7QUFBQSxZQUNBLEtBQUssSUFBSSxNQUFNO0FBQUEsVUFDbkI7QUFBQSxRQUNKLE9BQ0s7QUFDRCxpQkFBTztBQUFBLFlBQ0g7QUFBQSxjQUNJLE1BQU0sZ0JBQWdCO0FBQUEsY0FDdEI7QUFBQSxjQUNBLFVBQVU7QUFBQSxjQUNWLFdBQVcsV0FBVyxJQUFJLE1BQU07QUFBQSxZQUNwQztBQUFBLFlBQ0E7QUFBQSxVQUNKO0FBQUEsUUFDSjtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQ0EsV0FBTyxDQUFDLE1BQU0sS0FBSyxJQUFJLE1BQU0sQ0FBQztBQUFBLEVBQ2xDO0FBQ0o7QUFDTyxTQUFTLDRCQUE0QixhQUFhLFlBQVksZUFBZSxRQUFRLE1BQU07QUFDOUYsU0FBTyxhQUFhO0FBQ2hCLGVBQVcsVUFBVSxlQUFlO0FBQ2hDLFlBQU0sZUFBZSxtQkFBbUIsUUFBUSxVQUFVO0FBQzFELFVBQUksS0FBSyxJQUFJLE1BQU0sR0FBRztBQUNsQixjQUFNLGNBQWMsSUFBSSxvQkFBb0I7QUFDNUMsZUFBTyxVQUFVLEtBQUssSUFBSSxNQUFNLEdBQUcsV0FBVztBQUM5QyxjQUFNLE1BQU07QUFBQSxVQUNSLE1BQU0sZ0JBQWdCO0FBQUEsVUFDdEI7QUFBQSxVQUNBLFVBQVU7QUFBQSxVQUNWLE1BQU0sWUFBWSxTQUFTO0FBQUEsVUFDM0IsV0FBVztBQUFBLFFBQ2Y7QUFDQSxjQUFNO0FBQUEsTUFDVixPQUNLO0FBQ0QsY0FBTSxNQUFNO0FBQUEsVUFDUixNQUFNLGdCQUFnQjtBQUFBLFVBQ3RCO0FBQUEsVUFDQSxVQUFVO0FBQUEsVUFDVixXQUFXO0FBQUEsUUFDZjtBQUNBLGNBQU07QUFBQSxNQUNWO0FBQUEsSUFDSjtBQUNBLGtCQUFjLE1BQU07QUFBQSxFQUN4QjtBQUNKO0FBSU8sU0FBUyxvQ0FBb0MsZUFBZSxhQUFhLFFBQVE7QUFDcEYsUUFBTSxPQUFPLG9CQUFJLElBQUk7QUFDckIsUUFBTSxnQkFBZ0Isb0JBQUksSUFBSTtBQUM5QixRQUFNLGFBQWEsb0JBQUksSUFBSTtBQUMzQixRQUFNLG9CQUFvQixvQkFBSSxJQUFJO0FBQ2xDLFNBQU87QUFBQSxJQUNILElBQUksY0FBYztBQUNkLGFBQU87QUFBQSxJQUNYO0FBQUEsSUFDQSxJQUFJLGdCQUFnQjtBQUNoQixhQUFPO0FBQUEsSUFDWDtBQUFBLElBQ0EsSUFBSSxnQkFBZ0I7QUFFaEIsYUFBTztBQUFBLElBQ1g7QUFBQSxJQUNBO0FBQUEsSUFDQSxJQUFJLFFBQVE7QUFDUixhQUFPLEtBQUssSUFBSSxNQUFNO0FBQUEsSUFDMUI7QUFBQSxJQUNBLFdBQVcsUUFBUSxjQUFjLE1BQU07QUFDbkMsWUFBTSxZQUFZLEtBQUssSUFBSSxNQUFNO0FBQ2pDLFVBQUksS0FBSyxPQUFPLE1BQU0sS0FBSyxhQUFhO0FBQ3BDLHNCQUFjLElBQUksTUFBTTtBQUFBLE1BQzVCO0FBQ0EsYUFBTyxhQUFhO0FBQUEsSUFDeEI7QUFBQSxJQUNBLGNBQWMsUUFBUSxhQUFhO0FBQy9CLFVBQUksS0FBSyxPQUFPLE1BQU0sS0FBSyxhQUFhO0FBQ3BDLHNCQUFjLElBQUksTUFBTTtBQUFBLE1BQzVCO0FBQUEsSUFDSjtBQUFBLElBQ0EsVUFBVSxRQUFRO0FBQ2QsWUFBTSxZQUFZLEtBQUssSUFBSSxNQUFNO0FBQ2pDLGFBQU8sWUFBWSxhQUFhLFNBQVMsSUFBSTtBQUFBLElBQ2pEO0FBQUEsSUFDQSxJQUFJLFFBQVE7QUFDUixZQUFNLFlBQVksS0FBSyxJQUFJLE1BQU07QUFDakMsVUFBSSxDQUFDLFdBQVc7QUFDWixjQUFNLElBQUksTUFBTSx1QkFBdUIsYUFBYSxnQkFBZ0IsTUFBTSxZQUFZO0FBQUEsTUFDMUY7QUFDQSxhQUFPLGFBQWEsU0FBUztBQUFBLElBQ2pDO0FBQUEsSUFDQSxPQUFPLFFBQVEsT0FBTztBQUNsQixZQUFNLFlBQVksS0FBSyxJQUFJLE1BQU07QUFDakMsVUFBSSxXQUFXO0FBQ1gsY0FBTSxJQUFJLE1BQU0sc0JBQXNCLGFBQWEsUUFBUSxNQUFNLGlCQUFpQjtBQUFBLE1BQ3RGO0FBQ0EsWUFBTSxZQUFZLFVBQVUsU0FBWSxPQUFPLE9BQU8sSUFBSSxPQUFPLFNBQVMsT0FBTyxPQUFPLEtBQUssSUFBSTtBQUNqRyxXQUFLLElBQUksUUFBUSxTQUFTO0FBQzFCLG9CQUFjLElBQUksTUFBTTtBQUN4QixhQUFPO0FBQUEsSUFDWDtBQUFBLElBQ0EsZ0JBQWdCLFFBQVEsT0FBTztBQUMzQixZQUFNLFlBQVksVUFBVSxTQUFZLE9BQU8sT0FBTyxJQUFJLE9BQU8sU0FBUyxPQUFPLE9BQU8sS0FBSyxJQUFJO0FBQ2pHLFdBQUssSUFBSSxRQUFRLFNBQVM7QUFDMUIsb0JBQWMsSUFBSSxNQUFNO0FBQ3hCLGFBQU87QUFBQSxJQUNYO0FBQUEsSUFDQSxpQkFBaUIsUUFBUTtBQUNyQixZQUFNLFlBQVksS0FBSyxJQUFJLE1BQU07QUFDakMsVUFBSSxDQUFDLFdBQVc7QUFDWixlQUFPO0FBQUEsTUFDWDtBQUNBLG9CQUFjLElBQUksTUFBTTtBQUN4QixhQUFPO0FBQUEsSUFDWDtBQUFBLElBQ0EsbUJBQW1CLFFBQVEsT0FBTztBQUM5QixZQUFNLFlBQVksS0FBSyxJQUFJLE1BQU07QUFDakMsVUFBSSxDQUFDLFdBQVc7QUFDWixlQUFPLEtBQUssT0FBTyxRQUFRLEtBQUs7QUFBQSxNQUNwQyxPQUNLO0FBQ0Qsc0JBQWMsSUFBSSxNQUFNO0FBQ3hCLGVBQU87QUFBQSxNQUNYO0FBQUEsSUFDSjtBQUFBLElBQ0EsV0FBVyxRQUFRO0FBQ2YsWUFBTSxZQUFZLEtBQUssaUJBQWlCLE1BQU07QUFDOUMsVUFBSSxjQUFjLE1BQU07QUFDcEIsY0FBTSxJQUFJLE1BQU0sdUJBQXVCLGFBQWEsUUFBUSxNQUFNLFlBQVk7QUFBQSxNQUNsRjtBQUNBLGFBQU87QUFBQSxJQUNYO0FBQUEsSUFDQSxDQUFDLFdBQVc7QUFDUixpQkFBVyxDQUFDLFFBQVEsU0FBUyxLQUFLLE1BQU07QUFDcEMsY0FBTSxDQUFDLFFBQVEsU0FBUztBQUFBLE1BQzVCO0FBQUEsSUFDSjtBQUFBLElBQ0EsQ0FBQyxnQkFBZ0I7QUFDYixpQkFBVyxVQUFVLGVBQWU7QUFDaEMsY0FBTTtBQUFBLE1BQ1Y7QUFBQSxJQUNKO0FBQUEsSUFDQSxnQkFBZ0IsNEJBQTRCLGFBQWEsWUFBWSxlQUFlLFFBQVEsSUFBSTtBQUFBLElBQ2hHLGdCQUFnQix3QkFBd0IsYUFBYSxZQUFZLFFBQVEsSUFBSTtBQUFBLElBQzdFLHVCQUF1Qiw4QkFBOEIsYUFBYSxZQUFZLFFBQVEsSUFBSTtBQUFBLElBQzFGLFNBQVMsUUFBUSxJQUFJO0FBQ2pCLFlBQU0sTUFBTSxrQkFBa0IsSUFBSSxNQUFNLEtBQUssQ0FBQztBQUM5QyxVQUFJLEtBQUssRUFBRTtBQUNYLHdCQUFrQixJQUFJLFFBQVEsR0FBRztBQUFBLElBQ3JDO0FBQUEsSUFDQSxvQkFBb0IsUUFBUSxPQUFPO0FBQy9CLFlBQU0sTUFBTSxrQkFBa0IsSUFBSSxNQUFNO0FBQ3hDLFVBQUksQ0FBQztBQUNEO0FBQ0osaUJBQVcsTUFBTSxLQUFLO0FBQ2xCLFdBQUcsS0FBSztBQUFBLE1BQ1o7QUFBQSxJQUNKO0FBQUEsRUFDSjtBQUNKOzs7QUN2Uk8sSUFBTSwyQkFBMkI7QUFDakMsU0FBUyxrQkFBa0I7QUFDOUIsUUFBTSxVQUFVLENBQUM7QUFDakIsV0FBUyxPQUFPO0FBR1osWUFBUSxLQUFLLENBQUMsR0FBRyxNQUFNLEVBQUUsV0FBVyxFQUFFLFFBQVE7QUFBQSxFQUNsRDtBQUNBLFdBQVNDLEtBQUksSUFBSSxVQUFVLE1BQU07QUFDN0IsVUFBTSxhQUFhLFFBQVEsR0FBRztBQUM5QixRQUFJLFFBQVEsS0FBSyxDQUFDLFNBQVMsS0FBSyxPQUFPLEVBQUUsR0FBRztBQUN4QyxZQUFNLElBQUksTUFBTSxVQUFVLEtBQUssVUFBVSxVQUFVLENBQUMsOEJBQThCO0FBQUEsSUFDdEY7QUFDQSxZQUFRLEtBQUs7QUFBQSxNQUNUO0FBQUEsTUFDQTtBQUFBLE1BQ0EsTUFBTTtBQUFBLElBQ1YsQ0FBQztBQUVELFNBQUs7QUFBQSxFQUNUO0FBQ0EsV0FBUyxPQUFPLFVBQVU7QUFDdEIsUUFBSSxRQUFRO0FBQ1osUUFBSSxPQUFPLGFBQWEsVUFBVTtBQUM5QixjQUFRLFFBQVEsVUFBVSxDQUFDLFNBQVMsS0FBSyxTQUFTLFFBQVE7QUFBQSxJQUM5RCxPQUNLO0FBQ0QsY0FBUSxRQUFRLFVBQVUsQ0FBQyxTQUFTLEtBQUssT0FBTyxRQUFRO0FBQUEsSUFDNUQ7QUFDQSxRQUFJLFVBQVUsSUFBSTtBQUNkLGFBQU87QUFBQSxJQUNYO0FBQ0EsWUFBUSxPQUFPLE9BQU8sQ0FBQztBQUN2QixTQUFLO0FBQ0wsV0FBTztBQUFBLEVBQ1g7QUFDQSxTQUFPO0FBQUEsSUFDSCxLQUFBQTtBQUFBLElBQ0E7QUFBQSxJQUNBLGFBQWE7QUFDVCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFDSjs7O0FDeENBLElBQU0sbUJBQW1CLFVBQVUsb0JBQUksSUFBSSxDQUFDO0FBQzVDLFNBQVMsY0FBYztBQUNuQixRQUFNLElBQUksTUFBTSxtQkFBbUI7QUFDdkM7QUFDQSxTQUFTLFVBQVUsS0FBSztBQUNwQjtBQUNBLE1BQUksTUFBTTtBQUNWLE1BQUksUUFBUTtBQUNaLFNBQU87QUFDWDtBQUNBLFNBQVMsZ0JBQWdCLEdBQUcsR0FBRztBQUMzQixTQUFPLEVBQUUsWUFBWSxFQUFFLFlBQVksSUFBSTtBQUMzQztBQUlPLFNBQVMsNENBQTRDLGVBQWUsYUFBYSxRQUFRLFNBQVM7QUFDckcsUUFBTSxPQUFPLG9CQUFJLElBQUk7QUFDckIsUUFBTSxnQkFBZ0Isb0JBQUksSUFBSTtBQUM5QixRQUFNLGlCQUFpQixDQUFDO0FBQ3hCLFFBQU0sb0JBQW9CLG9CQUFJLElBQUk7QUFFbEMsV0FBUyxXQUFXLEtBQUs7QUFDckIsVUFBTSxNQUFNLElBQUksSUFBSTtBQUNwQixRQUFJLE1BQU0sS0FBSyxJQUFJLElBQUksTUFBTSxDQUFDLEVBQUUsYUFBYSxJQUFJLElBQUksTUFBTSxDQUFDLEVBQUUsV0FBVztBQUNyRSxhQUFPO0FBQUEsSUFDWDtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQ0EsV0FBUyxXQUFXLFFBQVE7QUFDeEIsVUFBTSxNQUFNLEtBQUssSUFBSSxNQUFNO0FBRTNCLFFBQUksS0FBSztBQUNMLFVBQUksV0FBVyxHQUFHLEdBQUc7QUFDakIsWUFBSSxJQUFJLEtBQUssZUFBZTtBQUFBLE1BQ2hDO0FBQ0EsYUFBTyxJQUFJLElBQUksU0FBUyxRQUFRLGFBQWE7QUFDekMsWUFBSSxJQUFJLE1BQU07QUFBQSxNQUNsQjtBQUNBLFlBQU0sWUFBWSxVQUFVLElBQUksSUFBSSxLQUFLLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztBQUNqRSxVQUFJLFlBQVk7QUFDaEIsYUFBTztBQUFBLElBQ1gsT0FDSztBQUVELGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUNBLFdBQVMsT0FBTyxRQUFRLE9BQU87QUFDM0IsUUFBSSxNQUFNLEtBQUssSUFBSSxNQUFNO0FBQ3pCLFFBQUksQ0FBQyxLQUFLO0FBQ04sWUFBTSxFQUFFLEtBQUssQ0FBQyxHQUFHLFdBQVcsaUJBQWlCO0FBQzdDLFdBQUssSUFBSSxRQUFRLEdBQUc7QUFBQSxJQUN4QjtBQUNBLFVBQU0sWUFBWSxPQUFPLFNBQVMsT0FBTyxPQUFPLEtBQUssSUFBSTtBQUN6RCxVQUFNLFlBQVksUUFBUSxrQkFBa0IsU0FBUztBQUNyRCxRQUFJLFNBQVM7QUFHVCxhQUFPLE9BQU8sU0FBUztBQUFBLElBQzNCO0FBQ0EsUUFBSSxJQUFJLEtBQUssRUFBRSxPQUFPLFdBQVcsVUFBVSxDQUFDO0FBQzVDLFdBQU8sRUFBRSxLQUFLLFdBQVcsTUFBTSxHQUFHLE9BQU8sVUFBVTtBQUFBLEVBQ3ZEO0FBQ0EsUUFBTSxNQUFNO0FBQUEsSUFDUixJQUFJLGNBQWM7QUFDZCxhQUFPO0FBQUEsSUFDWDtBQUFBLElBQ0EsSUFBSSxnQkFBZ0I7QUFDaEIsYUFBTztBQUFBLElBQ1g7QUFBQSxJQUNBLElBQUksZ0JBQWdCO0FBRWhCLGFBQU87QUFBQSxJQUNYO0FBQUEsSUFDQTtBQUFBLElBQ0EsSUFBSSxRQUFRO0FBQ1IsYUFBTyxLQUFLLElBQUksTUFBTTtBQUFBLElBQzFCO0FBQUEsSUFDQSxjQUFjLFFBQVE7QUFDbEIsV0FBSyxPQUFPLE1BQU07QUFBQSxJQUN0QjtBQUFBLElBQ0EsSUFBSSxRQUFRO0FBQ1IsWUFBTSxTQUFTLEtBQUssSUFBSSxNQUFNO0FBQzlCLFVBQUksUUFBUTtBQUNSLGVBQU8sT0FBTztBQUFBLE1BQ2xCLE9BQ0s7QUFDRCxlQUFPO0FBQUEsTUFDWDtBQUFBLElBQ0o7QUFBQSxJQUNBLFNBQVMsUUFBUSxVQUFVO0FBQ3ZCLFlBQU0sRUFBRSxLQUFLLE1BQU0sSUFBSSxPQUFPLFFBQVEsUUFBUTtBQUM5QyxvQkFBYyxJQUFJLE1BQU07QUFDeEIsWUFBTSxNQUFNLElBQUksb0JBQW9CO0FBQ3BDLGFBQU8sVUFBVSxPQUFPLEdBQUc7QUFDM0IscUJBQWUsS0FBSztBQUFBLFFBQ2hCO0FBQUEsUUFDQSxNQUFNLElBQUksU0FBUztBQUFBLFFBQ25CLFVBQVU7QUFBQSxRQUNWLFdBQVc7QUFBQSxRQUNYLE1BQU0sZ0JBQWdCO0FBQUEsTUFDMUIsQ0FBQztBQUNELGFBQU87QUFBQSxJQUNYO0FBQUEsSUFDQSxDQUFDLFdBQVc7QUFDUixpQkFBVyxDQUFDLFFBQVEsU0FBUyxLQUFLLE1BQU07QUFDcEMsY0FBTSxDQUFDLFFBQVEsVUFBVSxTQUFTO0FBQUEsTUFDdEM7QUFBQSxJQUNKO0FBQUEsSUFDQSxDQUFDLGdCQUFnQjtBQUNiLGlCQUFXLFVBQVUsZUFBZTtBQUNoQyxjQUFNO0FBQUEsTUFDVjtBQUFBLElBQ0o7QUFBQSxJQUNBLGlCQUFpQjtBQUViLG9CQUFjLE1BQU07QUFDcEIsYUFBTyxlQUFlLE9BQU8sR0FBRyxlQUFlLE1BQU07QUFBQSxJQUN6RDtBQUFBLElBQ0EsZUFBZSxPQUFPO0FBQ2xCLFVBQUksTUFBTSxTQUFTLGdCQUFnQixjQUFjO0FBQzdDLGNBQU0sTUFBTSxJQUFJLG9CQUFvQixNQUFNLElBQUk7QUFDOUMsY0FBTSxFQUFFLE1BQU0sSUFBSSxPQUFPLE1BQU0sVUFBVSxPQUFPLFlBQVksR0FBRyxDQUFDO0FBQ2hFLGVBQU8sQ0FBQyxNQUFNLEtBQUs7QUFBQSxNQUN2QjtBQUNBLGFBQU8sQ0FBQyxNQUFNLE1BQVM7QUFBQSxJQUMzQjtBQUFBLElBQ0EsdUJBQXVCLFNBQVVDLFNBQVEsY0FBYztBQUNuRCxpQkFBVyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsS0FBSyxNQUFNO0FBQ2xDLFlBQUksZ0JBQWdCLENBQUMsYUFBYSxNQUFNO0FBQ3BDO0FBQ0osbUJBQVcsTUFBTSxLQUFLO0FBQ2xCLGdCQUFNLE1BQU0sSUFBSSxvQkFBb0I7QUFDcEMsaUJBQU8sVUFBVSxHQUFHLE9BQU8sR0FBRztBQUM5QiwrQkFBcUIsTUFBTSxRQUFRLEdBQUcsYUFBYSxJQUFJLFNBQVMsR0FBR0EsT0FBTTtBQUFBLFFBQzdFO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFBQSxJQUNBLFNBQVMsUUFBUSxJQUFJO0FBQ2pCLFlBQU0sTUFBTSxrQkFBa0IsSUFBSSxNQUFNLEtBQUssQ0FBQztBQUM5QyxVQUFJLEtBQUssRUFBRTtBQUNYLHdCQUFrQixJQUFJLFFBQVEsR0FBRztBQUFBLElBQ3JDO0FBQUEsSUFDQSxvQkFBb0IsUUFBUSxPQUFPO0FBQy9CLFlBQU0sTUFBTSxrQkFBa0IsSUFBSSxNQUFNO0FBQ3hDLFVBQUksQ0FBQztBQUNEO0FBQ0osaUJBQVcsTUFBTSxLQUFLO0FBQ2xCLFdBQUcsS0FBSztBQUFBLE1BQ1o7QUFBQSxJQUNKO0FBQUEsRUFDSjtBQUNBLFNBQU87QUFDWDs7O0FDNUpBLFVBQVUsY0FBYyxRQUFRLFVBQVU7QUFFdEMsTUFBSSxDQUFDLFNBQVMsSUFBSSxNQUFNO0FBQ3BCO0FBQ0osV0FBUyxPQUFPLE1BQU07QUFDdEIsYUFBVyxDQUFDLFNBQVMsS0FBSyxLQUFLLFVBQVU7QUFDckMsUUFBSSxNQUFNLFdBQVcsUUFBUTtBQUN6QixhQUFPLGNBQWMsU0FBUyxRQUFRO0FBQUEsSUFDMUM7QUFBQSxFQUNKO0FBQ0EsUUFBTTtBQUNWO0FBcUJPLFNBQVMsdUJBQXVCQyxTQUFRLFFBQVEsV0FBVztBQUM5RCxRQUFNLFdBQVcsSUFBSSxJQUFJQSxRQUFPLGdCQUFnQixTQUFTLENBQUM7QUFDMUQsU0FBTyxjQUFjLFFBQVEsUUFBUTtBQUN6QztBQUdBLFNBQVMsNkJBQTZCQSxTQUFRLFFBQVE7QUFDbEQsUUFBTUMsaUJBQTJCLGNBQWNELE9BQU07QUFDckQsUUFBTUUsaUJBQTJCLGNBQWNGLE9BQU07QUFFckQsRUFBQUEsUUFBTyxhQUFhLE1BQU07QUFFMUIsUUFBTSxVQUFVRSxlQUFjLFVBQVUsTUFBTTtBQUM5QyxNQUFJLFNBQVM7QUFDVCxlQUFXLENBQUMsUUFBUUMsT0FBTSxLQUFLSCxRQUFPLGdCQUFnQkMsY0FBYSxHQUFHO0FBQ2xFLFVBQUlFLFFBQU8sYUFBYSxRQUFRLFlBQVlBLFFBQU8sY0FBYyxRQUFRLFdBQVc7QUFDaEYscUNBQTZCSCxTQUFRLE1BQU07QUFBQSxNQUMvQztBQUFBLElBQ0o7QUFBQSxFQUNKO0FBQ0E7QUFDSjtBQU9PLFNBQVMseUJBQXlCQSxTQUFRLFFBQVE7QUFDckQsUUFBTUksYUFBdUIsVUFBVUosT0FBTTtBQUM3QyxRQUFNRSxpQkFBMkIsY0FBY0YsT0FBTTtBQUVyRCxNQUFJRSxlQUFjLElBQUksTUFBTSxHQUFHO0FBQzNCLFdBQU8sNkJBQTZCRixTQUFRLE1BQU07QUFBQSxFQUN0RDtBQUNBLGFBQVcsT0FBTyx1QkFBdUJBLFNBQVEsUUFBUUksVUFBUyxHQUFHO0FBQ2pFLElBQUFKLFFBQU8sYUFBYSxHQUFHO0FBQUEsRUFDM0I7QUFDSjs7O0FDdEVBLElBQU0sZ0JBQWdCO0FBQUEsRUFDbEI7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQTtBQUNKO0FBQ0EsSUFBTSxpQ0FBaUMsS0FBSztBQUtyQyxTQUFTLGtCQUFrQkssU0FBUTtBQUN0QyxRQUFNQyx1QkFBaUMsb0JBQW9CRCxPQUFNO0FBQ2pFLFFBQU0sY0FBYztBQUFBLElBQ2hCLDJCQUEyQjtBQUFBLElBQzNCLDBCQUEwQjtBQUFBLElBQzFCLGFBQWEsb0JBQUksSUFBSTtBQUFBLElBQ3JCLG1CQUFtQixDQUFDO0FBQUEsRUFDeEI7QUFDQSxXQUFTLGVBQWUsa0JBQWtCLGFBQWEsUUFBUTtBQUMzRCxVQUFNLDZCQUE2QkMscUJBQW9CLElBQUksTUFBTTtBQUNqRSxlQUFXLFdBQVcsTUFBTSxLQUFLLDBCQUEwQixFQUFFLFFBQVEsR0FBRztBQUNwRSxVQUFJLFFBQVEsV0FBVyxlQUFlLFFBQVEsVUFBVSxrQkFBa0I7QUFDdEUsZUFBTztBQUFBLE1BQ1g7QUFBQSxJQUNKO0FBQUEsRUFDSjtBQUNBLFlBQVUsK0JBQStCLGFBQWEsUUFBUTtBQUMxRCxVQUFNLDZCQUE2QkEscUJBQW9CLElBQUksTUFBTTtBQUNqRSxlQUFXLFdBQVcsTUFBTSxLQUFLLDBCQUEwQixFQUFFLFFBQVEsR0FBRztBQUNwRSxVQUFJLFFBQVEsV0FBVyxhQUFhO0FBQ2hDLGNBQU07QUFBQSxNQUNWO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFDQSxXQUFTLDBCQUEwQjtBQUUvQixRQUFJLGVBQWUsWUFBWTtBQUMvQixnQkFBWSw0QkFBNEI7QUFDeEMsUUFBSSxZQUFZLGtCQUFrQixRQUFRO0FBQ3RDLGtCQUFZLG9CQUFvQixDQUFDO0FBQUEsSUFDckM7QUFFQSxlQUFXLENBQUMsRUFBRSxRQUFRLEtBQUtELFFBQU8sZ0JBQWdCQyxvQkFBbUIsR0FBRztBQUVwRSxZQUFNLGdCQUFnQixNQUFNLEtBQUssUUFBUTtBQUN6QyxlQUFTLElBQUksY0FBYyxTQUFTLEdBQUcsS0FBSyxHQUFHLEtBQUs7QUFDaEQsY0FBTSxVQUFVLGNBQWMsQ0FBQztBQUMvQixZQUFJLFFBQVEsWUFBWSxjQUFjO0FBQ2xDLHlCQUFlLFFBQVE7QUFBQSxRQUMzQjtBQUNBLFlBQUksUUFBUSxZQUFZLFlBQVksMkJBQTJCO0FBQzNELHNCQUFZLGtCQUFrQixLQUFLLE9BQU87QUFBQSxRQUM5QztBQUNBLFlBQUksUUFBUSxVQUFVLEtBQW1DLFFBQVEsVUFBVSxHQUFtQztBQUMxRyxnQkFBTSxjQUFjLFlBQVksWUFBWSxJQUFJLFFBQVEsTUFBTTtBQUM5RCxjQUFJLENBQUMsZUFBZSxRQUFRLFlBQVksWUFBWSxXQUFXO0FBQzNELHdCQUFZLFlBQVksSUFBSSxRQUFRLFFBQVEsT0FBTztBQUFBLFVBQ3ZELE9BQ0s7QUFHRDtBQUFBLFVBQ0o7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFFQSxnQkFBWSwyQkFBMkI7QUFBQSxFQUMzQztBQUNBLEVBQUFELFFBQU8sVUFBVSx5QkFBeUIsZ0NBQWdDLHNCQUFzQjtBQUNoRyxXQUFTLHdCQUF3QixXQUFXO0FBQ3hDLFFBQUksWUFBWSxZQUFZLDZCQUE2QixhQUFhLFlBQVksMEJBQTBCO0FBQ3hHLGFBQU87QUFBQSxJQUNYLE9BQ0s7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFDQSxXQUFTLFNBQVMsYUFBYSxRQUFRO0FBQ25DLFFBQUksZ0JBQWdCLEdBQTRCO0FBQzVDLGFBQU8sVUFBVSxhQUFhLE1BQU07QUFBQSxJQUN4QztBQUNBLGVBQVcsU0FBUyxlQUFlO0FBQy9CLFlBQU0sTUFBTSxVQUFVLE9BQU8sTUFBTTtBQUNuQyxVQUFJO0FBQ0EsZUFBTztBQUFBLElBQ2Y7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUNBLFdBQVMsVUFBVSxhQUFhLFFBQVE7QUFDcEMsUUFBSSxPQUFPO0FBQ1gsUUFBSSxLQUFLO0FBRVQsZUFBVyxNQUFNLCtCQUErQixhQUFhLE1BQU0sR0FBRztBQUNsRSxVQUFJLENBQUMsSUFBSTtBQUNMLFlBQUksR0FBRyxVQUFVLEdBQWlDO0FBQzlDLGVBQUs7QUFDTDtBQUFBLFFBQ0o7QUFBQSxNQUNKLFdBQ1MsQ0FBQyxNQUFNO0FBQ1osWUFBSSxHQUFHLFVBQVUsR0FBbUM7QUFDaEQsaUJBQU87QUFDUDtBQUFBLFFBQ0o7QUFBQSxNQUNKO0FBQUEsSUFDSjtBQUNBLFFBQUksQ0FBQyxNQUFNLENBQUM7QUFDUixhQUFPO0FBRVgsUUFBSSxLQUFLLFlBQVksR0FBRyxhQUFhLHdCQUF3QixHQUFHLFNBQVMsR0FBRztBQUN4RSxhQUFPLEVBQUUsSUFBSSxLQUFLO0FBQUEsSUFDdEI7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUNBLFdBQVMsMEJBQTBCLGFBQWEsa0JBQWtCLFFBQVE7QUFDdEUsUUFBSSxnQkFBZ0IsR0FBNEI7QUFDNUMsYUFBTyxpQkFBaUIsYUFBYSxrQkFBa0IsTUFBTTtBQUFBLElBQ2pFO0FBQ0EsZUFBVyxTQUFTLGVBQWU7QUFDL0IsWUFBTSxNQUFNLGlCQUFpQixPQUFPLGtCQUFrQixNQUFNO0FBQzVELFVBQUk7QUFDQSxlQUFPO0FBQUEsSUFDZjtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQ0EsV0FBUyxnQkFBZ0IsYUFBYSxrQkFBa0IsUUFBUTtBQUM1RCxRQUFJLFFBQVE7QUFDUixhQUFPLDBCQUEwQixhQUFhLGtCQUFrQixNQUFNO0FBQUEsSUFDMUUsT0FDSztBQUNELGlCQUFXLFdBQVcsWUFBWSxtQkFBbUI7QUFDakQsYUFBSyxRQUFRLFdBQVcsZUFBZSxnQkFBZ0IsTUFDbkQsUUFBUSxVQUFVLGtCQUFrQjtBQUNwQyxpQkFBTztBQUFBLFFBQ1g7QUFBQSxNQUNKO0FBQ0EsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQ0EsV0FBUyxpQkFBaUIsYUFBYSxrQkFBa0IsUUFBUTtBQUU3RCxVQUFNLFVBQVUsZUFBZSxrQkFBa0IsYUFBYSxNQUFNO0FBQ3BFLFFBQUksQ0FBQztBQUNELGFBQU87QUFDWCxRQUFJLHdCQUF3QixRQUFRLFNBQVMsR0FBRztBQUM1QyxhQUFPO0FBQUEsSUFDWCxPQUNLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBRUEsV0FBUyxVQUFVLGFBQWEsUUFBUTtBQUNwQyxXQUFPLFNBQVMsYUFBYSxNQUFNLE1BQU07QUFBQSxFQUM3QztBQUVBLFdBQVMsWUFBWSxhQUFhLGtCQUFrQixRQUFRO0FBQ3hELFFBQUksUUFBUTtBQUNSLFlBQU0sVUFBVSxlQUFlLGtCQUFrQixhQUFhLE1BQU07QUFDcEUsYUFBUSxXQUFXLHdCQUF3QixRQUFRLFNBQVMsS0FBTTtBQUFBLElBQ3RFLE9BQ0s7QUFDRCxpQkFBVyxXQUFXLFlBQVksbUJBQW1CO0FBQ2pELGFBQUssUUFBUSxXQUFXLGVBQWUsZ0JBQWdCLE1BQ25ELFFBQVEsVUFBVSxrQkFBa0I7QUFDcEMsaUJBQU87QUFBQSxRQUNYO0FBQUEsTUFDSjtBQUNBLGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUVBLFdBQVMsVUFBVSxhQUFhO0FBQzVCLFdBQU8sWUFBWSxZQUFZLElBQUksV0FBVyxHQUFHLFVBQVU7QUFBQSxFQUMvRDtBQUNBLFNBQU87QUFBQSxJQUNIO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLEVBQ0o7QUFDSjs7O0FDOUxPLElBQUk7QUFBQSxDQUNWLFNBQVVFLGdCQUFlO0FBQ3RCLEVBQUFBLGVBQWNBLGVBQWMsd0JBQXdCLElBQUksQ0FBQyxJQUFJO0FBQzdELEVBQUFBLGVBQWNBLGVBQWMsa0JBQWtCLElBQUksQ0FBQyxJQUFJO0FBQzNELEdBQUcsa0JBQWtCLGdCQUFnQixDQUFDLEVBQUU7OztBQ014QyxTQUFTLFVBQVUsU0FBUztBQUN4QixRQUFNLGtCQUFrQixTQUFTLG1CQUFtQixzQkFBc0I7QUFDMUUsUUFBTSx1QkFBdUIsb0JBQUksSUFBSTtBQUNyQyxRQUFNLFVBQVUsZ0JBQWdCO0FBQ2hDLE1BQUksU0FBUztBQUNiLFdBQVMsVUFBVSxJQUFJLFdBQVcsMEJBQTBCLE1BQU07QUFDOUQsWUFBUSxJQUFJLElBQUksVUFBVSxJQUFJO0FBQUEsRUFDbEM7QUFDQSxXQUFTLGFBQWEsVUFBVTtBQUM1QixXQUFPLFFBQVEsT0FBTyxRQUFRO0FBQUEsRUFDbEM7QUFDQSxXQUFTLFlBQVk7QUFDakIsVUFBTSxTQUFTLGdCQUFnQixlQUFlO0FBQzlDLFdBQU87QUFBQSxFQUNYO0FBQ0EsV0FBUyxhQUFhLFFBQVE7QUFDMUIsZUFBVyxDQUFDLEVBQUUsU0FBUyxLQUFLLHNCQUFzQjtBQUk5QyxVQUFJLFVBQVUsa0JBQWtCO0FBQzVCO0FBQ0osZ0JBQVUsY0FBYyxRQUFRLElBQUk7QUFBQSxJQUN4QztBQUNBLFdBQU8sZ0JBQWdCLGFBQWEsTUFBTTtBQUFBLEVBQzlDO0FBQ0EsV0FBU0MsMEJBQXlCLFFBQVE7QUFDdEMsV0FBTyx5QkFBK0IsRUFBRSxjQUFjLDJCQUEyQixpQkFBaUIsZ0JBQWdCLEdBQUcsTUFBTTtBQUFBLEVBQy9IO0FBQ0EsV0FBUyw0QkFBNEIsZUFBZSxXQUFXO0FBRTNELFFBQUk7QUFDQSxZQUFNLElBQUksTUFBTSxvRUFBb0U7QUFDeEYsVUFBTSxjQUFjLHdCQUF3QixhQUFhO0FBQ3pELFVBQU0sT0FBTyxxQkFBcUIsSUFBSSxXQUFXO0FBQ2pELFFBQUksTUFBTTtBQUNOLFlBQU0sSUFBSSxNQUFNLG9CQUFvQixXQUFXLDBCQUEwQjtBQUFBLElBQzdFO0FBRUEsUUFBSSxVQUFVLGtCQUFrQixlQUFlO0FBQzNDLFlBQU0sSUFBSSxNQUFNLGtFQUFrRSxhQUFhLE9BQU8sVUFBVSxhQUFhLEVBQUU7QUFBQSxJQUNuSTtBQUVBLFFBQUksVUFBVSxnQkFBZ0IsYUFBYTtBQUN2QyxZQUFNLElBQUksTUFBTSxrRUFBa0UsV0FBVyxPQUFPLFVBQVUsV0FBVyxFQUFFO0FBQUEsSUFDL0g7QUFDQSx5QkFBcUIsSUFBSSxhQUFhLFNBQVM7QUFDL0MsV0FBTztBQUFBLEVBQ1g7QUFDQSxXQUFTLDBCQUEwQixlQUFlLFFBQVE7QUFDdEQsVUFBTSxjQUFjLHdCQUF3QixhQUFhO0FBQ3pELFVBQU0sT0FBTyxxQkFBcUIsSUFBSSxXQUFXO0FBQ2pELFFBQUksTUFBTTtBQUVOLGFBQU87QUFBQSxJQUNYO0FBRUEsUUFBSTtBQUNBLFlBQU0sSUFBSSxNQUFNLG9FQUFvRTtBQUN4RixVQUFNLGVBQWUsb0NBQW9DLGVBQWUsYUFBYSxNQUFNO0FBQzNGLHlCQUFxQixJQUFJLGFBQWEsWUFBWTtBQUNsRCxXQUFPO0FBQUEsRUFDWDtBQUNBLFdBQVMsa0NBQWtDLGVBQWUsUUFBUUMsVUFBUztBQUN2RSxVQUFNLGNBQWMsd0JBQXdCLGFBQWE7QUFDekQsVUFBTSxPQUFPLHFCQUFxQixJQUFJLFdBQVc7QUFDakQsUUFBSSxNQUFNO0FBRU4sYUFBTztBQUFBLElBQ1g7QUFFQSxRQUFJO0FBQ0EsWUFBTSxJQUFJLE1BQU0sb0VBQW9FO0FBQ3hGLFVBQU0sZUFBZSw0Q0FBNEMsZUFBZSxhQUFhLFFBQVFBLFFBQU87QUFDNUcseUJBQXFCLElBQUksYUFBYSxZQUFZO0FBQ2xELFdBQU87QUFBQSxFQUNYO0FBQ0EsV0FBUyxnQkFBZ0IsZUFBZSxTQUFTLG9CQUFvQjtBQUNqRSxVQUFNLGNBQWMsd0JBQXdCLGFBQWE7QUFDekQsVUFBTSxPQUFPLHFCQUFxQixJQUFJLFdBQVc7QUFDakQsUUFBSSxNQUFNO0FBRU4sYUFBTztBQUFBLElBQ1g7QUFDQSxRQUFJO0FBQ0EsWUFBTSxJQUFJLE1BQU0sb0VBQW9FO0FBQ3hGLFVBQU0sYUFBYSxRQUFRLElBQUksU0FBUyxrQkFBa0I7QUFDMUQsVUFBTSxNQUFNLG9DQUFvQyxlQUFlLGFBQWEsVUFBVTtBQUN0RixVQUFNLGVBQWU7QUFBQSxNQUNqQixHQUFHO0FBQUEsTUFDSCxPQUFPLFFBQVEsS0FBSztBQUNoQixlQUFPLElBQUksT0FBTyxRQUFRLEdBQUc7QUFBQSxNQUNqQztBQUFBLE1BQ0EsZ0JBQWdCLFFBQVEsS0FBSztBQUN6QixlQUFPLElBQUksZ0JBQWdCLFFBQVEsR0FBRztBQUFBLE1BQzFDO0FBQUEsSUFDSjtBQUNBLHlCQUFxQixJQUFJLGFBQWEsWUFBWTtBQUNsRCxXQUFPO0FBQUEsRUFDWDtBQUNBLFdBQVMsYUFBYSxtQkFBbUI7QUFDckMsVUFBTSxjQUFjLE9BQU8sc0JBQXNCLFdBQVcsb0JBQW9CLHdCQUF3QixpQkFBaUI7QUFDekgsVUFBTSxZQUFZLHFCQUFxQixJQUFJLFdBQVc7QUFDdEQsUUFBSSxDQUFDLFdBQVc7QUFDWixZQUFNLElBQUksTUFBTSxhQUFhLGlCQUFpQiwwRkFBMEY7QUFBQSxJQUM1STtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQ0EsV0FBUyxtQkFBbUIsbUJBQW1CO0FBQzNDLFVBQU0sY0FBYyxPQUFPLHNCQUFzQixXQUFXLG9CQUFvQix3QkFBd0IsaUJBQWlCO0FBQ3pILFdBQVEscUJBQXFCLElBQUksV0FBVztBQUFBLElBRXhDO0FBQUEsRUFDUjtBQUNBLFlBQVUsbUJBQW1CLFlBQVk7QUFDckMsZUFBVyxDQUFDLFFBQVEsR0FBRyxTQUFTLEtBQUsscUJBQXFCLEdBQUcsVUFBVSxHQUFHO0FBQ3RFLFlBQU0sQ0FBQyxRQUFRLEdBQUcsVUFBVSxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksTUFBTSxDQUFDLENBQUM7QUFBQSxJQUN6RDtBQUFBLEVBQ0o7QUFDQSxXQUFTLHNCQUFzQixPQUFPO0FBQ2xDLFVBQU0sZ0JBQTJCLEtBQUssRUFBRSxnQkFBZ0IsQ0FBQztBQUN6RCxlQUFXLENBQUMsUUFBUSxJQUFJLEtBQUssZ0JBQWdCLGFBQWEsR0FBRztBQUN6RCxVQUFJLEtBQUssVUFBVTtBQUNmLGVBQU87QUFBQSxJQUNmO0FBQ0EsV0FBTztBQUFBLEVBQ1g7QUFDQSxXQUFTLGdCQUFnQixPQUFPO0FBQzVCLFVBQU0sU0FBUyxzQkFBc0IsS0FBSztBQUMxQyxXQUFPO0FBQUEsRUFDWDtBQUNBLFlBQVUsaUJBQWlCLFNBQVM7QUFDaEMsVUFBTSxlQUEwQixLQUFLLEVBQUUsZ0JBQWdCLENBQUM7QUFDeEQsZUFBVyxDQUFDLFFBQVEsU0FBUyxLQUFLLGdCQUFnQixZQUFZLEdBQUc7QUFDN0QsVUFBSSxXQUFXLEtBQUssVUFBVSxNQUFNLEtBQUssQ0FBQyxRQUFRLFFBQVEsT0FBTyxHQUFHO0FBQ2hFLGNBQU07QUFBQSxNQUNWO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFDQSxZQUFVLHdCQUF3QixNQUFNO0FBQ3BDLFVBQU0sQ0FBQyxtQkFBbUIsR0FBRyxvQkFBb0IsSUFBSTtBQUNyRCxlQUFXLENBQUMsTUFBTSxLQUFLLGtCQUFrQixTQUFTLEdBQUc7QUFDakQsVUFBSSxVQUFVO0FBQ2QsaUJBQVcsZ0JBQWdCLHNCQUFzQjtBQUM3QyxZQUFJLENBQUMsYUFBYSxJQUFJLE1BQU0sR0FBRztBQUMzQixvQkFBVTtBQUNWO0FBQUEsUUFDSjtBQUFBLE1BQ0o7QUFDQSxVQUFJLFNBQVM7QUFDVCxjQUFNLENBQUMsUUFBUSxHQUFHLElBQUk7QUFBQSxNQUMxQjtBQUFBLElBQ0o7QUFBQSxFQUNKO0FBQ0EsV0FBUyxhQUFhO0FBQ2xCLFdBQU8sUUFBUSxXQUFXO0FBQUEsRUFDOUI7QUFDQSxXQUFTLGlCQUFpQjtBQUN0QixXQUFPLHFCQUFxQixPQUFPO0FBQUEsRUFDdkM7QUFDQSxXQUFTLDBCQUEwQixtQkFBbUI7QUFDbEQsUUFBSTtBQUNBLFlBQU0sSUFBSSxNQUFNLHNFQUFzRTtBQUMxRixVQUFNLGNBQWMsT0FBTyxzQkFBc0IsV0FBVyxvQkFBb0Isd0JBQXdCLGlCQUFpQjtBQUN6SCx5QkFBcUIsT0FBTyxXQUFXO0FBQUEsRUFDM0M7QUFDQSxFQUFXLFVBQVUsRUFBRSwwQkFBMEIsQ0FBQztBQUNsRCxXQUFTLE9BQU87QUFDWixRQUFJLENBQUMsUUFBUTtBQUNULGVBQVM7QUFBQSxJQUNiO0FBQUEsRUFDSjtBQUNBLFNBQU87QUFBQSxJQUNIO0FBQUEsSUFDQTtBQUFBLElBQ0EsMEJBQUFEO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxFQUNKO0FBQ0o7QUFNTyxTQUFTLE9BQU8sU0FBUztBQUM1QixRQUFNLGdCQUFnQixVQUFVLE9BQU87QUFDdkMsUUFBTSxtQkFBbUIsQ0FBQyxRQUFRLFdBQVcsV0FBVyxtQkFBbUI7QUFDdkUsUUFBSSxjQUFjLGdCQUFnQixlQUFlO0FBQzdDLGlCQUFXRSxjQUFhLGNBQWMsZUFBZSxHQUFHO0FBQ3BELFFBQUFBLFlBQVcsb0JBQW9CLFFBQVEsTUFBUztBQUFBLE1BQ3BEO0FBQUEsSUFDSixPQUNLO0FBQ0QsaUJBQVcsb0JBQW9CLFFBQVEsY0FBYztBQUFBLElBQ3pEO0FBQ0EsV0FBTyxTQUFTLGlCQUFpQixRQUFRLFdBQVcsV0FBVyxjQUFjO0FBQUEsRUFDakY7QUFDQSxRQUFNLGFBQWEsZ0JBQWdCLGVBQWUsZ0JBQWdCO0FBQ2xFLGlCQUFlLE9BQU8sSUFBSTtBQUN0QixVQUFNLFdBQVcsZ0JBQWdCO0FBQ2pDLGVBQVcsVUFBVSxjQUFjLFdBQVcsR0FBRztBQUM3QyxZQUFNLE1BQU0sT0FBTyxHQUFHLEVBQUU7QUFDeEIsdUJBQWlCLEtBQUssYUFBYSxPQUFPLFFBQVEsV0FBVywwR0FBMEc7QUFBQSxJQUMzSztBQUVBLFVBQU0saUJBQWlCLGNBQWMsZ0JBQWdCLHVCQUF1QjtBQUM1RSxVQUFNLFdBQVcsYUFBYSxjQUFjO0FBQUEsRUFDaEQ7QUFDQSxTQUFPO0FBQUEsSUFDSCxLQUFLLEtBQUssSUFBSTtBQUFBLElBQ2QsV0FBVyxjQUFjO0FBQUEsSUFDekIsY0FBYyxjQUFjO0FBQUEsSUFDNUIsMEJBQTBCLGNBQWM7QUFBQSxJQUN4QyxXQUFXLGNBQWM7QUFBQSxJQUN6QixjQUFjLGNBQWM7QUFBQSxJQUM1QixpQkFBaUIsY0FBYztBQUFBLElBQy9CLDJCQUEyQixjQUFjO0FBQUEsSUFDekMsbUNBQW1DLGNBQWM7QUFBQSxJQUNqRCw2QkFBNkIsY0FBYztBQUFBLElBQzNDLGlCQUFpQixjQUFjO0FBQUEsSUFDL0IsY0FBYyxjQUFjO0FBQUEsSUFDNUIsb0JBQW9CLGNBQWM7QUFBQSxJQUNsQywyQkFBMkIsY0FBYztBQUFBLElBQ3pDLGdCQUFnQixjQUFjO0FBQUEsSUFDOUIsTUFBTSxjQUFjO0FBQUEsSUFDcEIsdUJBQXVCLGNBQWM7QUFBQSxJQUNyQyxpQkFBaUIsY0FBYztBQUFBLElBQy9CLGtCQUFrQixjQUFjO0FBQUEsSUFDaEM7QUFBQSxJQUNBLFlBQVk7QUFBQSxJQUNaLGNBQWM7QUFBQSxJQUNkLGNBQWM7QUFBQSxJQUNkLGdCQUFnQixjQUFjLGdCQUFnQjtBQUFBLElBQzlDLGNBQWMsV0FBVztBQUFBLElBQ3pCLGlCQUFpQixjQUFjO0FBQUEsRUFDbkM7QUFDSjs7O0FDdlFPLElBQU0saUJBQWlCLENBQUMsT0FBTyxDQUFDLE9BQU87QUFBQSxFQUMxQyxRQUFRO0FBQUEsRUFDUixHQUFHO0FBQ1A7QUFLTyxTQUFTLDBCQUEwQkMsU0FBUUMsY0FBYTtBQUMzRCxRQUFNQyxpQkFBMkIsY0FBY0YsT0FBTTtBQUNyRCxNQUFJO0FBQ0osR0FBQyxTQUFVRyxZQUFXO0FBQ2xCLElBQUFBLFdBQVVBLFdBQVUsT0FBTyxJQUFJLENBQUMsSUFBSTtBQUNwQyxJQUFBQSxXQUFVQSxXQUFVLE1BQU0sSUFBSSxDQUFDLElBQUk7QUFDbkMsSUFBQUEsV0FBVUEsV0FBVSxJQUFJLElBQUksQ0FBQyxJQUFJO0FBQ2pDLElBQUFBLFdBQVVBLFdBQVUsWUFBWSxJQUFJLENBQUMsSUFBSTtBQUN6QyxJQUFBQSxXQUFVQSxXQUFVLFlBQVksSUFBSSxDQUFDLElBQUk7QUFBQSxFQUM3QyxHQUFHLGNBQWMsWUFBWSxDQUFDLEVBQUU7QUFDaEMsUUFBTSxZQUFZLG9CQUFJLElBQUk7QUFDMUIsV0FBUyxTQUFTLFFBQVE7QUFDdEIsV0FBTyxVQUFVLElBQUksTUFBTSxLQUFLLFVBQVUsSUFBSSxRQUFRLG9CQUFJLElBQUksQ0FBQyxFQUFFLElBQUksTUFBTTtBQUFBLEVBQy9FO0FBQ0EsV0FBUyxnQkFBZ0IsUUFBUSxNQUFNLE1BQU07QUFDekMsVUFBTSxlQUFlRCxlQUFjLGlCQUFpQixNQUFNLEtBQUtBLGVBQWMsT0FBTyxNQUFNO0FBQzFGLGlCQUFhLGNBQWMsS0FBSztBQUFBLE1BQzVCLFdBQVc7QUFBQSxNQUNYLFdBQVc7QUFBQSxRQUNQLFFBQVEsS0FBSztBQUFBLFFBQ2IsY0FBYyxLQUFLO0FBQUEsUUFDbkIsZUFBZSxLQUFLO0FBQUEsUUFDcEIsV0FBVyxLQUFLO0FBQUEsUUFDaEIsYUFBYSxLQUFLO0FBQUEsTUFDdEI7QUFBQSxJQUNKLENBQUM7QUFBQSxFQUNMO0FBQ0EsV0FBUyxtQkFBbUIsUUFBUSxNQUFNLFFBQVE7QUFDOUMsVUFBTSxlQUFlQSxlQUFjLGlCQUFpQixNQUFNO0FBQzFELFFBQUksQ0FBQztBQUNEO0FBQ0osaUJBQWEsZ0JBQWdCLGFBQWEsY0FBYyxPQUFPLENBQUMsWUFBWSxFQUFFLFFBQVEsV0FBVyxXQUFXLFVBQVUsUUFBUSxjQUFjLEtBQUs7QUFBQSxFQUNySjtBQUNBLFdBQVMsZ0JBQWdCLFdBQVc7QUFDaEMsUUFBSSxjQUFjLFVBQVUsSUFBSTtBQUM1QixhQUFPO0FBQUEsSUFDWCxXQUNTLGNBQWMsVUFBVSxZQUFZO0FBQ3pDLGFBQU87QUFBQSxJQUNYLFdBQ1MsY0FBYyxVQUFVLFlBQVk7QUFDekMsYUFBTztBQUFBLElBQ1g7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUNBLFdBQVMsWUFBWSxRQUFRLE1BQU07QUFDL0IsVUFBTSxRQUFRLFNBQVMsTUFBTTtBQUM3QixVQUFNLGVBQWUsTUFBTSxJQUFJLElBQUk7QUFDbkMsUUFBSSxjQUFjLEtBQUssV0FBVztBQUM5Qix5QkFBbUIsUUFBUSxnQkFBZ0IsSUFBSSxHQUFHLGFBQWEsS0FBSyxNQUFNO0FBQUEsSUFDOUU7QUFDQSxVQUFNLE9BQU8sSUFBSTtBQUFBLEVBQ3JCO0FBQ0EsRUFBQUYsUUFBTyxVQUFVLFNBQVMsY0FBYztBQUNwQyxlQUFXLENBQUMsUUFBUSxLQUFLLEtBQUssV0FBVztBQUNyQyxVQUFJQSxRQUFPLGVBQWUsTUFBTSxNQUFNLFlBQVksU0FBUztBQUN2RCxrQkFBVSxPQUFPLE1BQU07QUFDdkI7QUFBQSxNQUNKO0FBQ0EsaUJBQVcsQ0FBQyxXQUFXLEVBQUUsSUFBSSxLQUFLLENBQUMsS0FBSyxPQUFPO0FBQzNDLFlBQUksY0FBYyxVQUFVLE9BQU87QUFDL0IsZ0JBQU0sVUFBVUMsYUFBWSxTQUFTLEtBQUssUUFBUSxNQUFNO0FBQ3hELGNBQUk7QUFDQSw2QkFBaUIsR0FBRyxRQUFRLEVBQUUsR0FBRyx5RUFBeUU7QUFBQSxRQUNsSDtBQUNBLFlBQUksY0FBYyxVQUFVLFFBQ3hCLGNBQWMsVUFBVSxNQUN4QixjQUFjLFVBQVUsY0FDeEIsY0FBYyxVQUFVLFlBQVk7QUFDcEMsZ0JBQU0sVUFBVUEsYUFBWSxnQkFBZ0IsS0FBSyxRQUFRLGdCQUFnQixTQUFTLEdBQUcsTUFBTTtBQUMzRixjQUFJLFNBQVM7QUFDVCw2QkFBaUIsR0FBRyxPQUFPLEdBQUcsMkVBQTJFO0FBQUEsVUFDN0c7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFBQSxFQUNKLENBQUM7QUFDRCxRQUFNLGdCQUFnQixJQUFJLFNBQVM7QUFDL0IsVUFBTSxDQUFDLE1BQU0sSUFBSSxTQUFTLElBQUk7QUFDOUIsUUFBSSxPQUFPLFNBQVMsVUFBVTtBQUMxQixhQUFPLGNBQWMsRUFBRSxRQUFRLE1BQU0sTUFBTSxhQUFhLENBQUMsRUFBRSxHQUFHLEVBQUU7QUFBQSxJQUNwRTtBQUNBLFVBQU0sRUFBRSxRQUFRLEtBQUssSUFBSTtBQUN6QixVQUFNLFVBQVUsZUFBZSxJQUFJO0FBQ25DLGdCQUFZLFFBQVEsVUFBVSxJQUFJO0FBQ2xDLGFBQVMsTUFBTSxFQUFFLElBQUksVUFBVSxNQUFNLEVBQUUsSUFBSSxNQUFNLFFBQVEsQ0FBQztBQUMxRCxvQkFBZ0IsUUFBUSxHQUFtQyxPQUFPO0FBQUEsRUFDdEU7QUFDQSxRQUFNLGNBQWMsSUFBSSxTQUFTO0FBQzdCLFVBQU0sQ0FBQyxNQUFNLElBQUksU0FBUyxJQUFJO0FBQzlCLFFBQUksT0FBTyxTQUFTLFVBQVU7QUFDMUIsYUFBTyxZQUFZLEVBQUUsUUFBUSxNQUFNLE1BQU0sYUFBYSxDQUFDLEVBQUUsR0FBRyxFQUFFO0FBQUEsSUFDbEU7QUFDQSxVQUFNLEVBQUUsUUFBUSxLQUFLLElBQUk7QUFDekIsVUFBTSxVQUFVLGVBQWUsSUFBSTtBQUNuQyxnQkFBWSxRQUFRLFVBQVUsRUFBRTtBQUNoQyxhQUFTLE1BQU0sRUFBRSxJQUFJLFVBQVUsSUFBSSxFQUFFLElBQUksTUFBTSxRQUFRLENBQUM7QUFDeEQsb0JBQWdCLFFBQVEsR0FBaUMsT0FBTztBQUFBLEVBQ3BFO0FBQ0EsUUFBTSxzQkFBc0IsSUFBSSxTQUFTO0FBQ3JDLFVBQU0sQ0FBQyxNQUFNLEVBQUUsSUFBSTtBQUNuQixVQUFNLEVBQUUsUUFBUSxLQUFLLElBQUk7QUFDekIsVUFBTSxVQUFVLGVBQWUsSUFBSTtBQUNuQyxnQkFBWSxRQUFRLFVBQVUsVUFBVTtBQUN4QyxhQUFTLE1BQU0sRUFBRSxJQUFJLFVBQVUsWUFBWSxFQUFFLElBQUksTUFBTSxRQUFRLENBQUM7QUFDaEUsb0JBQWdCLFFBQVEsR0FBMEMsT0FBTztBQUFBLEVBQzdFO0FBQ0EsUUFBTSxzQkFBc0IsSUFBSSxTQUFTO0FBQ3JDLFVBQU0sQ0FBQyxNQUFNLEVBQUUsSUFBSTtBQUNuQixVQUFNLEVBQUUsUUFBUSxLQUFLLElBQUk7QUFDekIsVUFBTSxVQUFVLGVBQWUsSUFBSTtBQUNuQyxnQkFBWSxRQUFRLFVBQVUsVUFBVTtBQUN4QyxhQUFTLE1BQU0sRUFBRSxJQUFJLFVBQVUsWUFBWSxFQUFFLElBQUksTUFBTSxRQUFRLENBQUM7QUFDaEUsb0JBQWdCLFFBQVEsR0FBMEMsT0FBTztBQUFBLEVBQzdFO0FBQ0EsU0FBTztBQUFBLElBQ0gsY0FBYyxRQUFRO0FBQ2xCLGtCQUFZLFFBQVEsVUFBVSxLQUFLO0FBQUEsSUFDdkM7QUFBQSxJQUNBLG9CQUFvQixRQUFRO0FBQ3hCLGtCQUFZLFFBQVEsVUFBVSxJQUFJO0FBQUEsSUFDdEM7QUFBQSxJQUNBLGtCQUFrQixRQUFRO0FBQ3RCLGtCQUFZLFFBQVEsVUFBVSxFQUFFO0FBQUEsSUFDcEM7QUFBQSxJQUNBLDBCQUEwQixRQUFRO0FBQzlCLGtCQUFZLFFBQVEsVUFBVSxVQUFVO0FBQUEsSUFDNUM7QUFBQSxJQUNBLDBCQUEwQixRQUFRO0FBQzlCLGtCQUFZLFFBQVEsVUFBVSxVQUFVO0FBQUEsSUFDNUM7QUFBQSxJQUNBLFFBQVEsT0FBTyxJQUFJO0FBQ2YsWUFBTSxFQUFFLE9BQU8sSUFBSTtBQUNuQixZQUFNLFVBQVUsZUFBZSxNQUFNLElBQUk7QUFFekMsa0JBQVksUUFBUSxVQUFVLEtBQUs7QUFFbkMsZUFBUyxNQUFNLEVBQUUsSUFBSSxVQUFVLE9BQU8sRUFBRSxJQUFJLE1BQU0sUUFBUSxDQUFDO0FBQzNELHNCQUFnQixRQUFRLEdBQW1DLE9BQU87QUFBQSxJQUN0RTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxFQUNKO0FBQ0o7OztBQ3RKQSxJQUFNLGFBQWEsb0JBQUksSUFBSTtBQUtwQixTQUFTLGtCQUFrQkcsU0FBUTtBQUN0QyxNQUFJLFdBQVcsSUFBSUEsUUFBTyxHQUFHLEdBQUc7QUFDNUIsV0FBTyxXQUFXLElBQUlBLFFBQU8sR0FBRztBQUFBLEVBQ3BDO0FBQ0EsUUFBTUMsU0FBbUJBLE9BQU1ELE9BQU07QUFDckMsUUFBTUUsY0FBd0IsV0FBV0YsT0FBTTtBQUMvQyxRQUFNRyxpQkFBMkIsY0FBY0gsT0FBTTtBQUNyRCxRQUFNLFFBQVEsb0JBQUksSUFBSTtBQUN0QixXQUFTLFlBQVksUUFBUTtBQUN6QixVQUFNLGFBQWFFLFlBQVcsVUFBVSxNQUFNO0FBQzlDLFVBQU0sUUFBUUQsT0FBTSxVQUFVLE1BQU07QUFDcEMsVUFBTSxhQUFhLE1BQU0sSUFBSSxNQUFNO0FBQ25DLFFBQUksQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDO0FBQzFCLGFBQU87QUFFWDtBQUFBO0FBQUE7QUFBQSxPQUdFLFdBQVcsVUFBVSxLQUF5QyxDQUFDLFdBQVcsV0FDdkUsYUFBYSxNQUFNLEtBQUssQ0FBQyxXQUFXO0FBQUEsTUFFckMsQ0FBQyxXQUFXO0FBQUEsTUFBVztBQUN2QixhQUFPO0FBQUEsSUFDWDtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQ0EsV0FBUyxhQUFhLFFBQVE7QUFDMUIsVUFBTSxlQUFlQSxPQUFNLFVBQVUsTUFBTTtBQUMzQyxVQUFNLFlBQVksTUFBTSxJQUFJLE1BQU0sR0FBRztBQUVyQyxRQUFLLGdCQUFnQixDQUFDLGFBQWUsQ0FBQyxnQkFBZ0IsV0FBWTtBQUM5RCxhQUFPO0FBQUEsSUFDWDtBQUNBLFFBQUksQ0FBQyxnQkFBZ0IsQ0FBQztBQUNsQixhQUFPO0FBQ1gsVUFBTSxjQUFjLElBQUksb0JBQW9CO0FBQzVDLElBQUFBLE9BQU0sT0FBTyxVQUFVLGNBQWMsV0FBVztBQUNoRCxVQUFNLGdCQUFnQixZQUFZLFlBQVksU0FBUyxHQUFHLFNBQVM7QUFDbkUsV0FBTyxrQkFBa0I7QUFBQSxFQUM3QjtBQUVBLEVBQUFELFFBQU8sVUFBVSxNQUFNO0FBQ25CLGVBQVcsQ0FBQyxRQUFRLEtBQUssS0FBS0EsUUFBTyxnQkFBZ0JDLE1BQUssR0FBRztBQUN6RCxVQUFJLGFBQWEsTUFBTSxHQUFHO0FBQ3RCLGNBQU1HLFVBQVMsSUFBSSxvQkFBb0I7QUFDdkMsUUFBQUgsT0FBTSxPQUFPLFVBQVUsT0FBT0csT0FBTTtBQUNwQyxjQUFNLElBQUksUUFBUTtBQUFBLFVBQ2QsT0FBT0EsUUFBTyxTQUFTO0FBQUEsVUFDdkIsV0FBVztBQUFBLFVBQ1gsU0FBUztBQUFBLFFBQ2IsQ0FBQztBQUNEO0FBQUEsTUFDSjtBQUNBLFlBQU0sYUFBYSxNQUFNLElBQUksTUFBTTtBQUNuQyxVQUFJLFlBQVk7QUFDWixtQkFBVyxVQUFVO0FBQ3JCLFlBQUksWUFBWSxNQUFNLEdBQUc7QUFFckIscUJBQVcsWUFBWTtBQUFBLFFBQzNCO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFBQSxFQUNKLEdBQUcsT0FBTyxpQkFBaUI7QUFDM0IsV0FBUyxnQ0FBZ0M7QUFDckMsVUFBTSxnQkFBZ0IsQ0FBQztBQUN2QixhQUFTLGVBQWUsT0FBTztBQUMzQixVQUFJLE1BQU0sTUFBTSxVQUFVLFVBQVUsTUFBTSxLQUFLLE1BQU07QUFDakQsZUFBTyxFQUFFLEdBQUcsT0FBTyxNQUFNLEVBQUUsR0FBRyxNQUFNLE1BQU0sTUFBTSxFQUFFLE9BQU8sTUFBTSxLQUFLLEtBQUssS0FBSyxLQUFLLE1BQU0sS0FBSyxLQUFLLE1BQU0sRUFBRSxFQUFFO0FBQUEsTUFDakg7QUFDQSxVQUFJLE1BQU0sTUFBTSxVQUFVLFlBQVksTUFBTSxLQUFLLFFBQVE7QUFDckQsZUFBTztBQUFBLFVBQ0gsR0FBRztBQUFBLFVBQ0gsTUFBTSxFQUFFLEdBQUcsTUFBTSxNQUFNLFFBQVEsRUFBRSxPQUFPLE1BQU0sS0FBSyxPQUFPLEtBQUssS0FBSyxNQUFNLEtBQUssT0FBTyxNQUFNLEVBQUU7QUFBQSxRQUNsRztBQUFBLE1BQ0o7QUFDQSxVQUFJLE1BQU0sTUFBTSxVQUFVLFdBQVcsTUFBTSxLQUFLLE9BQU87QUFDbkQsZUFBTztBQUFBLFVBQ0gsR0FBRztBQUFBLFVBQ0gsTUFBTSxFQUFFLEdBQUcsTUFBTSxNQUFNLE9BQU8sRUFBRSxPQUFPLE1BQU0sS0FBSyxNQUFNLEtBQUssS0FBSyxNQUFNLEtBQUssTUFBTSxNQUFNLEVBQUU7QUFBQSxRQUMvRjtBQUFBLE1BQ0o7QUFDQSxVQUFJLE1BQU0sTUFBTSxVQUFVLGlCQUFpQixNQUFNLEtBQUssYUFBYTtBQUMvRCxlQUFPO0FBQUEsVUFDSCxHQUFHO0FBQUEsVUFDSCxNQUFNLEVBQUUsR0FBRyxNQUFNLE1BQU0sYUFBYSxFQUFFLE9BQU8sTUFBTSxLQUFLLFlBQVksS0FBSyxLQUFLLE1BQU0sS0FBSyxZQUFZLE1BQU0sRUFBRTtBQUFBLFFBQ2pIO0FBQUEsTUFDSjtBQUVBLFlBQU0sSUFBSSxNQUFNLGVBQWU7QUFBQSxJQUNuQztBQUVBLElBQUFKLFFBQU8sVUFBVSxNQUFNO0FBQ25CLGlCQUFXLFdBQVcsZUFBZTtBQUNqQyxnQkFBUTtBQUFBLE1BQ1o7QUFDQSxvQkFBYyxTQUFTO0FBQ3ZCLGlCQUFXLENBQUMsUUFBUSxLQUFLLEtBQUtBLFFBQU8sZ0JBQWdCQyxNQUFLLEdBQUc7QUFDekQsY0FBTSxhQUFhLE1BQU0sSUFBSSxNQUFNO0FBQ25DLFlBQUksQ0FBQztBQUNEO0FBRUosWUFBSSxXQUFXLFdBQVc7QUFDdEIsZ0JBQU0sZ0JBQWdCRSxlQUFjLFVBQVUsTUFBTTtBQUNwRCxjQUFJLENBQUM7QUFDRDtBQUNKLGdCQUFNLEVBQUUsU0FBUyxJQUFJO0FBQ3JCLGNBQUksWUFBWSxTQUFTLFFBQVE7QUFDN0Isa0JBQU0sQ0FBQyxtQkFBbUIsR0FBRyxXQUFXLElBQUk7QUFDNUMsWUFBQUYsT0FBTSxnQkFBZ0IsUUFBUSxpQkFBaUI7QUFDL0Msa0JBQU0scUJBQXFCRSxlQUFjLFdBQVcsTUFBTTtBQUMxRCwrQkFBbUIsV0FBVztBQUM5QixnQkFBSSxjQUFjLFNBQVMsR0FBOEI7QUFDckQsaUNBQW1CLFNBQVMsS0FBSyxLQUFLO0FBQUEsWUFDMUM7QUFHQSx1QkFBVyxZQUFZO0FBQ3ZCLHVCQUFXLFVBQVU7QUFBQSxVQUN6QixXQUNTLGNBQWMsU0FBUyxHQUEyQjtBQUN2RCxZQUFBRixPQUFNLGdCQUFnQixRQUFRLGVBQWUsS0FBSyxDQUFDO0FBR25ELHVCQUFXLFlBQVk7QUFDdkIsdUJBQVcsVUFBVTtBQUFBLFVBQ3pCLFdBQ1MsY0FBYyxTQUFTLEdBQThCO0FBQzFELFlBQUFBLE9BQU0sV0FBVyxNQUFNO0FBQ3ZCLGtCQUFNLE9BQU8sTUFBTTtBQUNuQiwwQkFBYyxLQUFLLE1BQU07QUFDckIsY0FBQUEsT0FBTSxnQkFBZ0IsUUFBUSxLQUFLO0FBQUEsWUFDdkMsQ0FBQztBQUFBLFVBQ0w7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUFBLElBQ0osR0FBRyxPQUFPLGlCQUFpQjtBQUFBLEVBQy9CO0FBRUEsUUFBTSwyQkFBMkIsV0FBVztBQUM1QyxNQUFJLDZCQUE2QjtBQUM3QixrQ0FBOEI7QUFDbEMsUUFBTUksZUFBYztBQUFBO0FBQUEsSUFFaEIsZ0JBQWdCO0FBQUEsRUFDcEI7QUFDQSxhQUFXLElBQUlMLFFBQU8sS0FBS0ssWUFBVztBQUN0QyxTQUFPQTtBQUNYOzs7QUN0Sk8sU0FBUyw0QkFBNEJDLFNBQVE7QUFDaEQsUUFBTUMsaUJBQTJCLGNBQWNELE9BQU07QUFDckQsUUFBTUUsZ0JBQTBCQSxjQUFhRixPQUFNO0FBQ25ELFFBQU1HLGlCQUEyQixjQUFjSCxPQUFNO0FBQ3JELFFBQU1JLGVBQXlCLFlBQVlKLE9BQU07QUFDakQsUUFBTSxrQkFBa0Isb0JBQUksSUFBSTtBQUNoQyxNQUFJLFFBQVE7QUFDWixXQUFTLGNBQWMsSUFBSTtBQUN2QixhQUFTO0FBQ1QsUUFBSSxTQUFTLElBQUk7QUFDYjtBQUFBLElBQ0o7QUFDQSxZQUFRO0FBQ1IsZUFBVyxDQUFDLE1BQU0sS0FBS0EsUUFBTyxnQkFBZ0JDLGNBQWEsR0FBRztBQUMxRCxVQUFJLGdCQUFnQixJQUFJLE1BQU07QUFDMUI7QUFFSixVQUFJRSxlQUFjLElBQUksTUFBTTtBQUN4QjtBQUVKLFVBQUlDLGFBQVksSUFBSSxNQUFNO0FBQ3RCO0FBRUosWUFBTSxPQUFPRixjQUFhLFVBQVUsTUFBTTtBQUMxQyxVQUFJLE1BQU07QUFDTixZQUFJLEtBQUssa0JBQWtCLFVBQWEsS0FBSyxnQkFBZ0IsR0FBNkM7QUFDdEc7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUNBLHNCQUFnQixJQUFJLE1BQU07QUFDMUIsY0FBUSxJQUFJLHlEQUErQyxNQUFNO0FBQUEsNkZBQ2dCO0FBQUEsSUFDckY7QUFBQSxFQUNKO0FBQ0EsRUFBQUYsUUFBTyxhQUFhLGFBQWE7QUFDakMsRUFBQUEsUUFBTyxVQUFVLGFBQWE7QUFDbEM7OztBQ25CTyxJQUFNLFNBQXlCLHVCQUFPO0FBU3RDLElBQU0sY0FBOEIsa0NBQWtCLE1BQU07QUFLNUQsSUFBTSxzQkFBc0MsMENBQTBCLFFBQVEsV0FBVztBQWV6RixJQUFNLGNBQWMsa0JBQWtCLE1BQU07QUFTbkQsNEJBQTRCLE1BQU07OztBQ3hEWixJQUFNSyxjQUE2QixnQkFBVyxXQUFXLE1BQU07QUFDL0QsSUFBTUMsc0JBQXFDLGdCQUFXLG1CQUFtQixNQUFNO0FBQy9FLElBQU1DLHNCQUFxQyxnQkFBVyxtQkFBbUIsTUFBTTtBQWMvRSxJQUFNQyxzQkFBcUMsZ0JBQVcsbUJBQW1CLE1BQU07QUFFL0UsSUFBTUMsdUJBQXNDLGdCQUFXLG9CQUFvQixNQUFNO0FBS2pGLElBQU1DLGFBQTRCLGdCQUFXLFVBQVUsTUFBTTtBQUU3RCxJQUFNQyxhQUE0QixnQkFBV0EsV0FBVSxNQUFNOzs7QUMzQjVFLElBQUk7QUFBQSxDQUNWLFNBQVVDLGFBQVk7QUFDbkIsRUFBQUEsWUFBV0EsWUFBVyxpQkFBaUIsSUFBSSxDQUFDLElBQUk7QUFDaEQsRUFBQUEsWUFBV0EsWUFBVyxpQkFBaUIsSUFBSSxDQUFDLElBQUk7QUFFaEQsRUFBQUEsWUFBV0EsWUFBVyxjQUFjLElBQUksQ0FBQyxJQUFJO0FBQ2pELEdBQUcsZUFBZSxhQUFhLENBQUMsRUFBRTs7O0FDTjNCLElBQUk7QUFBQSxDQUNWLFNBQVVDLGNBQWE7QUFDcEIsRUFBQUEsYUFBWUEsYUFBWSxZQUFZLElBQUksQ0FBQyxJQUFJO0FBQzdDLEVBQUFBLGFBQVlBLGFBQVksWUFBWSxJQUFJLENBQUMsSUFBSTtBQUM3QyxFQUFBQSxhQUFZQSxhQUFZLGNBQWMsSUFBSSxDQUFDLElBQUk7QUFDL0MsRUFBQUEsYUFBWUEsYUFBWSxRQUFRLElBQUksQ0FBQyxJQUFJO0FBQ3pDLEVBQUFBLGFBQVlBLGFBQVksWUFBWSxJQUFJLENBQUMsSUFBSTtBQUM3QyxFQUFBQSxhQUFZQSxhQUFZLGFBQWEsSUFBSSxDQUFDLElBQUk7QUFDOUMsRUFBQUEsYUFBWUEsYUFBWSxVQUFVLElBQUksQ0FBQyxJQUFJO0FBQzNDLEVBQUFBLGFBQVlBLGFBQVksU0FBUyxJQUFJLENBQUMsSUFBSTtBQUMxQyxFQUFBQSxhQUFZQSxhQUFZLFNBQVMsSUFBSSxDQUFDLElBQUk7QUFDMUMsRUFBQUEsYUFBWUEsYUFBWSxTQUFTLElBQUksQ0FBQyxJQUFJO0FBQzFDLEVBQUFBLGFBQVlBLGFBQVksYUFBYSxJQUFJLEVBQUUsSUFBSTtBQUMvQyxFQUFBQSxhQUFZQSxhQUFZLGFBQWEsSUFBSSxFQUFFLElBQUk7QUFDL0MsRUFBQUEsYUFBWUEsYUFBWSxhQUFhLElBQUksRUFBRSxJQUFJO0FBQy9DLEVBQUFBLGFBQVlBLGFBQVksYUFBYSxJQUFJLEVBQUUsSUFBSTtBQUNuRCxHQUFHLGdCQUFnQixjQUFjLENBQUMsRUFBRTtBQUs3QixJQUFJO0FBQUEsQ0FDVixTQUFVQyxtQkFBa0I7QUFDekIsRUFBQUEsa0JBQWlCQSxrQkFBaUIsUUFBUSxJQUFJLENBQUMsSUFBSTtBQUNuRCxFQUFBQSxrQkFBaUJBLGtCQUFpQixVQUFVLElBQUksQ0FBQyxJQUFJO0FBQ3JELEVBQUFBLGtCQUFpQkEsa0JBQWlCLGlCQUFpQixJQUFJLENBQUMsSUFBSTtBQUM1RCxFQUFBQSxrQkFBaUJBLGtCQUFpQixpQkFBaUIsSUFBSSxDQUFDLElBQUk7QUFDaEUsR0FBRyxxQkFBcUIsbUJBQW1CLENBQUMsRUFBRTs7O0FDM0J2QyxJQUFJO0FBQUEsQ0FDVixTQUFVQyxlQUFjO0FBQ3JCLEVBQUFBLGNBQWFBLGNBQWEsU0FBUyxJQUFJLENBQUMsSUFBSTtBQUM1QyxFQUFBQSxjQUFhQSxjQUFhLFNBQVMsSUFBSSxDQUFDLElBQUk7QUFDNUMsRUFBQUEsY0FBYUEsY0FBYSxXQUFXLElBQUksQ0FBQyxJQUFJO0FBQzlDLEVBQUFBLGNBQWFBLGNBQWEscUJBQXFCLElBQUksQ0FBQyxJQUFJO0FBQ3hELEVBQUFBLGNBQWFBLGNBQWEsVUFBVSxJQUFJLENBQUMsSUFBSTtBQUNqRCxHQUFHLGlCQUFpQixlQUFlLENBQUMsRUFBRTs7O0FDUC9CLElBQUk7QUFBQSxDQUNWLFNBQVVDLGdCQUFlO0FBQ3RCLEVBQUFBLGVBQWNBLGVBQWMsY0FBYyxJQUFJLENBQUMsSUFBSTtBQUNuRCxFQUFBQSxlQUFjQSxlQUFjLGdCQUFnQixJQUFJLENBQUMsSUFBSTtBQUNyRCxFQUFBQSxlQUFjQSxlQUFjLGVBQWUsSUFBSSxDQUFDLElBQUk7QUFDcEQsRUFBQUEsZUFBY0EsZUFBYyxpQkFBaUIsSUFBSSxDQUFDLElBQUk7QUFDdEQsRUFBQUEsZUFBY0EsZUFBYyxtQkFBbUIsSUFBSSxDQUFDLElBQUk7QUFDeEQsRUFBQUEsZUFBY0EsZUFBYyxrQkFBa0IsSUFBSSxDQUFDLElBQUk7QUFDdkQsRUFBQUEsZUFBY0EsZUFBYyxpQkFBaUIsSUFBSSxDQUFDLElBQUk7QUFDdEQsRUFBQUEsZUFBY0EsZUFBYyxtQkFBbUIsSUFBSSxDQUFDLElBQUk7QUFDeEQsRUFBQUEsZUFBY0EsZUFBYyxrQkFBa0IsSUFBSSxDQUFDLElBQUk7QUFDM0QsR0FBRyxrQkFBa0IsZ0JBQWdCLENBQUMsRUFBRTtBQUlqQyxJQUFJO0FBQUEsQ0FDVixTQUFVQyxPQUFNO0FBQ2IsRUFBQUEsTUFBS0EsTUFBSyxjQUFjLElBQUksQ0FBQyxJQUFJO0FBQ2pDLEVBQUFBLE1BQUtBLE1BQUssU0FBUyxJQUFJLENBQUMsSUFBSTtBQUM1QixFQUFBQSxNQUFLQSxNQUFLLGFBQWEsSUFBSSxDQUFDLElBQUk7QUFDcEMsR0FBRyxTQUFTLE9BQU8sQ0FBQyxFQUFFOzs7QUNwQmYsU0FBUywwQkFBMEJDLFNBQVE7QUFDOUMsUUFBTSxZQUFZQSxRQUFPLG1CQUFtQixpQkFBaUI7QUFDN0QsTUFBSSxXQUFXO0FBQ1gsV0FBTztBQUFBLEVBQ1g7QUFDQSxTQUFPQSxRQUFPLGdCQUFnQixtQkFBbUI7QUFBQSxJQUM3QyxLQUFLLFFBQVE7QUFBQSxJQUNiLFVBQVUsUUFBUSxNQUFNLFFBQVEsSUFBSTtBQUFBLE1BQ2hDLEtBQUssUUFBUTtBQUFBLE1BQ2IsTUFBTSxRQUFRO0FBQUEsSUFDbEIsQ0FBQyxDQUFDO0FBQUEsRUFDTixDQUFDO0FBQ0w7OztBQ2pCQSxJQUFNLG9CQUFvQjtBQU0xQixTQUFTLHFCQUFxQixNQUFNLGlCQUFpQixPQUFPO0FBQ3hELE1BQUksTUFBTTtBQUNWLE1BQUksb0JBQW9CO0FBQ3hCLE1BQUksWUFBWTtBQUNoQixNQUFJLE9BQU87QUFDWCxNQUFJO0FBQ0osV0FBUyxJQUFJLEdBQUcsS0FBSyxLQUFLLFFBQVEsRUFBRSxHQUFHO0FBQ25DLFFBQUksSUFBSSxLQUFLO0FBQ1QsYUFBTyxLQUFLLFdBQVcsQ0FBQztBQUFBLGFBQ25CLFNBQVM7QUFDZDtBQUFBO0FBRUEsYUFBTztBQUNYLFFBQUksU0FBUyxJQUFVO0FBQ25CLFVBQUksY0FBYyxJQUFJLEtBQUssU0FBUyxHQUFHO0FBQUEsTUFFdkMsV0FDUyxjQUFjLElBQUksS0FBSyxTQUFTLEdBQUc7QUFDeEMsWUFBSSxJQUFJLFNBQVMsS0FDYixzQkFBc0IsS0FDdEIsSUFBSSxXQUFXLElBQUksU0FBUyxDQUFDLE1BQU0sTUFDbkMsSUFBSSxXQUFXLElBQUksU0FBUyxDQUFDLE1BQU0sSUFBVTtBQUM3QyxjQUFJLElBQUksU0FBUyxHQUFHO0FBQ2hCLGtCQUFNLGlCQUFpQixJQUFJLFlBQVksR0FBRztBQUMxQyxnQkFBSSxtQkFBbUIsSUFBSSxTQUFTLEdBQUc7QUFDbkMsa0JBQUksbUJBQW1CLElBQUk7QUFDdkIsc0JBQU07QUFDTixvQ0FBb0I7QUFBQSxjQUN4QixPQUNLO0FBQ0Qsc0JBQU0sSUFBSSxNQUFNLEdBQUcsY0FBYztBQUNqQyxvQ0FBb0IsSUFBSSxTQUFTLElBQUksSUFBSSxZQUFZLEdBQUc7QUFBQSxjQUM1RDtBQUNBLDBCQUFZO0FBQ1oscUJBQU87QUFDUDtBQUFBLFlBQ0o7QUFBQSxVQUNKLFdBQ1MsSUFBSSxXQUFXLEtBQUssSUFBSSxXQUFXLEdBQUc7QUFDM0Msa0JBQU07QUFDTixnQ0FBb0I7QUFDcEIsd0JBQVk7QUFDWixtQkFBTztBQUNQO0FBQUEsVUFDSjtBQUFBLFFBQ0o7QUFDQSxZQUFJLGdCQUFnQjtBQUNoQixjQUFJLElBQUksU0FBUztBQUNiLG1CQUFPO0FBQUE7QUFFUCxrQkFBTTtBQUNWLDhCQUFvQjtBQUFBLFFBQ3hCO0FBQUEsTUFDSixPQUNLO0FBQ0QsWUFBSSxJQUFJLFNBQVM7QUFDYixpQkFBTyxNQUFNLEtBQUssTUFBTSxZQUFZLEdBQUcsQ0FBQztBQUFBO0FBRXhDLGdCQUFNLEtBQUssTUFBTSxZQUFZLEdBQUcsQ0FBQztBQUNyQyw0QkFBb0IsSUFBSSxZQUFZO0FBQUEsTUFDeEM7QUFDQSxrQkFBWTtBQUNaLGFBQU87QUFBQSxJQUNYLFdBQ1MsU0FBUyxNQUFZLFNBQVMsSUFBSTtBQUN2QyxRQUFFO0FBQUEsSUFDTixPQUNLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQ0EsU0FBTztBQUNYO0FBRU8sU0FBUyxXQUFXLE1BQU07QUFDN0IsTUFBSSxlQUFlO0FBQ25CLE1BQUksbUJBQW1CO0FBQ3ZCLE1BQUk7QUFDSixXQUFTLElBQUksS0FBSyxTQUFTLEdBQUcsS0FBSyxNQUFNLENBQUMsa0JBQWtCLEtBQUs7QUFDN0QsUUFBSTtBQUNKLFFBQUksS0FBSztBQUNMLGFBQU8sS0FBSyxDQUFDO0FBQUEsU0FDWjtBQUNELFVBQUksUUFBUTtBQUNSLGNBQU07QUFDVixhQUFPO0FBQUEsSUFDWDtBQUVBLFFBQUksS0FBSyxXQUFXLEdBQUc7QUFDbkI7QUFBQSxJQUNKO0FBQ0EsbUJBQWUsT0FBTyxNQUFNO0FBQzVCLHVCQUFtQixLQUFLLFdBQVcsQ0FBQyxNQUFNO0FBQUEsRUFDOUM7QUFJQSxpQkFBZSxxQkFBcUIsY0FBYyxDQUFDLGdCQUFnQjtBQUNuRSxNQUFJLGtCQUFrQjtBQUNsQixRQUFJLGFBQWEsU0FBUztBQUN0QixhQUFPLE1BQU07QUFBQTtBQUViLGFBQU87QUFBQSxFQUNmLFdBQ1MsYUFBYSxTQUFTLEdBQUc7QUFDOUIsV0FBTztBQUFBLEVBQ1gsT0FDSztBQUNELFdBQU87QUFBQSxFQUNYO0FBQ0o7QUFFTyxTQUFTLFFBQVEsTUFBTTtBQUMxQixNQUFJLEtBQUssV0FBVztBQUNoQixXQUFPO0FBQ1gsTUFBSSxPQUFPLEtBQUssV0FBVyxDQUFDO0FBQzVCLFFBQU0sVUFBVSxTQUFTO0FBQ3pCLE1BQUksTUFBTTtBQUNWLE1BQUksZUFBZTtBQUNuQixXQUFTLElBQUksS0FBSyxTQUFTLEdBQUcsS0FBSyxHQUFHLEVBQUUsR0FBRztBQUN2QyxXQUFPLEtBQUssV0FBVyxDQUFDO0FBQ3hCLFFBQUksU0FBUyxJQUFVO0FBQ25CLFVBQUksQ0FBQyxjQUFjO0FBQ2YsY0FBTTtBQUNOO0FBQUEsTUFDSjtBQUFBLElBQ0osT0FDSztBQUVELHFCQUFlO0FBQUEsSUFDbkI7QUFBQSxFQUNKO0FBQ0EsTUFBSSxRQUFRO0FBQ1IsV0FBTyxVQUFVLE1BQU07QUFDM0IsTUFBSSxXQUFXLFFBQVE7QUFDbkIsV0FBTztBQUNYLFNBQU8sS0FBSyxNQUFNLEdBQUcsR0FBRztBQUM1QjtBQUNPLFNBQVMsaUJBQWlCLE1BQU0sS0FBSztBQUN4QyxRQUFNLGVBQWUsS0FBSyxXQUFXLEdBQUcsSUFBSSxRQUFRLEtBQUssSUFBSSxJQUFJLFFBQVEsSUFBSTtBQUM3RSxTQUFPLGFBQWEsVUFBVSxDQUFDO0FBQ25DOzs7QUMzSU8sSUFBSTtBQUFBLENBQ1YsU0FBVUMsb0JBQW1CO0FBQzFCLEVBQUFBLG1CQUFrQkEsbUJBQWtCLFVBQVUsSUFBSSxDQUFDLElBQUk7QUFDdkQsRUFBQUEsbUJBQWtCQSxtQkFBa0Isb0JBQW9CLElBQUksQ0FBQyxJQUFJO0FBQ2pFLEVBQUFBLG1CQUFrQkEsbUJBQWtCLG9CQUFvQixJQUFJLENBQUMsSUFBSTtBQUNyRSxHQUFHLHNCQUFzQixvQkFBb0IsQ0FBQyxFQUFFO0FBS3pDLFNBQVMsa0JBQWtCLHFCQUFxQixXQUFXO0FBQzlELE1BQUksVUFBVSxNQUFNLFVBQVUsUUFBUTtBQUNsQyxXQUFPLFVBQVUsS0FBSztBQUFBLEVBQzFCLE9BQ0s7QUFDRCxXQUFPLG9CQUFvQixPQUFPLFlBQVksSUFBSSxvQkFBb0IsVUFBVSxNQUFNLE1BQU0sQ0FBQztBQUFBLEVBQ2pHO0FBQ0o7QUFLTyxTQUFTLHVCQUF1QkMsU0FBUSxXQUFXO0FBQ3RELFFBQU0sOEJBQThCQSxRQUFPLG1CQUFtQixVQUFVLElBQUk7QUFDNUUsTUFBSSxDQUFDLDZCQUE2QjtBQUM5QixRQUFJLFVBQVUsS0FBSyxXQUFXLFFBQVEsR0FBRztBQUNyQyxVQUFJLFVBQVUsUUFBUSwyQkFBMkI7QUFDN0MsZUFBTywwQkFBMEIsVUFBVSxJQUFJLEVBQUVBLE9BQU07QUFBQSxNQUMzRCxPQUNLO0FBQ0QsY0FBTSxJQUFJLE1BQU0sc0JBQXNCLFVBQVUsSUFBSSxpQkFBaUI7QUFBQSxNQUN6RTtBQUFBLElBQ0osV0FDUyxVQUFVLFlBQVk7QUFDM0IsYUFBT0EsUUFBTywwQkFBMEIsVUFBVSxNQUFNLFFBQVEsU0FBUyxVQUFVLFVBQVUsQ0FBQztBQUFBLElBQ2xHLE9BQ0s7QUFDRCxZQUFNLElBQUksTUFBTSxHQUFHLFVBQVUsSUFBSSxzREFBc0Q7QUFBQSxJQUMzRjtBQUFBLEVBQ0osT0FDSztBQUNELFdBQU87QUFBQSxFQUNYO0FBQ0o7QUFLTyxTQUFTLGlCQUFpQkEsU0FBUSxpQkFBaUIsZ0JBQWdCLEVBQUUsY0FBYyxHQUFHO0FBQ3pGLFFBQU0saUJBQWlCLGVBQWUsSUFBSSxlQUFlO0FBQ3pELE1BQUksZ0JBQWdCO0FBQ2hCLFdBQU87QUFBQSxFQUNYO0FBQ0EsTUFBSSxlQUFlLFNBQVMsa0JBQWtCLG9CQUFvQjtBQUM5RCxVQUFNLFNBQVMsY0FBYyxtQkFBbUIsZUFBZTtBQUMvRCxtQkFBZSxJQUFJLGlCQUFpQixNQUFNO0FBQzFDLFdBQU87QUFBQSxFQUNYO0FBRUEsUUFBTSxZQUFZLGVBQWUsU0FBUyxrQkFBa0IscUJBQ3RELGNBQWMsdUJBQXVCLElBQ3JDQSxRQUFPLFVBQVU7QUFDdkIsTUFBSSxjQUFjLE1BQU07QUFDcEIsVUFBTSxJQUFJLE1BQU0sdUNBQXVDO0FBQUEsRUFDM0Q7QUFDQSxpQkFBZSxJQUFJLGlCQUFpQixTQUFTO0FBQzdDLFNBQU87QUFDWDtBQUtPLFNBQVMsa0JBQWtCQSxTQUFRLG1CQUFtQkMsb0JBQW1CLFNBQVM7QUFDckYsUUFBTSxFQUFFLFlBQVkscUJBQXFCLDZCQUE2QixjQUFjLElBQUk7QUFDeEYsUUFBTSxzQkFBc0IsK0JBQStCLG9CQUFJLElBQUk7QUFDbkUsUUFBTSx5QkFBOEIsUUFBYSxRQUFRLGtCQUFrQixHQUFHLENBQUM7QUFDL0UsUUFBTSwyQkFBMkIsd0JBQXdCLGlCQUFpQjtBQUMxRSxRQUFNLHlCQUF5QiwwQkFBMEJELE9BQU07QUFHL0QsUUFBTSxpQkFBaUIsb0JBQUksSUFBSTtBQUMvQixRQUFNLHFCQUFxQixDQUFDLG9CQUFvQixpQkFBaUJBLFNBQVEsaUJBQWlCLGdCQUFnQixPQUFPO0FBSWpILFFBQU0sc0JBQXNCLGNBQWMsbUJBQW1CLENBQUM7QUFDOUQsTUFBSSxZQUFZO0FBQ1osbUJBQWUsSUFBSSxHQUFHLFVBQVU7QUFBQSxFQUNwQztBQUtBLFFBQU0sb0JBQW9CLGtCQUFrQixVQUFVLFdBQVcsS0FBSyxDQUFDLFNBQVMsS0FBSyxTQUFTLHVCQUF1QixhQUFhO0FBQ2xJLE1BQUksbUJBQW1CO0FBQ25CLGVBQVcsQ0FBQyxzQkFBc0IsZ0JBQWdCLEtBQUssa0JBQWtCLE1BQU07QUFDM0UsWUFBTSxpQkFBaUIsa0JBQWtCLHdCQUF3QixnQkFBZ0I7QUFDakYsWUFBTSxxQkFBMEIsaUJBQWlCLGVBQWUsS0FBSyxzQkFBc0I7QUFDM0YsWUFBTSx5QkFBeUJDLG1CQUFrQixtQkFBbUIsa0JBQWtCO0FBQ3RGLFlBQU0sZUFBZSxtQkFBbUIsb0JBQW9CO0FBQzVELFVBQUksd0JBQXdCO0FBQ3hCLFlBQUksb0JBQW9CLElBQUksdUJBQXVCLEdBQUcsS0FDbEQsdUJBQXVCLFFBQVEsa0JBQWtCLEtBQUs7QUFDdEQsZ0JBQU0sSUFBSSxNQUFNLGFBQWEsa0JBQWtCLEdBQUcsd0RBQXdELHVCQUF1QixHQUFHLHlCQUF5QixvQkFBb0IsU0FBUyxDQUFDLEVBQUU7QUFBQSxRQUNqTTtBQUNBLDBCQUFrQkQsU0FBUSx3QkFBd0JDLG9CQUFtQjtBQUFBLFVBQ2pFLFlBQVk7QUFBQSxVQUNaLHFCQUFxQixJQUFJLElBQUksbUJBQW1CLEVBQUUsSUFBSSx1QkFBdUIsR0FBRztBQUFBLFVBQ2hGLGVBQWUsZUFBZSxTQUFTLGtCQUFrQixxQkFBcUIsZ0JBQWdCO0FBQUEsUUFDbEcsQ0FBQztBQUFBLE1BQ0w7QUFBQSxJQUNKO0FBQUEsRUFDSjtBQUdBLGFBQVcsYUFBYSxrQkFBa0IsVUFBVSxZQUFZO0FBRTVELFFBQUksVUFBVSxTQUFTLHVCQUF1QjtBQUMxQztBQUdKLFVBQU0sc0JBQXNCLHVCQUF1QkQsU0FBUSxTQUFTO0FBR3BFLGVBQVcsQ0FBQyxRQUFRLHVCQUF1QixLQUFLLFVBQVUsTUFBTTtBQUM1RCxZQUFNLDZCQUE2QixrQkFBa0IscUJBQXFCLHVCQUF1QjtBQUNqRyxZQUFNLGVBQWUsbUJBQW1CLE1BQU07QUFDOUMsWUFBTSxpQkFBaUIsb0JBQW9CLE9BQU8sY0FBYywwQkFBMEI7QUFJMUYsVUFBSSxvQkFBb0IsZ0JBQWdCLDBCQUEwQjtBQUM5RCxjQUFNLFlBQVk7QUFDbEIsWUFBSSxVQUFVLFFBQVE7QUFDbEIsb0JBQVUsU0FBUyxtQkFBbUIsVUFBVSxNQUFNO0FBQUEsUUFDMUQsT0FDSztBQUNELG9CQUFVLFNBQVMsbUJBQW1CLENBQUM7QUFBQSxRQUMzQztBQUFBLE1BRUosT0FDSztBQUNELGdCQUFRLG1CQUFtQixvQkFBb0IsT0FBTyxZQUFZLGdCQUFnQixDQUFDLE9BQU8sY0FBYztBQUNwRyxjQUFJLFVBQVUsc0JBQXNCLFVBQVU7QUFDMUMsbUJBQU8sRUFBRSxTQUFTLE1BQU0sT0FBTyxtQkFBbUIsS0FBSyxFQUFFO0FBQUEsVUFDN0QsT0FDSztBQUNELG1CQUFPLEVBQUUsU0FBUyxNQUFNO0FBQUEsVUFDNUI7QUFBQSxRQUNKLENBQUM7QUFBQSxNQUNMO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFDQSxRQUFNLFlBQVksdUJBQXVCLGlCQUFpQixtQkFBbUIsS0FBSyx1QkFBdUIsT0FBTyxtQkFBbUI7QUFDbkksYUFBVyxDQUFDLGNBQWMsWUFBWSxLQUFLLGdCQUFnQjtBQUN2RCxjQUFVLFNBQVMsS0FBSztBQUFBLE1BQ3BCLEtBQUs7QUFBQSxNQUNMLE1BQU07QUFBQSxJQUNWLENBQUM7QUFBQSxFQUNMO0FBQ0EsWUFBVSxNQUFNLGtCQUFrQjtBQUNsQyxTQUFPO0FBQ1g7OztBQ3pLQSxJQUFBRSxtQkFBZ0I7OztBQ0FoQixJQUFBQyxtQkFBZ0I7QUFXVCxJQUFJO0FBQUEsQ0FDVixTQUFVQyxZQUFXO0FBRWxCLEVBQUFBLFdBQVVBLFdBQVUsWUFBWSxJQUFJLENBQUMsSUFBSTtBQUM3QyxHQUFHLGNBQWMsWUFBWSxDQUFDLEVBQUU7QUFJekIsU0FBUyxrQkFBa0IsUUFBUTtBQUN0QyxVQUFRLFFBQVE7QUFBQSxJQUNaLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUNJLFlBQU0sSUFBSUMsbUJBQWtCLE1BQU0sNkJBQTZCLFNBQVMscUJBQXFCO0FBQUEsRUFDckc7QUFDSjtBQUlPLFNBQVMsZ0JBQWdCLFFBQVE7QUFDcEMsVUFBUSxRQUFRO0FBQUEsSUFDWixLQUFLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFDSSxZQUFNLElBQUlBLG1CQUFrQixNQUFNLDZCQUE2QixTQUFTLHFCQUFxQjtBQUFBLEVBQ3JHO0FBQ0o7QUFDQSxTQUFTLG1CQUFtQjtBQUN4QixTQUFPLEVBQUUsUUFBUSxvQkFBSSxJQUFJLEVBQUU7QUFDL0I7QUFJTyxJQUFJO0FBQUEsQ0FDVixTQUFVQyxTQUFRO0FBQ2YsV0FBUyxPQUFPLFNBQVMsU0FBUyxpQkFBQUMsUUFBSSxPQUFPLE9BQU8sR0FBRztBQUNuRCxZQUFRLE9BQU8sUUFBUSxDQUFDLE9BQU8sUUFBUTtBQUNuQyxVQUFJLFVBQVUsUUFBVztBQUNyQiwyQkFBbUIsT0FBTyxFQUFFLEtBQVUsTUFBTSxHQUFHLE9BQU8sT0FBTyxFQUFFLEVBQUUsS0FBSyxDQUFDLEVBQUUsT0FBTztBQUFBLE1BQ3BGO0FBQUEsSUFDSixDQUFDO0FBQ0QsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBRCxRQUFPLFNBQVM7QUFDaEIsV0FBUyxPQUFPLE9BQU9FLFNBQVE7QUFDM0IsVUFBTSxTQUFTLGlCQUFpQixpQkFBQUQsUUFBSSxTQUFTLFFBQVEsaUJBQUFBLFFBQUksT0FBTyxPQUFPLEtBQUs7QUFDNUUsUUFBSSxNQUFNQyxZQUFXLFNBQVksT0FBTyxNQUFNLE9BQU8sTUFBTUE7QUFDM0QsVUFBTSxVQUFVLGlCQUFpQjtBQUNqQyxXQUFPLE9BQU8sTUFBTSxLQUFLO0FBQ3JCLFlBQU0sTUFBTSxPQUFPLE9BQU87QUFDMUIsY0FBUSxRQUFRLEdBQUc7QUFBQSxRQUNmLEtBQUs7QUFDRCxjQUFJLFFBQVEsSUFBSTtBQUNaO0FBQUEsVUFDSjtBQUNBLGdCQUFNLFNBQVMsbUJBQW1CLE9BQU8sUUFBUSxPQUFPLE9BQU8sQ0FBQztBQUNoRSxjQUFJLE9BQU8sVUFBVSxRQUFXO0FBQzVCLG9CQUFRLE9BQU8sSUFBSSxPQUFPLEtBQUssT0FBTyxLQUFLO0FBQUEsVUFDL0M7QUFDQTtBQUFBLE1BQ1I7QUFDQSxXQUFLLE1BQU0sT0FBTyxLQUFLLFFBQVEsR0FBRztBQUM5QjtBQUFBLE1BQ0o7QUFDQSxhQUFPLFNBQVMsTUFBTSxDQUFDO0FBQUEsSUFDM0I7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFGLFFBQU8sU0FBUztBQUNoQixXQUFTLFNBQVMsUUFBUTtBQUN0QixXQUFPO0FBQUEsTUFDSCxRQUFRLFNBQVMsT0FBTyxNQUFNLElBQ3hCLE9BQU8sUUFBUSxPQUFPLE1BQU0sRUFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLEtBQUssS0FBSyxNQUFNO0FBQzFELFlBQUksSUFBSSxLQUFLLEtBQUs7QUFDbEIsZUFBTztBQUFBLE1BQ1gsR0FBRyxvQkFBSSxJQUFJLENBQUMsSUFDVixvQkFBSSxJQUFJO0FBQUEsSUFDbEI7QUFBQSxFQUNKO0FBQ0EsRUFBQUEsUUFBTyxXQUFXO0FBQ2xCLFdBQVMsT0FBTyxTQUFTO0FBQ3JCLFVBQU0sTUFBTSxDQUFDO0FBQ2IsUUFBSSxTQUFTLENBQUM7QUFDZCxRQUFJLFFBQVEsUUFBUTtBQUNoQixjQUFRLE9BQU8sUUFBUSxDQUFDLEdBQUcsTUFBTTtBQUM3QixZQUFJLE9BQU8sQ0FBQyxJQUFJO0FBQUEsTUFDcEIsQ0FBQztBQUFBLElBQ0w7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLFFBQU8sU0FBUztBQUNoQixXQUFTLEtBQUssUUFBUTtBQUNsQixVQUFNLFNBQVMsaUJBQWlCO0FBQ2hDLFFBQUksV0FBVyxRQUFXO0FBQ3RCLGFBQU8sS0FBSyxNQUFNLEVBQUUsUUFBUSxDQUFDLFFBQVE7QUFDakMsZUFBTyxPQUFPLElBQUksS0FBSyxPQUFPLEdBQUcsQ0FBQztBQUFBLE1BQ3RDLENBQUM7QUFBQSxJQUNMO0FBQ0EsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLE9BQU87QUFDZCxXQUFTLE9BQU8sU0FBUztBQUNyQixVQUFNLFNBQVMsQ0FBQztBQUNoQixLQUFDLEdBQUcsUUFBUSxPQUFPLEtBQUssQ0FBQyxFQUFFLFFBQVEsQ0FBQyxRQUFRO0FBQ3hDLGFBQU8sR0FBRyxJQUFJLFFBQVEsT0FBTyxJQUFJLEdBQUc7QUFBQSxJQUN4QyxDQUFDO0FBQ0QsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLFNBQVM7QUFDcEIsR0FBRyxXQUFXLFNBQVMsQ0FBQyxFQUFFO0FBQzFCLFNBQVMsK0JBQStCO0FBQ3BDLFNBQU8sRUFBRSxLQUFLLElBQUksT0FBTyxPQUFVO0FBQ3ZDO0FBSU8sSUFBSTtBQUFBLENBQ1YsU0FBVUcscUJBQW9CO0FBQzNCLFdBQVMsT0FBTyxTQUFTLFNBQVMsaUJBQUFGLFFBQUksT0FBTyxPQUFPLEdBQUc7QUFDbkQsUUFBSSxRQUFRLFFBQVEsSUFBSTtBQUNwQixhQUFPLE9BQU8sRUFBRSxFQUFFLE9BQU8sUUFBUSxHQUFHO0FBQUEsSUFDeEM7QUFDQSxRQUFJLFFBQVEsVUFBVSxRQUFXO0FBQzdCLFlBQU0sT0FBTyxNQUFNLEtBQUssUUFBUSxLQUFLLEdBQUcsT0FBTyxPQUFPLEVBQUUsRUFBRSxLQUFLLENBQUMsRUFBRSxPQUFPO0FBQUEsSUFDN0U7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFFLG9CQUFtQixTQUFTO0FBQzVCLFdBQVMsT0FBTyxPQUFPRCxTQUFRO0FBQzNCLFVBQU0sU0FBUyxpQkFBaUIsaUJBQUFELFFBQUksU0FBUyxRQUFRLGlCQUFBQSxRQUFJLE9BQU8sT0FBTyxLQUFLO0FBQzVFLFFBQUksTUFBTUMsWUFBVyxTQUFZLE9BQU8sTUFBTSxPQUFPLE1BQU1BO0FBQzNELFVBQU0sVUFBVSw2QkFBNkI7QUFDN0MsV0FBTyxPQUFPLE1BQU0sS0FBSztBQUNyQixZQUFNLE1BQU0sT0FBTyxPQUFPO0FBQzFCLGNBQVEsUUFBUSxHQUFHO0FBQUEsUUFDZixLQUFLO0FBQ0QsY0FBSSxRQUFRLElBQUk7QUFDWjtBQUFBLFVBQ0o7QUFDQSxrQkFBUSxNQUFNLE9BQU8sT0FBTztBQUM1QjtBQUFBLFFBQ0osS0FBSztBQUNELGNBQUksUUFBUSxJQUFJO0FBQ1o7QUFBQSxVQUNKO0FBQ0Esa0JBQVEsUUFBUSxNQUFNLE9BQU8sTUFBTSxPQUFPLFFBQVEsT0FBTyxPQUFPLENBQUMsQ0FBQztBQUNsRTtBQUFBLE1BQ1I7QUFDQSxXQUFLLE1BQU0sT0FBTyxLQUFLLFFBQVEsR0FBRztBQUM5QjtBQUFBLE1BQ0o7QUFDQSxhQUFPLFNBQVMsTUFBTSxDQUFDO0FBQUEsSUFDM0I7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFDLG9CQUFtQixTQUFTO0FBQzVCLFdBQVMsU0FBUyxRQUFRO0FBQ3RCLFdBQU8sRUFBRSxLQUFLLE1BQU0sT0FBTyxHQUFHLElBQUksT0FBTyxPQUFPLEdBQUcsSUFBSSxJQUFJLE9BQU8sTUFBTSxRQUFRLEtBQUssSUFBSSxPQUFPLFFBQVEsT0FBVTtBQUFBLEVBQ3RIO0FBQ0EsRUFBQUEsb0JBQW1CLFdBQVc7QUFDOUIsV0FBUyxPQUFPLFNBQVM7QUFDckIsVUFBTSxNQUFNLENBQUM7QUFDYixZQUFRLFFBQVEsV0FBYyxJQUFJLE1BQU0sUUFBUTtBQUNoRCxZQUFRLFVBQVUsV0FBYyxJQUFJLFFBQVEsUUFBUTtBQUNwRCxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLG9CQUFtQixTQUFTO0FBQ2hDLEdBQUcsdUJBQXVCLHFCQUFxQixDQUFDLEVBQUU7QUFDbEQsU0FBUyxrQkFBa0I7QUFDdkIsU0FBTyxFQUFFLE1BQU0sT0FBVTtBQUM3QjtBQUlPLElBQUk7QUFBQSxDQUNWLFNBQVVDLFFBQU87QUFDZCxXQUFTLE9BQU8sU0FBUyxTQUFTLGlCQUFBSCxRQUFJLE9BQU8sT0FBTyxHQUFHO0FBQ25ELFlBQVEsUUFBUSxNQUFNLE9BQU87QUFBQSxNQUN6QixLQUFLO0FBQ0QsZUFBTyxPQUFPLENBQUMsRUFBRSxNQUFNLFFBQVEsS0FBSyxTQUFTO0FBQzdDO0FBQUEsTUFDSixLQUFLO0FBQ0QsZUFBTyxPQUFPLEVBQUUsRUFBRSxPQUFPLFFBQVEsS0FBSyxXQUFXO0FBQ2pEO0FBQUEsTUFDSixLQUFLO0FBQ0QsZUFBTyxPQUFPLEVBQUUsRUFBRSxPQUFPLFFBQVEsS0FBSyxXQUFXO0FBQ2pEO0FBQUEsTUFDSixLQUFLO0FBQ0QsZUFBTyxPQUFPLEVBQUUsRUFBRSxLQUFLLFFBQVEsS0FBSyxTQUFTO0FBQzdDO0FBQUEsTUFDSixLQUFLO0FBQ0QsZUFBTyxPQUFPLE9BQU8sS0FBSyxRQUFRLEtBQUssV0FBVyxHQUFHLE9BQU8sT0FBTyxFQUFFLEVBQUUsS0FBSyxDQUFDLEVBQUUsT0FBTztBQUN0RjtBQUFBLE1BQ0osS0FBSztBQUNELGtCQUFVLE9BQU8sVUFBVSxLQUFLLFFBQVEsS0FBSyxTQUFTLEdBQUcsT0FBTyxPQUFPLEVBQUUsRUFBRSxLQUFLLENBQUMsRUFBRSxPQUFPO0FBQzFGO0FBQUEsSUFDUjtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUcsT0FBTSxTQUFTO0FBQ2YsV0FBUyxPQUFPLE9BQU9GLFNBQVE7QUFDM0IsVUFBTSxTQUFTLGlCQUFpQixpQkFBQUQsUUFBSSxTQUFTLFFBQVEsaUJBQUFBLFFBQUksT0FBTyxPQUFPLEtBQUs7QUFDNUUsUUFBSSxNQUFNQyxZQUFXLFNBQVksT0FBTyxNQUFNLE9BQU8sTUFBTUE7QUFDM0QsVUFBTSxVQUFVLGdCQUFnQjtBQUNoQyxXQUFPLE9BQU8sTUFBTSxLQUFLO0FBQ3JCLFlBQU0sTUFBTSxPQUFPLE9BQU87QUFDMUIsY0FBUSxRQUFRLEdBQUc7QUFBQSxRQUNmLEtBQUs7QUFDRCxjQUFJLFFBQVEsR0FBRztBQUNYO0FBQUEsVUFDSjtBQUNBLGtCQUFRLE9BQU8sRUFBRSxPQUFPLGFBQWEsV0FBVyxPQUFPLE1BQU0sRUFBRTtBQUMvRDtBQUFBLFFBQ0osS0FBSztBQUNELGNBQUksUUFBUSxJQUFJO0FBQ1o7QUFBQSxVQUNKO0FBQ0Esa0JBQVEsT0FBTyxFQUFFLE9BQU8sZUFBZSxhQUFhLE9BQU8sT0FBTyxFQUFFO0FBQ3BFO0FBQUEsUUFDSixLQUFLO0FBQ0QsY0FBSSxRQUFRLElBQUk7QUFDWjtBQUFBLFVBQ0o7QUFDQSxrQkFBUSxPQUFPLEVBQUUsT0FBTyxlQUFlLGFBQWEsT0FBTyxPQUFPLEVBQUU7QUFDcEU7QUFBQSxRQUNKLEtBQUs7QUFDRCxjQUFJLFFBQVEsSUFBSTtBQUNaO0FBQUEsVUFDSjtBQUNBLGtCQUFRLE9BQU8sRUFBRSxPQUFPLGFBQWEsV0FBVyxPQUFPLEtBQUssRUFBRTtBQUM5RDtBQUFBLFFBQ0osS0FBSztBQUNELGNBQUksUUFBUSxJQUFJO0FBQ1o7QUFBQSxVQUNKO0FBQ0Esa0JBQVEsT0FBTyxFQUFFLE9BQU8sZUFBZSxhQUFhLE9BQU8sT0FBTyxPQUFPLE9BQU8sUUFBUSxPQUFPLE9BQU8sQ0FBQyxDQUFDLEVBQUU7QUFDMUc7QUFBQSxRQUNKLEtBQUs7QUFDRCxjQUFJLFFBQVEsSUFBSTtBQUNaO0FBQUEsVUFDSjtBQUNBLGtCQUFRLE9BQU8sRUFBRSxPQUFPLGFBQWEsV0FBVyxVQUFVLE9BQU8sVUFBVSxPQUFPLFFBQVEsT0FBTyxPQUFPLENBQUMsQ0FBQyxFQUFFO0FBQzVHO0FBQUEsTUFDUjtBQUNBLFdBQUssTUFBTSxPQUFPLEtBQUssUUFBUSxHQUFHO0FBQzlCO0FBQUEsTUFDSjtBQUNBLGFBQU8sU0FBUyxNQUFNLENBQUM7QUFBQSxJQUMzQjtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUUsT0FBTSxTQUFTO0FBQ2YsV0FBUyxTQUFTLFFBQVE7QUFDdEIsV0FBTztBQUFBLE1BQ0gsTUFBTSxNQUFNLE9BQU8sU0FBUyxJQUN0QixFQUFFLE9BQU8sYUFBYSxXQUFXLGtCQUFrQixPQUFPLFNBQVMsRUFBRSxJQUNyRSxNQUFNLE9BQU8sV0FBVyxJQUNwQixFQUFFLE9BQU8sZUFBZSxhQUFhLE9BQU8sT0FBTyxXQUFXLEVBQUUsSUFDaEUsTUFBTSxPQUFPLFdBQVcsSUFDcEIsRUFBRSxPQUFPLGVBQWUsYUFBYSxPQUFPLE9BQU8sV0FBVyxFQUFFLElBQ2hFLE1BQU0sT0FBTyxTQUFTLElBQ2xCLEVBQUUsT0FBTyxhQUFhLFdBQVcsUUFBUSxPQUFPLFNBQVMsRUFBRSxJQUMzRCxNQUFNLE9BQU8sV0FBVyxJQUNwQixFQUFFLE9BQU8sZUFBZSxhQUFhLE9BQU8sWUFBWSxJQUN4RCxNQUFNLE9BQU8sU0FBUyxJQUNsQixFQUFFLE9BQU8sYUFBYSxXQUFXLENBQUMsR0FBRyxPQUFPLFNBQVMsRUFBRSxJQUN2RDtBQUFBLElBQzlCO0FBQUEsRUFDSjtBQUNBLEVBQUFBLE9BQU0sV0FBVztBQUNqQixXQUFTLE9BQU8sU0FBUztBQUNyQixVQUFNLE1BQU0sQ0FBQztBQUNiLFlBQVEsTUFBTSxVQUFVLGdCQUNuQixJQUFJLFlBQVksUUFBUSxNQUFNLGNBQWMsU0FBWSxnQkFBZ0IsUUFBUSxNQUFNLFNBQVMsSUFBSTtBQUN4RyxZQUFRLE1BQU0sVUFBVSxrQkFBa0IsSUFBSSxjQUFjLFFBQVEsTUFBTTtBQUMxRSxZQUFRLE1BQU0sVUFBVSxrQkFBa0IsSUFBSSxjQUFjLFFBQVEsTUFBTTtBQUMxRSxZQUFRLE1BQU0sVUFBVSxnQkFBZ0IsSUFBSSxZQUFZLFFBQVEsTUFBTTtBQUN0RSxZQUFRLE1BQU0sVUFBVSxrQkFBa0IsSUFBSSxjQUFjLFFBQVEsTUFBTTtBQUMxRSxZQUFRLE1BQU0sVUFBVSxnQkFBZ0IsSUFBSSxZQUFZLFFBQVEsTUFBTTtBQUN0RSxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLE9BQU0sU0FBUztBQUNmLFdBQVMsS0FBSyxPQUFPO0FBQ2pCLFVBQU0sU0FBUyxnQkFBZ0I7QUFDL0IsUUFBSSxVQUFVLE1BQU07QUFDaEIsYUFBTyxPQUFPO0FBQUEsUUFBRSxPQUFPO0FBQUEsUUFBYSxXQUFXO0FBQUE7QUFBQSxNQUE2QjtBQUFBLElBQ2hGLFdBQ1MsT0FBTyxVQUFVLFdBQVc7QUFDakMsYUFBTyxPQUFPLEVBQUUsT0FBTyxhQUFhLFdBQVcsTUFBTTtBQUFBLElBQ3pELFdBQ1MsT0FBTyxVQUFVLFVBQVU7QUFDaEMsYUFBTyxPQUFPLEVBQUUsT0FBTyxlQUFlLGFBQWEsTUFBTTtBQUFBLElBQzdELFdBQ1MsT0FBTyxVQUFVLFVBQVU7QUFDaEMsYUFBTyxPQUFPLEVBQUUsT0FBTyxlQUFlLGFBQWEsTUFBTTtBQUFBLElBQzdELFdBQ1MsTUFBTSxRQUFRLEtBQUssR0FBRztBQUMzQixhQUFPLE9BQU8sRUFBRSxPQUFPLGFBQWEsV0FBVyxNQUFNO0FBQUEsSUFDekQsV0FDUyxPQUFPLFVBQVUsVUFBVTtBQUNoQyxhQUFPLE9BQU8sRUFBRSxPQUFPLGVBQWUsYUFBYSxNQUFNO0FBQUEsSUFDN0QsV0FDUyxPQUFPLFVBQVUsYUFBYTtBQUNuQyxZQUFNLElBQUksTUFBTSxpQ0FBaUMsT0FBTyxLQUFLO0FBQUEsSUFDakU7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLE9BQU0sT0FBTztBQUNiLFdBQVMsT0FBTyxTQUFTO0FBQ3JCLFFBQUksUUFBUSxNQUFNLFVBQVUsYUFBYTtBQUNyQyxhQUFPO0FBQUEsSUFDWCxXQUNTLFFBQVEsTUFBTSxVQUFVLGVBQWU7QUFDNUMsYUFBTyxRQUFRLE1BQU07QUFBQSxJQUN6QixXQUNTLFFBQVEsTUFBTSxVQUFVLGVBQWU7QUFDNUMsYUFBTyxRQUFRLE1BQU07QUFBQSxJQUN6QixXQUNTLFFBQVEsTUFBTSxVQUFVLGFBQWE7QUFDMUMsYUFBTyxRQUFRLE1BQU07QUFBQSxJQUN6QixXQUNTLFFBQVEsTUFBTSxVQUFVLGVBQWU7QUFDNUMsYUFBTyxRQUFRLE1BQU07QUFBQSxJQUN6QixXQUNTLFFBQVEsTUFBTSxVQUFVLGFBQWE7QUFDMUMsYUFBTyxRQUFRLE1BQU07QUFBQSxJQUN6QixPQUNLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQ0EsRUFBQUEsT0FBTSxTQUFTO0FBQ25CLEdBQUcsVUFBVSxRQUFRLENBQUMsRUFBRTtBQUN4QixTQUFTLHNCQUFzQjtBQUMzQixTQUFPLEVBQUUsUUFBUSxDQUFDLEVBQUU7QUFDeEI7QUFJTyxJQUFJO0FBQUEsQ0FDVixTQUFVQyxZQUFXO0FBQ2xCLFdBQVMsT0FBTyxTQUFTLFNBQVMsaUJBQUFKLFFBQUksT0FBTyxPQUFPLEdBQUc7QUFDbkQsZUFBVyxLQUFLLFFBQVEsUUFBUTtBQUM1QixZQUFNLE9BQU8sTUFBTSxLQUFLLENBQUMsR0FBRyxPQUFPLE9BQU8sRUFBRSxFQUFFLEtBQUssQ0FBQyxFQUFFLE9BQU87QUFBQSxJQUNqRTtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUksV0FBVSxTQUFTO0FBQ25CLFdBQVMsT0FBTyxPQUFPSCxTQUFRO0FBQzNCLFVBQU0sU0FBUyxpQkFBaUIsaUJBQUFELFFBQUksU0FBUyxRQUFRLGlCQUFBQSxRQUFJLE9BQU8sT0FBTyxLQUFLO0FBQzVFLFFBQUksTUFBTUMsWUFBVyxTQUFZLE9BQU8sTUFBTSxPQUFPLE1BQU1BO0FBQzNELFVBQU0sVUFBVSxvQkFBb0I7QUFDcEMsV0FBTyxPQUFPLE1BQU0sS0FBSztBQUNyQixZQUFNLE1BQU0sT0FBTyxPQUFPO0FBQzFCLGNBQVEsUUFBUSxHQUFHO0FBQUEsUUFDZixLQUFLO0FBQ0QsY0FBSSxRQUFRLElBQUk7QUFDWjtBQUFBLFVBQ0o7QUFDQSxrQkFBUSxPQUFPLEtBQUssTUFBTSxPQUFPLE1BQU0sT0FBTyxRQUFRLE9BQU8sT0FBTyxDQUFDLENBQUMsQ0FBQztBQUN2RTtBQUFBLE1BQ1I7QUFDQSxXQUFLLE1BQU0sT0FBTyxLQUFLLFFBQVEsR0FBRztBQUM5QjtBQUFBLE1BQ0o7QUFDQSxhQUFPLFNBQVMsTUFBTSxDQUFDO0FBQUEsSUFDM0I7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFHLFdBQVUsU0FBUztBQUNuQixXQUFTLFNBQVMsUUFBUTtBQUN0QixXQUFPLEVBQUUsUUFBUSxNQUFNLFFBQVEsUUFBUSxNQUFNLElBQUksQ0FBQyxHQUFHLE9BQU8sTUFBTSxJQUFJLENBQUMsRUFBRTtBQUFBLEVBQzdFO0FBQ0EsRUFBQUEsV0FBVSxXQUFXO0FBQ3JCLFdBQVMsT0FBTyxTQUFTO0FBQ3JCLFVBQU0sTUFBTSxDQUFDO0FBQ2IsUUFBSSxRQUFRLFFBQVE7QUFDaEIsVUFBSSxTQUFTLFFBQVEsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0FBQUEsSUFDNUMsT0FDSztBQUNELFVBQUksU0FBUyxDQUFDO0FBQUEsSUFDbEI7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLFdBQVUsU0FBUztBQUNuQixXQUFTLEtBQUssT0FBTztBQUNqQixVQUFNLFNBQVMsb0JBQW9CO0FBQ25DLFdBQU8sU0FBUyxTQUFTLENBQUM7QUFDMUIsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxXQUFVLE9BQU87QUFDakIsV0FBUyxPQUFPLFNBQVM7QUFDckIsUUFBSSxTQUFTLGVBQWUsUUFBUSxLQUFLLE1BQU0sUUFBUSxRQUFRLE1BQU0sR0FBRztBQUNwRSxhQUFPLFFBQVE7QUFBQSxJQUNuQixPQUNLO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQ0EsRUFBQUEsV0FBVSxTQUFTO0FBQ3ZCLEdBQUcsY0FBYyxZQUFZLENBQUMsRUFBRTtBQUNoQyxJQUFNTixzQkFBcUIsTUFBTTtBQUM3QixNQUFJLE9BQU8sZUFBZSxhQUFhO0FBQ25DLFdBQU87QUFBQSxFQUNYO0FBQ0EsTUFBSSxPQUFPLFNBQVMsYUFBYTtBQUM3QixXQUFPO0FBQUEsRUFDWDtBQUNBLE1BQUksT0FBK0I7QUFDL0IsV0FBTztBQUFBLEVBQ1g7QUFDQSxNQUFJLE9BQU8sV0FBVyxhQUFhO0FBQy9CLFdBQU87QUFBQSxFQUNYO0FBQ0EsUUFBTTtBQUNWLEdBQUc7QUFDSCxTQUFTLFNBQVMsT0FBTztBQUNyQixTQUFPLE9BQU8sVUFBVSxZQUFZLFVBQVU7QUFDbEQ7QUFDQSxTQUFTLE1BQU0sT0FBTztBQUNsQixTQUFPLFVBQVUsUUFBUSxVQUFVO0FBQ3ZDOzs7QUQ5YUEsU0FBUywwQkFBMEI7QUFDL0IsU0FBTyxFQUFFLE1BQU0sT0FBVTtBQUM3QjtBQUlPLElBQUk7QUFBQSxDQUNWLFNBQVVPLGdCQUFlO0FBQ3RCLFdBQVMsT0FBTyxTQUFTLFNBQVMsaUJBQUFDLFFBQUksT0FBTyxPQUFPLEdBQUc7QUFDbkQsWUFBUSxRQUFRLE1BQU0sT0FBTztBQUFBLE1BQ3pCLEtBQUs7QUFDRCxjQUFNLE9BQU8sTUFBTSxLQUFLLFFBQVEsS0FBSyxJQUFJLEdBQUcsT0FBTyxPQUFPLEVBQUUsRUFBRSxLQUFLLENBQUMsRUFBRSxPQUFPO0FBQzdFO0FBQUEsTUFDSixLQUFLO0FBQ0QsZUFBTyxPQUFPLEVBQUUsRUFBRSxNQUFNLFFBQVEsS0FBSyxNQUFNO0FBQzNDO0FBQUEsSUFDUjtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUQsZUFBYyxTQUFTO0FBQ3ZCLFdBQVMsT0FBTyxPQUFPRSxTQUFRO0FBQzNCLFVBQU0sU0FBUyxpQkFBaUIsaUJBQUFELFFBQUksU0FBUyxRQUFRLGlCQUFBQSxRQUFJLE9BQU8sT0FBTyxLQUFLO0FBQzVFLFFBQUksTUFBTUMsWUFBVyxTQUFZLE9BQU8sTUFBTSxPQUFPLE1BQU1BO0FBQzNELFVBQU0sVUFBVSx3QkFBd0I7QUFDeEMsV0FBTyxPQUFPLE1BQU0sS0FBSztBQUNyQixZQUFNLE1BQU0sT0FBTyxPQUFPO0FBQzFCLGNBQVEsUUFBUSxHQUFHO0FBQUEsUUFDZixLQUFLO0FBQ0QsY0FBSSxRQUFRLElBQUk7QUFDWjtBQUFBLFVBQ0o7QUFDQSxrQkFBUSxPQUFPLEVBQUUsT0FBTyxRQUFRLE1BQU0sTUFBTSxPQUFPLE1BQU0sT0FBTyxRQUFRLE9BQU8sT0FBTyxDQUFDLENBQUMsRUFBRTtBQUMxRjtBQUFBLFFBQ0osS0FBSztBQUNELGNBQUksUUFBUSxJQUFJO0FBQ1o7QUFBQSxVQUNKO0FBQ0Esa0JBQVEsT0FBTyxFQUFFLE9BQU8sVUFBVSxRQUFRLE9BQU8sTUFBTSxFQUFFO0FBQ3pEO0FBQUEsTUFDUjtBQUNBLFdBQUssTUFBTSxPQUFPLEtBQUssUUFBUSxHQUFHO0FBQzlCO0FBQUEsTUFDSjtBQUNBLGFBQU8sU0FBUyxNQUFNLENBQUM7QUFBQSxJQUMzQjtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUYsZUFBYyxTQUFTO0FBQ3ZCLFdBQVMsU0FBUyxRQUFRO0FBQ3RCLFdBQU87QUFBQSxNQUNILE1BQU1HLE9BQU0sT0FBTyxJQUFJLElBQ2pCLEVBQUUsT0FBTyxRQUFRLE1BQU0sT0FBTyxLQUFLLElBQ25DQSxPQUFNLE9BQU8sTUFBTSxJQUNmLEVBQUUsT0FBTyxVQUFVLFFBQVEsZ0JBQWdCLE9BQU8sTUFBTSxFQUFFLElBQzFEO0FBQUEsSUFDZDtBQUFBLEVBQ0o7QUFDQSxFQUFBSCxlQUFjLFdBQVc7QUFDekIsV0FBUyxPQUFPLFNBQVM7QUFDckIsVUFBTSxNQUFNLENBQUM7QUFDYixZQUFRLE1BQU0sVUFBVSxXQUFXLElBQUksT0FBTyxRQUFRLE1BQU07QUFDNUQsWUFBUSxNQUFNLFVBQVUsYUFDbkIsSUFBSSxTQUFTLFFBQVEsTUFBTSxXQUFXLFNBQVksZ0JBQWdCLFFBQVEsTUFBTSxNQUFNLElBQUk7QUFDL0YsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxlQUFjLFNBQVM7QUFDM0IsR0FBRyxrQkFBa0IsZ0JBQWdCLENBQUMsRUFBRTtBQUN4QyxTQUFTLCtCQUErQjtBQUNwQyxTQUFPLEVBQUUsTUFBTSxJQUFJLFlBQVksUUFBVyxNQUFNLG9CQUFJLElBQUksRUFBRTtBQUM5RDtBQUlPLElBQUk7QUFBQSxDQUNWLFNBQVVJLHFCQUFvQjtBQUMzQixXQUFTLE9BQU8sU0FBUyxTQUFTLGlCQUFBSCxRQUFJLE9BQU8sT0FBTyxHQUFHO0FBQ25ELFFBQUksUUFBUSxTQUFTLElBQUk7QUFDckIsYUFBTyxPQUFPLEVBQUUsRUFBRSxPQUFPLFFBQVEsSUFBSTtBQUFBLElBQ3pDO0FBQ0EsUUFBSSxRQUFRLGVBQWUsUUFBVztBQUNsQyxZQUFNLE9BQU8sTUFBTSxLQUFLLFFBQVEsVUFBVSxHQUFHLE9BQU8sT0FBTyxFQUFFLEVBQUUsS0FBSyxDQUFDLEVBQUUsT0FBTztBQUFBLElBQ2xGO0FBQ0EsWUFBUSxLQUFLLFFBQVEsQ0FBQyxPQUFPLFFBQVE7QUFDakMsbUNBQTZCLE9BQU8sRUFBRSxLQUFVLE1BQU0sR0FBRyxPQUFPLE9BQU8sRUFBRSxFQUFFLEtBQUssQ0FBQyxFQUFFLE9BQU87QUFBQSxJQUM5RixDQUFDO0FBQ0QsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBRyxvQkFBbUIsU0FBUztBQUM1QixXQUFTLE9BQU8sT0FBT0YsU0FBUTtBQUMzQixVQUFNLFNBQVMsaUJBQWlCLGlCQUFBRCxRQUFJLFNBQVMsUUFBUSxpQkFBQUEsUUFBSSxPQUFPLE9BQU8sS0FBSztBQUM1RSxRQUFJLE1BQU1DLFlBQVcsU0FBWSxPQUFPLE1BQU0sT0FBTyxNQUFNQTtBQUMzRCxVQUFNLFVBQVUsNkJBQTZCO0FBQzdDLFdBQU8sT0FBTyxNQUFNLEtBQUs7QUFDckIsWUFBTSxNQUFNLE9BQU8sT0FBTztBQUMxQixjQUFRLFFBQVEsR0FBRztBQUFBLFFBQ2YsS0FBSztBQUNELGNBQUksUUFBUSxJQUFJO0FBQ1o7QUFBQSxVQUNKO0FBQ0Esa0JBQVEsT0FBTyxPQUFPLE9BQU87QUFDN0I7QUFBQSxRQUNKLEtBQUs7QUFDRCxjQUFJLFFBQVEsSUFBSTtBQUNaO0FBQUEsVUFDSjtBQUNBLGtCQUFRLGFBQWEsTUFBTSxPQUFPLE1BQU0sT0FBTyxRQUFRLE9BQU8sT0FBTyxDQUFDLENBQUM7QUFDdkU7QUFBQSxRQUNKLEtBQUs7QUFDRCxjQUFJLFFBQVEsSUFBSTtBQUNaO0FBQUEsVUFDSjtBQUNBLGdCQUFNLFNBQVMsNkJBQTZCLE9BQU8sUUFBUSxPQUFPLE9BQU8sQ0FBQztBQUMxRSxjQUFJLE9BQU8sVUFBVSxRQUFXO0FBQzVCLG9CQUFRLEtBQUssSUFBSSxPQUFPLEtBQUssT0FBTyxLQUFLO0FBQUEsVUFDN0M7QUFDQTtBQUFBLE1BQ1I7QUFDQSxXQUFLLE1BQU0sT0FBTyxLQUFLLFFBQVEsR0FBRztBQUM5QjtBQUFBLE1BQ0o7QUFDQSxhQUFPLFNBQVMsTUFBTSxDQUFDO0FBQUEsSUFDM0I7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFFLG9CQUFtQixTQUFTO0FBQzVCLFdBQVMsU0FBUyxRQUFRO0FBQ3RCLFdBQU87QUFBQSxNQUNILE1BQU1ELE9BQU0sT0FBTyxJQUFJLElBQUksT0FBTyxPQUFPLElBQUksSUFBSTtBQUFBLE1BQ2pELFlBQVlBLE9BQU0sUUFBUSxVQUFVLElBQUksT0FBTyxhQUFhO0FBQUEsTUFDNUQsTUFBTUUsVUFBUyxPQUFPLElBQUksSUFDcEIsT0FBTyxRQUFRLE9BQU8sSUFBSSxFQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxLQUFLLE1BQU07QUFDeEQsWUFBSSxJQUFJLE9BQU8sR0FBRyxHQUFHLGNBQWMsU0FBUyxLQUFLLENBQUM7QUFDbEQsZUFBTztBQUFBLE1BQ1gsR0FBRyxvQkFBSSxJQUFJLENBQUMsSUFDVixvQkFBSSxJQUFJO0FBQUEsSUFDbEI7QUFBQSxFQUNKO0FBQ0EsRUFBQUQsb0JBQW1CLFdBQVc7QUFDOUIsV0FBUyxPQUFPLFNBQVM7QUFDckIsVUFBTSxNQUFNLENBQUM7QUFDYixZQUFRLFNBQVMsV0FBYyxJQUFJLE9BQU8sUUFBUTtBQUNsRCxZQUFRLGVBQWUsV0FBYyxJQUFJLGFBQWEsUUFBUTtBQUM5RCxRQUFJLE9BQU8sQ0FBQztBQUNaLFFBQUksUUFBUSxNQUFNO0FBQ2QsY0FBUSxLQUFLLFFBQVEsQ0FBQyxHQUFHLE1BQU07QUFDM0IsWUFBSSxLQUFLLENBQUMsSUFBSSxjQUFjLE9BQU8sQ0FBQztBQUFBLE1BQ3hDLENBQUM7QUFBQSxJQUNMO0FBQ0EsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxvQkFBbUIsU0FBUztBQUNoQyxHQUFHLHVCQUF1QixxQkFBcUIsQ0FBQyxFQUFFO0FBQ2xELFNBQVMseUNBQXlDO0FBQzlDLFNBQU8sRUFBRSxLQUFLLEdBQUcsT0FBTyxPQUFVO0FBQ3RDO0FBSU8sSUFBSTtBQUFBLENBQ1YsU0FBVUUsK0JBQThCO0FBQ3JDLFdBQVMsT0FBTyxTQUFTLFNBQVMsaUJBQUFMLFFBQUksT0FBTyxPQUFPLEdBQUc7QUFDbkQsUUFBSSxRQUFRLFFBQVEsR0FBRztBQUNuQixhQUFPLE9BQU8sQ0FBQyxFQUFFLE1BQU0sUUFBUSxHQUFHO0FBQUEsSUFDdEM7QUFDQSxRQUFJLFFBQVEsVUFBVSxRQUFXO0FBQzdCLG9CQUFjLE9BQU8sUUFBUSxPQUFPLE9BQU8sT0FBTyxFQUFFLEVBQUUsS0FBSyxDQUFDLEVBQUUsT0FBTztBQUFBLElBQ3pFO0FBQ0EsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBSyw4QkFBNkIsU0FBUztBQUN0QyxXQUFTLE9BQU8sT0FBT0osU0FBUTtBQUMzQixVQUFNLFNBQVMsaUJBQWlCLGlCQUFBRCxRQUFJLFNBQVMsUUFBUSxpQkFBQUEsUUFBSSxPQUFPLE9BQU8sS0FBSztBQUM1RSxRQUFJLE1BQU1DLFlBQVcsU0FBWSxPQUFPLE1BQU0sT0FBTyxNQUFNQTtBQUMzRCxVQUFNLFVBQVUsdUNBQXVDO0FBQ3ZELFdBQU8sT0FBTyxNQUFNLEtBQUs7QUFDckIsWUFBTSxNQUFNLE9BQU8sT0FBTztBQUMxQixjQUFRLFFBQVEsR0FBRztBQUFBLFFBQ2YsS0FBSztBQUNELGNBQUksUUFBUSxHQUFHO0FBQ1g7QUFBQSxVQUNKO0FBQ0Esa0JBQVEsTUFBTSxPQUFPLE1BQU07QUFDM0I7QUFBQSxRQUNKLEtBQUs7QUFDRCxjQUFJLFFBQVEsSUFBSTtBQUNaO0FBQUEsVUFDSjtBQUNBLGtCQUFRLFFBQVEsY0FBYyxPQUFPLFFBQVEsT0FBTyxPQUFPLENBQUM7QUFDNUQ7QUFBQSxNQUNSO0FBQ0EsV0FBSyxNQUFNLE9BQU8sS0FBSyxRQUFRLEdBQUc7QUFDOUI7QUFBQSxNQUNKO0FBQ0EsYUFBTyxTQUFTLE1BQU0sQ0FBQztBQUFBLElBQzNCO0FBQ0EsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBSSw4QkFBNkIsU0FBUztBQUN0QyxXQUFTLFNBQVMsUUFBUTtBQUN0QixXQUFPO0FBQUEsTUFDSCxLQUFLSCxPQUFNLE9BQU8sR0FBRyxJQUFJLE9BQU8sT0FBTyxHQUFHLElBQUk7QUFBQSxNQUM5QyxPQUFPQSxPQUFNLE9BQU8sS0FBSyxJQUFJLGNBQWMsU0FBUyxPQUFPLEtBQUssSUFBSTtBQUFBLElBQ3hFO0FBQUEsRUFDSjtBQUNBLEVBQUFHLDhCQUE2QixXQUFXO0FBQ3hDLFdBQVMsT0FBTyxTQUFTO0FBQ3JCLFVBQU0sTUFBTSxDQUFDO0FBQ2IsWUFBUSxRQUFRLFdBQWMsSUFBSSxNQUFNLEtBQUssTUFBTSxRQUFRLEdBQUc7QUFDOUQsWUFBUSxVQUFVLFdBQWMsSUFBSSxRQUFRLFFBQVEsUUFBUSxjQUFjLE9BQU8sUUFBUSxLQUFLLElBQUk7QUFDbEcsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSw4QkFBNkIsU0FBUztBQUMxQyxHQUFHLGlDQUFpQywrQkFBK0IsQ0FBQyxFQUFFO0FBQ3RFLFNBQVMsZ0NBQWdDO0FBQ3JDLFNBQU8sRUFBRSxTQUFTLEdBQUcsWUFBWSxDQUFDLEVBQUU7QUFDeEM7QUFJTyxJQUFJO0FBQUEsQ0FDVixTQUFVQyxzQkFBcUI7QUFDNUIsV0FBUyxPQUFPLFNBQVMsU0FBUyxpQkFBQU4sUUFBSSxPQUFPLE9BQU8sR0FBRztBQUNuRCxRQUFJLFFBQVEsWUFBWSxHQUFHO0FBQ3ZCLGFBQU8sT0FBTyxDQUFDLEVBQUUsTUFBTSxRQUFRLE9BQU87QUFBQSxJQUMxQztBQUNBLGVBQVcsS0FBSyxRQUFRLFlBQVk7QUFDaEMseUJBQW1CLE9BQU8sR0FBRyxPQUFPLE9BQU8sRUFBRSxFQUFFLEtBQUssQ0FBQyxFQUFFLE9BQU87QUFBQSxJQUNsRTtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQU0scUJBQW9CLFNBQVM7QUFDN0IsV0FBUyxPQUFPLE9BQU9MLFNBQVE7QUFDM0IsVUFBTSxTQUFTLGlCQUFpQixpQkFBQUQsUUFBSSxTQUFTLFFBQVEsaUJBQUFBLFFBQUksT0FBTyxPQUFPLEtBQUs7QUFDNUUsUUFBSSxNQUFNQyxZQUFXLFNBQVksT0FBTyxNQUFNLE9BQU8sTUFBTUE7QUFDM0QsVUFBTSxVQUFVLDhCQUE4QjtBQUM5QyxXQUFPLE9BQU8sTUFBTSxLQUFLO0FBQ3JCLFlBQU0sTUFBTSxPQUFPLE9BQU87QUFDMUIsY0FBUSxRQUFRLEdBQUc7QUFBQSxRQUNmLEtBQUs7QUFDRCxjQUFJLFFBQVEsR0FBRztBQUNYO0FBQUEsVUFDSjtBQUNBLGtCQUFRLFVBQVUsT0FBTyxNQUFNO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQ0QsY0FBSSxRQUFRLElBQUk7QUFDWjtBQUFBLFVBQ0o7QUFDQSxrQkFBUSxXQUFXLEtBQUssbUJBQW1CLE9BQU8sUUFBUSxPQUFPLE9BQU8sQ0FBQyxDQUFDO0FBQzFFO0FBQUEsTUFDUjtBQUNBLFdBQUssTUFBTSxPQUFPLEtBQUssUUFBUSxHQUFHO0FBQzlCO0FBQUEsTUFDSjtBQUNBLGFBQU8sU0FBUyxNQUFNLENBQUM7QUFBQSxJQUMzQjtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUsscUJBQW9CLFNBQVM7QUFDN0IsV0FBUyxTQUFTLFFBQVE7QUFDdEIsV0FBTztBQUFBLE1BQ0gsU0FBU0osT0FBTSxPQUFPLE9BQU8sSUFBSSxPQUFPLE9BQU8sT0FBTyxJQUFJO0FBQUEsTUFDMUQsWUFBWSxNQUFNLFFBQVEsUUFBUSxVQUFVLElBQ3RDLE9BQU8sV0FBVyxJQUFJLENBQUMsTUFBTSxtQkFBbUIsU0FBUyxDQUFDLENBQUMsSUFDM0QsQ0FBQztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQ0EsRUFBQUkscUJBQW9CLFdBQVc7QUFDL0IsV0FBUyxPQUFPLFNBQVM7QUFDckIsVUFBTSxNQUFNLENBQUM7QUFDYixZQUFRLFlBQVksV0FBYyxJQUFJLFVBQVUsS0FBSyxNQUFNLFFBQVEsT0FBTztBQUMxRSxRQUFJLFFBQVEsWUFBWTtBQUNwQixVQUFJLGFBQWEsUUFBUSxXQUFXLElBQUksQ0FBQyxNQUFNLElBQUksbUJBQW1CLE9BQU8sQ0FBQyxJQUFJLE1BQVM7QUFBQSxJQUMvRixPQUNLO0FBQ0QsVUFBSSxhQUFhLENBQUM7QUFBQSxJQUN0QjtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUEscUJBQW9CLFNBQVM7QUFDakMsR0FBRyx3QkFBd0Isc0JBQXNCLENBQUMsRUFBRTtBQUNwRCxJQUFNQyxzQkFBcUIsTUFBTTtBQUM3QixNQUFJLE9BQU8sZUFBZSxhQUFhO0FBQ25DLFdBQU87QUFBQSxFQUNYO0FBQ0EsTUFBSSxPQUFPLFNBQVMsYUFBYTtBQUM3QixXQUFPO0FBQUEsRUFDWDtBQUNBLE1BQUksT0FBK0I7QUFDL0IsV0FBTztBQUFBLEVBQ1g7QUFDQSxNQUFJLE9BQU8sV0FBVyxhQUFhO0FBQy9CLFdBQU87QUFBQSxFQUNYO0FBQ0EsUUFBTTtBQUNWLEdBQUc7QUFDSCxTQUFTLGdCQUFnQixLQUFLO0FBQzFCLE1BQUlBLG1CQUFrQixRQUFRO0FBQzFCLFdBQU8sV0FBVyxLQUFLQSxtQkFBa0IsT0FBTyxLQUFLLEtBQUssUUFBUSxDQUFDO0FBQUEsRUFDdkUsT0FDSztBQUNELFVBQU0sTUFBTUEsbUJBQWtCLEtBQUssR0FBRztBQUN0QyxVQUFNLE1BQU0sSUFBSSxXQUFXLElBQUksTUFBTTtBQUNyQyxhQUFTLElBQUksR0FBRyxJQUFJLElBQUksUUFBUSxFQUFFLEdBQUc7QUFDakMsVUFBSSxDQUFDLElBQUksSUFBSSxXQUFXLENBQUM7QUFBQSxJQUM3QjtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQ0o7QUFDQSxTQUFTLGdCQUFnQixLQUFLO0FBQzFCLE1BQUlBLG1CQUFrQixRQUFRO0FBQzFCLFdBQU9BLG1CQUFrQixPQUFPLEtBQUssR0FBRyxFQUFFLFNBQVMsUUFBUTtBQUFBLEVBQy9ELE9BQ0s7QUFDRCxVQUFNLE1BQU0sQ0FBQztBQUNiLFFBQUksUUFBUSxDQUFDLFNBQVM7QUFDbEIsVUFBSSxLQUFLLE9BQU8sYUFBYSxJQUFJLENBQUM7QUFBQSxJQUN0QyxDQUFDO0FBQ0QsV0FBT0EsbUJBQWtCLEtBQUssSUFBSSxLQUFLLEVBQUUsQ0FBQztBQUFBLEVBQzlDO0FBQ0o7QUFDQSxTQUFTSCxVQUFTLE9BQU87QUFDckIsU0FBTyxPQUFPLFVBQVUsWUFBWSxVQUFVO0FBQ2xEO0FBQ0EsU0FBU0YsT0FBTSxPQUFPO0FBQ2xCLFNBQU8sVUFBVSxRQUFRLFVBQVU7QUFDdkM7OztBRWhVTyxJQUFJO0FBQUEsQ0FDVixTQUFVTSxZQUFXO0FBRWxCLFdBQVMsU0FBUyxRQUFRO0FBQ3RCLFdBQU8sb0JBQW9CLFNBQVMsTUFBTTtBQUFBLEVBQzlDO0FBQ0EsRUFBQUEsV0FBVSxXQUFXO0FBRXJCLFdBQVMsV0FBV0MsU0FBUTtBQUN4QixXQUFPLG9CQUFvQixPQUFPQSxPQUFNO0FBQUEsRUFDNUM7QUFDQSxFQUFBRCxXQUFVLGFBQWE7QUFFdkIsV0FBUyxPQUFPLFdBQVc7QUFDdkIsV0FBTyxvQkFBb0IsT0FBTyxTQUFTO0FBQUEsRUFDL0M7QUFDQSxFQUFBQSxXQUFVLFNBQVM7QUFFbkIsV0FBUyxTQUFTLFdBQVc7QUFDekIsV0FBTyxvQkFBb0IsT0FBTyxTQUFTLEVBQUUsT0FBTztBQUFBLEVBQ3hEO0FBQ0EsRUFBQUEsV0FBVSxXQUFXO0FBU1AsV0FBUyxTQUFTRSxTQUFRLGVBQWVDLG9CQUFtQixVQUFVLENBQUMsR0FBRztBQUNwRixzQkFBa0JELFNBQVEsZUFBZUMsb0JBQW1CLE9BQU87QUFBQSxFQUN2RTtBQUNBLEVBQUFILFdBQVUsV0FBVztBQVNQLFdBQVMsd0JBQXdCLEtBQUssTUFBTSxLQUFLO0FBQzNELFdBQU8saUJBQWlCLEtBQUssR0FBRztBQUFBLEVBQ3BDO0FBQ0EsRUFBQUEsV0FBVSwwQkFBMEI7QUFDeEMsR0FBRyxjQUFjLFlBQVksQ0FBQyxFQUFFOzs7QUNuQ3pCLElBQU1JLGFBQTJCLGdCQUFXLFVBQVUsTUFBTTtBQUU1RCxJQUFNQyxlQUE2QixnQkFBV0EsYUFBWSxNQUFNO0FBRWhFLElBQU1DLFlBQTBCLGdCQUFXQSxVQUFTLE1BQU07QUFDMUQsSUFBTUMsZ0JBQThCLGdCQUFXQSxjQUFhLE1BQU07QUFFbEUsSUFBTUMsUUFBa0IsS0FBSyxNQUFNO0FBQ25DLElBQU1DLFFBQWtCLEtBQUssTUFBTTs7O0FDekJuQyxJQUFNLGVBQWUsSUFBSTtBQUt6QixJQUFNLGdCQUFnQjtBQUt0QixJQUFNLFVBQVU7QUFLaEIsSUFBTSxVQUFVLEtBQUssS0FBSztBQUsxQixJQUFNLFVBQVUsT0FBTyxLQUFLLEtBQUs7OztBQ3BCakMsSUFBSTtBQUFBLENBQ1YsU0FBVUMsU0FBUTtBQUlmLEVBQUFBLFFBQU8sUUFBUSxLQUFLLEtBQUs7QUFRekIsV0FBUyxjQUFjLEdBQUcsR0FBRyxVQUFVLGFBQWM7QUFDakQsVUFBTSxNQUFNLElBQUk7QUFDaEIsV0FBTyxDQUFDLFdBQVcsT0FBTyxPQUFPO0FBQUEsRUFDckM7QUFDQSxFQUFBQSxRQUFPLGdCQUFnQjtBQU12QixXQUFTLE1BQU0sR0FBRztBQUNkLFVBQU0sTUFBTSxFQUFFLFNBQVMsRUFBRTtBQUN6QixRQUFJLEtBQUssSUFBSTtBQUNULGNBQVEsTUFBTSxLQUFLLFlBQVk7QUFBQSxJQUNuQztBQUNBLFdBQU8sSUFBSSxZQUFZO0FBQUEsRUFDM0I7QUFDQSxFQUFBQSxRQUFPLFFBQVE7QUFNZixXQUFTLEtBQUssT0FBTztBQUNqQixVQUFNLFNBQVMsQ0FBQztBQUNoQixRQUFJLFdBQVcsS0FBSyxNQUFNLE1BQU0sR0FBRztBQUMvQixhQUFPO0FBQUEsSUFDWDtBQUNBLFdBQU8sU0FBUyxJQUFJLElBQUk7QUFBQSxFQUM1QjtBQUNBLEVBQUFBLFFBQU8sT0FBTztBQVVkLFdBQVMsTUFBTSxPQUFPLE1BQU0sR0FBRyxNQUFNLEdBQUc7QUFDcEMsV0FBTyxLQUFLLElBQUksS0FBSyxLQUFLLElBQUksS0FBSyxLQUFLLENBQUM7QUFBQSxFQUM3QztBQUNBLEVBQUFBLFFBQU8sUUFBUTtBQU1mLFdBQVMsS0FBSyxPQUFPO0FBQ2pCLFdBQU8sS0FBSyxJQUFJLEtBQUssSUFBSSxLQUFLO0FBQUEsRUFDbEM7QUFDQSxFQUFBQSxRQUFPLE9BQU87QUFZZCxXQUFTLE9BQU8sT0FBT0MsU0FBUTtBQUMzQixXQUFPLFFBQVEsS0FBSyxNQUFNLFFBQVFBLE9BQU0sSUFBSUE7QUFBQSxFQUNoRDtBQUNBLEVBQUFELFFBQU8sU0FBUztBQVFoQixXQUFTLFVBQVUsT0FBTyxLQUFLLEtBQUs7QUFDaEMsWUFBUSxRQUFRLFFBQVEsTUFBTTtBQUFBLEVBQ2xDO0FBQ0EsRUFBQUEsUUFBTyxZQUFZO0FBUW5CLFdBQVMsWUFBWSxZQUFZLEtBQUssS0FBSztBQUN2QyxXQUFPLGNBQWMsTUFBTSxPQUFPO0FBQUEsRUFDdEM7QUFDQSxFQUFBQSxRQUFPLGNBQWM7QUFPckIsV0FBUyxXQUFXLFNBQVMsUUFBUTtBQUNqQyxRQUFJLE1BQU0sT0FBTyxTQUFTLFNBQVMsR0FBSztBQUN4QyxRQUFJLE1BQU0sS0FBTztBQUNiLGFBQU87QUFBQSxJQUNYO0FBQ0EsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLGFBQWE7QUFPcEIsV0FBUyxTQUFTLElBQUlDLFNBQVE7QUFDMUIsVUFBTSxJQUFJLE9BQU8sSUFBSUEsVUFBUyxDQUFHO0FBQ2pDLFdBQU9BLFVBQVMsS0FBSyxJQUFJLElBQUlBLE9BQU07QUFBQSxFQUN2QztBQUNBLEVBQUFELFFBQU8sV0FBVztBQVdsQixXQUFTLFdBQVcsTUFBTSxJQUFJLElBQUk7QUFDOUIsUUFBSSxJQUFJLE1BQU0sRUFBRTtBQUNoQixRQUFJLEtBQU8sSUFBSSxJQUFJLElBQUksSUFBTSxJQUFJO0FBQ2pDLFdBQU8sS0FBSyxJQUFJLFFBQVEsSUFBTTtBQUFBLEVBQ2xDO0FBQ0EsRUFBQUEsUUFBTyxhQUFhO0FBV3BCLFdBQVMsWUFBWSxTQUFTLFFBQVEsVUFBVTtBQUM1QyxRQUFJLFNBQVM7QUFDYixRQUFJLEtBQUssSUFBSSxTQUFTLE9BQU8sS0FBSyxVQUFVO0FBQ3hDLGVBQVM7QUFBQSxJQUNiLE9BQ0s7QUFDRCxlQUFTLFVBQVUsS0FBSyxTQUFTLE9BQU8sSUFBSTtBQUFBLElBQ2hEO0FBQ0EsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLGNBQWM7QUFXckIsV0FBUyxpQkFBaUIsU0FBUyxRQUFRLFVBQVU7QUFDakQsVUFBTSxNQUFNLFdBQVcsU0FBUyxNQUFNO0FBQ3RDLFFBQUksU0FBUztBQUNiLFFBQUksQ0FBQyxXQUFXLE9BQU8sTUFBTSxVQUFVO0FBQ25DLGVBQVM7QUFBQSxJQUNiLE9BQ0s7QUFDRCxlQUFTLFlBQVksU0FBUyxVQUFVLEtBQUssUUFBUTtBQUFBLElBQ3pEO0FBQ0EsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLG1CQUFtQjtBQVExQixXQUFTLEtBQUssT0FBTyxLQUFLLFFBQVE7QUFDOUIsV0FBTyxTQUFTLE1BQU0sU0FBUztBQUFBLEVBQ25DO0FBQ0EsRUFBQUEsUUFBTyxPQUFPO0FBU2QsV0FBUyxVQUFVLE9BQU8sS0FBSyxRQUFRO0FBQ25DLFFBQUksTUFBTSxPQUFPLE1BQU0sT0FBTyxHQUFLO0FBQ25DLFFBQUksTUFBTSxLQUFPO0FBQ2IsYUFBTztBQUFBLElBQ1g7QUFDQSxXQUFPLFFBQVEsTUFBTSxNQUFNLE1BQU07QUFBQSxFQUNyQztBQUNBLEVBQUFBLFFBQU8sWUFBWTtBQVFuQixXQUFTLFlBQVksR0FBRyxHQUFHLE9BQU87QUFDOUIsUUFBSSxTQUFTO0FBQ2IsUUFBSSxNQUFNLEdBQUc7QUFDVCxlQUFTLE9BQU8sUUFBUSxNQUFNLElBQUksRUFBRTtBQUFBLElBQ3hDLE9BQ0s7QUFDRCxlQUFTO0FBQUEsSUFDYjtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUEsUUFBTyxjQUFjO0FBV3JCLFdBQVMsUUFBUSxRQUFRLFVBQVUsUUFBUSxVQUFVLFFBQVE7QUFDekQsVUFBTSxVQUFVLFNBQVM7QUFDekIsVUFBTSxRQUFRLFNBQVM7QUFDdkIsVUFBTSxRQUFRLElBQU0sUUFBUSxJQUFNLFVBQVU7QUFDNUMsVUFBTSxRQUFRLEtBQU8sUUFBUSxJQUFNO0FBQ25DLFVBQU0sUUFBUSxRQUFRLElBQU0sVUFBVTtBQUN0QyxVQUFNLFFBQVEsUUFBUTtBQUN0QixXQUFPLFNBQVMsUUFBUSxTQUFTLFFBQVEsV0FBVyxRQUFRLFdBQVc7QUFBQSxFQUMzRTtBQUNBLEVBQUFBLFFBQU8sVUFBVTtBQU9qQixXQUFTLFlBQVksS0FBSyxLQUFLO0FBQzNCLFFBQUksUUFBUSxLQUFLO0FBQ2IsYUFBTztBQUFBLElBQ1g7QUFDQSxXQUFPLEtBQUssT0FBTyxLQUFLLE1BQU0sT0FBTztBQUFBLEVBQ3pDO0FBQ0EsRUFBQUEsUUFBTyxjQUFjO0FBV3JCLFdBQVMsZUFBZSxLQUFLLEtBQUssS0FBSztBQUNuQyxZQUFRLE1BQU0sUUFBUSxNQUFNO0FBQUEsRUFDaEM7QUFDQSxFQUFBQSxRQUFPLGlCQUFpQjtBQVV4QixXQUFTLGVBQWUsU0FBUyxLQUFLLEtBQUs7QUFDdkMsWUFBUSxNQUFNLE9BQU8sVUFBVTtBQUFBLEVBQ25DO0FBQ0EsRUFBQUEsUUFBTyxpQkFBaUI7QUFNeEIsV0FBUyxpQkFBaUIsT0FBTztBQVc3QixXQUFPLFFBQVFBLFFBQU8sUUFBUSxLQUFLLE9BQU8sUUFBUSxLQUFLLE1BQU1BLFFBQU8sS0FBSztBQUFBLEVBQzdFO0FBQ0EsRUFBQUEsUUFBTyxtQkFBbUI7QUFDOUIsR0FBRyxXQUFXLFNBQVMsQ0FBQyxFQUFFOzs7QUN6U25CLElBQUlFO0FBQUEsQ0FDVixTQUFVQSxVQUFTO0FBS2hCLFdBQVMsYUFBYSxRQUFRO0FBQzFCLFVBQU0sT0FBTyxLQUFLLElBQUksT0FBTyxDQUFDO0FBQzlCLFVBQU0sT0FBTyxLQUFLLElBQUksT0FBTyxDQUFDO0FBQzlCLFFBQUksU0FBUyxNQUFNO0FBQ2YsYUFBTztBQUFBLElBQ1g7QUFDQSxVQUFNLE9BQU8sS0FBSyxJQUFJLE9BQU8sQ0FBQztBQUM5QixRQUFJLFNBQVMsTUFBTTtBQUNmLGFBQU87QUFBQSxJQUNYO0FBQ0EsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxTQUFRLGVBQWU7QUFPdkIsV0FBUyxPQUlULElBQUksR0FJSixJQUFJLEdBSUosSUFBSSxHQUFHO0FBQ0gsV0FBTyxFQUFFLEdBQUcsR0FBRyxFQUFFO0FBQUEsRUFDckI7QUFDQSxFQUFBQSxTQUFRLFNBQVM7QUFPakIsV0FBU0MsS0FBSSxTQUFTLFNBQVM7QUFDM0IsV0FBTztBQUFBLE1BQ0gsR0FBRyxRQUFRLElBQUksUUFBUTtBQUFBLE1BQ3ZCLEdBQUcsUUFBUSxJQUFJLFFBQVE7QUFBQSxNQUN2QixHQUFHLFFBQVEsSUFBSSxRQUFRO0FBQUEsSUFDM0I7QUFBQSxFQUNKO0FBQ0EsRUFBQUQsU0FBUSxNQUFNQztBQU9kLFdBQVMsU0FBUyxTQUFTLFNBQVMsUUFBUTtBQUN4QyxXQUFPLElBQUksUUFBUSxJQUFJLFFBQVE7QUFDL0IsV0FBTyxJQUFJLFFBQVEsSUFBSSxRQUFRO0FBQy9CLFdBQU8sSUFBSSxRQUFRLElBQUksUUFBUTtBQUFBLEVBQ25DO0FBQ0EsRUFBQUQsU0FBUSxXQUFXO0FBS25CLFdBQVNFLFVBQVMsU0FBUyxTQUFTO0FBQ2hDLFdBQU87QUFBQSxNQUNILEdBQUcsUUFBUSxJQUFJLFFBQVE7QUFBQSxNQUN2QixHQUFHLFFBQVEsSUFBSSxRQUFRO0FBQUEsTUFDdkIsR0FBRyxRQUFRLElBQUksUUFBUTtBQUFBLElBQzNCO0FBQUEsRUFDSjtBQUNBLEVBQUFGLFNBQVEsV0FBV0U7QUFPbkIsV0FBUyxjQUFjLFNBQVMsU0FBUyxRQUFRO0FBQzdDLFdBQU8sSUFBSSxRQUFRLElBQUksUUFBUTtBQUMvQixXQUFPLElBQUksUUFBUSxJQUFJLFFBQVE7QUFDL0IsV0FBTyxJQUFJLFFBQVEsSUFBSSxRQUFRO0FBQUEsRUFDbkM7QUFDQSxFQUFBRixTQUFRLGdCQUFnQjtBQVF4QixXQUFTLHdCQUF3QixTQUFTLEdBQUcsR0FBRyxHQUFHLFFBQVE7QUFDdkQsV0FBTyxJQUFJLFFBQVEsSUFBSTtBQUN2QixXQUFPLElBQUksUUFBUSxJQUFJO0FBQ3ZCLFdBQU8sSUFBSSxRQUFRLElBQUk7QUFBQSxFQUMzQjtBQUNBLEVBQUFBLFNBQVEsMEJBQTBCO0FBS2xDLFdBQVNHLFFBQU8sT0FBTztBQUNuQixXQUFPLEVBQUUsR0FBRyxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUU7QUFBQSxFQUNuRDtBQUNBLEVBQUFILFNBQVEsU0FBU0c7QUFLakIsV0FBUyxTQUFTLFFBQVEsTUFBTTtBQUM1QixTQUFLLElBQUksT0FBTztBQUNoQixTQUFLLElBQUksT0FBTztBQUNoQixTQUFLLElBQUksT0FBTztBQUFBLEVBQ3BCO0FBQ0EsRUFBQUgsU0FBUSxXQUFXO0FBUW5CLFdBQVMsZUFBZSxHQUFHLEdBQUcsR0FBRyxNQUFNO0FBQ25DLFNBQUssSUFBSTtBQUNULFNBQUssSUFBSTtBQUNULFNBQUssSUFBSTtBQUFBLEVBQ2I7QUFDQSxFQUFBQSxTQUFRLGlCQUFpQjtBQUt6QixXQUFTLE1BQU0sUUFBUTtBQUNuQixXQUFPLE9BQU8sT0FBTyxHQUFHLE9BQU8sR0FBRyxPQUFPLENBQUM7QUFBQSxFQUM5QztBQUNBLEVBQUFBLFNBQVEsUUFBUTtBQVNoQixXQUFTLGNBQWMsU0FBUyxTQUFTLE1BQU0sTUFBTTtBQUNqRCxVQUFNLEtBQUssSUFBSSxTQUFTLElBQUksSUFBSTtBQUNoQyxVQUFNLEtBQUssSUFBSSxTQUFTLElBQUksSUFBSTtBQUNoQyxVQUFNLElBQUksTUFBTSxLQUFLO0FBQ3JCLFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUEsU0FBUSxnQkFBZ0I7QUFReEIsV0FBUyx1QkFBdUIsU0FBUyxTQUFTLFFBQVE7QUFDdEQsVUFBTSxLQUFLLFVBQVUsT0FBTztBQUM1QixVQUFNLEtBQUssVUFBVSxPQUFPO0FBQzVCLFVBQU0sVUFBVSxJQUFJLElBQUksRUFBRTtBQUMxQixVQUFNLElBQUksT0FBTztBQUNqQixlQUFXLElBQUksSUFBSSxDQUFDO0FBQ3BCLFFBQUksSUFBSSxHQUFHLE1BQU0sSUFBSSxHQUFHO0FBQ3BCLGFBQU8sS0FBSyxLQUFLLE9BQU87QUFBQSxJQUM1QjtBQUNBLFdBQU8sQ0FBQyxLQUFLLEtBQUssT0FBTztBQUFBLEVBQzdCO0FBQ0EsRUFBQUEsU0FBUSx5QkFBeUI7QUFPakMsV0FBUyxVQUFVLE9BQU8sU0FBUyxHQUFHO0FBQ2xDLFdBQU8sT0FBTyxNQUFNLE1BQU0sR0FBRyxNQUFNLFNBQVMsQ0FBQyxHQUFHLE1BQU0sU0FBUyxDQUFDLENBQUM7QUFBQSxFQUNyRTtBQUNBLEVBQUFBLFNBQVEsWUFBWTtBQVFwQixXQUFTLGVBQWUsT0FBTyxRQUFRO0FBQ25DLFdBQU8sVUFBVSxPQUFPLE1BQU07QUFBQSxFQUNsQztBQUNBLEVBQUFBLFNBQVEsaUJBQWlCO0FBT3pCLFdBQVMsZUFBZSxPQUFPLFFBQVEsUUFBUTtBQUMzQyxXQUFPLElBQUksTUFBTSxNQUFNO0FBQ3ZCLFdBQU8sSUFBSSxNQUFNLFNBQVMsQ0FBQztBQUMzQixXQUFPLElBQUksTUFBTSxTQUFTLENBQUM7QUFBQSxFQUMvQjtBQUNBLEVBQUFBLFNBQVEsaUJBQWlCO0FBUXpCLFdBQVMsb0JBQW9CLE9BQU8sUUFBUSxRQUFRO0FBQ2hELFdBQU8sZUFBZSxPQUFPLFFBQVEsTUFBTTtBQUFBLEVBQy9DO0FBQ0EsRUFBQUEsU0FBUSxzQkFBc0I7QUFNOUIsV0FBU0ksUUFBTyxRQUFRO0FBQ3BCLFdBQU8sS0FBSyxLQUFLLE9BQU8sSUFBSSxPQUFPLElBQUksT0FBTyxJQUFJLE9BQU8sSUFBSSxPQUFPLElBQUksT0FBTyxDQUFDO0FBQUEsRUFDcEY7QUFDQSxFQUFBSixTQUFRLFNBQVNJO0FBS2pCLFdBQVMsY0FBYyxRQUFRO0FBQzNCLFdBQU8sT0FBTyxJQUFJLE9BQU8sSUFBSSxPQUFPLElBQUksT0FBTyxJQUFJLE9BQU8sSUFBSSxPQUFPO0FBQUEsRUFDekU7QUFDQSxFQUFBSixTQUFRLGdCQUFnQjtBQU14QixXQUFTLFdBQVcsUUFBUUssUUFBTyxRQUFRO0FBQ3ZDLFdBQU8sSUFBSSxPQUFPLElBQUlBO0FBQ3RCLFdBQU8sSUFBSSxPQUFPLElBQUlBO0FBQ3RCLFdBQU8sSUFBSSxPQUFPLElBQUlBO0FBQUEsRUFDMUI7QUFDQSxFQUFBTCxTQUFRLGFBQWE7QUFNckIsV0FBUyxNQUFNLFFBQVFLLFFBQU87QUFDMUIsV0FBTyxPQUFPLE9BQU8sSUFBSUEsUUFBTyxPQUFPLElBQUlBLFFBQU8sT0FBTyxJQUFJQSxNQUFLO0FBQUEsRUFDdEU7QUFDQSxFQUFBTCxTQUFRLFFBQVE7QUFPaEIsV0FBUyxvQkFBb0IsUUFBUSxLQUFLO0FBQ3RDLFVBQU0sU0FBUyxPQUFPLEdBQUcsR0FBRyxDQUFDO0FBQzdCLDZCQUF5QixRQUFRLEtBQUssTUFBTTtBQUM1QyxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLFNBQVEsc0JBQXNCO0FBTzlCLFdBQVMseUJBQXlCLFFBQVEsS0FBSyxRQUFRO0FBQ25ELFFBQUksUUFBUSxLQUFLLFFBQVEsR0FBSztBQUMxQixlQUFTLFFBQVEsTUFBTTtBQUN2QjtBQUFBLElBQ0o7QUFDQSxlQUFXLFFBQVEsSUFBTSxLQUFLLE1BQU07QUFBQSxFQUN4QztBQUNBLEVBQUFBLFNBQVEsMkJBQTJCO0FBTW5DLFdBQVMsVUFBVSxRQUFRO0FBQ3ZCLFdBQU8sb0JBQW9CLFFBQVFJLFFBQU8sTUFBTSxDQUFDO0FBQUEsRUFDckQ7QUFDQSxFQUFBSixTQUFRLFlBQVk7QUFNcEIsV0FBUyxlQUFlLFFBQVEsUUFBUTtBQUNwQyw2QkFBeUIsUUFBUUksUUFBTyxNQUFNLEdBQUcsTUFBTTtBQUFBLEVBQzNEO0FBQ0EsRUFBQUosU0FBUSxpQkFBaUI7QUFPekIsV0FBUyxJQUFJLE1BQU0sT0FBTztBQUN0QixXQUFPLEtBQUssSUFBSSxNQUFNLElBQUksS0FBSyxJQUFJLE1BQU0sSUFBSSxLQUFLLElBQUksTUFBTTtBQUFBLEVBQ2hFO0FBQ0EsRUFBQUEsU0FBUSxNQUFNO0FBTWQsV0FBUyxhQUFhLFFBQVEsUUFBUTtBQUNsQyxVQUFNLFNBQVMsTUFBTSxNQUFNO0FBQzNCLHNCQUFrQixRQUFRLFFBQVEsTUFBTTtBQUN4QyxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLFNBQVEsZUFBZTtBQU12QixXQUFTLGtCQUFrQixRQUFRLFFBQVEsUUFBUTtBQUMvQyxVQUFNLEVBQUUsR0FBRyxHQUFHLEVBQUUsSUFBSTtBQUNwQixVQUFNLElBQUksT0FBTztBQUNqQixVQUFNLElBQUksS0FBSyxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxFQUFFLElBQUksSUFBSSxFQUFFLEVBQUU7QUFDckQsV0FBTyxLQUFLLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBRSxLQUFLO0FBQ3RELFdBQU8sS0FBSyxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLEVBQUUsS0FBSztBQUN0RCxXQUFPLEtBQUssRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBRSxJQUFJLElBQUksRUFBRSxFQUFFLEtBQUs7QUFBQSxFQUMzRDtBQUNBLEVBQUFBLFNBQVEsb0JBQW9CO0FBTTVCLFdBQVMsT0FBTyxRQUFRLEdBQUc7QUFDdkIsVUFBTSxTQUFTLE9BQU87QUFDdEIsZ0JBQVksUUFBUSxHQUFHLE1BQU07QUFDN0IsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxTQUFRLFNBQVM7QUFPakIsV0FBUyxZQUFZLFFBQVEsR0FBRyxRQUFRO0FBQ3BDLFVBQU0sRUFBRSxHQUFHLEdBQUcsRUFBRSxJQUFJO0FBQ3BCLFVBQU0sRUFBRSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLEdBQUcsSUFBSTtBQUV2QyxVQUFNLEtBQUssS0FBSyxJQUFJLEtBQUssSUFBSSxLQUFLO0FBQ2xDLFVBQU0sS0FBSyxLQUFLLElBQUksS0FBSyxJQUFJLEtBQUs7QUFDbEMsVUFBTSxLQUFLLEtBQUssSUFBSSxLQUFLLElBQUksS0FBSztBQUNsQyxVQUFNLEtBQUssQ0FBQyxLQUFLLElBQUksS0FBSyxJQUFJLEtBQUs7QUFFbkMsV0FBTyxJQUFJLEtBQUssS0FBSyxLQUFLLENBQUMsS0FBSyxLQUFLLENBQUMsS0FBSyxLQUFLLENBQUM7QUFDakQsV0FBTyxJQUFJLEtBQUssS0FBSyxLQUFLLENBQUMsS0FBSyxLQUFLLENBQUMsS0FBSyxLQUFLLENBQUM7QUFDakQsV0FBTyxJQUFJLEtBQUssS0FBSyxLQUFLLENBQUMsS0FBSyxLQUFLLENBQUMsS0FBSyxLQUFLLENBQUM7QUFBQSxFQUNyRDtBQUNBLEVBQUFBLFNBQVEsY0FBYztBQVF0QixXQUFTLEtBQUssT0FBTyxLQUFLLFFBQVE7QUFDOUIsVUFBTSxTQUFTLE9BQU8sR0FBRyxHQUFHLENBQUM7QUFDN0IsY0FBVSxPQUFPLEtBQUssUUFBUSxNQUFNO0FBQ3BDLFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUEsU0FBUSxPQUFPO0FBUWYsV0FBUyxVQUFVLE9BQU8sS0FBSyxRQUFRLFFBQVE7QUFDM0MsV0FBTyxJQUFJLE1BQU0sS0FBSyxJQUFJLElBQUksTUFBTSxLQUFLO0FBQ3pDLFdBQU8sSUFBSSxNQUFNLEtBQUssSUFBSSxJQUFJLE1BQU0sS0FBSztBQUN6QyxXQUFPLElBQUksTUFBTSxLQUFLLElBQUksSUFBSSxNQUFNLEtBQUs7QUFBQSxFQUM3QztBQUNBLEVBQUFBLFNBQVEsWUFBWTtBQVFwQixXQUFTLE1BQU0sTUFBTSxPQUFPO0FBQ3hCLFVBQU0sU0FBUyxLQUFLO0FBQ3BCLGVBQVcsTUFBTSxPQUFPLE1BQU07QUFDOUIsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxTQUFRLFFBQVE7QUFRaEIsV0FBUyxXQUFXLE1BQU0sT0FBTyxRQUFRO0FBQ3JDLFdBQU8sSUFBSSxLQUFLLElBQUksTUFBTSxJQUFJLEtBQUssSUFBSSxNQUFNO0FBQzdDLFdBQU8sSUFBSSxLQUFLLElBQUksTUFBTSxJQUFJLEtBQUssSUFBSSxNQUFNO0FBQzdDLFdBQU8sSUFBSSxLQUFLLElBQUksTUFBTSxJQUFJLEtBQUssSUFBSSxNQUFNO0FBQUEsRUFDakQ7QUFDQSxFQUFBQSxTQUFRLGFBQWE7QUFRckIsV0FBUyxxQkFBcUIsUUFBUSxnQkFBZ0I7QUFDbEQsVUFBTSxTQUFTLEtBQUs7QUFDcEIsOEJBQTBCLFFBQVEsZ0JBQWdCLE1BQU07QUFDeEQsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxTQUFRLHVCQUF1QjtBQVEvQixXQUFTLDBCQUEwQixRQUFRLGdCQUFnQixRQUFRO0FBQy9ELFdBQU8sb0NBQW9DLE9BQU8sR0FBRyxPQUFPLEdBQUcsT0FBTyxHQUFHLGdCQUFnQixNQUFNO0FBQUEsRUFDbkc7QUFDQSxFQUFBQSxTQUFRLDRCQUE0QjtBQVVwQyxXQUFTLG9DQUFvQyxHQUFHLEdBQUcsR0FBRyxnQkFBZ0IsUUFBUTtBQUMxRSxVQUFNLElBQUksZUFBZTtBQUN6QixVQUFNLEtBQUssSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFO0FBQ2hELFVBQU0sS0FBSyxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUU7QUFDaEQsVUFBTSxLQUFLLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNqRCxVQUFNLEtBQUssS0FBSyxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEQsV0FBTyxJQUFJLEtBQUs7QUFDaEIsV0FBTyxJQUFJLEtBQUs7QUFDaEIsV0FBTyxJQUFJLEtBQUs7QUFBQSxFQUNwQjtBQUNBLEVBQUFBLFNBQVEsc0NBQXNDO0FBUTlDLFdBQVMsZ0JBQWdCLFFBQVEsZ0JBQWdCO0FBQzdDLFVBQU0sU0FBUyxLQUFLO0FBQ3BCLHlCQUFxQixRQUFRLGdCQUFnQixNQUFNO0FBQ25ELFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUEsU0FBUSxrQkFBa0I7QUFRMUIsV0FBUyxxQkFBcUIsUUFBUSxnQkFBZ0IsUUFBUTtBQUMxRCxtQ0FBK0IsT0FBTyxHQUFHLE9BQU8sR0FBRyxPQUFPLEdBQUcsZ0JBQWdCLE1BQU07QUFBQSxFQUN2RjtBQUNBLEVBQUFBLFNBQVEsdUJBQXVCO0FBVS9CLFdBQVMsK0JBQStCLEdBQUcsR0FBRyxHQUFHLGdCQUFnQixRQUFRO0FBQ3JFLFVBQU0sSUFBSSxlQUFlO0FBQ3pCLFdBQU8sSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUM7QUFDeEMsV0FBTyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQztBQUN4QyxXQUFPLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxFQUFFO0FBQUEsRUFDN0M7QUFDQSxFQUFBQSxTQUFRLGlDQUFpQztBQVV6QyxXQUFTLFdBQVcsUUFBUSxRQUFRLFFBQVEsUUFBUSxRQUFRO0FBQ3hELFVBQU0sVUFBVSxTQUFTO0FBQ3pCLFVBQU0sUUFBUSxTQUFTO0FBQ3ZCLFVBQU0sSUFBSSxPQUNMLElBQU0sT0FBTyxLQUNULENBQUMsT0FBTyxJQUFJLE9BQU8sS0FBSyxVQUN4QixJQUFNLE9BQU8sSUFBSSxJQUFNLE9BQU8sSUFBSSxJQUFNLE9BQU8sSUFBSSxPQUFPLEtBQ3ZELFdBQ0gsQ0FBQyxPQUFPLElBQUksSUFBTSxPQUFPLElBQUksSUFBTSxPQUFPLElBQUksT0FBTyxLQUFLO0FBQ25FLFVBQU0sSUFBSSxPQUNMLElBQU0sT0FBTyxLQUNULENBQUMsT0FBTyxJQUFJLE9BQU8sS0FBSyxVQUN4QixJQUFNLE9BQU8sSUFBSSxJQUFNLE9BQU8sSUFBSSxJQUFNLE9BQU8sSUFBSSxPQUFPLEtBQ3ZELFdBQ0gsQ0FBQyxPQUFPLElBQUksSUFBTSxPQUFPLElBQUksSUFBTSxPQUFPLElBQUksT0FBTyxLQUFLO0FBQ25FLFVBQU0sSUFBSSxPQUNMLElBQU0sT0FBTyxLQUNULENBQUMsT0FBTyxJQUFJLE9BQU8sS0FBSyxVQUN4QixJQUFNLE9BQU8sSUFBSSxJQUFNLE9BQU8sSUFBSSxJQUFNLE9BQU8sSUFBSSxPQUFPLEtBQ3ZELFdBQ0gsQ0FBQyxPQUFPLElBQUksSUFBTSxPQUFPLElBQUksSUFBTSxPQUFPLElBQUksT0FBTyxLQUFLO0FBQ25FLFdBQU8sT0FBTyxHQUFHLEdBQUcsQ0FBQztBQUFBLEVBQ3pCO0FBQ0EsRUFBQUEsU0FBUSxhQUFhO0FBVXJCLFdBQVMsTUFBTSxPQUFPLEtBQUssS0FBSztBQUM1QixVQUFNLElBQUksT0FBTztBQUNqQixlQUFXLE9BQU8sS0FBSyxLQUFLLENBQUM7QUFDN0IsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxTQUFRLFFBQVE7QUFVaEIsV0FBUyxXQUFXLE9BQU8sS0FBSyxLQUFLLFFBQVE7QUFDekMsUUFBSSxJQUFJLE1BQU07QUFDZCxRQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSTtBQUN4QixRQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSTtBQUN4QixRQUFJLElBQUksTUFBTTtBQUNkLFFBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJO0FBQ3hCLFFBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJO0FBQ3hCLFFBQUksSUFBSSxNQUFNO0FBQ2QsUUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUk7QUFDeEIsUUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUk7QUFDeEIsbUJBQWUsR0FBRyxHQUFHLEdBQUcsTUFBTTtBQUFBLEVBQ2xDO0FBQ0EsRUFBQUEsU0FBUSxhQUFhO0FBVXJCLFdBQVMsUUFBUSxRQUFRLFVBQVUsUUFBUSxVQUFVLFFBQVE7QUFDekQsVUFBTSxVQUFVLFNBQVM7QUFDekIsVUFBTSxRQUFRLFNBQVM7QUFDdkIsVUFBTSxRQUFRLElBQU0sUUFBUSxJQUFNLFVBQVU7QUFDNUMsVUFBTSxRQUFRLEtBQU8sUUFBUSxJQUFNO0FBQ25DLFVBQU0sUUFBUSxRQUFRLElBQU0sVUFBVTtBQUN0QyxVQUFNLFFBQVEsUUFBUTtBQUN0QixVQUFNLElBQUksT0FBTyxJQUFJLFFBQ2pCLE9BQU8sSUFBSSxRQUNYLFNBQVMsSUFBSSxRQUNiLFNBQVMsSUFBSTtBQUNqQixVQUFNLElBQUksT0FBTyxJQUFJLFFBQ2pCLE9BQU8sSUFBSSxRQUNYLFNBQVMsSUFBSSxRQUNiLFNBQVMsSUFBSTtBQUNqQixVQUFNLElBQUksT0FBTyxJQUFJLFFBQ2pCLE9BQU8sSUFBSSxRQUNYLFNBQVMsSUFBSSxRQUNiLFNBQVMsSUFBSTtBQUNqQixXQUFPLE9BQU8sR0FBRyxHQUFHLENBQUM7QUFBQSxFQUN6QjtBQUNBLEVBQUFBLFNBQVEsVUFBVTtBQU9sQixXQUFTLFNBQVMsTUFBTSxPQUFPO0FBQzNCLFVBQU0sTUFBTSxPQUFPO0FBQ25CLG1DQUErQixPQUFPLEtBQUssR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEdBQUc7QUFDakUsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxTQUFRLFdBQVc7QUFPbkIsV0FBUyxTQUFTLE1BQU0sT0FBTztBQUMzQixVQUFNLE1BQU0sT0FBTztBQUNuQixtQ0FBK0IsTUFBTSxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxHQUFHO0FBQ25FLFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUEsU0FBUSxXQUFXO0FBT25CLFdBQVMsU0FBUyxRQUFRLFFBQVE7QUFDOUIsV0FBTyxLQUFLLEtBQUssZ0JBQWdCLFFBQVEsTUFBTSxDQUFDO0FBQUEsRUFDcEQ7QUFDQSxFQUFBQSxTQUFRLFdBQVc7QUFPbkIsV0FBUyxnQkFBZ0IsUUFBUSxRQUFRO0FBQ3JDLFVBQU0sSUFBSSxPQUFPLElBQUksT0FBTztBQUM1QixVQUFNLElBQUksT0FBTyxJQUFJLE9BQU87QUFDNUIsVUFBTSxJQUFJLE9BQU8sSUFBSSxPQUFPO0FBQzVCLFdBQU8sSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJO0FBQUEsRUFDL0I7QUFDQSxFQUFBQSxTQUFRLGtCQUFrQjtBQU8xQixXQUFTLE9BQU8sUUFBUSxRQUFRO0FBQzVCLFVBQU1NLFVBQVNMLEtBQUksUUFBUSxNQUFNO0FBQ2pDLGVBQVdLLFNBQVEsS0FBS0EsT0FBTTtBQUM5QixXQUFPQTtBQUFBLEVBQ1g7QUFDQSxFQUFBTixTQUFRLFNBQVM7QUFXakIsV0FBUyxpQkFBaUIsT0FBTyxPQUFPLE9BQU87QUFDM0MsVUFBTSxXQUFXLEtBQUs7QUFDdEIsMEJBQXNCLE9BQU8sT0FBTyxPQUFPLFFBQVE7QUFDbkQsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxTQUFRLG1CQUFtQjtBQVEzQixXQUFTLHNCQUFzQixPQUFPLE9BQU8sT0FBTyxRQUFRO0FBQ3hELFVBQU0sT0FBT08sWUFBVyxPQUFPO0FBQy9CLElBQUFBLFlBQVcsa0NBQWtDLE9BQU8sT0FBTyxPQUFPLElBQUk7QUFDdEUsYUFBU0EsWUFBVyxjQUFjLElBQUksR0FBRyxNQUFNO0FBQUEsRUFDbkQ7QUFDQSxFQUFBUCxTQUFRLHdCQUF3QjtBQUtoQyxXQUFTUSxVQUFTLFFBQVE7QUFDdEIsV0FBTyxJQUFJLE9BQU8sQ0FBQyxLQUFLLE9BQU8sQ0FBQyxLQUFLLE9BQU8sQ0FBQztBQUFBLEVBQ2pEO0FBQ0EsRUFBQVIsU0FBUSxXQUFXUTtBQUtuQixXQUFTLFlBQVksUUFBUTtBQUN6QixRQUFJLE9BQU8sT0FBTyxLQUFLO0FBQ3ZCLFdBQVEsT0FBTyxPQUFRLE9BQU8sS0FBSztBQUNuQyxXQUFRLE9BQU8sT0FBUSxPQUFPLEtBQUs7QUFDbkMsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBUixTQUFRLGNBQWM7QUFPdEIsV0FBU1MsUUFBTyxTQUFTLFNBQVM7QUFDOUIsV0FBUSxRQUFRLE1BQU0sUUFBUSxLQUMxQixRQUFRLE1BQU0sUUFBUSxLQUN0QixRQUFRLE1BQU0sUUFBUTtBQUFBLEVBQzlCO0FBQ0EsRUFBQVQsU0FBUSxTQUFTUztBQU9qQixXQUFTLGtCQUFrQixTQUFTLFNBQVMsVUFBVSxTQUFTO0FBQzVELFdBQVEsT0FBTyxjQUFjLFFBQVEsR0FBRyxRQUFRLEdBQUcsT0FBTyxLQUN0RCxPQUFPLGNBQWMsUUFBUSxHQUFHLFFBQVEsR0FBRyxPQUFPLEtBQ2xELE9BQU8sY0FBYyxRQUFRLEdBQUcsUUFBUSxHQUFHLE9BQU87QUFBQSxFQUMxRDtBQUNBLEVBQUFULFNBQVEsb0JBQW9CO0FBUTVCLFdBQVMsZUFBZSxRQUFRLEdBQUcsR0FBRyxHQUFHO0FBQ3JDLFdBQU8sT0FBTyxNQUFNLEtBQUssT0FBTyxNQUFNLEtBQUssT0FBTyxNQUFNO0FBQUEsRUFDNUQ7QUFDQSxFQUFBQSxTQUFRLGlCQUFpQjtBQU96QixXQUFTVSxVQUFTLFNBQVMsU0FBUztBQUNoQyxVQUFNLFNBQVMsT0FBTztBQUN0QixrQkFBYyxTQUFTLFNBQVMsTUFBTTtBQUN0QyxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFWLFNBQVEsV0FBV1U7QUFPbkIsV0FBUyxjQUFjLFNBQVMsU0FBUyxRQUFRO0FBQzdDLFdBQU8sSUFBSSxRQUFRLElBQUksUUFBUTtBQUMvQixXQUFPLElBQUksUUFBUSxJQUFJLFFBQVE7QUFDL0IsV0FBTyxJQUFJLFFBQVEsSUFBSSxRQUFRO0FBQUEsRUFDbkM7QUFDQSxFQUFBVixTQUFRLGdCQUFnQjtBQVF4QixXQUFTLHNCQUFzQixTQUFTLEdBQUcsR0FBRyxHQUFHLFFBQVE7QUFDckQsV0FBTyxJQUFJLFFBQVEsSUFBSTtBQUN2QixXQUFPLElBQUksUUFBUSxJQUFJO0FBQ3ZCLFdBQU8sSUFBSSxRQUFRLElBQUk7QUFBQSxFQUMzQjtBQUNBLEVBQUFBLFNBQVEsd0JBQXdCO0FBUWhDLFdBQVMsaUJBQWlCLFNBQVMsR0FBRyxHQUFHLEdBQUc7QUFDeEMsVUFBTSxTQUFTLE9BQU87QUFDdEIsMEJBQXNCLFNBQVMsR0FBRyxHQUFHLEdBQUcsTUFBTTtBQUM5QyxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLFNBQVEsbUJBQW1CO0FBTTNCLFdBQVNXLFFBQU8sU0FBUyxTQUFTO0FBQzlCLFdBQU87QUFBQSxNQUNILEdBQUcsUUFBUSxJQUFJLFFBQVE7QUFBQSxNQUN2QixHQUFHLFFBQVEsSUFBSSxRQUFRO0FBQUEsTUFDdkIsR0FBRyxRQUFRLElBQUksUUFBUTtBQUFBLElBQzNCO0FBQUEsRUFDSjtBQUNBLEVBQUFYLFNBQVEsU0FBU1c7QUFPakIsV0FBUyxZQUFZLFNBQVMsU0FBUyxRQUFRO0FBQzNDLFdBQU8sSUFBSSxRQUFRLElBQUksUUFBUTtBQUMvQixXQUFPLElBQUksUUFBUSxJQUFJLFFBQVE7QUFDL0IsV0FBTyxJQUFJLFFBQVEsSUFBSSxRQUFRO0FBQUEsRUFDbkM7QUFDQSxFQUFBWCxTQUFRLGNBQWM7QUFRdEIsV0FBUywrQkFBK0IsU0FBUyxHQUFHLEdBQUcsR0FBRyxRQUFRO0FBQzlELFFBQUksSUFBSSxRQUFRLEdBQUc7QUFDZixhQUFPLElBQUk7QUFBQSxJQUNmLE9BQ0s7QUFDRCxhQUFPLElBQUksUUFBUTtBQUFBLElBQ3ZCO0FBQ0EsUUFBSSxJQUFJLFFBQVEsR0FBRztBQUNmLGFBQU8sSUFBSTtBQUFBLElBQ2YsT0FDSztBQUNELGFBQU8sSUFBSSxRQUFRO0FBQUEsSUFDdkI7QUFDQSxRQUFJLElBQUksUUFBUSxHQUFHO0FBQ2YsYUFBTyxJQUFJO0FBQUEsSUFDZixPQUNLO0FBQ0QsYUFBTyxJQUFJLFFBQVE7QUFBQSxJQUN2QjtBQUFBLEVBQ0o7QUFDQSxFQUFBQSxTQUFRLGlDQUFpQztBQVF6QyxXQUFTLCtCQUErQixTQUFTLEdBQUcsR0FBRyxHQUFHLFFBQVE7QUFDOUQsUUFBSSxJQUFJLFFBQVEsR0FBRztBQUNmLGFBQU8sSUFBSTtBQUFBLElBQ2YsT0FDSztBQUNELGFBQU8sSUFBSSxRQUFRO0FBQUEsSUFDdkI7QUFDQSxRQUFJLElBQUksUUFBUSxHQUFHO0FBQ2YsYUFBTyxJQUFJO0FBQUEsSUFDZixPQUNLO0FBQ0QsYUFBTyxJQUFJLFFBQVE7QUFBQSxJQUN2QjtBQUNBLFFBQUksSUFBSSxRQUFRLEdBQUc7QUFDZixhQUFPLElBQUk7QUFBQSxJQUNmLE9BQ0s7QUFDRCxhQUFPLElBQUksUUFBUTtBQUFBLElBQ3ZCO0FBQUEsRUFDSjtBQUNBLEVBQUFBLFNBQVEsaUNBQWlDO0FBS3pDLFdBQVMsTUFBTSxTQUFTO0FBQ3BCLFdBQU8sT0FBTyxLQUFLLE1BQU0sUUFBUSxDQUFDLEdBQUcsS0FBSyxNQUFNLFFBQVEsQ0FBQyxHQUFHLEtBQUssTUFBTSxRQUFRLENBQUMsQ0FBQztBQUFBLEVBQ3JGO0FBQ0EsRUFBQUEsU0FBUSxRQUFRO0FBS2hCLFdBQVMsTUFBTSxTQUFTO0FBQ3BCLFdBQU8sT0FBTyxRQUFRLElBQUksS0FBSyxNQUFNLFFBQVEsQ0FBQyxHQUFHLFFBQVEsSUFBSSxLQUFLLE1BQU0sUUFBUSxDQUFDLEdBQUcsUUFBUSxJQUFJLEtBQUssTUFBTSxRQUFRLENBQUMsQ0FBQztBQUFBLEVBQ3pIO0FBQ0EsRUFBQUEsU0FBUSxRQUFRO0FBS2hCLFdBQVMsT0FBTztBQUNaLFdBQU8sT0FBTyxHQUFLLEdBQUssQ0FBRztBQUFBLEVBQy9CO0FBQ0EsRUFBQUEsU0FBUSxPQUFPO0FBS2YsV0FBUyxNQUFNO0FBQ1gsV0FBTyxPQUFPLEdBQUssR0FBSyxDQUFHO0FBQUEsRUFDL0I7QUFDQSxFQUFBQSxTQUFRLE1BQU07QUFLZCxXQUFTLEtBQUs7QUFDVixXQUFPLE9BQU8sR0FBSyxHQUFLLENBQUc7QUFBQSxFQUMvQjtBQUNBLEVBQUFBLFNBQVEsS0FBSztBQUtiLFdBQVMsT0FBTztBQUNaLFdBQU8sT0FBTyxHQUFLLElBQU0sQ0FBRztBQUFBLEVBQ2hDO0FBQ0EsRUFBQUEsU0FBUSxPQUFPO0FBS2YsV0FBUyxVQUFVO0FBQ2YsV0FBTyxPQUFPLEdBQUssR0FBSyxDQUFHO0FBQUEsRUFDL0I7QUFDQSxFQUFBQSxTQUFRLFVBQVU7QUFLbEIsV0FBUyxXQUFXO0FBQ2hCLFdBQU8sT0FBTyxHQUFLLEdBQUssRUFBSTtBQUFBLEVBQ2hDO0FBQ0EsRUFBQUEsU0FBUSxXQUFXO0FBS25CLFdBQVMsUUFBUTtBQUNiLFdBQU8sT0FBTyxHQUFLLEdBQUssQ0FBRztBQUFBLEVBQy9CO0FBQ0EsRUFBQUEsU0FBUSxRQUFRO0FBS2hCLFdBQVMsT0FBTztBQUNaLFdBQU8sT0FBTyxJQUFNLEdBQUssQ0FBRztBQUFBLEVBQ2hDO0FBQ0EsRUFBQUEsU0FBUSxPQUFPO0FBS2YsV0FBUyxTQUFTO0FBQ2QsV0FBTyxPQUFPLEtBQUssT0FBTyxHQUFHLEtBQUssT0FBTyxHQUFHLEtBQUssT0FBTyxDQUFDO0FBQUEsRUFDN0Q7QUFDQSxFQUFBQSxTQUFRLFNBQVM7QUFDckIsR0FBR0EsYUFBWUEsV0FBVSxDQUFDLEVBQUU7OztBQ2w5QnJCLElBQUk7QUFBQSxDQUNWLFNBQVVZLFFBQU87QUFRZCxXQUFTLE9BQU8sR0FBRyxHQUFHLEdBQUcsR0FBRztBQUN4QixXQUFPO0FBQUEsTUFDSCxRQUFRQyxTQUFRLE9BQU8sR0FBRyxHQUFHLENBQUM7QUFBQSxNQUM5QjtBQUFBLElBQ0o7QUFBQSxFQUNKO0FBQ0EsRUFBQUQsT0FBTSxTQUFTO0FBT2YsV0FBUyxVQUFVLE9BQU87QUFDdEIsV0FBTyxPQUFPLE1BQU0sQ0FBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDO0FBQUEsRUFDeEQ7QUFDQSxFQUFBQSxPQUFNLFlBQVk7QUFRbEIsV0FBUyxXQUFXLFNBQVMsU0FBUyxTQUFTO0FBQzNDLFVBQU0sU0FBUyxPQUFPLEdBQUssR0FBSyxHQUFLLENBQUc7QUFHeEMsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxPQUFNLGFBQWE7QUFRbkIsV0FBUyxxQkFBcUIsUUFBUSxRQUFRO0FBQzFDLFVBQU0sU0FBUyxPQUFPLEdBQUssR0FBSyxHQUFLLENBQUc7QUFDeEMsV0FBTyxTQUFTQyxTQUFRLFVBQVUsTUFBTTtBQUN4QyxXQUFPLElBQUksRUFBRSxPQUFPLElBQUksT0FBTyxJQUMzQixPQUFPLElBQUksT0FBTyxJQUNsQixPQUFPLElBQUksT0FBTztBQUN0QixXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFELE9BQU0sdUJBQXVCO0FBUTdCLFdBQVMsMkNBQTJDLFFBQVEsUUFBUSxPQUFPO0FBQ3ZFLFVBQU0sSUFBSSxFQUFFLE9BQU8sSUFBSSxPQUFPLElBQUksT0FBTyxJQUFJLE9BQU8sSUFBSSxPQUFPLElBQUksT0FBTztBQUMxRSxXQUFPQyxTQUFRLElBQUksT0FBTyxNQUFNLElBQUk7QUFBQSxFQUN4QztBQUNBLEVBQUFELE9BQU0sNkNBQTZDO0FBSW5ELFdBQVMsUUFBUSxPQUFPO0FBQ3BCLFdBQU8sQ0FBQyxNQUFNLE9BQU8sR0FBRyxNQUFNLE9BQU8sR0FBRyxNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUM7QUFBQSxFQUNuRTtBQUNBLEVBQUFBLE9BQU0sVUFBVTtBQUtoQixXQUFTLE1BQU0sT0FBTztBQUNsQixXQUFPLE9BQU8sTUFBTSxPQUFPLEdBQUcsTUFBTSxPQUFPLEdBQUcsTUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDO0FBQUEsRUFDekU7QUFDQSxFQUFBQSxPQUFNLFFBQVE7QUFJZCxXQUFTLFlBQVksUUFBUTtBQUt6QixXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLE9BQU0sY0FBYztBQUtwQixXQUFTLFVBQVUsT0FBTztBQUN0QixVQUFNLFNBQVMsT0FBTyxHQUFHLEdBQUcsR0FBRyxDQUFDO0FBQ2hDLFVBQU0sT0FBTyxLQUFLLEtBQUssTUFBTSxPQUFPLElBQUksTUFBTSxPQUFPLElBQ2pELE1BQU0sT0FBTyxJQUFJLE1BQU0sT0FBTyxJQUM5QixNQUFNLE9BQU8sSUFBSSxNQUFNLE9BQU8sQ0FBQztBQUNuQyxRQUFJLFlBQVk7QUFDaEIsUUFBSSxTQUFTLEdBQUc7QUFDWixrQkFBWSxJQUFNO0FBQUEsSUFDdEI7QUFDQSxXQUFPLE9BQU8sSUFBSSxNQUFNLE9BQU8sSUFBSTtBQUNuQyxXQUFPLE9BQU8sSUFBSSxNQUFNLE9BQU8sSUFBSTtBQUNuQyxXQUFPLE9BQU8sSUFBSSxNQUFNLE9BQU8sSUFBSTtBQUNuQyxXQUFPLEtBQUs7QUFDWixXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLE9BQU0sWUFBWTtBQU1sQixXQUFTLFVBQVUsT0FBTyxnQkFBZ0I7QUFDdEMsVUFBTSxtQkFBbUIsT0FBTyxPQUFPO0FBQ3ZDLFdBQU8sZUFBZSxnQkFBZ0IsZ0JBQWdCO0FBQ3RELFVBQU0sSUFBSSxpQkFBaUI7QUFDM0IsVUFBTSxJQUFJLE1BQU0sT0FBTztBQUN2QixVQUFNLElBQUksTUFBTSxPQUFPO0FBQ3ZCLFVBQU0sSUFBSSxNQUFNLE9BQU87QUFDdkIsVUFBTSxJQUFJLE1BQU07QUFDaEIsVUFBTSxVQUFVLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDO0FBQ3hELFVBQU0sVUFBVSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQztBQUN4RCxVQUFNLFVBQVUsSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxFQUFFLElBQUksSUFBSSxFQUFFLEVBQUU7QUFDMUQsVUFBTSxTQUFTLElBQUksRUFBRSxFQUFFLElBQUksSUFBSSxFQUFFLEVBQUUsSUFBSSxJQUFJLEVBQUUsRUFBRSxJQUFJLElBQUksRUFBRSxFQUFFO0FBQzNELFdBQU8sT0FBTyxTQUFTLFNBQVMsU0FBUyxNQUFNO0FBQUEsRUFDbkQ7QUFDQSxFQUFBQSxPQUFNLFlBQVk7QUFNbEIsV0FBUyxjQUFjLE9BQU8sT0FBTztBQUNqQyxXQUFRLE1BQU0sT0FBTyxJQUFJLE1BQU0sSUFDM0IsTUFBTSxPQUFPLElBQUksTUFBTSxJQUN2QixNQUFNLE9BQU8sSUFBSSxNQUFNLElBQ3ZCLE1BQU07QUFBQSxFQUNkO0FBQ0EsRUFBQUEsT0FBTSxnQkFBZ0I7QUFRdEIsV0FBUyxlQUFlLFFBQVEsUUFBUSxRQUFRO0FBQzVDLFVBQU0sS0FBSyxPQUFPLElBQUksT0FBTztBQUM3QixVQUFNLEtBQUssT0FBTyxJQUFJLE9BQU87QUFDN0IsVUFBTSxLQUFLLE9BQU8sSUFBSSxPQUFPO0FBQzdCLFVBQU0sS0FBSyxPQUFPLElBQUksT0FBTztBQUM3QixVQUFNLEtBQUssT0FBTyxJQUFJLE9BQU87QUFDN0IsVUFBTSxLQUFLLE9BQU8sSUFBSSxPQUFPO0FBQzdCLFVBQU0sS0FBSyxLQUFLLEtBQUssS0FBSztBQUMxQixVQUFNLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDMUIsVUFBTSxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzFCLFVBQU0sT0FBTyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEVBQUU7QUFDbEQsUUFBSTtBQUNKLFFBQUksU0FBUyxHQUFHO0FBQ1osZ0JBQVUsSUFBTTtBQUFBLElBQ3BCLE9BQ0s7QUFDRCxnQkFBVTtBQUFBLElBQ2Q7QUFDQSxVQUFNLFNBQVNDLFNBQVEsT0FBTyxLQUFLLFNBQVMsS0FBSyxTQUFTLEtBQUssT0FBTztBQUN0RSxXQUFPO0FBQUEsTUFDSDtBQUFBLE1BQ0EsR0FBRyxFQUFFLE9BQU8sSUFBSSxPQUFPLElBQUksT0FBTyxJQUFJLE9BQU8sSUFBSSxPQUFPLElBQUksT0FBTztBQUFBLElBQ3ZFO0FBQUEsRUFDSjtBQUNBLEVBQUFELE9BQU0saUJBQWlCO0FBT3ZCLFdBQVMsZ0JBQWdCLE9BQU8sV0FBVyxTQUFTO0FBQ2hELFVBQU0sTUFBTUMsU0FBUSxJQUFJLE1BQU0sUUFBUSxTQUFTO0FBQy9DLFdBQU8sT0FBTztBQUFBLEVBQ2xCO0FBQ0EsRUFBQUQsT0FBTSxrQkFBa0I7QUFNeEIsV0FBUyxpQkFBaUIsT0FBTyxPQUFPO0FBQ3BDLFdBQU9DLFNBQVEsSUFBSSxPQUFPLE1BQU0sTUFBTSxJQUFJLE1BQU07QUFBQSxFQUNwRDtBQUNBLEVBQUFELE9BQU0sbUJBQW1CO0FBQzdCLEdBQUcsVUFBVSxRQUFRLENBQUMsRUFBRTs7O0FDck1qQixJQUFJO0FBQUEsQ0FDVixTQUFVRSxTQUFRO0FBSWYsV0FBUyxFQUFFQyxPQUFNO0FBQ2IsV0FBT0EsTUFBSztBQUFBLEVBQ2hCO0FBQ0EsRUFBQUQsUUFBTyxJQUFJO0FBQ1gsTUFBSSxrQkFBa0I7QUFDdEIsUUFBTSxvQkFBb0IsQ0FBQztBQUkzQixXQUFTLG1CQUFtQjtBQUN4QixXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLFFBQU8sbUJBQW1CO0FBSTFCLFdBQVMsU0FBUztBQUNkLFVBQU0sWUFBWTtBQUFBLE1BQ2QsWUFBWTtBQUFBLE1BQ1osWUFBWTtBQUFBLE1BQ1osZUFBZTtBQUFBLE1BQ2Ysa0JBQWtCO0FBQUEsTUFDbEIscUJBQXFCO0FBQUEsTUFDckIsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFBQSxJQUN2RDtBQUNBLDBCQUFzQixXQUFXLEtBQUs7QUFDdEMsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLFNBQVM7QUFRaEIsV0FBUyxVQUFVLE9BQU8sU0FBUyxHQUFHO0FBQ2xDLFVBQU0sU0FBUyxPQUFPO0FBQ3RCLG1CQUFlLE9BQU8sUUFBUSxNQUFNO0FBQ3BDLFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUEsUUFBTyxZQUFZO0FBT25CLFdBQVMsZUFBZSxPQUFPLFFBQVEsUUFBUTtBQUMzQyxhQUFTLFFBQVEsR0FBRyxRQUFRLElBQUksU0FBUztBQUNyQyxhQUFPLEdBQUcsS0FBSyxJQUFJLE1BQU0sUUFBUSxNQUFNO0FBQUEsSUFDM0M7QUFDQSxtQkFBZSxNQUFNO0FBQUEsRUFDekI7QUFDQSxFQUFBQSxRQUFPLGlCQUFpQjtBQVF4QixXQUFTLDBCQUEwQixPQUFPLFFBQVFFLFFBQU8sUUFBUTtBQUM3RCxhQUFTLFFBQVEsR0FBRyxRQUFRLElBQUksU0FBUztBQUNyQyxhQUFPLEdBQUcsS0FBSyxJQUFJLE1BQU0sUUFBUSxNQUFNLElBQUlBO0FBQUEsSUFDL0M7QUFDQSxtQkFBZSxNQUFNO0FBQUEsRUFDekI7QUFDQSxFQUFBRixRQUFPLDRCQUE0QjtBQXFCbkMsV0FBUyxnQkFBZ0IsWUFBWSxZQUFZLFlBQVksWUFBWSxZQUFZLFlBQVksWUFBWSxZQUFZLFlBQVksWUFBWSxZQUFZLFlBQVksWUFBWSxZQUFZLFlBQVksWUFBWSxRQUFRO0FBQzdOLFVBQU1HLEtBQUksT0FBTztBQUNqQixJQUFBQSxHQUFFLENBQUMsSUFBSTtBQUNQLElBQUFBLEdBQUUsQ0FBQyxJQUFJO0FBQ1AsSUFBQUEsR0FBRSxDQUFDLElBQUk7QUFDUCxJQUFBQSxHQUFFLENBQUMsSUFBSTtBQUNQLElBQUFBLEdBQUUsQ0FBQyxJQUFJO0FBQ1AsSUFBQUEsR0FBRSxDQUFDLElBQUk7QUFDUCxJQUFBQSxHQUFFLENBQUMsSUFBSTtBQUNQLElBQUFBLEdBQUUsQ0FBQyxJQUFJO0FBQ1AsSUFBQUEsR0FBRSxDQUFDLElBQUk7QUFDUCxJQUFBQSxHQUFFLENBQUMsSUFBSTtBQUNQLElBQUFBLEdBQUUsRUFBRSxJQUFJO0FBQ1IsSUFBQUEsR0FBRSxFQUFFLElBQUk7QUFDUixJQUFBQSxHQUFFLEVBQUUsSUFBSTtBQUNSLElBQUFBLEdBQUUsRUFBRSxJQUFJO0FBQ1IsSUFBQUEsR0FBRSxFQUFFLElBQUk7QUFDUixJQUFBQSxHQUFFLEVBQUUsSUFBSTtBQUNSLG1CQUFlLE1BQU07QUFBQSxFQUN6QjtBQUNBLEVBQUFILFFBQU8sa0JBQWtCO0FBcUJ6QixXQUFTLFdBQVcsWUFBWSxZQUFZLFlBQVksWUFBWSxZQUFZLFlBQVksWUFBWSxZQUFZLFlBQVksWUFBWSxZQUFZLFlBQVksWUFBWSxZQUFZLFlBQVksWUFBWTtBQUNoTixVQUFNLFNBQVMsT0FBTztBQUN0QixVQUFNRyxLQUFJLE9BQU87QUFDakIsSUFBQUEsR0FBRSxDQUFDLElBQUk7QUFDUCxJQUFBQSxHQUFFLENBQUMsSUFBSTtBQUNQLElBQUFBLEdBQUUsQ0FBQyxJQUFJO0FBQ1AsSUFBQUEsR0FBRSxDQUFDLElBQUk7QUFDUCxJQUFBQSxHQUFFLENBQUMsSUFBSTtBQUNQLElBQUFBLEdBQUUsQ0FBQyxJQUFJO0FBQ1AsSUFBQUEsR0FBRSxDQUFDLElBQUk7QUFDUCxJQUFBQSxHQUFFLENBQUMsSUFBSTtBQUNQLElBQUFBLEdBQUUsQ0FBQyxJQUFJO0FBQ1AsSUFBQUEsR0FBRSxDQUFDLElBQUk7QUFDUCxJQUFBQSxHQUFFLEVBQUUsSUFBSTtBQUNSLElBQUFBLEdBQUUsRUFBRSxJQUFJO0FBQ1IsSUFBQUEsR0FBRSxFQUFFLElBQUk7QUFDUixJQUFBQSxHQUFFLEVBQUUsSUFBSTtBQUNSLElBQUFBLEdBQUUsRUFBRSxJQUFJO0FBQ1IsSUFBQUEsR0FBRSxFQUFFLElBQUk7QUFDUixtQkFBZSxNQUFNO0FBQ3JCLFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUgsUUFBTyxhQUFhO0FBUXBCLFdBQVMsUUFBUUUsUUFBTyxVQUFVRSxjQUFhO0FBQzNDLFVBQU0sU0FBUyxPQUFPO0FBQ3RCLGlCQUFhRixRQUFPLFVBQVVFLGNBQWEsTUFBTTtBQUNqRCxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFKLFFBQU8sVUFBVTtBQVFqQixXQUFTLGFBQWFFLFFBQU8sVUFBVUUsY0FBYSxRQUFRO0FBQ3hELFVBQU0sWUFBWSxDQUFDLE9BQU8sR0FBRyxPQUFPLEdBQUcsT0FBTyxDQUFDO0FBQy9DLGlCQUFhRixPQUFNLEdBQUdBLE9BQU0sR0FBR0EsT0FBTSxHQUFHLFVBQVUsQ0FBQyxDQUFDO0FBQ3BELHdCQUFvQixVQUFVLFVBQVUsQ0FBQyxDQUFDO0FBQzFDLGtCQUFjLFVBQVUsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxHQUFHLE1BQU07QUFDaEQsbUJBQWUsUUFBUUUsWUFBVztBQUFBLEVBQ3RDO0FBQ0EsRUFBQUosUUFBTyxlQUFlO0FBS3RCLFdBQVMsV0FBVztBQUNoQixVQUFNLFdBQVcsV0FBVyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBSyxDQUFHO0FBQzFHLDBCQUFzQixVQUFVLElBQUk7QUFDcEMsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLFdBQVc7QUFLbEIsV0FBUyxjQUFjLFFBQVE7QUFDM0Isb0JBQWdCLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssTUFBTTtBQUN0RywwQkFBc0IsUUFBUSxJQUFJO0FBQUEsRUFDdEM7QUFDQSxFQUFBQSxRQUFPLGdCQUFnQjtBQUt2QixXQUFTLE9BQU87QUFDWixVQUFNLE9BQU8sV0FBVyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBSyxDQUFHO0FBQ3RHLDBCQUFzQixNQUFNLEtBQUs7QUFDakMsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLE9BQU87QUFNZCxXQUFTLFVBQVUsT0FBTztBQUN0QixVQUFNLFNBQVMsT0FBTztBQUN0QixtQkFBZSxPQUFPLE1BQU07QUFDNUIsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLFlBQVk7QUFNbkIsV0FBUyxlQUFlLE9BQU8sUUFBUTtBQUNuQyxVQUFNLElBQUksS0FBSyxJQUFJLEtBQUs7QUFDeEIsVUFBTSxJQUFJLEtBQUssSUFBSSxLQUFLO0FBQ3hCLG9CQUFnQixHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBRyxHQUFHLEdBQUssR0FBSyxDQUFDLEdBQUcsR0FBRyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssTUFBTTtBQUMvRiwwQkFBc0IsUUFBUSxNQUFNLEtBQUssTUFBTSxDQUFDO0FBQUEsRUFDcEQ7QUFDQSxFQUFBQSxRQUFPLGlCQUFpQjtBQU14QixXQUFTLFVBQVUsT0FBTztBQUN0QixVQUFNLFNBQVMsT0FBTztBQUN0QixtQkFBZSxPQUFPLE1BQU07QUFDNUIsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLFlBQVk7QUFNbkIsV0FBUyxlQUFlLE9BQU8sUUFBUTtBQUNuQyxVQUFNLElBQUksS0FBSyxJQUFJLEtBQUs7QUFDeEIsVUFBTSxJQUFJLEtBQUssSUFBSSxLQUFLO0FBQ3hCLG9CQUFnQixHQUFHLEdBQUssQ0FBQyxHQUFHLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFHLEdBQUssR0FBRyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssTUFBTTtBQUMvRiwwQkFBc0IsUUFBUSxNQUFNLEtBQUssTUFBTSxDQUFDO0FBQUEsRUFDcEQ7QUFDQSxFQUFBQSxRQUFPLGlCQUFpQjtBQU14QixXQUFTLFVBQVUsT0FBTztBQUN0QixVQUFNLFNBQVMsT0FBTztBQUN0QixtQkFBZSxPQUFPLE1BQU07QUFDNUIsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLFlBQVk7QUFNbkIsV0FBUyxlQUFlLE9BQU8sUUFBUTtBQUNuQyxVQUFNLElBQUksS0FBSyxJQUFJLEtBQUs7QUFDeEIsVUFBTSxJQUFJLEtBQUssSUFBSSxLQUFLO0FBQ3hCLG9CQUFnQixHQUFHLEdBQUcsR0FBSyxHQUFLLENBQUMsR0FBRyxHQUFHLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssTUFBTTtBQUMvRiwwQkFBc0IsUUFBUSxNQUFNLEtBQUssTUFBTSxDQUFDO0FBQUEsRUFDcEQ7QUFDQSxFQUFBQSxRQUFPLGlCQUFpQjtBQU94QixXQUFTLGFBQWEsTUFBTSxPQUFPO0FBQy9CLFVBQU0sU0FBUyxPQUFPO0FBQ3RCLHNCQUFrQixNQUFNLE9BQU8sTUFBTTtBQUNyQyxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLFFBQU8sZUFBZTtBQU90QixXQUFTLGtCQUFrQixPQUFPLE9BQU8sUUFBUTtBQUM3QyxVQUFNLElBQUksS0FBSyxJQUFJLENBQUMsS0FBSztBQUN6QixVQUFNLElBQUksS0FBSyxJQUFJLENBQUMsS0FBSztBQUN6QixVQUFNLEtBQUssSUFBSTtBQUNmLFVBQU0sT0FBT0ssU0FBUSxVQUFVLEtBQUs7QUFDcEMsVUFBTUYsS0FBSSxPQUFPO0FBQ2pCLElBQUFBLEdBQUUsQ0FBQyxJQUFJLEtBQUssSUFBSSxLQUFLLElBQUksS0FBSztBQUM5QixJQUFBQSxHQUFFLENBQUMsSUFBSSxLQUFLLElBQUksS0FBSyxJQUFJLEtBQUssS0FBSyxJQUFJO0FBQ3ZDLElBQUFBLEdBQUUsQ0FBQyxJQUFJLEtBQUssSUFBSSxLQUFLLElBQUksS0FBSyxLQUFLLElBQUk7QUFDdkMsSUFBQUEsR0FBRSxDQUFDLElBQUk7QUFDUCxJQUFBQSxHQUFFLENBQUMsSUFBSSxLQUFLLElBQUksS0FBSyxJQUFJLEtBQUssS0FBSyxJQUFJO0FBQ3ZDLElBQUFBLEdBQUUsQ0FBQyxJQUFJLEtBQUssSUFBSSxLQUFLLElBQUksS0FBSztBQUM5QixJQUFBQSxHQUFFLENBQUMsSUFBSSxLQUFLLElBQUksS0FBSyxJQUFJLEtBQUssS0FBSyxJQUFJO0FBQ3ZDLElBQUFBLEdBQUUsQ0FBQyxJQUFJO0FBQ1AsSUFBQUEsR0FBRSxDQUFDLElBQUksS0FBSyxJQUFJLEtBQUssSUFBSSxLQUFLLEtBQUssSUFBSTtBQUN2QyxJQUFBQSxHQUFFLENBQUMsSUFBSSxLQUFLLElBQUksS0FBSyxJQUFJLEtBQUssS0FBSyxJQUFJO0FBQ3ZDLElBQUFBLEdBQUUsRUFBRSxJQUFJLEtBQUssSUFBSSxLQUFLLElBQUksS0FBSztBQUMvQixJQUFBQSxHQUFFLEVBQUUsSUFBSTtBQUNSLElBQUFBLEdBQUUsRUFBRSxJQUFJO0FBQ1IsSUFBQUEsR0FBRSxFQUFFLElBQUk7QUFDUixJQUFBQSxHQUFFLEVBQUUsSUFBSTtBQUNSLElBQUFBLEdBQUUsRUFBRSxJQUFJO0FBQ1IsbUJBQWUsTUFBTTtBQUFBLEVBQ3pCO0FBQ0EsRUFBQUgsUUFBTyxvQkFBb0I7QUFRM0IsV0FBUyxxQkFBcUIsS0FBSyxPQUFPLE1BQU07QUFDNUMsVUFBTSxTQUFTLE9BQU87QUFDdEIsOEJBQTBCLEtBQUssT0FBTyxNQUFNLE1BQU07QUFDbEQsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLHVCQUF1QjtBQVE5QixXQUFTLDBCQUEwQixLQUFLLE9BQU8sTUFBTSxRQUFRO0FBQ3pELFVBQU0sbUJBQW1CTSxZQUFXLEtBQUs7QUFDekMsSUFBQUEsWUFBVyw4QkFBOEIsS0FBSyxPQUFPLE1BQU0sZ0JBQWdCO0FBQzNFLHdCQUFvQixrQkFBa0IsTUFBTTtBQUFBLEVBQ2hEO0FBQ0EsRUFBQU4sUUFBTyw0QkFBNEI7QUFRbkMsV0FBUyxRQUFRLEdBQUcsR0FBRyxHQUFHO0FBQ3RCLFVBQU0sU0FBUyxPQUFPO0FBQ3RCLGlCQUFhLEdBQUcsR0FBRyxHQUFHLE1BQU07QUFDNUIsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLFVBQVU7QUFRakIsV0FBUyxhQUFhLEdBQUcsR0FBRyxHQUFHLFFBQVE7QUFDbkMsb0JBQWdCLEdBQUcsR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFHLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBRyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssTUFBTTtBQUNoRywwQkFBc0IsUUFBUSxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sQ0FBQztBQUFBLEVBQy9EO0FBQ0EsRUFBQUEsUUFBTyxlQUFlO0FBUXRCLFdBQVMsWUFBWSxHQUFHLEdBQUcsR0FBRztBQUMxQixVQUFNLFNBQVMsT0FBTztBQUN0QixxQkFBaUIsR0FBRyxHQUFHLEdBQUcsTUFBTTtBQUNoQyxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLFFBQU8sY0FBYztBQVFyQixXQUFTLGlCQUFpQixHQUFHLEdBQUcsR0FBRyxRQUFRO0FBQ3ZDLG9CQUFnQixHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFHLEdBQUcsR0FBRyxHQUFLLE1BQU07QUFDaEcsMEJBQXNCLFFBQVEsTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLENBQUM7QUFBQSxFQUMvRDtBQUNBLEVBQUFBLFFBQU8sbUJBQW1CO0FBUTFCLFdBQVMsS0FBSyxZQUFZLFVBQVUsVUFBVTtBQUMxQyxVQUFNLFNBQVMsT0FBTztBQUN0QixjQUFVLFlBQVksVUFBVSxVQUFVLE1BQU07QUFDaEQsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLE9BQU87QUFRZCxXQUFTLFVBQVUsWUFBWSxVQUFVLFVBQVUsUUFBUTtBQUN2RCxhQUFTLFFBQVEsR0FBRyxRQUFRLElBQUksU0FBUztBQUNyQyxhQUFPLEdBQUcsS0FBSyxJQUNYLFdBQVcsR0FBRyxLQUFLLEtBQUssSUFBTSxZQUFZLFNBQVMsR0FBRyxLQUFLLElBQUk7QUFBQSxJQUN2RTtBQUNBLG1CQUFlLE1BQU07QUFBQSxFQUN6QjtBQUNBLEVBQUFBLFFBQU8sWUFBWTtBQVduQixXQUFTLGNBQWMsWUFBWSxVQUFVLFVBQVU7QUFDbkQsVUFBTSxTQUFTLE9BQU87QUFDdEIsdUJBQW1CLFlBQVksVUFBVSxVQUFVLE1BQU07QUFDekQsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLGdCQUFnQjtBQVd2QixXQUFTLG1CQUFtQixZQUFZLFVBQVUsVUFBVSxRQUFRO0FBQ2hFLFVBQU0sYUFBYUssU0FBUSxLQUFLO0FBQ2hDLFVBQU0sZ0JBQWdCQyxZQUFXLEtBQUs7QUFDdEMsVUFBTSxtQkFBbUJELFNBQVEsS0FBSztBQUN0QyxjQUFVLFlBQVksWUFBWSxlQUFlLGdCQUFnQjtBQUNqRSxVQUFNLFdBQVdBLFNBQVEsS0FBSztBQUM5QixVQUFNLGNBQWNDLFlBQVcsS0FBSztBQUNwQyxVQUFNLGlCQUFpQkQsU0FBUSxLQUFLO0FBQ3BDLGNBQVUsVUFBVSxVQUFVLGFBQWEsY0FBYztBQUN6RCxVQUFNLGNBQWNBLFNBQVEsS0FBSztBQUNqQyxJQUFBQSxTQUFRLFVBQVUsWUFBWSxVQUFVLFVBQVUsV0FBVztBQUM3RCxVQUFNLGlCQUFpQkMsWUFBVyxLQUFLO0FBQ3ZDLElBQUFBLFlBQVcsV0FBVyxlQUFlLGFBQWEsVUFBVSxjQUFjO0FBQzFFLFVBQU0sb0JBQW9CRCxTQUFRLEtBQUs7QUFDdkMsSUFBQUEsU0FBUSxVQUFVLGtCQUFrQixnQkFBZ0IsVUFBVSxpQkFBaUI7QUFDL0UsaUJBQWEsYUFBYSxnQkFBZ0IsbUJBQW1CLE1BQU07QUFBQSxFQUN2RTtBQUNBLEVBQUFMLFFBQU8scUJBQXFCO0FBUzVCLFdBQVMsU0FBUyxLQUFLLFFBQVEsSUFBSTtBQUMvQixVQUFNLFNBQVMsT0FBTztBQUN0QixrQkFBYyxLQUFLLFFBQVEsSUFBSSxNQUFNO0FBQ3JDLFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUEsUUFBTyxXQUFXO0FBU2xCLFdBQVMsY0FBYyxLQUFLLFFBQVEsSUFBSSxRQUFRO0FBQzVDLFVBQU0sUUFBUUssU0FBUSxLQUFLO0FBQzNCLFVBQU0sUUFBUUEsU0FBUSxLQUFLO0FBQzNCLFVBQU0sUUFBUUEsU0FBUSxLQUFLO0FBRTNCLElBQUFBLFNBQVEsY0FBYyxRQUFRLEtBQUssS0FBSztBQUN4QyxJQUFBQSxTQUFRLGVBQWUsT0FBTyxLQUFLO0FBRW5DLElBQUFBLFNBQVEsV0FBVyxJQUFJLE9BQU8sS0FBSztBQUNuQyxVQUFNLGdCQUFnQkEsU0FBUSxjQUFjLEtBQUs7QUFDakQsUUFBSSxrQkFBa0IsR0FBRztBQUNyQixZQUFNLElBQUk7QUFBQSxJQUNkLE9BQ0s7QUFDRCxNQUFBQSxTQUFRLHlCQUF5QixPQUFPLEtBQUssS0FBSyxhQUFhLEdBQUcsS0FBSztBQUFBLElBQzNFO0FBRUEsSUFBQUEsU0FBUSxXQUFXLE9BQU8sT0FBTyxLQUFLO0FBQ3RDLElBQUFBLFNBQVEsZUFBZSxPQUFPLEtBQUs7QUFFbkMsVUFBTSxLQUFLLENBQUNBLFNBQVEsSUFBSSxPQUFPLEdBQUc7QUFDbEMsVUFBTSxLQUFLLENBQUNBLFNBQVEsSUFBSSxPQUFPLEdBQUc7QUFDbEMsVUFBTSxLQUFLLENBQUNBLFNBQVEsSUFBSSxPQUFPLEdBQUc7QUFDbEMsb0JBQWdCLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLEdBQUssTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsR0FBSyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxHQUFLLElBQUksSUFBSSxJQUFJLEdBQUssTUFBTTtBQUFBLEVBQzNJO0FBQ0EsRUFBQUwsUUFBTyxnQkFBZ0I7QUFTdkIsV0FBUyxTQUFTLEtBQUssUUFBUSxJQUFJO0FBQy9CLFVBQU0sU0FBUyxPQUFPO0FBQ3RCLGtCQUFjLEtBQUssUUFBUSxJQUFJLE1BQU07QUFDckMsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLFdBQVc7QUFTbEIsV0FBUyxjQUFjLEtBQUssUUFBUSxJQUFJLFFBQVE7QUFDNUMsVUFBTSxRQUFRSyxTQUFRLEtBQUs7QUFDM0IsVUFBTSxRQUFRQSxTQUFRLEtBQUs7QUFDM0IsVUFBTSxRQUFRQSxTQUFRLEtBQUs7QUFFM0IsSUFBQUEsU0FBUSxjQUFjLEtBQUssUUFBUSxLQUFLO0FBQ3hDLElBQUFBLFNBQVEsZUFBZSxPQUFPLEtBQUs7QUFFbkMsSUFBQUEsU0FBUSxXQUFXLElBQUksT0FBTyxLQUFLO0FBQ25DLFVBQU0sZ0JBQWdCQSxTQUFRLGNBQWMsS0FBSztBQUNqRCxRQUFJLGtCQUFrQixHQUFHO0FBQ3JCLFlBQU0sSUFBSTtBQUFBLElBQ2QsT0FDSztBQUNELE1BQUFBLFNBQVEseUJBQXlCLE9BQU8sS0FBSyxLQUFLLGFBQWEsR0FBRyxLQUFLO0FBQUEsSUFDM0U7QUFFQSxJQUFBQSxTQUFRLFdBQVcsT0FBTyxPQUFPLEtBQUs7QUFDdEMsSUFBQUEsU0FBUSxlQUFlLE9BQU8sS0FBSztBQUVuQyxVQUFNLEtBQUssQ0FBQ0EsU0FBUSxJQUFJLE9BQU8sR0FBRztBQUNsQyxVQUFNLEtBQUssQ0FBQ0EsU0FBUSxJQUFJLE9BQU8sR0FBRztBQUNsQyxVQUFNLEtBQUssQ0FBQ0EsU0FBUSxJQUFJLE9BQU8sR0FBRztBQUNsQyxvQkFBZ0IsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsR0FBSyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxHQUFLLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLEdBQUssSUFBSSxJQUFJLElBQUksR0FBSyxNQUFNO0FBQUEsRUFDM0k7QUFDQSxFQUFBTCxRQUFPLGdCQUFnQjtBQVN2QixXQUFTLFFBQVEsT0FBTyxRQUFRLE9BQU8sTUFBTTtBQUN6QyxVQUFNLFNBQVMsT0FBTztBQUN0QixpQkFBYSxPQUFPLFFBQVEsT0FBTyxNQUFNLE1BQU07QUFDL0MsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLFVBQVU7QUFTakIsV0FBUyxhQUFhLE9BQU8sUUFBUSxPQUFPLE1BQU0sUUFBUTtBQUN0RCxVQUFNLElBQUk7QUFDVixVQUFNLElBQUk7QUFDVixVQUFNLElBQUksSUFBTTtBQUNoQixVQUFNLElBQUksSUFBTTtBQUNoQixVQUFNLElBQUksS0FBTyxJQUFJO0FBQ3JCLFVBQU0sSUFBSSxFQUFFLElBQUksTUFBTSxJQUFJO0FBQzFCLG9CQUFnQixHQUFHLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBRyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUcsR0FBSyxHQUFLLEdBQUssR0FBRyxHQUFLLE1BQU07QUFDOUYsMEJBQXNCLFFBQVEsTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxDQUFDO0FBQUEsRUFDMUU7QUFDQSxFQUFBQSxRQUFPLGVBQWU7QUFXdEIsV0FBUyxpQkFBaUIsTUFBTSxPQUFPLFFBQVEsS0FBSyxPQUFPLE1BQU07QUFDN0QsVUFBTSxTQUFTLE9BQU87QUFDdEIsMEJBQXNCLE1BQU0sT0FBTyxRQUFRLEtBQUssT0FBTyxNQUFNLE1BQU07QUFDbkUsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLG1CQUFtQjtBQVcxQixXQUFTLHNCQUFzQixNQUFNLE9BQU8sUUFBUSxLQUFLLE9BQU8sTUFBTSxRQUFRO0FBQzFFLFVBQU0sSUFBSTtBQUNWLFVBQU0sSUFBSTtBQUNWLFVBQU0sSUFBSSxLQUFPLFFBQVE7QUFDekIsVUFBTSxJQUFJLEtBQU8sTUFBTTtBQUN2QixVQUFNLElBQUksS0FBTyxJQUFJO0FBQ3JCLFVBQU0sSUFBSSxFQUFFLElBQUksTUFBTSxJQUFJO0FBQzFCLFVBQU0sTUFBTSxPQUFPLFVBQVUsT0FBTztBQUNwQyxVQUFNLE1BQU0sTUFBTSxXQUFXLFNBQVM7QUFDdEMsb0JBQWdCLEdBQUcsR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFHLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBRyxHQUFLLElBQUksSUFBSSxHQUFHLEdBQUssTUFBTTtBQUM1RixtQkFBZSxNQUFNO0FBQUEsRUFDekI7QUFDQSxFQUFBQSxRQUFPLHdCQUF3QjtBQVcvQixXQUFTLGlCQUFpQixNQUFNLE9BQU8sUUFBUSxLQUFLLE9BQU8sTUFBTTtBQUM3RCxVQUFNLFNBQVMsT0FBTztBQUN0QiwwQkFBc0IsTUFBTSxPQUFPLFFBQVEsS0FBSyxPQUFPLE1BQU0sTUFBTTtBQUNuRSxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLFFBQU8sbUJBQW1CO0FBVzFCLFdBQVMsc0JBQXNCLE1BQU0sT0FBTyxRQUFRLEtBQUssT0FBTyxNQUFNLFFBQVE7QUFDMUUsMEJBQXNCLE1BQU0sT0FBTyxRQUFRLEtBQUssT0FBTyxNQUFNLE1BQU07QUFDbkUsV0FBTyxHQUFHLEVBQUUsS0FBSztBQUFBLEVBQ3JCO0FBQ0EsRUFBQUEsUUFBTyx3QkFBd0I7QUFTL0IsV0FBUyxjQUFjLE9BQU8sUUFBUSxPQUFPLE1BQU07QUFDL0MsVUFBTSxTQUFTLE9BQU87QUFDdEIsVUFBTSxJQUFJO0FBQ1YsVUFBTSxJQUFJO0FBQ1YsVUFBTSxJQUFLLElBQU0sSUFBSztBQUN0QixVQUFNLElBQUssSUFBTSxJQUFLO0FBQ3RCLFVBQU0sS0FBSyxJQUFJLE1BQU0sSUFBSTtBQUN6QixVQUFNLElBQUssS0FBTyxJQUFJLEtBQU0sSUFBSTtBQUNoQyxvQkFBZ0IsR0FBRyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUcsR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFHLEdBQUssR0FBSyxHQUFLLEdBQUcsR0FBSyxNQUFNO0FBQzlGLDBCQUFzQixRQUFRLEtBQUs7QUFDbkMsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLGdCQUFnQjtBQVN2QixXQUFTLGlCQUFpQixLQUFLLFFBQVEsT0FBTyxNQUFNO0FBQ2hELFVBQU0sU0FBUyxPQUFPO0FBQ3RCLDBCQUFzQixLQUFLLFFBQVEsT0FBTyxNQUFNLE1BQU07QUFDdEQsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLG1CQUFtQjtBQVUxQixXQUFTLHNCQUFzQixLQUFLLFFBQVEsT0FBTyxNQUFNLFFBQVEscUJBQXFCLE1BQU07QUFDeEYsVUFBTSxJQUFJO0FBQ1YsVUFBTSxJQUFJO0FBQ1YsVUFBTSxJQUFJLElBQU0sS0FBSyxJQUFJLE1BQU0sR0FBRztBQUNsQyxVQUFNLElBQUkscUJBQXFCLElBQUksU0FBUztBQUM1QyxVQUFNLElBQUkscUJBQXFCLElBQUksSUFBSTtBQUN2QyxVQUFNLEtBQUssSUFBSSxNQUFNLElBQUk7QUFDekIsVUFBTSxJQUFLLEtBQU8sSUFBSSxLQUFNLElBQUk7QUFDaEMsb0JBQWdCLEdBQUcsR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFHLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBRyxHQUFLLEdBQUssR0FBSyxHQUFHLEdBQUssTUFBTTtBQUM5RiwwQkFBc0IsUUFBUSxLQUFLO0FBQUEsRUFDdkM7QUFDQSxFQUFBQSxRQUFPLHdCQUF3QjtBQVMvQixXQUFTLGlCQUFpQixLQUFLLFFBQVEsT0FBTyxNQUFNO0FBQ2hELFVBQU0sU0FBUyxPQUFPO0FBQ3RCLDBCQUFzQixLQUFLLFFBQVEsT0FBTyxNQUFNLE1BQU07QUFDdEQsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLG1CQUFtQjtBQVUxQixXQUFTLHNCQUFzQixLQUFLLFFBQVEsT0FBTyxNQUFNLFFBQVEscUJBQXFCLE1BQU07QUFNeEYsVUFBTSxJQUFJO0FBQ1YsVUFBTSxJQUFJO0FBQ1YsVUFBTSxJQUFJLElBQU0sS0FBSyxJQUFJLE1BQU0sR0FBRztBQUNsQyxVQUFNLElBQUkscUJBQXFCLElBQUksU0FBUztBQUM1QyxVQUFNLElBQUkscUJBQXFCLElBQUksSUFBSTtBQUN2QyxVQUFNLElBQUksRUFBRSxJQUFJLE1BQU0sSUFBSTtBQUMxQixVQUFNLElBQUssS0FBSyxJQUFJLEtBQU0sSUFBSTtBQUM5QixvQkFBZ0IsR0FBRyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUcsR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFHLElBQU0sR0FBSyxHQUFLLEdBQUcsR0FBSyxNQUFNO0FBQy9GLDBCQUFzQixRQUFRLEtBQUs7QUFBQSxFQUN2QztBQUNBLEVBQUFBLFFBQU8sd0JBQXdCO0FBUy9CLFdBQVMseUJBQXlCLEtBQUssT0FBTyxNQUFNLFFBQVEsY0FBYyxPQUFPO0FBQzdFLFVBQU0sb0JBQW9CLGNBQWMsS0FBSztBQUM3QyxVQUFNLFFBQVEsS0FBSyxJQUFLLElBQUksWUFBWSxLQUFLLEtBQU0sR0FBSztBQUN4RCxVQUFNLFVBQVUsS0FBSyxJQUFLLElBQUksY0FBYyxLQUFLLEtBQU0sR0FBSztBQUM1RCxVQUFNLFVBQVUsS0FBSyxJQUFLLElBQUksY0FBYyxLQUFLLEtBQU0sR0FBSztBQUM1RCxVQUFNLFdBQVcsS0FBSyxJQUFLLElBQUksZUFBZSxLQUFLLEtBQU0sR0FBSztBQUM5RCxVQUFNLFNBQVMsS0FBTyxVQUFVO0FBQ2hDLFVBQU0sU0FBUyxLQUFPLFFBQVE7QUFDOUIsVUFBTUcsS0FBSSxPQUFPO0FBQ2pCLElBQUFBLEdBQUUsQ0FBQyxJQUFJO0FBQ1AsSUFBQUEsR0FBRSxDQUFDLElBQUlBLEdBQUUsQ0FBQyxJQUFJQSxHQUFFLENBQUMsSUFBSUEsR0FBRSxDQUFDLElBQUk7QUFDNUIsSUFBQUEsR0FBRSxDQUFDLElBQUk7QUFDUCxJQUFBQSxHQUFFLENBQUMsSUFBSUEsR0FBRSxDQUFDLElBQUk7QUFDZCxJQUFBQSxHQUFFLENBQUMsS0FBSyxVQUFVLFlBQVksU0FBUztBQUN2QyxJQUFBQSxHQUFFLENBQUMsSUFBSSxHQUFHLFFBQVEsV0FBVyxTQUFTO0FBQ3RDLElBQUFBLEdBQUUsRUFBRSxJQUFJLENBQUMsUUFBUSxRQUFRO0FBQ3pCLElBQUFBLEdBQUUsRUFBRSxJQUFJLElBQU07QUFDZCxJQUFBQSxHQUFFLEVBQUUsSUFBSUEsR0FBRSxFQUFFLElBQUlBLEdBQUUsRUFBRSxJQUFJO0FBQ3hCLElBQUFBLEdBQUUsRUFBRSxJQUFJLEVBQUUsSUFBTSxPQUFPLFVBQVUsT0FBTztBQUN4QyxtQkFBZSxNQUFNO0FBQUEsRUFDekI7QUFDQSxFQUFBSCxRQUFPLDJCQUEyQjtBQU1sQyxXQUFTLGVBQWUsUUFBUTtBQUM1QixXQUFPLENBQUMsT0FBTyxHQUFHLENBQUMsR0FBRyxPQUFPLEdBQUcsQ0FBQyxHQUFHLE9BQU8sR0FBRyxDQUFDLEdBQUcsT0FBTyxHQUFHLENBQUMsQ0FBQztBQUFBLEVBQ2xFO0FBQ0EsRUFBQUEsUUFBTyxpQkFBaUI7QUFNeEIsV0FBUyxlQUFlLFFBQVE7QUFDNUIsV0FBTztBQUFBLE1BQ0gsT0FBTyxHQUFHLENBQUM7QUFBQSxNQUNYLE9BQU8sR0FBRyxDQUFDO0FBQUEsTUFDWCxPQUFPLEdBQUcsQ0FBQztBQUFBLE1BQ1gsT0FBTyxHQUFHLENBQUM7QUFBQSxNQUNYLE9BQU8sR0FBRyxDQUFDO0FBQUEsTUFDWCxPQUFPLEdBQUcsQ0FBQztBQUFBLE1BQ1gsT0FBTyxHQUFHLENBQUM7QUFBQSxNQUNYLE9BQU8sR0FBRyxDQUFDO0FBQUEsTUFDWCxPQUFPLEdBQUcsRUFBRTtBQUFBLElBQ2hCO0FBQUEsRUFDSjtBQUNBLEVBQUFBLFFBQU8saUJBQWlCO0FBTXhCLFdBQVMsVUFBVSxRQUFRO0FBQ3ZCLFVBQU0sU0FBUyxPQUFPO0FBQ3RCLG1CQUFlLFFBQVEsTUFBTTtBQUM3QixXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLFFBQU8sWUFBWTtBQU1uQixXQUFTLGVBQWUsUUFBUSxRQUFRO0FBQ3BDLFVBQU0sS0FBSyxPQUFPO0FBQ2xCLFVBQU0sS0FBSyxPQUFPO0FBQ2xCLE9BQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQztBQUNaLE9BQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQztBQUNaLE9BQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQztBQUNaLE9BQUcsQ0FBQyxJQUFJLEdBQUcsRUFBRTtBQUNiLE9BQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQztBQUNaLE9BQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQztBQUNaLE9BQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQztBQUNaLE9BQUcsQ0FBQyxJQUFJLEdBQUcsRUFBRTtBQUNiLE9BQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQztBQUNaLE9BQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQztBQUNaLE9BQUcsRUFBRSxJQUFJLEdBQUcsRUFBRTtBQUNkLE9BQUcsRUFBRSxJQUFJLEdBQUcsRUFBRTtBQUNkLE9BQUcsRUFBRSxJQUFJLEdBQUcsQ0FBQztBQUNiLE9BQUcsRUFBRSxJQUFJLEdBQUcsQ0FBQztBQUNiLE9BQUcsRUFBRSxJQUFJLEdBQUcsRUFBRTtBQUNkLE9BQUcsRUFBRSxJQUFJLEdBQUcsRUFBRTtBQUVkLDBCQUFzQixRQUFRLE9BQU8sWUFBWSxPQUFPLGdCQUFnQjtBQUFBLEVBQzVFO0FBQ0EsRUFBQUEsUUFBTyxpQkFBaUI7QUFNeEIsV0FBUyxXQUFXLE9BQU87QUFDdkIsVUFBTSxTQUFTLE9BQU87QUFDdEIsb0JBQWdCLE9BQU8sTUFBTTtBQUM3QixXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLFFBQU8sYUFBYTtBQU1wQixXQUFTLGdCQUFnQixRQUFRLFFBQVE7QUFDckMsVUFBTSxRQUFRLE1BQU0sVUFBVSxNQUFNO0FBQ3BDLFVBQU0sSUFBSSxNQUFNLE9BQU87QUFDdkIsVUFBTSxJQUFJLE1BQU0sT0FBTztBQUN2QixVQUFNLElBQUksTUFBTSxPQUFPO0FBQ3ZCLFVBQU0sT0FBTyxLQUFLO0FBQ2xCLFVBQU0sUUFBUSxLQUFLO0FBQ25CLFVBQU0sUUFBUSxLQUFLO0FBQ25CLG9CQUFnQixPQUFPLElBQUksR0FBRyxRQUFRLEdBQUcsUUFBUSxHQUFHLEdBQUssT0FBTyxHQUFHLFFBQVEsSUFBSSxHQUFHLFFBQVEsR0FBRyxHQUFLLE9BQU8sR0FBRyxRQUFRLEdBQUcsUUFBUSxJQUFJLEdBQUcsR0FBSyxPQUFPLE1BQU0sR0FBRyxRQUFRLE1BQU0sR0FBRyxRQUFRLE1BQU0sR0FBRyxHQUFLLE1BQU07QUFBQSxFQUM1TTtBQUNBLEVBQUFBLFFBQU8sa0JBQWtCO0FBUXpCLFdBQVMsaUJBQWlCLE9BQU8sT0FBTyxPQUFPLFFBQVE7QUFDbkQsb0JBQWdCLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLEdBQUssTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsR0FBSyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssTUFBTTtBQUFBLEVBQzlJO0FBQ0EsRUFBQUEsUUFBTyxtQkFBbUI7QUFNMUIsV0FBUyxvQkFBb0IsTUFBTSxRQUFRO0FBQ3ZDLFVBQU0sS0FBSyxLQUFLLElBQUksS0FBSztBQUN6QixVQUFNLEtBQUssS0FBSyxJQUFJLEtBQUs7QUFDekIsVUFBTSxLQUFLLEtBQUssSUFBSSxLQUFLO0FBQ3pCLFVBQU0sS0FBSyxLQUFLLElBQUksS0FBSztBQUN6QixVQUFNLEtBQUssS0FBSyxJQUFJLEtBQUs7QUFDekIsVUFBTSxLQUFLLEtBQUssSUFBSSxLQUFLO0FBQ3pCLFVBQU0sS0FBSyxLQUFLLElBQUksS0FBSztBQUN6QixVQUFNLEtBQUssS0FBSyxJQUFJLEtBQUs7QUFDekIsVUFBTSxLQUFLLEtBQUssSUFBSSxLQUFLO0FBQ3pCLFdBQU8sR0FBRyxDQUFDLElBQUksSUFBTSxLQUFPLEtBQUs7QUFDakMsV0FBTyxHQUFHLENBQUMsSUFBSSxLQUFPLEtBQUs7QUFDM0IsV0FBTyxHQUFHLENBQUMsSUFBSSxLQUFPLEtBQUs7QUFDM0IsV0FBTyxHQUFHLENBQUMsSUFBSTtBQUNmLFdBQU8sR0FBRyxDQUFDLElBQUksS0FBTyxLQUFLO0FBQzNCLFdBQU8sR0FBRyxDQUFDLElBQUksSUFBTSxLQUFPLEtBQUs7QUFDakMsV0FBTyxHQUFHLENBQUMsSUFBSSxLQUFPLEtBQUs7QUFDM0IsV0FBTyxHQUFHLENBQUMsSUFBSTtBQUNmLFdBQU8sR0FBRyxDQUFDLElBQUksS0FBTyxLQUFLO0FBQzNCLFdBQU8sR0FBRyxDQUFDLElBQUksS0FBTyxLQUFLO0FBQzNCLFdBQU8sR0FBRyxFQUFFLElBQUksSUFBTSxLQUFPLEtBQUs7QUFDbEMsV0FBTyxHQUFHLEVBQUUsSUFBSTtBQUNoQixXQUFPLEdBQUcsRUFBRSxJQUFJO0FBQ2hCLFdBQU8sR0FBRyxFQUFFLElBQUk7QUFDaEIsV0FBTyxHQUFHLEVBQUUsSUFBSTtBQUNoQixXQUFPLEdBQUcsRUFBRSxJQUFJO0FBQ2hCLG1CQUFlLE1BQU07QUFBQSxFQUN6QjtBQUNBLEVBQUFBLFFBQU8sc0JBQXNCO0FBRTdCLFdBQVMsZUFBZUMsT0FBTTtBQUMxQixJQUFBQSxNQUFLLGFBQWE7QUFDbEIsSUFBQUEsTUFBSyxhQUFhO0FBQ2xCLElBQUFBLE1BQUssZ0JBQWdCO0FBQ3JCLElBQUFBLE1BQUssbUJBQW1CO0FBQ3hCLElBQUFBLE1BQUssc0JBQXNCO0FBQUEsRUFDL0I7QUFNQSxXQUFTLGlCQUFpQkEsT0FBTTtBQUM1QixRQUFJQSxNQUFLLGtCQUFrQjtBQUN2QixNQUFBQSxNQUFLLG1CQUFtQjtBQUN4QixZQUFNRSxLQUFJRixNQUFLO0FBQ2YsTUFBQUEsTUFBSyxhQUNERSxHQUFFLENBQUMsTUFBTSxLQUNMQSxHQUFFLENBQUMsTUFBTSxLQUNUQSxHQUFFLENBQUMsTUFBTSxLQUNUQSxHQUFFLENBQUMsTUFBTSxLQUNUQSxHQUFFLENBQUMsTUFBTSxLQUNUQSxHQUFFLENBQUMsTUFBTSxLQUNUQSxHQUFFLENBQUMsTUFBTSxLQUNUQSxHQUFFLENBQUMsTUFBTSxLQUNUQSxHQUFFLENBQUMsTUFBTSxLQUNUQSxHQUFFLENBQUMsTUFBTSxLQUNUQSxHQUFFLEVBQUUsTUFBTSxLQUNWQSxHQUFFLEVBQUUsTUFBTSxLQUNWQSxHQUFFLEVBQUUsTUFBTSxLQUNWQSxHQUFFLEVBQUUsTUFBTSxLQUNWQSxHQUFFLEVBQUUsTUFBTSxLQUNWQSxHQUFFLEVBQUUsTUFBTTtBQUFBLElBQ3RCO0FBQ0EsV0FBT0YsTUFBSztBQUFBLEVBQ2hCO0FBQ0EsRUFBQUQsUUFBTyxtQkFBbUI7QUFLMUIsV0FBUyxzQkFBc0JDLE9BQU07QUFDakMsUUFBSUEsTUFBSyxxQkFBcUI7QUFDMUIsTUFBQUEsTUFBSyxzQkFBc0I7QUFDM0IsVUFBSUEsTUFBSyxHQUFHLENBQUMsTUFBTSxLQUFPQSxNQUFLLEdBQUcsQ0FBQyxNQUFNLEtBQU9BLE1BQUssR0FBRyxFQUFFLE1BQU0sR0FBSztBQUNqRSxRQUFBQSxNQUFLLGdCQUFnQjtBQUFBLE1BQ3pCLFdBQ1NBLE1BQUssR0FBRyxDQUFDLE1BQU0sS0FDcEJBLE1BQUssR0FBRyxDQUFDLE1BQU0sS0FDZkEsTUFBSyxHQUFHLENBQUMsTUFBTSxLQUNmQSxNQUFLLEdBQUcsQ0FBQyxNQUFNLEtBQ2ZBLE1BQUssR0FBRyxDQUFDLE1BQU0sS0FDZkEsTUFBSyxHQUFHLENBQUMsTUFBTSxLQUNmQSxNQUFLLEdBQUcsQ0FBQyxNQUFNLEtBQ2ZBLE1BQUssR0FBRyxDQUFDLE1BQU0sS0FDZkEsTUFBSyxHQUFHLEVBQUUsTUFBTSxLQUNoQkEsTUFBSyxHQUFHLEVBQUUsTUFBTSxLQUNoQkEsTUFBSyxHQUFHLEVBQUUsTUFBTSxLQUNoQkEsTUFBSyxHQUFHLEVBQUUsTUFBTSxLQUNoQkEsTUFBSyxHQUFHLEVBQUUsTUFBTSxHQUFLO0FBQ3JCLFFBQUFBLE1BQUssZ0JBQWdCO0FBQUEsTUFDekIsT0FDSztBQUNELFFBQUFBLE1BQUssZ0JBQWdCO0FBQUEsTUFDekI7QUFBQSxJQUNKO0FBQ0EsV0FBT0EsTUFBSztBQUFBLEVBQ2hCO0FBQ0EsRUFBQUQsUUFBTyx3QkFBd0I7QUFLL0IsV0FBUyxZQUFZQyxPQUFNO0FBQ3ZCLFFBQUlBLE1BQUssZUFBZSxNQUFNO0FBQzFCLGFBQU87QUFBQSxJQUNYO0FBQ0EsVUFBTUUsS0FBSUYsTUFBSztBQUVmLFVBQU0sTUFBTUUsR0FBRSxDQUFDLEdBQUcsTUFBTUEsR0FBRSxDQUFDLEdBQUcsTUFBTUEsR0FBRSxDQUFDLEdBQUcsTUFBTUEsR0FBRSxDQUFDO0FBRW5ELFVBQU0sTUFBTUEsR0FBRSxDQUFDLEdBQUcsTUFBTUEsR0FBRSxDQUFDLEdBQUcsTUFBTUEsR0FBRSxDQUFDLEdBQUcsTUFBTUEsR0FBRSxDQUFDO0FBRW5ELFVBQU0sTUFBTUEsR0FBRSxDQUFDLEdBQUcsTUFBTUEsR0FBRSxDQUFDLEdBQUcsTUFBTUEsR0FBRSxFQUFFLEdBQUcsTUFBTUEsR0FBRSxFQUFFO0FBRXJELFVBQU0sTUFBTUEsR0FBRSxFQUFFLEdBQUcsTUFBTUEsR0FBRSxFQUFFLEdBQUcsTUFBTUEsR0FBRSxFQUFFLEdBQUcsTUFBTUEsR0FBRSxFQUFFO0FBYXZELFVBQU0sWUFBWSxNQUFNLE1BQU0sTUFBTTtBQUNwQyxVQUFNLFlBQVksTUFBTSxNQUFNLE1BQU07QUFDcEMsVUFBTSxZQUFZLE1BQU0sTUFBTSxNQUFNO0FBQ3BDLFVBQU0sWUFBWSxNQUFNLE1BQU0sTUFBTTtBQUNwQyxVQUFNLFlBQVksTUFBTSxNQUFNLE1BQU07QUFDcEMsVUFBTSxZQUFZLE1BQU0sTUFBTSxNQUFNO0FBQ3BDLFVBQU0sWUFBWSxFQUFFLE1BQU0sWUFBWSxNQUFNLFlBQVksTUFBTTtBQUM5RCxVQUFNLFlBQVksRUFBRSxNQUFNLFlBQVksTUFBTSxZQUFZLE1BQU07QUFDOUQsVUFBTSxZQUFZLEVBQUUsTUFBTSxZQUFZLE1BQU0sWUFBWSxNQUFNO0FBQzlELFVBQU0sWUFBWSxFQUFFLE1BQU0sWUFBWSxNQUFNLFlBQVksTUFBTTtBQUU5RCxXQUFPLE1BQU0sWUFBWSxNQUFNLFlBQVksTUFBTSxZQUFZLE1BQU07QUFBQSxFQUN2RTtBQUNBLEVBQUFILFFBQU8sY0FBYztBQU1yQixXQUFTLFFBQVFDLE9BQU07QUFDbkIsV0FBT0EsTUFBSztBQUFBLEVBQ2hCO0FBQ0EsRUFBQUQsUUFBTyxVQUFVO0FBS2pCLFdBQVMsUUFBUUMsT0FBTTtBQUNuQixXQUFPQSxNQUFLO0FBQUEsRUFDaEI7QUFDQSxFQUFBRCxRQUFPLFVBQVU7QUFLakIsV0FBUyxNQUFNQyxPQUFNO0FBQ2pCLG9CQUFnQixHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFLLEdBQUssR0FBSyxHQUFLQSxLQUFJO0FBQ3BHLDBCQUFzQkEsT0FBTSxLQUFLO0FBQUEsRUFDckM7QUFDQSxFQUFBRCxRQUFPLFFBQVE7QUFNZixXQUFTTyxLQUFJTixPQUFNLE9BQU87QUFDdEIsVUFBTSxTQUFTLE9BQU87QUFDdEIsYUFBU0EsT0FBTSxPQUFPLE1BQU07QUFDNUIsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBRCxRQUFPLE1BQU1PO0FBT2IsV0FBUyxTQUFTTixPQUFNLE9BQU8sUUFBUTtBQUNuQyxhQUFTLFFBQVEsR0FBRyxRQUFRLElBQUksU0FBUztBQUNyQyxhQUFPLEdBQUcsS0FBSyxJQUFJQSxNQUFLLEdBQUcsS0FBSyxJQUFJLE1BQU0sR0FBRyxLQUFLO0FBQUEsSUFDdEQ7QUFDQSxtQkFBZSxNQUFNO0FBQUEsRUFDekI7QUFDQSxFQUFBRCxRQUFPLFdBQVc7QUFNbEIsV0FBUyxVQUFVQyxPQUFNLE9BQU87QUFDNUIsYUFBUyxRQUFRLEdBQUcsUUFBUSxJQUFJLFNBQVM7QUFDckMsTUFBQUEsTUFBSyxHQUFHLEtBQUssS0FBSyxNQUFNLEdBQUcsS0FBSztBQUFBLElBQ3BDO0FBQ0EsbUJBQWVBLEtBQUk7QUFBQSxFQUN2QjtBQUNBLEVBQUFELFFBQU8sWUFBWTtBQU1uQixXQUFTLE9BQU8sUUFBUTtBQUNwQixVQUFNLFNBQVMsT0FBTztBQUN0QixnQkFBWSxRQUFRLE1BQU07QUFDMUIsV0FBTztBQUFBLEVBQ1g7QUFDQSxFQUFBQSxRQUFPLFNBQVM7QUFNaEIsV0FBUyxZQUFZLFFBQVEsUUFBUTtBQUNqQyxRQUFJLE9BQU8sZUFBZSxNQUFNO0FBQzVCLFdBQUssUUFBUSxNQUFNO0FBQ25CO0FBQUEsSUFDSjtBQUVBLFVBQU1HLEtBQUksT0FBTztBQUVqQixVQUFNLE1BQU1BLEdBQUUsQ0FBQyxHQUFHLE1BQU1BLEdBQUUsQ0FBQyxHQUFHLE1BQU1BLEdBQUUsQ0FBQyxHQUFHLE1BQU1BLEdBQUUsQ0FBQztBQUNuRCxVQUFNLE1BQU1BLEdBQUUsQ0FBQyxHQUFHLE1BQU1BLEdBQUUsQ0FBQyxHQUFHLE1BQU1BLEdBQUUsQ0FBQyxHQUFHLE1BQU1BLEdBQUUsQ0FBQztBQUNuRCxVQUFNLE1BQU1BLEdBQUUsQ0FBQyxHQUFHLE1BQU1BLEdBQUUsQ0FBQyxHQUFHLE1BQU1BLEdBQUUsRUFBRSxHQUFHLE1BQU1BLEdBQUUsRUFBRTtBQUNyRCxVQUFNLE1BQU1BLEdBQUUsRUFBRSxHQUFHLE1BQU1BLEdBQUUsRUFBRSxHQUFHLE1BQU1BLEdBQUUsRUFBRSxHQUFHLE1BQU1BLEdBQUUsRUFBRTtBQUd2RCxVQUFNLFlBQVksTUFBTSxNQUFNLE1BQU07QUFDcEMsVUFBTSxZQUFZLE1BQU0sTUFBTSxNQUFNO0FBQ3BDLFVBQU0sWUFBWSxNQUFNLE1BQU0sTUFBTTtBQUNwQyxVQUFNLFlBQVksTUFBTSxNQUFNLE1BQU07QUFDcEMsVUFBTSxZQUFZLE1BQU0sTUFBTSxNQUFNO0FBQ3BDLFVBQU0sWUFBWSxNQUFNLE1BQU0sTUFBTTtBQUNwQyxVQUFNLFlBQVksRUFBRSxNQUFNLFlBQVksTUFBTSxZQUFZLE1BQU07QUFDOUQsVUFBTSxZQUFZLEVBQUUsTUFBTSxZQUFZLE1BQU0sWUFBWSxNQUFNO0FBQzlELFVBQU0sWUFBWSxFQUFFLE1BQU0sWUFBWSxNQUFNLFlBQVksTUFBTTtBQUM5RCxVQUFNLFlBQVksRUFBRSxNQUFNLFlBQVksTUFBTSxZQUFZLE1BQU07QUFDOUQsVUFBTSxNQUFNLE1BQU0sWUFBWSxNQUFNLFlBQVksTUFBTSxZQUFZLE1BQU07QUFDeEUsUUFBSSxRQUFRLEdBQUc7QUFDWCxXQUFLLFFBQVEsTUFBTTtBQUNuQjtBQUFBLElBQ0o7QUFDQSxVQUFNLFNBQVMsSUFBSTtBQUNuQixVQUFNLFlBQVksTUFBTSxNQUFNLE1BQU07QUFDcEMsVUFBTSxZQUFZLE1BQU0sTUFBTSxNQUFNO0FBQ3BDLFVBQU0sWUFBWSxNQUFNLE1BQU0sTUFBTTtBQUNwQyxVQUFNLFlBQVksTUFBTSxNQUFNLE1BQU07QUFDcEMsVUFBTSxZQUFZLE1BQU0sTUFBTSxNQUFNO0FBQ3BDLFVBQU0sWUFBWSxNQUFNLE1BQU0sTUFBTTtBQUNwQyxVQUFNLFlBQVksTUFBTSxNQUFNLE1BQU07QUFDcEMsVUFBTSxZQUFZLE1BQU0sTUFBTSxNQUFNO0FBQ3BDLFVBQU0sWUFBWSxNQUFNLE1BQU0sTUFBTTtBQUNwQyxVQUFNLFlBQVksTUFBTSxNQUFNLE1BQU07QUFDcEMsVUFBTSxZQUFZLE1BQU0sTUFBTSxNQUFNO0FBQ3BDLFVBQU0sWUFBWSxNQUFNLE1BQU0sTUFBTTtBQUNwQyxVQUFNLFlBQVksRUFBRSxNQUFNLFlBQVksTUFBTSxZQUFZLE1BQU07QUFDOUQsVUFBTSxZQUFZLEVBQUUsTUFBTSxZQUFZLE1BQU0sWUFBWSxNQUFNO0FBQzlELFVBQU0sWUFBWSxFQUFFLE1BQU0sWUFBWSxNQUFNLFlBQVksTUFBTTtBQUM5RCxVQUFNLFlBQVksRUFBRSxNQUFNLFlBQVksTUFBTSxZQUFZLE1BQU07QUFDOUQsVUFBTSxZQUFZLEVBQUUsTUFBTSxZQUFZLE1BQU0sWUFBWSxNQUFNO0FBQzlELFVBQU0sWUFBWSxFQUFFLE1BQU0sWUFBWSxNQUFNLFlBQVksTUFBTTtBQUM5RCxVQUFN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QUFhLFNBQVMsTUFBTTtBQUNyQywwQkFBa0IsVUFBVSxTQUFTOzs7O0FBSTdDOzs7QTVObENBLElBQXdCLFNBQVMsUUFBVztBQUMxQyxNQUFTLDJCQUFULFdBQW9DO0FBQ2xDLFFBQUk7QUFDRixZQUFNLGVBQW1DLEtBQUs7QUFDOUMsVUFBSSxnQkFBZ0IsT0FBTyxpQkFBaUIsWUFBWSxPQUFRLGFBQTZDLFNBQVMsWUFBWTtBQUNoSSxxQkFBYSxNQUFNLFFBQVEsS0FBSztBQUFBLE1BQ2xDO0FBRUEsd0JBQWtCLE1BQU07QUFBQSxJQUMxQixTQUFTLEdBQUc7QUFDWCxjQUFRLE1BQU0sQ0FBQztBQUFBLElBQ2hCLFVBQUU7QUFDQSxhQUFPLGFBQWEsd0JBQXdCO0FBQUEsSUFDOUM7QUFBQSxFQUNGO0FBQ0EsU0FBTyxVQUFVLDBCQUEwQixRQUFRO0FBQ3JEOyIsCiAgIm5hbWVzIjogWyJleHBvcnRzIiwgIm1vZHVsZSIsICJyZXNvbHZlIiwgInBhcmFtcyIsICJvZmZzZXQiLCAiZXhwb3J0cyIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImkiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJ1dGY4IiwgImJ1ZmZlciIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJzaXplIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImZyb21OdW1iZXIiLCAidG9OdW1iZXIiLCAibGVuZ3RoIiwgImV4cG9ydHMiLCAiaXNPYmplY3QiLCAiaXNTZXQiLCAiQnVmZmVyIiwgImkiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAidXRmOCIsICJjcmVhdGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAidXRmOCIsICJidWZmZXIiLCAiY3JlYXRlX2FycmF5IiwgImNyZWF0ZSIsICJsZW5ndGgiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiYnVmZmVyIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgInNlbGYiLCAiZXJyIiwgImV4cG9ydHMiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJyZXF1aXJlX21pbmltYWwiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiUEJBbmltYXRvciIsICJfbTAiLCAibGVuZ3RoIiwgIlBCQW5pbWF0aW9uU3RhdGUiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlBCQXVkaW9FdmVudCIsICJfbTAiLCAibGVuZ3RoIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJQQkF1ZGlvU291cmNlIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlBCQXVkaW9TdHJlYW0iLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiQXZhdGFyQW5jaG9yUG9pbnRUeXBlIiwgIlBCQXZhdGFyQXR0YWNoIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgImltcG9ydF9taW5pbWFsIiwgIkNvbG9yMyIsICJfbTAiLCAibGVuZ3RoIiwgIkNvbG9yNCIsICJQQkF2YXRhckJhc2UiLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJBdmF0YXJFbW90ZUNvbW1hbmQiLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJBdmF0YXJFcXVpcHBlZERhdGEiLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiaW1wb3J0X21pbmltYWwiLCAiUG9zaXRpb24iLCAiX20wIiwgImxlbmd0aCIsICJWZWN0b3IzIiwgIlZlY3RvcjIiLCAiUXVhdGVybmlvbiIsICJBdmF0YXJNb2RpZmllclR5cGUiLCAiUEJBdmF0YXJNb2RpZmllckFyZWEiLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJBdmF0YXJTaGFwZSIsICJfbTAiLCAibGVuZ3RoIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJCaWxsYm9hcmRNb2RlIiwgIlBCQmlsbGJvYXJkIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlBCQ2FtZXJhTW9kZSIsICJfbTAiLCAibGVuZ3RoIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJQQkNhbWVyYU1vZGVBcmVhIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlBCRW5naW5lSW5mbyIsICJfbTAiLCAibGVuZ3RoIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJQQkdsdGZDb250YWluZXIiLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgImltcG9ydF9taW5pbWFsIiwgImltcG9ydF9taW5pbWFsIiwgIlRleHR1cmVXcmFwTW9kZSIsICJUZXh0dXJlRmlsdGVyTW9kZSIsICJUZXh0dXJlIiwgIl9tMCIsICJsZW5ndGgiLCAiQXZhdGFyVGV4dHVyZSIsICJWaWRlb1RleHR1cmUiLCAiVGV4dHVyZVVuaW9uIiwgIk1hdGVyaWFsVHJhbnNwYXJlbmN5TW9kZSIsICJQQk1hdGVyaWFsIiwgIl9tMCIsICJsZW5ndGgiLCAiUEJNYXRlcmlhbF9VbmxpdE1hdGVyaWFsIiwgIlBCTWF0ZXJpYWxfUGJyTWF0ZXJpYWwiLCAiUEJHbHRmTm9kZU1vZGlmaWVycyIsICJfbTAiLCAibGVuZ3RoIiwgIlBCR2x0Zk5vZGVNb2RpZmllcnNfR2x0Zk5vZGVNb2RpZmllciIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJJbnB1dE1vZGlmaWVyIiwgIl9tMCIsICJsZW5ndGgiLCAiUEJJbnB1dE1vZGlmaWVyX1N0YW5kYXJkSW5wdXQiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlBCTGlnaHRTb3VyY2UiLCAiX20wIiwgImxlbmd0aCIsICJQQkxpZ2h0U291cmNlX1BvaW50IiwgIlBCTGlnaHRTb3VyY2VfU3BvdCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJNYWluQ2FtZXJhIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJDb2xsaWRlckxheWVyIiwgIlBCTWVzaENvbGxpZGVyIiwgIl9tMCIsICJsZW5ndGgiLCAiUEJNZXNoQ29sbGlkZXJfQm94TWVzaCIsICJQQk1lc2hDb2xsaWRlcl9DeWxpbmRlck1lc2giLCAiUEJNZXNoQ29sbGlkZXJfUGxhbmVNZXNoIiwgIlBCTWVzaENvbGxpZGVyX1NwaGVyZU1lc2giLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlBCTWVzaFJlbmRlcmVyIiwgIl9tMCIsICJsZW5ndGgiLCAiUEJNZXNoUmVuZGVyZXJfQm94TWVzaCIsICJQQk1lc2hSZW5kZXJlcl9DeWxpbmRlck1lc2giLCAiUEJNZXNoUmVuZGVyZXJfUGxhbmVNZXNoIiwgIlBCTWVzaFJlbmRlcmVyX1NwaGVyZU1lc2giLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIk5mdEZyYW1lVHlwZSIsICJQQk5mdFNoYXBlIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlBCUGxheWVySWRlbnRpdHlEYXRhIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlBCUG9pbnRlckV2ZW50cyIsICJfbTAiLCAibGVuZ3RoIiwgIlBCUG9pbnRlckV2ZW50c19JbmZvIiwgIlBCUG9pbnRlckV2ZW50c19FbnRyeSIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiaW1wb3J0X21pbmltYWwiLCAiUmF5Y2FzdEhpdCIsICJfbTAiLCAibGVuZ3RoIiwgIlBCUG9pbnRlckV2ZW50c1Jlc3VsdCIsICJfbTAiLCAibGVuZ3RoIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJQQlBvaW50ZXJMb2NrIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlBvaW50ZXJUeXBlIiwgIlBCUHJpbWFyeVBvaW50ZXJJbmZvIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlJheWNhc3RRdWVyeVR5cGUiLCAiUEJSYXljYXN0IiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlBCUmF5Y2FzdFJlc3VsdCIsICJfbTAiLCAibGVuZ3RoIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJQQlJlYWxtSW5mbyIsICJfbTAiLCAibGVuZ3RoIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJUcmFuc2l0aW9uTW9kZSIsICJQQlNreWJveFRpbWUiLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJUZXh0U2hhcGUiLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiVHJpZ2dlckFyZWFNZXNoVHlwZSIsICJQQlRyaWdnZXJBcmVhIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlRyaWdnZXJBcmVhRXZlbnRUeXBlIiwgIlBCVHJpZ2dlckFyZWFSZXN1bHQiLCAiX20wIiwgImxlbmd0aCIsICJQQlRyaWdnZXJBcmVhUmVzdWx0X1RyaWdnZXIiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlRleHR1cmVNb3ZlbWVudFR5cGUiLCAiRWFzaW5nRnVuY3Rpb24iLCAiUEJUd2VlbiIsICJfbTAiLCAibGVuZ3RoIiwgIk1vdmUiLCAiUm90YXRlIiwgIlNjYWxlIiwgIlRleHR1cmVNb3ZlIiwgIlJvdGF0ZUNvbnRpbnVvdXMiLCAiTW92ZUNvbnRpbnVvdXMiLCAiVGV4dHVyZU1vdmVDb250aW51b3VzIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJUd2Vlbkxvb3AiLCAiUEJUd2VlblNlcXVlbmNlIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlR3ZWVuU3RhdGVTdGF0dXMiLCAiUEJUd2VlblN0YXRlIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgImltcG9ydF9taW5pbWFsIiwgIkJvcmRlclJlY3QiLCAiX20wIiwgImxlbmd0aCIsICJSZWN0IiwgIkJhY2tncm91bmRUZXh0dXJlTW9kZSIsICJQQlVpQmFja2dyb3VuZCIsICJfbTAiLCAibGVuZ3RoIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJQQlVpQ2FudmFzSW5mb3JtYXRpb24iLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJVaURyb3Bkb3duIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlBCVWlEcm9wZG93blJlc3VsdCIsICJfbTAiLCAibGVuZ3RoIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJQQlVpSW5wdXQiLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJVaUlucHV0UmVzdWx0IiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlRleHRXcmFwIiwgIlBCVWlUZXh0IiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIllHUG9zaXRpb25UeXBlIiwgIllHQWxpZ24iLCAiWUdVbml0IiwgIllHRmxleERpcmVjdGlvbiIsICJZR1dyYXAiLCAiWUdKdXN0aWZ5IiwgIllHT3ZlcmZsb3ciLCAiWUdEaXNwbGF5IiwgIllHRWRnZSIsICJQb2ludGVyRmlsdGVyTW9kZSIsICJQQlVpVHJhbnNmb3JtIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlZpZGVvU3RhdGUiLCAiUEJWaWRlb0V2ZW50IiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlBCVmlkZW9QbGF5ZXIiLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiaW1wb3J0X21pbmltYWwiLCAiQ2FtZXJhVHJhbnNpdGlvbiIsICJfbTAiLCAibGVuZ3RoIiwgIlBCVmlydHVhbENhbWVyYSIsICJfbTAiLCAibGVuZ3RoIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJQQlZpc2liaWxpdHlDb21wb25lbnQiLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiZW5naW5lIiwgIlRleHRTaGFwZSIsICJlbmdpbmUiLCAiZW5naW5lIiwgImVuZ2luZSIsICJlbmdpbmUiLCAiZW5naW5lIiwgImxlbmd0aCIsICJNSU5fVkFMVUUiLCAiTUFYX1ZBTFVFIiwgInNwZWNSZWZsZWN0aW9uIiwgInNwZWNSZWZsZWN0aW9uIiwgInZhbHVlIiwgIlNjaGVtYXMiLCAiZW5naW5lIiwgIk5hbWUiLCAiZW5naW5lIiwgImVuZ2luZSIsICJlbmdpbmUiLCAiTWVkaWFTdGF0ZSIsICJlbmdpbmUiLCAiVGFncyIsICJlbmdpbmUiLCAiTWF0ZXJpYWwiLCAiQXVkaW9Tb3VyY2UiLCAiZW5naW5lIiwgIk1lc2hSZW5kZXJlciIsICJlbmdpbmUiLCAiTWVzaENvbGxpZGVyIiwgIlR3ZWVuIiwgImVuZ2luZSIsICJlbmdpbmUiLCAiRW50aXR5VXRpbHMiLCAiRW50aXR5U3RhdGUiLCAidXRmOCIsICJidWZmZXIiLCAibGVuZ3RoIiwgIl9SZWFkV3JpdGVCeXRlQnVmZmVyX3dvQWRkIiwgIl9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkIiwgIkNyZHRNZXNzYWdlVHlwZSIsICJQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGUiLCAiQ3JkdE1lc3NhZ2VQcm90b2NvbCIsICJEZWxldGVDb21wb25lbnQiLCAid3JpdGUiLCAicmVhZCIsICJBcHBlbmRWYWx1ZU9wZXJhdGlvbiIsICJ3cml0ZSIsICJyZWFkIiwgIkRlbGV0ZUVudGl0eSIsICJ3cml0ZSIsICJyZWFkIiwgIlB1dENvbXBvbmVudE9wZXJhdGlvbiIsICJ3cml0ZSIsICJyZWFkIiwgIlB1dE5ldHdvcmtDb21wb25lbnRPcGVyYXRpb24iLCAid3JpdGUiLCAicmVhZCIsICJEZWxldGVDb21wb25lbnROZXR3b3JrIiwgIndyaXRlIiwgInJlYWQiLCAiRGVsZXRlRW50aXR5TmV0d29yayIsICJ3cml0ZSIsICJyZWFkIiwgImJ1ZmZlciIsICJlbmdpbmUiLCAiTmV0d29ya0VudGl0eSIsICJOZXR3b3JrUGFyZW50IiwgIlRyYW5zZm9ybSIsICJwYXJzZUNodW5rTWVzc2FnZSIsICJidWZmZXIiLCAibWVzc2FnZSIsICJDcmR0VXRpbHMiLCAiU3luY2hyb25pemVkRW50aXR5VHlwZSIsICJidWZmZXIiLCAiYWRkIiwgImJ1ZmZlciIsICJlbmdpbmUiLCAiTmV0d29ya1BhcmVudCIsICJOZXR3b3JrRW50aXR5IiwgInBhcmVudCIsICJUcmFuc2Zvcm0iLCAiZW5naW5lIiwgIlBvaW50ZXJFdmVudHNSZXN1bHQiLCAiQ29tcG9uZW50VHlwZSIsICJyZW1vdmVFbnRpdHlXaXRoQ2hpbGRyZW4iLCAib3B0aW9ucyIsICJjb21wb25lbnQiLCAiZW5naW5lIiwgImlucHV0U3lzdGVtIiwgIlBvaW50ZXJFdmVudHMiLCAiRXZlbnRUeXBlIiwgImVuZ2luZSIsICJUd2VlbiIsICJUd2VlblN0YXRlIiwgIlR3ZWVuU2VxdWVuY2UiLCAiYnVmZmVyIiwgInR3ZWVuU3lzdGVtIiwgImVuZ2luZSIsICJQb2ludGVyRXZlbnRzIiwgIk1lc2hDb2xsaWRlciIsICJHbHRmQ29udGFpbmVyIiwgIlVpVHJhbnNmb3JtIiwgIkF2YXRhckJhc2UiLCAiQXZhdGFyRW1vdGVDb21tYW5kIiwgIkF2YXRhckVxdWlwcGVkRGF0YSIsICJQbGF5ZXJJZGVudGl0eURhdGEiLCAiUG9pbnRlckV2ZW50c1Jlc3VsdCIsICJSZWFsbUluZm8iLCAiVGV4dFNoYXBlIiwgIkNhbWVyYVR5cGUiLCAiSW5wdXRBY3Rpb24iLCAiUG9pbnRlckV2ZW50VHlwZSIsICJMb2FkaW5nU3RhdGUiLCAiVGV4dEFsaWduTW9kZSIsICJGb250IiwgImVuZ2luZSIsICJFbnRpdHlNYXBwaW5nTW9kZSIsICJlbmdpbmUiLCAiY29tcG9zaXRlUHJvdmlkZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiaW1wb3J0X21pbmltYWwiLCAiTnVsbFZhbHVlIiwgInRzUHJvdG9HbG9iYWxUaGlzIiwgIlN0cnVjdCIsICJfbTAiLCAibGVuZ3RoIiwgIlN0cnVjdF9GaWVsZHNFbnRyeSIsICJWYWx1ZSIsICJMaXN0VmFsdWUiLCAiQ29tcG9uZW50RGF0YSIsICJfbTAiLCAibGVuZ3RoIiwgImlzU2V0IiwgIkNvbXBvc2l0ZUNvbXBvbmVudCIsICJpc09iamVjdCIsICJDb21wb3NpdGVDb21wb25lbnRfRGF0YUVudHJ5IiwgIkNvbXBvc2l0ZURlZmluaXRpb24iLCAidHNQcm90b0dsb2JhbFRoaXMiLCAiQ29tcG9zaXRlIiwgImJ1ZmZlciIsICJlbmdpbmUiLCAiY29tcG9zaXRlUHJvdmlkZXIiLCAiVHJhbnNmb3JtIiwgIkF1ZGlvU291cmNlIiwgIk1hdGVyaWFsIiwgIk1lc2hSZW5kZXJlciIsICJOYW1lIiwgIlRhZ3MiLCAiU2NhbGFyIiwgImxlbmd0aCIsICJWZWN0b3IzIiwgImFkZCIsICJzdWJ0cmFjdCIsICJuZWdhdGUiLCAibGVuZ3RoIiwgInNjYWxlIiwgImNlbnRlciIsICJRdWF0ZXJuaW9uIiwgInRvU3RyaW5nIiwgImVxdWFscyIsICJtdWx0aXBseSIsICJkaXZpZGUiLCAiUGxhbmUiLCAiVmVjdG9yMyIsICJNYXRyaXgiLCAic2VsZiIsICJzY2FsZSIsICJtIiwgInRyYW5zbGF0aW9uIiwgIlZlY3RvcjMiLCAiUXVhdGVybmlvbiIsICJhZGQiLCAibXVsdGlwbHkiLCAiZXF1YWxzIiwgIlF1YXRlcm5pb24iLCAiYWRkIiwgImxlbmd0aCIsICJWZWN0b3IzIiwgIm11bHRpcGx5IiwgInNlbGYiLCAiVmVjdG9yMiIsICJDb2xvcjQiLCAiYWRkIiwgInN1YnRyYWN0IiwgInNjYWxlIiwgIm11bHRpcGx5IiwgInRvU3RyaW5nIiwgIkNvbG9yMyIsICJ0b1N0cmluZyIsICJDb2xvcjQiLCAibXVsdGlwbHkiLCAiZXF1YWxzIiwgInNjYWxlIiwgImFkZCIsICJzdWJ0cmFjdCIsICJzZXRUaW1lb3V0IiwgInNldEludGVydmFsIiwgIlRyYW5zZm9ybSIsICJWZWN0b3IzIiwgIk1lc2hSZW5kZXJlciIsICJNYXRlcmlhbCIsICJDb2xvcjQiLCAiQ29sb3IzIiwgIlF1YXRlcm5pb24iLCAiQXVkaW9Tb3VyY2UiLCAic2V0VGltZW91dCIsICJUcmFuc2Zvcm0iLCAiVmVjdG9yMyIsICJNZXNoUmVuZGVyZXIiLCAiTWF0ZXJpYWwiLCAiQ29sb3I0IiwgIlRleHRTaGFwZSIsICJyZXNvbHZlIiwgIlRyYW5zZm9ybSIsICJWZWN0b3IzIiwgIk1lc2hSZW5kZXJlciIsICJNYXRlcmlhbCIsICJDb2xvcjQiLCAiQ29sb3IzIiwgIlZlY3RvcjMiLCAiUXVhdGVybmlvbiIsICJUcmFuc2Zvcm0iLCAiTWVzaFJlbmRlcmVyIiwgIk1hdGVyaWFsIiwgIkNvbG9yNCIsICJDb2xvcjMiLCAiVmVjdG9yMyIsICJUcmFuc2Zvcm0iLCAiUXVhdGVybmlvbiIsICJNZXNoUmVuZGVyZXIiLCAiTWF0ZXJpYWwiLCAiQ29sb3I0IiwgIlRleHRTaGFwZSIsICJUcmFuc2Zvcm0iLCAiVmVjdG9yMyIsICJNZXNoUmVuZGVyZXIiLCAiTWF0ZXJpYWwiLCAiQ29sb3I0IiwgInJlc29sdmUiLCAiQ29sb3IzIiwgIlZlY3RvcjMiLCAiVHJhbnNmb3JtIiwgIk1lc2hSZW5kZXJlciIsICJNYXRlcmlhbCIsICJDb2xvcjQiLCAiUXVhdGVybmlvbiIsICJUcmFuc2Zvcm0iLCAiVmVjdG9yMyIsICJNZXNoUmVuZGVyZXIiLCAiTWF0ZXJpYWwiLCAiQ29sb3I0IiwgInZvdGVzIiwgIlRyYW5zZm9ybSIsICJWZWN0b3IzIiwgIk1lc2hSZW5kZXJlciIsICJNYXRlcmlhbCIsICJDb2xvcjQiLCAiVHJhbnNmb3JtIiwgIlZlY3RvcjMiLCAiTWVzaFJlbmRlcmVyIiwgIk1hdGVyaWFsIiwgIkNvbG9yNCIsICJDb2xvcjMiLCAiVHJhbnNmb3JtIiwgIlZlY3RvcjMiLCAiUXVhdGVybmlvbiIsICJNYXRlcmlhbCIsICJDb2xvcjQiLCAiTWVzaFJlbmRlcmVyIiwgIlRyYW5zZm9ybSIsICJWZWN0b3IzIiwgIk1lc2hSZW5kZXJlciIsICJNYXRlcmlhbCIsICJDb2xvcjQiLCAiVGV4dFNoYXBlIiwgInJlc29sdmUiLCAic2V0VGltZW91dCIsICJyZXNvbHZlIiwgInNldFRpbWVvdXQiLCAicmVzb2x2ZSIsICJzZXRUaW1lb3V0IiwgIlRyYW5zZm9ybSIsICJWZWN0b3IzIiwgIk1lc2hSZW5kZXJlciIsICJNYXRlcmlhbCIsICJDb2xvcjQiLCAiUXVhdGVybmlvbiIsICJWZWN0b3IzIiwgIlRyYW5zZm9ybSIsICJNZXNoUmVuZGVyZXIiLCAiTWF0ZXJpYWwiLCAiQ29sb3I0IiwgIlRyYW5zZm9ybSIsICJNZXNoUmVuZGVyZXIiLCAiTWF0ZXJpYWwiLCAiQ29sb3I0IiwgIlZlY3RvcjMiLCAiVGV4dFNoYXBlIiwgIkNvbG9yMyIsICJWZWN0b3IzIiwgIlF1YXRlcm5pb24iLCAiQ29sb3IzIiwgIlRyYW5zZm9ybSIsICJNZXNoUmVuZGVyZXIiLCAiTWF0ZXJpYWwiLCAiQ29sb3I0IiwgIlRleHRTaGFwZSIsICJyZXNvbHZlIiwgInNldFRpbWVvdXQiLCAicGxheWVycyIsICJWZWN0b3IzIiwgIlRyYW5zZm9ybSIsICJNZXNoUmVuZGVyZXIiLCAiTWF0ZXJpYWwiLCAiQ29sb3I0IiwgIlF1YXRlcm5pb24iLCAiVHJhbnNmb3JtIiwgIlZlY3RvcjMiLCAiTWVzaFJlbmRlcmVyIiwgIk1hdGVyaWFsIiwgIkNvbG9yNCIsICJUcmFuc2Zvcm0iLCAiVmVjdG9yMyIsICJNZXNoUmVuZGVyZXIiLCAiTWF0ZXJpYWwiLCAiQ29sb3I0IiwgIlRleHRTaGFwZSIsICJzZXRUaW1lb3V0IiwgIlZlY3RvcjMiLCAiVHJhbnNmb3JtIiwgIkNvbG9yNCIsICJNZXNoUmVuZGVyZXIiLCAiTWF0ZXJpYWwiLCAiVGV4dFNoYXBlIiwgIlRyYW5zZm9ybSIsICJWZWN0b3IzIiwgIk1lc2hSZW5kZXJlciIsICJNYXRlcmlhbCIsICJDb2xvcjQiLCAic2V0VGltZW91dCIsICJWZWN0b3IzIiwgIlRyYW5zZm9ybSIsICJNZXNoUmVuZGVyZXIiLCAiTWF0ZXJpYWwiLCAiQ29sb3I0IiwgInNldFRpbWVvdXQiLCAic2V0SW50ZXJ2YWwiLCAiVmVjdG9yMyIsICJUcmFuc2Zvcm0iLCAiTWVzaFJlbmRlcmVyIiwgIk1hdGVyaWFsIiwgIkNvbG9yNCIsICJlbmdpbmUiLCAiaW1wb3J0X0VuZ2luZUFwaSIsICJyZW5kZXJlclRyYW5zcG9ydCIsICJlbmdpbmUiLCAiVHJhbnNmb3JtIiwgIlBsYXllcklkZW50aXR5RGF0YSIsICJBdmF0YXJFcXVpcHBlZERhdGEiLCAiQXZhdGFyQmFzZSIsICJwbGF5ZXJzIiwgInNlbmRCYXRjaCIsICJzdWJzY3JpYmUiLCAiUmVhbG1JbmZvIiwgIlBsYXllcklkZW50aXR5RGF0YSIsICJQb2ludGVyRXZlbnRzUmVzdWx0IiwgIkF2YXRhckVtb3RlQ29tbWFuZCIsICJBdmF0YXJCYXNlIiwgIkF2YXRhckVxdWlwcGVkRGF0YSJdCn0K
