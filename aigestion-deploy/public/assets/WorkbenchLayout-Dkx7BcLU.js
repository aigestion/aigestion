import{j as e}from"./vendor-3d-DI7DpEZe.js";import{r as t,b as r,u as n,g as o}from"./vendor-react-DDTKSPj8.js";import{m as s,A as a}from"./vendor-motion-BRrBkLz4.js";import{ab as l,h as c,a1 as u,ac as f,ad as d,ae as h,O as p,af as x,g,ag as y,Z as m,$ as b,K as w,L as v,ah as A,ai as E,_ as N,aj as R,d as _,P as B,ak as I,r as S,n as U,al as T,am as O,an as C}from"./vendor-ui-BoGk9Pax.js";import{Dashboard as k}from"./Dashboard-D1RRd72W.js";import{a as M}from"./api-CHu62EUu.js";import{f as L}from"./main-CgeZbzuH.js";import"./daniela-api.service-CZGrpgZ9.js";import"./vendor-data-BBBJCDAk.js";const D=t.createContext(void 0),P=({children:r})=>{const[n,i]=t.useState("dashboard"),[o,s]=t.useState(!0),a=()=>s(e=>!e);return e.jsx(D.Provider,{value:{activeActivity:n,setActiveActivity:e=>{n===e?a():(i(e),s(!0))},isSidebarOpen:o,toggleSidebar:a,setSidebarOpen:s},children:r})},z=()=>{const e=t.useContext(D);if(!e)throw new Error("useWorkbench must be used within a WorkbenchProvider");return e},K=({activityBar:t,sideBar:r,mainArea:n,bottomPanel:i,statusBar:o})=>{const{isSidebarOpen:l}=z();return e.jsxs("div",{className:"flex flex-col h-screen w-screen overflow-hidden bg-[#050505] text-white selection:bg-cyan-500/30 font-sans",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[60%] h-[60%] bg-purple-900/10 blur-[150px] rounded-full mix-blend-screen opacity-50"}),e.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[60%] h-[60%] bg-cyan-900/10 blur-[150px] rounded-full mix-blend-screen opacity-50"})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden z-10 backdrop-blur-[1px]",children:[e.jsx("aside",{className:"w-[60px] flex-shrink-0 border-r border-white/5 bg-[#0a0a0a]/90 backdrop-blur-xl z-30 flex flex-col justify-between shadow-[4px_0_30px_rgba(0,0,0,0.5)]",children:t}),e.jsx(s.aside,{initial:!1,animate:{width:l?300:0,opacity:l?1:0},transition:{duration:.3,ease:[.22,1,.36,1]},className:"flex-shrink-0 border-r border-white/5 bg-[#0e0e0e]/80 backdrop-blur-md overflow-hidden relative",children:e.jsxs("div",{className:"w-[300px] h-full relative",children:[e.jsx("div",{className:"absolute inset-y-0 right-0 w-[1px] bg-gradient-to-b from-transparent via-white/10 to-transparent opacity-50"}),r]})}),e.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-transparent overflow-hidden relative",children:[e.jsx("div",{className:"flex-1 overflow-hidden relative rounded-tl-xl border-t border-l border-white/5 bg-[#121212]/60 backdrop-blur-sm shadow-inner mx-1 mt-1 transition-all",children:n}),e.jsx(a,{children:i&&e.jsx(s.div,{initial:{height:0},animate:{height:200},exit:{height:0},className:"h-[200px] border-t border-white/10 bg-[#1e1e1e]",children:i})})]})]}),e.jsx("footer",{className:"h-[24px] bg-[#007acc]/90 backdrop-blur-md text-white text-[10px] flex items-center px-3 select-none z-50 shadow-[0_-2px_10px_rgba(0,0,0,0.3)] justify-between border-t border-white/10",children:o})]})},G=()=>{const{activeActivity:t,setActiveActivity:r}=z(),n=[{id:"dashboard",icon:l,label:"Dashboard"},{id:"intelligence",icon:c,label:"Sovereign Intelligence"},{id:"search",icon:u,label:"Search"},{id:"ai",icon:f,label:"Daniela AI"},{id:"files",icon:d,label:"Projects"}];return e.jsxs("div",{className:"flex flex-col items-center py-4 h-full justify-between w-full",children:[e.jsx("div",{className:"flex flex-col items-center gap-6 w-full",children:n.map(n=>{const i=n.icon,o=t===n.id;return e.jsxs("button",{onClick:()=>r(n.id),title:n.label,className:`relative group p-2 transition-all duration-300 w-full flex justify-center\n                 ${o?"text-cyan-400":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}\n               `,children:[o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-[3px] h-[24px] bg-cyan-400 rounded-r-full shadow-[0_0_10px_2px_rgba(34,211,238,0.5)]"}),e.jsx("div",{className:"absolute inset-0 bg-cyan-400/5 blur-lg"})]}),e.jsx(i,{size:26,strokeWidth:o?2:1.5,className:"transition-transform duration-300 "+(o?"scale-110 drop-shadow-[0_0_8px_rgba(34,211,238,0.6)]":"group-hover:scale-105")})]},n.id)})}),e.jsx("div",{className:"flex flex-col items-center gap-6 w-full pb-4",children:e.jsxs("button",{onClick:()=>r("settings"),title:"Settings",className:"p-2 transition-colors relative "+("settings"===t?"text-purple-400":"text-gray-500 hover:text-white hover:rotate-90 duration-500"),children:["settings"===t&&e.jsx("div",{className:"absolute inset-0 bg-purple-500/10 blur-xl"}),e.jsx(h,{size:24,strokeWidth:1.5,className:"settings"===t?"drop-shadow-[0_0_8px_rgba(168,85,247,0.6)]":""})]})})]})},V=()=>e.jsxs("div",{className:"flex flex-col h-full bg-gradient-to-b from-[#1a1a1a] to-[#0d0d0d]",children:[e.jsxs("div",{className:"p-3 border-b border-white/5 flex items-center gap-2 bg-white/5",children:[e.jsx(p,{size:14,className:"text-purple-400"}),e.jsx("span",{className:"text-xs font-bold tracking-wider text-purple-100 uppercase",children:"Daniela AI Assistant"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-600/20 flex items-center justify-center shrink-0 border border-purple-500/30",children:e.jsx("span",{className:"text-[10px] font-bold text-purple-300",children:"AI"})}),e.jsx("div",{className:"bg-white/5 p-3 rounded-tr-xl rounded-b-xl border border-white/10 text-sm text-gray-300 leading-relaxed max-w-[90%] shadow-lg backdrop-blur-sm",children:e.jsx("p",{children:"Hello! I'm integrated into your workbench. I can help you analyze metrics, refactor code, or manage deployment tasks. What's on your mind?"})})]}),e.jsxs("div",{className:"flex gap-3 flex-row-reverse",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-cyan-600/20 flex items-center justify-center shrink-0 border border-cyan-500/30",children:e.jsx("span",{className:"text-[10px] font-bold text-cyan-300",children:"ME"})}),e.jsx("div",{className:"bg-cyan-500/10 p-3 rounded-tl-xl rounded-b-xl border border-cyan-500/20 text-sm text-cyan-100 leading-relaxed shadow-[0_0_15px_rgba(6,182,212,0.1)]",children:e.jsx("p",{children:"Analyze the current bundle size for me."})})]})]}),e.jsxs("div",{className:"p-3 border-t border-white/10 bg-[#151515]",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Ask Daniela...",className:"w-full bg-[#0a0a0a] border border-white/10 rounded-lg pl-3 pr-10 py-2.5 text-sm focus:outline-none focus:border-purple-500/50 focus:ring-1 focus:ring-purple-900/50 transition-all shadow-inner text-gray-200"}),e.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[e.jsx("button",{className:"p-1.5 hover:bg-white/10 rounded text-gray-400 hover:text-white transition-colors",children:e.jsx(x,{size:14})}),e.jsx("button",{className:"p-1.5 hover:bg-purple-500/20 rounded text-purple-400 hover:text-purple-200 transition-colors",children:e.jsx(g,{size:14})})]})]}),e.jsxs("div",{className:"text-[10px] text-gray-600 mt-2 flex justify-center gap-3",children:[e.jsx("span",{className:"cursor-pointer hover:text-purple-400 transition-colors",children:"Generate Component"}),e.jsx("span",{className:"cursor-pointer hover:text-purple-400 transition-colors",children:"Fix Bugs"}),e.jsxs("span",{className:"cursor-pointer hover:text-purple-400 transition-colors",children:[" ","Explain Code"]})]})]})]}),H=()=>{const{activeActivity:t}=z(),i=r(),o=n();return e.jsxs("div",{className:"h-full flex flex-col font-sans",children:[e.jsx("div",{className:"h-[40px] flex items-center px-4 text-[11px] font-bold uppercase tracking-[0.2em] text-cyan-200/50 select-none border-b border-white/5 bg-gradient-to-r from-white/5 to-transparent shadow-sm",children:t}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-0 scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent",children:["dashboard"===t&&e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"px-4 py-3 text-[10px] font-bold text-gray-500 uppercase opacity-70 tracking-widest",children:"Main Views"}),e.jsx("ul",{className:"space-y-1 px-2",children:[{label:"Overview",path:"/dashboard"},{label:"Analytics",path:"/dashboard/admin"},{label:"Client View",path:"/dashboard/client"},{label:"Billing",path:"/dashboard/billing"}].map(t=>{const r=o.pathname===t.path;return e.jsxs("li",{onClick:()=>i(t.path),className:"cursor-pointer p-2 rounded-md transition-all duration-200 flex items-center gap-3 group border border-transparent \n                      "+(r?"bg-cyan-500/10 text-cyan-300 border-cyan-500/20":"text-gray-400 hover:bg-cyan-500/5 hover:text-cyan-200"),children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full transition-colors shadow-[0_0_5px_rgba(6,182,212,0)] group-hover:shadow-[0_0_8px_rgba(6,182,212,0.5)]\n                      "+(r?"bg-cyan-400 shadow-[0_0_8px_rgba(6,182,212,0.5)]":"bg-cyan-500/20 group-hover:bg-cyan-400")}),t.label]},t.label)})})]}),"ai"===t&&e.jsx("div",{className:"h-full flex flex-col",children:e.jsx(V,{})}),"search"===t&&e.jsx("div",{className:"flex flex-col gap-2 p-3",children:e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"text",placeholder:"Search anything...",className:"w-full bg-[#181818] border border-[#303030] text-gray-200 text-xs p-2.5 pl-3 rounded-md focus:outline-none focus:border-cyan-500/50 focus:ring-1 focus:ring-cyan-900/50 placeholder:text-gray-600 transition-all shadow-inner group-hover:bg-[#1f1f1f]"}),e.jsx("div",{className:"absolute right-2 top-2.5 text-[10px] text-gray-600 bg-[#222] px-1.5 rounded border border-[#333] opacity-70",children:"Ctrl+F"})]})})]})]})};function F(e){const t=new Uint8Array(e);let r="";for(const n of t)r+=String.fromCharCode(n);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Y(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-t.length%4)%4,n=t.padEnd(t.length+r,"="),i=atob(n),o=new ArrayBuffer(i.length),s=new Uint8Array(o);for(let a=0;a<i.length;a++)s[a]=i.charCodeAt(a);return o}function $(){return q.stubThis(void 0!==globalThis?.PublicKeyCredential&&"function"==typeof globalThis.PublicKeyCredential)}const q={stubThis:e=>e};function W(e){const{id:t}=e;return{...e,id:Y(t),transports:e.transports}}function J(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}class Z extends Error{constructor({message:e,code:t,cause:r,name:n}){super(e,{cause:r}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=n??r.name,this.code=t}}const Q=new class{constructor(){Object.defineProperty(this,"controller",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}},X=["cross-platform","platform"];function ee(e){if(e&&!(X.indexOf(e)<0))return e}async function te(e){!e.optionsJSON&&e.challenge&&(e={optionsJSON:e});const{optionsJSON:t,useAutoRegister:r=!1}=e;if(!$())throw new Error("WebAuthn is not supported in this browser");const n={...t,challenge:Y(t.challenge),user:{...t.user,id:Y(t.user.id)},excludeCredentials:t.excludeCredentials?.map(W)},i={};let o;r&&(i.mediation="conditional"),i.publicKey=n,i.signal=Q.createNewAbortSignal();try{o=await navigator.credentials.create(i)}catch(p){throw function({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new Z({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if(!0===r.authenticatorSelection?.requireResidentKey)return new Z({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if("conditional"===t.mediation&&"required"===r.authenticatorSelection?.userVerification)return new Z({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if("required"===r.authenticatorSelection?.userVerification)return new Z({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if("InvalidStateError"===e.name)return new Z({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if("NotAllowedError"===e.name)return new Z({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("NotSupportedError"===e.name)return 0===r.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new Z({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Z({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if("SecurityError"===e.name){const t=globalThis.location.hostname;if(!J(t))return new Z({message:`${globalThis.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(r.rp.id!==t)return new Z({message:`The RP ID "${r.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(r.user.id.byteLength<1||r.user.id.byteLength>64)return new Z({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new Z({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return e}({error:p,options:i})}if(!o)throw new Error("Registration was not completed");const{id:s,rawId:a,response:l,type:c}=o;let u,f,d,h;if("function"==typeof l.getTransports&&(u=l.getTransports()),"function"==typeof l.getPublicKeyAlgorithm)try{f=l.getPublicKeyAlgorithm()}catch(x){re("getPublicKeyAlgorithm()",x)}if("function"==typeof l.getPublicKey)try{const e=l.getPublicKey();null!==e&&(d=F(e))}catch(x){re("getPublicKey()",x)}if("function"==typeof l.getAuthenticatorData)try{h=F(l.getAuthenticatorData())}catch(x){re("getAuthenticatorData()",x)}return{id:s,rawId:F(a),response:{attestationObject:F(l.attestationObject),clientDataJSON:F(l.clientDataJSON),transports:u,publicKeyAlgorithm:f,publicKey:d,authenticatorData:h},type:c,clientExtensionResults:o.getClientExtensionResults(),authenticatorAttachment:ee(o.authenticatorAttachment)}}function re(e,t){}const ne={stubThis:e=>e};async function ie(e){!e.optionsJSON&&e.challenge&&(e={optionsJSON:e});const{optionsJSON:t,useBrowserAutofill:r=!1,verifyBrowserAutofillInput:n=!0}=e;if(!$())throw new Error("WebAuthn is not supported in this browser");let i;0!==t.allowCredentials?.length&&(i=t.allowCredentials?.map(W));const o={...t,challenge:Y(t.challenge),allowCredentials:i},s={};if(r){if(!(await function(){if(!$())return ne.stubThis(new Promise(e=>e(!1)));const e=globalThis.PublicKeyCredential;return void 0===e?.isConditionalMediationAvailable?ne.stubThis(new Promise(e=>e(!1))):ne.stubThis(e.isConditionalMediationAvailable())}()))throw Error("Browser does not support WebAuthn autofill");if(document.querySelectorAll("input[autocomplete$='webauthn']").length<1&&n)throw Error('No <input> with "webauthn" as the only or last value in its `autocomplete` attribute was detected');s.mediation="conditional",o.allowCredentials=[]}let a;s.publicKey=o,s.signal=Q.createNewAbortSignal();try{a=await navigator.credentials.get(s)}catch(h){throw function({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new Z({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if("NotAllowedError"===e.name)return new Z({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("SecurityError"===e.name){const t=globalThis.location.hostname;if(!J(t))return new Z({message:`${globalThis.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(r.rpId!==t)return new Z({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new Z({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return e}({error:h,options:s})}if(!a)throw new Error("Authentication was not completed");const{id:l,rawId:c,response:u,type:f}=a;let d;return u.userHandle&&(d=F(u.userHandle)),{id:l,rawId:F(c),response:{authenticatorData:F(u.authenticatorData),clientDataJSON:F(u.clientDataJSON),signature:F(u.signature),userHandle:d},type:f,clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:ee(a.authenticatorAttachment)}}for(var oe={},se={},ae={},le={byteLength:function(e){var t=pe(e),r=t[0],n=t[1];return 3*(r+n)/4-n},toByteArray:function(e){var t,r,n=pe(e),i=n[0],o=n[1],s=new fe(function(e,t,r){return 3*(t+r)/4-r}(0,i,o)),a=0,l=o>0?i-4:i;for(r=0;r<l;r+=4)t=ue[e.charCodeAt(r)]<<18|ue[e.charCodeAt(r+1)]<<12|ue[e.charCodeAt(r+2)]<<6|ue[e.charCodeAt(r+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;2===o&&(t=ue[e.charCodeAt(r)]<<2|ue[e.charCodeAt(r+1)]>>4,s[a++]=255&t);1===o&&(t=ue[e.charCodeAt(r)]<<10|ue[e.charCodeAt(r+1)]<<4|ue[e.charCodeAt(r+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t);return s},fromByteArray:function(e){for(var t,r=e.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(ge(e,s,s+o>a?a:s+o));1===n?(t=e[r-1],i.push(ce[t>>2]+ce[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(ce[t>>10]+ce[t>>4&63]+ce[t<<2&63]+"="));return i.join("")}},ce=[],ue=[],fe="undefined"!=typeof Uint8Array?Uint8Array:Array,de="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",he=0;he<64;++he)ce[he]=de[he],ue[de.charCodeAt(he)]=he;function pe(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function xe(e){return ce[e>>18&63]+ce[e>>12&63]+ce[e>>6&63]+ce[63&e]}function ge(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(xe(n));return i.join("")}ue["-".charCodeAt(0)]=62,ue["_".charCodeAt(0)]=63;var ye={
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
read:function(e,t,r,n,i){var o,s,a=8*i-n-1,l=(1<<a)-1,c=l>>1,u=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-u)-1,h>>=-u,u+=a;u>0;o=256*o+e[t+f],f+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=n;u>0;s=256*s+e[t+f],f+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),o-=c}return(h?-1:1)*s*Math.pow(2,o-n)},write:function(e,t,r,n,i,o){var s,a,l,c=8*o-i-1,u=(1<<c)-1,f=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,x=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+f>=1?d/l:d*Math.pow(2,1-f))*l>=2&&(s++,l/=2),s+f>=u?(a=0,s=u):s+f>=1?(a=(t*l-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+h]=255&s,h+=p,s/=256,c-=8);e[r+h-p]|=128*x}};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
!function(e){const t=le,r=ye,n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},e.INSPECT_MAX_BYTES=50;const i=2147483647;function o(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return a(e,t,r)}function a(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|h(e,t);let n=o(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if($(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return u(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if($(e,ArrayBuffer)||e&&$(e.buffer,ArrayBuffer))return f(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&($(e,SharedArrayBuffer)||e&&$(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return s.from(n,t,r);const i=function(e){if(s.isBuffer(e)){const t=0|d(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||q(e.length)?o(0):u(e);if("Buffer"===e.type&&Array.isArray(e.data))return u(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return l(e),o(e<0?0:0|d(e))}function u(e){const t=e.length<0?0:0|d(e.length),r=o(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,s.prototype),n}function d(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||$(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return F(e).length;default:if(i)return n?-1:H(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return B(this,t,r);case"utf8":case"utf-8":return E(this,t,r);case"ascii":return R(this,t,r);case"latin1":case"binary":return _(this,t,r);case"base64":return j(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function x(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),q(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){let o,s=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===l)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+l>a&&(r=a-l),o=r;o>=0;o--){let r=!0;for(let n=0;n<l;n++)if(c(e,o+n)!==c(t,n)){r=!1;break}if(r)return o}return-1}function m(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(q(n))return s;e[r+s]=n}return s}function b(e,t,r,n){return Y(H(t,e.length-r),e,r,n)}function w(e,t,r,n){return Y(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function v(e,t,r,n){return Y(F(t),e,r,n)}function A(e,t,r,n){return Y(function(e,t){let r,n,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function j(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function E(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,l;switch(s){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(l=(31&t)<<6|63&r,l>127&&(o=l));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(l=(15&t)<<12|(63&r)<<6|63&n,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(l=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){const t=e.length;if(t<=N)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=N));return r}(n)}e.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!s.TYPED_ARRAY_SUPPORT&&"undefined"!=typeof console&&console.error,Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,r){return a(e,t,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},s.allocUnsafe=function(e){return c(e)},s.allocUnsafeSlow=function(e){return c(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if($(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),$(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=s.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if($(t,Uint8Array))i+t.length>n.length?(s.isBuffer(t)||(t=s.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!s.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)x(this,t,t+1);return this},s.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)x(this,t,t+3),x(this,t+1,t+2);return this},s.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)x(this,t,t+7),x(this,t+1,t+6),x(this,t+2,t+5),x(this,t+3,t+4);return this},s.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):p.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(e,t,r,n,i){if($(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const l=Math.min(o,a),c=this.slice(n,i),u=e.slice(t,r);for(let s=0;s<l;++s)if(c[s]!==u[s]){o=c[s],a=u[s];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},s.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return m(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":case"latin1":case"binary":return w(this,e,t,r);case"base64":return v(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const N=4096;function R(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function _(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function B(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=t;o<r;++o)i+=W[e[o]];return i}function I(e,t,r){const n=e.slice(t,r);let i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function S(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function U(e,t,r,n,i,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function T(e,t,r,n,i){z(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function O(e,t,r,n,i){z(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function C(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function k(e,t,n,i,o){return t=+t,n>>>=0,o||C(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function M(e,t,n,i,o){return t=+t,n>>>=0,o||C(e,0,n,8),r.write(e,t,n,i,52,8),n+8}s.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||S(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||S(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||S(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=J(function(e){K(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))}),s.prototype.readBigUInt64BE=J(function(e){K(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||S(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||S(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return e>>>=0,t||S(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||S(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||S(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=J(function(e){K(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),s.prototype.readBigInt64BE=J(function(e){K(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)}),s.prototype.readFloatLE=function(e,t){return e>>>=0,t||S(e,4,this.length),r.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||S(e,4,this.length),r.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||S(e,8,this.length),r.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||S(e,8,this.length),r.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){U(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){U(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigUInt64LE=J(function(e,t=0){return T(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=J(function(e,t=0){return O(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);U(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);U(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigInt64LE=J(function(e,t=0){return T(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=J(function(e,t=0){return O(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeFloatLE=function(e,t,r){return k(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return k(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},s.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=s.isBuffer(e)?e:s.from(e,n),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};const L={};function D(e,t,r){L[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function P(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function z(e,t,r,n,i,o){if(e>r||e<t){const r="bigint"==typeof t?"n":"";let n;throw n=0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`,new L.ERR_OUT_OF_RANGE("value",n,e)}!function(e,t,r){K(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||G(t,e.length-(r+1))}(n,i,o)}function K(e,t){if("number"!=typeof e)throw new L.ERR_INVALID_ARG_TYPE(t,"number",e)}function G(e,t,r){if(Math.floor(e)!==e)throw K(e,r),new L.ERR_OUT_OF_RANGE("offset","an integer",e);if(t<0)throw new L.ERR_BUFFER_OUT_OF_BOUNDS;throw new L.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),D("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),D("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=P(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=P(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n},RangeError);const V=/[^+/0-9A-Za-z-_]/g;function H(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function F(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Y(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function $(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function q(e){return e!=e}const W=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function J(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}}(ae);var me={},be={},we={},ve=function(e,t){return function(r,n){var i=2*n,o=2*t;r[i]=e[o],r[i+1]=e[o+1]}};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,r=(t=ve)&&t.__esModule?t:{default:t};var n=function(e){for(var t=e.A,n=e.C,i=0;i<25;i+=5){for(var o=0;o<5;o++)(0,r.default)(t,i+o)(n,o);for(var s=0;s<5;s++){var a=2*(i+s),l=(s+1)%5*2,c=(s+2)%5*2;t[a]^=~n[l]&n[c],t[a+1]^=~n[l+1]&n[c+1]}}};e.default=n}(we);var Ae={},je={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]);e.default=t}(je),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,r=(t=je)&&t.__esModule?t:{default:t};var n=function(e){var t=e.A,n=2*e.roundIndex;t[0]^=r.default[n],t[1]^=r.default[n+1]};e.default=n}(Ae);var Ee={},Ne={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1];e.default=t}(Ne);var Re={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44];e.default=t}(Re),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=i(Ne),r=i(Re),n=i(ve);function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var i=e.A,o=e.C,s=e.W;(0,n.default)(i,1)(s,0);for(var a=0,l=0,c=0,u=32,f=0;f<24;f++){var d=t.default[f],h=r.default[f];(0,n.default)(i,d)(o,0),a=s[0],l=s[1],u=32-h,s[c=h<32?0:1]=a<<h|l>>>u,s[(c+1)%2]=l<<h|a>>>u,(0,n.default)(s,0)(i,d),(0,n.default)(o,0)(s,0)}};e.default=o}(Ee);var _e={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,r=(t=ve)&&t.__esModule?t:{default:t};var n=function(e){for(var t=e.A,n=e.C,i=e.D,o=e.W,s=0,a=0,l=0;l<5;l++){var c=2*l,u=2*(l+5),f=2*(l+10),d=2*(l+15),h=2*(l+20);n[c]=t[c]^t[u]^t[f]^t[d]^t[h],n[c+1]=t[c+1]^t[u+1]^t[f+1]^t[d+1]^t[h+1]}for(var p=0;p<5;p++){(0,r.default)(n,(p+1)%5)(o,0),s=o[0],a=o[1],o[0]=s<<1|a>>>31,o[1]=a<<1|s>>>31,i[2*p]=n[(p+4)%5*2]^o[0],i[2*p+1]=n[(p+4)%5*2+1]^o[1];for(var x=0;x<25;x+=5)t[2*(x+p)]^=i[2*p],t[2*(x+p)+1]^=i[2*p+1]}};e.default=n}(_e),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(we),r=o(Ae),n=o(Ee),i=o(_e);function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){var e=new Uint32Array(10),o=new Uint32Array(10),s=new Uint32Array(2);return function(a){for(var l=0;l<24;l++)(0,i.default)({A:a,C:e,D:o,W:s}),(0,n.default)({A:a,C:e,W:s}),(0,t.default)({A:a,C:e}),(0,r.default)({A:a,roundIndex:l});e.fill(0),o.fill(0),s.fill(0)}};e.default=s}(be),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,r=ae,n=(t=be)&&t.__esModule?t:{default:t};var i=function(e,t){for(var r=0;r<e.length;r+=8){var n=r/4;t[n]^=e[r+7]<<24|e[r+6]<<16|e[r+5]<<8|e[r+4],t[n+1]^=e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]}return t},o=function(e,t){for(var r=0;r<t.length;r+=8){var n=r/4;t[r]=e[n+1],t[r+1]=e[n+1]>>>8,t[r+2]=e[n+1]>>>16,t[r+3]=e[n+1]>>>24,t[r+4]=e[n],t[r+5]=e[n]>>>8,t[r+6]=e[n]>>>16,t[r+7]=e[n]>>>24}return t},s=function(e){var t=this,s=e.capacity,a=e.padding,l=(0,n.default)(),c=s/8,u=200-s/4,f=0,d=new Uint32Array(50),h=r.Buffer.allocUnsafe(u);return this.absorb=function(e){for(var r=0;r<e.length;r++)h[f]=e[r],(f+=1)>=u&&(i(h,d),l(d),f=0);return t},this.squeeze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={buffer:e.buffer||r.Buffer.allocUnsafe(c),padding:e.padding||a,queue:r.Buffer.allocUnsafe(h.length),state:new Uint32Array(d.length)};h.copy(t.queue);for(var n=0;n<d.length;n++)t.state[n]=d[n];t.queue.fill(0,f),t.queue[f]|=t.padding,t.queue[u-1]|=128,i(t.queue,t.state);for(var s=0;s<t.buffer.length;s+=u)l(t.state),o(t.state,t.buffer.slice(s,s+u));return t.buffer},this.reset=function(){return h.fill(0),d.fill(0),f=0,t},this};e.default=s}(me),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.SHAKE=e.SHA3Hash=e.SHA3=e.Keccak=void 0;var t,r=ae,n=(t=me)&&t.__esModule?t:{default:t};var i=function(e){var t=e.allowedSizes,i=e.defaultSize,o=e.padding;return function e(){var s=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;if(!this||this.constructor!==e)return new e(a);if(t&&!t.includes(a))throw new Error("Unsupported hash length");var l=new n.default({capacity:a});return this.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";if(r.Buffer.isBuffer(e))return l.absorb(e),s;if("string"==typeof e)return s.update(r.Buffer.from(e,t));throw new TypeError("Not a string or buffer")},this.digest=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"binary",t="string"==typeof e?{format:e}:e,r=l.squeeze({buffer:t.buffer,padding:t.padding||o});return t.format&&"binary"!==t.format?r.toString(t.format):r},this.reset=function(){return l.reset(),s},this}},o=i({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});e.Keccak=o;var s=i({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});e.SHA3=s;var a=i({allowedSizes:[128,256],defaultSize:256,padding:31});e.SHAKE=a;var l=o;e.SHA3Hash=l,s.SHA3Hash=l;var c=s;e.default=c}(se);const Be=o(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),{SHA3:Ie,SHAKE:Se}=se,Ue=Be.webcrypto,Te=[2285,2571,2970,1812,1493,1422,287,202,3158,622,1577,182,962,2127,1855,1468,573,2004,264,383,2500,1458,1727,3199,2648,1017,732,608,1787,411,3124,1758,1223,652,2777,1015,2036,1491,3047,1785,516,3321,3009,2663,1711,2167,126,1469,2476,3239,3058,830,107,1908,3082,2378,2931,961,1821,2604,448,2264,677,2054,2226,430,555,843,2078,871,1550,105,422,587,177,3094,3038,2869,1574,1653,3083,778,1159,3182,2552,1483,2727,1119,1739,644,2457,349,418,329,3173,3254,817,1097,603,610,1322,2044,1864,384,2114,3193,1218,1994,2455,220,2142,1670,2144,1799,2051,794,1819,2475,2459,478,3221,3021,996,991,958,1869,1522,1628],Oe=[1701,1807,1460,2371,2338,2333,308,108,2851,870,854,1510,2535,1278,1530,1185,1659,1187,3109,874,1335,2111,136,1215,2945,1465,1285,2007,2719,2726,2232,2512,75,156,3e3,2911,2980,872,2685,1590,2210,602,1846,777,147,2170,2551,246,1676,1755,460,291,235,3152,2742,2907,3224,1779,2458,1251,2486,2774,2899,1103,1275,2652,1065,2881,725,1508,2368,398,951,247,1421,3222,2499,271,90,853,1860,3203,1162,1618,666,320,8,2813,1544,282,1838,1293,2314,552,2677,2106,1571,205,2918,1542,2721,2597,2312,681,130,1602,1871,829,2946,3065,1325,2756,1861,1474,1202,2367,3147,1752,2707,171,3127,3042,1907,1836,1517,359,758,1441],Ce=256,ke=3329;function Me(e,t,r){let n,o,s=new Array(2);for(let i=0;i<2;i++)n=384*i,o=384*(i+1),s[i]=De(e.slice(n,o));let a=Pe(e.slice(768,800),!0),l=new Array(2),c=0;for(let i=0;i<2;i++)l[i]=Ke(r,c),c+=1;let u=new Array(2);for(let i=0;i<2;i++)u[i]=Ge(r,c),c+=1;let f=Ge(r,c);for(let i=0;i<2;i++)l[i]=Ye(l[i]);for(let i=0;i<2;i++)l[i]=qe(l[i]);let d=new Array(2);for(i=0;i<2;i++)d[i]=Qe(a[i],l);for(let i=0;i<2;i++)d[i]=rt(d[i]);for(let i=0;i<2;i++)d[i]=tt(d[i],u[i]);let h=function(e){let t,r=new Array(384).fill(0);for(let n=0;n<32;n++)for(let i=0;i<8;i++)t=-1*ot(e[n]>>i&1),r[8*n+i]=t&ot(1665);return r}(t),p=Qe(s,l);p=rt(p),p=tt(p,f),p=tt(p,h);for(let i=0;i<2;i++)d[i]=qe(d[i]);p=qe(p);let x=function(e){let t=0,r=new Array(640),n=new Array(4);for(let i=0;i<2;i++)for(let o=0;o<64;o++){for(let t=0;t<4;t++)n[t]=(1664.5+(e[i][4*o+t]<<10))/ke&1023;r[t+0]=it(n[0]|0),r[t+1]=it(n[0]>>8|n[1]<<2),r[t+2]=it(n[1]>>6|n[2]<<4),r[t+3]=it(n[2]>>4|n[3]<<6),r[t+4]=it(n[3]>>2),t+=5}return r}(d),g=function(e){let t=0,r=new Array(128),n=new Array(8);for(let i=0;i<32;i++){for(let t=0;t<8;t++)n[t]=15&it((1664.5+(e[8*i+t]<<4))/ke);r[t+0]=n[0]|n[1]<<4,r[t+1]=n[2]|n[3]<<4,r[t+2]=n[4]|n[5]<<4,r[t+3]=n[6]|n[7]<<4,t+=4}return r}(p);return x.concat(g)}function Le(e){let t,r,n=new Array(384),i=nt(e);for(let o=0;o<128;o++)t=st(i[2*o]),r=st(i[2*o+1]),n[3*o+0]=it(t|0),n[3*o+1]=it(t>>8)|it(r<<4),n[3*o+2]=it(r>>4);return n}function De(e){let t=new Array(384).fill(0);for(let r=0;r<128;r++)t[2*r]=ot(4095&(st(e[3*r+0])|st(e[3*r+1])<<8)),t[2*r+1]=ot(4095&(st(e[3*r+1])>>4|st(e[3*r+2])<<4));return t}function Pe(e,t){let r=new Array(2);new Array(504);const n=new Se(128);let i=0;for(let o=0;o<2;o++){r[o]=new Array(2);let s=new Array(2);for(let a=0;a<2;a++){s[0]=a,s[1]=o,t&&(s[0]=o,s[1]=a),n.reset();const l=Buffer.from(e),c=Buffer.from(s);n.update(l).update(c);let u=new Uint8Array(n.digest({buffer:Buffer.alloc(672)})),f=504,d=new Array(2);for(d=ze(u.slice(0,504),f,Ce),r[o][a]=d[0],i=d[1];i<Ce;){let e=u.slice(504,672),t=new Array(2);t=ze(e,168,Ce-i);let n=t[0],s=t[1];for(let l=i;l<Ce;l++)r[o][a][l]=n[l-i];i+=s}}}return r}function ze(e,t,r){let n,i,o=new Array(384).fill(0),s=0,a=0;for(;a<r&&s+3<=t;)n=4095&(st(e[s]|0)|st(e[s+1])<<8),i=4095&(st(e[s+1]>>4)|st(e[s+2])<<4),s+=3,n<ke&&(o[a]=n,a+=1),a<r&&i<ke&&(o[a]=i,a+=1);let l=new Array(2);return l[0]=o,l[1]=a,l}function Ke(e,t){return function(e){let t,r,n,i,o=new Array(384).fill(0);for(let s=0;s<64;s++){t=He(e.slice(3*s,e.length)),r=2396745&t,r+=t>>1&2396745,r+=t>>2&2396745;for(let e=0;e<4;e++)n=ot(r>>6*e+0&7),i=ot(r>>6*e+3&7),o[4*s+e]=n-i}return o}(Ve(192,e,t))}function Ge(e,t){return function(e){let t,r,n,i,o=new Array(384).fill(0);for(let s=0;s<32;s++){t=Fe(e.slice(4*s,e.length)),r=1431655765&t,r+=t>>1&1431655765;for(let e=0;e<8;e++)n=ot(r>>4*e+0&3),i=ot(r>>4*e+2&3),o[8*s+e]=n-i}return o}(Ve(128,e,t))}function Ve(e,t,r){let n=new Array(1);n[0]=r;const i=new Se(256);i.reset();const o=Buffer.from(t),s=Buffer.from(n);return i.update(o).update(s),i.digest({buffer:Buffer.alloc(e)})}function He(e){let t;return t=lt(e[0]),t|=lt(e[1])<<8,t|=lt(e[2])<<16,t}function Fe(e){let t;return t=lt(e[0]),t|=lt(e[1])<<8,t|=lt(e[2])<<16,t|=lt(e[3])<<24,t}function Ye(e){let t,r,n=0,i=1;for(let o=128;o>=2;o>>=1)for(let s=0;s<256;s=n+o)for(t=Te[i],i+=1,n=s;n<s+o;n++)r=$e(t,e[n+o]),e[n+o]=e[n]-r,e[n]=e[n]+r;return e}function $e(e,t){return Je(e*t)}function qe(e){for(let t=0;t<Ce;t++)e[t]=We(e[t]);return e}function We(e){let t=5040.216431360769*e>>24;return t*=ke,e-t}function Je(e){let t=ot(62209*at(e))*ke;return t=e-t,t>>=16,ot(t)}function Ze(e){for(let t=0;t<Ce;t++)e[t]=Je(at(e[t])*at(1353));return e}function Qe(e,t){let r,n=Xe(e[0],t[0]);for(let i=1;i<2;i++)r=Xe(e[i],t[i]),n=tt(n,r);return qe(n)}function Xe(e,t){let r,n;for(let i=0;i<64;i++)r=et(e[4*i+0],e[4*i+1],t[4*i+0],t[4*i+1],Te[64+i]),n=et(e[4*i+2],e[4*i+3],t[4*i+2],t[4*i+3],-Te[64+i]),e[4*i+0]=r[0],e[4*i+1]=r[1],e[4*i+2]=n[0],e[4*i+3]=n[1];return e}function et(e,t,r,n,i){let o=new Array(2);return o[0]=$e(t,n),o[0]=$e(o[0],i),o[0]=o[0]+$e(e,r),o[1]=$e(e,n),o[1]=o[1]+$e(t,r),o}function tt(e,t){let r=new Array(384);for(let n=0;n<Ce;n++)r[n]=e[n]+t[n];return r}function rt(e){let t,r,n=0,i=0;for(let o=2;o<=128;o<<=1)for(let s=0;s<256;s=n+o)for(t=Oe[i],i+=1,n=s;n<s+o;n++)r=e[n],e[n]=We(r+e[n+o]),e[n+o]=r-e[n+o],e[n+o]=$e(t,e[n+o]);for(n=0;n<256;n++)e[n]=$e(e[n],Oe[127]);return e}function nt(e){for(let t=0;t<Ce;t++)e[t]=e[t]-ke,e[t]=e[t]+(e[t]>>31&ke);return e}function it(e){return e%=256}function ot(e){let t=-32768,r=32767;return e>=t&&e<=r?e:e<t?(e+=32769,e=r+(e%=65536)):e>r?(e-=32768,e=t+(e%=65536)):void 0}function st(e){return e%=65536}function at(e){let t=-2147483648,r=2147483647;return e>=t&&e<=r?e:e<t?(e+=2147483649,e=r+(e%=4294967296)):e>r?(e-=2147483648,e=t+(e%=4294967296)):void 0}function lt(e){return e%=4294967296}function ct(e,t){if(e.length!=t.length)return 0;for(let r=0;r<e.length;r++)if(e[r]!=t[r])return 0;return 1}function ut(e){return parseInt(e,16)}KeyGen512=function(){let e=function(){let e=new Uint8Array(32);Ue.getRandomValues(e);const t=Buffer.from(e),r=new Ie(512);r.update(t);let n=new Uint8Array(r.digest()),i=n.slice(0,32),o=n.slice(32,64),s=Pe(i,!1),a=new Array(2),l=0;for(let h=0;h<2;h++)a[h]=Ke(o,l),l+=1;let c=new Array(2);for(let h=0;h<2;h++)c[h]=Ke(o,l),l+=1;for(let h=0;h<2;h++)a[h]=Ye(a[h]);for(let h=0;h<2;h++)c[h]=Ye(c[h]);for(let h=0;h<2;h++)a[h]=qe(a[h]);let u=new Array(2);for(let h=0;h<2;h++)u[h]=Ze(Qe(s[h],a));for(let h=0;h<2;h++)u[h]=tt(u[h],c[h]);for(let h=0;h<2;h++)u[h]=qe(u[h]);let f=new Array(2);f[0]=[];let d=[];for(let h=0;h<2;h++){d=Le(u[h]);for(let e=0;e<d.length;e++)f[0].push(d[e])}for(let h=0;h<i.length;h++)f[0].push(i[h]);f[1]=[],d=[];for(let h=0;h<2;h++){d=Le(a[h]);for(let e=0;e<d.length;e++)f[1].push(d[e])}return f}(),t=e[0],r=e[1];const n=Buffer.from(t),i=new Ie(256);i.update(n);let o=i.digest(),s=new Uint8Array(32);Ue.getRandomValues(s);for(let l=0;l<t.length;l++)r.push(t[l]);for(let l=0;l<o.length;l++)r.push(o[l]);for(let l=0;l<s.length;l++)r.push(s[l]);let a=new Array(2);return a[0]=t,a[1]=r,a},Encrypt512=function(e){let t=new Uint8Array(32);Ue.getRandomValues(t);const r=Buffer.from(t),n=new Ie(256);n.update(r);let i=n.digest();const o=Buffer.from(e),s=new Ie(256);s.update(o);let a=s.digest();const l=Buffer.from(i),c=Buffer.from(a),u=new Ie(512);u.update(l).update(c);let f=new Uint8Array(u.digest()),d=f.slice(0,32),h=Me(e,i,f.slice(32,64));const p=Buffer.from(h),x=new Ie(256);x.update(p);let g=x.digest();const y=Buffer.from(d),m=Buffer.from(g),b=new Se(256);b.update(y).update(m);let w=b.digest(),v=new Array(2);return v[0]=h,v[1]=w,v},Decrypt512=function(e,t){let r=t.slice(0,768),n=t.slice(768,1568),i=t.slice(1568,1600),o=t.slice(1600,1632),s=function(e,t){let r=function(e){let t=new Array(2);for(let i=0;i<2;i++)t[i]=new Array(384);let r=0,n=new Array(4);for(let i=0;i<2;i++)for(let o=0;o<64;o++){n[0]=st(e[r+0])|st(e[r+1])<<8,n[1]=st(e[r+1])>>2|st(e[r+2])<<6,n[2]=st(e[r+2])>>4|st(e[r+3])<<4,n[3]=st(e[r+3])>>6|st(e[r+4])<<2,r+=5;for(let e=0;e<4;e++)t[i][4*o+e]=ot(((lt(1023&n[e])>>>0)*(lt(ke)>>>0)>>>0)+512>>10>>>0)}return t}(e.slice(0,640)),n=function(e){let t=new Array(384),r=0;for(let n=0;n<128;n++)t[2*n+0]=ot(st(15&e[r])*st(ke)+8>>4),t[2*n+1]=ot(st(e[r]>>4)*st(ke)+8>>4),r+=1;return t}(e.slice(640,768)),i=function(e){let t,r,n=new Array(2);for(let i=0;i<2;i++)n[i]=new Array(384);for(let i=0;i<2;i++)t=384*i,r=384*(i+1),n[i]=De(e.slice(t,r));return n}(t);for(let s=0;s<2;s++)r[s]=Ye(r[s]);let o=Qe(i,r);return o=rt(o),o=function(e,t){for(let r=0;r<Ce;r++)e[r]=e[r]-t[r];return e}(n,o),o=qe(o),function(e){let t,r=new Array(32),n=nt(e);for(let i=0;i<32;i++){r[i]=0;for(let e=0;e<8;e++)t=((st(n[8*i+e])<<1)+st(1664.5))/st(ke)&1,r[i]|=it(t<<e)}return r}(o)}(e,r);const a=Buffer.from(s),l=Buffer.from(i),c=new Ie(512);c.update(a).update(l);let u=new Uint8Array(c.digest()),f=u.slice(0,32),d=ct(e,Me(n,s,u.slice(32,64)))-1;const h=Buffer.from(e),p=new Ie(256);p.update(h);let x=p.digest(),g=[];if(d){const e=Buffer.from(o),t=Buffer.from(x),r=new Se(256);r.update(e).update(t),g=r.digest()}else{const e=Buffer.from(f),t=Buffer.from(x),r=new Se(256);r.update(e).update(t),g=r.digest()}return g},Test512=function(){let e=Be.readFileSync("./node_modules/crystals-kyber/PQCkemKAT_1632.rsp").toString().split("\n"),t=[],r=[],n=[],i=0;for(;i<e.length;){if("c"==e[i][0]&&"t"==e[i][1]){let t=[];for(j=0;j<768;j++)t[j]=ut(e[i][2*j+5]+e[i][2*j+1+5]);r.push(t),i+=1;continue}if("s"==e[i][0]&&"s"==e[i][1]){let t=[];for(j=0;j<32;j++)t[j]=ut(e[i][2*j+5]+e[i][2*j+1+5]);n.push(t),i+=1;continue}if("s"==e[i][0]&&"k"==e[i][1]){let r=[];for(j=0;j<1632;j++)r[j]=ut(e[i][2*j+5]+e[i][2*j+1+5]);t.push(r),i+=1;continue}i+=1}let o=0;for(let f=0;f<100;f++){let e=Decrypt512(r[f],t[f]);ct(n[f],e)||(o+=1)}let s=KeyGen512(),a=s[0],l=s[1],c=Encrypt512(a),u=c[0];c[1],Decrypt512(u,l)},oe.KeyGen512=KeyGen512,oe.Encrypt512=Encrypt512,oe.Decrypt512=Decrypt512,oe.Test512=Test512;var ft={};const{SHA3:dt,SHAKE:ht}=se,pt=Be.webcrypto,xt=[2285,2571,2970,1812,1493,1422,287,202,3158,622,1577,182,962,2127,1855,1468,573,2004,264,383,2500,1458,1727,3199,2648,1017,732,608,1787,411,3124,1758,1223,652,2777,1015,2036,1491,3047,1785,516,3321,3009,2663,1711,2167,126,1469,2476,3239,3058,830,107,1908,3082,2378,2931,961,1821,2604,448,2264,677,2054,2226,430,555,843,2078,871,1550,105,422,587,177,3094,3038,2869,1574,1653,3083,778,1159,3182,2552,1483,2727,1119,1739,644,2457,349,418,329,3173,3254,817,1097,603,610,1322,2044,1864,384,2114,3193,1218,1994,2455,220,2142,1670,2144,1799,2051,794,1819,2475,2459,478,3221,3021,996,991,958,1869,1522,1628],gt=[1701,1807,1460,2371,2338,2333,308,108,2851,870,854,1510,2535,1278,1530,1185,1659,1187,3109,874,1335,2111,136,1215,2945,1465,1285,2007,2719,2726,2232,2512,75,156,3e3,2911,2980,872,2685,1590,2210,602,1846,777,147,2170,2551,246,1676,1755,460,291,235,3152,2742,2907,3224,1779,2458,1251,2486,2774,2899,1103,1275,2652,1065,2881,725,1508,2368,398,951,247,1421,3222,2499,271,90,853,1860,3203,1162,1618,666,320,8,2813,1544,282,1838,1293,2314,552,2677,2106,1571,205,2918,1542,2721,2597,2312,681,130,1602,1871,829,2946,3065,1325,2756,1861,1474,1202,2367,3147,1752,2707,171,3127,3042,1907,1836,1517,359,758,1441],yt=256,mt=3329;function bt(e,t,r){let n,o,s=new Array(3);for(let i=0;i<3;i++)n=384*i,o=384*(i+1),s[i]=vt(e.slice(n,o));let a=At(e.slice(1152,1184),!0),l=new Array(3),c=0;for(let i=0;i<3;i++)l[i]=Et(r,c),c+=1;let u=new Array(3);for(let i=0;i<3;i++)u[i]=Et(r,c),c+=1;let f=Et(r,c);for(let i=0;i<3;i++)l[i]=Rt(l[i]);for(let i=0;i<3;i++)l[i]=Bt(l[i]);let d=new Array(3);for(i=0;i<3;i++)d[i]=Tt(a[i],l);for(let i=0;i<3;i++)d[i]=Mt(d[i]);for(let i=0;i<3;i++)d[i]=kt(d[i],u[i]);let h=function(e){let t,r=new Array(384).fill(0);for(let n=0;n<32;n++)for(let i=0;i<8;i++)t=-1*Pt(e[n]>>i&1),r[8*n+i]=t&Pt(1665);return r}(t),p=Tt(s,l);p=Mt(p),p=kt(p,f),p=kt(p,h);for(let i=0;i<3;i++)d[i]=Bt(d[i]);p=Bt(p);let x=function(e){let t=0,r=new Array(960),n=new Array(4);for(let i=0;i<3;i++)for(let o=0;o<64;o++){for(let t=0;t<4;t++)n[t]=(1664.5+(e[i][4*o+t]<<10))/mt&1023;r[t+0]=Dt(n[0]|0),r[t+1]=Dt(n[0]>>8|n[1]<<2),r[t+2]=Dt(n[1]>>6|n[2]<<4),r[t+3]=Dt(n[2]>>4|n[3]<<6),r[t+4]=Dt(n[3]>>2),t+=5}return r}(d),g=function(e){let t=0,r=new Array(128),n=new Array(8);for(let i=0;i<32;i++){for(let t=0;t<8;t++)n[t]=15&Dt((1664.5+(e[8*i+t]<<4))/mt);r[t+0]=n[0]|n[1]<<4,r[t+1]=n[2]|n[3]<<4,r[t+2]=n[4]|n[5]<<4,r[t+3]=n[6]|n[7]<<4,t+=4}return r}(p);return x.concat(g)}function wt(e){let t,r,n=new Array(384),i=Lt(e);for(let o=0;o<128;o++)t=zt(i[2*o]),r=zt(i[2*o+1]),n[3*o+0]=Dt(t|0),n[3*o+1]=Dt(t>>8)|Dt(r<<4),n[3*o+2]=Dt(r>>4);return n}function vt(e){let t=new Array(384).fill(0);for(let r=0;r<128;r++)t[2*r]=Pt(4095&(zt(e[3*r+0])|zt(e[3*r+1])<<8)),t[2*r+1]=Pt(4095&(zt(e[3*r+1])>>4|zt(e[3*r+2])<<4));return t}function At(e,t){let r=new Array(3);new Array(504);const n=new ht(128);let i=0;for(let o=0;o<3;o++){r[o]=new Array(3);let s=new Array(2);for(let a=0;a<3;a++){s[0]=a,s[1]=o,t&&(s[0]=o,s[1]=a),n.reset();const l=Buffer.from(e),c=Buffer.from(s);n.update(l).update(c);let u=new Uint8Array(n.digest({buffer:Buffer.alloc(672)})),f=504,d=new Array(2);for(d=jt(u.slice(0,504),f,yt),r[o][a]=d[0],i=d[1];i<yt;){let e=u.slice(504,672),t=new Array(2);t=jt(e,168,yt-i);let n=t[0],s=t[1];for(let l=i;l<yt;l++)r[o][a][l]=n[l-i];i+=s}}}return r}function jt(e,t,r){let n,i,o=new Array(384).fill(0),s=0,a=0;for(;a<r&&s+3<=t;)n=4095&(zt(e[s]|0)|zt(e[s+1])<<8),i=4095&(zt(e[s+1]>>4)|zt(e[s+2])<<4),s+=3,n<mt&&(o[a]=n,a+=1),a<r&&i<mt&&(o[a]=i,a+=1);let l=new Array(2);return l[0]=o,l[1]=a,l}function Et(e,t){let r=function(e,t,r){let n=new Array(1);n[0]=r;const i=new ht(256);i.reset();const o=Buffer.from(t),s=Buffer.from(n);i.update(o).update(s);let a=i.digest({buffer:Buffer.alloc(e)});return a}(128,e,t);return function(e){let t,r,n,i,o=new Array(384).fill(0);for(let s=0;s<32;s++){t=Nt(e.slice(4*s,e.length))>>>0,r=(1431655765&t)>>>0,r=r+((t>>1>>>0&1431655765)>>>0)>>>0;for(let e=0;e<8;e++)n=Pt((r>>4*e+0>>>0&3)>>>0),i=Pt((r>>4*e+2>>>0&3)>>>0),o[8*s+e]=n-i}return o}(r)}function Nt(e){let t;return t=Gt(e[0]),t=(t|Gt(e[1])<<8)>>>0>>>0,t=(t|Gt(e[2])<<16)>>>0>>>0,t=(t|Gt(e[3])<<24)>>>0>>>0,Gt(t)}function Rt(e){let t,r,n=0,i=1;for(let o=128;o>=2;o>>=1)for(let s=0;s<256;s=n+o)for(t=xt[i],i+=1,n=s;n<s+o;n++)r=_t(t,e[n+o]),e[n+o]=e[n]-r,e[n]=e[n]+r;return e}function _t(e,t){return St(e*t)}function Bt(e){for(let t=0;t<yt;t++)e[t]=It(e[t]);return e}function It(e){let t=5040.216431360769*e>>24;return t*=mt,e-t}function St(e){let t=Pt(62209*Kt(e))*mt;return t=e-t,t>>=16,Pt(t)}function Ut(e){for(let t=0;t<yt;t++)e[t]=St(Kt(e[t])*Kt(1353));return e}function Tt(e,t){let r,n=Ot(e[0],t[0]);for(let i=1;i<3;i++)r=Ot(e[i],t[i]),n=kt(n,r);return Bt(n)}function Ot(e,t){let r,n;for(let i=0;i<64;i++)r=Ct(e[4*i+0],e[4*i+1],t[4*i+0],t[4*i+1],xt[64+i]),n=Ct(e[4*i+2],e[4*i+3],t[4*i+2],t[4*i+3],-xt[64+i]),e[4*i+0]=r[0],e[4*i+1]=r[1],e[4*i+2]=n[0],e[4*i+3]=n[1];return e}function Ct(e,t,r,n,i){let o=new Array(2);return o[0]=_t(t,n),o[0]=_t(o[0],i),o[0]=o[0]+_t(e,r),o[1]=_t(e,n),o[1]=o[1]+_t(t,r),o}function kt(e,t){let r=new Array(384);for(let n=0;n<yt;n++)r[n]=e[n]+t[n];return r}function Mt(e){let t,r,n=0,i=0;for(let o=2;o<=128;o<<=1)for(let s=0;s<256;s=n+o)for(t=gt[i],i+=1,n=s;n<s+o;n++)r=e[n],e[n]=It(r+e[n+o]),e[n+o]=r-e[n+o],e[n+o]=_t(t,e[n+o]);for(n=0;n<256;n++)e[n]=_t(e[n],gt[127]);return e}function Lt(e){for(let t=0;t<yt;t++)e[t]=e[t]-mt,e[t]=e[t]+(e[t]>>31&mt);return e}function Dt(e){return e%=256}function Pt(e){let t=-32768,r=32767;return e>=t&&e<=r?e:e<t?(e+=32769,e=r+(e%=65536)):e>r?(e-=32768,e=t+(e%=65536)):void 0}function zt(e){return e%=65536}function Kt(e){let t=-2147483648,r=2147483647;return e>=t&&e<=r?e:e<t?(e+=2147483649,e=r+(e%=4294967296)):e>r?(e-=2147483648,e=t+(e%=4294967296)):void 0}function Gt(e){return e%=4294967296}function Vt(e,t){if(e.length!=t.length)return 0;for(let r=0;r<e.length;r++)if(e[r]!=t[r])return 0;return 1}function Ht(e){return parseInt(e,16)}KeyGen768=function(){let e=function(){let e=new Uint8Array(32);pt.getRandomValues(e);const t=Buffer.from(e),r=new dt(512);r.update(t);let n=new Uint8Array(r.digest()),i=n.slice(0,32),o=n.slice(32,64),s=At(i,!1),a=new Array(3),l=0;for(let h=0;h<3;h++)a[h]=Et(o,l),l+=1;let c=new Array(3);for(let h=0;h<3;h++)c[h]=Et(o,l),l+=1;for(let h=0;h<3;h++)a[h]=Rt(a[h]);for(let h=0;h<3;h++)c[h]=Rt(c[h]);for(let h=0;h<3;h++)a[h]=Bt(a[h]);let u=new Array(3);for(let h=0;h<3;h++)u[h]=Ut(Tt(s[h],a));for(let h=0;h<3;h++)u[h]=kt(u[h],c[h]);for(let h=0;h<3;h++)u[h]=Bt(u[h]);let f=new Array(2);f[0]=[];let d=[];for(let h=0;h<3;h++){d=wt(u[h]);for(let e=0;e<d.length;e++)f[0].push(d[e])}for(let h=0;h<i.length;h++)f[0].push(i[h]);f[1]=[],d=[];for(let h=0;h<3;h++){d=wt(a[h]);for(let e=0;e<d.length;e++)f[1].push(d[e])}return f}(),t=e[0],r=e[1];const n=Buffer.from(t),i=new dt(256);i.update(n);let o=i.digest(),s=new Uint8Array(32);pt.getRandomValues(s);for(let l=0;l<t.length;l++)r.push(t[l]);for(let l=0;l<o.length;l++)r.push(o[l]);for(let l=0;l<s.length;l++)r.push(s[l]);let a=new Array(2);return a[0]=t,a[1]=r,a},Encrypt768=function(e){let t=new Uint8Array(32);pt.getRandomValues(t);const r=Buffer.from(t),n=new dt(256);n.update(r);let i=n.digest();const o=Buffer.from(e),s=new dt(256);s.update(o);let a=s.digest();const l=Buffer.from(i),c=Buffer.from(a),u=new dt(512);u.update(l).update(c);let f=new Uint8Array(u.digest()),d=f.slice(0,32),h=bt(e,i,f.slice(32,64));const p=Buffer.from(h),x=new dt(256);x.update(p);let g=x.digest();const y=Buffer.from(d),m=Buffer.from(g),b=new ht(256);b.update(y).update(m);let w=b.digest(),v=new Array(2);return v[0]=h,v[1]=w,v},Decrypt768=function(e,t){let r=t.slice(0,1152),n=t.slice(1152,2336),i=t.slice(2336,2368),o=t.slice(2368,2400),s=function(e,t){let r=function(e){let t=new Array(3);for(let i=0;i<3;i++)t[i]=new Array(384);let r=0,n=new Array(4);for(let i=0;i<3;i++)for(let o=0;o<64;o++){n[0]=zt(e[r+0])|zt(e[r+1])<<8,n[1]=zt(e[r+1])>>2|zt(e[r+2])<<6,n[2]=zt(e[r+2])>>4|zt(e[r+3])<<4,n[3]=zt(e[r+3])>>6|zt(e[r+4])<<2,r+=5;for(let e=0;e<4;e++)t[i][4*o+e]=Pt(((Gt(1023&n[e])>>>0)*(Gt(mt)>>>0)>>>0)+512>>10>>>0)}return t}(e.slice(0,960)),n=function(e){let t=new Array(384),r=0;for(let n=0;n<128;n++)t[2*n+0]=Pt(zt(15&e[r])*zt(mt)+8>>4),t[2*n+1]=Pt(zt(e[r]>>4)*zt(mt)+8>>4),r+=1;return t}(e.slice(960,1088)),i=function(e){let t,r,n=new Array(3);for(let i=0;i<3;i++)n[i]=new Array(384);for(let i=0;i<3;i++)t=384*i,r=384*(i+1),n[i]=vt(e.slice(t,r));return n}(t);for(let s=0;s<3;s++)r[s]=Rt(r[s]);let o=Tt(i,r);return o=Mt(o),o=function(e,t){for(let r=0;r<yt;r++)e[r]=e[r]-t[r];return e}(n,o),o=Bt(o),function(e){let t,r=new Array(32),n=Lt(e);for(let i=0;i<32;i++){r[i]=0;for(let e=0;e<8;e++)t=((zt(n[8*i+e])<<1)+zt(1664.5))/zt(mt)&1,r[i]|=Dt(t<<e)}return r}(o)}(e,r);const a=Buffer.from(s),l=Buffer.from(i),c=new dt(512);c.update(a).update(l);let u=new Uint8Array(c.digest()),f=u.slice(0,32),d=Vt(e,bt(n,s,u.slice(32,64)))-1;const h=Buffer.from(e),p=new dt(256);p.update(h);let x=p.digest(),g=[];if(d){const e=Buffer.from(o),t=Buffer.from(x),r=new ht(256);r.update(e).update(t),g=r.digest()}else{const e=Buffer.from(f),t=Buffer.from(x),r=new ht(256);r.update(e).update(t),g=r.digest()}return g},Test768=function(){let e=Be.readFileSync("./node_modules/crystals-kyber/PQCkemKAT_2400.rsp").toString().split("\n"),t=[],r=[],n=[],i=0;for(;i<e.length;){if("c"==e[i][0]&&"t"==e[i][1]){let t=[];for(j=0;j<1088;j++)t[j]=Ht(e[i][2*j+5]+e[i][2*j+1+5]);r.push(t),i+=1;continue}if("s"==e[i][0]&&"s"==e[i][1]){let t=[];for(j=0;j<32;j++)t[j]=Ht(e[i][2*j+5]+e[i][2*j+1+5]);n.push(t),i+=1;continue}if("s"==e[i][0]&&"k"==e[i][1]){let r=[];for(j=0;j<2400;j++)r[j]=Ht(e[i][2*j+5]+e[i][2*j+1+5]);t.push(r),i+=1;continue}i+=1}let o=0;for(let f=0;f<100;f++){let e=Decrypt768(r[f],t[f]);Vt(n[f],e)||(o+=1)}let s=KeyGen768(),a=s[0],l=s[1],c=Encrypt768(a),u=c[0];c[1],Decrypt768(u,l)},ft.KeyGen768=KeyGen768,ft.Encrypt768=Encrypt768,ft.Decrypt768=Decrypt768,ft.Test768=Test768;var Ft={};const{SHA3:Yt,SHAKE:$t}=se,qt=Be.webcrypto,Wt=[2285,2571,2970,1812,1493,1422,287,202,3158,622,1577,182,962,2127,1855,1468,573,2004,264,383,2500,1458,1727,3199,2648,1017,732,608,1787,411,3124,1758,1223,652,2777,1015,2036,1491,3047,1785,516,3321,3009,2663,1711,2167,126,1469,2476,3239,3058,830,107,1908,3082,2378,2931,961,1821,2604,448,2264,677,2054,2226,430,555,843,2078,871,1550,105,422,587,177,3094,3038,2869,1574,1653,3083,778,1159,3182,2552,1483,2727,1119,1739,644,2457,349,418,329,3173,3254,817,1097,603,610,1322,2044,1864,384,2114,3193,1218,1994,2455,220,2142,1670,2144,1799,2051,794,1819,2475,2459,478,3221,3021,996,991,958,1869,1522,1628],Jt=[1701,1807,1460,2371,2338,2333,308,108,2851,870,854,1510,2535,1278,1530,1185,1659,1187,3109,874,1335,2111,136,1215,2945,1465,1285,2007,2719,2726,2232,2512,75,156,3e3,2911,2980,872,2685,1590,2210,602,1846,777,147,2170,2551,246,1676,1755,460,291,235,3152,2742,2907,3224,1779,2458,1251,2486,2774,2899,1103,1275,2652,1065,2881,725,1508,2368,398,951,247,1421,3222,2499,271,90,853,1860,3203,1162,1618,666,320,8,2813,1544,282,1838,1293,2314,552,2677,2106,1571,205,2918,1542,2721,2597,2312,681,130,1602,1871,829,2946,3065,1325,2756,1861,1474,1202,2367,3147,1752,2707,171,3127,3042,1907,1836,1517,359,758,1441],Zt=256,Qt=3329;function Xt(e,t,r){let n,o,s=new Array(4);for(let i=0;i<4;i++)n=384*i,o=384*(i+1),s[i]=tr(e.slice(n,o));let a=rr(e.slice(1536,1568),!0),l=new Array(4),c=0;for(let i=0;i<4;i++)l[i]=ir(r,c),c+=1;let u=new Array(4);for(let i=0;i<4;i++)u[i]=ir(r,c),c+=1;let f=ir(r,c);for(let i=0;i<4;i++)l[i]=sr(l[i]);for(let i=0;i<4;i++)l[i]=lr(l[i]);let d=new Array(4);for(i=0;i<4;i++)d[i]=dr(a[i],l);for(let i=0;i<4;i++)d[i]=gr(d[i]);for(let i=0;i<4;i++)d[i]=xr(d[i],u[i]);let h=function(e){let t,r=new Array(384).fill(0);for(let n=0;n<32;n++)for(let i=0;i<8;i++)t=-1*br(e[n]>>i&1),r[8*n+i]=t&br(1665);return r}(t),p=dr(s,l);p=gr(p),p=xr(p,f),p=xr(p,h);for(let i=0;i<4;i++)d[i]=lr(d[i]);p=lr(p);let x=function(e){let t=0,r=new Array(1408),n=new Array(8);for(let i=0;i<4;i++)for(let o=0;o<32;o++){for(let t=0;t<8;t++)n[t]=wr(((Ar(e[i][8*o+t])<<11>>>0)+Ar(1664.5))/Ar(Qt)&2047);r[t+0]=mr(n[0]|0),r[t+1]=mr(n[0]>>8|n[1]<<3),r[t+2]=mr(n[1]>>5|n[2]<<6),r[t+3]=mr(n[2]>>2),r[t+4]=mr(n[2]>>10|n[3]<<1),r[t+5]=mr(n[3]>>7|n[4]<<4),r[t+6]=mr(n[4]>>4|n[5]<<7),r[t+7]=mr(n[5]>>1),r[t+8]=mr(n[5]>>9|n[6]<<2),r[t+9]=mr(n[6]>>6|n[7]<<5),r[t+10]=mr(n[7]>>3),t+=11}return r}(d),g=function(e){let t=0,r=new Array(160),n=new Array(8);for(let i=0;i<32;i++){for(let t=0;t<8;t++)n[t]=31&mr(((Ar(e[8*i+t])<<5>>>0)+Ar(1664.5))/Ar(Qt));r[t+0]=mr(n[0]|n[1]<<5),r[t+1]=mr(n[1]>>3|n[2]<<2|n[3]<<7),r[t+2]=mr(n[3]>>1|n[4]<<4),r[t+3]=mr(n[4]>>4|n[5]<<1|n[6]<<6),r[t+4]=mr(n[6]>>2|n[7]<<3),t+=5}return r}(p);return x.concat(g)}function er(e){let t,r,n=new Array(384),i=yr(e);for(let o=0;o<128;o++)t=wr(i[2*o]),r=wr(i[2*o+1]),n[3*o+0]=mr(t|0),n[3*o+1]=mr(t>>8)|mr(r<<4),n[3*o+2]=mr(r>>4);return n}function tr(e){let t=new Array(384).fill(0);for(let r=0;r<128;r++)t[2*r]=br(4095&(wr(e[3*r+0])|wr(e[3*r+1])<<8)),t[2*r+1]=br(4095&(wr(e[3*r+1])>>4|wr(e[3*r+2])<<4));return t}function rr(e,t){let r=new Array(4);new Array(504);const n=new $t(128);let i=0;for(let o=0;o<4;o++){r[o]=new Array(4);let s=new Array(2);for(let a=0;a<4;a++){s[0]=a,s[1]=o,t&&(s[0]=o,s[1]=a),n.reset();const l=Buffer.from(e),c=Buffer.from(s);n.update(l).update(c);let u=new Uint8Array(n.digest({buffer:Buffer.alloc(672)})),f=504,d=new Array(2);for(d=nr(u.slice(0,504),f,Zt),r[o][a]=d[0],i=d[1];i<Zt;){let e=u.slice(504,672),t=new Array(2);t=nr(e,168,Zt-i);let n=t[0],s=t[1];for(let l=i;l<Zt;l++)r[o][a][l]=n[l-i];i+=s}}}return r}function nr(e,t,r){let n,i,o=new Array(384).fill(0),s=0,a=0;for(;a<r&&s+3<=t;)n=4095&(wr(e[s]|0)|wr(e[s+1])<<8),i=4095&(wr(e[s+1]>>4)|wr(e[s+2])<<4),s+=3,n<Qt&&(o[a]=n,a+=1),a<r&&i<Qt&&(o[a]=i,a+=1);let l=new Array(2);return l[0]=o,l[1]=a,l}function ir(e,t){let r=function(e,t,r){let n=new Array(1);n[0]=r;const i=new $t(256);i.reset();const o=Buffer.from(t),s=Buffer.from(n);i.update(o).update(s);let a=i.digest({buffer:Buffer.alloc(e)});return a}(128,e,t);return function(e){let t,r,n,i,o=new Array(384).fill(0);for(let s=0;s<32;s++){t=or(e.slice(4*s,e.length))>>>0,r=(1431655765&t)>>>0,r=r+((t>>1>>>0&1431655765)>>>0)>>>0;for(let e=0;e<8;e++)n=br((r>>4*e+0>>>0&3)>>>0),i=br((r>>4*e+2>>>0&3)>>>0),o[8*s+e]=n-i}return o}(r)}function or(e){let t;return t=Ar(e[0]),t=(t|Ar(e[1])<<8)>>>0>>>0,t=(t|Ar(e[2])<<16)>>>0>>>0,t=(t|Ar(e[3])<<24)>>>0>>>0,Ar(t)}function sr(e){let t,r,n=0,i=1;for(let o=128;o>=2;o>>=1)for(let s=0;s<256;s=n+o)for(t=Wt[i],i+=1,n=s;n<s+o;n++)r=ar(t,e[n+o]),e[n+o]=e[n]-r,e[n]=e[n]+r;return e}function ar(e,t){return ur(e*t)}function lr(e){for(let t=0;t<Zt;t++)e[t]=cr(e[t]);return e}function cr(e){let t=5040.216431360769*e>>24;return t*=Qt,e-t}function ur(e){let t=br(62209*vr(e))*Qt;return t=e-t,t>>=16,br(t)}function fr(e){for(let t=0;t<Zt;t++)e[t]=ur(vr(e[t])*vr(1353));return e}function dr(e,t){let r,n=hr(e[0],t[0]);for(let i=1;i<4;i++)r=hr(e[i],t[i]),n=xr(n,r);return lr(n)}function hr(e,t){let r,n;for(let i=0;i<64;i++)r=pr(e[4*i+0],e[4*i+1],t[4*i+0],t[4*i+1],Wt[64+i]),n=pr(e[4*i+2],e[4*i+3],t[4*i+2],t[4*i+3],-Wt[64+i]),e[4*i+0]=r[0],e[4*i+1]=r[1],e[4*i+2]=n[0],e[4*i+3]=n[1];return e}function pr(e,t,r,n,i){let o=new Array(2);return o[0]=ar(t,n),o[0]=ar(o[0],i),o[0]=o[0]+ar(e,r),o[1]=ar(e,n),o[1]=o[1]+ar(t,r),o}function xr(e,t){let r=new Array(384);for(let n=0;n<Zt;n++)r[n]=e[n]+t[n];return r}function gr(e){let t,r,n=0,i=0;for(let o=2;o<=128;o<<=1)for(let s=0;s<256;s=n+o)for(t=Jt[i],i+=1,n=s;n<s+o;n++)r=e[n],e[n]=cr(r+e[n+o]),e[n+o]=r-e[n+o],e[n+o]=ar(t,e[n+o]);for(n=0;n<256;n++)e[n]=ar(e[n],Jt[127]);return e}function yr(e){for(let t=0;t<Zt;t++)e[t]=e[t]-Qt,e[t]=e[t]+(e[t]>>31&Qt);return e}function mr(e){return e%=256}function br(e){let t=-32768,r=32767;return e>=t&&e<=r?e:e<t?(e+=32769,e=r+(e%=65536)):e>r?(e-=32768,e=t+(e%=65536)):void 0}function wr(e){return e%=65536}function vr(e){let t=-2147483648,r=2147483647;return e>=t&&e<=r?e:e<t?(e+=2147483649,e=r+(e%=4294967296)):e>r?(e-=2147483648,e=t+(e%=4294967296)):void 0}function Ar(e){return e%=4294967296}function jr(e,t){if(e.length!=t.length)return 0;for(let r=0;r<e.length;r++)if(e[r]!=t[r])return 0;return 1}function Er(e){return parseInt(e,16)}KeyGen1024=function(){let e=function(){let e=new Uint8Array(32);qt.getRandomValues(e);const t=Buffer.from(e),r=new Yt(512);r.update(t);let n=new Uint8Array(r.digest()),i=n.slice(0,32),o=n.slice(32,64),s=rr(i,!1),a=new Array(4),l=0;for(let h=0;h<4;h++)a[h]=ir(o,l),l+=1;let c=new Array(4);for(let h=0;h<4;h++)c[h]=ir(o,l),l+=1;for(let h=0;h<4;h++)a[h]=sr(a[h]);for(let h=0;h<4;h++)c[h]=sr(c[h]);for(let h=0;h<4;h++)a[h]=lr(a[h]);let u=new Array(4);for(let h=0;h<4;h++)u[h]=fr(dr(s[h],a));for(let h=0;h<4;h++)u[h]=xr(u[h],c[h]);for(let h=0;h<4;h++)u[h]=lr(u[h]);let f=new Array(2);f[0]=[];let d=[];for(let h=0;h<4;h++){d=er(u[h]);for(let e=0;e<d.length;e++)f[0].push(d[e])}for(let h=0;h<i.length;h++)f[0].push(i[h]);f[1]=[],d=[];for(let h=0;h<4;h++){d=er(a[h]);for(let e=0;e<d.length;e++)f[1].push(d[e])}return f}(),t=e[0],r=e[1];const n=Buffer.from(t),i=new Yt(256);i.update(n);let o=i.digest(),s=new Uint8Array(32);qt.getRandomValues(s);for(let l=0;l<t.length;l++)r.push(t[l]);for(let l=0;l<o.length;l++)r.push(o[l]);for(let l=0;l<s.length;l++)r.push(s[l]);let a=new Array(2);return a[0]=t,a[1]=r,a},Encrypt1024=function(e){let t=new Uint8Array(32);qt.getRandomValues(t);const r=Buffer.from(t),n=new Yt(256);n.update(r);let i=n.digest();const o=Buffer.from(e),s=new Yt(256);s.update(o);let a=s.digest();const l=Buffer.from(i),c=Buffer.from(a),u=new Yt(512);u.update(l).update(c);let f=new Uint8Array(u.digest()),d=f.slice(0,32),h=Xt(e,i,f.slice(32,64));const p=Buffer.from(h),x=new Yt(256);x.update(p);let g=x.digest();const y=Buffer.from(d),m=Buffer.from(g),b=new $t(256);b.update(y).update(m);let w=b.digest(),v=new Array(2);return v[0]=h,v[1]=w,v},Decrypt1024=function(e,t){let r=t.slice(0,1536),n=t.slice(1536,3104),i=t.slice(3104,3136),o=t.slice(3136,3168),s=function(e,t){let r=function(e){let t=new Array(4);for(let i=0;i<4;i++)t[i]=new Array(384);let r=0,n=new Array(8);for(let i=0;i<4;i++)for(let o=0;o<32;o++){n[0]=wr(e[r+0])|wr(e[r+1])<<8,n[1]=wr(e[r+1])>>3|wr(e[r+2])<<5,n[2]=wr(e[r+2])>>6|wr(e[r+3])<<2|wr(e[r+4])<<10,n[3]=wr(e[r+4])>>1|wr(e[r+5])<<7,n[4]=wr(e[r+5])>>4|wr(e[r+6])<<4,n[5]=wr(e[r+6])>>7|wr(e[r+7])<<1|wr(e[r+8])<<9,n[6]=wr(e[r+8])>>2|wr(e[r+9])<<6,n[7]=wr(e[r+9])>>5|wr(e[r+10])<<3,r+=11;for(let e=0;e<8;e++)t[i][8*o+e]=Ar(2047&n[e])*Qt+1024>>11}return t}(e.slice(0,1408)),n=function(e){let t=new Array(384),r=new Array(8),n=0;for(let i=0;i<32;i++){r[0]=e[n+0]|0,r[1]=e[n+0]>>5|e[n+1]<<3,r[2]=e[n+1]>>2,r[3]=e[n+1]>>7|e[n+2]<<1,r[4]=e[n+2]>>4|e[n+3]<<4,r[5]=e[n+3]>>1,r[6]=e[n+3]>>6|e[n+4]<<2,r[7]=e[n+4]>>3,n+=5;for(let e=0;e<8;e++)t[8*i+e]=br(Ar(31&r[e])*Ar(Qt)+16>>5)}return t}(e.slice(1408,1568)),i=function(e){let t,r,n=new Array(4);for(let i=0;i<4;i++)n[i]=new Array(384);for(let i=0;i<4;i++)t=384*i,r=384*(i+1),n[i]=tr(e.slice(t,r));return n}(t);for(let s=0;s<4;s++)r[s]=sr(r[s]);let o=dr(i,r);return o=gr(o),o=function(e,t){for(let r=0;r<Zt;r++)e[r]=e[r]-t[r];return e}(n,o),o=lr(o),function(e){let t,r=new Array(32),n=yr(e);for(let i=0;i<32;i++){r[i]=0;for(let e=0;e<8;e++)t=((wr(n[8*i+e])<<1)+wr(1664.5))/wr(Qt)&1,r[i]|=mr(t<<e)}return r}(o)}(e,r);const a=Buffer.from(s),l=Buffer.from(i),c=new Yt(512);c.update(a).update(l);let u=new Uint8Array(c.digest()),f=u.slice(0,32),d=jr(e,Xt(n,s,u.slice(32,64)))-1;const h=Buffer.from(e),p=new Yt(256);p.update(h);let x=p.digest(),g=[];if(d){const e=Buffer.from(o),t=Buffer.from(x),r=new $t(256);r.update(e).update(t),g=r.digest()}else{const e=Buffer.from(f),t=Buffer.from(x),r=new $t(256);r.update(e).update(t),g=r.digest()}return g},Test1024=function(){let e=Be.readFileSync("./node_modules/crystals-kyber/PQCkemKAT_3168.rsp").toString().split("\n"),t=[],r=[],n=[],i=0;for(;i<e.length;){if("c"==e[i][0]&&"t"==e[i][1]){let t=[];for(j=0;j<1568;j++)t[j]=Er(e[i][2*j+5]+e[i][2*j+1+5]);r.push(t),i+=1;continue}if("s"==e[i][0]&&"s"==e[i][1]){let t=[];for(j=0;j<32;j++)t[j]=Er(e[i][2*j+5]+e[i][2*j+1+5]);n.push(t),i+=1;continue}if("s"==e[i][0]&&"k"==e[i][1]){let r=[];for(j=0;j<3168;j++)r[j]=Er(e[i][2*j+5]+e[i][2*j+1+5]);t.push(r),i+=1;continue}i+=1}let o=0;for(let f=0;f<100;f++){let e=Decrypt1024(r[f],t[f]);jr(n[f],e)||(o+=1)}let s=KeyGen1024(),a=s[0],l=s[1],c=Encrypt1024(a),u=c[0];c[1],Decrypt1024(u,l)},Ft.KeyGen1024=KeyGen1024,Ft.Encrypt1024=Encrypt1024,Ft.Decrypt1024=Decrypt1024,Ft.Test1024=Test1024;var Nr={...oe,...ft,...Ft};function Rr(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var _r={exports:{}};!function(e){var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=t(),s=t([1]),a=t([56129,1]),l=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function h(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function p(e,t,r,n,i){var o,s=0;for(o=0;o<i;o++)s|=e[t+o]^r[n+o];return(1&s-1>>>8)-1}function x(e,t,r,n){return p(e,t,r,n,16)}function g(e,t,r,n){return p(e,t,r,n,32)}function y(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,l=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,u=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,x=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,v=o,A=s,j=a,E=l,N=c,R=u,_=f,B=d,I=h,S=p,U=x,T=g,O=y,C=m,k=b,M=w,L=0;L<20;L+=2)v^=(i=(O^=(i=(I^=(i=(N^=(i=v+O|0)<<7|i>>>25)+v|0)<<9|i>>>23)+N|0)<<13|i>>>19)+I|0)<<18|i>>>14,R^=(i=(A^=(i=(C^=(i=(S^=(i=R+A|0)<<7|i>>>25)+R|0)<<9|i>>>23)+S|0)<<13|i>>>19)+C|0)<<18|i>>>14,U^=(i=(_^=(i=(j^=(i=(k^=(i=U+_|0)<<7|i>>>25)+U|0)<<9|i>>>23)+k|0)<<13|i>>>19)+j|0)<<18|i>>>14,M^=(i=(T^=(i=(B^=(i=(E^=(i=M+T|0)<<7|i>>>25)+M|0)<<9|i>>>23)+E|0)<<13|i>>>19)+B|0)<<18|i>>>14,v^=(i=(E^=(i=(j^=(i=(A^=(i=v+E|0)<<7|i>>>25)+v|0)<<9|i>>>23)+A|0)<<13|i>>>19)+j|0)<<18|i>>>14,R^=(i=(N^=(i=(B^=(i=(_^=(i=R+N|0)<<7|i>>>25)+R|0)<<9|i>>>23)+_|0)<<13|i>>>19)+B|0)<<18|i>>>14,U^=(i=(S^=(i=(I^=(i=(T^=(i=U+S|0)<<7|i>>>25)+U|0)<<9|i>>>23)+T|0)<<13|i>>>19)+I|0)<<18|i>>>14,M^=(i=(k^=(i=(C^=(i=(O^=(i=M+k|0)<<7|i>>>25)+M|0)<<9|i>>>23)+O|0)<<13|i>>>19)+C|0)<<18|i>>>14;v=v+o|0,A=A+s|0,j=j+a|0,E=E+l|0,N=N+c|0,R=R+u|0,_=_+f|0,B=B+d|0,I=I+h|0,S=S+p|0,U=U+x|0,T=T+g|0,O=O+y|0,C=C+m|0,k=k+b|0,M=M+w|0,e[0]=v>>>0&255,e[1]=v>>>8&255,e[2]=v>>>16&255,e[3]=v>>>24&255,e[4]=A>>>0&255,e[5]=A>>>8&255,e[6]=A>>>16&255,e[7]=A>>>24&255,e[8]=j>>>0&255,e[9]=j>>>8&255,e[10]=j>>>16&255,e[11]=j>>>24&255,e[12]=E>>>0&255,e[13]=E>>>8&255,e[14]=E>>>16&255,e[15]=E>>>24&255,e[16]=N>>>0&255,e[17]=N>>>8&255,e[18]=N>>>16&255,e[19]=N>>>24&255,e[20]=R>>>0&255,e[21]=R>>>8&255,e[22]=R>>>16&255,e[23]=R>>>24&255,e[24]=_>>>0&255,e[25]=_>>>8&255,e[26]=_>>>16&255,e[27]=_>>>24&255,e[28]=B>>>0&255,e[29]=B>>>8&255,e[30]=B>>>16&255,e[31]=B>>>24&255,e[32]=I>>>0&255,e[33]=I>>>8&255,e[34]=I>>>16&255,e[35]=I>>>24&255,e[36]=S>>>0&255,e[37]=S>>>8&255,e[38]=S>>>16&255,e[39]=S>>>24&255,e[40]=U>>>0&255,e[41]=U>>>8&255,e[42]=U>>>16&255,e[43]=U>>>24&255,e[44]=T>>>0&255,e[45]=T>>>8&255,e[46]=T>>>16&255,e[47]=T>>>24&255,e[48]=O>>>0&255,e[49]=O>>>8&255,e[50]=O>>>16&255,e[51]=O>>>24&255,e[52]=C>>>0&255,e[53]=C>>>8&255,e[54]=C>>>16&255,e[55]=C>>>24&255,e[56]=k>>>0&255,e[57]=k>>>8&255,e[58]=k>>>16&255,e[59]=k>>>24&255,e[60]=M>>>0&255,e[61]=M>>>8&255,e[62]=M>>>16&255,e[63]=M>>>24&255}(e,t,r,n)}function m(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,l=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,u=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,x=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,v=0;v<20;v+=2)o^=(i=(y^=(i=(h^=(i=(c^=(i=o+y|0)<<7|i>>>25)+o|0)<<9|i>>>23)+c|0)<<13|i>>>19)+h|0)<<18|i>>>14,u^=(i=(s^=(i=(m^=(i=(p^=(i=u+s|0)<<7|i>>>25)+u|0)<<9|i>>>23)+p|0)<<13|i>>>19)+m|0)<<18|i>>>14,x^=(i=(f^=(i=(a^=(i=(b^=(i=x+f|0)<<7|i>>>25)+x|0)<<9|i>>>23)+b|0)<<13|i>>>19)+a|0)<<18|i>>>14,w^=(i=(g^=(i=(d^=(i=(l^=(i=w+g|0)<<7|i>>>25)+w|0)<<9|i>>>23)+l|0)<<13|i>>>19)+d|0)<<18|i>>>14,o^=(i=(l^=(i=(a^=(i=(s^=(i=o+l|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+a|0)<<18|i>>>14,u^=(i=(c^=(i=(d^=(i=(f^=(i=u+c|0)<<7|i>>>25)+u|0)<<9|i>>>23)+f|0)<<13|i>>>19)+d|0)<<18|i>>>14,x^=(i=(p^=(i=(h^=(i=(g^=(i=x+p|0)<<7|i>>>25)+x|0)<<9|i>>>23)+g|0)<<13|i>>>19)+h|0)<<18|i>>>14,w^=(i=(b^=(i=(m^=(i=(y^=(i=w+b|0)<<7|i>>>25)+w|0)<<9|i>>>23)+y|0)<<13|i>>>19)+m|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=u>>>0&255,e[5]=u>>>8&255,e[6]=u>>>16&255,e[7]=u>>>24&255,e[8]=x>>>0&255,e[9]=x>>>8&255,e[10]=x>>>16&255,e[11]=x>>>24&255,e[12]=w>>>0&255,e[13]=w>>>8&255,e[14]=w>>>16&255,e[15]=w>>>24&255,e[16]=f>>>0&255,e[17]=f>>>8&255,e[18]=f>>>16&255,e[19]=f>>>24&255,e[20]=d>>>0&255,e[21]=d>>>8&255,e[22]=d>>>16&255,e[23]=d>>>24&255,e[24]=h>>>0&255,e[25]=h>>>8&255,e[26]=h>>>16&255,e[27]=h>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,r,n)}var b=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(e,t,r,n,i,o,s){var a,l,c=new Uint8Array(16),u=new Uint8Array(64);for(l=0;l<16;l++)c[l]=0;for(l=0;l<8;l++)c[l]=o[l];for(;i>=64;){for(y(u,c,s,b),l=0;l<64;l++)e[t+l]=r[n+l]^u[l];for(a=1,l=8;l<16;l++)a=a+(255&c[l])|0,c[l]=255&a,a>>>=8;i-=64,t+=64,n+=64}if(i>0)for(y(u,c,s,b),l=0;l<i;l++)e[t+l]=r[n+l]^u[l];return 0}function v(e,t,r,n,i){var o,s,a=new Uint8Array(16),l=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=n[s];for(;r>=64;){for(y(l,a,i,b),s=0;s<64;s++)e[t+s]=l[s];for(o=1,s=8;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;r-=64,t+=64}if(r>0)for(y(l,a,i,b),s=0;s<r;s++)e[t+s]=l[s];return 0}function A(e,t,r,n,i){var o=new Uint8Array(32);m(o,n,i,b);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=n[a+16];return v(e,t,r,s,o)}function j(e,t,r,n,i,o,s){var a=new Uint8Array(32);m(a,o,s,b);for(var l=new Uint8Array(8),c=0;c<8;c++)l[c]=o[c+16];return w(e,t,r,n,i,l,a)}var E=function(e){var t,r,n,i,o,s,a,l;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(s>>>11|a<<5),l=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|l<<8),this.r[9]=l>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function N(e,t,r,n,i,o){var s=new E(o);return s.update(r,n,i),s.finish(e,t),0}function R(e,t,r,n,i,o){var s=new Uint8Array(16);return N(s,0,r,n,i,o),x(e,t,s,0)}function _(e,t,r,n,i){var o;if(r<32)return-1;for(j(e,0,t,0,r,n,i),N(e,16,e,32,r-32,e),o=0;o<16;o++)e[o]=0;return 0}function B(e,t,r,n,i){var o,s=new Uint8Array(32);if(r<32)return-1;if(A(s,0,32,n,i),0!==R(t,16,t,32,r-32,s))return-1;for(j(e,0,t,0,r,n,i),o=0;o<32;o++)e[o]=0;return 0}function I(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function S(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function U(e,t,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}function T(e,r){var n,i,o,s=t(),a=t();for(n=0;n<16;n++)a[n]=r[n];for(S(a),S(a),S(a),i=0;i<2;i++){for(s[0]=a[0]-65517,n=1;n<15;n++)s[n]=a[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,U(a,s,1-o)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function O(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return T(r,e),T(n,t),g(r,0,n,0)}function C(e){var t=new Uint8Array(32);return T(t,e),1&t[0]}function k(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function M(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function L(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function D(e,t,r){var n,i,o=0,s=0,a=0,l=0,c=0,u=0,f=0,d=0,h=0,p=0,x=0,g=0,y=0,m=0,b=0,w=0,v=0,A=0,j=0,E=0,N=0,R=0,_=0,B=0,I=0,S=0,U=0,T=0,O=0,C=0,k=0,M=r[0],L=r[1],D=r[2],P=r[3],z=r[4],K=r[5],G=r[6],V=r[7],H=r[8],F=r[9],Y=r[10],$=r[11],q=r[12],W=r[13],J=r[14],Z=r[15];o+=(n=t[0])*M,s+=n*L,a+=n*D,l+=n*P,c+=n*z,u+=n*K,f+=n*G,d+=n*V,h+=n*H,p+=n*F,x+=n*Y,g+=n*$,y+=n*q,m+=n*W,b+=n*J,w+=n*Z,s+=(n=t[1])*M,a+=n*L,l+=n*D,c+=n*P,u+=n*z,f+=n*K,d+=n*G,h+=n*V,p+=n*H,x+=n*F,g+=n*Y,y+=n*$,m+=n*q,b+=n*W,w+=n*J,v+=n*Z,a+=(n=t[2])*M,l+=n*L,c+=n*D,u+=n*P,f+=n*z,d+=n*K,h+=n*G,p+=n*V,x+=n*H,g+=n*F,y+=n*Y,m+=n*$,b+=n*q,w+=n*W,v+=n*J,A+=n*Z,l+=(n=t[3])*M,c+=n*L,u+=n*D,f+=n*P,d+=n*z,h+=n*K,p+=n*G,x+=n*V,g+=n*H,y+=n*F,m+=n*Y,b+=n*$,w+=n*q,v+=n*W,A+=n*J,j+=n*Z,c+=(n=t[4])*M,u+=n*L,f+=n*D,d+=n*P,h+=n*z,p+=n*K,x+=n*G,g+=n*V,y+=n*H,m+=n*F,b+=n*Y,w+=n*$,v+=n*q,A+=n*W,j+=n*J,E+=n*Z,u+=(n=t[5])*M,f+=n*L,d+=n*D,h+=n*P,p+=n*z,x+=n*K,g+=n*G,y+=n*V,m+=n*H,b+=n*F,w+=n*Y,v+=n*$,A+=n*q,j+=n*W,E+=n*J,N+=n*Z,f+=(n=t[6])*M,d+=n*L,h+=n*D,p+=n*P,x+=n*z,g+=n*K,y+=n*G,m+=n*V,b+=n*H,w+=n*F,v+=n*Y,A+=n*$,j+=n*q,E+=n*W,N+=n*J,R+=n*Z,d+=(n=t[7])*M,h+=n*L,p+=n*D,x+=n*P,g+=n*z,y+=n*K,m+=n*G,b+=n*V,w+=n*H,v+=n*F,A+=n*Y,j+=n*$,E+=n*q,N+=n*W,R+=n*J,_+=n*Z,h+=(n=t[8])*M,p+=n*L,x+=n*D,g+=n*P,y+=n*z,m+=n*K,b+=n*G,w+=n*V,v+=n*H,A+=n*F,j+=n*Y,E+=n*$,N+=n*q,R+=n*W,_+=n*J,B+=n*Z,p+=(n=t[9])*M,x+=n*L,g+=n*D,y+=n*P,m+=n*z,b+=n*K,w+=n*G,v+=n*V,A+=n*H,j+=n*F,E+=n*Y,N+=n*$,R+=n*q,_+=n*W,B+=n*J,I+=n*Z,x+=(n=t[10])*M,g+=n*L,y+=n*D,m+=n*P,b+=n*z,w+=n*K,v+=n*G,A+=n*V,j+=n*H,E+=n*F,N+=n*Y,R+=n*$,_+=n*q,B+=n*W,I+=n*J,S+=n*Z,g+=(n=t[11])*M,y+=n*L,m+=n*D,b+=n*P,w+=n*z,v+=n*K,A+=n*G,j+=n*V,E+=n*H,N+=n*F,R+=n*Y,_+=n*$,B+=n*q,I+=n*W,S+=n*J,U+=n*Z,y+=(n=t[12])*M,m+=n*L,b+=n*D,w+=n*P,v+=n*z,A+=n*K,j+=n*G,E+=n*V,N+=n*H,R+=n*F,_+=n*Y,B+=n*$,I+=n*q,S+=n*W,U+=n*J,T+=n*Z,m+=(n=t[13])*M,b+=n*L,w+=n*D,v+=n*P,A+=n*z,j+=n*K,E+=n*G,N+=n*V,R+=n*H,_+=n*F,B+=n*Y,I+=n*$,S+=n*q,U+=n*W,T+=n*J,O+=n*Z,b+=(n=t[14])*M,w+=n*L,v+=n*D,A+=n*P,j+=n*z,E+=n*K,N+=n*G,R+=n*V,_+=n*H,B+=n*F,I+=n*Y,S+=n*$,U+=n*q,T+=n*W,O+=n*J,C+=n*Z,w+=(n=t[15])*M,s+=38*(A+=n*D),a+=38*(j+=n*P),l+=38*(E+=n*z),c+=38*(N+=n*K),u+=38*(R+=n*G),f+=38*(_+=n*V),d+=38*(B+=n*H),h+=38*(I+=n*F),p+=38*(S+=n*Y),x+=38*(U+=n*$),g+=38*(T+=n*q),y+=38*(O+=n*W),m+=38*(C+=n*J),b+=38*(k+=n*Z),o=(n=(o+=38*(v+=n*L))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),x=(n=x+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),x=(n=x+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=l,e[4]=c,e[5]=u,e[6]=f,e[7]=d,e[8]=h,e[9]=p,e[10]=x,e[11]=g,e[12]=y,e[13]=m,e[14]=b,e[15]=w}function P(e,t){D(e,t,t)}function z(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)P(i,i),2!==n&&4!==n&&D(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function K(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)P(i,i),1!==n&&D(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function G(e,r,n){var i,o,s=new Uint8Array(32),l=new Float64Array(80),c=t(),u=t(),f=t(),d=t(),h=t(),p=t();for(o=0;o<31;o++)s[o]=r[o];for(s[31]=127&r[31]|64,s[0]&=248,k(l,n),o=0;o<16;o++)u[o]=l[o],d[o]=c[o]=f[o]=0;for(c[0]=d[0]=1,o=254;o>=0;--o)U(c,u,i=s[o>>>3]>>>(7&o)&1),U(f,d,i),M(h,c,f),L(c,c,f),M(f,u,d),L(u,u,d),P(d,h),P(p,c),D(c,f,c),D(f,u,h),M(h,c,f),L(c,c,f),P(u,c),L(f,d,p),D(c,f,a),M(c,c,d),D(f,f,c),D(c,d,p),D(d,u,l),P(u,h),U(c,u,i),U(f,d,i);for(o=0;o<16;o++)l[o+16]=c[o],l[o+32]=f[o],l[o+48]=u[o],l[o+64]=d[o];var x=l.subarray(32),g=l.subarray(16);return z(x,x),D(g,g,x),T(e,g),0}function V(e,t){return G(e,t,i)}function H(e,t){return r(t,32),V(e,t)}function F(e,t,r){var i=new Uint8Array(32);return G(i,r,t),m(e,n,i,b)}E.prototype.blocks=function(e,t,r){for(var n,i,o,s,a,l,c,u,f,d,h,p,x,g,y,m,b,w,v,A=this.fin?0:2048,j=this.h[0],E=this.h[1],N=this.h[2],R=this.h[3],_=this.h[4],B=this.h[5],I=this.h[6],S=this.h[7],U=this.h[8],T=this.h[9],O=this.r[0],C=this.r[1],k=this.r[2],M=this.r[3],L=this.r[4],D=this.r[5],P=this.r[6],z=this.r[7],K=this.r[8],G=this.r[9];r>=16;)d=f=0,d+=(j+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*O,d+=(E+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*G),d+=(N+=8191&(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*K),d+=(R+=8191&(o>>>7|(s=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*z),f=(d+=(_+=8191&(s>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*P))>>>13,d&=8191,d+=(B+=a>>>1&8191)*(5*D),d+=(I+=8191&(a>>>14|(l=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*L),d+=(S+=8191&(l>>>11|(c=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*M),d+=(U+=8191&(c>>>8|(u=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*k),h=f+=(d+=(T+=u>>>5|A)*(5*C))>>>13,h+=j*C,h+=E*O,h+=N*(5*G),h+=R*(5*K),f=(h+=_*(5*z))>>>13,h&=8191,h+=B*(5*P),h+=I*(5*D),h+=S*(5*L),h+=U*(5*M),f+=(h+=T*(5*k))>>>13,h&=8191,p=f,p+=j*k,p+=E*C,p+=N*O,p+=R*(5*G),f=(p+=_*(5*K))>>>13,p&=8191,p+=B*(5*z),p+=I*(5*P),p+=S*(5*D),p+=U*(5*L),x=f+=(p+=T*(5*M))>>>13,x+=j*M,x+=E*k,x+=N*C,x+=R*O,f=(x+=_*(5*G))>>>13,x&=8191,x+=B*(5*K),x+=I*(5*z),x+=S*(5*P),x+=U*(5*D),g=f+=(x+=T*(5*L))>>>13,g+=j*L,g+=E*M,g+=N*k,g+=R*C,f=(g+=_*O)>>>13,g&=8191,g+=B*(5*G),g+=I*(5*K),g+=S*(5*z),g+=U*(5*P),y=f+=(g+=T*(5*D))>>>13,y+=j*D,y+=E*L,y+=N*M,y+=R*k,f=(y+=_*C)>>>13,y&=8191,y+=B*O,y+=I*(5*G),y+=S*(5*K),y+=U*(5*z),m=f+=(y+=T*(5*P))>>>13,m+=j*P,m+=E*D,m+=N*L,m+=R*M,f=(m+=_*k)>>>13,m&=8191,m+=B*C,m+=I*O,m+=S*(5*G),m+=U*(5*K),b=f+=(m+=T*(5*z))>>>13,b+=j*z,b+=E*P,b+=N*D,b+=R*L,f=(b+=_*M)>>>13,b&=8191,b+=B*k,b+=I*C,b+=S*O,b+=U*(5*G),w=f+=(b+=T*(5*K))>>>13,w+=j*K,w+=E*z,w+=N*P,w+=R*D,f=(w+=_*L)>>>13,w&=8191,w+=B*M,w+=I*k,w+=S*C,w+=U*O,v=f+=(w+=T*(5*G))>>>13,v+=j*G,v+=E*K,v+=N*z,v+=R*P,f=(v+=_*D)>>>13,v&=8191,v+=B*L,v+=I*M,v+=S*k,v+=U*C,j=d=8191&(f=(f=((f+=(v+=T*O)>>>13)<<2)+f|0)+(d&=8191)|0),E=h+=f>>>=13,N=p&=8191,R=x&=8191,_=g&=8191,B=y&=8191,I=m&=8191,S=b&=8191,U=w&=8191,T=v&=8191,t+=16,r-=16;this.h[0]=j,this.h[1]=E,this.h[2]=N,this.h[3]=R,this.h[4]=_,this.h[5]=B,this.h[6]=I,this.h[7]=S,this.h[8]=U,this.h[9]=T},E.prototype.finish=function(e,t){var r,n,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},E.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var Y=_,$=B,q=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function W(e,t,r,n){for(var i,o,s,a,l,c,u,f,d,h,p,x,g,y,m,b,w,v,A,j,E,N,R,_,B,I,S=new Int32Array(16),U=new Int32Array(16),T=e[0],O=e[1],C=e[2],k=e[3],M=e[4],L=e[5],D=e[6],P=e[7],z=t[0],K=t[1],G=t[2],V=t[3],H=t[4],F=t[5],Y=t[6],$=t[7],W=0;n>=128;){for(A=0;A<16;A++)j=8*A+W,S[A]=r[j+0]<<24|r[j+1]<<16|r[j+2]<<8|r[j+3],U[A]=r[j+4]<<24|r[j+5]<<16|r[j+6]<<8|r[j+7];for(A=0;A<80;A++)if(i=T,o=O,s=C,a=k,l=M,c=L,u=D,d=z,h=K,p=G,x=V,g=H,y=F,m=Y,R=65535&(N=$),_=N>>>16,B=65535&(E=P),I=E>>>16,R+=65535&(N=(H>>>14|M<<18)^(H>>>18|M<<14)^(M>>>9|H<<23)),_+=N>>>16,B+=65535&(E=(M>>>14|H<<18)^(M>>>18|H<<14)^(H>>>9|M<<23)),I+=E>>>16,R+=65535&(N=H&F^~H&Y),_+=N>>>16,B+=65535&(E=M&L^~M&D),I+=E>>>16,R+=65535&(N=q[2*A+1]),_+=N>>>16,B+=65535&(E=q[2*A]),I+=E>>>16,E=S[A%16],_+=(N=U[A%16])>>>16,B+=65535&E,I+=E>>>16,B+=(_+=(R+=65535&N)>>>16)>>>16,R=65535&(N=v=65535&R|_<<16),_=N>>>16,B=65535&(E=w=65535&B|(I+=B>>>16)<<16),I=E>>>16,R+=65535&(N=(z>>>28|T<<4)^(T>>>2|z<<30)^(T>>>7|z<<25)),_+=N>>>16,B+=65535&(E=(T>>>28|z<<4)^(z>>>2|T<<30)^(z>>>7|T<<25)),I+=E>>>16,_+=(N=z&K^z&G^K&G)>>>16,B+=65535&(E=T&O^T&C^O&C),I+=E>>>16,f=65535&(B+=(_+=(R+=65535&N)>>>16)>>>16)|(I+=B>>>16)<<16,b=65535&R|_<<16,R=65535&(N=x),_=N>>>16,B=65535&(E=a),I=E>>>16,_+=(N=v)>>>16,B+=65535&(E=w),I+=E>>>16,O=i,C=o,k=s,M=a=65535&(B+=(_+=(R+=65535&N)>>>16)>>>16)|(I+=B>>>16)<<16,L=l,D=c,P=u,T=f,K=d,G=h,V=p,H=x=65535&R|_<<16,F=g,Y=y,$=m,z=b,A%16==15)for(j=0;j<16;j++)E=S[j],R=65535&(N=U[j]),_=N>>>16,B=65535&E,I=E>>>16,E=S[(j+9)%16],R+=65535&(N=U[(j+9)%16]),_+=N>>>16,B+=65535&E,I+=E>>>16,w=S[(j+1)%16],R+=65535&(N=((v=U[(j+1)%16])>>>1|w<<31)^(v>>>8|w<<24)^(v>>>7|w<<25)),_+=N>>>16,B+=65535&(E=(w>>>1|v<<31)^(w>>>8|v<<24)^w>>>7),I+=E>>>16,w=S[(j+14)%16],_+=(N=((v=U[(j+14)%16])>>>19|w<<13)^(w>>>29|v<<3)^(v>>>6|w<<26))>>>16,B+=65535&(E=(w>>>19|v<<13)^(v>>>29|w<<3)^w>>>6),I+=E>>>16,I+=(B+=(_+=(R+=65535&N)>>>16)>>>16)>>>16,S[j]=65535&B|I<<16,U[j]=65535&R|_<<16;R=65535&(N=z),_=N>>>16,B=65535&(E=T),I=E>>>16,E=e[0],_+=(N=t[0])>>>16,B+=65535&E,I+=E>>>16,I+=(B+=(_+=(R+=65535&N)>>>16)>>>16)>>>16,e[0]=T=65535&B|I<<16,t[0]=z=65535&R|_<<16,R=65535&(N=K),_=N>>>16,B=65535&(E=O),I=E>>>16,E=e[1],_+=(N=t[1])>>>16,B+=65535&E,I+=E>>>16,I+=(B+=(_+=(R+=65535&N)>>>16)>>>16)>>>16,e[1]=O=65535&B|I<<16,t[1]=K=65535&R|_<<16,R=65535&(N=G),_=N>>>16,B=65535&(E=C),I=E>>>16,E=e[2],_+=(N=t[2])>>>16,B+=65535&E,I+=E>>>16,I+=(B+=(_+=(R+=65535&N)>>>16)>>>16)>>>16,e[2]=C=65535&B|I<<16,t[2]=G=65535&R|_<<16,R=65535&(N=V),_=N>>>16,B=65535&(E=k),I=E>>>16,E=e[3],_+=(N=t[3])>>>16,B+=65535&E,I+=E>>>16,I+=(B+=(_+=(R+=65535&N)>>>16)>>>16)>>>16,e[3]=k=65535&B|I<<16,t[3]=V=65535&R|_<<16,R=65535&(N=H),_=N>>>16,B=65535&(E=M),I=E>>>16,E=e[4],_+=(N=t[4])>>>16,B+=65535&E,I+=E>>>16,I+=(B+=(_+=(R+=65535&N)>>>16)>>>16)>>>16,e[4]=M=65535&B|I<<16,t[4]=H=65535&R|_<<16,R=65535&(N=F),_=N>>>16,B=65535&(E=L),I=E>>>16,E=e[5],_+=(N=t[5])>>>16,B+=65535&E,I+=E>>>16,I+=(B+=(_+=(R+=65535&N)>>>16)>>>16)>>>16,e[5]=L=65535&B|I<<16,t[5]=F=65535&R|_<<16,R=65535&(N=Y),_=N>>>16,B=65535&(E=D),I=E>>>16,E=e[6],_+=(N=t[6])>>>16,B+=65535&E,I+=E>>>16,I+=(B+=(_+=(R+=65535&N)>>>16)>>>16)>>>16,e[6]=D=65535&B|I<<16,t[6]=Y=65535&R|_<<16,R=65535&(N=$),_=N>>>16,B=65535&(E=P),I=E>>>16,E=e[7],_+=(N=t[7])>>>16,B+=65535&E,I+=E>>>16,I+=(B+=(_+=(R+=65535&N)>>>16)>>>16)>>>16,e[7]=P=65535&B|I<<16,t[7]=$=65535&R|_<<16,W+=128,n-=128}return n}function J(e,t,r){var n,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,W(i,o,t,r),r%=128,n=0;n<r;n++)s[n]=t[a-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,h(s,r-8,a/536870912|0,a<<3),W(i,o,s,r),n=0;n<8;n++)h(e,8*n,i[n],o[n]);return 0}function Z(e,r){var n=t(),i=t(),o=t(),s=t(),a=t(),l=t(),u=t(),f=t(),d=t();L(n,e[1],e[0]),L(d,r[1],r[0]),D(n,n,d),M(i,e[0],e[1]),M(d,r[0],r[1]),D(i,i,d),D(o,e[3],r[3]),D(o,o,c),D(s,e[2],r[2]),M(s,s,s),L(a,i,n),L(l,s,o),M(u,s,o),M(f,i,n),D(e[0],a,l),D(e[1],f,u),D(e[2],u,l),D(e[3],a,f)}function Q(e,t,r){var n;for(n=0;n<4;n++)U(e[n],t[n],r)}function X(e,r){var n=t(),i=t(),o=t();z(o,r[2]),D(n,r[0],o),D(i,r[1],o),T(e,i),e[31]^=C(n)<<7}function ee(e,t,r){var n,i;for(I(e[0],o),I(e[1],s),I(e[2],s),I(e[3],o),i=255;i>=0;--i)Q(e,t,n=r[i/8|0]>>(7&i)&1),Z(t,e),Z(e,e),Q(e,t,n)}function te(e,r){var n=[t(),t(),t(),t()];I(n[0],u),I(n[1],f),I(n[2],s),D(n[3],u,f),ee(e,n,r)}function re(e,n,i){var o,s=new Uint8Array(64),a=[t(),t(),t(),t()];for(i||r(n,32),J(s,n,32),s[0]&=248,s[31]&=127,s[31]|=64,te(a,s),X(e,a),o=0;o<32;o++)n[o+32]=e[o];return 0}var ne=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ie(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*ne[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ne[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ne[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function oe(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;ie(e,r)}function se(e,r,n,i){var o,s,a=new Uint8Array(64),l=new Uint8Array(64),c=new Uint8Array(64),u=new Float64Array(64),f=[t(),t(),t(),t()];J(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var d=n+64;for(o=0;o<n;o++)e[64+o]=r[o];for(o=0;o<32;o++)e[32+o]=a[32+o];for(J(c,e.subarray(32),n+32),oe(c),te(f,c),X(e,f),o=32;o<64;o++)e[o]=i[o];for(J(l,e,n+64),oe(l),o=0;o<64;o++)u[o]=0;for(o=0;o<32;o++)u[o]=c[o];for(o=0;o<32;o++)for(s=0;s<32;s++)u[o+s]+=l[o]*a[s];return ie(e.subarray(32),u),d}function ae(e,r,n,i){var a,c=new Uint8Array(32),u=new Uint8Array(64),f=[t(),t(),t(),t()],h=[t(),t(),t(),t()];if(n<64)return-1;if(function(e,r){var n=t(),i=t(),a=t(),c=t(),u=t(),f=t(),h=t();return I(e[2],s),k(e[1],r),P(a,e[1]),D(c,a,l),L(a,a,e[2]),M(c,e[2],c),P(u,c),P(f,u),D(h,f,u),D(n,h,a),D(n,n,c),K(n,n),D(n,n,a),D(n,n,c),D(n,n,c),D(e[0],n,c),P(i,e[0]),D(i,i,c),O(i,a)&&D(e[0],e[0],d),P(i,e[0]),D(i,i,c),O(i,a)?-1:(C(e[0])===r[31]>>7&&L(e[0],o,e[0]),D(e[3],e[0],e[1]),0)}(h,i))return-1;for(a=0;a<n;a++)e[a]=r[a];for(a=0;a<32;a++)e[a+32]=i[a];if(J(u,e,n),oe(u),ee(f,h,u),te(h,r.subarray(32)),Z(f,h),X(c,f),n-=64,g(r,0,c,0)){for(a=0;a<n;a++)e[a]=0;return-1}for(a=0;a<n;a++)e[a]=r[a+64];return n}var le,ce=16,ue=64,fe=32,de=64;function he(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function pe(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function xe(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:m,crypto_stream_xor:j,crypto_stream:A,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:v,crypto_onetimeauth:N,crypto_onetimeauth_verify:R,crypto_verify_16:x,crypto_verify_32:g,crypto_secretbox:_,crypto_secretbox_open:B,crypto_scalarmult:G,crypto_scalarmult_base:V,crypto_box_beforenm:F,crypto_box_afternm:Y,crypto_box:function(e,t,r,n,i,o){var s=new Uint8Array(32);return F(s,i,o),Y(e,t,r,n,s)},crypto_box_open:function(e,t,r,n,i,o){var s=new Uint8Array(32);return F(s,i,o),$(e,t,r,n,s)},crypto_box_keypair:H,crypto_hash:J,crypto_sign:se,crypto_sign_keypair:re,crypto_sign_open:ae,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ce,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ue,crypto_sign_PUBLICKEYBYTES:fe,crypto_sign_SECRETKEYBYTES:de,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:l,L:ne,pack25519:T,unpack25519:k,M:D,A:M,S:P,Z:L,pow2523:K,add:Z,set25519:I,modL:ie,scalarmult:ee,scalarbase:te},e.randomBytes=function(e){var t=new Uint8Array(e);return r(t,e),t},e.secretbox=function(e,t,r){pe(e,t,r),he(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+32]=e[o];return _(i,n,n.length,t,r),i.subarray(ce)},e.secretbox.open=function(e,t,r){pe(e,t,r),he(r,t);for(var n=new Uint8Array(ce+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+ce]=e[o];return n.length<32||0!==B(i,n,n.length,t,r)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=ce,e.scalarMult=function(e,t){if(pe(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return G(r,e,t),r},e.scalarMult.base=function(e){if(pe(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return V(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox(t,r,o)},e.box.before=function(e,t){pe(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return F(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox.open(t,r,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return H(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(pe(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return V(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(pe(e,t),t.length!==de)throw new Error("bad secret key size");var r=new Uint8Array(ue+e.length);return se(r,e,e.length,t),r},e.sign.open=function(e,t){if(pe(e,t),t.length!==fe)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ae(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(ue),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached.verify=function(e,t,r){if(pe(e,t,r),t.length!==ue)throw new Error("bad signature size");if(r.length!==fe)throw new Error("bad public key size");var n,i=new Uint8Array(ue+e.length),o=new Uint8Array(ue+e.length);for(n=0;n<ue;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+ue]=e[n];return ae(o,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(fe),t=new Uint8Array(de);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(pe(e),e.length!==de)throw new Error("bad secret key size");for(var t=new Uint8Array(fe),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(pe(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(fe),r=new Uint8Array(de),n=0;n<32;n++)r[n]=e[n];return re(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=fe,e.sign.secretKeyLength=de,e.sign.seedLength=32,e.sign.signatureLength=ue,e.hash=function(e){pe(e);var t=new Uint8Array(64);return J(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return pe(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===p(e,0,t,0,e.length)},e.setPRNG=function(e){r=e},(le="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&le.getRandomValues?e.setPRNG(function(e,t){var r,n=new Uint8Array(t);for(r=0;r<t;r+=65536)le.getRandomValues(n.subarray(r,r+Math.min(t-r,65536)));for(r=0;r<t;r++)e[r]=n[r];xe(n)}):void 0!==Rr&&(le=Be)&&le.randomBytes&&e.setPRNG(function(e,t){var r,n=le.randomBytes(t);for(r=0;r<t;r++)e[r]=n[r];xe(n)})}(_r.exports?_r.exports:self.nacl=self.nacl||{});var Br=_r.exports;const Ir="aig_sovereign_session_token";const Sr=new class{async launchMission(e){try{return(await M.post("/swarm/mission",{objective:e})).data}catch(t){throw t}}async getKnowledgeGraph(){try{return(await M.get("/knowledge-graph/full")).data}catch(e){return{nodes:[{id:"mission_1",type:"mission",label:"Market Research 2026"},{id:"finding_1",type:"finding",label:"AI Trends: Agentic AI"},{id:"concept_1",type:"concept",label:"Sovereign Intelligence"}],edges:[{source:"mission_1",target:"finding_1",relation:"created"},{source:"finding_1",target:"concept_1",relation:"relates_to"}]}}}async getRecentMissions(){try{return(await M.get("/swarm/missions/recent")).data}catch(e){return[]}}async generateRegistrationOptions(){return(await M.get("/auth/webauthn/register-options")).data}async verifyRegistration(e){return(await M.post("/auth/webauthn/register-verify",e)).data}async generateAuthenticationOptions(){return(await M.get("/auth/webauthn/login-options")).data}async verifyAuthentication(e){return(await M.post("/auth/webauthn/login-verify",e)).data}async initiateSovereignHandshake(){try{const e=await M.get("/sovereign/handshake/init"),{handshakeId:t,publicKey:r}=e.data,n=Br.box.keyPair(),[i,o]=Nr.Encrypt768(this.hexToUint8Array(r.pqc)),s=Br.box.before(this.hexToUint8Array(r.classic),n.secretKey),a=await M.post("/sovereign/handshake/finalize",{handshakeId:t,clientPublicKey:{classic:this.uint8ArrayToHex(n.publicKey)},clientCiphertext:this.uint8ArrayToHex(i)}),{sessionToken:l}=a.data;localStorage.setItem(Ir,l);const c=new Uint8Array(s.length+o.length);return c.set(s),c.set(o,s.length),localStorage.setItem("aig_sovereign_secret",this.uint8ArrayToHex(c)),{sessionToken:l}}catch(e){throw e}}getSovereignToken(){return localStorage.getItem(Ir)}isUnlocked(){return!!this.getSovereignToken()}logout(){localStorage.removeItem(Ir),localStorage.removeItem("aig_sovereign_secret")}async decryptFinding(e){const t=localStorage.getItem("aig_sovereign_secret");if(!t)throw new Error("VAULT_LOCKED");try{const r=this.hexToBuffer(t),n=this.hexToBuffer(e.iv),i=this.hexToBuffer(e.ciphertext),o=this.hexToBuffer(e.tag),s=new Uint8Array(i.length+o.length);s.set(new Uint8Array(i)),s.set(new Uint8Array(o),i.length);const a=await window.crypto.subtle.importKey("raw",r,"AES-GCM",!1,["decrypt"]),l=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:n,tagLength:128},a,s);return(new TextDecoder).decode(l)}catch(r){throw new Error("DECRYPTION_FAILED")}}async enrollVoice(e){return(await M.post("/sovereign/biometrics/voice-enroll",{audio:e})).data}async verifyVoice(e){return(await M.post("/sovereign/biometrics/voice-verify",{audio:e})).data}async getResourceForecast(){return(await M.get("/sovereign/sentinel/forecast")).data}hexToUint8Array(e){const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++)t[r]=parseInt(e.substring(2*r,2*r+2),16);return t}uint8ArrayToHex(e){return Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")}hexToBuffer(e){return this.hexToUint8Array(e).buffer}},Ur=()=>{const[r,n]=t.useState({nodes:[],edges:[]}),[i,o]=t.useState(!0),a=t.useRef(null);t.useEffect(()=>{(async()=>{try{const e=await Sr.getKnowledgeGraph();n(e)}catch(e){}finally{o(!1)}})()},[]);const l=e=>"mission"===e?"text-nexus-cyan bg-nexus-cyan/10":"finding"===e?"text-nexus-violet bg-nexus-violet/10":"text-white/40 bg-white/5",c=e=>"mission"===e?"bg-nexus-cyan":"finding"===e?"bg-nexus-violet":"bg-white";return i?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4 text-nexus-cyan/40",children:[e.jsx(y,{className:"animate-spin-slow",size:48}),e.jsx("p",{className:"font-orbitron text-[10px] tracking-[0.5em]",children:"SYNCING SOVEREIGN MEMORY..."})]}):e.jsxs("div",{className:"relative w-full h-full bg-black/20 rounded-3xl overflow-hidden",ref:a,children:[e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(34,211,238,0.05)_1px,transparent_1px),linear-gradient(90deg,rgba(34,211,238,0.05)_1px,transparent_1px)] bg-[size:40px_40px] pointer-events-none"}),e.jsxs("div",{className:"relative z-10 p-6 flex flex-wrap gap-8 items-center justify-center min-h-full",children:[r.nodes.map((t,r)=>{return e.jsxs(s.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1,y:[0,r%2==0?10:-10,0]},transition:{opacity:{delay:.1*r},scale:{delay:.1*r},y:{repeat:1/0,duration:4+r,ease:"easeInOut"}},whileHover:{scale:1.1,zIndex:50},className:"relative p-6 rounded-2xl border backdrop-blur-xl shadow-2xl cursor-pointer group "+(n=t.type,"mission"===n?"border-nexus-cyan/30 bg-nexus-cyan/5":"finding"===n?"border-nexus-violet/30 bg-nexus-violet/5":"border-white/10 bg-white/5"),children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:`p-3 rounded-xl ${l(t.type)}`,children:["mission"===t.type&&e.jsx(m,{size:20}),"finding"===t.type&&e.jsx(b,{size:20}),"concept"===t.type&&e.jsx(u,{size:20})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] opacity-40 font-orbitron tracking-widest uppercase mb-1",children:t.type}),e.jsx("div",{className:"text-sm font-bold text-white group-hover:text-nexus-cyan transition-colors",children:t.label})]})]}),e.jsx("div",{className:`absolute inset-0 rounded-2xl blur-xl opacity-0 group-hover:opacity-20 transition-opacity pointer-events-none ${c(t.type)}`})]},t.id);var n}),0===r.nodes.length&&e.jsx("div",{className:"text-nexus-silver/20 font-orbitron uppercase text-xs tracking-[0.4em]",children:"No se han detectado nodos de inteligencia activas"})]}),e.jsxs("div",{className:"absolute bottom-6 left-6 flex gap-6 z-20",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-nexus-cyan shadow-cyan-glow"}),e.jsx("span",{className:"text-[9px] font-orbitron text-white/40 tracking-widest uppercase",children:"Misiones"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-nexus-violet shadow-violet-glow"}),e.jsx("span",{className:"text-[9px] font-orbitron text-white/40 tracking-widest uppercase",children:"Hallazgos"})]})]})]})},Tr=()=>{const{notify:r}=L(),[n,i]=t.useState(""),[o,l]=t.useState([]),[c,u]=t.useState(!1),[f,d]=t.useState(!0),[h,p]=t.useState(!1),[g,y]=t.useState(!1),[j,T]=t.useState(!1),[O,C]=t.useState(null),[k,M]=t.useState("terminal"),[D,P]=t.useState({}),[z,K]=t.useState(null),[G,V]=t.useState([]);t.useEffect(()=>{H(),"sentinel"===k&&F()},[k]);const H=async()=>{try{const e=await Sr.getRecentMissions();l(e)}catch(e){}},F=async()=>{try{const e=await Sr.getResourceForecast();e.success&&V(e.forecasts)}catch(e){}},Y=async(e,t)=>{r(t?"AUTORIZANDO REPARACI\xd3N":"RECHAZANDO PROPUESTA","Enviando comando soberano...","info");try{await Sr.launchMission(`[REPAIR_AUTH] proposalId=${e.id} approved=${t}`),r(t?"ACCI\xd3N AUTORIZADA":"REPARACI\xd3N CANCELADA","El sistema ha procesado el comando.","success"),H()}catch(n){r("ERROR DE COMANDO","No se pudo procesar la autorizaci\xf3n.","error")}},$=o.filter(e=>e.metadata?.isHealingProposal),q=o.filter(e=>!e.metadata?.isHealingProposal);return e.jsxs("div",{className:"flex flex-col h-full smooth-mesh-bg text-white font-sans overflow-hidden",children:[e.jsxs("div",{className:"p-8 border-b border-white/5 flex justify-between items-center bg-black/50 backdrop-blur-md",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-orbitron font-bold tracking-[0.2em] text-transparent bg-clip-text bg-linear-to-r from-nexus-cyan via-white to-nexus-violet",children:"SOVEREIGN INTELLIGENCE HUB"}),e.jsx("p",{className:"text-nexus-silver/40 text-xs font-orbitron tracking-widest mt-2 uppercase",children:"Centro de Mando de Enjambre Aut\xf3nomo v2.5"})]}),e.jsxs("div",{className:"flex gap-4 items-center",children:[$.length>0&&!f&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-amber-500/10 border border-amber-500/30 rounded-lg animate-pulse",children:[e.jsx(w,{size:12,className:"text-amber-500"}),e.jsx("span",{className:"text-[10px] text-amber-500 font-orbitron font-bold",children:"SYSTEM HEALING REQUIRED"})]}),e.jsx("div",{className:"flex flex-col items-end mr-4",children:e.jsx("button",{onClick:f?async()=>{p(!0);try{const e=await Sr.generateAuthenticationOptions(),t=await ie(e);await Sr.verifyAuthentication(t);if(!(await(async()=>(y(!0),r("DESAF\xcdO BIOM\xc9TRICO",'Habla ahora para verificar tu identidad: "Soberan\xeda AIGestion activa"',"info"),new Promise(e=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(t=>{const r=new MediaRecorder(t),n=[];r.ondataavailable=e=>n.push(e.data),r.onstop=async()=>{const t=new Blob(n,{type:"audio/webm"}),r=new FileReader;r.readAsDataURL(t),r.onloadend=async()=>{const t=r.result.split(",")[1];try{await Sr.verifyVoice(t),e(!0)}catch(n){e(!1)}finally{y(!1)}}},r.start(),setTimeout(()=>r.stop(),4e3)}).catch(()=>{y(!1),e(!1)})})))()))throw new Error("Biometric verification failed");r("ESTABLECIENDO CANAL PQC","Iniciando intercambio de llaves cu\xe1nticas...","info");const n=await Sr.initiateSovereignHandshake();C(n.sessionToken),d(!1),r("SOVEREIGN ACCESS GRANTED","Canal cu\xe1ntico y biometr\xeda verificados. B\xf3veda desbloqueada.","success"),H()}catch(e){r("ACCESO DENEGADO","Fallo en la verificaci\xf3n multi-factor (Llave + Voz).","error")}finally{p(!1)}}:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 rounded-xl text-[10px] font-orbitron font-bold transition-all "+(f?"bg-red-500/10 text-red-500 border border-red-500/30 animate-pulse":"bg-green-500/10 text-green-500 border border-green-500/30"),children:h?"VERIFICANDO...":f?e.jsxs(e.Fragment,{children:[e.jsx(v,{size:12})," VAULT LOCKED"]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{size:12})," VAULT OPEN"]})})}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-[10px] text-nexus-cyan font-bold tracking-widest",children:"IA STATUS"}),e.jsx("span",{className:"text-xs text-white/80 animate-pulse uppercase",children:f?"RESTRICTED":"GOD MODE ACTIVE"})]}),O&&e.jsxs("div",{className:"flex flex-col items-start px-3 py-1 bg-nexus-cyan/5 rounded-lg border border-nexus-cyan/20",children:[e.jsx("span",{className:"text-[8px] text-nexus-cyan font-bold tracking-[0.2em]",children:"PQC SESSION"}),e.jsxs("span",{className:"text-[9px] text-white/40 font-mono",children:[O.substring(0,12),"..."]})]}),e.jsx("div",{className:"w-10 h-10 rounded-full border flex items-center justify-center cursor-pointer transition-all "+(g?"bg-red-500/20 border-red-500 animate-pulse":"bg-nexus-cyan/20 border-nexus-cyan/40 hover:bg-nexus-cyan/40"),onClick:async()=>{y(!0),r("GRABANDO BIOMETR\xcdA",'Habla ahora: "Soberan\xeda AIGestion activa"',"info");try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e),n=[];t.ondataavailable=e=>n.push(e.data),t.onstop=async()=>{const e=new Blob(n,{type:"audio/webm"}),t=new FileReader;t.readAsDataURL(e),t.onloadend=async()=>{const e=t.result.split(",")[1];await Sr.enrollVoice(e),r("BIO-LLAVE REGISTRADA","Tu huella de voz ha sido vinculada al vault.","success"),T(!1),y(!1)}},t.start(),setTimeout(()=>t.stop(),4e3)}catch(e){r("FALLO BIOM\xc9TRICO","No se pudo acceder al micr\xf3fono.","error"),y(!1)}},title:"Enroll Sovereign VoiceKey",children:e.jsx(x,{size:20,className:g?"text-red-500":"text-nexus-cyan shadow-glow"})}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-nexus-cyan/20 border border-nexus-cyan/40 flex items-center justify-center cursor-pointer hover:bg-nexus-cyan/40 transition-all",onClick:async()=>{try{const e=await Sr.generateRegistrationOptions(),t=await te(e);await Sr.verifyRegistration(t),r("LLAVE REGISTRADA","Tu identidad soberana ha sido vinculada al hardware.","success")}catch(e){r("FALLO DE REGISTRO","No se pudo vincular la llave f\xedsica.","error")}},title:"Register Hardware Key",children:e.jsx(E,{size:20,className:"text-nexus-cyan shadow-glow"})})]})]}),e.jsx(a,{children:g&&e.jsxs(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-xl flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"relative w-48 h-48 flex items-center justify-center",children:[e.jsx(s.div,{animate:{scale:[1,1.5,1],opacity:[.2,.5,.2]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 bg-red-500 rounded-full"}),e.jsx("div",{className:"relative w-24 h-24 rounded-full bg-red-500 flex items-center justify-center shadow-red-glow",children:e.jsx(x,{size:40,className:"text-white"})})]}),e.jsx("h2",{className:"text-2xl font-orbitron font-bold text-white mt-8 tracking-widest uppercase",children:"Escaneando Biometr\xeda de Voz"}),e.jsx("p",{className:"text-nexus-silver/60 font-orbitron text-xs mt-4 animate-pulse",children:'Habla ahora: "Soberan\xeda AIGestion activa"'})]})}),e.jsxs("div",{className:"flex-grow overflow-hidden flex",children:[e.jsxs("div",{className:"w-20 border-r border-white/5 flex flex-col items-center py-8 gap-8",children:[e.jsx("button",{onClick:()=>M("terminal"),className:"p-3 rounded-xl transition-all "+("terminal"===k?"bg-nexus-cyan/10 text-nexus-cyan border border-nexus-cyan/30":"text-white/30 hover:text-white"),title:"TERMINAL",children:e.jsx(N,{size:24})}),e.jsx("button",{onClick:()=>M("missions"),className:"p-3 rounded-xl transition-all "+("missions"===k?"bg-nexus-violet/10 text-nexus-violet border border-nexus-violet/30":"text-white/30 hover:text-white"),title:"MISIONES",children:e.jsxs("div",{className:"relative",children:[e.jsx(w,{size:24}),$.length>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-amber-500 rounded-full animate-ping"})]})}),e.jsx("button",{onClick:()=>M("memory"),className:"p-3 rounded-xl transition-all "+("memory"===k?"bg-nexus-cyan/10 text-nexus-cyan border border-white/10":"text-white/30 hover:text-white"),title:"MEMORIA",children:e.jsx(R,{size:24})}),e.jsx("button",{onClick:()=>M("sentinel"),className:"p-3 rounded-xl transition-all "+("sentinel"===k?"bg-nexus-violet/10 text-nexus-violet border border-nexus-violet/30":"text-white/30 hover:text-white"),title:"CENTINELA",children:e.jsx(_,{size:24})})]}),e.jsx("div",{className:"flex-grow p-10 overflow-y-auto custom-scrollbar",children:e.jsxs(a,{mode:"wait",children:["terminal"===k&&e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"max-w-4xl mx-auto space-y-12",children:[$.length>0&&!f&&e.jsxs(s.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-6 rounded-2xl bg-amber-500/10 border border-amber-500/30 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500/20 flex items-center justify-center",children:e.jsx(w,{className:"text-amber-500"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-orbitron font-bold text-amber-500",children:"ANOMAL\xcdA DETECTADA"}),e.jsxs("p",{className:"text-xs text-nexus-silver/60",children:["Se requieren ",$.length," acciones de reparaci\xf3n soberana."]})]})]}),e.jsx("button",{onClick:()=>M("missions"),className:"text-[10px] font-orbitron font-bold px-4 py-2 bg-amber-500/20 text-amber-500 rounded-lg hover:bg-amber-500/30 transition-all",children:"REVISAR PROPUESTAS"})]}),e.jsxs("section",{className:"premium-glass p-8 rounded-3xl border border-white/5 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:e.jsx(m,{size:80})}),e.jsx("h3",{className:"text-xl font-orbitron font-bold text-nexus-cyan mb-6 tracking-wider",children:"DEPLEGAR MISI\xd3N DE ENJAMBRE"}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:n,onChange:e=>i(e.target.value),placeholder:"Define el objetivo estrat\xe9gico para el enjambre soberano...",className:"w-full h-32 bg-black/40 border border-white/10 rounded-2xl p-6 text-nexus-silver focus:border-nexus-cyan/50 outline-none transition-all resize-none placeholder:text-white/10"}),e.jsx("div",{className:"absolute bottom-4 right-4",children:e.jsx("button",{onClick:async()=>{if(n.trim()){u(!0),r("INICIANDO ENJAMBRE",`Objetivo: ${n.substring(0,30)}...`,"info");try{await Sr.launchMission(n),r("MISI\xd3N DESPLEGADA","El enjambre aut\xf3nomo ha comenzado la investigaci\xf3n.","success"),i(""),H()}catch(e){r("ERROR DE DESPLIEGUE","No se pudo inicializar el enjambre soberano.","error")}finally{u(!1)}}},disabled:c||!n.trim(),className:"flex items-center gap-3 bg-gradient-to-r from-nexus-cyan to-nexus-violet px-8 py-3 rounded-xl font-orbitron font-bold text-xs tracking-widest uppercase hover:shadow-cyan-glow transition-all disabled:opacity-50",children:c?"DESPLEGANDO...":e.jsxs(e.Fragment,{children:[e.jsx(B,{size:16,fill:"white"}),"INICIAR MISI\xd3N"]})})})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5 flex flex-col justify-between",children:[e.jsx("span",{className:"text-[10px] font-orbitron text-white/30 uppercase tracking-widest",children:"Estado Bridge"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-nexus-cyan animate-pulse"}),e.jsx("span",{className:"text-nexus-cyan text-xs font-bold",children:"SOVEREIGN_TUNNEL:8000"})]})]}),G.map(t=>e.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5",children:[e.jsxs("span",{className:"text-[10px] font-orbitron text-white/30 uppercase tracking-widest",children:["Proyecci\xf3n de ",t.metric]}),e.jsxs("div",{className:"flex items-baseline gap-2 mt-1",children:[e.jsxs("span",{className:"text-xl font-orbitron font-bold text-nexus-silver",children:[Math.round(t.currentValue),"%"]}),e.jsxs("span",{className:"text-[10px] "+(t.predictedValue1h>t.currentValue?"text-amber-500":"text-nexus-cyan"),children:["\u2192 ",Math.round(t.predictedValue1h),"% (1h)"]})]})]},t.metric))]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5",children:[e.jsx("div",{className:"text-[10px] text-nexus-cyan font-bold tracking-widest mb-1 uppercase",children:"ORQUESTACI\xd3N"}),e.jsx("p",{className:"text-xs text-nexus-silver/60",children:"Multimodelo y multiagente aut\xf3nomo."})]}),e.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5",children:[e.jsx("div",{className:"text-[10px] text-nexus-violet font-bold tracking-widest mb-1 uppercase",children:"SOBERAN\xcdA"}),e.jsx("p",{className:"text-xs text-nexus-silver/60",children:"Datos persistidos en Knowledge Graph privado."})]}),e.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5",children:[e.jsx("div",{className:"text-[10px] text-green-400 font-bold tracking-widest mb-1 uppercase",children:"ZERO TRUST"}),e.jsx("p",{className:"text-xs text-nexus-silver/60",children:"Comunicaci\xf3n cifrada inter-servicios."})]})]})]}),e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 no-scrollbar",children:["NEUROCORE_READY","SWARM_ENGINE_STABLE","MEMORY_GRAPH_SYNCED"].map(t=>e.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 px-4 py-2 rounded-full border border-white/10 bg-black/40 text-[9px] font-orbitron tracking-widest text-nexus-silver/40",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-nexus-cyan animate-pulse"}),t]},t))})]}),"missions"===k&&e.jsxs(s.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"mb-8 flex justify-between items-end",children:[e.jsx("h3",{className:"text-2xl font-orbitron font-bold tracking-tighter",children:"HISTORIAL DE OPERACIONES"}),e.jsx("button",{onClick:H,className:"text-nexus-cyan hover:text-white transition-colors",children:e.jsx(I,{size:20})})]}),$.length>0&&e.jsxs("div",{className:"mb-12",children:[e.jsx("h4",{className:"text-xs font-orbitron font-bold text-amber-500 mb-6 tracking-[0.2em] uppercase",children:"\u26a0\ufe0f Propuestas de Autocuraci\xf3n (Requiere Autorizaci\xf3n Soberana)"}),e.jsx("div",{className:"grid gap-4",children:$.map(t=>e.jsxs("div",{className:"bg-amber-500/5 border border-amber-500/20 p-6 rounded-2xl flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-500/10 flex items-center justify-center",children:e.jsx(m,{className:"text-amber-500"})}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-bold text-amber-500/80",children:t.objective}),e.jsx("p",{className:"text-[10px] text-nexus-silver/40 uppercase tracking-widest mt-1",children:"Acci\xf3n sugerida por el detective de infraestructura"})]})]}),f?e.jsxs("div",{className:"text-[10px] text-nexus-silver/30 font-orbitron flex items-center gap-2",children:[e.jsx(v,{size:12})," UNLOCK VAULT TO ACTION"]}):e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>Y(t,!1),className:"px-4 py-2 rounded-lg border border-red-500/30 text-red-500 text-[10px] font-bold hover:bg-red-500/5 transition-all",children:"DENY"}),e.jsx("button",{onClick:()=>Y(t,!0),className:"px-6 py-2 bg-amber-500 text-black rounded-lg text-[10px] font-bold hover:shadow-amber-glow transition-all",children:"AUTHORIZE"})]})]},t.id))})]}),e.jsx("h4",{className:"text-xs font-orbitron font-bold text-nexus-cyan mb-6 tracking-[0.2em] uppercase",children:"Misiones de Investigaci\xf3n"}),e.jsxs("div",{className:"grid gap-6",children:[q.map(t=>e.jsxs("div",{className:"bg-[#111] p-6 rounded-2xl border border-white/5 group hover:border-nexus-cyan/20 transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 rounded-full "+("completed"===t.status?"bg-green-500/10 text-green-400":"bg-nexus-cyan/10 text-nexus-cyan animate-pulse"),children:"completed"===t.status?e.jsx(S,{size:24}):e.jsx(w,{size:24})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-nexus-silver group-hover:text-nexus-cyan transition-colors",children:t.objective}),e.jsxs("div",{className:"flex gap-4 mt-2 text-[10px] text-white/30 uppercase tracking-widest",children:[e.jsxs("span",{children:["ID: ",t.id]}),e.jsx("span",{children:new Date(t.createdAt).toLocaleString()}),e.jsx("span",{className:"completed"===t.status?"text-green-500":"text-nexus-cyan",children:t.status})]})]})]}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:t.isEncrypted&&f?e.jsxs("div",{className:"flex items-center gap-2 text-red-400 text-xs font-orbitron",children:[e.jsx(v,{size:14})," ENCRYPTED"]}):e.jsx("button",{onClick:()=>(async e=>{if(!D[e.id]){K(e.id);try{const t={iv:e.vaultIV||"",ciphertext:e.results||"",tag:e.vaultTag||""},n=await Sr.decryptFinding(t);P(t=>({...t,[e.id]:n})),r("DATOS DESBLOQUEADOS",`Hallazgos de misi\xf3n ${e.id} desencriptados.`,"success")}catch(t){r("FALLO DE DESENCRIPTACI\xd3N","No se pudo validar la firma del vault.","error")}finally{K(null)}}})(t),disabled:z===t.id,className:"bg-white/10 px-4 py-2 rounded-lg text-xs font-bold hover:bg-white/20 disabled:opacity-50",children:z===t.id?"DECRYPTING...":D[t.id]?"UNLOCKED":"VER FINDINGS"})})]}),D[t.id]&&e.jsxs(s.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},className:"mt-4 p-6 bg-black/60 rounded-xl border border-nexus-cyan/20 text-xs font-mono text-nexus-silver/80 leading-relaxed whitespace-pre-wrap",children:[e.jsxs("div",{className:"text-[9px] text-nexus-cyan mb-2 font-bold tracking-widest uppercase flex items-center gap-2",children:[e.jsx(A,{size:10})," Sovereign Vault Clearance: GRANTED"]}),D[t.id]]})]},t.id)),0===q.length&&e.jsxs("div",{className:"text-center py-20 text-white/20",children:[e.jsx(b,{size:40,className:"mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"font-orbitron tracking-widest text-sm",children:"SIN MISIONES REGISTRADAS"})]})]})]}),"memory"===k&&e.jsxs(s.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.05},className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h3",{className:"text-2xl font-orbitron font-bold tracking-tighter",children:"SOVEREIGN KNOWLEDGE GRAPH"}),e.jsx("div",{className:"text-[10px] text-nexus-silver/40 font-orbitron tracking-[0.3em] uppercase",children:"Visualizador de Memoria Distribuida (Grafo de Conocimiento)"})]}),e.jsx("div",{className:"flex-grow bg-black/40 rounded-3xl border border-nexus-cyan/10 border-dashed relative overflow-hidden",children:e.jsx(Ur,{})})]}),"sentinel"===k&&e.jsxs(s.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.05},className:"max-w-6xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-orbitron font-bold text-nexus-variant",children:"SENTINEL: INTELIGENCIA TEMPORAL"}),e.jsx("p",{className:"text-nexus-silver/50 tracking-[0.2em] text-xs mt-2 uppercase",children:"Proyecci\xf3n de Infraestructura y Predicci\xf3n de Fallos"})]}),e.jsxs("div",{className:"px-4 py-2 rounded-lg bg-nexus-violet/10 border border-nexus-violet/30 flex items-center gap-3",children:[e.jsx(w,{className:"text-nexus-violet animate-pulse",size:16}),e.jsx("span",{className:"text-[10px] font-orbitron text-nexus-violet font-bold",children:"SENTINEL_ACTIVE"})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:G.map((t,r)=>e.jsxs(s.div,{initial:{opacity:0,x:r%2==0?-20:20},animate:{opacity:1,x:0},transition:{delay:.1*r},className:"premium-glass p-8 rounded-3xl border border-white/5 hover:border-nexus-violet/30 transition-all duration-500",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-nexus-silver font-orbitron font-bold tracking-widest",children:[t.metric," EVOLUTION"]}),e.jsx("p",{className:"text-[10px] text-white/20 mt-1 uppercase",children:"Basado en regresi\xf3n lineal (Ventana 1h)"})]}),e.jsx("div",{className:"w-12 h-12 rounded-xl bg-nexus-violet/20 flex items-center justify-center",children:e.jsx(U,{className:"text-nexus-violet"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsx("span",{className:"text-xs text-white/40 uppercase",children:"Carga Actual"}),e.jsxs("span",{className:"text-3xl font-orbitron font-bold text-nexus-cyan",children:[Math.round(t.currentValue),"%"]})]}),e.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:e.jsx(s.div,{initial:{width:0},animate:{width:`${t.currentValue}%`},className:"h-full bg-nexus-cyan shadow-[0_0_10px_rgba(34,211,238,0.5)]"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-white/5",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] text-white/30 uppercase block mb-1",children:"Proj. 1 Hora"}),e.jsxs("span",{className:"text-lg font-orbitron font-bold "+(t.predictedValue1h>90?"text-red-500":"text-amber-500"),children:[Math.round(t.predictedValue1h),"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] text-white/30 uppercase block mb-1",children:"Proj. 24 Horas"}),e.jsxs("span",{className:"text-lg font-orbitron font-bold text-nexus-silver",children:[Math.round(t.predictedValue24h),"%"]})]})]}),t.timeToThresholdMs&&e.jsxs("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/30",children:[e.jsxs("h4",{className:"text-[10px] font-orbitron font-bold text-red-500 uppercase flex items-center gap-2",children:[e.jsx(m,{size:12})," CRITICAL BOTTLE_NECK_PREDICTED"]}),e.jsxs("p",{className:"text-xs text-nexus-silver/80 mt-1",children:["Agotamiento de recursos estimado en:"," ",e.jsxs("strong",{children:[Math.round(t.timeToThresholdMs/6e4)," minutos"]})]})]})]})]},t.metric))}),e.jsxs("div",{className:"premium-glass p-8 rounded-3xl border border-white/5 mt-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(R,{className:"text-nexus-cyan"}),e.jsx("h3",{className:"text-xl font-orbitron font-bold text-nexus-cyan tracking-wider uppercase",children:"Sovereign Bridge (Network isolation)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[e.jsx("span",{className:"text-[10px] text-white/30 uppercase block mb-2",children:"Internal Overlay"}),e.jsx("code",{className:"text-xs text-nexus-violet",children:"swarm-private-net"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[e.jsx("span",{className:"text-[10px] text-white/30 uppercase block mb-2",children:"socat Gateway"}),e.jsx("code",{className:"text-xs text-nexus-cyan",children:"sovereign-bridge:8000"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-green-500/10 border border-green-500/30 flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] text-green-500 font-bold uppercase tracking-widest",children:"Isolation Status"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{size:16,className:"text-green-500"}),e.jsx("span",{className:"text-xs text-green-500 font-bold uppercase",children:"SECURED"})]})]})]})]})]})]})})]})]})},Or=({user:t,onLogout:r})=>{const{activeActivity:n}=z();return e.jsx("div",{className:"w-full h-full overflow-hidden bg-transparent",children:e.jsx("div",{className:"h-full w-full overflow-y-auto custom-scrollbar",children:(()=>{switch(n){case"dashboard":default:return e.jsx(k,{user:t,onLogout:r});case"intelligence":return e.jsx(Tr,{});case"search":return e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[e.jsx("div",{className:"text-2xl font-light mb-2",children:"Global Search"}),e.jsx("p",{children:"Search results will appear here"})]});case"settings":return e.jsxs("div",{className:"p-10 text-white font-sans bg-[#050505] min-h-full",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8 text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500",children:"Settings"}),e.jsxs("div",{className:"grid gap-6 max-w-xl",children:[e.jsxs("div",{className:"bg-[#111] p-6 rounded-xl border border-white/5 shadow-2xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/5 to-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx("label",{className:"block text-sm font-bold mb-3 text-gray-300",children:"Theme Preference"}),e.jsxs("select",{className:"w-full bg-black/50 border border-white/10 rounded-lg p-3 text-sm focus:border-cyan-500/50 outline-none text-gray-300 backdrop-blur-sm",children:[e.jsx("option",{children:"Cyberpunk Dark (Default)"}),e.jsx("option",{children:"Nebula Blue"}),e.jsx("option",{children:"Matrix Green"})]})]}),e.jsxs("div",{className:"bg-[#111] p-6 rounded-xl border border-white/5 shadow-2xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/5 to-pink-500/5 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx("label",{className:"block text-sm font-bold mb-3 text-gray-300",children:"Daniela Personality"}),e.jsxs("select",{className:"w-full bg-black/50 border border-white/10 rounded-lg p-3 text-sm focus:border-purple-500/50 outline-none text-gray-300 backdrop-blur-sm",children:[e.jsx("option",{children:"Professional (Technical)"}),e.jsx("option",{children:"Casual (Friendly)"}),e.jsx("option",{children:"Creative (Brainstorming)"})]})]})]})]})}})()})})},Cr=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1.5 hover:bg-white/10 px-2 py-0.5 rounded cursor-pointer transition-colors group",children:[e.jsx(T,{size:12,className:"text-cyan-400 group-hover:drop-shadow-[0_0_5px_cyan]"}),e.jsx("span",{className:"font-semibold text-gray-300 group-hover:text-white",children:"main"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 hover:bg-white/10 px-2 py-0.5 rounded cursor-pointer transition-colors",children:[e.jsx(S,{size:12,className:"text-gray-400"}),e.jsx("span",{className:"text-gray-400 text-[10px]",children:"Todo Perfecto"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 hover:bg-white/10 px-2 py-0.5 rounded cursor-pointer transition-colors",children:[e.jsx("span",{className:"text-gray-500",children:"Ln 14, Col 32"}),e.jsx("span",{className:"text-gray-500",children:"UTF-8"}),e.jsx("span",{className:"text-cyan-600 font-bold text-[10px]",children:"TSX"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 hover:bg-purple-500/10 px-2 py-0.5 rounded cursor-pointer transition-colors group",children:[e.jsx(w,{size:12,className:"text-purple-400 animate-pulse"}),e.jsx("div",{className:"w-12 h-4 relative overflow-hidden hidden md:block",children:e.jsxs(s.svg,{viewBox:"0 0 100 20",className:"absolute inset-0 w-full h-full text-purple-400/30",children:[e.jsx(s.path,{d:"M 0,10 L 20,10 L 25,2 L 30,18 L 35,10 L 100,10",fill:"none",stroke:"currentColor",strokeWidth:"1",animate:{x:[0,-100]},transition:{duration:2,repeat:1/0,ease:"linear"}}),e.jsx(s.path,{d:"M 100,10 L 120,10 L 125,2 L 130,18 L 135,10 L 200,10",fill:"none",stroke:"currentColor",strokeWidth:"1",animate:{x:[0,-100]},transition:{duration:2,repeat:1/0,ease:"linear"}})]})}),e.jsx("span",{className:"text-purple-300 group-hover:text-purple-200 transition-colors",children:"Cerebro: Muy bien"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 hover:bg-green-500/10 px-2 py-0.5 rounded cursor-pointer transition-colors",children:[e.jsx(O,{size:12,className:"text-green-400"}),e.jsx("span",{className:"text-green-300",children:"Conectado"})]}),e.jsx(C,{size:12,className:"text-gray-400 hover:text-white cursor-pointer"})]})]}),kr=({user:t,onLogout:r})=>e.jsx(P,{children:e.jsx(K,{activityBar:e.jsx(G,{}),sideBar:e.jsx(H,{}),mainArea:e.jsx(Or,{user:t,onLogout:r}),statusBar:e.jsx(Cr,{})})});export{kr as WorkbenchLayout};
